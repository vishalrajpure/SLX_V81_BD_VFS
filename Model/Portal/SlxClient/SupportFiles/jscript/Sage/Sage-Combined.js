require({cache:{"dijit/form/nls/validate":function(){define("dijit/form/nls/validate",{root:({invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"url:dijit/templates/CheckedMenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitemcheckbox" tabIndex="-1"\r\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\r\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\r\n\t\t<img src="${_blankGif}" alt="" class="dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point="iconNode"/>\r\n\t\t<span class="dijitCheckedMenuItemIconChar">&#10003;</span>\r\n\t</td>\r\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,labelNode"></td>\r\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\r\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">&#160;</td>\r\n</tr>\r\n',"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\r\n\t\t\t${!nameAttrSetting} type=\'${type}\'\r\n\t/></div\r\n></div>\r\n'}});define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html",".."],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){var _c=_1([_8,_9],{templateString:_a,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',_buttonInputDisabled:_6("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var _d=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((_d=="hidden"||_d=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},_onInput:function(e){this.inherited(arguments);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_2.create("span",{className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(document.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.focused&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_e,_f,_10){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_4.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use set('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_11){_4.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_11);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(_6("ie")){_c=_1(_c,{declaredClass:"dijit.form.TextBox",_isTextSelected:function(){var _12=_7.doc.selection.createRange();var _13=_12.parentElement();return _13==this.textbox&&_12.text.length==0;},postCreate:function(){this.inherited(arguments);this.defer(function(){try{var s=_3.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _14=this.domNode.getElementsByTagName("INPUT");if(_14){for(var i=0;i<_14.length;i++){_14[i].style.fontFamily=ff;}}}}}catch(e){}});}});_b._setSelectionRange=_9._setSelectionRange=function(_15,_16,_17){if(_15.createTextRange){var r=_15.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_16);r.moveEnd("character",_17-_16);r.select();}};}else{if(_6("mozilla")){_c=_1(_c,{declaredClass:"dijit.form.TextBox",_onBlur:function(e){this.inherited(arguments);if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}});}else{_c.prototype.declaredClass="dijit.form.TextBox";}}_5.setObject("dijit.form.TextBox",_c);return _c;});},"dijit/_base/scroll":function(){define("dijit/_base/scroll",["dojo/window",".."],function(_18,_19){_19.scrollIntoView=function(_1a,pos){_18.scrollIntoView(_1a,pos);};});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(_1b,_1c,_1d,_1e,_1f,_20,_21,_22,has,_23,win){var _24=_21("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(_25){var _26=this.declaredClass,_27=this;return _1e.substitute(_25,this,function(_28,key){if(key.charAt(0)=="!"){_28=_1b.getObject(key.substr(1),false,_27);}if(typeof _28=="undefined"){throw new Error(_26+" template:"+key);}if(_28==null){return"";}return key.charAt(0)=="!"?_28:_28.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_1f(this.templatePath,{sanitize:true});}var _29=_24.getCachedTemplate(this.templateString,this._skipNodeCache);var _2a;if(_1b.isString(_29)){_2a=_22.toDom(this._stringRepl(_29));if(_2a.nodeType!=1){throw new Error("Invalid template: "+_29);}}else{_2a=_29.cloneNode(true);}this.domNode=_2a;this.inherited(arguments);this._attachTemplateNodes(_2a,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_2b){var _2c,_2d,_2e;_2c=this.containerNode;_2d=document.createDocumentFragment();_2e=false;if(_2b&&_2c){while(_2b.hasChildNodes()){_2d.appendChild(_2b.firstChild);_2e=true;}if(_2e){_2c.appendChild(_2d);}}},_attachTemplateNodes:function(_2f,_30){var _31=_1b.isArray(_2f)?_2f:(_2f.all||_2f.getElementsByTagName("*"));var x=_1b.isArray(_2f)?0:-1;for(;x<_31.length;x++){var _32=(x==-1)?_2f:_31[x];if(this.widgetsInTemplate&&(_30(_32,"dojoType")||_30(_32,"data-dojo-type"))){continue;}var _33=_30(_32,"dojoAttachPoint")||_30(_32,"data-dojo-attach-point");if(_33){var _34,_35=_33.split(/\s*,\s*/);while((_34=_35.shift())){if(_1b.isArray(this[_34])){this[_34].push(_32);}else{this[_34]=_32;}this._attachPoints.push(_34);}}var _36=_30(_32,"dojoAttachEvent")||_30(_32,"data-dojo-attach-event");if(_36){var _37,_38=_36.split(/\s*,\s*/);var _39=_1b.trim;while((_37=_38.shift())){if(_37){var _3a=null;if(_37.indexOf(":")!=-1){var _3b=_37.split(":");_37=_39(_3b[0]);_3a=_39(_3b[1]);}else{_37=_39(_37);}if(!_3a){_3a=_37;}this._attachEvents.push(this.connect(_32,_1c[_37]||_37,_3a));}}}}},destroyRendering:function(){_20.forEach(this._attachPoints,function(_3c){delete this[_3c];},this);this._attachPoints=[];_20.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_24._templateCache={};_24.getCachedTemplate=function(_3d,_3e){var _3f=_24._templateCache;var key=_3d;var _40=_3f[key];if(_40){try{if(!_40.ownerDocument||_40.ownerDocument==win.doc){return _40;}}catch(e){}_22.destroy(_40);}_3d=_1e.trim(_3d);if(_3e||_3d.match(/\$\{([^\}]+)\}/g)){return(_3f[key]=_3d);}else{var _41=_22.toDom(_3d);if(_41.nodeType!=1){throw new Error("Invalid template: "+_3d);}return(_3f[key]=_41);}};if(has("ie")){_23.addOnWindowUnload(function(){var _42=_24._templateCache;for(var key in _42){var _43=_42[key];if(typeof _43=="object"){_22.destroy(_43);}delete _42[key];}});}_1b.extend(_1d,{dojoAttachEvent:"",dojoAttachPoint:""});return _24;});},"dijit/_Templated":function(){define("dijit/_Templated",["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_44,_45,_46,_47,_48,_49,_4a){_49.extend(_44,{waiRole:"",waiState:""});return _48("dijit._Templated",[_45,_46],{widgetsInTemplate:false,constructor:function(){_4a.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");},_attachTemplateNodes:function(_4b,_4c){this.inherited(arguments);var _4d=_49.isArray(_4b)?_4b:(_4b.all||_4b.getElementsByTagName("*"));var x=_49.isArray(_4b)?0:-1;for(;x<_4d.length;x++){var _4e=(x==-1)?_4b:_4d[x];var _4f=_4c(_4e,"waiRole");if(_4f){_4e.setAttribute("role",_4f);}var _50=_4c(_4e,"waiState");if(_50){_47.forEach(_50.split(/\s*,\s*/),function(_51){if(_51.indexOf("-")!=-1){var _52=_51.split("-");_4e.setAttribute("aria-"+_52[0],_52[1]);}});}}}});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/touch","dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/_base/window"],function(_53,_54,_55,_56,_57,win){return _55("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_54.forEach(["onmouseenter","onmouseleave",_53.press],function(e){this.connect(this.domNode,e,"_cssMouseEvent");},this);_54.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active"],function(_58){this.watch(_58,_57.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._setStateClass();},_cssMouseEvent:function(_59){if(!this.disabled){switch(_59.type){case"mouseenter":case"mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case"mouseleave":case"mouseout":this._set("hovering",false);this._set("active",false);break;case"mousedown":case"touchpress":this._set("active",true);this._mouseDown=true;var _5a=this.connect(win.body(),_53.release,function(){this._mouseDown=false;this._set("active",false);this.disconnect(_5a);});break;}}},_setStateClass:function(){var _5b=this.baseClass.split(" ");function _5c(_5d){_5b=_5b.concat(_54.map(_5b,function(c){return c+_5d;}),"dijit"+_5d);}if(!this.isLeftToRight()){_5c("Rtl");}var _5e=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_5c(_5e);}if(this.state){_5c(this.state);}if(this.selected){_5c("Selected");}if(this.disabled){_5c("Disabled");}else{if(this.readOnly){_5c("ReadOnly");}else{if(this.active){_5c("Active");}else{if(this.hovering){_5c("Hover");}}}}if(this.focused){_5c("Focused");}var tn=this.stateNode||this.domNode,_5f={};_54.forEach(tn.className.split(" "),function(c){_5f[c]=true;});if("_stateClasses" in this){_54.forEach(this._stateClasses,function(c){delete _5f[c];});}_54.forEach(_5b,function(c){_5f[c]=true;});var _60=[];for(var c in _5f){_60.push(c);}tn.className=_60.join(" ");this._stateClasses=_5b;},_trackMouseState:function(_61,_62){var _63=false,_64=false,_65=false;var _66=this,cn=_57.hitch(this,"connect",_61);function _67(){var _68=("disabled" in _66&&_66.disabled)||("readonly" in _66&&_66.readonly);_56.toggle(_61,_62+"Hover",_63&&!_64&&!_68);_56.toggle(_61,_62+"Active",_64&&!_68);_56.toggle(_61,_62+"Focused",_65&&!_68);}cn("onmouseenter",function(){_63=true;_67();});cn("onmouseleave",function(){_63=false;_64=false;_67();});cn(_53.press,function(){_64=true;_67();});cn(_53.release,function(){_64=false;_67();});cn("onfocus",function(){_65=true;_67();});cn("onblur",function(){_65=false;_67();});this.watch("disabled",_67);this.watch("readOnly",_67);}});});},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/dom-attr","dojo/_base/window","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe"],function(_69,_6a,win,_6b,_6c,_6d,_6e){return _69("dijit.DialogUnderlay",[_6c,_6d],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(id){_6a.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_6f){this.node.className="dijitDialogUnderlay "+_6f;this._set("class",_6f);},postCreate:function(){win.body().appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _70=_6b.getBox();os.top=_70.t+"px";os.left=_70.l+"px";is.width=_70.w+"px";is.height=_70.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new _6e(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});});},"url:dijit/form/templates/ComboButton.html":'<table class="dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing=\'0\' cellpadding=\'0\' role="presentation"\r\n\t><tbody role="presentation"><tr role="presentation"\r\n\t\t><td class="dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point="buttonNode" data-dojo-attach-event="ondijitclick:_onClick,onkeypress:_onButtonKeyPress"\r\n\t\t><div id="${id}_button" class="dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><div class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode" role="presentation"></div\r\n\t\t\t><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" data-dojo-attach-point="containerNode" role="presentation"></div\r\n\t\t></div\r\n\t\t></td\r\n\t\t><td id="${id}_arrow" class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point="_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event="onkeypress:_onArrowKeyPress"\r\n\t\t\ttitle="${optionsTitle}"\r\n\t\t\trole="button" aria-haspopup="true"\r\n\t\t\t><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\r\n\t\t\t><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\r\n\t\t></td\r\n\t\t><td style="display:none !important;"\r\n\t\t\t><input ${!nameAttrSetting} type="${type}" value="${value}" data-dojo-attach-point="valueNode"\r\n\t\t/></td></tr></tbody\r\n></table>\r\n',"dijit/layout/ScrollingTabController":function(){require({cache:{"url:dijit/layout/templates/ScrollingTabController.html":'<div class="dijitTabListContainer-${tabPosition}" style="visibility:hidden">\r\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerMenuButton"\r\n\t\t\tclass="tabStripButton-${tabPosition}"\r\n\t\t\tid="${id}_menuBtn"\r\n\t\t\tdata-dojo-props="containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\r\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\r\n\t\t\tdata-dojo-attach-point="_menuBtn" showLabel="false" title="">&#9660;</div>\r\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\r\n\t\t\tclass="tabStripButton-${tabPosition}"\r\n\t\t\tid="${id}_leftBtn"\r\n\t\t\tdata-dojo-props="iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\r\n\t\t\tdata-dojo-attach-point="_leftBtn" data-dojo-attach-event="onClick: doSlideLeft">&#9664;</div>\r\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\r\n\t\t\tclass="tabStripButton-${tabPosition}"\r\n\t\t\tid="${id}_rightBtn"\r\n\t\t\tdata-dojo-props="iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\r\n\t\t\tdata-dojo-attach-point="_rightBtn" data-dojo-attach-event="onClick: doSlideRight">&#9654;</div>\r\n\t<div class=\'dijitTabListWrapper\' data-dojo-attach-point=\'tablistWrapper\'>\r\n\t\t<div role=\'tablist\' data-dojo-attach-event=\'onkeypress:onkeypress\'\r\n\t\t\t\tdata-dojo-attach-point=\'containerNode\' class=\'nowrapTabStrip\'></div>\r\n\t</div>\r\n</div>',"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'<div data-dojo-attach-event="onclick:_onClick">\r\n\t<div role="presentation" class="dijitTabInnerDiv" data-dojo-attach-point="innerDiv,focusNode">\r\n\t\t<div role="presentation" class="dijitTabContent dijitButtonContents" data-dojo-attach-point="tabContent">\r\n\t\t\t<img role="presentation" alt="" src="${_blankGif}" class="dijitTabStripIcon" data-dojo-attach-point="iconNode"/>\r\n\t\t\t<span data-dojo-attach-point="containerNode,titleNode" class="dijitButtonText"></span>\r\n\t\t</div>\r\n\t</div>\r\n</div>'}});define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/query","dojo/_base/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom"],function(_71,_72,_73,_74,_75,fx,_76,_77,has,_78,_79,_7a,_7b,_7c,_7d,_7e,_7f,_80,_81){var _82=_72("dijit.layout.ScrollingTabController",[_7b,_7d],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_79,useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_73.add(n,"tabStrip-disabled");}_73.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_75.set(this.domNode,"visibility","");this._postStartup=true;},onAddChild:function(_83,_84){this.inherited(arguments);_71.forEach(["label","iconClass"],function(_85){this.pane2watches[_83.id].push(this.pane2button[_83.id].watch(_85,_76.hitch(this,function(){if(this._postStartup&&this._dim){this.resize(this._dim);}})));},this);_75.set(this.containerNode,"width",(_75.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(_86,_87){var _88=this.pane2button[_86.id];if(this._selectedTab===_88.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=_77("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_74.getMarginSize(btn).w;return true;}else{_75.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _89=this.getChildren();if(_89.length){var _8a=_89[this.isLeftToRight()?0:_89.length-1].domNode,_8b=_89[this.isLeftToRight()?_89.length-1:0].domNode;return _8b.offsetLeft+_75.get(_8b,"width")-_8a.offsetLeft;}else{return 0;}},_enableBtn:function(_8c){var _8d=this._getTabsWidth();_8c=_8c||_75.get(this.scrollNode,"width");return _8d>0&&_8c<_8d;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_7c.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_74.setContentSize(this.domNode,cb);var _8e=this._enableBtn(this._contentBox.w);this._buttons.style("display",_8e?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";_7c.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return{h:this._contentBox.h,w:dim.w};},_getScroll:function(){return(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_75.get(this.containerNode,"width")-_75.get(this.scrollNode,"width")+(has("ie")==8?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){return val;}else{var _8f=_75.get(this.containerNode,"width")-_75.get(this.scrollNode,"width");return(has("ie")==8?-1:1)*(val-_8f);}},onSelectChild:function(_90){var tab=this.pane2button[_90.id];if(!tab||!_90){return;}var _91=tab.domNode;if(_91!=this._selectedTab){this._selectedTab=_91;if(this._postResize){var sl=this._getScroll();if(sl>_91.offsetLeft||sl+_75.get(this.scrollNode,"width")<_91.offsetLeft+_75.get(_91,"width")){this.createSmoothScroll().play();}}}this.inherited(arguments);},_getScrollBounds:function(){var _92=this.getChildren(),_93=_75.get(this.scrollNode,"width"),_94=_75.get(this.containerNode,"width"),_95=_94-_93,_96=this._getTabsWidth();if(_92.length&&_96>_93){return{min:this.isLeftToRight()?0:_92[_92.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_92[_92.length-1].domNode.offsetLeft+_75.get(_92[_92.length-1].domNode,"width"))-_93:_95};}else{var _97=this.isLeftToRight()?0:_95;return{min:_97,max:_97};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_98=_75.get(this.scrollNode,"width"),_99=this._getScrollBounds();var pos=(n.offsetLeft+_75.get(n,"width")/2)-_98/2;pos=Math.min(Math.max(pos,_99.min),_99.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _9a=this._getScrollBounds();x=Math.min(Math.max(x,_9a.min),_9a.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var _9b=this,w=this.scrollNode,_9c=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var _9d=w.scrollLeft,_9e=_9b._convertToScrollLeft(x);_9c.curve=new fx._Line(_9d,_9e);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=_9c;this._setButtonClass(x);return _9c;},_getBtnNode:function(e){var n=e.target;while(n&&!_73.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_9f,_a0){if(_a0&&_73.contains(_a0,"dijitTabDisabled")){return;}var _a1=_75.get(this.scrollNode,"width");var d=(_a1*0.75)*_9f;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_a2){var _a3=this._getScrollBounds();this._leftBtn.set("disabled",_a2<=_a3.min);this._rightBtn.set("disabled",_a2>=_a3.max);}});var _a4=_72("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_7a,tabIndex:"",isFocusable:function(){return false;}});_72("dijit.layout._ScrollingTabControllerButton",[_80,_a4]);_72("dijit.layout._ScrollingTabControllerMenuButton",[_80,_81,_a4],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_a5){this.dropDown=new _7e({id:this.containerId+"_menu",dir:this.dir,lang:this.lang,textDir:this.textDir});var _a6=_78.byId(this.containerId);_71.forEach(_a6.getChildren(),function(_a7){var _a8=new _7f({id:_a7.id+"_stcMi",label:_a7.title,iconClass:_a7.iconClass,dir:_a7.dir,lang:_a7.lang,textDir:_a7.textDir,onClick:function(){_a6.selectChild(_a7);}});this.dropDown.addChild(_a8);},this);_a5();},closeDropDown:function(_a9){this.inherited(arguments);if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}}});return _82;});},"dijit/_editor/html":function(){define("dijit/_editor/html",["dojo/_base/lang","dojo/_base/sniff",".."],function(_aa,has,_ab){_aa.getObject("_editor",true,_ab);_ab._editor.escapeXml=function(str,_ac){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_ac){str=str.replace(/'/gm,"&#39;");}return str;};_ab._editor.getNodeHtml=function(_ad){var _ae;switch(_ad.nodeType){case 1:var _af=_ad.nodeName.toLowerCase();if(!_af||_af.charAt(0)=="/"){return"";}_ae="<"+_af;var _b0=[];var _b1;if(has("ie")&&_ad.outerHTML){var s=_ad.outerHTML;s=s.substr(0,s.indexOf(">")).replace(/(['"])[^"']*\1/g,"");var reg=/(\b\w+)\s?=/g;var m,key;while((m=reg.exec(s))){key=m[1];if(key.substr(0,3)!="_dj"){if(key=="src"||key=="href"){if(_ad.getAttribute("_djrealurl")){_b0.push([key,_ad.getAttribute("_djrealurl")]);continue;}}var val,_b2;switch(key){case"style":val=_ad.style.cssText.toLowerCase();break;case"class":val=_ad.className;break;case"width":if(_af==="img"){_b2=/width=(\S+)/i.exec(s);if(_b2){val=_b2[1];}break;}case"height":if(_af==="img"){_b2=/height=(\S+)/i.exec(s);if(_b2){val=_b2[1];}break;}default:val=_ad.getAttribute(key);}if(val!=null){_b0.push([key,val.toString()]);}}}}else{var i=0;while((_b1=_ad.attributes[i++])){var n=_b1.name;if(n.substr(0,3)!="_dj"){var v=_b1.value;if(n=="src"||n=="href"){if(_ad.getAttribute("_djrealurl")){v=_ad.getAttribute("_djrealurl");}}_b0.push([n,v]);}}}_b0.sort(function(a,b){return a[0]<b[0]?-1:(a[0]==b[0]?0:1);});var j=0;while((_b1=_b0[j++])){_ae+=" "+_b1[0]+'="'+(_aa.isString(_b1[1])?_ab._editor.escapeXml(_b1[1],true):_b1[1])+'"';}if(_af==="script"){_ae+=">"+_ad.innerHTML+"</"+_af+">";}else{if(_ad.childNodes.length){_ae+=">"+_ab._editor.getChildrenHtml(_ad)+"</"+_af+">";}else{switch(_af){case"br":case"hr":case"img":case"input":case"base":case"meta":case"area":case"basefont":_ae+=" />";break;default:_ae+="></"+_af+">";}}}break;case 4:case 3:_ae=_ab._editor.escapeXml(_ad.nodeValue,true);break;case 8:_ae="<!--"+_ab._editor.escapeXml(_ad.nodeValue,true)+"-->";break;default:_ae="<!-- Element not recognized - Type: "+_ad.nodeType+" Name: "+_ad.nodeName+"-->";}return _ae;};_ab._editor.getChildrenHtml=function(dom){var out="";if(!dom){return out;}var _b3=dom["childNodes"]||dom;var _b4=!has("ie")||_b3!==dom;var _b5,i=0;while((_b5=_b3[i++])){if(!_b4||_b5.parentNode==dom){out+=_ab._editor.getNodeHtml(_b5);}}return out;};return _ab._editor;});},"dijit/_editor/nls/commands":function(){define("dijit/_editor/nls/commands",{root:({"bold":"Bold","copy":"Copy","cut":"Cut","delete":"Delete","indent":"Indent","insertHorizontalRule":"Horizontal Rule","insertOrderedList":"Numbered List","insertUnorderedList":"Bullet List","italic":"Italic","justifyCenter":"Align Center","justifyFull":"Justify","justifyLeft":"Align Left","justifyRight":"Align Right","outdent":"Outdent","paste":"Paste","redo":"Redo","removeFormat":"Remove Format","selectAll":"Select All","strikethrough":"Strikethrough","subscript":"Subscript","superscript":"Superscript","underline":"Underline","undo":"Undo","unlink":"Remove Link","createLink":"Create Link","toggleDir":"Toggle Direction","insertImage":"Insert Image","insertTable":"Insert/Edit Table","toggleTableBorder":"Toggle Table Border","deleteTable":"Delete Table","tableProp":"Table Property","htmlToggle":"HTML Source","foreColor":"Foreground Color","hiliteColor":"Background Color","plainFormatBlock":"Paragraph Style","formatBlock":"Paragraph Style","fontSize":"Font Size","fontName":"Font Name","tabIndent":"Tab Indent","fullScreen":"Toggle Full Screen","viewSource":"View HTML Source","print":"Print","newPage":"New Page","systemShortcut":'The "${0}" action is only available in your browser using a keyboard shortcut. Use ${1}.',"ctrlKey":"ctrl+${0}","appleKey":"âŒ˜${0}"}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window","."],function(_b6,_b7,_b8,_b9,win,_ba,_bb){function _bc(_bd,_be,_bf,_c0){var _c1=_ba.getBox();if(!_bd.parentNode||String(_bd.parentNode.tagName).toLowerCase()!="body"){win.body().appendChild(_bd);}var _c2=null;_b6.some(_be,function(_c3){var _c4=_c3.corner;var pos=_c3.pos;var _c5=0;var _c6={w:{"L":_c1.l+_c1.w-pos.x,"R":pos.x-_c1.l,"M":_c1.w}[_c4.charAt(1)],h:{"T":_c1.t+_c1.h-pos.y,"B":pos.y-_c1.t,"M":_c1.h}[_c4.charAt(0)]};if(_bf){var res=_bf(_bd,_c3.aroundCorner,_c4,_c6,_c0);_c5=typeof res=="undefined"?0:res;}var _c7=_bd.style;var _c8=_c7.display;var _c9=_c7.visibility;if(_c7.display=="none"){_c7.visibility="hidden";_c7.display="";}var mb=_b7.getMarginBox(_bd);_c7.display=_c8;_c7.visibility=_c9;var _ca={"L":pos.x,"R":pos.x-mb.w,"M":Math.max(_c1.l,Math.min(_c1.l+_c1.w,pos.x+(mb.w>>1))-mb.w)}[_c4.charAt(1)],_cb={"T":pos.y,"B":pos.y-mb.h,"M":Math.max(_c1.t,Math.min(_c1.t+_c1.h,pos.y+(mb.h>>1))-mb.h)}[_c4.charAt(0)],_cc=Math.max(_c1.l,_ca),_cd=Math.max(_c1.t,_cb),_ce=Math.min(_c1.l+_c1.w,_ca+mb.w),_cf=Math.min(_c1.t+_c1.h,_cb+mb.h),_d0=_ce-_cc,_d1=_cf-_cd;_c5+=(mb.w-_d0)+(mb.h-_d1);if(_c2==null||_c5<_c2.overflow){_c2={corner:_c4,aroundCorner:_c3.aroundCorner,x:_cc,y:_cd,w:_d0,h:_d1,overflow:_c5,spaceAvailable:_c6};}return !_c5;});if(_c2.overflow&&_bf){_bf(_bd,_c2.aroundCorner,_c2.corner,_c2.spaceAvailable,_c0);}var l=_b7.isBodyLtr(),s=_bd.style;s.top=_c2.y+"px";s[l?"left":"right"]=(l?_c2.x:_c1.w-_c2.x-_c2.w)+"px";s[l?"right":"left"]="auto";return _c2;}return(_bb.place={at:function(_d2,pos,_d3,_d4){var _d5=_b6.map(_d3,function(_d6){var c={corner:_d6,pos:{x:pos.x,y:pos.y}};if(_d4){c.pos.x+=_d6.charAt(1)=="L"?_d4.x:-_d4.x;c.pos.y+=_d6.charAt(0)=="T"?_d4.y:-_d4.y;}return c;});return _bc(_d2,_d5);},around:function(_d7,_d8,_d9,_da,_db){var _dc=(typeof _d8=="string"||"offsetWidth" in _d8)?_b7.position(_d8,true):_d8;if(_d8.parentNode){var _dd=_d8.parentNode;while(_dd&&_dd.nodeType==1&&_dd.nodeName!="BODY"){var _de=_b7.position(_dd,true);var _df=_b8.getComputedStyle(_dd).overflow;if(_df=="hidden"||_df=="auto"||_df=="scroll"){var _e0=Math.min(_dc.y+_dc.h,_de.y+_de.h);var _e1=Math.min(_dc.x+_dc.w,_de.x+_de.w);_dc.x=Math.max(_dc.x,_de.x);_dc.y=Math.max(_dc.y,_de.y);_dc.h=_e0-_dc.y;_dc.w=_e1-_dc.x;}_dd=_dd.parentNode;}}var x=_dc.x,y=_dc.y,_e2="w" in _dc?_dc.w:(_dc.w=_dc.width),_e3="h" in _dc?_dc.h:(_b9.deprecated("place.around: dijit.place.__Rectangle: { x:"+x+", y:"+y+", height:"+_dc.height+", width:"+_e2+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_dc.height+", w:"+_e2+" }","","2.0"),_dc.h=_dc.height);var _e4=[];function _e5(_e6,_e7){_e4.push({aroundCorner:_e6,corner:_e7,pos:{x:{"L":x,"R":x+_e2,"M":x+(_e2>>1)}[_e6.charAt(1)],y:{"T":y,"B":y+_e3,"M":y+(_e3>>1)}[_e6.charAt(0)]}});}_b6.forEach(_d9,function(pos){var ltr=_da;switch(pos){case"above-centered":_e5("TM","BM");break;case"below-centered":_e5("BM","TM");break;case"after-centered":ltr=!ltr;case"before-centered":_e5(ltr?"ML":"MR",ltr?"MR":"ML");break;case"after":ltr=!ltr;case"before":_e5(ltr?"TL":"TR",ltr?"TR":"TL");_e5(ltr?"BL":"BR",ltr?"BR":"BL");break;case"below-alt":ltr=!ltr;case"below":_e5(ltr?"BL":"BR",ltr?"TL":"TR");_e5(ltr?"BR":"BL",ltr?"TR":"TL");break;case"above-alt":ltr=!ltr;case"above":_e5(ltr?"TL":"TR",ltr?"BL":"BR");_e5(ltr?"TR":"TL",ltr?"BR":"BL");break;default:_e5(pos.aroundCorner,pos.corner);}});var _e8=_bc(_d7,_e4,_db,{w:_e2,h:_e3});_e8.aroundNodePos=_dc;return _e8;}});});},"dijit/_HasDropDown":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/touch","dojo/_base/window","dojo/window","./registry","./focus","./popup","./_FocusMixin"],function(_e9,_ea,_eb,dom,_ec,_ed,_ee,_ef,has,_f0,_f1,_f2,win,_f3,_f4,_f5,_f6,_f7){return _e9("dijit._HasDropDown",_f7,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}e.preventDefault();this._docHandler=this.connect(win.doc,_f2.release,"_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _f8=this.dropDown,_f9=false;if(e&&this._opened){var c=_ee.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_f9){if(_ed.contains(t,"dijitPopup")){_f9=true;}else{t=t.parentNode;}}if(_f9){t=e.target;if(_f8.onItemClick){var _fa;while(t&&!(_fa=_f4.byNode(t))){t=t.parentNode;}if(_fa&&_fa.onClick&&_fa.getParent){_fa.getParent().onItemClick(_fa,e);}}return;}}}if(this._opened){if(_f8.focus&&_f8.autoFocus!==false){this.defer(_f1.hitch(_f8,"focus"),1);}}else{this.defer("focus");}if(has("ios")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onDropDownClick:function(e){if(has("ios")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_eb.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _fb={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_ed.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_fb+"ArrowButton");},postCreate:function(){this.inherited(arguments);this.connect(this._buttonNode,_f2.press,"_onDropDownMouseDown");this.connect(this._buttonNode,"onclick","_onDropDownClick");this.connect(this.focusNode,"onkeypress","_onKey");this.connect(this.focusNode,"onkeyup","_onKeyUp");},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_fc=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_eb.stop(e);return;}}if(d&&this._opened&&e.charOrCode==_f0.ESCAPE){this.closeDropDown();_eb.stop(e);}else{if(!this._opened&&(e.charOrCode==_f0.DOWN_ARROW||((e.charOrCode==_f0.ENTER||e.charOrCode==" ")&&((_fc.tagName||"").toLowerCase()!=="input"||(_fc.type&&_fc.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_eb.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(_f1.hitch(d,"focus"),1);}}},_onBlur:function(){var _fd=_f5.curNode&&this.dropDown&&dom.isDescendant(_f5.curNode,this.dropDown.domNode);this.closeDropDown(_fd);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_fe){_fe();},loadAndOpenDropDown:function(){var d=new _ea(),_ff=_f1.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_ff);}else{_ff();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _100=this.dropDown,_101=_100.domNode,_102=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_101.style.width){this._explicitDDWidth=true;}if(_101.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _103={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_103.width="";}if(!this._explicitDDHeight){_103.height="";}_ef.set(_101,_103);var _104=this.maxHeight;if(_104==-1){var _105=_f3.getBox(),_106=_ee.position(_102,false);_104=Math.floor(Math.max(_106.y,_105.h-(_106.y+_106.h)));}_f6.moveOffScreen(_100);if(_100.startup&&!_100._started){_100.startup();}var mb=_ee.getMarginSize(_101);var _107=(_104&&mb.h>_104);_ef.set(_101,{overflowX:"hidden",overflowY:_107?"auto":"hidden"});if(_107){mb.h=_104;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_102.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_102.offsetWidth);}else{delete mb.w;}}if(_f1.isFunction(_100.resize)){_100.resize(mb);}else{_ee.setMarginBox(_101,mb);}}var _108=_f6.open({parent:this,popup:_100,around:_102,orient:this.dropDownPosition,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_ec.set(self._popupStateNode,"popupActive",false);_ed.remove(self._popupStateNode,"dijitHasDropDownOpen");self._opened=false;}});_ec.set(this._popupStateNode,"popupActive","true");_ed.add(self._popupStateNode,"dijitHasDropDownOpen");this._opened=true;return _108;},closeDropDown:function(_109){if(this._opened){if(_109){this.focus();}_f6.close(this.dropDown);this._opened=false;}}});});},"dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/json","dojo/_base/lang"],function(_10a,_10b,_10c,json,lang){return _10c("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _10d=this.store;if(!_10d.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_10d.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_10b.after(_10d,"onNew",lang.hitch(this,"onNewItem"),true),_10b.after(_10d,"onDelete",lang.hitch(this,"onDeleteItem"),true),_10b.after(_10d,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_10e,_10f){if(this.root){_10e(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_110){if(_110.length!=1){throw new Error(this.declaredClass+": query "+json.stringify(this.query)+" returned "+_110.length+" items, but must return exactly one item");}this.root=_110[0];_10e(this.root);}),onError:_10f});}},mayHaveChildren:function(item){return _10a.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_111,_112,_113){var _114=this.store;if(!_114.isItemLoaded(_111)){var _115=lang.hitch(this,arguments.callee);_114.loadItem({item:_111,onItem:function(_116){_115(_116,_112,_113);},onError:_113});return;}var _117=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_114.getValues(_111,this.childrenAttrs[i]);_117=_117.concat(vals);}var _118=0;if(!this.deferItemLoadingUntilExpand){_10a.forEach(_117,function(item){if(!_114.isItemLoaded(item)){_118++;}});}if(_118==0){_112(_117);}else{_10a.forEach(_117,function(item,idx){if(!_114.isItemLoaded(item)){_114.loadItem({item:item,onItem:function(item){_117[idx]=item;if(--_118==0){_112(_117);}},onError:_113});}});}},isItem:function(_119){return this.store.isItem(_119);},fetchItemByIdentity:function(_11a){this.store.fetchItemByIdentity(_11a);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_11b,_11c){var _11d={parent:_11b,attribute:this.childrenAttrs[0]},_11e;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_11b,true,_11c);}else{_11e=this.store.newItem(args,_11d);if(_11e&&(_11c!=undefined)){this.pasteItem(_11e,_11b,_11b,false,_11c);}}}});}else{_11e=this.store.newItem(args,_11d);if(_11e&&(_11c!=undefined)){this.pasteItem(_11e,_11b,_11b,false,_11c);}}},pasteItem:function(_11f,_120,_121,_122,_123){var _124=this.store,_125=this.childrenAttrs[0];if(_120){_10a.forEach(this.childrenAttrs,function(attr){if(_124.containsValue(_120,attr,_11f)){if(!_122){var _126=_10a.filter(_124.getValues(_120,attr),function(x){return x!=_11f;});_124.setValues(_120,attr,_126);}_125=attr;}});}if(_121){if(typeof _123=="number"){var _127=_124.getValues(_121,_125).slice();_127.splice(_123,0,_11f);_124.setValues(_121,_125,_127);}else{_124.setValues(_121,_125,_124.getValues(_121,_125).concat(_11f));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_128){if(!_128){return;}this.getChildren(_128.item,lang.hitch(this,function(_129){this.onChildrenChange(_128.item,_129);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_12a){if(_10a.indexOf(this.childrenAttrs,_12a)!=-1){this.getChildren(item,lang.hitch(this,function(_12b){this.onChildrenChange(item,_12b);}));}else{this.onChange(item);}}});});},"dijit/_editor/plugins/EnterKeyHandling":function(){define("dijit/_editor/plugins/EnterKeyHandling",["dojo/_base/declare","dojo/dom-construct","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range","../selection"],function(_12c,_12d,_12e,keys,lang,has,win,_12f,_130,_131,_132,_133){return _12c("dijit._editor.plugins.EnterKeyHandling",_130,{blockNodeForEnter:"BR",constructor:function(args){if(args){if("blockNodeForEnter" in args){args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();}lang.mixin(this,args);}},setEditor:function(_134){if(this.editor===_134){return;}this.editor=_134;if(this.blockNodeForEnter=="BR"){this.editor.customUndo=true;_134.onLoadDeferred.then(lang.hitch(this,function(d){this.connect(_134.document,"onkeypress",function(e){if(e.charOrCode==keys.ENTER){var ne=lang.mixin({},e);ne.shiftKey=true;if(!this.handleEnterKey(ne)){_12e.stop(e);}}});if(has("ie")==9){this.connect(_134.document,"onpaste",function(e){setTimeout(dojo.hitch(this,function(){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();r.move("character",1);r.select();}),0);});}return d;}));}else{if(this.blockNodeForEnter){var h=lang.hitch(this,this.handleEnterKey);_134.addKeyHandler(13,0,0,h);_134.addKeyHandler(13,0,1,h);this.connect(this.editor,"onKeyPressed","onKeyPressed");}}},onKeyPressed:function(){if(this._checkListLater){if(win.withGlobal(this.editor.window,"isCollapsed",dijit)){var _135=win.withGlobal(this.editor.window,"getAncestorElement",_133,["LI"]);if(!_135){_131.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);var _136=win.withGlobal(this.editor.window,"getAncestorElement",_133,[this.blockNodeForEnter]);if(_136){_136.innerHTML=this.bogusHtmlContent;if(has("ie")){var r=this.editor.document.selection.createRange();r.move("character",-1);r.select();}}else{console.error("onKeyPressed: Cannot find the new block node");}}else{if(has("mozilla")){if(_135.parentNode.parentNode.nodeName=="LI"){_135=_135.parentNode.parentNode;}}var fc=_135.firstChild;if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){_135.insertBefore(fc.ownerDocument.createTextNode("Â "),fc);var _137=_132.create(this.editor.window);_137.setStart(_135.firstChild,0);var _138=_132.getSelection(this.editor.window,true);_138.removeAllRanges();_138.addRange(_137);}}}this._checkListLater=false;}if(this._pressedEnterInBlock){if(this._pressedEnterInBlock.previousSibling){this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);}delete this._pressedEnterInBlock;}},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){var _139,_13a,_13b,_13c,_13d,_13e,doc=this.editor.document,br,rs,txt;if(e.shiftKey){var _13f=win.withGlobal(this.editor.window,"getParentElement",_133);var _140=_132.getAncestor(_13f,this.blockNodes);if(_140){if(_140.tagName=="LI"){return true;}_139=_132.getSelection(this.editor.window);_13a=_139.getRangeAt(0);if(!_13a.collapsed){_13a.deleteContents();_139=_132.getSelection(this.editor.window);_13a=_139.getRangeAt(0);}if(_132.atBeginningOfContainer(_140,_13a.startContainer,_13a.startOffset)){br=doc.createElement("br");_13b=_132.create(this.editor.window);_140.insertBefore(br,_140.firstChild);_13b.setStartAfter(br);_139.removeAllRanges();_139.addRange(_13b);}else{if(_132.atEndOfContainer(_140,_13a.startContainer,_13a.startOffset)){_13b=_132.create(this.editor.window);br=doc.createElement("br");_140.appendChild(br);_140.appendChild(doc.createTextNode("Â "));_13b.setStart(_140.lastChild,0);_139.removeAllRanges();_139.addRange(_13b);}else{rs=_13a.startContainer;if(rs&&rs.nodeType==3){txt=rs.nodeValue;win.withGlobal(this.editor.window,function(){_13c=doc.createTextNode(txt.substring(0,_13a.startOffset));_13d=doc.createTextNode(txt.substring(_13a.startOffset));_13e=doc.createElement("br");if(_13d.nodeValue==""&&has("webkit")){_13d=doc.createTextNode("Â ");}_12d.place(_13c,rs,"after");_12d.place(_13e,_13c,"after");_12d.place(_13d,_13e,"after");_12d.destroy(rs);_13b=_132.create();_13b.setStart(_13d,0);_139.removeAllRanges();_139.addRange(_13b);});return false;}return true;}}}else{_139=_132.getSelection(this.editor.window);if(_139.rangeCount){_13a=_139.getRangeAt(0);if(_13a&&_13a.startContainer){if(!_13a.collapsed){_13a.deleteContents();_139=_132.getSelection(this.editor.window);_13a=_139.getRangeAt(0);}rs=_13a.startContainer;if(rs&&rs.nodeType==3){win.withGlobal(this.editor.window,lang.hitch(this,function(){var _141=false;var _142=_13a.startOffset;if(rs.length<_142){ret=this._adjustNodeAndOffset(rs,_142);rs=ret.node;_142=ret.offset;}txt=rs.nodeValue;_13c=doc.createTextNode(txt.substring(0,_142));_13d=doc.createTextNode(txt.substring(_142));_13e=doc.createElement("br");if(!_13d.length){_13d=doc.createTextNode("Â ");_141=true;}if(_13c.length){_12d.place(_13c,rs,"after");}else{_13c=rs;}_12d.place(_13e,_13c,"after");_12d.place(_13d,_13e,"after");_12d.destroy(rs);_13b=_132.create();_13b.setStart(_13d,0);_13b.setEnd(_13d,_13d.length);_139.removeAllRanges();_139.addRange(_13b);if(_141&&!has("webkit")){_133.remove();}else{_133.collapse(true);}}));}else{var _143;if(_13a.startOffset>=0){_143=rs.childNodes[_13a.startOffset];}win.withGlobal(this.editor.window,lang.hitch(this,function(){var _144=doc.createElement("br");var _145=doc.createTextNode("Â ");if(!_143){rs.appendChild(_144);rs.appendChild(_145);}else{_12d.place(_144,_143,"before");_12d.place(_145,_144,"after");}_13b=_132.create(win.global);_13b.setStart(_145,0);_13b.setEnd(_145,_145.length);_139.removeAllRanges();_139.addRange(_13b);_133.collapse(true);}));}}}else{_131.prototype.execCommand.call(this.editor,"inserthtml","<br>");}}return false;}var _146=true;_139=_132.getSelection(this.editor.window);_13a=_139.getRangeAt(0);if(!_13a.collapsed){_13a.deleteContents();_139=_132.getSelection(this.editor.window);_13a=_139.getRangeAt(0);}var _147=_132.getBlockAncestor(_13a.endContainer,null,this.editor.editNode);var _148=_147.blockNode;if((this._checkListLater=(_148&&(_148.nodeName=="LI"||_148.parentNode.nodeName=="LI")))){if(has("mozilla")){this._pressedEnterInBlock=_148;}if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_148.innerHTML)){_148.innerHTML="";if(has("webkit")){_13b=_132.create(this.editor.window);_13b.setStart(_148,0);_139.removeAllRanges();_139.addRange(_13b);}this._checkListLater=false;}return true;}if(!_147.blockNode||_147.blockNode===this.editor.editNode){try{_131.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);}catch(e2){}_147={blockNode:win.withGlobal(this.editor.window,"getAncestorElement",_133,[this.blockNodeForEnter]),blockContainer:this.editor.editNode};if(_147.blockNode){if(_147.blockNode!=this.editor.editNode&&(!(_147.blockNode.textContent||_147.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){this.removeTrailingBr(_147.blockNode);return false;}}else{_147.blockNode=this.editor.editNode;}_139=_132.getSelection(this.editor.window);_13a=_139.getRangeAt(0);}var _149=doc.createElement(this.blockNodeForEnter);_149.innerHTML=this.bogusHtmlContent;this.removeTrailingBr(_147.blockNode);var _14a=_13a.endOffset;var node=_13a.endContainer;if(node.length<_14a){var ret=this._adjustNodeAndOffset(node,_14a);node=ret.node;_14a=ret.offset;}if(_132.atEndOfContainer(_147.blockNode,node,_14a)){if(_147.blockNode===_147.blockContainer){_147.blockNode.appendChild(_149);}else{_12d.place(_149,_147.blockNode,"after");}_146=false;_13b=_132.create(this.editor.window);_13b.setStart(_149,0);_139.removeAllRanges();_139.addRange(_13b);if(this.editor.height){_12f.scrollIntoView(_149);}}else{if(_132.atBeginningOfContainer(_147.blockNode,_13a.startContainer,_13a.startOffset)){_12d.place(_149,_147.blockNode,_147.blockNode===_147.blockContainer?"first":"before");if(_149.nextSibling&&this.editor.height){_13b=_132.create(this.editor.window);_13b.setStart(_149.nextSibling,0);_139.removeAllRanges();_139.addRange(_13b);_12f.scrollIntoView(_149.nextSibling);}_146=false;}else{if(_147.blockNode===_147.blockContainer){_147.blockNode.appendChild(_149);}else{_12d.place(_149,_147.blockNode,"after");}_146=false;if(_147.blockNode.style){if(_149.style){if(_147.blockNode.style.cssText){_149.style.cssText=_147.blockNode.style.cssText;}}}rs=_13a.startContainer;var _14b;if(rs&&rs.nodeType==3){var _14c,_14d;_14a=_13a.endOffset;if(rs.length<_14a){ret=this._adjustNodeAndOffset(rs,_14a);rs=ret.node;_14a=ret.offset;}txt=rs.nodeValue;_13c=doc.createTextNode(txt.substring(0,_14a));_13d=doc.createTextNode(txt.substring(_14a,txt.length));_12d.place(_13c,rs,"before");_12d.place(_13d,rs,"after");_12d.destroy(rs);var _14e=_13c.parentNode;while(_14e!==_147.blockNode){var tg=_14e.tagName;var _14f=doc.createElement(tg);if(_14e.style){if(_14f.style){if(_14e.style.cssText){_14f.style.cssText=_14e.style.cssText;}}}if(_14e.tagName==="FONT"){if(_14e.color){_14f.color=_14e.color;}if(_14e.face){_14f.face=_14e.face;}if(_14e.size){_14f.size=_14e.size;}}_14c=_13d;while(_14c){_14d=_14c.nextSibling;_14f.appendChild(_14c);_14c=_14d;}_12d.place(_14f,_14e,"after");_13c=_14e;_13d=_14f;_14e=_14e.parentNode;}_14c=_13d;if(_14c.nodeType==1||(_14c.nodeType==3&&_14c.nodeValue)){_149.innerHTML="";}_14b=_14c;while(_14c){_14d=_14c.nextSibling;_149.appendChild(_14c);_14c=_14d;}}_13b=_132.create(this.editor.window);var _150;var _151=_14b;if(this.blockNodeForEnter!=="BR"){while(_151){_150=_151;_14d=_151.firstChild;_151=_14d;}if(_150&&_150.parentNode){_149=_150.parentNode;_13b.setStart(_149,0);_139.removeAllRanges();_139.addRange(_13b);if(this.editor.height){_12f.scrollIntoView(_149);}if(has("mozilla")){this._pressedEnterInBlock=_147.blockNode;}}else{_146=true;}}else{_13b.setStart(_149,0);_139.removeAllRanges();_139.addRange(_13b);if(this.editor.height){_12f.scrollIntoView(_149);}if(has("mozilla")){this._pressedEnterInBlock=_147.blockNode;}}}}return _146;},_adjustNodeAndOffset:function(node,_152){while(node.length<_152&&node.nextSibling&&node.nextSibling.nodeType==3){_152=_152-node.length;node=node.nextSibling;}return{"node":node,"offset":_152};},removeTrailingBr:function(_153){var para=/P|DIV|LI/i.test(_153.tagName)?_153:_133.getParentOfType(_153,["P","DIV","LI"]);if(!para){return;}if(para.lastChild){if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){_12d.destroy(para.lastChild);}}if(!para.childNodes.length){para.innerHTML=this.bogusHtmlContent;}}});});},"dijit/_MenuBase":function(){define("dijit/_MenuBase",["./popup","dojo/window","./_Widget","./_KeyNavContainer","./_TemplatedMixin","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/_base/array"],function(pm,_154,_155,_156,_157,_158,dom,_159,_15a,lang,_15b){return _158("dijit._MenuBase",[_155,_157,_156],{parentMenu:null,popupDelay:500,onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.focusedChild._onClick(evt);}else{var _15c=this._getTopMenu();if(_15c&&_15c._isMenuBar){_15c.focusNext();}}},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _15d=this.currentPopup.parentMenu;if(_15d.focusedChild){_15d.focusedChild._setSelected(false);}_15d.focusedChild=this.currentPopup.from_item;_15d.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=this.defer("_openPopup",this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _15e=item.popup;if(_15e){this._stopPendingCloseTimer(_15e);_15e._pendingClose_timer=this.defer(function(){_15e._pendingClose_timer=null;if(_15e.parentMenu){_15e.parentMenu.currentPopup=null;}pm.close(_15e);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(_15f){if(_15f._pendingClose_timer){_15f._pendingClose_timer=_15f._pendingClose_timer.remove();}},_stopFocusTimer:function(){if(this._focus_timer){this._focus_timer=this._focus_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup();}else{this.onExecute();item.onClick(evt);}},_openPopup:function(){this._stopPopupTimer();var _160=this.focusedChild;if(!_160){return;}var _161=_160.popup;if(_161.isShowingNow){return;}if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);pm.close(this.currentPopup);}_161.parentMenu=this;_161.from_item=_160;var self=this;pm.open({parent:this,popup:_161,around:_160.domNode,orient:this._orient||["after","before"],onCancel:function(){self.focusChild(_160);self._cleanUp();_160._setSelected(true);self.focusedChild=_160;},onExecute:lang.hitch(this,"_cleanUp")});this.currentPopup=_161;_161.connect(_161.domNode,"onmouseenter",lang.hitch(self,"_onPopupHover"));if(_161.focus){_161._focus_timer=this.defer(lang.hitch(_161,function(){this._focus_timer=null;this.focus();}));}},_markActive:function(){this.isActive=true;_15a.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;_15a.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup){if(_15b.indexOf(this._focusManager.activeStack,this.id)>=0){_159.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);this.focusedChild.focusNode.focus();}pm.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.focusedChild._onUnhover();this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this._hoveredChild._onUnhover();}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","."],function(_162,_163,dom,_164,_165,_166,lang,on,_167,has,_168,_169,win,_16a,a11y,_16b,_16c){var _16d=_163([_168,_166],{curNode:null,activeStack:[],constructor:function(){var _16e=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_162.before(_165,"empty",_16e);_162.before(_165,"destroy",_16e);},registerIframe:function(_16f){return this.registerWin(_16f.contentWindow,_16f);},registerWin:function(_170,_171){var _172=this;var _173=function(evt){_172._justMouseDowned=true;setTimeout(function(){_172._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_172._onTouchNode(_171||evt.target||evt.srcElement,"mouse");};var doc=has("ie")<9?_170.document.documentElement:_170.document;if(doc){if(has("ie")<9){_170.document.body.attachEvent("onmousedown",_173);var _174=function(evt){var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isTabNavigable(evt.srcElement)){_172._onFocusNode(_171||evt.srcElement);}else{_172._onTouchNode(_171||evt.srcElement);}};doc.attachEvent("onactivate",_174);var _175=function(evt){_172._onBlurNode(_171||evt.srcElement);};doc.attachEvent("ondeactivate",_175);return{remove:function(){_170.document.detachEvent("onmousedown",_173);doc.detachEvent("onactivate",_174);doc.detachEvent("ondeactivate",_175);doc=null;}};}else{doc.body.addEventListener("mousedown",_173,true);doc.body.addEventListener("touchstart",_173,true);var _176=function(evt){_172._onFocusNode(_171||evt.target);};doc.addEventListener("focus",_176,true);var _177=function(evt){_172._onBlurNode(_171||evt.target);};doc.addEventListener("blur",_177,true);return{remove:function(){doc.body.removeEventListener("mousedown",_173,true);doc.body.removeEventListener("touchstart",_173,true);doc.removeEventListener("focus",_176,true);doc.removeEventListener("blur",_177,true);doc=null;}};}}},_onBlurNode:function(){this.set("prevNode",this.curNode);this.set("curNode",null);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);this.prevNode=null;}),100);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _178=[];try{while(node){var _179=_164.get(node,"dijitPopupParent");if(_179){node=_16b.byId(_179).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_16a.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_17a=id&&_16b.byId(id);if(_17a&&!(by=="mouse"&&_17a.get("disabled"))){_178.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_178,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("curNode",node);},_setStack:function(_17b,by){var _17c=this.activeStack;this.set("activeStack",_17b);for(var _17d=0;_17d<Math.min(_17c.length,_17b.length);_17d++){if(_17c[_17d]!=_17b[_17d]){break;}}var _17e;for(var i=_17c.length-1;i>=_17d;i--){_17e=_16b.byId(_17c[i]);if(_17e){_17e._hasBeenBlurred=true;_17e.set("focused",false);if(_17e._focusManager==this){_17e._onBlur(by);}this.emit("widget-blur",_17e,by);}}for(i=_17d;i<_17b.length;i++){_17e=_16b.byId(_17b[i]);if(_17e){_17e.set("focused",true);if(_17e._focusManager==this){_17e._onFocus(by);}this.emit("widget-focus",_17e,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _17f=new _16d();_167(function(){var _180=_17f.registerWin(win.doc.parentWindow||win.doc.defaultView);if(has("ie")){_169.addOnWindowUnload(function(){_180.remove();_180=null;});}});_16c.focus=function(node){_17f.focus(node);};for(var attr in _17f){if(!/^_/.test(attr)){_16c.focus[attr]=typeof _17f[attr]=="function"?lang.hitch(_17f,attr):_17f[attr];}}_17f.watch(function(attr,_181,_182){_16c.focus[attr]=_182;});return _17f;});},"dijit/hccss":function(){define("dijit/hccss",["require","dojo/_base/config","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/ready","dojo/_base/sniff","dojo/_base/window"],function(_183,_184,_185,_186,_187,_188,has,win){if(has("ie")||has("mozilla")){_188(90,function(){var div=_186.create("div",{id:"a11yTestNode",style:{cssText:"border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+'background-image: url("'+(_184.blankGif||_183.toUrl("dojo/resources/blank.gif"))+'");'}},win.body());var cs=_187.getComputedStyle(div);if(cs){var _189=cs.backgroundImage;var _18a=(cs.borderTopColor==cs.borderRightColor)||(_189!=null&&(_189=="none"||_189=="url(invalid-url:)"));if(_18a){_185.add(win.body(),"dijit_a11y");}if(has("ie")){div.outerHTML="";}else{win.body().removeChild(div);}}});}});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","./TreeStoreModel"],function(_18b,_18c,lang,win,_18d){return _18c("dijit.tree.ForestStoreModel",_18d,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_18e){this.root={store:this,root:true,id:_18e.rootId,label:_18e.rootLabel,children:_18e.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_18f,_190,_191){if(_18f===this.root){if(this.root.children){_190(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_192){this.root.children=_192;_190(_192);}),onError:_191});}}else{this.inherited(arguments);}},isItem:function(_193){return(_193===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_194){if(_194.identity==this.root.id){var _195=_194.scope?_194.scope:win.global;if(_194.onItem){_194.onItem.call(_195,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return(item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return(item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_196,_197){if(_196===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_198,_199,_19a,_19b,_19c){if(_199===this.root){if(!_19b){this.onLeaveRoot(_198);}}this.inherited(arguments,[_198,_199===this.root?null:_199,_19a===this.root?null:_19a,_19b,_19c]);if(_19a===this.root){this.onAddToRoot(_198);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _19d=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_19e){this.root.children=_19e;if(_19d.length!=_19e.length||_18b.some(_19d,function(item,idx){return _19e[idx]!=item;})){this.onChildrenChange(this.root,_19e);}})});},onNewItem:function(item,_19f){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_18b.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_1a0,_1a1,_1a2){this._requeryTop();this.inherited(arguments);}});});},"url:dijit/layout/templates/AccordionButton.html":'<div data-dojo-attach-event=\'onclick:_onTitleClick\' class=\'dijitAccordionTitle\' role="presentation">\r\n\t<div data-dojo-attach-point=\'titleNode,focusNode\' data-dojo-attach-event=\'onkeypress:_onTitleKeyPress\'\r\n\t\t\tclass=\'dijitAccordionTitleFocus\' role="tab" aria-expanded="false"\r\n\t\t><span class=\'dijitInline dijitAccordionArrow\' role="presentation"></span\r\n\t\t><span class=\'arrowTextUp\' role="presentation">+</span\r\n\t\t><span class=\'arrowTextDown\' role="presentation">-</span\r\n\t\t><img src="${_blankGif}" alt="" class="dijitIcon" data-dojo-attach-point=\'iconNode\' style="vertical-align: middle" role="presentation"/>\r\n\t\t<span role="presentation" data-dojo-attach-point=\'titleTextNode\' class=\'dijitAccordionText\'></span>\r\n\t</div>\r\n</div>\r\n',"dijit/TitlePane":function(){require({cache:{"url:dijit/templates/TitlePane.html":'<div>\r\n\t<div data-dojo-attach-event="onclick:_onTitleClick, onkeypress:_onTitleKey"\r\n\t\t\tclass="dijitTitlePaneTitle" data-dojo-attach-point="titleBarNode">\r\n\t\t<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\r\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="arrowNode" class="dijitArrowNode" role="presentation"\r\n\t\t\t/><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\r\n\t\t\t><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\r\n\t\t<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\r\n\t\t\t<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane">\r\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n'}});define("dijit/TitlePane",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/_base/event","dojo/fx","dojo/_base/kernel","dojo/keys","./_CssStateMixin","./_TemplatedMixin","./layout/ContentPane","dojo/text!./templates/TitlePane.html","./_base/manager"],function(_1a3,_1a4,dom,_1a5,_1a6,_1a7,_1a8,_1a9,_1aa,keys,_1ab,_1ac,_1ad,_1ae,_1af){return _1a4("dijit.TitlePane",[_1ad,_1ac,_1ab],{title:"",_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:true,toggleable:true,tabIndex:"0",duration:_1af.defaultDuration,baseClass:"dijitTitlePane",templateString:_1ae,doLayout:false,_setTooltipAttr:{node:"focusNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.titleNode,false);},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"dijitTitlePaneTitle");}var _1b0=this.hideNode,_1b1=this.wipeNode;this._wipeIn=_1a9.wipeIn({node:_1b1,duration:this.duration,beforeBegin:function(){_1b0.style.display="";}});this._wipeOut=_1a9.wipeOut({node:_1b1,duration:this.duration,onEnd:function(){_1b0.style.display="none";}});},_setOpenAttr:function(open,_1b2){_1a3.forEach([this._wipeIn,this._wipeOut],function(_1b3){if(_1b3&&_1b3.status()=="playing"){_1b3.stop();}});if(_1b2){var anim=this[open?"_wipeIn":"_wipeOut"];anim.play();}else{this.hideNode.style.display=this.wipeNode.style.display=open?"":"none";}if(this._started){if(open){this._onShow();}else{this.onHide();}}this.arrowNodeInner.innerHTML=open?"-":"+";this.containerNode.setAttribute("aria-hidden",open?"false":"true");this.focusNode.setAttribute("aria-pressed",open?"true":"false");this._set("open",open);this._setCss();},_setToggleableAttr:function(_1b4){this.focusNode.setAttribute("role",_1b4?"button":"heading");if(_1b4){this.focusNode.setAttribute("aria-controls",this.id+"_pane");_1a5.set(this.focusNode,"tabIndex",this.tabIndex);}else{_1a5.remove(this.focusNode,"tabIndex");}this._set("toggleable",_1b4);this._setCss();},_setContentAttr:function(_1b5){if(!this.open||!this._wipeOut||this._wipeOut.status()=="playing"){this.inherited(arguments);}else{if(this._wipeIn&&this._wipeIn.status()=="playing"){this._wipeIn.stop();}_1a7.setMarginBox(this.wipeNode,{h:_1a7.getMarginBox(this.wipeNode).h});this.inherited(arguments);if(this._wipeIn){this._wipeIn.play();}else{this.hideNode.style.display="";}}},toggle:function(){this._setOpenAttr(!this.open,true);},_setCss:function(){var node=this.titleBarNode||this.focusNode;var _1b6=this._titleBarClass;this._titleBarClass="dijit"+(this.toggleable?"":"Fixed")+(this.open?"Open":"Closed");_1a6.replace(node,this._titleBarClass,_1b6||"");this.arrowNodeInner.innerHTML=this.open?"-":"+";},_onTitleKey:function(e){if(e.charOrCode==keys.ENTER||e.charOrCode==" "){if(this.toggleable){this.toggle();}_1a8.stop(e);}else{if(e.charOrCode==keys.DOWN_ARROW&&this.open){this.containerNode.focus();e.preventDefault();}}},_onTitleClick:function(){if(this.toggleable){this.toggle();}},setTitle:function(_1b7){_1aa.deprecated("dijit.TitlePane.setTitle() is deprecated.  Use set('title', ...) instead.","","2.0");this.set("title",_1b7);}});});},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/_base/window","dojo/i18n!./nls/ComboBox"],function(_1b8,_1b9,_1ba,i18n,win){return _1b9("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_1bb){this.value=_1bb;this.onChange(_1bb);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_1bc){var _1bd=this._createMenuItem();var _1be=_1bc(item);if(_1be.html){_1bd.innerHTML=_1be.label;}else{_1bd.appendChild(win.doc.createTextNode(_1be.label));}if(_1bd.innerHTML==""){_1bd.innerHTML="&#160;";}this.applyTextDir(_1bd,(_1bd.innerText||_1bd.textContent||""));_1bd.item=item;return _1bd;},createOptions:function(_1bf,_1c0,_1c1){this.previousButton.style.display=(_1c0.start==0)?"none":"";_1ba.set(this.previousButton,"id",this.id+"_prev");_1b8.forEach(_1bf,function(item,i){var _1c2=this._createOption(item,_1c1);_1ba.set(_1c2,"id",this.id+i);this.nextButton.parentNode.insertBefore(_1c2,this.nextButton);},this);var _1c3=false;if(_1bf.total&&!_1bf.total.then&&_1bf.total!=-1){if((_1c0.start+_1c0.count)<_1bf.total){_1c3=true;}else{if((_1c0.start+_1c0.count)>_1bf.total&&_1c0.count==_1bf.length){_1c3=true;}}}else{if(_1c0.count==_1bf.length){_1c3=true;}}this.nextButton.style.display=_1c3?"":"none";_1ba.set(this.nextButton,"id",this.id+"_next");return this.containerNode.childNodes;},clearResultList:function(){var _1c4=this.containerNode;while(_1c4.childNodes.length>2){_1c4.removeChild(_1c4.childNodes[_1c4.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this._getSelectedAttr();}});});},"url:dijit/form/templates/DropDownButton.html":'<span class="dijit dijitReset dijitInline"\r\n\t><span class=\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" data-dojo-attach-point="_buttonNode"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode"\r\n\t\t\trole="button" aria-haspopup="true" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point="iconNode"\r\n\t\t\t></span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point="containerNode,_popupStateNode"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t></span\r\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner"></span\r\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\r\n\t\tdata-dojo-attach-point="valueNode"\r\n/></span>\r\n',"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_1c5,_1c6,_1c7,_1c8){return _1c5("dijit.form.ToggleButton",[_1c7,_1c8],{baseClass:"dijitToggleButton",setChecked:function(_1c9){_1c6.deprecated("setChecked("+_1c9+") is deprecated. Use set('checked',"+_1c9+") instead.","","2.0");this.set("checked",_1c9);}});});},"dijit/form/NumberSpinner":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/keys","./_Spinner","./NumberTextBox"],function(_1ca,_1cb,keys,_1cc,_1cd){return _1ca("dijit.form.NumberSpinner",[_1cc,_1cd.Mixin],{adjust:function(val,_1ce){var tc=this.constraints,v=isNaN(val),_1cf=!isNaN(tc.max),_1d0=!isNaN(tc.min);if(v&&_1ce!=0){val=(_1ce>0)?_1d0?tc.min:_1cf?tc.max:0:_1cf?this.constraints.max:_1d0?tc.min:0;}var _1d1=val+_1ce;if(v||isNaN(_1d1)){return val;}if(_1cf&&(_1d1>tc.max)){_1d1=tc.max;}if(_1d0&&(_1d1<tc.min)){_1d1=tc.min;}return _1d1;},_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _1d2=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(typeof _1d2=="number"){this._setValueAttr(_1d2,false);}_1cb.stop(e);}}});});},"dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_1d3,_1d4,_1d5,_1d6){return _1d3("dijit.form.Textarea",[_1d6,_1d5],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_1d4.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_1d7,_1d8,_1d9){return _1d7("dijit.form.DateTextBox",_1d9,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1d8,_selector:"date",value:new Date("")});});},"dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":'<table class="dijit dijitReset dijitInline dijitLeft"\r\n\tcellspacing=\'0\' cellpadding=\'0\' role="presentation"\r\n\t><tbody role="presentation"><tr role="presentation"\r\n\t\t><td class="dijitReset dijitStretch dijitButtonNode" data-dojo-attach-point="buttonNode" data-dojo-attach-event="ondijitclick:_onClick,onkeypress:_onButtonKeyPress"\r\n\t\t><div id="${id}_button" class="dijitReset dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><div class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode" role="presentation"></div\r\n\t\t\t><div class="dijitReset dijitInline dijitButtonText" id="${id}_label" data-dojo-attach-point="containerNode" role="presentation"></div\r\n\t\t></div\r\n\t\t></td\r\n\t\t><td id="${id}_arrow" class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton\'\r\n\t\t\tdata-dojo-attach-point="_popupStateNode,focusNode,_buttonNode"\r\n\t\t\tdata-dojo-attach-event="onkeypress:_onArrowKeyPress"\r\n\t\t\ttitle="${optionsTitle}"\r\n\t\t\trole="button" aria-haspopup="true"\r\n\t\t\t><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\r\n\t\t\t><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\r\n\t\t></td\r\n\t\t><td style="display:none !important;"\r\n\t\t\t><input ${!nameAttrSetting} type="${type}" value="${value}" data-dojo-attach-point="valueNode"\r\n\t\t/></td></tr></tbody\r\n></table>\r\n'}});define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_1da,_1db,keys,_1dc,_1dd,_1de){return _1da("dijit.form.ComboButton",_1dd,{templateString:_1de,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_1dc.focus(this._popupStateNode);_1db.stop(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_1dc.focus(this.titleNode);_1db.stop(evt);}},focus:function(_1df){if(!this.disabled){_1dc.focus(_1df=="start"?this.titleNode:this._popupStateNode);}}});});},"dijit/layout/AccordionContainer":function(){require({cache:{"url:dijit/layout/templates/AccordionButton.html":'<div data-dojo-attach-event=\'onclick:_onTitleClick\' class=\'dijitAccordionTitle\' role="presentation">\r\n\t<div data-dojo-attach-point=\'titleNode,focusNode\' data-dojo-attach-event=\'onkeypress:_onTitleKeyPress\'\r\n\t\t\tclass=\'dijitAccordionTitleFocus\' role="tab" aria-expanded="false"\r\n\t\t><span class=\'dijitInline dijitAccordionArrow\' role="presentation"></span\r\n\t\t><span class=\'arrowTextUp\' role="presentation">+</span\r\n\t\t><span class=\'arrowTextDown\' role="presentation">-</span\r\n\t\t><img src="${_blankGif}" alt="" class="dijitIcon" data-dojo-attach-point=\'iconNode\' style="vertical-align: middle" role="presentation"/>\r\n\t\t<span role="presentation" data-dojo-attach-point=\'titleTextNode\' class=\'dijitAccordionText\'></span>\r\n\t</div>\r\n</div>\r\n'}});define("dijit/layout/AccordionContainer",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html"],function(_1e0,_1e1,_1e2,_1e3,fx,dom,_1e4,_1e5,_1e6,_1e7,_1e8,keys,lang,has,_1e9,_1ea,_1eb,_1ec,_1ed,_1ee,_1ef,_1f0,_1f1,_1f2,_1f3){var _1f4=_1e2("dijit.layout._AccordionButton",[_1ed,_1ef,_1f0],{templateString:_1f3,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){return this.parent;},buildRendering:function(){this.inherited(arguments);var _1f5=this.id.replace(" ","_");_1e4.set(this.titleTextNode,"id",_1f5+"_title");this.focusNode.setAttribute("aria-labelledby",_1e4.get(this.titleTextNode,"id"));dom.setSelectable(this.domNode,false);},getTitleHeight:function(){return _1e7.getMarginSize(this.domNode).h;},_onTitleClick:function(){var _1f6=this.getParent();_1f6.selectChild(this.contentWidget,true);_1ea.focus(this.focusNode);},_onTitleKeyPress:function(evt){return this.getParent()._onKeyPress(evt,this.contentWidget);},_setSelectedAttr:function(_1f7){this._set("selected",_1f7);this.focusNode.setAttribute("aria-expanded",_1f7);this.focusNode.setAttribute("aria-selected",_1f7);this.focusNode.setAttribute("tabIndex",_1f7?"0":"-1");}});var _1f8=_1e2("dijit.layout._AccordionInnerContainer",[_1ed,_1f0],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:true,buildRendering:function(){this.domNode=_1e6.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");var _1f9=this.contentWidget,cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;this.button=_1f9._buttonWidget=(new cls({contentWidget:_1f9,label:_1f9.title,title:_1f9.tooltip,dir:_1f9.dir,lang:_1f9.lang,textDir:_1f9.textDir,iconClass:_1f9.iconClass,id:_1f9.id+"_button",parent:this.parent})).placeAt(this.domNode);this.containerNode=_1e6.place("<div class='dijitAccordionChildWrapper' style='display:none'>",this.domNode);_1e6.place(this.contentWidget.domNode,this.containerNode);},postCreate:function(){this.inherited(arguments);var _1fa=this.button;this._contentWidgetWatches=[this.contentWidget.watch("title",lang.hitch(this,function(name,_1fb,_1fc){_1fa.set("label",_1fc);})),this.contentWidget.watch("tooltip",lang.hitch(this,function(name,_1fd,_1fe){_1fa.set("title",_1fe);})),this.contentWidget.watch("iconClass",lang.hitch(this,function(name,_1ff,_200){_1fa.set("iconClass",_200);}))];},_setSelectedAttr:function(_201){this._set("selected",_201);this.button.set("selected",_201);if(_201){var cw=this.contentWidget;if(cw.onSelected){cw.onSelected();}}},startup:function(){this.contentWidget.startup();},destroy:function(){this.button.destroyRecursive();_1e1.forEach(this._contentWidgetWatches||[],function(w){w.unwatch();});delete this.contentWidget._buttonWidget;delete this.contentWidget._wrapperWidget;this.inherited(arguments);},destroyDescendants:function(_202){this.contentWidget.destroyRecursive(_202);}});var _203=_1e2("dijit.layout.AccordionContainer",_1f1,{duration:_1eb.defaultDuration,buttonWidget:_1f4,baseClass:"dijitAccordionContainer",buildRendering:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";this.domNode.setAttribute("role","tablist");},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.selectedChildWidget){var _204=this.selectedChildWidget.containerNode.style;_204.display="";_204.overflow="auto";this.selectedChildWidget._wrapperWidget.set("selected",true);}},layout:function(){var _205=this.selectedChildWidget;if(!_205){return;}var _206=_205._wrapperWidget.domNode,_207=_1e7.getMarginExtents(_206),_208=_1e7.getPadBorderExtents(_206),_209=_205._wrapperWidget.containerNode,_20a=_1e7.getMarginExtents(_209),_20b=_1e7.getPadBorderExtents(_209),_20c=this._contentBox;var _20d=0;_1e1.forEach(this.getChildren(),function(_20e){if(_20e!=_205){_20d+=_1e7.getMarginSize(_20e._wrapperWidget.domNode).h;}});this._verticalSpace=_20c.h-_20d-_207.h-_208.h-_20a.h-_20b.h-_205._buttonWidget.getTitleHeight();this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_207.w-_208.w-_20a.w-_20b.w};if(_205){_205.resize(this._containerContentBox);}},_setupChild:function(_20f){_20f._wrapperWidget=_1f8({contentWidget:_20f,buttonWidget:this.buttonWidget,id:_20f.id+"_wrapper",dir:_20f.dir,lang:_20f.lang,textDir:_20f.textDir,parent:this});this.inherited(arguments);},addChild:function(_210,_211){if(this._started){var _212=this.containerNode;if(_211&&typeof _211=="number"){var _213=_1ed.prototype.getChildren.call(this);if(_213&&_213.length>=_211){_212=_213[_211-1].domNode;_211="after";}}_1e6.place(_210.domNode,_212,_211);if(!_210._started){_210.startup();}this._setupChild(_210);_1e9.publish(this.id+"-addChild",_210,_211);this.layout();if(!this.selectedChildWidget){this.selectChild(_210);}}else{this.inherited(arguments);}},removeChild:function(_214){if(_214._wrapperWidget){_1e6.place(_214.domNode,_214._wrapperWidget.domNode,"after");_214._wrapperWidget.destroy();delete _214._wrapperWidget;}_1e5.remove(_214.domNode,"dijitHidden");this.inherited(arguments);},getChildren:function(){return _1e1.map(this.inherited(arguments),function(_215){return _215.declaredClass=="dijit.layout._AccordionInnerContainer"?_215.contentWidget:_215;},this);},destroy:function(){if(this._animation){this._animation.stop();}_1e1.forEach(this.getChildren(),function(_216){if(_216._wrapperWidget){_216._wrapperWidget.destroy();}else{_216.destroyRecursive();}});this.inherited(arguments);},_showChild:function(_217){_217._wrapperWidget.containerNode.style.display="block";return this.inherited(arguments);},_hideChild:function(_218){_218._wrapperWidget.containerNode.style.display="none";this.inherited(arguments);},_transition:function(_219,_21a,_21b){if(has("ie")<8){_21b=false;}if(this._animation){this._animation.stop(true);delete this._animation;}var self=this;if(_219){_219._wrapperWidget.set("selected",true);var d=this._showChild(_219);if(this.doLayout&&_219.resize){_219.resize(this._containerContentBox);}}if(_21a){_21a._wrapperWidget.set("selected",false);if(!_21b){this._hideChild(_21a);}}if(_21b){var _21c=_219._wrapperWidget.containerNode,_21d=_21a._wrapperWidget.containerNode;var _21e=_219._wrapperWidget.containerNode,_21f=_1e7.getMarginExtents(_21e),_220=_1e7.getPadBorderExtents(_21e),_221=_21f.h+_220.h;_21d.style.height=(self._verticalSpace-_221)+"px";this._animation=new fx.Animation({node:_21c,duration:this.duration,curve:[1,this._verticalSpace-_221-1],onAnimate:function(_222){_222=Math.floor(_222);_21c.style.height=_222+"px";_21d.style.height=(self._verticalSpace-_221-_222)+"px";},onEnd:function(){delete self._animation;_21c.style.height="auto";_21a._wrapperWidget.containerNode.style.display="none";_21d.style.height="auto";self._hideChild(_21a);}});this._animation.onStop=this._animation.onEnd;this._animation.play();}return d;},_onKeyPress:function(e,_223){if(this.disabled||e.altKey||!(_223||e.ctrlKey)){return;}var c=e.charOrCode;if((_223&&(c==keys.LEFT_ARROW||c==keys.UP_ARROW))||(e.ctrlKey&&c==keys.PAGE_UP)){this._adjacent(false)._buttonWidget._onTitleClick();_1e3.stop(e);}else{if((_223&&(c==keys.RIGHT_ARROW||c==keys.DOWN_ARROW))||(e.ctrlKey&&(c==keys.PAGE_DOWN||c==keys.TAB))){this._adjacent(true)._buttonWidget._onTitleClick();_1e3.stop(e);}}}});if(!_1e8.isAsync){_1ec(0,function(){var _224=["dijit/layout/AccordionPane"];_1e0(_224);});}_203._InnerContainer=_1f8;_203._Button=_1f4;return _203;});},"url:dijit/templates/Calendar.html":'<table cellspacing="0" cellpadding="0" class="dijitCalendarContainer" role="grid" aria-labelledby="${id}_mddb ${id}_year">\r\n\t<thead>\r\n\t\t<tr class="dijitReset dijitCalendarMonthContainer" valign="top">\r\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="decrementMonth">\r\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarDecrease" role="presentation"/>\r\n\t\t\t\t<span data-dojo-attach-point="decreaseArrowNode" class="dijitA11ySideArrow">-</span>\r\n\t\t\t</th>\r\n\t\t\t<th class=\'dijitReset\' colspan="5">\r\n\t\t\t\t<div data-dojo-attach-point="monthNode">\r\n\t\t\t\t</div>\r\n\t\t\t</th>\r\n\t\t\t<th class=\'dijitReset dijitCalendarArrow\' data-dojo-attach-point="incrementMonth">\r\n\t\t\t\t<img src="${_blankGif}" alt="" class="dijitCalendarIncrementControl dijitCalendarIncrease" role="presentation"/>\r\n\t\t\t\t<span data-dojo-attach-point="increaseArrowNode" class="dijitA11ySideArrow">+</span>\r\n\t\t\t</th>\r\n\t\t</tr>\r\n\t\t<tr>\r\n\t\t\t${!dayCellsHtml}\r\n\t\t</tr>\r\n\t</thead>\r\n\t<tbody data-dojo-attach-point="dateRowsNode" data-dojo-attach-event="onclick: _onDayClick" class="dijitReset dijitCalendarBodyContainer">\r\n\t\t\t${!dateRowsHtml}\r\n\t</tbody>\r\n\t<tfoot class="dijitReset dijitCalendarYearContainer">\r\n\t\t<tr>\r\n\t\t\t<td class=\'dijitReset\' valign="top" colspan="7" role="presentation">\r\n\t\t\t\t<div class="dijitCalendarYearLabel">\r\n\t\t\t\t\t<span data-dojo-attach-point="previousYearLabelNode" class="dijitInline dijitCalendarPreviousYear" role="button"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point="currentYearLabelNode" class="dijitInline dijitCalendarSelectedYear" role="button" id="${id}_year"></span>\r\n\t\t\t\t\t<span data-dojo-attach-point="nextYearLabelNode" class="dijitInline dijitCalendarNextYear" role="button"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</td>\r\n\t\t</tr>\r\n\t</tfoot>\r\n</table>\r\n',"dijit/form/_AutoCompleterMixin":function(){define("dijit/form/_AutoCompleterMixin",["dojo/_base/connect","dojo/data/util/filter","dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/_base/sniff","dojo/string","dojo/_base/window","./DataList","../registry","./_TextBoxMixin"],function(_225,_226,_227,_228,_229,_22a,keys,lang,_22b,_22c,has,_22d,win,_22e,_22f,_230){return _227("dijit.form._AutoCompleterMixin",null,{item:null,pageSize:Infinity,store:null,fetchProperties:{},query:{},autoComplete:true,highlightMatch:"first",searchDelay:100,searchAttr:"name",labelAttr:"",labelType:"text",queryExpr:"${0}*",ignoreCase:true,maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_231){var pos=0;if(typeof(_231.selectionStart)=="number"){pos=_231.selectionStart;}else{if(has("ie")){var tr=win.doc.selection.createRange().duplicate();var ntr=_231.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_232,_233){_233=parseInt(_233);_230.selectInputText(_232,_233,_233);},_setDisabledAttr:function(_234){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_234);},_abortQuery:function(){if(this.searchTimer){clearTimeout(this.searchTimer);this.searchTimer=null;}if(this._fetchHandle){if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_onInput:function(evt){this.inherited(arguments);if(evt.charOrCode==229){this._onKey(evt);}},_onKey:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;if(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT){return;}var _235=false;var pw=this.dropDown;var _236=null;this._prev_key_backspace=false;this._abortQuery();this.inherited(arguments);if(this._opened){_236=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_236);}_22a.stop(evt);break;case keys.ENTER:if(_236){if(_236==pw.nextButton){this._nextSearch(1);_22a.stop(evt);break;}else{if(_236==pw.previousButton){this._nextSearch(-1);_22a.stop(evt);break;}}}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}if(this._opened||this._fetchHandle){_22a.stop(evt);}case keys.TAB:var _237=this.get("displayedValue");if(pw&&(_237==pw._messages["previousMessage"]||_237==pw._messages["nextMessage"])){break;}if(_236){this._selectOption(_236);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;case" ":if(_236){_22a.stop(evt);this._selectOption(_236);this.closeDropDown();}else{_235=true;}break;case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;_235=true;break;default:_235=typeof key=="string"||key==229;}if(_235){this.item=undefined;this.searchTimer=setTimeout(lang.hitch(this,"_startSearchFromInput"),1);}},_autoCompleteText:function(text){var fn=this.focusNode;_230.selectInputText(fn,fn.value.length);var _238=this.ignoreCase?"toLowerCase":"substr";if(text[_238](0).indexOf(this.focusNode.value[_238](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_230.selectInputText(fn,cpos);}}else{fn.value=text;_230.selectInputText(fn);}},_openResultList:function(_239,_23a,_23b){this._fetchHandle=null;if(this.disabled||this.readOnly||(_23a[this.searchAttr]!==this._lastQuery)){return;}var _23c=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_239.length&&_23b.start==0){this.closeDropDown();return;}var _23d=this.dropDown.createOptions(_239,_23b,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if(_23b.direction){if(1==_23b.direction){this.dropDown.highlightFirstOption();}else{if(-1==_23b.direction){this.dropDown.highlightLastOption();}}if(_23c){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_23a[this.searchAttr].toString())){this._announceOption(_23d[1]);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");this.focusNode.removeAttribute("aria-activedescendant");}},_setBlurValue:function(){var _23e=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_23e==pw._messages["previousMessage"]||_23e==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_23e);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}},_setItemAttr:function(item,_23f,_240){var _241="";if(item){if(!_240){_240=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_241=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_240;}this.set("value",_241,_23f,_240,item);},_announceOption:function(node){if(!node){return;}var _242;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_242=node.innerHTML;this.item=undefined;this.value="";}else{_242=(this.store._oldAPI?this.store.getValue(node.item,this.searchAttr):node.item[this.searchAttr]).toString();this.set("item",node.item,false,_242);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_229.get(node,"id"));this._autoCompleteText(_242);},_selectOption:function(_243){this.closeDropDown();if(_243){this._announceOption(_243);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"));},_getQueryString:function(text){return _22d.substitute(this.queryExpr,[text]);},_startSearch:function(key){if(!this.dropDown){var _244=this.id+"_popup",_245=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _245({onChange:lang.hitch(this,this._selectOption),id:_244,dir:this.dir,textDir:this.textDir});this.focusNode.removeAttribute("aria-activedescendant");this.textbox.setAttribute("aria-owns",_244);}this._lastInput=key;var _246=lang.clone(this.query);var _247={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_247,this.fetchProperties);var qs=this._getQueryString(key),q;if(this.store._oldAPI){q=qs;}else{q=_226.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_246[this.searchAttr]=q;var _248=this,_249=function(){var _24a=_248._fetchHandle=_248.store.query(_246,_247);_228.when(_24a,function(res){_248._fetchHandle=null;res.total=_24a.total;_248._openResultList(res,_246,_247);},function(err){_248._fetchHandle=null;if(!_248._cancelingQuery){console.error(_248.declaredClass+" "+err.toString());_248.closeDropDown();}});};this.searchTimer=setTimeout(lang.hitch(this,function(_24b,_24c){this.searchTimer=null;_249();this._nextSearch=this.dropDown.onPage=function(_24d){_247.start+=_247.count*_24d;_247.direction=_24d;_249();_24c.focus();};},_246,this),this.searchDelay);},_getValueField:function(){return this.searchAttr;},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var _24e=this.srcNodeRef;var list=this.list;if(list){this.store=_22f.byId(list);}else{this.store=new _22e({},_24e);}if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _24f=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_24f):item[_24f];}}}this.inherited(arguments);},postCreate:function(){var _250=_22b('label[for="'+this.id+'"]');if(_250.length){_250[0].id=(this.id+"_label");this.domNode.setAttribute("aria-labelledby",_250[0].id);}this.inherited(arguments);},_getMenuLabelFromItem:function(item){var _251=this.labelFunc(item,this.store),_252=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_251=this.doHighlight(_251,this._escapeHtml(this._lastInput));_252="html";}return{html:_252=="html",label:_251};},doHighlight:function(_253,find){var _254=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_22c.escapeString(find);return this._escapeHtml(_253).replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_254),'<span class="dijitComboBoxHighlightMatch">$1</span>');},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_255){return(_255._oldAPI?_255.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_256,_257,_258,item){this._set("item",item||null);if(!_256){_256="";}this.inherited(arguments);},_setTextDirAttr:function(_259){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_259);}}});});},"url:dijit/layout/templates/_ScrollingTabControllerButton.html":'<div data-dojo-attach-event="onclick:_onClick">\r\n\t<div role="presentation" class="dijitTabInnerDiv" data-dojo-attach-point="innerDiv,focusNode">\r\n\t\t<div role="presentation" class="dijitTabContent dijitButtonContents" data-dojo-attach-point="tabContent">\r\n\t\t\t<img role="presentation" alt="" src="${_blankGif}" class="dijitTabStripIcon" data-dojo-attach-point="iconNode"/>\r\n\t\t\t<span data-dojo-attach-point="containerNode,titleNode" class="dijitButtonText"></span>\r\n\t\t</div>\r\n\t</div>\r\n</div>',"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_25a,_25b,_25c){return _25a("dijit.form.MappedTextBox",_25c,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:null,serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_25b.place("<input type='hidden'"+(this.name?" name='"+this.name.replace(/'/g,"&quot;")+"'":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/ComboBoxMixin":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}"\r\n\trole="combobox"\r\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n\t\tdata-dojo-attach-point="_buttonNode, _popupStateNode" role="presentation"\r\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\r\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox" aria-haspopup="true"\r\n\t/></div\r\n></div>\r\n'}});define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_25d,_25e,_25f,lang,_260,_261,_262,_263,_264){return _25d("dijit.form.ComboBoxMixin",[_263,_261],{dropDownClass:_262,hasDownArrow:true,templateString:_264,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_265){if(!_265.get){lang.mixin(_265,{_oldAPI:true,get:function(id){var _266=new _25e();this.fetchItemByIdentity({identity:id,onItem:function(_267){_266.resolve(_267);},onError:function(_268){_266.reject(_268);}});return _266.promise;},query:function(_269,_26a){var _26b=new _25e(function(){_26c.abort&&_26c.abort();});var _26c=this.fetch(lang.mixin({query:_269,onBegin:function(_26d){_26b.total=_26d;},onComplete:function(_26e){_26b.resolve(_26e);},onError:function(_26f){_26b.reject(_26f);}},_26a));return _260(_26b);}});}this._set("store",_265);},postMixInProperties:function(){if(this.params.store){this._setStoreAttr(this.params.store);}this.inherited(arguments);if(!this.params.store){var _270=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_25f.deprecated(_270+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_25f.deprecated(_270+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_25f.deprecated(_270+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_271){new _271({objectStore:this}).fetch(args);}));}});}}});});},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang",".."],function(_272,_273,dom,_274,keys,lang,_275){var _276=_273("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_277,_278,_279){var _27a;if(_277!==undefined){_27a=this.filter(_277);if(typeof _279!="string"){if(_27a!==null&&((typeof _27a!="number")||!isNaN(_27a))){_279=this.filter(this.format(_27a,this.constraints));}else{_279="";}}}if(_279!=null&&_279!=undefined&&((typeof _279)!="number"||!isNaN(_279))&&this.textbox.value!=_279){this.textbox.value=_279;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_279);}this.inherited(arguments,[_27a,_278]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_27b){if(_27b===null||_27b===undefined){_27b="";}else{if(typeof _27b!="string"){_27b=String(_27b);}}this.textbox.value=_27b;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_27b);}},format:function(_27c){return((_27c==null||_27c==undefined)?"":(_27c.toString?_27c.toString():_27c));},parse:function(_27d){return _27d;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _27e=function(e){var _27f=e.charOrCode||e.keyCode||229;if(e.type=="keydown"){switch(_27f){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:return;default:if(_27f>=65&&_27f<=90){return;}}}if(e.type=="keypress"&&typeof _27f!="string"){return;}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux=lang.mixin({},e,{charOrCode:_27f,wasConsumed:false,preventDefault:function(){faux.wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){_274.stop(faux);}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});};_272.forEach(["onkeydown","onkeypress","onpaste","oncut","oninput","oncompositionend"],function(_280){this.connect(this.textbox,_280,_27e);},this);},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);}},_isTextSelected:function(){return this.textbox.selectionStart==this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);if(this._isTextSelected()){_276.selectInputText(this.textbox);}});this.defer(function(){if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_281){if(!this._created||this.textDir!=_281){this._set("textDir",_281);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_276._setSelectionRange=_275._setSelectionRange=function(_282,_283,stop){if(_282.setSelectionRange){_282.setSelectionRange(_283,stop);}};_276.selectInputText=_275.selectInputText=function(_284,_285,stop){_284=dom.byId(_284);if(isNaN(_285)){_285=0;}if(isNaN(stop)){stop=_284.value?_284.value.length:0;}try{_284.focus();_276._setSelectionRange(_284,_285,stop);}catch(e){}};return _276;});},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/_base/sniff","dojo/_base/window","./TextBox"],function(_286,_287,has,win,_288){return _286("dijit.form.SimpleTextarea",_288,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_287.add(this.textbox,"dijitTextAreaCols");}},filter:function(_289){if(_289){_289=_289.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _28a=parseInt(this.maxLength);var _28b=this.textbox.value.replace(/\r/g,"");var _28c=_28b.length-_28a;if(_28c>0){var _28d=this.textbox;if(_28d.selectionStart){var pos=_28d.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_28b.substring(0,pos-_28c-cr)+_28b.substring(pos-cr);_28d.setSelectionRange(pos-_28c,pos-_28c);}else{if(win.doc.selection){_28d.focus();var _28e=win.doc.selection.createRange();_28e.moveStart("character",-_28c);_28e.text="";_28e.select();}}}}this.inherited(arguments);}});});},"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode\" data-dojo-attach-event='onclick:onClick'>\r\n    <div role=\"presentation\" class='dijitTabInnerDiv' data-dojo-attach-point='innerDiv'>\r\n        <div role=\"presentation\" class='dijitTabContent' data-dojo-attach-point='tabContent'>\r\n        \t<div role=\"presentation\" data-dojo-attach-point='focusNode'>\r\n\t\t        <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode' />\r\n\t\t        <span data-dojo-attach-point='containerNode' class='tabLabel'></span>\r\n\t\t        <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\r\n\t\t        \t\tdata-dojo-attach-event='onclick: onClickCloseButton' role=\"presentation\">\r\n\t\t            <span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\r\n\t\t        ></span>\r\n\t\t\t</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","dijit/_base/window":function(){define("dijit/_base/window",["dojo/window",".."],function(_28f,_290){_290.getDocumentWindow=function(doc){return _28f.get(doc);};});},"dijit/PopupMenuItem":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/query","dojo/_base/window","./registry","./MenuItem","./hccss"],function(_291,_292,_293,win,_294,_295){return _291("dijit.PopupMenuItem",_295,{_fillContent:function(){if(this.srcNodeRef){var _296=_293("*",this.srcNodeRef);this.inherited(arguments,[_296[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_293("[widgetId]",this.dropDownContainer)[0];this.popup=_294.byNode(node);}win.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_292.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_297){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_297);}delete this.popup;}this.inherited(arguments);}});});},"dijit/_TimePicker":function(){require({cache:{"url:dijit/templates/TimePicker.html":'<div id="widget_${id}" class="dijitMenu"\r\n    ><div data-dojo-attach-point="upArrow" class="dijitButtonNode dijitUpArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\r\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\r\n\t\t><div class="dijitArrowButtonChar">&#9650;</div></div\r\n    ><div data-dojo-attach-point="timeMenu,focusNode" data-dojo-attach-event="onclick:_onOptionSelected,onmouseover,onmouseout"></div\r\n    ><div data-dojo-attach-point="downArrow" class="dijitButtonNode dijitDownArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\r\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\r\n\t\t><div class="dijitArrowButtonChar">&#9660;</div></div\r\n></div>\r\n'}});define("dijit/_TimePicker",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/query","dijit/typematic","./_Widget","./_TemplatedMixin","./form/_FormValueWidget","dojo/text!./templates/TimePicker.html"],function(_298,_299,_29a,_29b,_29c,_29d,_29e,_29f,_2a0,keys,lang,has,_2a1,_2a2,_2a3,_2a4,_2a5,_2a6){return _29c("dijit._TimePicker",[_2a3,_2a4],{templateString:_2a6,baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",visibleRange:"T05:00:00",value:new Date(),_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:_29b.toISOString,setValue:function(_2a7){_2a0.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_2a7);},_setValueAttr:function(date){this._set("value",date);this._showText();},_setFilterStringAttr:function(val){this._set("filterString",val);this._showText();},isDisabledDate:function(){return false;},_getFilteredNodes:function(_2a8,_2a9,_2aa,_2ab){var _2ac=[],_2ad=_2ab?_2ab.date:this._refDate,n,i=_2a8,max=this._maxIncrement+Math.abs(i),chk=_2aa?-1:1,dec=_2aa?1:0,inc=1-dec;do{i-=dec;n=this._createOption(i);if(n){if((_2aa&&n.date>_2ad)||(!_2aa&&n.date<_2ad)){break;}_2ac[_2aa?"unshift":"push"](n);_2ad=n.date;}i+=inc;}while(_2ac.length<_2a9&&(i*chk)<max);return _2ac;},_showText:function(){var _2ae=_29b.fromISOString;this.timeMenu.innerHTML="";this._clickableIncrementDate=_2ae(this.clickableIncrement);this._visibleIncrementDate=_2ae(this.visibleIncrement);this._visibleRangeDate=_2ae(this.visibleRange);var _2af=function(date){return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();},_2b0=_2af(this._clickableIncrementDate),_2b1=_2af(this._visibleIncrementDate),_2b2=_2af(this._visibleRangeDate),time=(this.value||this.currentFocus).getTime();this._refDate=new Date(time-time%(_2b0*1000));this._refDate.setFullYear(1970,0,1);this._clickableIncrement=1;this._totalIncrements=_2b2/_2b0;this._visibleIncrement=_2b1/_2b0;this._maxIncrement=(60*60*24)/_2b0;var _2b3=Math.min(this._totalIncrements,10),_2b4=this._getFilteredNodes(0,(_2b3>>1)+1,false),_2b5=[],_2b6=_2b3-_2b4.length,_2b7=this._getFilteredNodes(0,_2b6,true,_2b4[0]);if(_2b7.length<_2b6&&_2b4.length>0){_2b5=this._getFilteredNodes(_2b4.length,_2b6-_2b7.length,false,_2b4[_2b4.length-1]);}_298.forEach(_2b7.concat(_2b4,_2b5),function(n){this.timeMenu.appendChild(n);},this);},constructor:function(){this.constraints={};},postMixInProperties:function(){this.inherited(arguments);this._setConstraintsAttr(this.constraints);},_setConstraintsAttr:function(_2b8){lang.mixin(this,_2b8);if(!_2b8.locale){_2b8.locale=this.lang;}},postCreate:function(){this.connect(this.timeMenu,has("ie")?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(_2a2.addMouseListener(this.upArrow,this,"_onArrowUp",33,250));this._connects.push(_2a2.addMouseListener(this.downArrow,this,"_onArrowDown",33,250));this.inherited(arguments);},_buttonMouse:function(e){_29d.toggle(e.currentTarget,e.currentTarget==this.upArrow?"dijitUpArrowHover":"dijitDownArrowHover",e.type=="mouseenter"||e.type=="mouseover");},_createOption:function(_2b9){var date=new Date(this._refDate);var _2ba=this._clickableIncrementDate;date.setHours(date.getHours()+_2ba.getHours()*_2b9,date.getMinutes()+_2ba.getMinutes()*_2b9,date.getSeconds()+_2ba.getSeconds()*_2b9);if(this.constraints.selector=="time"){date.setFullYear(1970,0,1);}var _2bb=_29a.format(date,this.constraints);if(this.filterString&&_2bb.toLowerCase().indexOf(this.filterString)!==0){return null;}var div=_29e.create("div",{"class":this.baseClass+"Item"});div.date=date;div.index=_2b9;_29e.create("div",{"class":this.baseClass+"ItemInner",innerHTML:_2bb},div);if(_2b9%this._visibleIncrement<1&&_2b9%this._visibleIncrement>-1){_29d.add(div,this.baseClass+"Marker");}else{if(!(_2b9%this._clickableIncrement)){_29d.add(div,this.baseClass+"Tick");}}if(this.isDisabledDate(date)){_29d.add(div,this.baseClass+"ItemDisabled");}if(this.value&&!_299.compare(this.value,date,this.constraints.selector)){div.selected=true;_29d.add(div,this.baseClass+"ItemSelected");if(_29d.contains(div,this.baseClass+"Marker")){_29d.add(div,this.baseClass+"MarkerSelected");}else{_29d.add(div,this.baseClass+"TickSelected");}this._highlightOption(div,true);}return div;},_onOptionSelected:function(tgt){var _2bc=tgt.target.date||tgt.target.parentNode.date;if(!_2bc||this.isDisabledDate(_2bc)){return;}this._highlighted_option=null;this.set("value",_2bc);this.onChange(_2bc);},onChange:function(){},_highlightOption:function(node,_2bd){if(!node){return;}if(_2bd){if(this._highlighted_option){this._highlightOption(this._highlighted_option,false);}this._highlighted_option=node;}else{if(this._highlighted_option!==node){return;}else{this._highlighted_option=null;}}_29d.toggle(node,this.baseClass+"ItemHover",_2bd);if(_29d.contains(node,this.baseClass+"Marker")){_29d.toggle(node,this.baseClass+"MarkerHover",_2bd);}else{_29d.toggle(node,this.baseClass+"TickHover",_2bd);}},onmouseover:function(e){this._keyboardSelected=null;var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;if(!_29d.contains(tgr,this.baseClass+"Item")){return;}this._highlightOption(tgr,true);},onmouseout:function(e){this._keyboardSelected=null;var tgr=(e.target.parentNode===this.timeMenu)?e.target:e.target.parentNode;this._highlightOption(tgr,false);},_mouseWheeled:function(e){this._keyboardSelected=null;_29f.stop(e);var _2be=(has("ie")?e.wheelDelta:-e.detail);this[(_2be>0?"_onArrowUp":"_onArrowDown")]();},_onArrowUp:function(_2bf){if(typeof _2bf=="number"&&_2bf==-1){return;}if(!this.timeMenu.childNodes.length){return;}var _2c0=this.timeMenu.childNodes[0].index;var divs=this._getFilteredNodes(_2c0,1,true,this.timeMenu.childNodes[0]);if(divs.length){this.timeMenu.removeChild(this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);this.timeMenu.insertBefore(divs[0],this.timeMenu.childNodes[0]);}},_onArrowDown:function(_2c1){if(typeof _2c1=="number"&&_2c1==-1){return;}if(!this.timeMenu.childNodes.length){return;}var _2c2=this.timeMenu.childNodes[this.timeMenu.childNodes.length-1].index+1;var divs=this._getFilteredNodes(_2c2,1,false,this.timeMenu.childNodes[this.timeMenu.childNodes.length-1]);if(divs.length){this.timeMenu.removeChild(this.timeMenu.childNodes[0]);this.timeMenu.appendChild(divs[0]);}},handleKey:function(e){if(e.charOrCode==keys.DOWN_ARROW||e.charOrCode==keys.UP_ARROW){_29f.stop(e);if(this._highlighted_option&&!this._highlighted_option.parentNode){this._highlighted_option=null;}var _2c3=this.timeMenu,tgt=this._highlighted_option||_2a1("."+this.baseClass+"ItemSelected",_2c3)[0];if(!tgt){tgt=_2c3.childNodes[0];}else{if(_2c3.childNodes.length){if(e.charOrCode==keys.DOWN_ARROW&&!tgt.nextSibling){this._onArrowDown();}else{if(e.charOrCode==keys.UP_ARROW&&!tgt.previousSibling){this._onArrowUp();}}if(e.charOrCode==keys.DOWN_ARROW){tgt=tgt.nextSibling;}else{tgt=tgt.previousSibling;}}}this._highlightOption(tgt,true);this._keyboardSelected=tgt;return false;}else{if(e.charOrCode==keys.ENTER||e.charOrCode===keys.TAB){if(!this._keyboardSelected&&e.charOrCode===keys.TAB){return true;}if(this._highlighted_option){this._onOptionSelected({target:this._highlighted_option});}return e.charOrCode===keys.TAB;}}return undefined;}});});},"dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_2c4,_2c5,_2c6){return _2c4("dijit.form.RadioButton",[_2c5,_2c6],{baseClass:"dijitRadio"});});},"url:dijit/form/templates/HorizontalSlider.html":'<table class="dijit dijitReset dijitSlider dijitSliderH" cellspacing="0" cellpadding="0" border="0" rules="none" data-dojo-attach-event="onkeypress:_onKeyPress,onkeyup:_onKeyUp"\r\n\t><tr class="dijitReset"\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t\t><td data-dojo-attach-point="topDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"></td\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t></tr\r\n\t><tr class="dijitReset"\r\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t><div class="dijitSliderDecrementIconH" style="display:none" data-dojo-attach-point="decrementButton"><span class="dijitSliderButtonInner">-</span></div\r\n\t\t></td\r\n\t\t><td class="dijitReset"\r\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event="press:_onClkDecBumper"></div\r\n\t\t></td\r\n\t\t><td class="dijitReset"\r\n\t\t\t><input data-dojo-attach-point="valueNode" type="hidden" ${!nameAttrSetting}\r\n\t\t\t/><div class="dijitReset dijitSliderBarContainerH" role="presentation" data-dojo-attach-point="sliderBarContainer"\r\n\t\t\t\t><div role="presentation" data-dojo-attach-point="progressBar" class="dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event="press:_onBarClick"\r\n\t\t\t\t\t><div class="dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t><div data-dojo-attach-point="sliderHandle,focusNode" class="dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event="press:_onHandleClick" role="slider" valuemin="${minimum}" valuemax="${maximum}"></div\r\n\t\t\t\t\t></div\r\n\t\t\t\t></div\r\n\t\t\t\t><div role="presentation" data-dojo-attach-point="remainingBar" class="dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event="press:_onBarClick"></div\r\n\t\t\t></div\r\n\t\t></td\r\n\t\t><td class="dijitReset"\r\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event="press:_onClkIncBumper"></div\r\n\t\t></td\r\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t><div class="dijitSliderIncrementIconH" style="display:none" data-dojo-attach-point="incrementButton"><span class="dijitSliderButtonInner">+</span></div\r\n\t\t></td\r\n\t></tr\r\n\t><tr class="dijitReset"\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t\t><td data-dojo-attach-point="containerNode,bottomDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"></td\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t></tr\r\n></table>\r\n',"url:dijit/templates/TimePicker.html":'<div id="widget_${id}" class="dijitMenu"\r\n    ><div data-dojo-attach-point="upArrow" class="dijitButtonNode dijitUpArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\r\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\r\n\t\t><div class="dijitArrowButtonChar">&#9650;</div></div\r\n    ><div data-dojo-attach-point="timeMenu,focusNode" data-dojo-attach-event="onclick:_onOptionSelected,onmouseover,onmouseout"></div\r\n    ><div data-dojo-attach-point="downArrow" class="dijitButtonNode dijitDownArrowButton" data-dojo-attach-event="onmouseenter:_buttonMouse,onmouseleave:_buttonMouse"\r\n\t\t><div class="dijitReset dijitInline dijitArrowButtonInner" role="presentation">&#160;</div\r\n\t\t><div class="dijitArrowButtonChar">&#9660;</div></div\r\n></div>\r\n',"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window"],function(on,_2c7,keys,_2c8,has,_2c9,win){var _2ca=null;if(has("ie")<9){(function(){var _2cb=function(evt){_2ca=evt.srcElement;};win.doc.attachEvent("onkeydown",_2cb);_2c9.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_2cb);});})();}else{win.doc.addEventListener("keydown",function(evt){_2ca=evt.target;},true);}var _2cc=function(node,_2cd){if(/input|button/i.test(node.nodeName)){return on(node,"click",_2cd);}else{function _2ce(e){return(e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;}var _2cf=[on(node,"keypress",function(e){if(_2ce(e)){_2ca=e.target;e.preventDefault();}}),on(node,"keyup",function(e){if(_2ce(e)&&e.target==_2ca){_2ca=null;_2cd.call(this,e);}}),on(node,"click",function(e){_2cd.call(this,e);})];return{remove:function(){_2c7.forEach(_2cf,function(h){h.remove();});}};}};return _2c8("dijit._OnDijitClickMixin",null,{connect:function(obj,_2d0,_2d1){return this.inherited(arguments,[obj,_2d0=="ondijitclick"?_2cc:_2d0,_2d1]);}});});},"dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","dojo/_base/window","../registry"],function(_2d2,_2d3,_2d4,_2d5,lang,_2d6,win,_2d7){return _2d3("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_2d6("input[type=radio]",this.focusNode.form||win.doc).forEach(lang.hitch(this,function(_2d8){if(_2d8.name==this.name&&_2d8.form==this.focusNode.form){var _2d9=_2d7.getEnclosingWidget(_2d8);if(_2d9){ary.push(_2d9);}}}));return ary;},_setCheckedAttr:function(_2da){this.inherited(arguments);if(!this._created){return;}if(_2da){_2d2.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_2db){if(_2db!=this&&_2db.checked){_2db.set("checked",false);}}));}},_onClick:function(e){if(this.checked||this.disabled){_2d5.stop(e);return false;}if(this.readOnly){_2d5.stop(e);_2d2.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_2dc){_2d4.set(this.focusNode||this.domNode,"checked",_2dc.checked);}));return false;}return this.inherited(arguments);}});});},"url:dijit/templates/TreeNode.html":'<div class="dijitTreeNode" role="presentation"\r\n\t><div data-dojo-attach-point="rowNode" class="dijitTreeRow" role="presentation" data-dojo-attach-event="onmouseenter:_onMouseEnter, onmouseleave:_onMouseLeave, onclick:_onClick, ondblclick:_onDblClick"\r\n\t\t><img src="${_blankGif}" alt="" data-dojo-attach-point="expandoNode" class="dijitTreeExpando" role="presentation"\r\n\t\t/><span data-dojo-attach-point="expandoNodeText" class="dijitExpandoText" role="presentation"\r\n\t\t></span\r\n\t\t><span data-dojo-attach-point="contentNode"\r\n\t\t\tclass="dijitTreeContent" role="presentation">\r\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="iconNode" class="dijitIcon dijitTreeIcon" role="presentation"\r\n\t\t\t/><span data-dojo-attach-point="labelNode" class="dijitTreeLabel" role="treeitem" tabindex="-1" aria-selected="false" data-dojo-attach-event="onfocus:_onLabelFocus"></span>\r\n\t\t</span\r\n\t></div>\r\n\t<div data-dojo-attach-point="containerNode" class="dijitTreeContainer" role="presentation" style="display: none;"></div>\r\n</div>\r\n',"url:dijit/templates/Tree.html":'<div class="dijitTree dijitTreeContainer" role="tree"\r\n\tdata-dojo-attach-event="onkeypress:_onKeyPress">\r\n\t<div class="dijitInline dijitTreeIndent" style="position: absolute; top: -9999px" data-dojo-attach-point="indentDetector"></div>\r\n</div>\r\n',"dijit/form/_ListMouseMixin":function(){define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/_base/event","dojo/touch","./_ListBase"],function(_2dd,_2de,_2df,_2e0){return _2dd("dijit.form._ListMouseMixin",_2e0,{postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_2df.press,"_onMouseDown");this.connect(this.domNode,_2df.release,"_onMouseUp");this.connect(this.domNode,"onmouseover","_onMouseOver");this.connect(this.domNode,"onmouseout","_onMouseOut");},_onMouseDown:function(evt){_2de.stop(evt);if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(this._getTarget(evt));},_onMouseUp:function(evt){_2de.stop(evt);this._isDragging=false;var _2e1=this._getSelectedAttr();var _2e2=this._getTarget(evt);var _2e3=this._hoveredNode;if(_2e1&&_2e2==_2e1){this.onClick(_2e1);}else{if(_2e3&&_2e2==_2e3){this._setSelectedAttr(_2e3);this.onClick(_2e3);}}},_onMouseOut:function(){if(this._hoveredNode){this.onUnhover(this._hoveredNode);if(this._getSelectedAttr()==this._hoveredNode){this.onSelect(this._hoveredNode);}this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}var node=this._getTarget(evt);if(!node){return;}if(this._hoveredNode!=node){if(this._hoveredNode){this._onMouseOut({target:this._hoveredNode});}if(node&&node.parentNode==this.containerNode){if(this._isDragging){this._setSelectedAttr(node);}else{this._hoveredNode=node;this.onHover(node);}}}}});});},"dojo/cache":function(){define(["./_base/kernel","./text"],function(dojo,text){return dojo.cache;});},"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}"\r\n\trole="combobox"\r\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n\t\tdata-dojo-attach-point="_buttonNode, _popupStateNode" role="presentation"\r\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\r\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox" aria-haspopup="true"\r\n\t/></div\r\n></div>\r\n',"dijit/ProgressBar":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/number","./_Widget","./_TemplatedMixin","dojo/text!./templates/ProgressBar.html"],function(_2e4,_2e5,_2e6,lang,_2e7,_2e8,_2e9,_2ea){return _2e5("dijit.ProgressBar",[_2e8,_2e9],{progress:"0",value:"",maximum:100,places:0,indeterminate:false,label:"",name:"",templateString:_2ea,_indeterminateHighContrastImagePath:_2e4.toUrl("./themes/a11y/indeterminate_progress.gif"),postMixInProperties:function(){this.inherited(arguments);if(!("value" in this.params)){this.value=this.indeterminate?Infinity:this.progress;}},buildRendering:function(){this.inherited(arguments);this.indeterminateHighContrastImage.setAttribute("src",this._indeterminateHighContrastImagePath.toString());this.update();},update:function(_2eb){lang.mixin(this,_2eb||{});var tip=this.internalProgress,ap=this.domNode;var _2ec=1;if(this.indeterminate){ap.removeAttribute("aria-valuenow");ap.removeAttribute("aria-valuemin");ap.removeAttribute("aria-valuemax");}else{if(String(this.progress).indexOf("%")!=-1){_2ec=Math.min(parseFloat(this.progress)/100,1);this.progress=_2ec*this.maximum;}else{this.progress=Math.min(this.progress,this.maximum);_2ec=this.maximum?this.progress/this.maximum:0;}ap.setAttribute("aria-describedby",this.labelNode.id);ap.setAttribute("aria-valuenow",this.progress);ap.setAttribute("aria-valuemin",0);ap.setAttribute("aria-valuemax",this.maximum);}this.labelNode.innerHTML=this.report(_2ec);_2e6.toggle(this.domNode,"dijitProgressBarIndeterminate",this.indeterminate);tip.style.width=(_2ec*100)+"%";this.onChange();},_setValueAttr:function(v){this._set("value",v);if(v==Infinity){this.update({indeterminate:true});}else{this.update({indeterminate:false,progress:v});}},_setLabelAttr:function(_2ed){this._set("label",_2ed);this.update();},_setIndeterminateAttr:function(_2ee){this.indeterminate=_2ee;this.update();},report:function(_2ef){return this.label?this.label:(this.indeterminate?"&#160;":_2e7.format(_2ef,{type:"percent",places:this.places,locale:this.lang}));},onChange:function(){}});});},"dijit/_base/popup":function(){define("dijit/_base/popup",["dojo/dom-class","../popup","../BackgroundIframe"],function(_2f0,_2f1){var _2f2=_2f1._createWrapper;_2f1._createWrapper=function(_2f3){if(!_2f3.declaredClass){_2f3={_popupWrapper:(_2f3.parentNode&&_2f0.contains(_2f3.parentNode,"dijitPopup"))?_2f3.parentNode:null,domNode:_2f3,destroy:function(){}};}return _2f2.call(this,_2f3);};var _2f4=_2f1.open;_2f1.open=function(args){if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){var ary=[];for(var key in args.orient){ary.push({aroundCorner:key,corner:args.orient[key]});}args.orient=ary;}return _2f4.call(this,args);};return _2f1;});},"dijit/form/NumberTextBox":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_2f5,lang,_2f6,_2f7){var _2f8=_2f5("dijit.form.NumberTextBoxMixin",null,{regExpGen:_2f6.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:_2f6.format,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_2f9){var _2fa=typeof _2f9.places=="number"?_2f9.places:0;if(_2fa){_2fa++;}if(typeof _2f9.max!="number"){_2f9.max=9*Math.pow(10,15-_2fa);}if(typeof _2f9.min!="number"){_2f9.min=-9*Math.pow(10,15-_2fa);}this.inherited(arguments,[_2f9]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _2fb=this.format(val,this.constraints);if(_2fb!==undefined){this.textbox.value=_2fb;}}this.inherited(arguments);},format:function(_2fc,_2fd){var _2fe=String(_2fc);if(typeof _2fc!="number"){return _2fe;}if(isNaN(_2fc)){return"";}if(!("rangeCheck" in this&&this.rangeCheck(_2fc,_2fd))&&_2fd.exponent!==false&&/\de[-+]?\d/i.test(_2fe)){return _2fe;}if(this.editOptions&&this.focused){_2fd=lang.mixin({},_2fd,this.editOptions);}return this._formatter(_2fc,_2fd);},_parser:_2f6.parse,parse:function(_2ff,_300){var v=this._parser(_2ff,lang.mixin({},_300,(this.editOptions&&this.focused)?this.editOptions:{}));if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_2ff,_300);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_301){return(_301===null||_301===""||_301===undefined)?NaN:this.inherited(arguments);},serialize:function(_302,_303){return(typeof _302!="number"||isNaN(_302))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.mixin({},this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_304,_305,_306){if(_304!==undefined&&_306===undefined){_306=String(_304);if(typeof _304=="number"){if(isNaN(_304)){_306="";}else{if(("rangeCheck" in this&&this.rangeCheck(_304,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_306)){_306=undefined;}}}else{if(!_304){_306="";_304=NaN;}else{_304=undefined;}}}this.inherited(arguments,[_304,_305,_306]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_2f6._realNumberRegexp(lang.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_307){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});var _308=_2f5("dijit.form.NumberTextBox",[_2f7,_2f8],{baseClass:"dijitTextBox dijitNumberTextBox"});_308.Mixin=_2f8;return _308;});},"dijit/form/TimeTextBox":function(){define("dijit/form/TimeTextBox",["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(_309,keys,lang,_30a,_30b){return _309("dijit.form.TimeTextBox",_30b,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:_30a,_selector:"time",value:new Date(""),_onKey:function(evt){if(this.disabled||this.readOnly){return;}this.inherited(arguments);switch(evt.keyCode){case keys.ENTER:case keys.TAB:case keys.ESCAPE:case keys.DOWN_ARROW:case keys.UP_ARROW:break;default:this.defer(function(){var val=this.get("displayedValue");this.filterString=(val&&!this.parse(val,this.constraints))?val.toLowerCase():"";if(this._opened){this.closeDropDown();}this.openDropDown();});}}});});},"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\r\n\t><span class="dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdata-dojo-attach-point="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\r\n/></span>\r\n',"dijit/form/CurrencyTextBox":function(){define("dijit/form/CurrencyTextBox",["dojo/currency","dojo/_base/declare","dojo/_base/lang","./NumberTextBox"],function(_30c,_30d,lang,_30e){return _30d("dijit.form.CurrencyTextBox",_30e,{currency:"",baseClass:"dijitTextBox dijitCurrencyTextBox",regExpGen:function(_30f){return"("+(this.focused?this.inherited(arguments,[lang.mixin({},_30f,this.editOptions)])+"|":"")+_30c.regexp(_30f)+")";},_formatter:_30c.format,_parser:_30c.parse,parse:function(_310,_311){var v=this.inherited(arguments);if(isNaN(v)&&/\d+/.test(_310)){v=lang.hitch(lang.mixin({},this,{_parser:_30e.prototype._parser}),"inherited")(arguments);}return v;},_setConstraintsAttr:function(_312){if(!_312.currency&&this.currency){_312.currency=this.currency;}this.inherited(arguments,[_30c._mixInDefaults(lang.mixin(_312,{exponent:false}))]);}});});},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\r\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\r\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\r\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\r\n\t</td>\r\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\r\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\r\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\r\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\r\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\r\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\r\n\t\t</div>\r\n\t</td>\r\n</tr>\r\n',"url:dijit/form/templates/CheckBox.html":'<div class="dijit dijitReset dijitInline" role="presentation"\r\n\t><input\r\n\t \t${!nameAttrSetting} type="${type}" ${checkedAttrSetting}\r\n\t\tclass="dijitReset dijitCheckBoxInput"\r\n\t\tdata-dojo-attach-point="focusNode"\r\n\t \tdata-dojo-attach-event="onclick:_onClick"\r\n/></div>\r\n',"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./_base/sniff","./_base/window"],function(_313,lang,_314,has,_315){var html=_315.doc.documentElement,ie=has("ie"),_316=has("opera"),maj=Math.floor,ff=has("ff"),_317=_313.boxModel.replace(/-/,""),_318={"dj_ie":ie,"dj_ie6":maj(ie)==6,"dj_ie7":maj(ie)==7,"dj_ie8":maj(ie)==8,"dj_ie9":maj(ie)==9,"dj_quirks":has("quirks"),"dj_iequirks":ie&&has("quirks"),"dj_opera":_316,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ff3":maj(ff)==3};_318["dj_"+_317]=true;var _319="";for(var clz in _318){if(_318[clz]){_319+=clz+" ";}}html.className=lang.trim(html.className+" "+_319);_314(90,function(){if(!_313.isBodyLtr()){var _31a="dj_rtl dijitRtl "+_319.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_31a+"dj_rtl dijitRtl "+_319.replace(/ /g,"-rtl "));}});return has;});},"dijit/layout/LayoutContainer":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","../_WidgetBase","./_LayoutWidget","./utils"],function(_31b,lang,_31c,_31d,_31e,_31f){lang.extend(_31d,{layoutAlign:"none"});return _31c("dijit.layout.LayoutContainer",_31e,{baseClass:"dijitLayoutContainer",constructor:function(){_31b.deprecated("dijit.layout.LayoutContainer is deprecated","use BorderContainer instead",2);},layout:function(){_31f.layoutChildren(this.domNode,this._contentBox,this.getChildren());},addChild:function(_320,_321){this.inherited(arguments);if(this._started){_31f.layoutChildren(this.domNode,this._contentBox,this.getChildren());}},removeChild:function(_322){this.inherited(arguments);if(this._started){_31f.layoutChildren(this.domNode,this._contentBox,this.getChildren());}}});});},"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator">\r\n\t<td class="dijitMenuSeparatorIconCell">\r\n\t\t<div class="dijitMenuSeparatorTop"></div>\r\n\t\t<div class="dijitMenuSeparatorBottom"></div>\r\n\t</td>\r\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\r\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\r\n\t\t<div class="dijitMenuSeparatorBottom"></div>\r\n\t</td>\r\n</tr>',"dijit/Tooltip":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","."],function(_323,_324,fx,dom,_325,_326,_327,lang,has,win,_328,_329,_32a,_32b,_32c,_32d,_32e){var _32f=_324("dijit._MasterTooltip",[_32a,_32b],{duration:_328.defaultDuration,templateString:_32d,postCreate:function(){win.body().appendChild(this.domNode);this.bgIframe=new _32c(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_330,_331,_332,rtl,_333){if(this.aroundNode&&this.aroundNode===_331&&this.containerNode.innerHTML==_330){return;}this.domNode.width="auto";if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_330;this.set("textDir",_333);this.containerNode.align=rtl?"right":"left";var pos=_329.around(this.domNode,_331,_332&&_332.length?_332:_334.defaultPosition,!rtl,lang.hitch(this,"orient"));var _335=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_335.y+((_335.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_335.x+((_335.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}_327.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_331;},orient:function(node,_336,_337,_338,_339){this.connectorNode.style.top="";var _33a=_338.w-this.connectorNode.offsetWidth;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_336+"-"+_337];this.domNode.style.width="auto";var size=_326.getContentBox(this.domNode);var _33b=Math.min((Math.max(_33a,1)),size.w);var _33c=_33b<size.w;this.domNode.style.width=_33b+"px";if(_33c){this.containerNode.style.overflow="auto";var _33d=this.containerNode.scrollWidth;this.containerNode.style.overflow="visible";if(_33d>_33b){_33d=_33d+_327.get(this.domNode,"paddingLeft")+_327.get(this.domNode,"paddingRight");this.domNode.style.width=_33d+"px";}}if(_337.charAt(0)=="B"&&_336.charAt(0)=="B"){var mb=_326.getMarginBox(node);var _33e=this.connectorNode.offsetHeight;if(mb.h>_338.h){var _33f=_338.h-((_339.h+_33e)>>1);this.connectorNode.style.top=_33f+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_339.h/2-_33e/2,0),mb.h-_33e)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_33a);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_340){if(this._onDeck&&this._onDeck[1]==_340){this._onDeck=null;}else{if(this.aroundNode===_340){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_323.forEach(node.children,function(_341){this._setAutoTextDir(_341);},this);},_setTextDirAttr:function(_342){this._set("textDir",typeof _342!="undefined"?_342:"");if(_342=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_32e.showTooltip=function(_343,_344,_345,rtl,_346){if(_345){_345=_323.map(_345,function(val){return{after:"after-centered",before:"before-centered"}[val]||val;});}if(!_334._masterTT){_32e._masterTT=_334._masterTT=new _32f();}return _334._masterTT.show(_343,_344,_345,rtl,_346);};_32e.hideTooltip=function(_347){return _334._masterTT&&_334._masterTT.hide(_347);};var _334=_324("dijit.Tooltip",_32a,{label:"",showDelay:400,connectId:[],position:[],_setConnectIdAttr:function(_348){_323.forEach(this._connections||[],function(_349){_323.forEach(_349,lang.hitch(this,"disconnect"));},this);this._connectIds=_323.filter(lang.isArrayLike(_348)?_348:(_348?[_348]:[]),function(id){return dom.byId(id);});this._connections=_323.map(this._connectIds,function(id){var node=dom.byId(id);return[this.connect(node,"onmouseenter","_onHover"),this.connect(node,"onmouseleave","_onUnHover"),this.connect(node,"onfocus","_onHover"),this.connect(node,"onblur","_onUnHover")];},this);this._set("connectId",_348);},addTarget:function(node){var id=node.id||node;if(_323.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_323.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_325.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_323.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},_onHover:function(e){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(e.target);},this.showDelay);}},_onUnHover:function(){if(this._focus){return;}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_34a){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}_334.show(this.label||this.domNode.innerHTML,_34a,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_34a;this.onShow(_34a,this.position);},close:function(){if(this._connectNode){_334.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},uninitialize:function(){this.close();this.inherited(arguments);}});_334._MasterTooltip=_32f;_334.show=_32e.showTooltip;_334.hide=_32e.hideTooltip;_334.defaultPosition=["after-centered","before-centered"];return _334;});},"dijit/layout/AccordionPane":function(){define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_34b,_34c,_34d){return _34b("dijit.layout.AccordionPane",_34d,{constructor:function(){_34c.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":'<span class="dijit dijitReset dijitInline"\r\n\t><span class=\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" data-dojo-attach-point="_buttonNode"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="focusNode,titleNode,_arrowWrapperNode"\r\n\t\t\trole="button" aria-haspopup="true" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point="iconNode"\r\n\t\t\t></span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point="containerNode,_popupStateNode"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t></span\r\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonInner"></span\r\n\t\t\t><span class="dijitReset dijitInline dijitArrowButtonChar">&#9660;</span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\r\n\t\tdata-dojo-attach-point="valueNode"\r\n/></span>\r\n'}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_34e,lang,_34f,_350,_351,_352,_353,_354,_355){return _34e("dijit.form.DropDownButton",[_352,_353,_354],{baseClass:"dijitDropDownButton",templateString:_355,_fillContent:function(){if(this.srcNodeRef){var _356=_34f("*",this.srcNodeRef);this.inherited(arguments,[_356[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _357=_34f("[widgetId]",this.dropDownContainer)[0];this.dropDown=_350.byNode(_357);delete this.dropDownContainer;}if(this.dropDown){_351.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _358=this.dropDown;return(!!_358&&(!_358.href||_358.isLoaded));},loadDropDown:function(_359){var _35a=this.dropDown;var _35b=_35a.on("load",lang.hitch(this,function(){_35b.remove();_359();}));_35a.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/sniff","./_FormWidgetMixin"],function(_35c,_35d,keys,has,_35e){return _35c("dijit.form._FormValueMixin",_35e,{readOnly:false,_setReadOnlyAttr:function(_35f){_35d.set(this.focusNode,"readOnly",_35f);this.focusNode.setAttribute("aria-readonly",_35f);this._set("readOnly",_35f);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_360,_361){this._handleOnChange(_360,_361);},_handleOnChange:function(_362,_363){this._set("value",_362);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){var te;if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();te=document.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;e.srcElement.fireEvent("onkeypress",te);}}}});});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/_base/sniff","dojo/_base/window","dojo/window","../a11y"],function(_364,_365,_366,_367,lang,_368,has,win,_369,a11y){return _365("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_36a){this._set("disabled",_36a);_366.set(this.focusNode,"disabled",_36a);if(this.valueNode){_366.set(this.valueNode,"disabled",_36a);}this.focusNode.setAttribute("aria-disabled",_36a?"true":"false");if(_36a){this._set("hovering",false);this._set("active",false);var _36b="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_364.forEach(lang.isArray(_36b)?_36b:[_36b],function(_36c){var node=this[_36c];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _36d=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_36e);this.disconnect(_36d);});var _36e=this.connect(win.body(),"onmouseup",function(){this.disconnect(_36e);this.disconnect(_36d);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_369.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_367.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return(isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_36f,_370){if(this._lastValueReported==undefined&&(_370===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_36f;}this._pendingOnChange=this._pendingOnChange||(typeof _36f!=typeof this._lastValueReported)||(this.compare(_36f,this._lastValueReported)!=0);if((this.intermediateChanges||_370||_370===undefined)&&this._pendingOnChange){this._lastValueReported=_36f;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_36f);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"url:dijit/templates/ProgressBar.html":'<div class="dijitProgressBar dijitProgressBarEmpty" role="progressbar"\r\n\t><div  data-dojo-attach-point="internalProgress" class="dijitProgressBarFull"\r\n\t\t><div class="dijitProgressBarTile" role="presentation"></div\r\n\t\t><span style="visibility:hidden">&#160;</span\r\n\t></div\r\n\t><div data-dojo-attach-point="labelNode" class="dijitProgressBarLabel" id="${id}_label"></div\r\n\t><img data-dojo-attach-point="indeterminateHighContrastImage" class="dijitProgressBarIndeterminateHighContrastImage" alt=""\r\n/></div>\r\n',"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/_base/lang","dojo/query","dojo/_base/sniff","dojo/_base/window","../registry","./utils","../_Contained"],function(_371,_372,_373,_374,_375,lang,_376,has,win,_377,_378,_379){return _372("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _37a=this.getParent();this._childOfLayoutWidget=_37a&&_37a.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.connect(has("ie")?this.domNode:win.global,"onresize",function(){this._needLayout=!this._childOfLayoutWidget;this.resize();});}},_checkIfSingleChild:function(){var _37b=_376("> *",this.containerNode).filter(function(node){return node.tagName!=="SCRIPT";}),_37c=_37b.filter(function(node){return _373.has(node,"data-dojo-type")||_373.has(node,"dojoType")||_373.has(node,"widgetId");}),_37d=_371.filter(_37c.map(_377.byNode),function(_37e){return _37e&&_37e.domNode&&_37e.resize;});if(_37b.length==_37c.length&&_37d.length==1){this._singleChild=_37d[0];}else{delete this._singleChild;}_374.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_37f,_380){if(!this._wasShown&&this.open!==false){this._onShow();}this._resizeCalled=true;this._scheduleLayout(_37f,_380);},_scheduleLayout:function(_381,_382){if(this._isShown()){this._layout(_381,_382);}else{this._needLayout=true;this._changeSize=_381;this._resultSize=_382;}},_layout:function(_383,_384){if(_383){_375.setMarginBox(this.domNode,_383);}var cn=this.containerNode;if(cn===this.domNode){var mb=_384||{};lang.mixin(mb,_383||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_375.getMarginBox(cn),mb);}this._contentBox=_378.marginBox2contentBox(cn,mb);}else{this._contentBox=_375.getContentBox(cn);}this._layoutChildren();delete this._needLayout;},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_375.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_371.forEach(this.getChildren(),function(_385){if(_385.resize){_385.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_386=this.domNode.parentNode;return(node.style.display!="none")&&(node.style.visibility!="hidden")&&!_374.contains(node,"dijitHidden")&&_386&&_386.style&&(_386.style.display!="none");}}},_onShow:function(){if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);this._wasShown=true;}});});},"dijit/WidgetSet":function(){define("dijit/WidgetSet",["dojo/_base/array","dojo/_base/declare","dojo/_base/window","./registry"],function(_387,_388,win,_389){var _38a=_388("dijit.WidgetSet",null,{constructor:function(){this._hash={};this.length=0;},add:function(_38b){if(this._hash[_38b.id]){throw new Error("Tried to register widget with id=="+_38b.id+" but that id is already registered");}this._hash[_38b.id]=_38b;this.length++;},remove:function(id){if(this._hash[id]){delete this._hash[id];this.length--;}},forEach:function(func,_38c){_38c=_38c||win.global;var i=0,id;for(id in this._hash){func.call(_38c,this._hash[id],i++,this._hash);}return this;},filter:function(_38d,_38e){_38e=_38e||win.global;var res=new _38a(),i=0,id;for(id in this._hash){var w=this._hash[id];if(_38d.call(_38e,w,i++,this._hash)){res.add(w);}}return res;},byId:function(id){return this._hash[id];},byClass:function(cls){var res=new _38a(),id,_38f;for(id in this._hash){_38f=this._hash[id];if(_38f.declaredClass==cls){res.add(_38f);}}return res;},toArray:function(){var ar=[];for(var id in this._hash){ar.push(this._hash[id]);}return ar;},map:function(func,_390){return _387.map(this.toArray(),func,_390);},every:function(func,_391){_391=_391||win.global;var x=0,i;for(i in this._hash){if(!func.call(_391,this._hash[i],x++,this._hash)){return false;}}return true;},some:function(func,_392){_392=_392||win.global;var x=0,i;for(i in this._hash){if(func.call(_392,this._hash[i],x++,this._hash)){return true;}}return false;}});_387.forEach(["forEach","filter","byClass","map","every","some"],function(func){_389[func]=_38a.prototype[func];});return _38a;});},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_393,i18n,_394){return _393("dijit.form.RangeBoundTextBox",_394,{rangeMessage:"",rangeCheck:function(_395,_396){return("min" in _396?(this.compare(_395,_396.min)>=0):true)&&("max" in _396?(this.compare(_395,_396.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");var _397=false;var _398=false;if("min" in this.constraints){var min=this.constraints.min;min=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min);_397=(typeof min=="number")&&min<0;}if("max" in this.constraints){var max=this.constraints.max;max=this.compare(val,((typeof max!="number")||max>0)?max:0);_398=(typeof max=="number")&&max>0;}return _397||_398;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_399){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_399));},getErrorMessage:function(_39a){var v=this.get("value");if(v!==null&&v!==""&&v!==undefined&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_39a)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},_setConstraintsAttr:function(_39b){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_39c,_39d){this.focusNode.setAttribute("aria-valuenow",_39c);this.inherited(arguments);},applyTextDir:function(){}});});},"dijit/_editor/RichText":function(){define("dijit/_editor/RichText",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/ready","dojo/_base/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/_base/window","../_Widget","../_CssStateMixin","./selection","./range","./html","../focus",".."],function(_39e,_39f,_3a0,_3a1,dom,_3a2,_3a3,_3a4,_3a5,_3a6,_3a7,_3a8,keys,lang,on,_3a9,_3aa,has,_3ab,_3ac,_3ad,win,_3ae,_3af,_3b0,_3b1,_3b2,_3b3,_3b4){var _3b5=_3a0("dijit._editor.RichText",[_3ae,_3af],{constructor:function(_3b6){this.contentPreFilters=[];this.contentPostFilters=[];this.contentDomPreFilters=[];this.contentDomPostFilters=[];this.editingAreaStyleSheets=[];this.events=[].concat(this.events);this._keyHandlers={};if(_3b6&&lang.isString(_3b6.value)){this.value=_3b6.value;}this.onLoadDeferred=new _3a1();},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){if("textarea"===this.domNode.tagName.toLowerCase()){}this.contentPreFilters=[lang.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);if(has("mozilla")){this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);}if(has("webkit")){this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);}if(has("ie")){this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);this.contentDomPostFilters=[lang.hitch(this,this._stripBreakerNodes)].concat(this.contentDomPostFilters);}this.inherited(arguments);_3ab.publish(_3b4._scopeName+"._editor.RichText::init",this);this.open();this.setupDefaultShortcuts();},setupDefaultShortcuts:function(){var exec=lang.hitch(this,function(cmd,arg){return function(){return !this.execCommand(cmd,arg);};});var _3b7={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){this.save(true);},m:function(){this.isTabIndent=!this.isTabIndent;},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};if(!has("ie")){_3b7.Z=exec("redo");}var key;for(key in _3b7){this.addKeyHandler(key,true,false,_3b7[key]);}},events:["onKeyPress","onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){if(_3b5._editorCommandsLocalized){this._local2NativeFormatNames=_3b5._local2NativeFormatNames;this._native2LocalFormatNames=_3b5._native2LocalFormatNames;return;}_3b5._editorCommandsLocalized=true;_3b5._local2NativeFormatNames={};_3b5._native2LocalFormatNames={};this._local2NativeFormatNames=_3b5._local2NativeFormatNames;this._native2LocalFormatNames=_3b5._native2LocalFormatNames;var _3b8=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];var _3b9="",_3ba,i=0;while((_3ba=_3b8[i++])){if(_3ba.charAt(1)!=="l"){_3b9+="<"+_3ba+"><span>content</span></"+_3ba+"><br/>";}else{_3b9+="<"+_3ba+"><li>content</li></"+_3ba+"><br/>";}}var _3bb={position:"absolute",top:"0px",zIndex:10,opacity:0.01};var div=_3a4.create("div",{style:_3bb,innerHTML:_3b9});win.body().appendChild(div);var _3bc=lang.hitch(this,function(){var node=div.firstChild;while(node){try{_3b0.selectElement(node.firstChild);var _3bd=node.tagName.toLowerCase();this._local2NativeFormatNames[_3bd]=document.queryCommandValue("formatblock");this._native2LocalFormatNames[this._local2NativeFormatNames[_3bd]]=_3bd;node=node.nextSibling.nextSibling;}catch(e){}}div.parentNode.removeChild(div);div.innerHTML="";});this.defer(_3bc);},open:function(_3be){if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){this.onLoadDeferred=new _3a1();}if(!this.isClosed){this.close();}_3ab.publish(_3b4._scopeName+"._editor.RichText::open",this);if(arguments.length===1&&_3be.nodeName){this.domNode=_3be;}var dn=this.domNode;var html;if(lang.isString(this.value)){html=this.value;delete this.value;dn.innerHTML="";}else{if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){var ta=(this.textarea=dn);this.name=ta.name;html=ta.value;dn=this.domNode=win.doc.createElement("div");dn.setAttribute("widgetId",this.id);ta.removeAttribute("widgetId");dn.cssText=ta.cssText;dn.className+=" "+ta.className;_3a4.place(dn,ta,"before");var _3bf=lang.hitch(this,function(){_3a6.set(ta,{display:"block",position:"absolute",top:"-1000px"});if(has("ie")){var s=ta.style;this.__overflow=s.overflow;s.overflow="hidden";}});if(has("ie")){this.defer(_3bf,10);}else{_3bf();}if(ta.form){var _3c0=ta.value;this.reset=function(){var _3c1=this.getValue();if(_3c1!==_3c0){this.replaceValue(_3c0);}};on(ta.form,"submit",lang.hitch(this,function(){_3a2.set(ta,"disabled",this.disabled);ta.value=this.getValue();}));}}else{html=_3b2.getChildrenHtml(dn);dn.innerHTML="";}}this.value=html;if(dn.nodeName&&dn.nodeName==="LI"){dn.innerHTML=" <br>";}this.header=dn.ownerDocument.createElement("div");dn.appendChild(this.header);this.editingArea=dn.ownerDocument.createElement("div");dn.appendChild(this.editingArea);this.footer=dn.ownerDocument.createElement("div");dn.appendChild(this.footer);if(!this.name){this.name=this.id+"_AUTOGEN";}if(this.name!==""&&(!_39f["useXDomain"]||_39f["allowXdRichTextSave"])){var _3c2=dom.byId(_3b4._scopeName+"._editor.RichText.value");if(_3c2&&_3c2.value!==""){var _3c3=_3c2.value.split(this._SEPARATOR),i=0,dat;while((dat=_3c3[i++])){var data=dat.split(this._NAME_CONTENT_SEP);if(data[0]===this.name){html=data[1];_3c3=_3c3.splice(i,1);_3c2.value=_3c3.join(this._SEPARATOR);break;}}}if(!_3b5._globalSaveHandler){_3b5._globalSaveHandler={};_3ac.addOnUnload(function(){var id;for(id in _3b5._globalSaveHandler){var f=_3b5._globalSaveHandler[id];if(lang.isFunction(f)){f();}}});}_3b5._globalSaveHandler[this.id]=lang.hitch(this,"_saveContent");}this.isClosed=false;var ifr=(this.editorObject=this.iframe=win.doc.createElement("iframe"));ifr.id=this.id+"_iframe";this._iframeSrc=this._getIframeDocTxt();ifr.style.border="none";ifr.style.width="100%";if(this._layoutMode){ifr.style.height="100%";}else{if(has("ie")>=7){if(this.height){ifr.style.height=this.height;}if(this.minHeight){ifr.style.minHeight=this.minHeight;}}else{ifr.style.height=this.height?this.height:this.minHeight;}}ifr.frameBorder=0;ifr._loadFunc=lang.hitch(this,function(w){this.window=w;this.document=this.window.document;if(has("ie")){this._localizeEditorCommands();}this.onLoad(html);});var _3c4="parent."+_3b4._scopeName+'.byId("'+this.id+'")._iframeSrc';var s="javascript:(function(){try{return "+_3c4+'}catch(e){document.open();document.domain="'+document.domain+'";document.write('+_3c4+");document.close();}})()";ifr.setAttribute("src",s);this.editingArea.appendChild(ifr);if(has("safari")<=4){var src=ifr.getAttribute("src");if(!src||src.indexOf("javascript")===-1){this.defer(function(){ifr.setAttribute("src",s);});}}if(dn.nodeName==="LI"){dn.lastChild.style.marginTop="-1.2em";}_3a3.add(this.domNode,this.baseClass);},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){var _3c5=_3a6.getComputedStyle(this.domNode);var html="";var _3c6=true;if(has("ie")||has("webkit")||(!this.height&&!has("mozilla"))){html="<div id='dijitEditorBody'></div>";_3c6=false;}else{if(has("mozilla")){this._cursorToStart=true;html="&#160;";}}var font=[_3c5.fontWeight,_3c5.fontSize,_3c5.fontFamily].join(" ");var _3c7=_3c5.lineHeight;if(_3c7.indexOf("px")>=0){_3c7=parseFloat(_3c7)/parseFloat(_3c5.fontSize);}else{if(_3c7.indexOf("em")>=0){_3c7=parseFloat(_3c7);}else{_3c7="normal";}}var _3c8="";var self=this;this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_3c9){_3c9=_3c9.replace(/^;/ig,"")+";";var s=_3c9.split(":")[0];if(s){s=lang.trim(s);s=s.toLowerCase();var i;var sC="";for(i=0;i<s.length;i++){var c=s.charAt(i);switch(c){case"-":i++;c=s.charAt(i).toUpperCase();default:sC+=c;}}_3a6.set(self.domNode,sC,"");}_3c8+=_3c9+";";});var _3ca=_3a9('label[for="'+this.id+'"]');return[this.isLeftToRight()?"<html>\n<head>\n":"<html dir='rtl'>\n<head>\n",(has("mozilla")&&_3ca.length?"<title>"+_3ca[0].innerHTML+"</title>\n":""),"<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n",((has("webkit"))?"\t\twidth: 100%;\n":""),((has("webkit"))?"\t\theight: 100%;\n":""),"\t}\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tmin-height:",this.minHeight,";\n","\t\tline-height:",_3c7,";\n","\t}\n","\tp{ margin: 1em 0; }\n",(!_3c6&&!this.height?"\tbody,html {overflow-y: hidden;}\n":""),"\t#dijitEditorBody{overflow-x: auto; overflow-y:"+(this.height?"auto;":"hidden;")+" outline: 0px;}\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!has("ie")?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body ",(_3c6?"id='dijitEditorBody' ":""),"onload='frameElement._loadFunc(window,document)' style='"+_3c8+"'>",html,"</body>\n</html>"].join("");},_applyEditingAreaStyleSheets:function(){var _3cb=[];if(this.styleSheets){_3cb=this.styleSheets.split(";");this.styleSheets="";}_3cb=_3cb.concat(this.editingAreaStyleSheets);this.editingAreaStyleSheets=[];var text="",i=0,url;while((url=_3cb[i++])){var _3cc=(new _3ad(win.global.location,url)).toString();this.editingAreaStyleSheets.push(_3cc);text+='<link rel="stylesheet" type="text/css" href="'+_3cc+'"/>';}return text;},addStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _3ad(win.global.location,url)).toString();}if(_39e.indexOf(this.editingAreaStyleSheets,url)>-1){return;}this.editingAreaStyleSheets.push(url);this.onLoadDeferred.addCallback(lang.hitch(this,function(){if(this.document.createStyleSheet){this.document.createStyleSheet(url);}else{var head=this.document.getElementsByTagName("head")[0];var _3cd=this.document.createElement("link");_3cd.rel="stylesheet";_3cd.type="text/css";_3cd.href=url;head.appendChild(_3cd);}}));},removeStyleSheet:function(uri){var url=uri.toString();if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){url=(new _3ad(win.global.location,url)).toString();}var _3ce=_39e.indexOf(this.editingAreaStyleSheets,url);if(_3ce===-1){return;}delete this.editingAreaStyleSheets[_3ce];win.withGlobal(this.window,"query",dojo,['link:[href="'+url+'"]']).orphan();},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_3cf){_3cf=!!_3cf;this._set("disabled",_3cf);if(!this.isLoaded){return;}if(has("ie")||has("webkit")||has("opera")){var _3d0=has("ie")&&(this.isLoaded||!this.focusOnLoad);if(_3d0){this.editNode.unselectable="on";}this.editNode.contentEditable=!_3cf;if(_3d0){this.defer(function(){if(this.editNode){this.editNode.unselectable="off";}});}}else{try{this.document.designMode=(_3cf?"off":"on");}catch(e){return;}if(!_3cf&&this._mozSettingProps){var ps=this._mozSettingProps;var n;for(n in ps){if(ps.hasOwnProperty(n)){try{this.document.execCommand(n,false,ps[n]);}catch(e2){}}}}}this._disabledOK=true;},onLoad:function(html){if(!this.window.__registeredWindow){this.window.__registeredWindow=true;this._iframeRegHandle=_3b3.registerIframe(this.iframe);}if(!has("ie")&&!has("webkit")&&(this.height||has("mozilla"))){this.editNode=this.document.body;}else{this.editNode=this.document.body.firstChild;var _3d1=this;if(has("ie")){this.tabStop=_3a4.create("div",{tabIndex:-1},this.editingArea);this.iframe.onfocus=function(){_3d1.editNode.setActive();};}}this.focusNode=this.editNode;var _3d2=this.events.concat(this.captureEvents);var ap=this.iframe?this.document:this.editNode;_39e.forEach(_3d2,function(item){this.connect(ap,item.toLowerCase(),item);},this);this.connect(ap,"onmouseup","onClick");if(has("ie")){this.connect(this.document,"onmousedown","_onIEMouseDown");this.editNode.style.zoom=1;}else{this.connect(this.document,"onmousedown",function(){delete this._cursorToStart;});}if(has("webkit")){this._webkitListener=this.connect(this.document,"onmouseup","onDisplayChanged");this.connect(this.document,"onmousedown",function(e){var t=e.target;if(t&&(t===this.document.body||t===this.document)){this.defer("placeCursorAtEnd");}});}if(has("ie")){try{this.document.execCommand("RespectVisibilityInDesign",true,null);}catch(e){}}this.isLoaded=true;this.set("disabled",this.disabled);var _3d3=lang.hitch(this,function(){this.setValue(html);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}this.onDisplayChanged();if(this.focusOnLoad){_3aa(lang.hitch(this,"defer","focus",this.updateInterval));}this.value=this.getValue(true);});if(this.setValueDeferred){this.setValueDeferred.addCallback(_3d3);}else{_3d3();}},onKeyDown:function(e){if(e.keyCode===keys.TAB&&this.isTabIndent){_3a7.stop(e);if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){this.execCommand((e.shiftKey?"outdent":"indent"));}}if(has("ie")){if(e.keyCode==keys.TAB&&!this.isTabIndent){if(e.shiftKey&&!e.ctrlKey&&!e.altKey){this.iframe.focus();}else{if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){this.tabStop.focus();}}}else{if(e.keyCode===keys.BACKSPACE&&this.document.selection.type==="Control"){_3a7.stop(e);this.execCommand("delete");}else{if((65<=e.keyCode&&e.keyCode<=90)||(e.keyCode>=37&&e.keyCode<=40)){e.charCode=e.keyCode;this.onKeyPress(e);}}}}if(has("ff")){if(e.keyCode===keys.PAGE_UP||e.keyCode===keys.PAGE_DOWN){if(this.editNode.clientHeight>=this.editNode.scrollHeight){e.preventDefault();}}}return true;},onKeyUp:function(){},setDisabled:function(_3d4){_3a8.deprecated("dijit.Editor::setDisabled is deprecated",'use dijit.Editor::attr("disabled",boolean) instead',2);this.set("disabled",_3d4);},_setValueAttr:function(_3d5){this.setValue(_3d5);},_setDisableSpellCheckAttr:function(_3d6){if(this.document){_3a2.set(this.document.body,"spellcheck",!_3d6);}else{this.onLoadDeferred.addCallback(lang.hitch(this,function(){_3a2.set(this.document.body,"spellcheck",!_3d6);}));}this._set("disableSpellCheck",_3d6);},onKeyPress:function(e){var c=(e.keyChar&&e.keyChar.toLowerCase())||e.keyCode,_3d7=this._keyHandlers[c],args=arguments;if(_3d7&&!e.altKey){_39e.some(_3d7,function(h){if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){if(!h.handler.apply(this,args)){e.preventDefault();}return true;}},this);}if(!this._onKeyHitch){this._onKeyHitch=lang.hitch(this,"onKeyPressed");}this.defer("_onKeyHitch",1);return true;},addKeyHandler:function(key,ctrl,_3d8,_3d9){if(!lang.isArray(this._keyHandlers[key])){this._keyHandlers[key]=[];}this._keyHandlers[key].push({shift:_3d8||false,ctrl:ctrl||false,handler:_3d9});},onKeyPressed:function(){this.onDisplayChanged();},onClick:function(e){this.onDisplayChanged(e);},_onIEMouseDown:function(){if(!this.focused&&!this.disabled){this.focus();}},_onBlur:function(e){this.inherited(arguments);var _3da=this.getValue(true);if(_3da!==this.value){this.onChange(_3da);}this._set("value",_3da);},_onFocus:function(e){if(!this.disabled){if(!this._disabledOK){this.set("disabled",false);}this.inherited(arguments);}},blur:function(){if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){this.window.document.documentElement.focus();}else{if(win.doc.body.focus){win.doc.body.focus();}}},focus:function(){if(!this.isLoaded){this.focusOnLoad=true;return;}if(this._cursorToStart){delete this._cursorToStart;if(this.editNode.childNodes){this.placeCursorAtStart();return;}}if(!has("ie")){_3b3.focus(this.iframe);}else{if(this.editNode&&this.editNode.focus){this.iframe.fireEvent("onfocus",document.createEventObject());}}},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){if(this._updateTimer){this._updateTimer.remove();}this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval);},onNormalizedDisplayChanged:function(){delete this._updateTimer;},onChange:function(){},_normalizeCommand:function(cmd,_3db){var _3dc=cmd.toLowerCase();if(_3dc==="formatblock"){if(has("safari")&&_3db===undefined){_3dc="heading";}}else{if(_3dc==="hilitecolor"&&!has("mozilla")){_3dc="backcolor";}}return _3dc;},_qcaCache:{},queryCommandAvailable:function(_3dd){var ca=this._qcaCache[_3dd];if(ca!==undefined){return ca;}return(this._qcaCache[_3dd]=this._queryCommandAvailable(_3dd));},_queryCommandAvailable:function(_3de){var ie=1;var _3df=1<<1;var _3e0=1<<2;var _3e1=1<<3;function _3e2(_3e3){return{ie:Boolean(_3e3&ie),mozilla:Boolean(_3e3&_3df),webkit:Boolean(_3e3&_3e0),opera:Boolean(_3e3&_3e1)};}var _3e4=null;switch(_3de.toLowerCase()){case"bold":case"italic":case"underline":case"subscript":case"superscript":case"fontname":case"fontsize":case"forecolor":case"hilitecolor":case"justifycenter":case"justifyfull":case"justifyleft":case"justifyright":case"delete":case"selectall":case"toggledir":_3e4=_3e2(_3df|ie|_3e0|_3e1);break;case"createlink":case"unlink":case"removeformat":case"inserthorizontalrule":case"insertimage":case"insertorderedlist":case"insertunorderedlist":case"indent":case"outdent":case"formatblock":case"inserthtml":case"undo":case"redo":case"strikethrough":case"tabindent":_3e4=_3e2(_3df|ie|_3e1|_3e0);break;case"blockdirltr":case"blockdirrtl":case"dirltr":case"dirrtl":case"inlinedirltr":case"inlinedirrtl":_3e4=_3e2(ie);break;case"cut":case"copy":case"paste":_3e4=_3e2(ie|_3df|_3e0);break;case"inserttable":_3e4=_3e2(_3df|ie);break;case"insertcell":case"insertcol":case"insertrow":case"deletecells":case"deletecols":case"deleterows":case"mergecells":case"splitcell":_3e4=_3e2(ie|_3df);break;default:return false;}return(has("ie")&&_3e4.ie)||(has("mozilla")&&_3e4.mozilla)||(has("webkit")&&_3e4.webkit)||(has("opera")&&_3e4.opera);},execCommand:function(_3e5,_3e6){var _3e7;this.focus();_3e5=this._normalizeCommand(_3e5,_3e6);if(_3e6!==undefined){if(_3e5==="heading"){throw new Error("unimplemented");}else{if((_3e5==="formatblock")&&has("ie")){_3e6="<"+_3e6+">";}}}var _3e8="_"+_3e5+"Impl";if(this[_3e8]){_3e7=this[_3e8](_3e6);}else{_3e6=arguments.length>1?_3e6:null;if(_3e6||_3e5!=="createlink"){_3e7=this.document.execCommand(_3e5,false,_3e6);}}this.onDisplayChanged();return _3e7;},queryCommandEnabled:function(_3e9){if(this.disabled||!this._disabledOK){return false;}_3e9=this._normalizeCommand(_3e9);var _3ea="_"+_3e9+"EnabledImpl";if(this[_3ea]){return this[_3ea](_3e9);}else{return this._browserQueryCommandEnabled(_3e9);}},queryCommandState:function(_3eb){if(this.disabled||!this._disabledOK){return false;}_3eb=this._normalizeCommand(_3eb);try{return this.document.queryCommandState(_3eb);}catch(e){return false;}},queryCommandValue:function(_3ec){if(this.disabled||!this._disabledOK){return false;}var r;_3ec=this._normalizeCommand(_3ec);if(has("ie")&&_3ec==="formatblock"){r=this._native2LocalFormatNames[this.document.queryCommandValue(_3ec)];}else{if(has("mozilla")&&_3ec==="hilitecolor"){var _3ed;try{_3ed=this.document.queryCommandValue("styleWithCSS");}catch(e){_3ed=false;}this.document.execCommand("styleWithCSS",false,true);r=this.document.queryCommandValue(_3ec);this.document.execCommand("styleWithCSS",false,_3ed);}else{r=this.document.queryCommandValue(_3ec);}}return r;},_sCall:function(name,args){return win.withGlobal(this.window,name,_3b0,args);},placeCursorAtStart:function(){this.focus();var _3ee=false;if(has("mozilla")){var _3ef=this.editNode.firstChild;while(_3ef){if(_3ef.nodeType===3){if(_3ef.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_3ee=true;this._sCall("selectElement",[_3ef]);break;}}else{if(_3ef.nodeType===1){_3ee=true;var tg=_3ef.tagName?_3ef.tagName.toLowerCase():"";if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){this._sCall("selectElement",[_3ef]);}else{this._sCall("selectElementChildren",[_3ef]);}break;}}_3ef=_3ef.nextSibling;}}else{_3ee=true;this._sCall("selectElementChildren",[this.editNode]);}if(_3ee){this._sCall("collapse",[true]);}},placeCursorAtEnd:function(){this.focus();var _3f0=false;if(has("mozilla")){var last=this.editNode.lastChild;while(last){if(last.nodeType===3){if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){_3f0=true;this._sCall("selectElement",[last]);break;}}else{if(last.nodeType===1){_3f0=true;if(last.lastChild){this._sCall("selectElement",[last.lastChild]);}else{this._sCall("selectElement",[last]);}break;}}last=last.previousSibling;}}else{_3f0=true;this._sCall("selectElementChildren",[this.editNode]);}if(_3f0){this._sCall("collapse",[false]);}},getValue:function(_3f1){if(this.textarea){if(this.isClosed||!this.isLoaded){return this.textarea.value;}}return this._postFilterContent(null,_3f1);},_getValueAttr:function(){return this.getValue(true);},setValue:function(html){if(!this.isLoaded){this.onLoadDeferred.addCallback(lang.hitch(this,function(){this.setValue(html);}));return;}this._cursorToStart=true;if(this.textarea&&(this.isClosed||!this.isLoaded)){this.textarea.value=html;}else{html=this._preFilterContent(html);var node=this.isClosed?this.domNode:this.editNode;if(html&&has("mozilla")&&html.toLowerCase()==="<p></p>"){html="<p>&#160;</p>";}if(!html&&has("webkit")){html="&#160;";}node.innerHTML=html;this._preDomFilterContent(node);}this.onDisplayChanged();this._set("value",this.getValue(true));},replaceValue:function(html){if(this.isClosed){this.setValue(html);}else{if(this.window&&this.window.getSelection&&!has("mozilla")){this.setValue(html);}else{if(this.window&&this.window.getSelection){html=this._preFilterContent(html);this.execCommand("selectall");if(!html){this._cursorToStart=true;html="&#160;";}this.execCommand("inserthtml",html);this._preDomFilterContent(this.editNode);}else{if(this.document&&this.document.selection){this.setValue(html);}}}}this._set("value",this.getValue(true));},_preFilterContent:function(html){var ec=html;_39e.forEach(this.contentPreFilters,function(ef){if(ef){ec=ef(ec);}});return ec;},_preDomFilterContent:function(dom){dom=dom||this.editNode;_39e.forEach(this.contentDomPreFilters,function(ef){if(ef&&lang.isFunction(ef)){ef(dom);}},this);},_postFilterContent:function(dom,_3f2){var ec;if(!lang.isString(dom)){dom=dom||this.editNode;if(this.contentDomPostFilters.length){if(_3f2){dom=lang.clone(dom);}_39e.forEach(this.contentDomPostFilters,function(ef){dom=ef(dom);});}ec=_3b2.getChildrenHtml(dom);}else{ec=dom;}if(!lang.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){ec="";}_39e.forEach(this.contentPostFilters,function(ef){ec=ef(ec);});return ec;},_saveContent:function(){var _3f3=dom.byId(_3b4._scopeName+"._editor.RichText.value");if(_3f3){if(_3f3.value){_3f3.value+=this._SEPARATOR;}_3f3.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);}},escapeXml:function(str,_3f4){str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");if(!_3f4){str=str.replace(/'/gm,"&#39;");}return str;},getNodeHtml:function(node){_3a8.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);return _3b2.getNodeHtml(node);},getNodeChildrenHtml:function(dom){_3a8.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);return _3b2.getChildrenHtml(dom);},close:function(save){if(this.isClosed){return;}if(!arguments.length){save=true;}if(save){this._set("value",this.getValue(true));}if(this.interval){clearInterval(this.interval);}if(this._webkitListener){this.disconnect(this._webkitListener);delete this._webkitListener;}if(has("ie")){this.iframe.onfocus=null;}this.iframe._loadFunc=null;if(this._iframeRegHandle){this._iframeRegHandle.remove();delete this._iframeRegHandle;}if(this.textarea){var s=this.textarea.style;s.position="";s.left=s.top="";if(has("ie")){s.overflow=this.__overflow;this.__overflow=null;}this.textarea.value=this.value;_3a4.destroy(this.domNode);this.domNode=this.textarea;}else{this.domNode.innerHTML=this.value;}delete this.iframe;_3a3.remove(this.domNode,this.baseClass);this.isClosed=true;this.isLoaded=false;delete this.editNode;delete this.focusNode;if(this.window&&this.window._frameElement){this.window._frameElement=null;}this.window=null;this.document=null;this.editingArea=null;this.editorObject=null;},destroy:function(){if(!this.isClosed){this.close(false);}if(this._updateTimer){this._updateTimer.remove();}this.inherited(arguments);if(_3b5._globalSaveHandler){delete _3b5._globalSaveHandler[this.id];}},_removeMozBogus:function(html){return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");},_removeWebkitBogus:function(html){html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");html=html.replace(/\sclass="apple-style-span"/gi,"");html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");return html;},_normalizeFontStyle:function(html){return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");},_preFixUrlAttributes:function(html){return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");},_browserQueryCommandEnabled:function(_3f5){if(!_3f5){return false;}var elem=has("ie")?this.document.selection.createRange():this.document;try{return elem.queryCommandEnabled(_3f5);}catch(e){return false;}},_createlinkEnabledImpl:function(){var _3f6=true;if(has("opera")){var sel=this.window.getSelection();if(sel.isCollapsed){_3f6=true;}else{_3f6=this.document.queryCommandEnabled("createlink");}}else{_3f6=this._browserQueryCommandEnabled("createlink");}return _3f6;},_unlinkEnabledImpl:function(){var _3f7=true;if(has("mozilla")||has("webkit")){_3f7=this._sCall("hasAncestorElement",["a"]);}else{_3f7=this._browserQueryCommandEnabled("unlink");}return _3f7;},_inserttableEnabledImpl:function(){var _3f8=true;if(has("mozilla")||has("webkit")){_3f8=true;}else{_3f8=this._browserQueryCommandEnabled("inserttable");}return _3f8;},_cutEnabledImpl:function(){var _3f9=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_3f9=!!sel;}else{_3f9=this._browserQueryCommandEnabled("cut");}return _3f9;},_copyEnabledImpl:function(){var _3fa=true;if(has("webkit")){var sel=this.window.getSelection();if(sel){sel=sel.toString();}_3fa=!!sel;}else{_3fa=this._browserQueryCommandEnabled("copy");}return _3fa;},_pasteEnabledImpl:function(){var _3fb=true;if(has("webkit")){return true;}else{_3fb=this._browserQueryCommandEnabled("paste");}return _3fb;},_inserthorizontalruleImpl:function(_3fc){if(has("ie")){return this._inserthtmlImpl("<hr>");}return this.document.execCommand("inserthorizontalrule",false,_3fc);},_unlinkImpl:function(_3fd){if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){var a=this._sCall("getAncestorElement",["a"]);this._sCall("selectElement",[a]);return this.document.execCommand("unlink",false,null);}return this.document.execCommand("unlink",false,_3fd);},_hilitecolorImpl:function(_3fe){var _3ff;var _400=this._handleTextColorOrProperties("hilitecolor",_3fe);if(!_400){if(has("mozilla")){this.document.execCommand("styleWithCSS",false,true);_3ff=this.document.execCommand("hilitecolor",false,_3fe);this.document.execCommand("styleWithCSS",false,false);}else{_3ff=this.document.execCommand("hilitecolor",false,_3fe);}}return _3ff;},_backcolorImpl:function(_401){if(has("ie")){_401=_401?_401:null;}var _402=this._handleTextColorOrProperties("backcolor",_401);if(!_402){_402=this.document.execCommand("backcolor",false,_401);}return _402;},_forecolorImpl:function(_403){if(has("ie")){_403=_403?_403:null;}var _404=false;_404=this._handleTextColorOrProperties("forecolor",_403);if(!_404){_404=this.document.execCommand("forecolor",false,_403);}return _404;},_inserthtmlImpl:function(_405){_405=this._preFilterContent(_405);var rv=true;if(has("ie")){var _406=this.document.selection.createRange();if(this.document.selection.type.toUpperCase()==="CONTROL"){var n=_406.item(0);while(_406.length){_406.remove(_406.item(0));}n.outerHTML=_405;}else{_406.pasteHTML(_405);}_406.select();}else{if(has("mozilla")&&!_405.length){this._sCall("remove");}else{rv=this.document.execCommand("inserthtml",false,_405);}}return rv;},_boldImpl:function(_407){var _408=false;if(has("ie")){this._adaptIESelection();_408=this._adaptIEFormatAreaAndExec("bold");}if(!_408){_408=this.document.execCommand("bold",false,_407);}return _408;},_italicImpl:function(_409){var _40a=false;if(has("ie")){this._adaptIESelection();_40a=this._adaptIEFormatAreaAndExec("italic");}if(!_40a){_40a=this.document.execCommand("italic",false,_409);}return _40a;},_underlineImpl:function(_40b){var _40c=false;if(has("ie")){this._adaptIESelection();_40c=this._adaptIEFormatAreaAndExec("underline");}if(!_40c){_40c=this.document.execCommand("underline",false,_40b);}return _40c;},_strikethroughImpl:function(_40d){var _40e=false;if(has("ie")){this._adaptIESelection();_40e=this._adaptIEFormatAreaAndExec("strikethrough");}if(!_40e){_40e=this.document.execCommand("strikethrough",false,_40d);}return _40e;},_superscriptImpl:function(_40f){var _410=false;if(has("ie")){this._adaptIESelection();_410=this._adaptIEFormatAreaAndExec("superscript");}if(!_410){_410=this.document.execCommand("superscript",false,_40f);}return _410;},_subscriptImpl:function(_411){var _412=false;if(has("ie")){this._adaptIESelection();_412=this._adaptIEFormatAreaAndExec("subscript");}if(!_412){_412=this.document.execCommand("subscript",false,_411);}return _412;},_fontnameImpl:function(_413){var _414;if(has("ie")){_414=this._handleTextColorOrProperties("fontname",_413);}if(!_414){_414=this.document.execCommand("fontname",false,_413);}return _414;},_fontsizeImpl:function(_415){var _416;if(has("ie")){_416=this._handleTextColorOrProperties("fontsize",_415);}if(!_416){_416=this.document.execCommand("fontsize",false,_415);}return _416;},_insertorderedlistImpl:function(_417){var _418=false;if(has("ie")){_418=this._adaptIEList("insertorderedlist",_417);}if(!_418){_418=this.document.execCommand("insertorderedlist",false,_417);}return _418;},_insertunorderedlistImpl:function(_419){var _41a=false;if(has("ie")){_41a=this._adaptIEList("insertunorderedlist",_419);}if(!_41a){_41a=this.document.execCommand("insertunorderedlist",false,_419);}return _41a;},getHeaderHeight:function(){return this._getNodeChildrenHeight(this.header);},getFooterHeight:function(){return this._getNodeChildrenHeight(this.footer);},_getNodeChildrenHeight:function(node){var h=0;if(node&&node.childNodes){var i;for(i=0;i<node.childNodes.length;i++){var size=_3a5.position(node.childNodes[i]);h+=size.h;}}return h;},_isNodeEmpty:function(node,_41b){if(node.nodeType===1){if(node.childNodes.length>0){return this._isNodeEmpty(node.childNodes[0],_41b);}return true;}else{if(node.nodeType===3){return(node.nodeValue.substring(_41b)==="");}}return false;},_removeStartingRangeFromRange:function(node,_41c){if(node.nextSibling){_41c.setStart(node.nextSibling,0);}else{var _41d=node.parentNode;while(_41d&&_41d.nextSibling==null){_41d=_41d.parentNode;}if(_41d){_41c.setStart(_41d.nextSibling,0);}}return _41c;},_adaptIESelection:function(){var _41e=_3b1.getSelection(this.window);if(_41e&&_41e.rangeCount&&!_41e.isCollapsed){var _41f=_41e.getRangeAt(0);var _420=_41f.startContainer;var _421=_41f.startOffset;while(_420.nodeType===3&&_421>=_420.length&&_420.nextSibling){_421=_421-_420.length;_420=_420.nextSibling;}var _422=null;while(this._isNodeEmpty(_420,_421)&&_420!==_422){_422=_420;_41f=this._removeStartingRangeFromRange(_420,_41f);_420=_41f.startContainer;_421=0;}_41e.removeAllRanges();_41e.addRange(_41f);}},_adaptIEFormatAreaAndExec:function(_423){var _424=_3b1.getSelection(this.window);var doc=this.document;var rs,ret,_425,txt,_426,_427,_428,_429;if(_423&&_424&&_424.isCollapsed){var _42a=this.queryCommandValue(_423);if(_42a){var _42b=this._tagNamesForCommand(_423);_425=_424.getRangeAt(0);var fs=_425.startContainer;if(fs.nodeType===3){var _42c=_425.endOffset;if(fs.length<_42c){ret=this._adjustNodeAndOffset(rs,_42c);fs=ret.node;_42c=ret.offset;}}var _42d;while(fs&&fs!==this.editNode){var _42e=fs.tagName?fs.tagName.toLowerCase():"";if(_39e.indexOf(_42b,_42e)>-1){_42d=fs;break;}fs=fs.parentNode;}if(_42d){rs=_425.startContainer;var _42f=doc.createElement(_42d.tagName);_3a4.place(_42f,_42d,"after");if(rs&&rs.nodeType===3){var _430,_431;var _432=_425.endOffset;if(rs.length<_432){ret=this._adjustNodeAndOffset(rs,_432);rs=ret.node;_432=ret.offset;}txt=rs.nodeValue;_426=doc.createTextNode(txt.substring(0,_432));var _433=txt.substring(_432,txt.length);if(_433){_427=doc.createTextNode(_433);}_3a4.place(_426,rs,"before");if(_427){_428=doc.createElement("span");_428.className="ieFormatBreakerSpan";_3a4.place(_428,rs,"after");_3a4.place(_427,_428,"after");_427=_428;}_3a4.destroy(rs);var _434=_426.parentNode;var _435=[];var _436;while(_434!==_42d){var tg=_434.tagName;_436={tagName:tg};_435.push(_436);var _437=doc.createElement(tg);if(_434.style){if(_437.style){if(_434.style.cssText){_437.style.cssText=_434.style.cssText;_436.cssText=_434.style.cssText;}}}if(_434.tagName==="FONT"){if(_434.color){_437.color=_434.color;_436.color=_434.color;}if(_434.face){_437.face=_434.face;_436.face=_434.face;}if(_434.size){_437.size=_434.size;_436.size=_434.size;}}if(_434.className){_437.className=_434.className;_436.className=_434.className;}if(_427){_430=_427;while(_430){_431=_430.nextSibling;_437.appendChild(_430);_430=_431;}}if(_437.tagName==_434.tagName){_428=doc.createElement("span");_428.className="ieFormatBreakerSpan";_3a4.place(_428,_434,"after");_3a4.place(_437,_428,"after");}else{_3a4.place(_437,_434,"after");}_426=_434;_427=_437;_434=_434.parentNode;}if(_427){_430=_427;if(_430.nodeType===1||(_430.nodeType===3&&_430.nodeValue)){_42f.innerHTML="";}while(_430){_431=_430.nextSibling;_42f.appendChild(_430);_430=_431;}}if(_435.length){_436=_435.pop();var _438=doc.createElement(_436.tagName);if(_436.cssText&&_438.style){_438.style.cssText=_436.cssText;}if(_436.className){_438.className=_436.className;}if(_436.tagName==="FONT"){if(_436.color){_438.color=_436.color;}if(_436.face){_438.face=_436.face;}if(_436.size){_438.size=_436.size;}}_3a4.place(_438,_42f,"before");while(_435.length){_436=_435.pop();var _439=doc.createElement(_436.tagName);if(_436.cssText&&_439.style){_439.style.cssText=_436.cssText;}if(_436.className){_439.className=_436.className;}if(_436.tagName==="FONT"){if(_436.color){_439.color=_436.color;}if(_436.face){_439.face=_436.face;}if(_436.size){_439.size=_436.size;}}_438.appendChild(_439);_438=_439;}_429=doc.createTextNode(".");_428.appendChild(_429);_438.appendChild(_429);win.withGlobal(this.window,lang.hitch(this,function(){var _43a=_3b1.create();_43a.setStart(_429,0);_43a.setEnd(_429,_429.length);_424.removeAllRanges();_424.addRange(_43a);_3b0.collapse(false);_429.parentNode.innerHTML="";}));}else{_428=doc.createElement("span");_428.className="ieFormatBreakerSpan";_429=doc.createTextNode(".");_428.appendChild(_429);_3a4.place(_428,_42f,"before");win.withGlobal(this.window,lang.hitch(this,function(){var _43b=_3b1.create();_43b.setStart(_429,0);_43b.setEnd(_429,_429.length);_424.removeAllRanges();_424.addRange(_43b);_3b0.collapse(false);_429.parentNode.innerHTML="";}));}if(!_42f.firstChild){_3a4.destroy(_42f);}return true;}}return false;}else{_425=_424.getRangeAt(0);rs=_425.startContainer;if(rs&&rs.nodeType===3){win.withGlobal(this.window,lang.hitch(this,function(){var _43c=_425.startOffset;if(rs.length<_43c){ret=this._adjustNodeAndOffset(rs,_43c);rs=ret.node;_43c=ret.offset;}txt=rs.nodeValue;_426=doc.createTextNode(txt.substring(0,_43c));var _43d=txt.substring(_43c);if(_43d!==""){_427=doc.createTextNode(txt.substring(_43c));}_428=doc.createElement("span");_429=doc.createTextNode(".");_428.appendChild(_429);if(_426.length){_3a4.place(_426,rs,"after");}else{_426=rs;}_3a4.place(_428,_426,"after");if(_427){_3a4.place(_427,_428,"after");}_3a4.destroy(rs);var _43e=_3b1.create();_43e.setStart(_429,0);_43e.setEnd(_429,_429.length);_424.removeAllRanges();_424.addRange(_43e);doc.execCommand(_423);_3a4.place(_428.firstChild,_428,"before");_3a4.destroy(_428);_43e.setStart(_429,0);_43e.setEnd(_429,_429.length);_424.removeAllRanges();_424.addRange(_43e);_3b0.collapse(false);_429.parentNode.innerHTML="";}));return true;}}}else{return false;}},_adaptIEList:function(_43f){var _440=_3b1.getSelection(this.window);if(_440.isCollapsed){if(_440.rangeCount&&!this.queryCommandValue(_43f)){var _441=_440.getRangeAt(0);var sc=_441.startContainer;if(sc&&sc.nodeType==3){if(!_441.startOffset){win.withGlobal(this.window,lang.hitch(this,function(){var _442="ul";if(_43f==="insertorderedlist"){_442="ol";}var list=_3a4.create(_442);var li=_3a4.create("li",null,list);_3a4.place(list,sc,"before");li.appendChild(sc);_3a4.create("br",null,list,"after");var _443=_3b1.create();_443.setStart(sc,0);_443.setEnd(sc,sc.length);_440.removeAllRanges();_440.addRange(_443);_3b0.collapse(true);}));return true;}}}}return false;},_handleTextColorOrProperties:function(_444,_445){var _446=_3b1.getSelection(this.window);var doc=this.document;var rs,ret,_447,txt,_448,_449,_44a,_44b;_445=_445||null;if(_444&&_446&&_446.isCollapsed){if(_446.rangeCount){_447=_446.getRangeAt(0);rs=_447.startContainer;if(rs&&rs.nodeType===3){win.withGlobal(this.window,lang.hitch(this,function(){var _44c=_447.startOffset;if(rs.length<_44c){ret=this._adjustNodeAndOffset(rs,_44c);rs=ret.node;_44c=ret.offset;}txt=rs.nodeValue;_448=doc.createTextNode(txt.substring(0,_44c));var _44d=txt.substring(_44c);if(_44d!==""){_449=doc.createTextNode(txt.substring(_44c));}_44a=_3a4.create("span");_44b=doc.createTextNode(".");_44a.appendChild(_44b);var _44e=_3a4.create("span");_44a.appendChild(_44e);if(_448.length){_3a4.place(_448,rs,"after");}else{_448=rs;}_3a4.place(_44a,_448,"after");if(_449){_3a4.place(_449,_44a,"after");}_3a4.destroy(rs);var _44f=_3b1.create();_44f.setStart(_44b,0);_44f.setEnd(_44b,_44b.length);_446.removeAllRanges();_446.addRange(_44f);if(has("webkit")){var _450="color";if(_444==="hilitecolor"||_444==="backcolor"){_450="backgroundColor";}_3a6.set(_44a,_450,_445);_3b0.remove();_3a4.destroy(_44e);_44a.innerHTML="&#160;";_3b0.selectElement(_44a);this.focus();}else{this.execCommand(_444,_445);_3a4.place(_44a.firstChild,_44a,"before");_3a4.destroy(_44a);_44f.setStart(_44b,0);_44f.setEnd(_44b,_44b.length);_446.removeAllRanges();_446.addRange(_44f);_3b0.collapse(false);_44b.parentNode.removeChild(_44b);}}));return true;}}}return false;},_adjustNodeAndOffset:function(node,_451){while(node.length<_451&&node.nextSibling&&node.nextSibling.nodeType===3){_451=_451-node.length;node=node.nextSibling;}return{"node":node,"offset":_451};},_tagNamesForCommand:function(_452){if(_452==="bold"){return["b","strong"];}else{if(_452==="italic"){return["i","em"];}else{if(_452==="strikethrough"){return["s","strike"];}else{if(_452==="superscript"){return["sup"];}else{if(_452==="subscript"){return["sub"];}else{if(_452==="underline"){return["u"];}}}}}}return[];},_stripBreakerNodes:function(node){win.withGlobal(this.window,lang.hitch(this,function(){var _453=_3a9(".ieFormatBreakerSpan",node);var i;for(i=0;i<_453.length;i++){var b=_453[i];while(b.firstChild){_3a4.place(b.firstChild,b,"before");}_3a4.destroy(b);}}));return node;}});return _3b5;});},"dijit/nls/loading":function(){define({root:({loadingState:"Loading...",errorState:"Sorry, an error occurred"}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"dijit/TooltipDialog":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","."],function(_454,_455,_456,keys,lang,_457,_458,_459,_45a,_45b,_45c,_45d){return _454("dijit.TooltipDialog",[_458,_45b,_45a,_459],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_45c,_setTitleAttr:function(_45e){this.containerNode.title=_45e;this._set("title",_45e);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_45f,_460){var newC="dijitTooltipAB"+(_460.charAt(1)=="L"?"Left":"Right")+" dijitTooltip"+(_460.charAt(0)=="T"?"Below":"Above");_455.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);_457.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.containerNode);}var _461=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==keys.ESCAPE){this.defer("onCancel");_456.stop(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_461){_457.focus(this._lastFocusItem);}_456.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_461){_457.focus(this._firstFocusItem);}_456.stop(evt);}else{if(evt.charOrCode===keys.TAB){evt.stopPropagation();}}}}}});});},"dijit/form/_ExpandingTextAreaMixin":function(){define(["dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/_base/window"],function(_462,_463,lang,win){var _464;return _462("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _465=this.textbox;if(_464==undefined){var te=_463.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,overflow:"hidden",visibility:"hidden",position:"absolute",border:"0px solid black",padding:"0px"}},win.body(),"last");_464=te.scrollHeight>=te.clientHeight;win.body().removeChild(te);}this.connect(_465,"onscroll","_resizeLater");this.connect(_465,"onresize","_resizeLater");this.connect(_465,"onfocus","_resizeLater");_465.style.overflowY="hidden";this._estimateHeight();this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _466=this.textbox;_466.style.height="auto";_466.rows=(_466.value.match(/\n/g)||[]).length+2;},_resizeLater:function(){this.defer("resize");},resize:function(){function _467(){var _468=false;if(_469.value===""){_469.value=" ";_468=true;}var sh=_469.scrollHeight;if(_468){_469.value="";}return sh;}var _469=this.textbox;if(_469.style.overflowY=="hidden"){_469.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_467()||_469.offsetHeight){var _46a=_469.style.height;if(!(/px/.test(_46a))){_46a=_467();_469.rows=1;_469.style.height=_46a+"px";}var newH=Math.max(Math.max(_469.offsetHeight,parseInt(_46a))-_469.clientHeight,0)+_467();var _46b=newH+"px";if(_46b!=_469.style.height){_469.rows=1;_469.style.height=_46b;}if(_464){var _46c=_467(),_46d=_46c,_46e=_469.style.minHeight,_46f=4,_470;_469.style.minHeight=_46b;_469.style.height="auto";while(newH>0){_469.style.minHeight=Math.max(newH-_46f,4)+"px";_470=_467();var _471=_46d-_470;newH-=_471;if(_471<_46f){break;}_46d=_470;_46f<<=1;}_469.style.height=newH+"px";_469.style.minHeight=_46e;}_469.style.overflowY=_467()>_469.clientHeight?"auto":"hidden";}else{this._estimateHeight();}this.busyResizing=false;}});});},"dijit/typematic":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/_base/sniff","."],function(_472,_473,_474,_475,lang,on,has,_476){var _477=(_476.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_478,node,_479,obj,_47a,_47b,_47c){if(obj!=this._obj){this.stop();this._initialDelay=_47b||500;this._subsequentDelay=_47a||0.9;this._minDelay=_47c||10;this._obj=obj;this._evt=evt;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_478,_479);this._fireEventAndReload();this._evt=lang.mixin({faux:true},evt);}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_47d,_47e,_47f,_480,_481,_482){if(_47d.keyCode){_47d.charOrCode=_47d.keyCode;_475.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_47d.charCode){_47d.charOrCode=String.fromCharCode(_47d.charCode);_475.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _483=[on(node,_473._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_47d.charOrCode&&(_47d.ctrlKey===undefined||_47d.ctrlKey==evt.ctrlKey)&&(_47d.altKey===undefined||_47d.altKey==evt.altKey)&&(_47d.metaKey===undefined||_47d.metaKey==(evt.metaKey||false))&&(_47d.shiftKey===undefined||_47d.shiftKey==evt.shiftKey)){_474.stop(evt);_477.trigger(evt,_47e,node,_47f,_47d,_480,_481,_482);}else{if(_477._obj==_47d){_477.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_477._obj==_47d){_477.stop();}}))];return{remove:function(){_472.forEach(_483,function(h){h.remove();});}};},addMouseListener:function(node,_484,_485,_486,_487,_488){var _489=[on(node,"mousedown",lang.hitch(this,function(evt){_474.stop(evt);_477.trigger(evt,_484,node,_485,node,_486,_487,_488);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){_474.stop(evt);}_477.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){_474.stop(evt);_477.stop();})),on(node,"mousemove",lang.hitch(this,function(evt){evt.preventDefault();})),on(node,"dblclick",lang.hitch(this,function(evt){_474.stop(evt);if(has("ie")){_477.trigger(evt,_484,node,_485,node,_486,_487,_488);setTimeout(lang.hitch(this,_477.stop),50);}}))];return{remove:function(){_472.forEach(_489,function(h){h.remove();});}};},addListener:function(_48a,_48b,_48c,_48d,_48e,_48f,_490,_491){var _492=[this.addKeyListener(_48b,_48c,_48d,_48e,_48f,_490,_491),this.addMouseListener(_48a,_48d,_48e,_48f,_490,_491)];return{remove:function(){_472.forEach(_492,function(h){h.remove();});}};}});return _477;});},"dijit/MenuItem":function(){define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/_base/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_493,dom,_494,_495,_496,_497,has,_498,_499,_49a,_49b,_49c){return _493("dijit.MenuItem",[_498,_499,_49a,_49b],{templateString:_49c,baseClass:"dijitMenuItem",label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_49d){if(_49d&&!("label" in this.params)){this.set("label",_49d.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _49e=this.id+"_text";_494.set(this.containerNode,"id",_49e);if(this.accelKeyNode){_494.set(this.accelKeyNode,"id",this.id+"_accel");_49e+=" "+this.id+"_accel";}this.domNode.setAttribute("aria-labelledby",_49e);dom.setSelectable(this.domNode,false);},_onHover:function(){this.getParent().onItemHover(this);},_onUnhover:function(){this.getParent().onItemUnhover(this);this._set("hovering",false);},_onClick:function(evt){this.getParent().onItemClick(this,evt);_496.stop(evt);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_49f){_495.toggle(this.domNode,"dijitMenuItemSelected",_49f);},setLabel:function(_4a0){_497.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_4a0);},setDisabled:function(_4a1){_497.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_4a1);},_setDisabledAttr:function(_4a2){this.focusNode.setAttribute("aria-disabled",_4a2?"true":"false");this._set("disabled",_4a2);},_setAccelKeyAttr:function(_4a3){this.accelKeyNode.style.display=_4a3?"":"none";this.accelKeyNode.innerHTML=_4a3;_494.set(this.containerNode,"colSpan",_4a3?"1":"2");this._set("accelKey",_4a3);}});});},"dijit/MenuBarItem":function(){require({cache:{"url:dijit/templates/MenuBarItem.html":'<div class="dijitReset dijitInline dijitMenuItem dijitMenuItemLabel" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\r\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\r\n\t<span data-dojo-attach-point="containerNode"></span>\r\n</div>\r\n'}});define("dijit/MenuBarItem",["dojo/_base/declare","./MenuItem","dojo/text!./templates/MenuBarItem.html"],function(_4a4,_4a5,_4a6){var _4a7=_4a4("dijit._MenuBarItemMixin",null,{templateString:_4a6,_setIconClassAttr:null});var _4a8=_4a4("dijit.MenuBarItem",[_4a5,_4a7],{});_4a8._MenuBarItemMixin=_4a7;return _4a8;});},"dijit/layout/TabController":function(){require({cache:{"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode\" data-dojo-attach-event='onclick:onClick'>\r\n    <div role=\"presentation\" class='dijitTabInnerDiv' data-dojo-attach-point='innerDiv'>\r\n        <div role=\"presentation\" class='dijitTabContent' data-dojo-attach-point='tabContent'>\r\n        \t<div role=\"presentation\" data-dojo-attach-point='focusNode'>\r\n\t\t        <img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode' />\r\n\t\t        <span data-dojo-attach-point='containerNode' class='tabLabel'></span>\r\n\t\t        <span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\r\n\t\t        \t\tdata-dojo-attach-event='onclick: onClickCloseButton' role=\"presentation\">\r\n\t\t            <span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\r\n\t\t        ></span>\r\n\t\t\t</div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"}});define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","./StackController","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_4a9,dom,_4aa,_4ab,i18n,lang,_4ac,Menu,_4ad,_4ae){var _4af=_4a9("dijit.layout._TabButton",_4ac.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_4ae,scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_4ab.toggle(this.innerDiv,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _4b0=i18n.getLocalization("dijit","common");if(this.closeNode){_4aa.set(this.closeNode,"title",_4b0.itemClose);}this._closeMenu=new Menu({id:this.id+"_Menu",dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode]});this._closeMenu.addChild(new _4ad({label:_4b0.itemClose,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:lang.hitch(this,"onClickCloseButton")}));}else{if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}}},_setLabelAttr:function(_4b1){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},destroy:function(){if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}this.inherited(arguments);}});var _4b2=_4a9("dijit.layout.TabController",_4ac,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:_4af,_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _4b3=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_4b3=Math.max(_4b3,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_4b3+"px";}}});_4b2.TabButton=_4af;return _4b2;});},"dijit/MenuBar":function(){require({cache:{"url:dijit/templates/MenuBar.html":'<div class="dijitMenuBar dijitMenuPassive" data-dojo-attach-point="containerNode"  role="menubar" tabIndex="${tabIndex}" data-dojo-attach-event="onkeypress: _onKeyPress"></div>\r\n'}});define("dijit/MenuBar",["dojo/_base/declare","dojo/_base/event","dojo/keys","./_MenuBase","dojo/text!./templates/MenuBar.html"],function(_4b4,_4b5,keys,_4b6,_4b7){return _4b4("dijit.MenuBar",_4b6,{templateString:_4b7,baseClass:"dijitMenuBar",_isMenuBar:true,postCreate:function(){var l=this.isLeftToRight();this.connectKeyNavHandlers(l?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],l?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);this._orient=["below"];},focusChild:function(item){var _4b8=this.focusedChild,_4b9=_4b8&&_4b8.popup&&_4b8.popup.isShowingNow;this.inherited(arguments);if(_4b9&&item.popup&&!item.disabled){this._openPopup();}},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case keys.DOWN_ARROW:this._moveToPopup(evt);_4b5.stop(evt);}},onItemClick:function(item,evt){if(item.popup&&item.popup.isShowingNow){item.popup.onCancel();}else{this.inherited(arguments);}}});});},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_4ba,dom,_4bb,_4bc){return _4ba("dijit.ToolbarSeparator",[_4bb,_4bc],{templateString:'<div class="dijitToolbarSeparator dijitInline" role="presentation"></div>',buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/sniff","dojo/_base/window"],function(lang,_4bd,_4be,_4bf,_4c0,_4c1,_4c2,_4c3,has,win){return _4c0("dijit.layout._LayoutWidget",[_4bd,_4be,_4bf],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_4c1.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _4c4=this.getParent&&this.getParent();if(!(_4c4&&_4c4.isLayoutContainer)){this.resize();this.connect(win.global,"onresize",function(){this.resize();});}},resize:function(_4c5,_4c6){var node=this.domNode;if(_4c5){_4c2.setMarginBox(node,_4c5);}var mb=_4c6||{};lang.mixin(mb,_4c5||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_4c2.getMarginBox(node),mb);}var cs=_4c3.getComputedStyle(node);var me=_4c2.getMarginExtents(node,cs);var be=_4c2.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_4c2.getPadExtents(node,cs);this._contentBox={l:_4c3.toPixelValue(node,cs.paddingLeft),t:_4c3.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_4c7){var cls=this.baseClass+"-child "+(_4c7.baseClass?this.baseClass+"-"+_4c7.baseClass:"");_4c1.add(_4c7.domNode,cls);},addChild:function(_4c8,_4c9){this.inherited(arguments);if(this._started){this._setupChild(_4c8);}},removeChild:function(_4ca){var cls=this.baseClass+"-child"+(_4ca.baseClass?" "+this.baseClass+"-"+_4ca.baseClass:"");_4c1.remove(_4ca.domNode,cls);this.inherited(arguments);}});});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","./place","./BackgroundIframe","."],function(_4cb,_4cc,_4cd,_4ce,dom,_4cf,_4d0,_4d1,_4d2,_4d3,keys,lang,on,has,win,_4d4,_4d5,_4d6){var _4d7=_4ce(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_4d8){var _4d9=_4d8._popupWrapper,node=_4d8.domNode;if(!_4d9){_4d9=_4d0.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},win.body());_4d9.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_4d8._popupWrapper=_4d9;_4cc.after(_4d8,"destroy",function(){_4d0.destroy(_4d9);delete _4d8._popupWrapper;});}return _4d9;},moveOffScreen:function(_4da){var _4db=this._createWrapper(_4da);_4d2.set(_4db,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_4dc){var _4dd=this._createWrapper(_4dc);_4d2.set(_4dd,"display","none");},getTopPopup:function(){var _4de=this._stack;for(var pi=_4de.length-1;pi>0&&_4de[pi].parent===_4de[pi-1].widget;pi--){}return _4de[pi];},open:function(args){var _4df=this._stack,_4e0=args.popup,_4e1=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_4d1.isBodyLtr(),_4e2=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_4df.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_4df[_4df.length-1].widget.domNode))){this.close(_4df[_4df.length-1].widget);}var _4e3=this._createWrapper(_4e0);_4cf.set(_4e3,{id:id,style:{zIndex:this._beginZIndex+_4df.length},"class":"dijitPopup "+(_4e0.baseClass||_4e0["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("ie")||has("mozilla")){if(!_4e0.bgIframe){_4e0.bgIframe=new _4d5(_4e3);}}var best=_4e2?_4d4.around(_4e3,_4e2,_4e1,ltr,_4e0.orient?lang.hitch(_4e0,"orient"):null):_4d4.at(_4e3,args,_4e1=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_4e3.style.display="";_4e3.style.visibility="visible";_4e0.domNode.style.visibility="visible";var _4e4=[];_4e4.push(on(_4e3,_4cd._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_4d3.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_4d3.stop(evt);var _4e5=this.getTopPopup();if(_4e5&&_4e5.onCancel){_4e5.onCancel();}}}})));if(_4e0.onCancel&&args.onCancel){_4e4.push(_4e0.on("cancel",args.onCancel));}_4e4.push(_4e0.on(_4e0.onExecute?"execute":"change",lang.hitch(this,function(){var _4e6=this.getTopPopup();if(_4e6&&_4e6.onExecute){_4e6.onExecute();}})));_4df.push({widget:_4e0,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_4e4});if(_4e0.onOpen){_4e0.onOpen(best);}return best;},close:function(_4e7){var _4e8=this._stack;while((_4e7&&_4cb.some(_4e8,function(elem){return elem.widget==_4e7;}))||(!_4e7&&_4e8.length)){var top=_4e8.pop(),_4e9=top.widget,_4ea=top.onClose;if(_4e9.onClose){_4e9.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_4e9&&_4e9.domNode){this.hide(_4e9);}if(_4ea){_4ea();}}}});return(_4d6.popup=new _4d7());});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","../registry",".."],function(_4eb,_4ec,_4ed,_4ee){_4eb.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_4ee[name]=_4ed[name];});_4ee.defaultDuration=_4ec["defaultDuration"]||200;return _4ee;});},"dijit/layout/StackController":function(){define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_4ef,_4f0,_4f1,keys,lang,has,_4f2,_4f3,_4f4,_4f5,_4f6,_4f7){var _4f8=_4f0("dijit.layout._StackButton",_4f7,{tabIndex:"-1",closeButton:false,_setCheckedAttr:function(_4f9,_4fa){this.inherited(arguments);this.focusNode.removeAttribute("aria-pressed");},buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");},onClick:function(){_4f2.focus(this.focusNode);},onClickCloseButton:function(evt){evt.stopPropagation();}});var _4fb=_4f0("dijit.layout.StackController",[_4f4,_4f5,_4f6],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_4f8,constructor:function(){this.pane2button={};this.pane2connects={};this.pane2watches={};},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");},onStartup:function(info){_4ef.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(_4f3.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_4fc){var cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _4fd=new cls({id:this.id+"_"+page.id,label:page.title,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip});_4fd.focusNode.setAttribute("aria-selected","false");var _4fe=["title","showTitle","iconClass","closable","tooltip"],_4ff=["label","showLabel","iconClass","closeButton","title"];this.pane2watches[page.id]=_4ef.map(_4fe,function(_500,idx){return page.watch(_500,function(name,_501,_502){_4fd.set(_4ff[idx],_502);});});this.pane2connects[page.id]=[this.connect(_4fd,"onClick",lang.hitch(this,"onButtonClick",page)),this.connect(_4fd,"onClickCloseButton",lang.hitch(this,"onCloseButtonClick",page))];this.addChild(_4fd,_4fc);this.pane2button[page.id]=_4fd;page.controlButton=_4fd;if(!this._currentChild){_4fd.focusNode.setAttribute("tabIndex","0");_4fd.focusNode.setAttribute("aria-selected","true");this._currentChild=page;}if(!this.isLeftToRight()&&has("ie")&&this._rectifyRtlTabList){this._rectifyRtlTabList();}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}_4ef.forEach(this.pane2connects[page.id],lang.hitch(this,"disconnect"));delete this.pane2connects[page.id];_4ef.forEach(this.pane2watches[page.id],function(w){w.unwatch();});delete this.pane2watches[page.id];var _503=this.pane2button[page.id];if(_503){this.removeChild(_503);delete this.pane2button[page.id];_503.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _504=this.pane2button[this._currentChild.id];_504.set("checked",false);_504.focusNode.setAttribute("aria-selected","false");_504.focusNode.setAttribute("tabIndex","-1");}var _505=this.pane2button[page.id];_505.set("checked",true);_505.focusNode.setAttribute("aria-selected","true");this._currentChild=page;_505.focusNode.setAttribute("tabIndex","0");var _506=_4f3.byId(this.containerId);_506.containerNode.setAttribute("aria-labelledby",_505.id);},onButtonClick:function(page){if(this._currentChild.id===page.id){var _507=this.pane2button[page.id];_507.set("checked",true);}var _508=_4f3.byId(this.containerId);_508.selectChild(page);},onCloseButtonClick:function(page){var _509=_4f3.byId(this.containerId);_509.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_4f2.focus(b.focusNode||b.domNode);}}},adjacent:function(_50a){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_50a=!_50a;}var _50b=this.getChildren();var _50c=_4ef.indexOf(_50b,this.pane2button[this._currentChild.id]);var _50d=_50a?1:_50b.length-1;return _50b[(_50c+_50d)%_50b.length];},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _50e=null;if(e.ctrlKey||!e._djpage){switch(e.charOrCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_50e=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_50e=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_50e=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_50e=true;}break;case keys.HOME:case keys.END:var _50f=this.getChildren();if(_50f&&_50f.length){_50f[e.charOrCode==keys.HOME?0:_50f.length-1].onClick();}_4f1.stop(e);break;case keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_4f1.stop(e);break;default:if(e.ctrlKey){if(e.charOrCode===keys.TAB){this.adjacent(!e.shiftKey).onClick();_4f1.stop(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_4f1.stop(e);}}}}if(_50e!==null){this.adjacent(_50e).onClick();_4f1.stop(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});_4fb.StackButton=_4f8;return _4fb;});},"url:dijit/templates/TooltipDialog.html":'<div role="presentation" tabIndex="-1">\r\n\t<div class="dijitTooltipContainer" role="presentation">\r\n\t\t<div class ="dijitTooltipContents dijitTooltipFocusNode" data-dojo-attach-point="containerNode" role="dialog"></div>\r\n\t</div>\r\n\t<div class="dijitTooltipConnector" role="presentation"></div>\r\n</div>\r\n',"dijit/layout/TabContainer":function(){define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_510,_511,_512,_513){return _510("dijit.layout.TabContainer",_511,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_514){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_512=lang.getObject(this.controllerWidget);return new _512({id:this.id+"_tablist",dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_514);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?"dijit.layout.ScrollingTabController":"dijit.layout.TabController";}}});});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require",".","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window"],function(_515,_516,_517,_518,_519,lang,on,has,win){var _51a=new function(){var _51b=[];this.pop=function(){var _51c;if(_51b.length){_51c=_51b.pop();_51c.style.display="";}else{if(has("ie")<9){var burl=_517["dojoBlankHtmlUrl"]||_515.toUrl("dojo/resources/blank.html")||'javascript:""';var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+'z-index: -1; filter:Alpha(Opacity="0");\'>';_51c=win.doc.createElement(html);}else{_51c=_518.create("iframe");_51c.src='javascript:""';_51c.className="dijitBackgroundIframe";_51c.setAttribute("role","presentation");_519.set(_51c,"opacity",0.1);}_51c.tabIndex=-1;}return _51c;};this.push=function(_51d){_51d.style.display="none";_51b.push(_51d);};}();_516.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("ie")||has("mozilla")){var _51e=(this.iframe=_51a.pop());node.appendChild(_51e);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_519.set(_51e,{width:"100%",height:"100%"});}}};lang.extend(_516.BackgroundIframe,{resize:function(node){if(this.iframe){_519.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_51a.push(this.iframe);delete this.iframe;}}});return _516.BackgroundIframe;});},"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}" data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\r\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\r\n</table>\r\n',"dijit/form/_Spinner":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dijit/typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_51f,_520,keys,lang,has,_521,_522,_523,_524){return _51f("dijit.form._Spinner",_522,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_523,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_525,_526,_527){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_526*_527),false);_524.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_528,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_528==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_520.stop(evt);var _529=evt.wheelDelta/120;if(Math.floor(_529)!=_529){_529=evt.wheelDelta>0?1:-1;}var _52a=evt.detail?(evt.detail*-1):_529;if(_52a!==0){var node=this[(_52a>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_52a,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,!has("mozilla")?"onmousewheel":"DOMMouseScroll","_mouseWheeled");this._connects.push(_521.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(_521.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(_521.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));this._connects.push(_521.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/form/Button":function(){define(["require","dojo/_base/declare","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_52b,_52c,_52d,_52e,lang,_52f,_530,_531,_532){if(!_52e.isAsync){_52f(0,function(){var _533=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_52b(_533);});}return _52c("dijit.form.Button",[_530,_531],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_532,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();}}return ok;},_fillContent:function(_534){if(_534&&(!this.params||!("label" in this.params))){var _535=lang.trim(_534.innerHTML);if(_535){this.label=_535;}}},_setShowLabelAttr:function(val){if(this.containerNode){_52d.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_536){_52e.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_536);},_setLabelAttr:function(_537){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"url:dijit/layout/templates/TabContainer.html":'<div class="dijitTabContainer">\r\n\t<div class="dijitTabListWrapper" data-dojo-attach-point="tablistNode"></div>\r\n\t<div data-dojo-attach-point="tablistSpacer" class="dijitTabSpacer ${baseClass}-spacer"></div>\r\n\t<div class="dijitTabPaneWrapper ${baseClass}-container" data-dojo-attach-point="containerNode"></div>\r\n</div>\r\n',"dojo/dnd/move":function(){define(["../main","./Mover","./Moveable"],function(dojo){dojo.declare("dojo.dnd.move.constrainedMoveable",dojo.dnd.Moveable,{constraints:function(){},within:false,constructor:function(node,_538){if(!_538){_538={};}this.constraints=_538.constraints;this.within=_538.within;},onFirstMove:function(_539){var c=this.constraintBox=this.constraints.call(this,_539);c.r=c.l+c.w;c.b=c.t+c.h;if(this.within){var mb=dojo._getMarginSize(_539.node);c.r-=mb.w;c.b-=mb.h;}},onMove:function(_53a,_53b){var c=this.constraintBox,s=_53a.node.style;this.onMoving(_53a,_53b);_53b.l=_53b.l<c.l?c.l:c.r<_53b.l?c.r:_53b.l;_53b.t=_53b.t<c.t?c.t:c.b<_53b.t?c.b:_53b.t;s.left=_53b.l+"px";s.top=_53b.t+"px";this.onMoved(_53a,_53b);}});dojo.declare("dojo.dnd.move.boxConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{box:{},constructor:function(node,_53c){var box=_53c&&_53c.box;this.constraints=function(){return box;};}});dojo.declare("dojo.dnd.move.parentConstrainedMoveable",dojo.dnd.move.constrainedMoveable,{area:"content",constructor:function(node,_53d){var area=_53d&&_53d.area;this.constraints=function(){var n=this.node.parentNode,s=dojo.getComputedStyle(n),mb=dojo._getMarginBox(n,s);if(area=="margin"){return mb;}var t=dojo._getMarginExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="border"){return mb;}t=dojo._getBorderExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;if(area=="padding"){return mb;}t=dojo._getPadExtents(n,s);mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;return mb;};}});dojo.dnd.constrainedMover=dojo.dnd.move.constrainedMover;dojo.dnd.boxConstrainedMover=dojo.dnd.move.boxConstrainedMover;dojo.dnd.parentConstrainedMover=dojo.dnd.move.parentConstrainedMover;return dojo.dnd.move;});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./registry"],function(_53e,_53f,_540,_541,_542,_543,dom,_544,_545,_546,_547,_548,_549,lang,on,_54a,_54b,_54c,win,_54d){if(!_549.isAsync){_54a(0,function(){var _54e=["dijit/_base/manager"];_53e(_54e);});}var _54f={};function _550(obj){var ret={};for(var attr in obj){ret[attr.toLowerCase()]=true;}return ret;}function _551(attr){return function(val){_544[val?"set":"remove"](this.domNode,attr,val);this._set(attr,val);};}return _543("dijit._WidgetBase",_54b,{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_551("lang"),dir:"",_setDirAttr:_551("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,attributeMap:{},_blankGif:_541.blankGif||_53e.toUrl("dojo/resources/blank.gif"),postscript:function(_552,_553){this.create(_552,_553);},create:function(_554,_555){this.srcNodeRef=dom.byId(_555);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_554){this.params=_554;lang.mixin(this,_554);}this.postMixInProperties();if(!this.id){this.id=_54d.getUniqueId(this.declaredClass.replace(/\./g,"_"));}_54d.add(this);this.buildRendering();if(this.domNode){this._applyAttributes();var _556=this.srcNodeRef;if(_556&&_556.parentNode&&this.domNode!==_556){_556.parentNode.replaceChild(this.domNode,_556);}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var ctor=this.constructor,list=ctor._setterAttrs;if(!list){list=(ctor._setterAttrs=[]);for(var attr in this.attributeMap){list.push(attr);}var _557=ctor.prototype;for(var _558 in _557){if(_558 in this.attributeMap){continue;}var _559="_set"+_558.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_559 in _557){list.push(_558);}}}_53f.forEach(list,function(attr){if(this.params&&attr in this.params){}else{if(this[attr]){this.set(attr,this[attr]);}}},this);for(var _55a in this.params){this.set(_55a,this[_55a]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_546.create("div");}if(this.baseClass){var _55b=this.baseClass.split(" ");if(!this.isLeftToRight()){_55b=_55b.concat(_53f.map(_55b,function(name){return name+"Rtl";}));}_545.add(this.domNode,_55b);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_53f.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_55c){this._beingDestroyed=true;this.destroyDescendants(_55c);this.destroy(_55c);},destroy:function(_55d){this._beingDestroyed=true;this.uninitialize();var c;while((c=this._connects.pop())){c.remove();}var w;while((w=this._supportingWidgets.pop())){if(w.destroyRecursive){w.destroyRecursive();}else{if(w.destroy){w.destroy();}}}this.destroyRendering(_55d);_54d.remove(this.id);this._destroyed=true;},destroyRendering:function(_55e){if(this.bgIframe){this.bgIframe.destroy(_55e);delete this.bgIframe;}if(this.domNode){if(_55e){_544.remove(this.domNode,"widgetId");}else{_546.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_55e){_546.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_55f){_53f.forEach(this.getChildren(),function(_560){if(_560.destroyRecursive){_560.destroyRecursive(_55f);}});},uninitialize:function(){return false;},_setStyleAttr:function(_561){var _562=this.domNode;if(lang.isObject(_561)){_548.set(_562,_561);}else{if(_562.style.cssText){_562.style.cssText+="; "+_561;}else{_562.style.cssText=_561;}}this._set("style",_561);},_attrToDom:function(attr,_563,_564){_564=arguments.length>=3?_564:this.attributeMap[attr];_53f.forEach(lang.isArray(_564)?_564:[_564],function(_565){var _566=this[_565.node||_565||"domNode"];var type=_565.type||"attribute";switch(type){case"attribute":if(lang.isFunction(_563)){_563=lang.hitch(this,_563);}var _567=_565.attribute?_565.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);_544.set(_566,_567,_563);break;case"innerText":_566.innerHTML="";_566.appendChild(win.doc.createTextNode(_563));break;case"innerHTML":_566.innerHTML=_563;break;case"class":_545.replace(_566,_563,this[attr]);break;}},this);},get:function(name){var _568=this._getAttrNames(name);return this[_568.g]?this[_568.g]():this[name];},set:function(name,_569){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _56a=this._getAttrNames(name),_56b=this[_56a.s];if(lang.isFunction(_56b)){var _56c=_56b.apply(this,Array.prototype.slice.call(arguments,1));}else{var _56d=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_56d].tagName,_56e=_54f[tag]||(_54f[tag]=_550(this[_56d])),map=name in this.attributeMap?this.attributeMap[name]:_56a.s in this?this[_56a.s]:((_56a.l in _56e&&typeof _569!="function")||/^aria-|^data-|^role$/.test(name))?_56d:null;if(map!=null){this._attrToDom(name,_569,map);}this._set(name,_569);}return _56c||this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return(apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,_56f){var _570=this[name];this[name]=_56f;if(this._watchCallbacks&&this._created&&_56f!==_570){this._watchCallbacks(name,_570,_56f);}},on:function(type,func){return _540.after(this,this._onMap(type),func,true);},_onMap:function(type){var ctor=this.constructor,map=ctor._onMap;if(!map){map=(ctor._onMap={});for(var attr in ctor.prototype){if(/^on/.test(attr)){map[attr.replace(/^on/,"").toLowerCase()]=attr;}}}return map[type.toLowerCase()];},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_54d.findWidgets(this.containerNode):[];},getParent:function(){return _54d.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_571,_572){var _573=_542.connect(obj,_571,this,_572);this._connects.push(_573);return _573;},disconnect:function(_574){var i=_53f.indexOf(this._connects,_574);if(i!=-1){_574.remove();this._connects.splice(i,1);}},subscribe:function(t,_575){var _576=_54c.subscribe(t,lang.hitch(this,_575));this._connects.push(_576);return _576;},unsubscribe:function(_577){this.disconnect(_577);},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_547.isBodyLtr();},isFocusable:function(){return this.focus&&(_548.get(this.domNode,"display")!="none");},placeAt:function(_578,_579){if(_578.declaredClass&&_578.addChild){_578.addChild(this,_579);}else{_546.place(this.domNode,_578,_579);}return this;},getTextDir:function(text,_57a){return _57a;},applyTextDir:function(){},defer:function(fcn,_57b){var _57c=setTimeout(lang.hitch(this,function(){_57c=null;if(!this._destroyed){lang.hitch(this,fcn)();}}),_57b||0);return{remove:function(){if(_57c){clearTimeout(_57c);_57c=null;}return null;}};}});});},"dijit/form/Form":function(){define("dijit/form/Form",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/kernel","dojo/_base/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_57d,_57e,_57f,_580,has,_581,_582,_583,_584){return _57d("dijit.form.Form",[_581,_582,_583,_584],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(_585){this.encType=_585;_57e.set(this.domNode,"encType",_585);if(has("ie")){this.domNode.encoding=_585;}},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);_57f.stop(e);return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_580.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){_57f.stop(e);}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"dijit/layout/_TabContainerBase":function(){define(["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_586,_587,_588,_589,_58a,_58b,_58c,_58d){return _58a("dijit.layout._TabContainerBase",[_587,_589],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_586,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_58d.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_58b.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_58b.add(this.domNode,"dijitTabContainerNested");_58b.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_58b.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_58b.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_58b.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_58b.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof(this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _58e=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_58e;var _58f=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_58e},{domNode:this.containerNode,layoutAlign:"client"}];_588.layoutChildren(this.domNode,this._contentBox,_58f);this._containerContentBox=_588.marginBox2contentBox(this.containerNode,_58f[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var _590=_58c.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:_590});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});});},"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\r\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\r\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\r\n></div>\r\n',"dijit/_base/sniff":function(){define("dijit/_base/sniff",["dojo/uacss"],function(){});},"dijit/Editor":function(){define("dijit/Editor",["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/string","dojo/topic","dojo/_base/window","./_base/focus","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText",".","dojo/i18n!./_editor/nls/commands"],function(_591,_592,_593,i18n,_594,_595,_596,_597,_598,keys,lang,has,_599,_59a,win,_59b,_59c,_59d,_59e,_59f,_5a0,_5a1,_5a2,html,_5a3,_5a4,_5a5){var _5a6=_592("dijit.Editor",_5a4,{plugins:null,extraPlugins:null,constructor:function(){if(!lang.isArray(this.plugins)){this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_5a2];}this._plugins=[];this._editInterval=this.editActionInterval*1000;if(has("ie")){this.events.push("onBeforeDeactivate");this.events.push("onBeforeActivate");}},postMixInProperties:function(){this.setValueDeferred=new _593();this.inherited(arguments);},postCreate:function(){this._steps=this._steps.slice(0);this._undoedSteps=this._undoedSteps.slice(0);if(lang.isArray(this.extraPlugins)){this.plugins=this.plugins.concat(this.extraPlugins);}this.inherited(arguments);this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);if(!this.toolbar){this.toolbar=new _59d({dir:this.dir,lang:this.lang});this.header.appendChild(this.toolbar.domNode);}_591.forEach(this.plugins,this.addPlugin,this);this.setValueDeferred.callback(true);_595.add(this.iframe.parentNode,"dijitEditorIFrameContainer");_595.add(this.iframe,"dijitEditorIFrame");_594.set(this.iframe,"allowTransparency",true);if(has("webkit")){_597.set(this.domNode,"KhtmlUserSelect","none");}this.toolbar.startup();this.onNormalizedDisplayChanged();},destroy:function(){_591.forEach(this._plugins,function(p){if(p&&p.destroy){p.destroy();}});this._plugins=[];this.toolbar.destroyRecursive();delete this.toolbar;this.inherited(arguments);},addPlugin:function(_5a7,_5a8){var args=lang.isString(_5a7)?{name:_5a7}:lang.isFunction(_5a7)?{ctor:_5a7}:_5a7;if(!args.setEditor){var o={"args":args,"plugin":null,"editor":this};if(args.name){if(_5a1.registry[args.name]){o.plugin=_5a1.registry[args.name](args);}else{_59a.publish(_5a5._scopeName+".Editor.getPlugin",o);}}if(!o.plugin){var pc=args.ctor||lang.getObject(args.name);if(pc){o.plugin=new pc(args);}}if(!o.plugin){return;}_5a7=o.plugin;}if(arguments.length>1){this._plugins[_5a8]=_5a7;}else{this._plugins.push(_5a7);}_5a7.setEditor(this);if(lang.isFunction(_5a7.setToolbar)){_5a7.setToolbar(this.toolbar);}},resize:function(size){if(size){_59f.prototype.resize.apply(this,arguments);}},layout:function(){var _5a9=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_596.getPadBorderExtents(this.iframe.parentNode).h+_596.getMarginExtents(this.iframe.parentNode).h));this.editingArea.style.height=_5a9+"px";if(this.iframe){this.iframe.style.height="100%";}this._layoutMode=true;},_onIEMouseDown:function(e){var _5aa;var b=this.document.body;var _5ab=b.clientWidth;var _5ac=b.clientHeight;var _5ad=b.clientLeft;var _5ae=b.offsetWidth;var _5af=b.offsetHeight;var _5b0=b.offsetLeft;if(/^rtl$/i.test(b.dir||"")){if(_5ab<_5ae&&e.x>_5ab&&e.x<_5ae){_5aa=true;}}else{if(e.x<_5ad&&e.x>_5b0){_5aa=true;}}if(!_5aa){if(_5ac<_5af&&e.y>_5ac&&e.y<_5af){_5aa=true;}}if(!_5aa){delete this._cursorToStart;delete this._savedSelection;if(e.target.tagName=="BODY"){this.defer("placeCursorAtEnd");}this.inherited(arguments);}},onBeforeActivate:function(){this._restoreSelection();},onBeforeDeactivate:function(e){if(this.customUndo){this.endEditing(true);}if(e.target.tagName!="BODY"){this._saveSelection();}},customUndo:true,editActionInterval:3,beginEditing:function(cmd){if(!this._inEditing){this._inEditing=true;this._beginEditing(cmd);}if(this.editActionInterval>0){if(this._editTimer){this._editTimer.remove();}this._editTimer=this.defer("endEditing",this._editInterval);}},_steps:[],_undoedSteps:[],execCommand:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return this[cmd]();}else{if(this.customUndo){this.endEditing();this._beginEditing();}var r=this.inherited(arguments);if(this.customUndo){this._endEditing();}return r;}},_pasteImpl:function(){return this._clipboardCommand("paste");},_cutImpl:function(){return this._clipboardCommand("cut");},_copyImpl:function(){return this._clipboardCommand("copy");},_clipboardCommand:function(cmd){var r;try{r=this.document.execCommand(cmd,false,null);if(has("webkit")&&!r){throw {code:1011};}}catch(e){if(e.code==1011){var sub=_599.substitute,_5b1={cut:"X",copy:"C",paste:"V"};alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_5b1[cmd]])]));}r=false;}return r;},queryCommandEnabled:function(cmd){if(this.customUndo&&(cmd=="undo"||cmd=="redo")){return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);}else{return this.inherited(arguments);}},_moveToBookmark:function(b){var _5b2=b.mark;var mark=b.mark;var col=b.isCollapsed;var r,_5b3,_5b4,sel;if(mark){if(has("ie")<9){if(lang.isArray(mark)){_5b2=[];_591.forEach(mark,function(n){_5b2.push(_5a3.getNode(n,this.editNode));},this);win.withGlobal(this.window,"moveToBookmark",_5a5,[{mark:_5b2,isCollapsed:col}]);}else{if(mark.startContainer&&mark.endContainer){sel=_5a3.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_5a3.create(this.window);_5b3=_5a3.getNode(mark.startContainer,this.editNode);_5b4=_5a3.getNode(mark.endContainer,this.editNode);if(_5b3&&_5b4){r.setStart(_5b3,mark.startOffset);r.setEnd(_5b4,mark.endOffset);sel.addRange(r);}}}}}else{sel=_5a3.getSelection(this.window);if(sel&&sel.removeAllRanges){sel.removeAllRanges();r=_5a3.create(this.window);_5b3=_5a3.getNode(mark.startContainer,this.editNode);_5b4=_5a3.getNode(mark.endContainer,this.editNode);if(_5b3&&_5b4){r.setStart(_5b3,mark.startOffset);r.setEnd(_5b4,mark.endOffset);sel.addRange(r);}}}}},_changeToStep:function(from,to){this.setValue(to.text);var b=to.bookmark;if(!b){return;}this._moveToBookmark(b);},undo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._steps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(s,this._steps[this._steps.length-1]);this._undoedSteps.push(s);this.onDisplayChanged();delete this._undoRedoActive;ret=true;}delete this._undoRedoActive;}return ret;},redo:function(){var ret=false;if(!this._undoRedoActive){this._undoRedoActive=true;this.endEditing(true);var s=this._undoedSteps.pop();if(s&&this._steps.length>0){this.focus();this._changeToStep(this._steps[this._steps.length-1],s);this._steps.push(s);this.onDisplayChanged();ret=true;}delete this._undoRedoActive;}return ret;},endEditing:function(_5b5){if(this._editTimer){this._editTimer=this._editTimer.remove();}if(this._inEditing){this._endEditing(_5b5);this._inEditing=false;}},_getBookmark:function(){var b=win.withGlobal(this.window,_59b.getBookmark);var tmp=[];if(b&&b.mark){var mark=b.mark;if(has("ie")<9){var sel=_5a3.getSelection(this.window);if(!lang.isArray(mark)){if(sel){var _5b6;if(sel.rangeCount){_5b6=sel.getRangeAt(0);}if(_5b6){b.mark=_5b6.cloneRange();}else{b.mark=win.withGlobal(this.window,_59b.getBookmark);}}}else{_591.forEach(b.mark,function(n){tmp.push(_5a3.getIndex(n,this.editNode).o);},this);b.mark=tmp;}}try{if(b.mark&&b.mark.startContainer){tmp=_5a3.getIndex(b.mark.startContainer,this.editNode).o;b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_5a3.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};}}catch(e){b.mark=null;}}return b;},_beginEditing:function(){if(this._steps.length===0){this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});}},_endEditing:function(){var v=html.getChildrenHtml(this.editNode);this._undoedSteps=[];this._steps.push({text:v,bookmark:this._getBookmark()});},onKeyDown:function(e){if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){this._saveSelection();}if(!this.customUndo){this.inherited(arguments);return;}var k=e.keyCode;if(e.ctrlKey&&!e.altKey){if(k==90||k==122){_598.stop(e);this.undo();return;}else{if(k==89||k==121){_598.stop(e);this.redo();return;}}}this.inherited(arguments);switch(k){case keys.ENTER:case keys.BACKSPACE:case keys.DELETE:this.beginEditing();break;case 88:case 86:if(e.ctrlKey&&!e.altKey&&!e.metaKey){this.endEditing();if(e.keyCode==88){this.beginEditing("cut");}else{this.beginEditing("paste");}this.defer("endEditing",1);break;}default:if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){this.beginEditing();break;}case keys.ALT:this.endEditing();break;case keys.UP_ARROW:case keys.DOWN_ARROW:case keys.LEFT_ARROW:case keys.RIGHT_ARROW:case keys.HOME:case keys.END:case keys.PAGE_UP:case keys.PAGE_DOWN:this.endEditing(true);break;case keys.CTRL:case keys.SHIFT:case keys.TAB:break;}},_onBlur:function(){this.inherited(arguments);this.endEditing(true);},_saveSelection:function(){try{this._savedSelection=this._getBookmark();}catch(e){}},_restoreSelection:function(){if(this._savedSelection){delete this._cursorToStart;if(win.withGlobal(this.window,"isCollapsed",_5a5)){this._moveToBookmark(this._savedSelection);}delete this._savedSelection;}},onClick:function(){this.endEditing(true);this.inherited(arguments);},replaceValue:function(html){if(!this.customUndo){this.inherited(arguments);}else{if(this.isClosed){this.setValue(html);}else{this.beginEditing();if(!html){html="&#160;";}this.setValue(html);this.endEditing();}}},_setDisabledAttr:function(_5b7){var _5b8=lang.hitch(this,function(){if((!this.disabled&&_5b7)||(!this._buttonEnabledPlugins&&_5b7)){_591.forEach(this._plugins,function(p){p.set("disabled",true);});}else{if(this.disabled&&!_5b7){_591.forEach(this._plugins,function(p){p.set("disabled",false);});}}});this.setValueDeferred.addCallback(_5b8);this.inherited(arguments);},_setStateClass:function(){try{this.inherited(arguments);if(this.document&&this.document.body){_597.set(this.document.body,"color",_597.get(this.iframe,"color"));}}catch(e){}}});function _5b9(args){return new _5a1({command:args.name});}function _5ba(args){return new _5a1({buttonClass:_5a0,command:args.name});}lang.mixin(_5a1.registry,{"undo":_5b9,"redo":_5b9,"cut":_5b9,"copy":_5b9,"paste":_5b9,"insertOrderedList":_5b9,"insertUnorderedList":_5b9,"indent":_5b9,"outdent":_5b9,"justifyCenter":_5b9,"justifyFull":_5b9,"justifyLeft":_5b9,"justifyRight":_5b9,"delete":_5b9,"selectAll":_5b9,"removeFormat":_5b9,"unlink":_5b9,"insertHorizontalRule":_5b9,"bold":_5ba,"italic":_5ba,"underline":_5ba,"strikethrough":_5ba,"subscript":_5ba,"superscript":_5ba,"|":function(){return new _5a1({button:new _59e(),setEditor:function(_5bb){this.editor=_5bb;}});}});return _5a6;});},"dijit/Toolbar":function(){define(["require","dojo/_base/declare","dojo/_base/kernel","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_5bc,_5bd,_5be,keys,_5bf,_5c0,_5c1,_5c2){if(!_5be.isAsync){_5bf(0,function(){var _5c3=["dijit/ToolbarSeparator"];_5bc(_5c3);});}return _5bd("dijit.Toolbar",[_5c0,_5c2,_5c1],{templateString:'<div class="dijit" role="toolbar" tabIndex="${tabIndex}" data-dojo-attach-point="containerNode">'+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],this.isLeftToRight()?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);}});});},"dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(_5c4,_5c5,_5c6,_5c7,_5c8,lang,_5c9,_5ca,_5cb,_5cc,_5cd){if(!_5c8.isAsync){_5c9(0,function(){var _5ce=["dijit/layout/StackController"];require(_5ce);});}lang.extend(_5cc,{selected:false,closable:false,iconClass:"dijitNoIcon",showTitle:true});return _5c6("dijit.layout.StackContainer",_5cd,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_5c7.add(this.domNode,"dijitLayoutContainer");this.containerNode.setAttribute("role","tabpanel");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _5cf=this.getChildren();_5c4.forEach(_5cf,this._setupChild,this);if(this.persist){this.selectedChildWidget=_5cb.byId(_5c5(this.id+"_selectedChild"));}else{_5c4.some(_5cf,function(_5d0){if(_5d0.selected){this.selectedChildWidget=_5d0;}return _5d0.selected;},this);}var _5d1=this.selectedChildWidget;if(!_5d1&&_5cf[0]){_5d1=this.selectedChildWidget=_5cf[0];_5d1.selected=true;}_5ca.publish(this.id+"-startup",{children:_5cf,selected:_5d1});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _5d2=this.selectedChildWidget;if(_5d2){this._showChild(_5d2);}}this.inherited(arguments);},_setupChild:function(_5d3){this.inherited(arguments);_5c7.replace(_5d3.domNode,"dijitHidden","dijitVisible");_5d3.domNode.title="";},addChild:function(_5d4,_5d5){this.inherited(arguments);if(this._started){_5ca.publish(this.id+"-addChild",_5d4,_5d5);this.layout();if(!this.selectedChildWidget){this.selectChild(_5d4);}}},removeChild:function(page){this.inherited(arguments);if(this._started){_5ca.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _5d6=this.getChildren();if(_5d6.length){this.selectChild(_5d6[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_5d7){page=_5cb.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_5d7);this._set("selectedChildWidget",page);_5ca.publish(this.id+"-selectChild",page);if(this.persist){_5c5(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_5d8,_5d9){if(_5d9){this._hideChild(_5d9);}var d=this._showChild(_5d8);if(_5d8.resize){if(this.doLayout){_5d8.resize(this._containerContentBox||this._contentBox);}else{_5d8.resize();}}return d;},_adjacent:function(_5da){var _5db=this.getChildren();var _5dc=_5c4.indexOf(_5db,this.selectedChildWidget);_5dc+=_5da?1:_5db.length-1;return _5db[_5dc%_5db.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){_5ca.publish(this.id+"-containerKeyPress",{e:e,page:this});},layout:function(){var _5dd=this.selectedChildWidget;if(_5dd&&_5dd.resize){if(this.doLayout){_5dd.resize(this._containerContentBox||this._contentBox);}else{_5dd.resize();}}},_showChild:function(page){var _5de=this.getChildren();page.isFirstChild=(page==_5de[0]);page.isLastChild=(page==_5de[_5de.length-1]);page._set("selected",true);_5c7.replace(page.domNode,"dijitVisible","dijitHidden");return(page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);_5c7.replace(page.domNode,"dijitHidden","dijitVisible");page.onHide&&page.onHide();},closeChild:function(page){var _5df=page.onClose(this,page);if(_5df){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_5e0){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;_5c4.forEach(this.getChildren(),function(_5e1){if(!_5e0){this.removeChild(_5e1);}_5e1.destroyRecursive(_5e0);},this);this._descendantsBeingDestroyed=false;}});});},"dijit/form/ComboBox":function(){define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_5e2,_5e3,_5e4){return _5e2("dijit.form.ComboBox",[_5e3,_5e4],{});});},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_5e5,_5e6,keys,_5e7,_5e8,_5e9){return _5e5("dijit.DropDownMenu",[_5e9,_5e8],{templateString:_5e7,baseClass:"dijitMenu",postCreate:function(){var l=this.isLeftToRight();this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);_5e6.stop(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{_5e6.stop(evt);}break;}}});});},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/window"],function(_5ea,_5eb,_5ec,lang,_5ed){return _5eb("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_5ee){var res=[];_5ea.forEach(_5ee||this.getChildren(),function(_5ef){if("value" in _5ef){res.push(_5ef);}else{res=res.concat(this._getDescendantFormWidgets(_5ef.getChildren()));}},this);return res;},reset:function(){_5ea.forEach(this._getDescendantFormWidgets(),function(_5f0){if(_5f0.reset){_5f0.reset();}});},validate:function(){var _5f1=false;return _5ea.every(_5ea.map(this._getDescendantFormWidgets(),function(_5f2){_5f2._hasBeenBlurred=true;var _5f3=_5f2.disabled||!_5f2.validate||_5f2.validate();if(!_5f3&&!_5f1){_5ed.scrollIntoView(_5f2.containerNode||_5f2.domNode);_5f2.focus();_5f1=true;}return _5f3;}),function(item){return item;});},setValues:function(val){_5ec.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_5ea.forEach(this._getDescendantFormWidgets(),function(_5f4){if(!_5f4.name){return;}var _5f5=map[_5f4.name]||(map[_5f4.name]=[]);_5f5.push(_5f4);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _5f6=map[name],_5f7=lang.getObject(name,false,obj);if(_5f7===undefined){continue;}if(!lang.isArray(_5f7)){_5f7=[_5f7];}if(typeof _5f6[0].checked=="boolean"){_5ea.forEach(_5f6,function(w){w.set("value",_5ea.indexOf(_5f7,w.value)!=-1);});}else{if(_5f6[0].multiple){_5f6[0].set("value",_5f7);}else{_5ea.forEach(_5f6,function(w,i){w.set("value",_5f7[i]);});}}}},getValues:function(){_5ec.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_5ea.forEach(this._getDescendantFormWidgets(),function(_5f8){var name=_5f8.name;if(!name||_5f8.disabled){return;}var _5f9=_5f8.get("value");if(typeof _5f8.checked=="boolean"){if(/Radio/.test(_5f8.declaredClass)){if(_5f9!==false){lang.setObject(name,_5f9,obj);}else{_5f9=lang.getObject(name,false,obj);if(_5f9===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_5f9!==false){ary.push(_5f9);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_5f9);}else{lang.setObject(name,[prev,_5f9],obj);}}else{lang.setObject(name,_5f9,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _5fa=_5ea.map(this._descendants,function(w){return w.get("state")||"";});return _5ea.indexOf(_5fa,"Error")>=0?"Error":_5ea.indexOf(_5fa,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){_5ea.forEach(this._childConnections||[],lang.hitch(this,"disconnect"));_5ea.forEach(this._childWatches||[],function(w){w.unwatch();});},connectChildren:function(_5fb){var _5fc=this;this.disconnectChildren();this._descendants=this._getDescendantFormWidgets();var set=_5fb?function(name,val){_5fc[name]=val;}:lang.hitch(this,"_set");set("value",this.get("value"));set("state",this._getState());var _5fd=(this._childConnections=[]),_5fe=(this._childWatches=[]);_5ea.forEach(_5ea.filter(this._descendants,function(item){return item.validate;}),function(_5ff){_5ea.forEach(["state","disabled"],function(attr){_5fe.push(_5ff.watch(attr,function(){_5fc.set("state",_5fc._getState());}));});});var _600=function(){if(_5fc._onChangeDelayTimer){_5fc._onChangeDelayTimer.remove();}_5fc._onChangeDelayTimer=_5fc.defer(function(){delete _5fc._onChangeDelayTimer;_5fc._set("value",_5fc.get("value"));},10);};_5ea.forEach(_5ea.filter(this._descendants,function(item){return item.onChange;}),function(_601){_5fd.push(_5fc.connect(_601,"onChange",_600));_5fe.push(_601.watch("disabled",_600));});},startup:function(){this.inherited(arguments);this.connectChildren(true);this.watch("state",function(attr,_602,_603){this.onValidStateChange(_603=="");});},destroy:function(){this.disconnectChildren();this.inherited(arguments);}});});},"dijit/Menu":function(){define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/_base/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_604,_605,_606,_607,dom,_608,_609,_60a,_60b,keys,lang,on,has,win,_60c,pm,_60d,_60e){if(!_60b.isAsync){_60e(0,function(){var _60f=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_604(_60f);});}return _606("dijit.Menu",_60d,{constructor:function(){this._bindings=[];},targetNodeIds:[],contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(win.body());}else{_605.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_610){return _60c.get(this._iframeContentDocument(_610))||this._iframeContentDocument(_610)["__parent__"]||(_610.name&&win.doc.frames[_610.name])||null;},_iframeContentDocument:function(_611){return _611.contentDocument||(_611.contentWindow&&_611.contentWindow.document)||(_611.name&&win.doc.frames[_611.name]&&win.doc.frames[_611.name].document)||null;},bindDomNode:function(node){node=dom.byId(node);var cn;if(node.tagName.toLowerCase()=="iframe"){var _612=node,_613=this._iframeContentWindow(_612);cn=win.withGlobal(_613,win.body);}else{cn=(node==win.body()?win.doc.documentElement:node);}var _614={node:node,iframe:_612};_608.set(node,"_dijitMenu"+this.id,this._bindings.push(_614));var _615=lang.hitch(this,function(cn){return[on(cn,this.leftClickToOpen?"click":"contextmenu",lang.hitch(this,function(evt){_607.stop(evt);this._scheduleOpen(evt.target,_612,{x:evt.pageX,y:evt.pageY});})),on(cn,"keydown",lang.hitch(this,function(evt){if(evt.shiftKey&&evt.keyCode==keys.F10){_607.stop(evt);this._scheduleOpen(evt.target,_612);}}))];});_614.connects=cn?_615(cn):[];if(_612){_614.onloadHandler=lang.hitch(this,function(){var _616=this._iframeContentWindow(_612);cn=win.withGlobal(_616,win.body);_614.connects=_615(cn);});if(_612.addEventListener){_612.addEventListener("load",_614.onloadHandler,false);}else{_612.attachEvent("onload",_614.onloadHandler);}}},unBindDomNode:function(_617){var node;try{node=dom.byId(_617);}catch(e){return;}var _618="_dijitMenu"+this.id;if(node&&_608.has(node,_618)){var bid=_608.get(node,_618)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _619=b.iframe;if(_619){if(_619.removeEventListener){_619.removeEventListener("load",b.onloadHandler,false);}else{_619.detachEvent("onload",b.onloadHandler);}}_608.remove(node,_618);delete this._bindings[bid];}},_scheduleOpen:function(_61a,_61b,_61c){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_61a,iframe:_61b,coords:_61c});},1);}},_openMyself:function(args){var _61d=args.target,_61e=args.iframe,_61f=args.coords;if(_61f){if(_61e){var ifc=_609.position(_61e,true),_620=this._iframeContentWindow(_61e),_621=win.withGlobal(_620,"_docScroll",dojo);var cs=_60a.getComputedStyle(_61e),tp=_60a.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_61e,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_61e,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_61e,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_61e,cs.borderTopWidth):0);_61f.x+=ifc.x+left-_621.x;_61f.y+=ifc.y+top-_621.y;}}else{_61f=_609.position(_61d,true);_61f.x+=10;_61f.y+=10;}var self=this;var _622=this._focusManager.get("prevNode");var _623=this._focusManager.get("curNode");var _624=!_623||(dom.isDescendant(_623,this.domNode))?_622:_623;function _625(){if(self.refocus&&_624){_624.focus();}pm.close(self);}pm.open({popup:this,x:_61f.x,y:_61f.y,onExecute:_625,onCancel:_625,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},uninitialize:function(){_605.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/form/_CheckBoxMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_626,_627,_628){return _626("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_629){this._set("readOnly",_629);_627.set(this.focusNode,"readOnly",_629);this.focusNode.setAttribute("aria-readonly",_629);},_setLabelAttr:undefined,postMixInProperties:function(){if(this.value==""){this.value="on";}this.inherited(arguments);},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");_627.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_628.stop(e);return false;}return this.inherited(arguments);}});});},"dijit/layout/ContentPane":function(){define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/_base/window","dojo/_base/xhr","dojo/i18n"],function(_62a,lang,_62b,_62c,_62d,html,_62e,_62f,_630,_631,dom,_632,win,xhr,i18n){return _630("dijit.layout.ContentPane",[_62b,_62c],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_62a._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_633,_634){if((!_633||!_633.template)&&_634&&!("href" in _633)&&!("content" in _633)){var df=win.doc.createDocumentFragment();_634=dom.byId(_634);while(_634.firstChild){df.appendChild(_634.firstChild);}_633=lang.delegate(_633,{content:df});}this.inherited(arguments,[_633,_634]);},postMixInProperties:function(){this.inherited(arguments);var _635=i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_62d.substitute(this.loadingMessage,_635);this.errorMessage=_62d.substitute(this.errorMessage,_635);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!_632.get(this.domNode,"role")){this.domNode.setAttribute("role","group");}},startup:function(){this.inherited(arguments);if(this._contentSetter){_62f.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(href){_62a.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",href);},_setHrefAttr:function(href){this.cancel();this.onLoadDeferred=new _631(lang.hitch(this,"cancel"));this.onLoadDeferred.addCallback(lang.hitch(this,"onLoad"));this._set("href",href);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(data){_62a.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",data);},_setContentAttr:function(data){this._set("href","");this.cancel();this.onLoadDeferred=new _631(lang.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.addCallback(lang.hitch(this,"onLoad"));}this._setContent(data||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},uninitialize:function(){if(this._beingDestroyed){this.cancel();}this.inherited(arguments);},destroyRecursive:function(_636){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _631(lang.hitch(this,"cancel"));this.onLoadDeferred.addCallback(lang.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var self=this;var _637={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(lang.isObject(this.ioArgs)){lang.mixin(_637,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_637));hand.addCallback(function(html){try{self._isDownloaded=true;self._setContent(html,false);self.onDownloadEnd();}catch(err){self._onError("Content",err);}delete self._xhrDfd;return html;});hand.addErrback(function(err){if(!hand.canceled){self._onError("Download",err);}delete self._xhrDfd;return err;});delete this._hrefChanged;},_onLoadHandler:function(data){this._set("isLoaded",true);try{this.onLoadDeferred.callback(data);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_638){if(this.isLoaded){this._onUnloadHandler();}var _639=this._contentSetter;_62f.forEach(this.getChildren(),function(_63a){if(_63a.destroyRecursive){_63a.destroyRecursive(_638);}});if(_639){_62f.forEach(_639.parseResults,function(_63b){if(_63b.destroyRecursive&&_63b.domNode&&_63b.domNode.parentNode==win.body()){_63b.destroyRecursive(_638);}});delete _639.parseResults;}if(!_638){html._emptyNode(this.containerNode);}delete this._singleChild;},_setContent:function(cont,_63c){this.destroyDescendants();var _63d=this._contentSetter;if(!(_63d&&_63d instanceof html._ContentSetter)){_63d=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _63e=this.onContentError(e);try{this.containerNode.innerHTML=_63e;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _63f=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});_63d.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_63f);delete this._contentSetterParams;if(this.doLayout){this._checkIfSingleChild();}if(!_63c){if(this._started){delete this._started;this.startup();this._scheduleLayout();}this._onLoadHandler(cont);}},_onError:function(type,err,_640){this.onLoadDeferred.errback(err);var _641=this["on"+type+"Error"].call(this,err);if(_640){console.error(_640,err);}else{if(_641){this._setContent(_641,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"url:dijit/form/templates/ValidationTextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}" role="presentation"\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\r\n\t\t\t${!nameAttrSetting} type=\'${type}\'\r\n\t/></div\r\n></div>\r\n',"dijit/_KeyNavContainer":function(){define(["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_642,_643,_644,_645,keys,_646,_647,_648,lang){return _646("dijit._KeyNavContainer",[_644,_643],{tabIndex:"0",connectKeyNavHandlers:function(_649,_64a){var _64b=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_645.forEach(_649,function(code){_64b[code]=prev;});_645.forEach(_64a,function(code){_64b[code]=next;});_64b[keys.HOME]=lang.hitch(this,"focusFirstChild");_64b[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_642.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_645.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_64c,_64d){this.inherited(arguments);this._startupChild(_64c);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_64e,last){if(!_64e){return;}if(this.focusedChild&&_64e!==this.focusedChild){this._onChildBlur(this.focusedChild);}_64e.set("tabIndex",this.tabIndex);_64e.focus(last?"end":"start");this._set("focusedChild",_64e);},_startupChild:function(_64f){_64f.set("tabIndex","-1");this.connect(_64f,"_onFocus",function(){_64f.set("tabIndex",this.tabIndex);});this.connect(_64f,"_onBlur",function(){_64f.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_648.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_648.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_647.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_650,dir){if(_650){_650=this._getSiblingOfChild(_650,dir);}var _651=this.getChildren();for(var i=0;i<_651.length;i++){if(!_650){_650=_651[(dir>0)?0:(_651.length-1)];}if(_650.isFocusable()){return _650;}_650=this._getSiblingOfChild(_650,dir);}return null;}});});},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang",".."],function(_652,_653,_654,_655,lang,_656){var _657=lang.getObject("layout",true,_656);_657.marginBox2contentBox=function(node,mb){var cs=_655.getComputedStyle(node);var me=_654.getMarginExtents(node,cs);var pb=_654.getPadBorderExtents(node,cs);return{l:_655.toPixelValue(node,cs.paddingLeft),t:_655.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};function _658(word){return word.substring(0,1).toUpperCase()+word.substring(1);}function size(_659,dim){var _65a=_659.resize?_659.resize(dim):_654.setMarginBox(_659.domNode,dim);if(_65a){lang.mixin(_659,_65a);}else{lang.mixin(_659,_654.getMarginBox(_659.domNode));lang.mixin(_659,dim);}}_657.layoutChildren=function(_65b,dim,_65c,_65d,_65e){dim=lang.mixin({},dim);_653.add(_65b,"dijitLayoutContainer");_65c=_652.filter(_65c,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_652.filter(_65c,function(item){return item.region=="center"||item.layoutAlign=="client";}));_652.forEach(_65c,function(_65f){var elm=_65f.domNode,pos=(_65f.region||_65f.layoutAlign);if(!pos){throw new Error("No region setting for "+_65f.id);}var _660=elm.style;_660.left=dim.l+"px";_660.top=dim.t+"px";_660.position="absolute";_653.add(elm,"dijitAlign"+_658(pos));var _661={};if(_65d&&_65d==_65f.id){_661[_65f.region=="top"||_65f.region=="bottom"?"h":"w"]=_65e;}if(pos=="top"||pos=="bottom"){_661.w=dim.w;size(_65f,_661);dim.h-=_65f.h;if(pos=="top"){dim.t+=_65f.h;}else{_660.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_661.h=dim.h;size(_65f,_661);dim.w-=_65f.w;if(pos=="left"){dim.l+=_65f.w;}else{_660.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_65f,dim);}}}});};return{marginBox2contentBox:_657.marginBox2contentBox,layoutChildren:_657.layoutChildren};});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_662,_663){return _662("dijit._Contained",null,{_getSibling:function(_664){var node=this.domNode;do{node=node[_664+"Sibling"];}while(node&&node.nodeType!=1);return node&&_663.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\r\n\t\t\t${!nameAttrSetting} type=\'${type}\'\r\n\t/></div\r\n></div>\r\n',"dijit/form/DataList":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_665,dom,lang,_666,_667,_668){function _669(_66a){return{id:_66a.value,value:_66a.value,name:lang.trim(_66a.innerText||_66a.textContent||"")};}return _665("dijit.form.DataList",_667,{constructor:function(_66b,_66c){this.domNode=dom.byId(_66c);lang.mixin(this,_66b);if(this.id){_668.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_666("option",this.domNode).map(_669)}]);},destroy:function(){_668.remove(this.id);},fetchSelectedItem:function(){var _66d=_666("> option[selected]",this.domNode)[0]||_666("> option",this.domNode)[0];return _66d&&_669(_66d);}});});},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\r\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\r\n\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"></span>\r\n\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\r\n\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\r\n\t</span>\r\n\t</div>\r\n\t\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\r\n</div>\r\n',"dijit/_editor/_Plugin":function(){define("dijit/_editor/_Plugin",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../form/Button"],function(_66e,_66f,lang,_670){var _671=_66f("dijit._editor._Plugin",null,{constructor:function(args){this.params=args||{};lang.mixin(this,this.params);this._connects=[];this._attrPairNames={};},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_670,disabled:false,getLabel:function(key){return this.editor.commands[key];},_initButton:function(){if(this.command.length){var _672=this.getLabel(this.command),_673=this.editor,_674=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);if(!this.button){var _675=lang.mixin({label:_672,dir:_673.dir,lang:_673.lang,showLabel:false,iconClass:_674,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});this.button=new this.buttonClass(_675);}}if(this.get("disabled")&&this.button){this.button.set("disabled",this.get("disabled"));}},destroy:function(){var h;while(h=this._connects.pop()){h.remove();}if(this.dropDown){this.dropDown.destroyRecursive();}},connect:function(o,f,tf){this._connects.push(_66e.connect(o,f,this,tf));},updateState:function(){var e=this.editor,c=this.command,_676,_677;if(!e||!e.isLoaded||!c.length){return;}var _678=this.get("disabled");if(this.button){try{_677=!_678&&e.queryCommandEnabled(c);if(this.enabled!==_677){this.enabled=_677;this.button.set("disabled",!_677);}if(typeof this.button.checked=="boolean"){_676=e.queryCommandState(c);if(this.checked!==_676){this.checked=_676;this.button.set("checked",e.queryCommandState(c));}}}catch(e){}}},setEditor:function(_679){this.editor=_679;this._initButton();if(this.button&&this.useDefaultCommand){if(this.editor.queryCommandAvailable(this.command)){this.connect(this.button,"onClick",lang.hitch(this.editor,"execCommand",this.command,this.commandArg));}else{this.button.domNode.style.display="none";}}this.connect(this.editor,"onNormalizedDisplayChanged","updateState");},setToolbar:function(_67a){if(this.button){_67a.addChild(this.button);}},set:function(name,_67b){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var _67c=this._getAttrNames(name);if(this[_67c.s]){var _67d=this[_67c.s].apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,_67b);}return _67d||this;},get:function(name){var _67e=this._getAttrNames(name);return this[_67e.g]?this[_67e.g]():this[name];},_setDisabledAttr:function(_67f){this.disabled=_67f;this.updateState();},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.charAt(0).toUpperCase()+name.substr(1);return(apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});},_set:function(name,_680){this[name]=_680;}});_671.registry={};return _671;});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":'<div class="dijit dijitReset dijitInline" role="presentation"\r\n\t><input\r\n\t \t${!nameAttrSetting} type="${type}" ${checkedAttrSetting}\r\n\t\tclass="dijitReset dijitCheckBoxInput"\r\n\t\tdata-dojo-attach-point="focusNode"\r\n\t \tdata-dojo-attach-event="onclick:_onClick"\r\n/></div>\r\n'}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_681,_682,_683,_684,_685,_686,_687,_688,_689){if(!_684.isAsync){_686(0,function(){var _68a=["dijit/form/RadioButton"];_681(_68a);});}return _682("dijit.form.CheckBox",[_687,_688],{templateString:_689,baseClass:"dijitCheckBox",_setValueAttr:function(_68b,_68c){if(typeof _68b=="string"){this._set("value",_68b);_683.set(this.focusNode,"value",_68b);_68b=true;}if(this._created){this.set("checked",_68b,_68c);}},_getValueAttr:function(){return(this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":"";},_fillContent:function(){},_onFocus:function(){if(this.id){_685("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_685("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"url:dijit/templates/MenuBar.html":'<div class="dijitMenuBar dijitMenuPassive" data-dojo-attach-point="containerNode"  role="menubar" tabIndex="${tabIndex}" data-dojo-attach-event="onkeypress: _onKeyPress"></div>\r\n',"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","dojo/_base/window","./_dndContainer"],function(_68d,_68e,_68f,lang,_690,on,_691,win,_692){return _68f("dijit.tree._dndSelector",_692,{constructor:function(){this.selection={};this.anchor=null;this.tree.domNode.setAttribute("aria-multiselect",!this.singular);this.events.push(on(this.tree.domNode,_691.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_691.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_691.move,lang.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _693=[],sel=this.selection;for(var i in sel){_693.push(sel[i]);}return _693;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_694){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_694){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_695){var _696=this.getSelectedTreeNodes();_68d.forEach(this._setDifference(_696,_695),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_68d.forEach(this._setDifference(_695,_696),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_68d.forEach(ys,function(y){y.__exclude__=true;});var ret=_68d.filter(xs,function(x){return !x.__exclude__;});_68d.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _697=this.getSelectedTreeNodes();var _698=[],_699=[];_68d.forEach(_697,function(node){_699.push(node);_698.push(node.getTreePath());});var _69a=_68d.map(_699,function(node){return node.item;});this.tree._set("paths",_698);this.tree._set("path",_698[0]||[]);this.tree._set("selectedNodes",_699);this.tree._set("selectedNode",_699[0]||null);this.tree._set("selectedItems",_69a);this.tree._set("selectedItem",_69a[0]||null);},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(!_690.isLeft(e)){return;}e.preventDefault();var _69b=this.current,copy=_68e.isCopyKey(e),id=_69b.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_69b,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_68e.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_69c,_69d){if(this.singular){if(this.anchor==node&&_69c){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_69d&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_69e,end,_69f=this.anchor;if(cr<0){_69e=_69f;end=node;}else{_69e=node;end=_69f;}var _6a0=[];while(_69e!=end){_6a0.push(_69e);_69e=this.tree._getNextNode(_69e);}_6a0.push(end);this.setSelection(_6a0);}else{if(this.selection[node.id]&&_69c){this.removeTreeNode(node);}else{if(_69c){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _6a1=this.selection[key];return{data:_6a1,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||win.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","./registry"],function(_6a2,_6a3,_6a4,_6a5){return _6a3("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_6a6,_6a7){var _6a8=this.containerNode;if(_6a7&&typeof _6a7=="number"){var _6a9=this.getChildren();if(_6a9&&_6a9.length>=_6a7){_6a8=_6a9[_6a7-1].domNode;_6a7="after";}}_6a4.place(_6a6.domNode,_6a8,_6a7);if(this._started&&!_6a6._started){_6a6.startup();}},removeChild:function(_6aa){if(typeof _6aa=="number"){_6aa=this.getChildren()[_6aa];}if(_6aa){var node=_6aa.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_6ab,dir){var node=_6ab.domNode,_6ac=(dir>0?"nextSibling":"previousSibling");do{node=node[_6ac];}while(node&&(node.nodeType!=1||!_6a5.byNode(node)));return node&&_6a5.byNode(node);},getIndexOfChild:function(_6ad){return _6a2.indexOf(this.getChildren(),_6ad);}});});},"url:dijit/templates/TitlePane.html":'<div>\r\n\t<div data-dojo-attach-event="onclick:_onTitleClick, onkeypress:_onTitleKey"\r\n\t\t\tclass="dijitTitlePaneTitle" data-dojo-attach-point="titleBarNode">\r\n\t\t<div class="dijitTitlePaneTitleFocus" data-dojo-attach-point="focusNode">\r\n\t\t\t<img src="${_blankGif}" alt="" data-dojo-attach-point="arrowNode" class="dijitArrowNode" role="presentation"\r\n\t\t\t/><span data-dojo-attach-point="arrowNodeInner" class="dijitArrowNodeInner"></span\r\n\t\t\t><span data-dojo-attach-point="titleNode" class="dijitTitlePaneTextNode"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="dijitTitlePaneContentOuter" data-dojo-attach-point="hideNode" role="presentation">\r\n\t\t<div class="dijitReset" data-dojo-attach-point="wipeNode" role="presentation">\r\n\t\t\t<div class="dijitTitlePaneContentInner" data-dojo-attach-point="containerNode" role="region" id="${id}_pane">\r\n\t\t\t\t<!-- nested divs because wipeIn()/wipeOut() doesn\'t work right on node w/padding etc.  Put padding on inner div. -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n',"dijit/form/ValidationTextBox":function(){define(["dojo/_base/declare","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_6ae,i18n,_6af,_6b0,_6b1){return _6ae("dijit.form.ValidationTextBox",_6af,{templateString:_6b1,baseClass:"dijitTextBox dijitValidationTextBox",required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},regExp:".*",regExpGen:function(){return this.regExp;},state:"",tooltipPosition:[],_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused);},validator:function(_6b2,_6b3){return(new RegExp("^(?:"+this.regExpGen(_6b3)+")"+(this.required?"":"?")+"$")).test(_6b2)&&(!this.required||!this._isEmpty(_6b2))&&(this._isEmpty(_6b2)||this.parse(_6b2,_6b3)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_6b4){return(this.trim?/^\s*$/:/^$/).test(_6b4);},getErrorMessage:function(){return(this.required&&this._isEmpty(this.textbox.value))?this.missingMessage:this.invalidMessage;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_6b5){var _6b6="";var _6b7=this.disabled||this.isValid(_6b5);if(_6b7){this._maskValidSubsetError=true;}var _6b8=this._isEmpty(this.textbox.value);var _6b9=!_6b7&&_6b5&&this._isValidSubset();this._set("state",_6b7?"":(((((!this._hasBeenBlurred||_6b5)&&_6b8)||_6b9)&&this._maskValidSubsetError)?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_6b7?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_6b5&&_6b9;_6b6=this.getErrorMessage(_6b5);}else{if(this.state=="Incomplete"){_6b6=this.getPromptMessage(_6b5);this._maskValidSubsetError=!this._hasBeenBlurred||_6b5;}else{if(_6b8){_6b6=this.getPromptMessage(_6b5);}}}this.set("message",_6b6);return _6b7;},displayMessage:function(_6ba){if(_6ba&&this.focused){_6b0.show(_6ba,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_6b0.hide(this.domNode);}},_refreshState:function(){this.validate(this.focused);this.inherited(arguments);},constructor:function(){this.constraints={};},_setConstraintsAttr:function(_6bb){if(!_6bb.locale&&this.lang){_6bb.locale=this.lang;}this._set("constraints",_6bb);this._computePartialRE();},_computePartialRE:function(){var p=this.regExpGen(this.constraints);this.regExp=p;var _6bc="";if(p!=".*"){this.regExp.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case"{":case"+":case"?":case"*":case"^":case"$":case"|":case"(":_6bc+=re;break;case")":_6bc+="|$)";break;default:_6bc+="(?:"+re+"|$)";break;}});}try{"".search(_6bc);}catch(e){_6bc=this.regExp;}this._partialre="^(?:"+_6bc+")$";},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);if(this.invalidMessage=="$_unset_$"){this.invalidMessage=this.messages.invalidMessage;}if(!this.invalidMessage){this.invalidMessage=this.promptMessage;}if(this.missingMessage=="$_unset_$"){this.missingMessage=this.messages.missingMessage;}if(!this.missingMessage){this.missingMessage=this.invalidMessage;}this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_6bd){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_6be){this._set("required",_6be);this.focusNode.setAttribute("aria-required",_6be);this._refreshState();},_setMessageAttr:function(_6bf){this._set("message",_6bf);this.displayMessage(_6bf);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/_base/typematic":function(){define(["../typematic"],function(){});},"dijit/_base":function(){define("dijit/_base",[".","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_6c0){return _6c0._base;});},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","dojo/_base/window","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(_6c1,_6c2,_6c3,_6c4,_6c5,_6c6,_6c7,_6c8,keys,lang,on,_6c9,win,_6ca,_6cb,_6cc,_6cd,_6ce){var _6cf=_6c3("dijit.layout._Splitter",[_6cb,_6cc],{live:true,templateString:'<div class="dijitSplitter" data-dojo-attach-event="onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse" tabIndex="0" role="separator"><div class="dijitSplitterThumb"></div></div>',constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_6c4.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _6d0=_6c2(this._cookieName);if(_6d0){this.child.domNode.style[this.horizontal?"height":"width"]=_6d0;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_6d1=_6c6.getMarginBox(this.child.domNode)[dim],_6d2=_6c1.filter(this.container.getChildren(),function(_6d3){return _6d3.region=="center";})[0],_6d4=_6c6.getMarginBox(_6d2.domNode)[dim];return Math.min(this.child.maxSize,_6d1+_6d4);},_startDrag:function(e){if(!this.cover){this.cover=win.doc.createElement("div");_6c4.add(this.cover,"dijitSplitterCover");_6c5.place(this.cover,this.child.domNode,"after");}_6c4.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_6c5.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_6c4.add(this.domNode,"dijitSplitterShadow");_6c5.place(this.fake,this.domNode,"after");}_6c4.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_6c4.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _6d5=this._factor,_6d6=this.horizontal,axis=_6d6?"pageY":"pageX",_6d7=e[axis],_6d8=this.domNode.style,dim=_6d6?"h":"w",_6d9=_6c6.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_6da=this.region,_6db=_6da=="top"||_6da=="bottom"?"top":"left",_6dc=parseInt(_6d8[_6db],10),_6dd=this._resize,_6de=lang.hitch(this.container,"_layoutChildren",this.child.id),de=win.doc;this._handlers=this._handlers.concat([on(de,_6c9.move,this._drag=function(e,_6df){var _6e0=e[axis]-_6d7,_6e1=_6d5*_6e0+_6d9,_6e2=Math.max(Math.min(_6e1,max),min);if(_6dd||_6df){_6de(_6e2);}_6d8[_6db]=_6e0+_6dc+_6d5*(_6e2-_6e1)+"px";}),on(de,"dragstart",_6c8.stop),on(win.body(),"selectstart",_6c8.stop),on(de,_6c9.release,lang.hitch(this,"_stopDrag"))]);_6c8.stop(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_6c4.toggle(this.domNode,"dijitSplitterHover",o);_6c4.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_6c4.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_6c5.destroy(this.fake);}_6c4.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_6c2(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyPress:function(e){this._resize=true;var _6e3=this.horizontal;var tick=1;switch(e.charOrCode){case _6e3?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _6e3?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _6e4=_6c6.getMarginSize(this.child.domNode)[_6e3?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_6e4,this._computeMaxSize()),this.child.minSize));_6c8.stop(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _6e5=_6c3("dijit.layout._Gutter",[_6cb,_6cc],{templateString:'<div class="dijitGutter" role="presentation"></div>',postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_6c4.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _6e6=_6c3("dijit.layout.BorderContainer",_6cd,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_6cf,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}_6c1.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(_6e7){var _6e8=_6e7.region;if(_6e8){this.inherited(arguments);_6c4.add(_6e7.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_6e8=="leading"){_6e8=ltr?"left":"right";}if(_6e8=="trailing"){_6e8=ltr?"right":"left";}if(_6e8!="center"&&(_6e7.splitter||this.gutters)&&!_6e7._splitterWidget){var _6e9=_6e7.splitter?this._splitterClass:_6e5;if(lang.isString(_6e9)){_6e9=lang.getObject(_6e9);}var _6ea=new _6e9({id:_6e7.id+"_splitter",container:this,child:_6e7,region:_6e8,live:this.liveSplitters});_6ea.isSplitter=true;_6e7._splitterWidget=_6ea;_6c5.place(_6ea.domNode,_6e7.domNode,"after");_6ea.startup();}_6e7.region=_6e8;}},layout:function(){this._layoutChildren();},addChild:function(_6eb,_6ec){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(_6ed){var _6ee=_6ed.region;var _6ef=_6ed._splitterWidget;if(_6ef){_6ef.destroy();delete _6ed._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}_6c4.remove(_6ed.domNode,this.baseClass+"Pane");_6c7.set(_6ed.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_6c7.set(_6ed.domNode,_6ee=="top"||_6ee=="bottom"?"width":"height","auto");},getChildren:function(){return _6c1.filter(this.inherited(arguments),function(_6f0){return !_6f0.isSplitter;});},getSplitter:function(_6f1){return _6c1.filter(this.getChildren(),function(_6f2){return _6f2.region==_6f1;})[0]._splitterWidget;},resize:function(_6f3,_6f4){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_6c7.getComputedStyle(node);this.pe=_6c6.getPadExtents(node,this.cs);this.pe.r=_6c7.toPixelValue(node,this.cs.paddingRight);this.pe.b=_6c7.toPixelValue(node,this.cs.paddingBottom);_6c7.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_6f5,_6f6){if(!this._borderBox||!this._borderBox.h){return;}var _6f7=_6c1.map(this.getChildren(),function(_6f8,idx){return{pane:_6f8,weight:[_6f8.region=="center"?Infinity:0,_6f8.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(_6f8.region)?1:-1),idx]};},this);_6f7.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _6f9=[];_6c1.forEach(_6f7,function(_6fa){var pane=_6fa.pane;_6f9.push(pane);if(pane._splitterWidget){_6f9.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_6ce.layoutChildren(this.domNode,dim,_6f9,_6f5,_6f6);},destroyRecursive:function(){_6c1.forEach(this.getChildren(),function(_6fb){var _6fc=_6fb._splitterWidget;if(_6fc){_6fc.destroy();}delete _6fb._splitterWidget;});this.inherited(arguments);}});lang.extend(_6ca,{region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity});_6e6._Splitter=_6cf;_6e6._Gutter=_6e5;return _6e6;});},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_6fd,_6fe,_6ff,lang){lang.extend(_6fe,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _6ff("dijit._FocusMixin",null,{_focusManager:_6fd});});},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/parser","dijit/registry"],function(_700,_701,_702,_703){return _701("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_702.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));this._supportingWidgets=_703.findWidgets(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_700.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"url:dijit/templates/MenuBarItem.html":'<div class="dijitReset dijitInline dijitMenuItem dijitMenuItemLabel" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\r\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\r\n\t<span data-dojo-attach-point="containerNode"></span>\r\n</div>\r\n',"dijit/form/FilteringSelect":function(){define("dijit/form/FilteringSelect",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","./MappedTextBox","./ComboBoxMixin"],function(_704,_705,_706,lang,_707,_708){return _705("dijit.form.FilteringSelect",[_707,_708],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_709,_70a,_70b,_70c){if((_70a&&_70a[this.searchAttr]!==this._lastQuery)||(!_70a&&_709.length&&this.store.getIdentity(_709[0])!=this._lastQuery)){return;}if(!_709.length){this.set("value","",_70c||(_70c===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_709[0],_70c);}},_openResultList:function(_70d,_70e,_70f){if(_70e[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return"value";},_setValueAttr:function(_710,_711,_712,item){if(!this._onChangeActive){_711=null;}if(item===undefined){if(_710===null||_710===""){_710="";if(!lang.isString(_712)){this._setDisplayedValueAttr(_712||"",_711);return;}}var self=this;this._lastQuery=_710;_706.when(this.store.get(_710),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_711);});}else{this.valueNode.value=_710;this.inherited(arguments);}},_setItemAttr:function(item,_713,_714){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_715,_716){if(_715==null){_715="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_716=false;}if(this.store){this.closeDropDown();var _717=lang.clone(this.query);var qs=this._getDisplayQueryString(_715),q;if(this.store._oldAPI){q=qs;}else{q=_704.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_717[this.searchAttr]=q;this.textbox.value=_715;this._lastDisplayedValue=_715;this._set("displayedValue",_715);var _718=this;var _719={ignoreCase:this.ignoreCase,deep:true};lang.mixin(_719,this.fetchProperties);this._fetchHandle=this.store.query(_717,_719);_706.when(this._fetchHandle,function(_71a){_718._fetchHandle=null;_718._callbackSetLabel(_71a||[],_717,_719,_716);},function(err){_718._fetchHandle=null;if(!_718._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_71b,dom,_71c,_71d){return _71b("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_71c.stop(e);return false;}var _71e=this.onClick(e)===false;if(!_71e&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _71f=_71d.byNode(node);if(_71f&&typeof _71f._onSubmit=="function"){_71f._onSubmit(e);_71e=true;break;}}}if(_71e){e.preventDefault();}return !_71e;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_720){this._set("label",_720);(this.containerNode||this.focusNode).innerHTML=_720;}});});},"url:dijit/form/templates/Spinner.html":'<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}" role="presentation"\r\n\t><div class="dijitReset dijitButtonNode dijitSpinnerButtonContainer"\r\n\t\t><input class="dijitReset dijitInputField dijitSpinnerButtonInner" type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t/><div class="dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton"\r\n\t\t\tdata-dojo-attach-point="upArrowNode"\r\n\t\t\t><div class="dijitArrowButtonInner"\r\n\t\t\t\t><input class="dijitReset dijitInputField" value="&#9650;" type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t\t\t${_buttonInputDisabled}\r\n\t\t\t/></div\r\n\t\t></div\r\n\t\t><div class="dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton"\r\n\t\t\tdata-dojo-attach-point="downArrowNode"\r\n\t\t\t><div class="dijitArrowButtonInner"\r\n\t\t\t\t><input class="dijitReset dijitInputField" value="&#9660;" type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t\t\t${_buttonInputDisabled}\r\n\t\t\t/></div\r\n\t\t></div\r\n\t></div\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935;" type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class=\'dijitReset dijitInputInner\' data-dojo-attach-point="textbox,focusNode" type="${type}" data-dojo-attach-event="onkeypress:_onKeyPress"\r\n\t\t\trole="spinbutton" autocomplete="off" ${!nameAttrSetting}\r\n\t/></div\r\n></div>\r\n',"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/_base/sniff","dojo/_base/unload","dojo/_base/window","."],function(_721,has,_722,win,_723){var _724={},hash={};var _725={length:0,add:function(_726){if(hash[_726.id]){throw new Error("Tried to register widget with id=="+_726.id+" but that id is already registered");}hash[_726.id]=_726;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_727){var id;do{id=_727+"_"+(_727 in _724?++_724[_727]:_724[_727]=0);}while(hash[id]);return _723._scopeName=="dijit"?id:_723._scopeName+"_"+id;},findWidgets:function(root){var _728=[];function _729(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _72a=node.getAttribute("widgetId");if(_72a){var _72b=hash[_72a];if(_72b){_728.push(_72b);}}else{_729(node);}}}}_729(root);return _728;},_destroyAll:function(){_723._curFocus=null;_723._prevFocus=null;_723._activeStack=[];_721.forEach(_725.findWidgets(win.body()),function(_72c){if(!_72c._destroyed){if(_72c.destroyRecursive){_72c.destroyRecursive();}else{if(_72c.destroy){_72c.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.getAttribute&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};if(has("ie")){_722.addOnWindowUnload(function(){_725._destroyAll();});}_723.registry=_725;return _725;});},"dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/mouse","dojo/on"],function(_72d,_72e,_72f,_730,lang,_731,on){return _72e("dijit.tree._dndContainer",null,{constructor:function(tree,_732){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_732);this.current=null;this.containerState="";_72f.add(this.node,"dojoDndContainer");this.events=[on(this.node,_731.enter,lang.hitch(this,"onOverEvent")),on(this.node,_731.leave,lang.hitch(this,"onOutEvent")),_72d.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_72d.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_730,"stop")),on(this.node,"selectstart",lang.hitch(_730,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_733){this.current=_733;},onMouseOut:function(){this.current=null;},_changeState:function(type,_734){var _735="dojoDnd"+type;var _736=type.toLowerCase()+"State";_72f.replace(this.node,_735+_734,_735+this[_736]);this[_736]=_734;},_addItemClass:function(node,type){_72f.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_72f.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","..","../hccss"],function(_737,lang,_738){lang.mixin(_738,{hasWaiRole:function(elem,role){var _739=this.getWaiRole(elem);return role?(_739.indexOf(role)>-1):(_739.length>0);},getWaiRole:function(elem){return lang.trim((_737.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_737.set(elem,"role",role);},removeWaiRole:function(elem,role){var _73a=_737.get(elem,"role");if(!_73a){return;}if(role){var t=lang.trim((" "+_73a+" ").replace(" "+role+" "," "));_737.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,_73b){return elem.hasAttribute?elem.hasAttribute("aria-"+_73b):!!elem.getAttribute("aria-"+_73b);},getWaiState:function(elem,_73c){return elem.getAttribute("aria-"+_73c)||"";},setWaiState:function(elem,_73d,_73e){elem.setAttribute("aria-"+_73d,_73e);},removeWaiState:function(elem,_73f){elem.removeAttribute("aria-"+_73f);}});return _738;});},"dijit/form/_FormSelectWidget":function(){define(["dojo/_base/array","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","./_FormValueWidget"],function(_740,_741,_742,_743,dom,_744,_745,lang,_746,_747){return _743("dijit.form._FormSelectWidget",_747,{multiple:false,options:null,store:null,query:null,queryOptions:null,onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,getOptions:function(_748){var _749=_748,opts=this.options||[],l=opts.length;if(_749===undefined){return opts;}if(lang.isArray(_749)){return _740.map(_749,"return this.getOptions(item);",this);}if(lang.isObject(_748)){if(!_740.some(this.options,function(o,idx){if(o===_749||(o.value&&o.value===_749.value)){_749=idx;return true;}return false;})){_749=-1;}}if(typeof _749=="string"){for(var i=0;i<l;i++){if(opts[i].value===_749){_749=i;break;}}}if(typeof _749=="number"&&_749>=0&&_749<l){return this.options[_749];}return null;},addOption:function(_74a){if(!lang.isArray(_74a)){_74a=[_74a];}_740.forEach(_74a,function(i){if(i&&lang.isObject(i)){this.options.push(i);}},this);this._loadChildren();},removeOption:function(_74b){if(!lang.isArray(_74b)){_74b=[_74b];}var _74c=this.getOptions(_74b);_740.forEach(_74c,function(i){if(i){this.options=_740.filter(this.options,function(node){return(node.value!==i.value||node.label!==i.label);});this._removeOptionItem(i);}},this);this._loadChildren();},updateOption:function(_74d){if(!lang.isArray(_74d)){_74d=[_74d];}_740.forEach(_74d,function(i){var _74e=this.getOptions(i),k;if(_74e){for(k in i){_74e[k]=i[k];}}},this);this._loadChildren();},setStore:function(_74f,_750,_751){var _752=this.store;_751=_751||{};if(_752!==_74f){var h;while(h=this._notifyConnections.pop()){h.remove();}if(_74f&&_74f.getFeatures()["dojo.data.api.Notification"]){this._notifyConnections=[_741.after(_74f,"onNew",lang.hitch(this,"_onNewItem"),true),_741.after(_74f,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_741.after(_74f,"onSet",lang.hitch(this,"_onSetItem"),true)];}this._set("store",_74f);}this._onChangeActive=false;if(this.options&&this.options.length){this.removeOption(this.options);}if(_74f){this._loadingStore=true;_74f.fetch(lang.delegate(_751,{onComplete:function(_753,opts){if(this.sortByLabel&&!_751.sort&&_753.length){_753.sort(_742.createSortFunction([{attribute:_74f.getLabelAttributes(_753[0])[0]}],_74f));}if(_751.onFetch){_753=_751.onFetch.call(this,_753,opts);}_740.forEach(_753,function(i){this._addOptionForItem(i);},this);this._loadingStore=false;this.set("value","_pendingValue" in this?this._pendingValue:_750);delete this._pendingValue;if(!this.loadChildrenOnOpen){this._loadChildren();}else{this._pseudoLoadChildren(_753);}this._fetchedWith=opts;this._lastValueReported=this.multiple?[]:null;this._onChangeActive=true;this.onSetStore();this._handleOnChange(this.value);},scope:this}));}else{delete this._fetchedWith;}return _752;},_setValueAttr:function(_754,_755){if(this._loadingStore){this._pendingValue=_754;return;}var opts=this.getOptions()||[];if(!lang.isArray(_754)){_754=[_754];}_740.forEach(_754,function(i,idx){if(!lang.isObject(i)){i=i+"";}if(typeof i==="string"){_754[idx]=_740.filter(opts,function(node){return node.value===i;})[0]||{value:"",label:""};}},this);_754=_740.filter(_754,function(i){return i&&i.value;});if(!this.multiple&&(!_754[0]||!_754[0].value)&&opts.length){_754[0]=opts[0];}_740.forEach(opts,function(i){i.selected=_740.some(_754,function(v){return v.value===i.value;});});var val=_740.map(_754,function(i){return i.value;}),disp=_740.map(_754,function(i){return i.label;});this._set("value",this.multiple?val:val[0]);this._setDisplay(this.multiple?disp:disp[0]);this._updateSelection();this._handleOnChange(this.value,_755);},_getDisplayedValueAttr:function(){var val=this.get("value");if(!lang.isArray(val)){val=[val];}var ret=_740.map(this.getOptions(val),function(v){if(v&&"label" in v){return v.label;}else{if(v){return v.value;}}return null;},this);return this.multiple?ret:ret[0];},_loadChildren:function(){if(this._loadingStore){return;}_740.forEach(this._getChildren(),function(_756){_756.destroyRecursive();});_740.forEach(this.options,this._addOptionItem,this);this._updateSelection();},_updateSelection:function(){this._set("value",this._getValueFromOpts());var val=this.value;if(!lang.isArray(val)){val=[val];}if(val&&val[0]){_740.forEach(this._getChildren(),function(_757){var _758=_740.some(val,function(v){return _757.option&&(v===_757.option.value);});_744.toggle(_757.domNode,this.baseClass+"SelectedOption",_758);_757.domNode.setAttribute("aria-selected",_758);},this);}},_getValueFromOpts:function(){var opts=this.getOptions()||[];if(!this.multiple&&opts.length){var opt=_740.filter(opts,function(i){return i.selected;})[0];if(opt&&opt.value){return opt.value;}else{opts[0].selected=true;return opts[0].value;}}else{if(this.multiple){return _740.map(_740.filter(opts,function(i){return i.selected;}),function(i){return i.value;})||[];}}return"";},_onNewItem:function(item,_759){if(!_759||!_759.parent){this._addOptionForItem(item);}},_onDeleteItem:function(item){var _75a=this.store;this.removeOption(_75a.getIdentity(item));},_onSetItem:function(item){this.updateOption(this._getOptionObjForItem(item));},_getOptionObjForItem:function(item){var _75b=this.store,_75c=_75b.getLabel(item),_75d=(_75c?_75b.getIdentity(item):null);return{value:_75d,label:_75c,item:item};},_addOptionForItem:function(item){var _75e=this.store;if(!_75e.isItemLoaded(item)){_75e.loadItem({item:item,onItem:function(i){this._addOptionForItem(i);},scope:this});return;}var _75f=this._getOptionObjForItem(item);this.addOption(_75f);},constructor:function(_760){this._oValue=(_760||{}).value||null;this._notifyConnections=[];},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},_fillContent:function(){var opts=this.options;if(!opts){opts=this.options=this.srcNodeRef?_746("> *",this.srcNodeRef).map(function(node){if(node.getAttribute("type")==="separator"){return{value:"",label:"",selected:false,disabled:false};}return{value:(node.getAttribute("data-"+_745._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};},this):[];}if(!this.value){this._set("value",this._getValueFromOpts());}else{if(this.multiple&&typeof this.value=="string"){this._set("value",this.value.split(","));}}},postCreate:function(){this.inherited(arguments);this.connect(this,"onChange","_updateSelection");this.connect(this,"startup","_loadChildren");this._setValueAttr(this.value,null);},startup:function(){this.inherited(arguments);var _761=this.store,_762={};_740.forEach(["query","queryOptions","onFetch"],function(i){if(this[i]){_762[i]=this[i];}delete this[i];},this);if(_761&&_761.getFeatures()["dojo.data.api.Identity"]){this.store=null;this.setStore(_761,this._oValue,_762);}},destroy:function(){var h;while(h=this._notifyConnections.pop()){h.remove();}this.inherited(arguments);},_addOptionItem:function(){},_removeOptionItem:function(){},_setDisplay:function(){},_getChildren:function(){return[];},_getSelectedOptionsAttr:function(){return this.getOptions(this.get("value"));},_pseudoLoadChildren:function(){},onSetStore:function(){}});});},"dijit/form/Select":function(){require({cache:{"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode" cellspacing=\'0\' cellpadding=\'0\'\r\n\trole="combobox" aria-haspopup="true"\r\n\t><tbody role="presentation"><tr role="presentation"\r\n\t\t><td class="dijitReset dijitStretch dijitButtonContents dijitButtonNode" role="presentation"\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"  data-dojo-attach-point="containerNode,_popupStateNode"></span\r\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\r\n\t\t/></td><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton"\r\n\t\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\r\n\t\t\t><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\r\n\t\t\t><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n'}});define("dijit/form/Select",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/_base/event","dojo/i18n","dojo/_base/lang","./_FormSelectWidget","../_HasDropDown","../Menu","../MenuItem","../MenuSeparator","../Tooltip","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_763,_764,_765,_766,_767,_768,_769,i18n,lang,_76a,_76b,Menu,_76c,_76d,_76e,_76f){var _770=_764("dijit.form._SelectMenu",Menu,{buildRendering:function(){this.inherited(arguments);var o=(this.menuTableNode=this.domNode);var n=(this.domNode=_767.create("div",{style:{overflowX:"hidden",overflowY:"scroll"}}));if(o.parentNode){o.parentNode.replaceChild(n,o);}_766.remove(o,"dijitMenuTable");n.className=o.className+" dijitSelectMenu";o.className="dijitReset dijitMenuTable";o.setAttribute("role","listbox");n.setAttribute("role","presentation");n.appendChild(o);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",_769.stop);},resize:function(mb){if(mb){_768.setMarginBox(this.domNode,mb);if("w" in mb){this.menuTableNode.style.width="100%";}}}});var _771=_764("dijit.form.Select",[_76a,_76b],{baseClass:"dijitSelect",templateString:_76f,required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){this.inherited(arguments);if(this.options.length&&!this.value&&this.srcNodeRef){var si=this.srcNodeRef.selectedIndex||0;this.value=this.options[si>=0?si:0].value;}this.dropDown=new _770({id:this.id+"_menu"});_766.add(this.dropDown.domNode,this.baseClass+"Menu");},_getMenuItemForOption:function(_772){if(!_772.value&&!_772.label){return new _76d();}else{var _773=lang.hitch(this,"_setValueAttr",_772);var item=new _76c({option:_772,label:_772.label||this.emptyLabel,onClick:_773,disabled:_772.disabled||false});item.focusNode.setAttribute("role","listitem");return item;}},_addOptionItem:function(_774){if(this.dropDown){this.dropDown.addChild(this._getMenuItemForOption(_774));}},_getChildren:function(){if(!this.dropDown){return[];}return this.dropDown.getChildren();},_loadChildren:function(_775){if(_775===true){if(this.dropDown){delete this.dropDown.focusedChild;}if(this.options.length){this.inherited(arguments);}else{_763.forEach(this._getChildren(),function(_776){_776.destroyRecursive();});var item=new _76c({label:"&#160;"});this.dropDown.addChild(item);}}else{this._updateSelection();}this._isLoaded=false;this._childrenLoaded=true;if(!this._loadingStore){this._setValueAttr(this.value);}},_setValueAttr:function(_777){this.inherited(arguments);_765.set(this.valueNode,"value",this.get("value"));this.validate(this.focused);},_setDisabledAttr:function(_778){this.inherited(arguments);this.validate(this.focused);},_setRequiredAttr:function(_779){this._set("required",_779);this.focusNode.setAttribute("aria-required",_779);this.validate(this.focused);},_setDisplay:function(_77a){var lbl=_77a||this.emptyLabel;this.containerNode.innerHTML='<span class="dijitReset dijitInline '+this.baseClass+'Label">'+lbl+"</span>";this.focusNode.setAttribute("aria-valuetext",lbl);},validate:function(_77b){var _77c=this.disabled||this.isValid(_77b);this._set("state",_77c?"":"Incomplete");this.focusNode.setAttribute("aria-invalid",_77c?"false":"true");var _77d=_77c?"":this._missingMsg;if(_77d&&this.focused&&this._hasBeenBlurred){_76e.show(_77d,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_76e.hide(this.domNode);}this._set("message",_77d);return _77c;},isValid:function(){return(!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));},reset:function(){this.inherited(arguments);_76e.hide(this.domNode);this.validate(this.focused);},postMixInProperties:function(){this.inherited(arguments);this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onmousemove",_769.stop);},_setStyleAttr:function(_77e){this.inherited(arguments);_766.toggle(this.domNode,this.baseClass+"FixedWidth",!!this.domNode.style.width);},isLoaded:function(){return this._isLoaded;},loadDropDown:function(_77f){this._loadChildren(true);this._isLoaded=true;_77f();},closeDropDown:function(){this.inherited(arguments);if(this.dropDown&&this.dropDown.menuTableNode){this.dropDown.menuTableNode.style.width="";}},uninitialize:function(_780){if(this.dropDown&&!this.dropDown._destroyed){this.dropDown.destroyRecursive(_780);delete this.dropDown;}this.inherited(arguments);},_onFocus:function(){this.validate(true);this.inherited(arguments);},_onBlur:function(){_76e.hide(this.domNode);this.inherited(arguments);}});_771._Menu=_770;return _771;});},"dijit/_editor/range":function(){define("dijit/_editor/range",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/window",".."],function(_781,_782,lang,win,_783){_783.range={};_783.range.getIndex=function(node,_784){var ret=[],retR=[];var _785=node;var _786,n;while(node!=_784){var i=0;_786=node.parentNode;while((n=_786.childNodes[i++])){if(n===node){--i;break;}}ret.unshift(i);retR.unshift(i-_786.childNodes.length);node=_786;}if(ret.length>0&&_785.nodeType==3){n=_785.previousSibling;while(n&&n.nodeType==3){ret[ret.length-1]--;n=n.previousSibling;}n=_785.nextSibling;while(n&&n.nodeType==3){retR[retR.length-1]++;n=n.nextSibling;}}return{o:ret,r:retR};};_783.range.getNode=function(_787,_788){if(!lang.isArray(_787)||_787.length==0){return _788;}var node=_788;_781.every(_787,function(i){if(i>=0&&i<node.childNodes.length){node=node.childNodes[i];}else{node=null;return false;}return true;});return node;};_783.range.getCommonAncestor=function(n1,n2,root){root=root||n1.ownerDocument.body;var _789=function(n){var as=[];while(n){as.unshift(n);if(n!==root){n=n.parentNode;}else{break;}}return as;};var n1as=_789(n1);var n2as=_789(n2);var m=Math.min(n1as.length,n2as.length);var com=n1as[0];for(var i=1;i<m;i++){if(n1as[i]===n2as[i]){com=n1as[i];}else{break;}}return com;};_783.range.getAncestor=function(node,_78a,root){root=root||node.ownerDocument.body;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(_78a.test(name)){return node;}node=node.parentNode;}return null;};_783.range.BlockTagNames=/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/;_783.range.getBlockAncestor=function(node,_78b,root){root=root||node.ownerDocument.body;_78b=_78b||_783.range.BlockTagNames;var _78c=null,_78d;while(node&&node!==root){var name=node.nodeName.toUpperCase();if(!_78c&&_78b.test(name)){_78c=node;}if(!_78d&&(/^(?:BODY|TD|TH|CAPTION)$/).test(name)){_78d=node;}node=node.parentNode;}return{blockNode:_78c,blockContainer:_78d||node.ownerDocument.body};};_783.range.atBeginningOfContainer=function(_78e,node,_78f){var _790=false;var _791=(_78f==0);if(!_791&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(0,_78f))){_791=true;}}if(_791){var _792=node;_790=true;while(_792&&_792!==_78e){if(_792.previousSibling){_790=false;break;}_792=_792.parentNode;}}return _790;};_783.range.atEndOfContainer=function(_793,node,_794){var _795=false;var _796=(_794==(node.length||node.childNodes.length));if(!_796&&node.nodeType==3){if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_794))){_796=true;}}if(_796){var _797=node;_795=true;while(_797&&_797!==_793){if(_797.nextSibling){_795=false;break;}_797=_797.parentNode;}}return _795;};_783.range.adjacentNoneTextNode=function(_798,next){var node=_798;var len=(0-_798.length)||0;var prop=next?"nextSibling":"previousSibling";while(node){if(node.nodeType!=3){break;}len+=node.length;node=node[prop];}return[node,len];};_783.range._w3c=Boolean(window["getSelection"]);_783.range.create=function(_799){if(_783.range._w3c){return(_799||win.global).document.createRange();}else{return new _783.range.W3CRange;}};_783.range.getSelection=function(win,_79a){if(_783.range._w3c){return win.getSelection();}else{var s=new _783.range.ie.selection(win);if(!_79a){s._getCurrentSelection();}return s;}};if(!_783.range._w3c){_783.range.ie={cachedSelection:{},selection:function(win){this._ranges=[];this.addRange=function(r,_79b){this._ranges.push(r);if(!_79b){r._select();}this.rangeCount=this._ranges.length;};this.removeAllRanges=function(){this._ranges=[];this.rangeCount=0;};var _79c=function(){var r=win.document.selection.createRange();var type=win.document.selection.type.toUpperCase();if(type=="CONTROL"){return new _783.range.W3CRange(_783.range.ie.decomposeControlRange(r));}else{return new _783.range.W3CRange(_783.range.ie.decomposeTextRange(r));}};this.getRangeAt=function(i){return this._ranges[i];};this._getCurrentSelection=function(){this.removeAllRanges();var r=_79c();if(r){this.addRange(r,true);this.isCollapsed=r.collapsed;}else{this.isCollapsed=true;}};},decomposeControlRange:function(_79d){var _79e=_79d.item(0),_79f=_79d.item(_79d.length-1);var _7a0=_79e.parentNode,_7a1=_79f.parentNode;var _7a2=_783.range.getIndex(_79e,_7a0).o[0];var _7a3=_783.range.getIndex(_79f,_7a1).o[0]+1;return[_7a0,_7a2,_7a1,_7a3];},getEndPoint:function(_7a4,end){var _7a5=_7a4.duplicate();_7a5.collapse(!end);var _7a6="EndTo"+(end?"End":"Start");var _7a7=_7a5.parentElement();var _7a8,_7a9,_7aa;if(_7a7.childNodes.length>0){_781.every(_7a7.childNodes,function(node,i){var _7ab;if(node.nodeType!=3){_7a5.moveToElementText(node);if(_7a5.compareEndPoints(_7a6,_7a4)>0){if(_7aa&&_7aa.nodeType==3){_7a8=_7aa;_7ab=true;}else{_7a8=_7a7;_7a9=i;return false;}}else{if(i==_7a7.childNodes.length-1){_7a8=_7a7;_7a9=_7a7.childNodes.length;return false;}}}else{if(i==_7a7.childNodes.length-1){_7a8=node;_7ab=true;}}if(_7ab&&_7a8){var _7ac=_783.range.adjacentNoneTextNode(_7a8)[0];if(_7ac){_7a8=_7ac.nextSibling;}else{_7a8=_7a7.firstChild;}var _7ad=_783.range.adjacentNoneTextNode(_7a8);_7ac=_7ad[0];var _7ae=_7ad[1];if(_7ac){_7a5.moveToElementText(_7ac);_7a5.collapse(false);}else{_7a5.moveToElementText(_7a7);}_7a5.setEndPoint(_7a6,_7a4);_7a9=_7a5.text.length-_7ae;return false;}_7aa=node;return true;});}else{_7a8=_7a7;_7a9=0;}if(!end&&_7a8.nodeType==1&&_7a9==_7a8.childNodes.length){var _7af=_7a8.nextSibling;if(_7af&&_7af.nodeType==3){_7a8=_7af;_7a9=0;}}return[_7a8,_7a9];},setEndPoint:function(_7b0,_7b1,_7b2){var _7b3=_7b0.duplicate(),node,len;if(_7b1.nodeType!=3){if(_7b2>0){node=_7b1.childNodes[_7b2-1];if(node){if(node.nodeType==3){_7b1=node;_7b2=node.length;}else{if(node.nextSibling&&node.nextSibling.nodeType==3){_7b1=node.nextSibling;_7b2=0;}else{_7b3.moveToElementText(node.nextSibling?node:_7b1);var _7b4=node.parentNode;var _7b5=_7b4.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);_7b3.collapse(false);_7b4.removeChild(_7b5);}}}}else{_7b3.moveToElementText(_7b1);_7b3.collapse(true);}}if(_7b1.nodeType==3){var _7b6=_783.range.adjacentNoneTextNode(_7b1);var _7b7=_7b6[0];len=_7b6[1];if(_7b7){_7b3.moveToElementText(_7b7);_7b3.collapse(false);if(_7b7.contentEditable!="inherit"){len++;}}else{_7b3.moveToElementText(_7b1.parentNode);_7b3.collapse(true);}_7b2+=len;if(_7b2>0){if(_7b3.move("character",_7b2)!=_7b2){console.error("Error when moving!");}}}return _7b3;},decomposeTextRange:function(_7b8){var _7b9=_783.range.ie.getEndPoint(_7b8);var _7ba=_7b9[0],_7bb=_7b9[1];var _7bc=_7b9[0],_7bd=_7b9[1];if(_7b8.htmlText.length){if(_7b8.htmlText==_7b8.text){_7bd=_7bb+_7b8.text.length;}else{_7b9=_783.range.ie.getEndPoint(_7b8,true);_7bc=_7b9[0],_7bd=_7b9[1];}}return[_7ba,_7bb,_7bc,_7bd];},setRange:function(_7be,_7bf,_7c0,_7c1,_7c2,_7c3){var _7c4=_783.range.ie.setEndPoint(_7be,_7bf,_7c0);_7be.setEndPoint("StartToStart",_7c4);if(!_7c3){var end=_783.range.ie.setEndPoint(_7be,_7c1,_7c2);}_7be.setEndPoint("EndToEnd",end||_7c4);return _7be;}};_782("dijit.range.W3CRange",null,{constructor:function(){if(arguments.length>0){this.setStart(arguments[0][0],arguments[0][1]);this.setEnd(arguments[0][2],arguments[0][3]);}else{this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}},_updateInternal:function(){if(this.startContainer!==this.endContainer){this.commonAncestorContainer=_783.range.getCommonAncestor(this.startContainer,this.endContainer);}else{this.commonAncestorContainer=this.startContainer;}this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);},setStart:function(node,_7c5){_7c5=parseInt(_7c5);if(this.startContainer===node&&this.startOffset==_7c5){return;}delete this._cachedBookmark;this.startContainer=node;this.startOffset=_7c5;if(!this.endContainer){this.setEnd(node,_7c5);}else{this._updateInternal();}},setEnd:function(node,_7c6){_7c6=parseInt(_7c6);if(this.endContainer===node&&this.endOffset==_7c6){return;}delete this._cachedBookmark;this.endContainer=node;this.endOffset=_7c6;if(!this.startContainer){this.setStart(node,_7c6);}else{this._updateInternal();}},setStartAfter:function(node,_7c7){this._setPoint("setStart",node,_7c7,1);},setStartBefore:function(node,_7c8){this._setPoint("setStart",node,_7c8,0);},setEndAfter:function(node,_7c9){this._setPoint("setEnd",node,_7c9,1);},setEndBefore:function(node,_7ca){this._setPoint("setEnd",node,_7ca,0);},_setPoint:function(what,node,_7cb,ext){var _7cc=_783.range.getIndex(node,node.parentNode).o;this[what](node.parentNode,_7cc.pop()+ext);},_getIERange:function(){var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();_783.range.ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);return r;},getBookmark:function(){this._getIERange();return this._cachedBookmark;},_select:function(){var r=this._getIERange();r.select();},deleteContents:function(){var s=this.startContainer,r=this._getIERange();if(s.nodeType===3&&!this.startOffset){this.setStartBefore(s);}r.pasteHTML("");this.endContainer=this.startContainer;this.endOffset=this.startOffset;this.collapsed=true;},cloneRange:function(){var r=new _783.range.W3CRange([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);r._body=this._body;return r;},detach:function(){this._body=null;this.commonAncestorContainer=null;this.startContainer=null;this.startOffset=0;this.endContainer=null;this.endOffset=0;this.collapsed=true;}});}return _783.range;});},"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/window"],function(_7cd,_7ce){return _7cd("dijit.form._ListBase",null,{selected:null,_getTarget:function(evt){var tgt=evt.target;var _7cf=this.containerNode;if(tgt==_7cf||tgt==this.domNode){return null;}while(tgt&&tgt.parentNode!=_7cf){tgt=tgt.parentNode;}return tgt;},selectFirstNode:function(){var _7d0=this.containerNode.firstChild;while(_7d0&&_7d0.style.display=="none"){_7d0=_7d0.nextSibling;}this._setSelectedAttr(_7d0);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last);},selectNextNode:function(){var _7d1=this._getSelectedAttr();if(!_7d1){this.selectFirstNode();}else{var next=_7d1.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next);}}},selectPreviousNode:function(){var _7d2=this._getSelectedAttr();if(!_7d2){this.selectLastNode();}else{var prev=_7d2.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev);}}},_setSelectedAttr:function(node){if(this.selected!=node){var _7d3=this._getSelectedAttr();if(_7d3){this.onDeselect(_7d3);this.selected=null;}if(node&&node.parentNode==this.containerNode){this.selected=node;_7ce.scrollIntoView(node);this.onSelect(node);}}else{if(node){this.onSelect(node);}}},_getSelectedAttr:function(){var v=this.selected;return(v&&v.parentNode==this.containerNode)?v:(this.selected=null);}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_7d4,_7d5,_7d6,_7d7,_7d8,_7d9,_7da){if(!_7d5.isAsync){_7d6(0,function(){var _7db=["dijit/form/_FormValueWidget"];require(_7db);});}return _7d4("dijit.form._FormWidget",[_7d7,_7d9,_7d8,_7da],{setDisabled:function(_7dc){_7d5.deprecated("setDisabled("+_7dc+") is deprecated. Use set('disabled',"+_7dc+") instead.","","2.0");this.set("disabled",_7dc);},setValue:function(_7dd){_7d5.deprecated("dijit.form._FormWidget:setValue("+_7dd+") is deprecated.  Use set('value',"+_7dd+") instead.","","2.0");this.set("value",_7dd);},getValue:function(){_7d5.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?('name="'+this.name.replace(/'/g,"&quot;")+'"'):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/CalendarLite":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/_base/sniff","dojo/string","dojo/_base/window","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html"],function(_7de,_7df,_7e0,date,_7e1,dom,_7e2,_7e3,lang,has,_7e4,win,_7e5,_7e6,_7e7){var _7e8=_7df("dijit.CalendarLite",[_7e5,_7e6],{templateString:_7e7,dowTemplateString:'<th class="dijitReset dijitCalendarDayLabelTemplate" role="columnheader"><span class="dijitCalendarDayLabel">${d}</span></th>',dateTemplateString:'<td class="dijitReset" role="gridcell" data-dojo-attach-point="dateCells"><span class="dijitCalendarDateLabel" data-dojo-attach-point="dateLabels"></span></td>',weekTemplateString:'<tr class="dijitReset dijitCalendarWeekTemplate" role="row">${d}${d}${d}${d}${d}${d}${d}</tr>',value:new Date(""),datePackage:date,dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",_isValidDate:function(_7e9){return _7e9&&!isNaN(_7e9)&&typeof _7e9=="object"&&_7e9.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var _7ea=new this.dateClassObj(this.value);_7ea.setHours(0,0,0,0);if(_7ea.getDate()<this.value.getDate()){_7ea=this.dateFuncObj.add(_7ea,"hour",1);}return _7ea;}else{return null;}},_setValueAttr:function(_7eb,_7ec){if(_7eb){_7eb=new this.dateClassObj(_7eb);}if(this._isValidDate(_7eb)){if(!this._isValidDate(this.value)||this.dateFuncObj.compare(_7eb,this.value)){_7eb.setHours(1,0,0,0);if(!this.isDisabledDate(_7eb,this.lang)){this._set("value",_7eb);this.set("currentFocus",_7eb);if(_7ec||typeof _7ec=="undefined"){this.onChange(this.get("value"));}}}}else{this._set("value",null);this.set("currentFocus",this.currentFocus);}},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(win.doc.createTextNode(text));},_populateGrid:function(){var _7ed=new this.dateClassObj(this.currentFocus);_7ed.setDate(1);var _7ee=_7ed.getDay(),_7ef=this.dateFuncObj.getDaysInMonth(_7ed),_7f0=this.dateFuncObj.getDaysInMonth(this.dateFuncObj.add(_7ed,"month",-1)),_7f1=new this.dateClassObj(),_7f2=_7e0.getFirstDayOfWeek(this.lang);if(_7f2>_7ee){_7f2-=7;}this._date2cell={};_7de.forEach(this.dateCells,function(_7f3,idx){var i=idx+_7f2;var date=new this.dateClassObj(_7ed),_7f4,_7f5="dijitCalendar",adj=0;if(i<_7ee){_7f4=_7f0-_7ee+i+1;adj=-1;_7f5+="Previous";}else{if(i>=(_7ee+_7ef)){_7f4=i-_7ee-_7ef+1;adj=1;_7f5+="Next";}else{_7f4=i-_7ee+1;_7f5+="Current";}}if(adj){date=this.dateFuncObj.add(date,"month",adj);}date.setDate(_7f4);if(!this.dateFuncObj.compare(date,_7f1,"date")){_7f5="dijitCalendarCurrentDate "+_7f5;}if(this._isSelectedDate(date,this.lang)){_7f5="dijitCalendarSelectedDate "+_7f5;_7f3.setAttribute("aria-selected",true);}else{_7f3.setAttribute("aria-selected",false);}if(this.isDisabledDate(date,this.lang)){_7f5="dijitCalendarDisabledDate "+_7f5;_7f3.setAttribute("aria-disabled",true);}else{_7f5="dijitCalendarEnabledDate "+_7f5;_7f3.removeAttribute("aria-disabled");}var _7f6=this.getClassForDate(date,this.lang);if(_7f6){_7f5=_7f6+" "+_7f5;}_7f3.className=_7f5+"Month dijitCalendarDateTemplate";var _7f7=date.valueOf();this._date2cell[_7f7]=_7f3;_7f3.dijitDateValue=_7f7;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);this.monthWidget.set("month",_7ed);var y=_7ed.getFullYear()-1;var d=new this.dateClassObj();_7de.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(args){this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?lang.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=lang.getObject("locale",false,this.dateFuncObj);},_createMonthWidget:function(){return _7e8._MonthWidget({id:this.id+"_mw",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_7f8=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_7f9=_7e0.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_7e4.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _7f8[_7f9++%7];});var r=_7e4.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _7fa=new this.dateClassObj(this.currentFocus);this._supportingWidgets.push(this.monthWidget=this._createMonthWidget());this.set("currentFocus",_7fa,false);var _7fb=lang.hitch(this,function(_7fc,part,_7fd){this.connect(this[_7fc],"onclick",function(){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,part,_7fd));});});_7fb("incrementMonth","month",1);_7fb("decrementMonth","month",-1);_7fb("nextYearLabelNode","year",1);_7fb("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_7fe){var _7ff=this.currentFocus,_800=_7ff&&this._date2cell?this._date2cell[_7ff.valueOf()]:null;date=new this.dateClassObj(date);date.setHours(1,0,0,0);this._set("currentFocus",date);this._populateGrid();var _801=this._date2cell[date.valueOf()];_801.setAttribute("tabIndex",this.tabIndex);if(this.focused||_7fe){_801.focus();}if(_800&&_800!=_801){if(has("webkit")){_800.setAttribute("tabIndex","-1");}else{_800.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){_7e3.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_7e2.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},onChange:function(){},_isSelectedDate:function(_802){return this._isValidDate(this.value)&&!this.dateFuncObj.compare(_802,this.value,"date");},isDisabledDate:function(){},getClassForDate:function(){}});_7e8._MonthWidget=_7df("dijit.CalendarLite._MonthWidget",_7e5,{_setMonthAttr:function(_803){var _804=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_803),_805=(has("ie")==6?"":"<div class='dijitSpacer'>"+_7de.map(_804,function(s){return"<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_805+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_804[_803.getMonth()]+"</div>";}});return _7e8;});},"dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitemcheckbox" tabIndex="-1"\r\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\r\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\r\n\t\t<img src="${_blankGif}" alt="" class="dijitMenuItemIcon dijitCheckedMenuItemIcon" data-dojo-attach-point="iconNode"/>\r\n\t\t<span class="dijitCheckedMenuItemIconChar">&#10003;</span>\r\n\t</td>\r\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode,labelNode"></td>\r\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\r\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">&#160;</td>\r\n</tr>\r\n'}});define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_806,_807,_808,_809){return _806("dijit.CheckedMenuItem",_808,{templateString:_809,checked:false,_setCheckedAttr:function(_80a){_807.toggle(this.domNode,"dijitCheckedMenuItemChecked",_80a);this.domNode.setAttribute("aria-checked",_80a);this._set("checked",_80a);},iconClass:"",onChange:function(){},_onClick:function(e){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.inherited(arguments);}});});},"dijit/_base/place":function(){define("dijit/_base/place",["dojo/_base/array","dojo/_base/lang","dojo/window","../place",".."],function(_80b,lang,_80c,_80d,_80e){_80e.getViewport=function(){return _80c.getBox();};_80e.placeOnScreen=_80d.at;_80e.placeOnScreenAroundElement=function(node,_80f,_810,_811){var _812;if(lang.isArray(_810)){_812=_810;}else{_812=[];for(var key in _810){_812.push({aroundCorner:key,corner:_810[key]});}}return _80d.around(node,_80f,_812,true,_811);};_80e.placeOnScreenAroundNode=_80e.placeOnScreenAroundElement;_80e.placeOnScreenAroundRectangle=_80e.placeOnScreenAroundElement;_80e.getPopupAroundAlignment=function(_813,_814){var _815={};_80b.forEach(_813,function(pos){var ltr=_814;switch(pos){case"after":_815[_814?"BR":"BL"]=_814?"BL":"BR";break;case"before":_815[_814?"BL":"BR"]=_814?"BR":"BL";break;case"below-alt":ltr=!ltr;case"below":_815[ltr?"BL":"BR"]=ltr?"TL":"TR";_815[ltr?"BR":"BL"]=ltr?"TR":"TL";break;case"above-alt":ltr=!ltr;case"above":default:_815[ltr?"TL":"TR"]=ltr?"BL":"BR";_815[ltr?"TR":"TL"]=ltr?"BR":"BL";break;}});return _815;};return _80e;});},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":'<tr class="dijitMenuSeparator">\r\n\t<td class="dijitMenuSeparatorIconCell">\r\n\t\t<div class="dijitMenuSeparatorTop"></div>\r\n\t\t<div class="dijitMenuSeparatorBottom"></div>\r\n\t</td>\r\n\t<td colspan="3" class="dijitMenuSeparatorLabelCell">\r\n\t\t<div class="dijitMenuSeparatorTop dijitMenuSeparatorLabel"></div>\r\n\t\t<div class="dijitMenuSeparatorBottom"></div>\r\n\t</td>\r\n</tr>'}});define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_816,dom,_817,_818,_819,_81a){return _816("dijit.MenuSeparator",[_817,_818,_819],{templateString:_81a,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/form/_ComboBoxMenu":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_81b,_81c,_81d,_81e,keys,_81f,_820,_821,_822){return _81b("dijit.form._ComboBoxMenu",[_81f,_820,_822,_821],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_81c.add(this.previousButton,"dijitMenuItemRtl");_81c.add(this.nextButton,"dijitMenuItemRtl");}},_createMenuItem:function(){return _81d.create("div",{"class":"dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl"),role:"option"});},onHover:function(node){_81c.add(node,"dijitMenuItemHover");},onUnhover:function(node){_81c.remove(node,"dijitMenuItemHover");},onSelect:function(node){_81c.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_81c.remove(node,"dijitMenuItemSelected");},_page:function(up){var _823=0;var _824=this.domNode.scrollTop;var _825=_81e.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_823<_825){var _826=this.getHighlightedOption();if(up){if(!_826.previousSibling||_826.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_826.nextSibling||_826.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _827=this.domNode.scrollTop;_823+=(_827-_824)*(up?-1:1);_824=_827;}},handleKey:function(evt){switch(evt.charOrCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"url:dijit/layout/templates/ScrollingTabController.html":'<div class="dijitTabListContainer-${tabPosition}" style="visibility:hidden">\r\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerMenuButton"\r\n\t\t\tclass="tabStripButton-${tabPosition}"\r\n\t\t\tid="${id}_menuBtn"\r\n\t\t\tdata-dojo-props="containerId: \'${containerId}\', iconClass: \'dijitTabStripMenuIcon\',\r\n\t\t\t\t\tdropDownPosition: [\'below-alt\', \'above-alt\']"\r\n\t\t\tdata-dojo-attach-point="_menuBtn" showLabel="false" title="">&#9660;</div>\r\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\r\n\t\t\tclass="tabStripButton-${tabPosition}"\r\n\t\t\tid="${id}_leftBtn"\r\n\t\t\tdata-dojo-props="iconClass:\'dijitTabStripSlideLeftIcon\', showLabel:false, title:\'\'"\r\n\t\t\tdata-dojo-attach-point="_leftBtn" data-dojo-attach-event="onClick: doSlideLeft">&#9664;</div>\r\n\t<div data-dojo-type="dijit.layout._ScrollingTabControllerButton"\r\n\t\t\tclass="tabStripButton-${tabPosition}"\r\n\t\t\tid="${id}_rightBtn"\r\n\t\t\tdata-dojo-props="iconClass:\'dijitTabStripSlideRightIcon\', showLabel:false, title:\'\'"\r\n\t\t\tdata-dojo-attach-point="_rightBtn" data-dojo-attach-event="onClick: doSlideRight">&#9654;</div>\r\n\t<div class=\'dijitTabListWrapper\' data-dojo-attach-point=\'tablistWrapper\'>\r\n\t\t<div role=\'tablist\' data-dojo-attach-event=\'onkeypress:onkeypress\'\r\n\t\t\t\tdata-dojo-attach-point=\'containerNode\' class=\'nowrapTabStrip\'></div>\r\n\t</div>\r\n</div>',"dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\r\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\r\n\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"></span>\r\n\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\r\n\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\r\n\t</span>\r\n\t</div>\r\n\t\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\r\n</div>\r\n'}});define("dijit/Dialog",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/fx","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/sniff","dojo/_base/window","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html",".","dojo/i18n!./nls/common"],function(_828,_829,_82a,_82b,_82c,dom,_82d,_82e,_82f,_830,fx,i18n,_831,keys,lang,on,_832,has,win,_833,_834,_835,_836,_837,_838,_839,_83a,_83b,_83c,_83d,_83e,_83f,_840){var _841=_82b("dijit._DialogBase",[_839,_83b,_83c,_83a],{templateString:_83f,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:false,duration:_837.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,"aria-describedby":"",postMixInProperties:function(){var _842=i18n.getLocalization("dijit","common");lang.mixin(this,_842);this.inherited(arguments);},postCreate:function(){_82f.set(this.domNode,{display:"none",position:"absolute"});win.body().appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&_843.isTop(this)){this._getFocusItems(this.domNode);_836.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function(){var _844=_82e.position(this.domNode),_845=_833.getBox();_844.y=Math.min(Math.max(_844.y,0),(_845.h-_844.h));_844.x=Math.min(Math.max(_844.x,0),(_845.w-_844.w));this._relativePosition=_844;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_835:_834)(node,{handle:this.titleBar});this.connect(this._moveable,"onMoveStop","_endDrag");}else{_82d.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_829.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" ")};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(this._singleChildOriginalStyle){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;}delete this._singleChildOriginalStyle;}else{_82f.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_82e.position(this.domNode);var _846=_833.getBox();if(bb.w>=_846.w||bb.h>=_846.h){var w=Math.min(bb.w,Math.floor(_846.w*0.75)),h=Math.min(bb.h,Math.floor(_846.h*0.75));if(this._singleChild&&this._singleChild.resize){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;this._singleChild.resize({w:w,h:h});}else{_82f.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_82d.contains(win.body(),"dojoMove")){var node=this.domNode,_847=_833.getBox(),p=this._relativePosition,bb=p?null:_82e.position(node),l=Math.floor(_847.l+(p?p.x:(_847.w-bb.w)/2)),t=Math.floor(_847.t+(p?p.y:(_847.h-bb.h)/2));_82f.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _848=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_848){_836.focus(this._lastFocusItem);}_830.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_848){_836.focus(this._firstFocusItem);}_830.stop(evt);}else{while(node){if(node==this.domNode||_82d.contains(node,"dijitPopup")){if(evt.charOrCode==keys.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_830.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}this._modalconnects.push(on(window,"scroll",lang.hitch(this,"layout")));this._modalconnects.push(on(window,"resize",lang.hitch(this,function(){var _849=_833.getBox();if(!this._oldViewport||_849.h!=this._oldViewport.h||_849.w!=this._oldViewport.w){this.layout();this._oldViewport=_849;}})));this._modalconnects.push(on(this.domNode,_82a._keypress,lang.hitch(this,"_onKey")));_82f.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _84a;this._fadeInDeferred=new _82c(lang.hitch(this,function(){_84a.stop();delete this._fadeInDeferred;}));_84a=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_843.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_843.isTop(this)){this._getFocusItems(this.domNode);_836.focus(this._firstFocusItem);}this._fadeInDeferred.callback(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _84b;this._fadeOutDeferred=new _82c(lang.hitch(this,function(){_84b.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));_84b=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_843.hide(this);this._fadeOutDeferred.callback(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},layout:function(){if(this.domNode.style.display!="none"){if(_840._underlay){_840._underlay.layout();}this._position();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_843.hide(this);this.inherited(arguments);}});var _84c=_82b("dijit.Dialog",[_83e,_841],{});_84c._DialogBase=_841;var _843=_84c._DialogLevelManager={_beginZIndex:950,show:function(_84d,_84e){ds[ds.length-1].focus=_836.curNode;var _84f=_840._underlay;if(!_84f||_84f._destroyed){_84f=_840._underlay=new _83d(_84e);}else{_84f.set(_84d.underlayAttrs);}var _850=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_84c._DialogLevelManager._beginZIndex;if(ds.length==1){_84f.show();}_82f.set(_840._underlay.domNode,"zIndex",_850-1);_82f.set(_84d.domNode,"zIndex",_850);ds.push({dialog:_84d,underlayAttrs:_84e,zIndex:_850});},hide:function(_851){if(ds[ds.length-1].dialog==_851){ds.pop();var pd=ds[ds.length-1];if(ds.length==1){if(!_840._underlay._destroyed){_840._underlay.hide();}}else{_82f.set(_840._underlay.domNode,"zIndex",pd.zIndex-1);_840._underlay.set(pd.underlayAttrs);}if(_851.refocus){var _852=pd.focus;if(pd.dialog&&(!_852||!dom.isDescendant(_852,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_852=pd.dialog._firstFocusItem;}if(_852){try{_852.focus();}catch(e){}}}}else{var idx=_829.indexOf(_829.map(ds,function(elem){return elem.dialog;}),_851);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_853){return ds[ds.length-1].dialog==_853;}};var ds=_84c._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];if(!_831.isAsync){_832(0,function(){var _854=["dijit/TooltipDialog"];_828(_854);});}return _84c;});},"dijit/form/MultiSelect":function(){define("dijit/form/MultiSelect",["dojo/_base/array","dojo/_base/declare","dojo/dom-geometry","dojo/query","./_FormValueWidget"],function(_855,_856,_857,_858,_859){return _856("dijit.form.MultiSelect",_859,{size:7,templateString:"<select multiple='true' ${!nameAttrSetting} data-dojo-attach-point='containerNode,focusNode' data-dojo-attach-event='onchange: _onChange'></select>",addSelected:function(_85a){_85a.getSelected().forEach(function(n){this.containerNode.appendChild(n);this.domNode.scrollTop=this.domNode.offsetHeight;var _85b=_85a.domNode.scrollTop;_85a.domNode.scrollTop=0;_85a.domNode.scrollTop=_85b;},this);this._set("value",this.get("value"));},getSelected:function(){return _858("option",this.containerNode).filter(function(n){return n.selected;});},_getValueAttr:function(){return _855.map(this.getSelected(),function(n){return n.value;});},multiple:true,_setValueAttr:function(_85c,_85d){_858("option",this.containerNode).forEach(function(n){n.selected=(_855.indexOf(_85c,n.value)!=-1);});this.inherited(arguments);},invertSelection:function(_85e){var val=[];_858("option",this.containerNode).forEach(function(n){if(!n.selected){val.push(n.value);}});this._setValueAttr(val,!(_85e===false||_85e==null));},_onChange:function(){this._handleOnChange(this.get("value"),true);},resize:function(size){if(size){_857.setMarginBox(this.domNode,size);}},postCreate:function(){this._set("value",this.get("value"));this.inherited(arguments);}});});},"dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\r\n\tid="widget_${id}"\r\n\trole="combobox"\r\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\r\n\t\tdata-dojo-attach-point="_buttonNode, _popupStateNode" role="presentation"\r\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t\t\t${_buttonInputDisabled}\r\n\t/></div\r\n\t><div class=\'dijitReset dijitValidationContainer\'\r\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\r\n\t/></div\r\n\t><div class="dijitReset dijitInputField dijitInputContainer"\r\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\r\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox" aria-haspopup="true"\r\n\t/></div\r\n></div>\r\n'}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_85f,_860,_861,lang,_862,_863,_864){new Date("X");var _865=_861("dijit.form._DateTimeTextBox",[_862,_863],{templateString:_864,hasDownArrow:true,openOnClick:true,regExpGen:_85f.regexp,datePackage:date,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _866=this._isInvalidDate(val1);var _867=this._isInvalidDate(val2);return _866?(_867?0:-1):(_867?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(_868,_869){if(!_868){return"";}return this.dateLocaleModule.format(_868,_869);},"parse":function(_86a,_86b){return this.dateLocaleModule.parse(_86a,_86b)||(this._isEmpty(_86a)?null:undefined);},serialize:function(val,_86c){if(val.toGregorian){val=val.toGregorian();}return _860.toISOString(val,_86c);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(args){this.datePackage=args.datePackage||this.datePackage;this.dateFuncObj=typeof this.datePackage=="string"?lang.getObject(this.datePackage,false):this.datePackage;this.dateClassObj=this.dateFuncObj.Date||Date;this.dateLocaleModule=lang.getObject("locale",false,this.dateFuncObj);this.regExpGen=this.dateLocaleModule.regexp;this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(this.openOnClick||!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_86d){_86d.selector=this._selector;_86d.fullYear=true;var _86e=_860.fromISOString;if(typeof _86d.min=="string"){_86d.min=_86e(_86d.min);}if(typeof _86d.max=="string"){_86d.max=_86e(_86d.max);}this.inherited(arguments);},_isInvalidDate:function(_86f){return !_86f||isNaN(_86f)||typeof _86f!="object"||_86f.toString()==this._invalidDate;},_setValueAttr:function(_870,_871,_872){if(_870!==undefined){if(typeof _870=="string"){_870=_860.fromISOString(_870);}if(this._isInvalidDate(_870)){_870=null;}if(_870 instanceof Date&&!(this.dateClassObj instanceof Date)){_870=new this.dateClassObj(_870);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",_870,false);}},_set:function(attr,_873){if(attr=="value"&&this.value instanceof Date&&this.compare(_873,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_874){if(this.dropDown){this.dropDown.destroy();}var _875=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_876=this,_877=this.get("value");this.dropDown=new _875({onChange:function(_878){_876.set("value",_878,true);},id:this.id+"_popup",dir:_876.dir,lang:_876.lang,value:_877,currentFocus:!this._isInvalidDate(_877)?_877:this.dropDownDefaultValue,constraints:_876.constraints,filterString:_876.filterString,datePackage:_876.datePackage,isDisabledDate:function(date){return !_876.rangeCheck(date,_876.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(_879,_87a){this._setValueAttr(this.parse(_879,this.constraints),_87a,_879);}});return _865;});},"dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus",".."],function(_87b,dom,lang,_87c,win,_87d,_87e){lang.mixin(_87e,{_curFocus:null,_prevFocus:null,isCollapsed:function(){return _87e.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_87d.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return{isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return{isCollapsed:true,mark:null};}else{rg=sel.createRange();return{isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;},moveToBookmark:function(_87f){var _880=win.doc,mark=_87f.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{}}else{if(_880.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_880.body.createControlRange();_87b.forEach(mark,function(n){rg.addElement(n);});}else{rg=_880.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_881){var node=!_87d.curNode||(menu&&dom.isDescendant(_87d.curNode,menu.domNode))?_87e._prevFocus:_87d.curNode;return{node:node,bookmark:node&&(node==_87d.curNode)&&win.withGlobal(_881||win.global,_87e.getBookmark),openedForWindow:_881};},_activeStack:[],registerIframe:function(_882){return _87d.registerIframe(_882);},unregisterIframe:function(_883){_883&&_883.remove();},registerWin:function(_884,_885){return _87d.registerWin(_884,_885);},unregisterWin:function(_886){_886&&_886.remove();}});_87d.focus=function(_887){if(!_887){return;}var node="node" in _887?_887.node:_887,_888=_887.bookmark,_889=_887.openedForWindow,_88a=_888?_888.isCollapsed:false;if(node){var _88b=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_88b&&_88b.focus){try{_88b.focus();}catch(e){}}_87d._onFocusNode(node);}if(_888&&win.withGlobal(_889||win.global,_87e.isCollapsed)&&!_88a){if(_889){_889.focus();}try{win.withGlobal(_889||win.global,_87e.moveToBookmark,null,[_888]);}catch(e2){}}};_87d.watch("curNode",function(name,_88c,_88d){_87e._curFocus=_88d;_87e._prevFocus=_88c;if(_88d){_87c.publish("focusNode",_88d);}});_87d.watch("activeStack",function(name,_88e,_88f){_87e._activeStack=_88f;});_87d.on("widget-blur",function(_890,by){_87c.publish("widgetBlur",_890,by);});_87d.on("widget-focus",function(_891,by){_87c.publish("widgetFocus",_891,by);});return _87e;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/sniff","./_base/manager","."],function(_892,_893,_894,dom,_895,_896,has,_897,_898){var _899=(_898._isElementShown=function(elem){var s=_896.get(elem);return(s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_895.get(elem,"type")!="hidden");});_898.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case"a":return _895.has(elem,"href");case"area":case"button":case"input":case"object":case"select":case"textarea":return true;case"iframe":var body;try{var _89a=elem.contentDocument;if("designMode" in _89a&&_89a.designMode=="on"){return true;}body=_89a.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}};var _89b=(_898.isTabNavigable=function(elem){if(_895.get(elem,"disabled")){return false;}else{if(_895.has(elem,"tabIndex")){return _895.get(elem,"tabIndex")>=0;}else{return _898.hasDefaultTabStop(elem);}}});_898._getTabNavigable=function(root){var _89c,last,_89d,_89e,_89f,_8a0,_8a1={};function _8a2(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();}var _8a3=function(_8a4){for(var _8a5=_8a4.firstChild;_8a5;_8a5=_8a5.nextSibling){if(_8a5.nodeType!=1||(has("ie")&&_8a5.scopeName&&_8a5.scopeName!=="HTML")||!_899(_8a5)){continue;}if(_89b(_8a5)){var _8a6=_895.get(_8a5,"tabIndex");if(!_895.has(_8a5,"tabIndex")||_8a6==0){if(!_89c){_89c=_8a5;}last=_8a5;}else{if(_8a6>0){if(!_89d||_8a6<_89e){_89e=_8a6;_89d=_8a5;}if(!_89f||_8a6>=_8a0){_8a0=_8a6;_89f=_8a5;}}}var rn=_8a2(_8a5);if(_895.get(_8a5,"checked")&&rn){_8a1[rn]=_8a5;}}if(_8a5.nodeName.toUpperCase()!="SELECT"){_8a3(_8a5);}}};if(_899(root)){_8a3(root);}function rs(node){return _8a1[_8a2(node)]||node;}return{first:rs(_89c),last:rs(last),lowest:rs(_89d),highest:rs(_89f)};};_898.getFirstInTabbingOrder=function(root){var _8a7=_898._getTabNavigable(dom.byId(root));return _8a7.lowest?_8a7.lowest:_8a7.first;};_898.getLastInTabbingOrder=function(root){var _8a8=_898._getTabNavigable(dom.byId(root));return _8a8.last?_8a8.last:_8a8.highest;};return{hasDefaultTabStop:_898.hasDefaultTabStop,isTabNavigable:_898.isTabNavigable,_getTabNavigable:_898._getTabNavigable,getFirstInTabbingOrder:_898.getFirstInTabbingOrder,getLastInTabbingOrder:_898.getLastInTabbingOrder};});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/_base/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton","./hccss"],function(_8a9,date,_8aa,_8ab,_8ac,_8ad,_8ae,_8af,keys,lang,has,_8b0,_8b1,_8b2,_8b3,_8b4){var _8b5=_8ab("dijit.Calendar",[_8b0,_8b1,_8b2],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_8b6){_8af.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",_8b6);},_createMonthWidget:function(){return new _8b5._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress","_onKeyPress");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_8b7){this._setCurrentFocusAttr(this.dateFuncObj.add(this.currentFocus,"month",_8b7-this.currentFocus.getMonth()));},_onDayMouseOver:function(evt){var node=_8ad.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_8ad.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_8ad.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_8ad.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_8ad.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_8ad.contains(node,"dijitCalendarDisabledDate")){_8ad.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_8ad.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _8b8=-1,_8b9,_8ba=this.currentFocus;switch(evt.charOrCode){case keys.RIGHT_ARROW:_8b8=1;case keys.LEFT_ARROW:_8b9="day";if(!this.isLeftToRight()){_8b8*=-1;}break;case keys.DOWN_ARROW:_8b8=1;case keys.UP_ARROW:_8b9="week";break;case keys.PAGE_DOWN:_8b8=1;case keys.PAGE_UP:_8b9=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_8ba=this.dateFuncObj.add(_8ba,"month",1);_8b9="day";case keys.HOME:_8ba=new this.dateClassObj(_8ba);_8ba.setDate(1);break;case keys.ENTER:case" ":this.set("value",this.currentFocus);break;default:return true;}if(_8b9){_8ba=this.dateFuncObj.add(_8ba,_8b9,_8b8);}this._setCurrentFocusAttr(_8ba);return false;},_onKeyPress:function(evt){if(!this.handleKey(evt)){_8ae.stop(evt);}},onValueSelected:function(){},onChange:function(_8bb){this.onValueSelected(_8bb);},getClassForDate:function(){}});_8b5._MonthDropDownButton=_8ab("dijit.Calendar._MonthDropDownButton",_8b4,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _8b5._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(_8bc){var _8bd=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_8bc);this.dropDown.set("months",_8bd);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_8bd[_8bc.getMonth()]+"</div>";}});_8b5._MonthDropDown=_8ab("dijit.Calendar._MonthDropDown",[_8b1,_8b3],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_8be){this.domNode.innerHTML=_8a9.map(_8be,function(_8bf,idx){return _8bf?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_8bf+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_8ac.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_8ad.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _8b5;});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_8c0,_8c1){return _8c0("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _8c2=this.checked;this._set("checked",!_8c2);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_8c2);return ret;},_setCheckedAttr:function(_8c3,_8c4){this._set("checked",_8c3);_8c1.set(this.focusNode||this.domNode,"checked",_8c3);(this.focusNode||this.domNode).setAttribute(this._aria_attr,_8c3?"true":"false");this._handleOnChange(_8c3,_8c4);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_8c5,_8c6,_8c7,_8c8,_8c9,lang,_8ca,_8cb,_8cc,_8cd,_8ce,_8cf){function _8d0(){}function _8d1(_8d2){return function(obj,_8d3,_8d4,_8d5){if(obj&&typeof _8d3=="string"&&obj[_8d3]==_8d0){return obj.on(_8d3.substring(2).toLowerCase(),lang.hitch(_8d4,_8d5));}return _8d2.apply(_8c7,arguments);};}_8c5.around(_8c7,"connect",_8d1);if(_8c9.connect){_8c5.around(_8c9,"connect",_8d1);}var _8d6=_8c8("dijit._Widget",[_8cd,_8ce,_8cf],{onClick:_8d0,onDblClick:_8d0,onKeyDown:_8d0,onKeyPress:_8d0,onKeyUp:_8d0,onMouseDown:_8d0,onMouseMove:_8d0,onMouseOut:_8d0,onMouseOver:_8d0,onMouseLeave:_8d0,onMouseEnter:_8d0,onMouseUp:_8d0,constructor:function(_8d7){this._toConnect={};for(var name in _8d7){if(this[name]===_8d0){this._toConnect[name.replace(/^on/,"").toLowerCase()]=_8d7[name];delete _8d7[name];}}},postCreate:function(){this.inherited(arguments);for(var name in this._toConnect){this.on(name,this._toConnect[name]);}delete this._toConnect;},on:function(type,func){if(this[this._onMap(type)]===_8d0){return _8c7.connect(this.domNode,type.toLowerCase(),this,func);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(attr,_8d8){_8c9.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(attr,_8d8);},attr:function(name,_8d9){if(_8c6.isDebug){var _8da=arguments.callee._ach||(arguments.callee._ach={}),_8db=(arguments.callee.caller||"unknown caller").toString();if(!_8da[_8db]){_8c9.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_8db,"","2.0");_8da[_8db]=true;}}var args=arguments.length;if(args>=2||typeof name==="object"){return this.set.apply(this,arguments);}else{return this.get(name);}},getDescendants:function(){_8c9.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_8ca("[widgetId]",this.containerNode).map(_8cc.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(!_8c9.isAsync){_8cb(0,function(){var _8dc=["dijit/_base"];require(_8dc);});}return _8d6;});},"url:dijit/form/templates/Select.html":'<table class="dijit dijitReset dijitInline dijitLeft"\r\n\tdata-dojo-attach-point="_buttonNode,tableNode,focusNode" cellspacing=\'0\' cellpadding=\'0\'\r\n\trole="combobox" aria-haspopup="true"\r\n\t><tbody role="presentation"><tr role="presentation"\r\n\t\t><td class="dijitReset dijitStretch dijitButtonContents dijitButtonNode" role="presentation"\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"  data-dojo-attach-point="containerNode,_popupStateNode"></span\r\n\t\t\t><input type="hidden" ${!nameAttrSetting} data-dojo-attach-point="valueNode" value="${value}" aria-hidden="true"\r\n\t\t/></td><td class="dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton"\r\n\t\t\t\tdata-dojo-attach-point="titleNode" role="presentation"\r\n\t\t\t><div class="dijitReset dijitArrowButtonInner" role="presentation"></div\r\n\t\t\t><div class="dijitReset dijitArrowButtonChar" role="presentation">&#9660;</div\r\n\t\t></td\r\n\t></tr></tbody\r\n></table>\r\n',"dijit/_editor/selection":function(){define(["dojo/dom","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window",".."],function(dom,lang,has,win,_8dd){lang.getObject("_editor.selection",true,_8dd);lang.mixin(_8dd._editor.selection,{getType:function(){if(has("ie")<9){return win.doc.selection.type.toLowerCase();}else{var _8de="text";var oSel;try{oSel=win.global.getSelection();}catch(e){}if(oSel&&oSel.rangeCount==1){var _8df=oSel.getRangeAt(0);if((_8df.startContainer==_8df.endContainer)&&((_8df.endOffset-_8df.startOffset)==1)&&(_8df.startContainer.nodeType!=3)){_8de="control";}}return _8de;}},getSelectedText:function(){if(has("ie")<9){if(_8dd._editor.selection.getType()=="control"){return null;}return win.doc.selection.createRange().text;}else{var _8e0=win.global.getSelection();if(_8e0){return _8e0.toString();}}return"";},getSelectedHtml:function(){if(has("ie")<9){if(_8dd._editor.selection.getType()=="control"){return null;}return win.doc.selection.createRange().htmlText;}else{var _8e1=win.global.getSelection();if(_8e1&&_8e1.rangeCount){var i;var html="";for(i=0;i<_8e1.rangeCount;i++){var frag=_8e1.getRangeAt(i).cloneContents();var div=win.doc.createElement("div");div.appendChild(frag);html+=div.innerHTML;}return html;}return null;}},getSelectedElement:function(){if(_8dd._editor.selection.getType()=="control"){if(has("ie")<9){var _8e2=win.doc.selection.createRange();if(_8e2&&_8e2.item){return win.doc.selection.createRange().item(0);}}else{var _8e3=win.global.getSelection();return _8e3.anchorNode.childNodes[_8e3.anchorOffset];}}return null;},getParentElement:function(){if(_8dd._editor.selection.getType()=="control"){var p=this.getSelectedElement();if(p){return p.parentNode;}}else{if(has("ie")<9){var r=win.doc.selection.createRange();r.collapse(true);return r.parentElement();}else{var _8e4=win.global.getSelection();if(_8e4){var node=_8e4.anchorNode;while(node&&(node.nodeType!=1)){node=node.parentNode;}return node;}}}return null;},hasAncestorElement:function(_8e5){return this.getAncestorElement.apply(this,arguments)!=null;},getAncestorElement:function(_8e6){var node=this.getSelectedElement()||this.getParentElement();return this.getParentOfType(node,arguments);},isTag:function(node,tags){if(node&&node.tagName){var _8e7=node.tagName.toLowerCase();for(var i=0;i<tags.length;i++){var _8e8=String(tags[i]).toLowerCase();if(_8e7==_8e8){return _8e8;}}}return"";},getParentOfType:function(node,tags){while(node){if(this.isTag(node,tags).length){return node;}node=node.parentNode;}return null;},collapse:function(_8e9){if(window.getSelection){var _8ea=win.global.getSelection();if(_8ea.removeAllRanges){if(_8e9){_8ea.collapseToStart();}else{_8ea.collapseToEnd();}}else{_8ea.collapse(_8e9);}}else{if(has("ie")){var _8eb=win.doc.selection.createRange();_8eb.collapse(_8e9);_8eb.select();}}},remove:function(){var sel=win.doc.selection;if(has("ie")<9){if(sel.type.toLowerCase()!="none"){sel.clear();}return sel;}else{sel=win.global.getSelection();sel.deleteFromDocument();return sel;}},selectElementChildren:function(_8ec,_8ed){var _8ee=win.global;var doc=win.doc;var _8ef;_8ec=dom.byId(_8ec);if(doc.selection&&has("ie")<9&&win.body().createTextRange){_8ef=_8ec.ownerDocument.body.createTextRange();_8ef.moveToElementText(_8ec);if(!_8ed){try{_8ef.select();}catch(e){}}}else{if(_8ee.getSelection){var _8f0=win.global.getSelection();if(has("opera")){if(_8f0.rangeCount){_8ef=_8f0.getRangeAt(0);}else{_8ef=doc.createRange();}_8ef.setStart(_8ec,0);_8ef.setEnd(_8ec,(_8ec.nodeType==3)?_8ec.length:_8ec.childNodes.length);_8f0.addRange(_8ef);}else{_8f0.selectAllChildren(_8ec);}}}},selectElement:function(_8f1,_8f2){var _8f3;var doc=win.doc;var _8f4=win.global;_8f1=dom.byId(_8f1);if(has("ie")<9&&win.body().createTextRange){try{var tg=_8f1.tagName?_8f1.tagName.toLowerCase():"";if(tg==="img"||tg==="table"){_8f3=win.body().createControlRange();}else{_8f3=win.body().createRange();}_8f3.addElement(_8f1);if(!_8f2){_8f3.select();}}catch(e){this.selectElementChildren(_8f1,_8f2);}}else{if(_8f4.getSelection){var _8f5=_8f4.getSelection();_8f3=doc.createRange();if(_8f5.removeAllRanges){if(has("opera")){if(_8f5.getRangeAt(0)){_8f3=_8f5.getRangeAt(0);}}_8f3.selectNode(_8f1);_8f5.removeAllRanges();_8f5.addRange(_8f3);}}}},inSelection:function(node){if(node){var _8f6;var doc=win.doc;var _8f7;if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.rangeCount>0){_8f7=sel.getRangeAt(0);}if(_8f7&&_8f7.compareBoundaryPoints&&doc.createRange){try{_8f6=doc.createRange();_8f6.setStart(node,0);if(_8f7.compareBoundaryPoints(_8f7.START_TO_END,_8f6)===1){return true;}}catch(e){}}}else{if(doc.selection){_8f7=doc.selection.createRange();try{_8f6=node.ownerDocument.body.createControlRange();if(_8f6){_8f6.addElement(node);}}catch(e1){try{_8f6=node.ownerDocument.body.createTextRange();_8f6.moveToElementText(node);}catch(e2){}}if(_8f7&&_8f6){if(_8f7.compareEndPoints("EndToStart",_8f6)===1){return true;}}}}}return false;}});return _8dd._editor.selection;});},"dijit/form/nls/ComboBox":function(){define({root:({previousMessage:"Previous choices",nextMessage:"More choices"}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_8f8,a11y){return _8f8("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _8f9=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_8f9.lowest||_8f9.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_8f9.last||_8f9.highest||this._firstFocusItem;}});});},"dijit/nls/common":function(){define("dijit/nls/common",{root:({buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"az":true,"ar":true});},"dijit/Tree":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/_base/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/topic","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_8fa,_8fb,_8fc,_8fd,_8fe,_8ff,dom,_900,_901,_902,_903,_904,_905,keys,lang,_906,_907,_908,_909,_90a,_90b,_90c,_90d,_90e,_90f,_910,_911,_912,_913){var _914=_8fd("dijit._TreeNode",[_90a,_90b,_90c,_90d,_90e],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_90f,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow",labelNode:"dijitTreeLabel"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_915){var _916=(Math.max(_915,0)*this.tree._nodePixelIndent)+"px";_902.set(this.domNode,"backgroundPosition",_916+" 0px");_902.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_916);_8fa.forEach(this.getChildren(),function(_917){_917.set("indent",_915+1);});this._set("indent",_915);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_918=tree.model;if(tree._v10Compat&&item===_918.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");},_applyClassAndStyle:function(item,_919,_91a){var _91b="_"+_919+"Class";var _91c=_919+"Node";var _91d=this[_91b];this[_91b]=this.tree["get"+_91a+"Class"](item,this.isExpanded);_900.replace(this[_91c],this[_91b]||"",_91d||"");_902.set(this[_91c],this.tree["get"+_91a+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _91e=this.getParent();if(!_91e||!_91e.rowNode||_91e.rowNode.style.display=="none"){_900.add(this.domNode,"dijitTreeIsRoot");}else{_900.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_91f){var _920=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_921=["*","-","+","*"],idx=_91f?0:(this.isExpandable?(this.isExpanded?1:2):3);_900.replace(this.expandoNode,_920[idx],_920);this.expandoNodeText.innerHTML=_921[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}this._wipeOut&&this._wipeOut.stop();this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_900.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_922=_904.wipeIn({node:this.containerNode,duration:_909.defaultDuration,onEnd:function(){def.callback(true);}});def=(this._expandDeferred=new _8fe(function(){_922.stop();}));_922.play();return def;},collapse:function(){if(!this.isExpanded){return;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode){this.tree.domNode.setAttribute("aria-expanded","false");}_900.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(!this._wipeOut){this._wipeOut=_904.wipeOut({node:this.containerNode,duration:_909.defaultDuration});}this._wipeOut.play();},indent:0,setChildItems:function(_923){var tree=this.tree,_924=tree.model,defs=[];_8fa.forEach(this.getChildren(),function(_925){_90c.prototype.removeChild.call(this,_925);},this);this.state="LOADED";if(_923&&_923.length>0){this.isExpandable=true;_8fa.forEach(_923,function(item){var id=_924.getIdentity(item),_926=tree._itemNodesMap[id],node;if(_926){for(var i=0;i<_926.length;i++){if(_926[i]&&!_926[i].getParent()){node=_926[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_924.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_926){_926.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_8fa.forEach(this.getChildren(),function(_927){_927._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}return new _8ff(defs);},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _928=this.getChildren();if(_928.length==0){this.isExpandable=false;this.collapse();}_8fa.forEach(_928,function(_929){_929._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},_onLabelFocus:function(){this.tree._onNodeFocus(this);},setSelected:function(_92a){this.labelNode.setAttribute("aria-selected",_92a);_900.toggle(this.rowNode,"dijitTreeRowSelected",_92a);},setFocusable:function(_92b){this.labelNode.setAttribute("tabIndex",_92b?"0":"-1");},_onClick:function(evt){this.tree._onClick(this,evt);},_onDblClick:function(evt){this.tree._onDblClick(this,evt);},_onMouseEnter:function(evt){this.tree._onNodeMouseEnter(this,evt);},_onMouseLeave:function(evt){this.tree._onNodeMouseLeave(this,evt);},_setTextDirAttr:function(_92c){if(_92c&&((this.textDir!=_92c)||!this._created)){this._set("textDir",_92c);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_8fa.forEach(this.getChildren(),function(_92d){_92d.set("textDir",_92c);},this);}}});var Tree=_8fd("dijit.Tree",[_90a,_90b],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_910,persist:true,autoExpand:false,dndController:_913,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_92e,_92f){_906.publish(this.id,lang.mixin({tree:this,event:_92e},_92f||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this._loadDeferred=new _8fe();this.inherited(arguments);},postCreate:function(){this._initState();if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this._load();this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _930={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_930[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_930);}},_store2model:function(){this._v10Compat=true;_905.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _931={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_931.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_931.getChildren=lang.hitch(this,function(item,_932,_933){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_932,_933);});}this.model=new _912(_931);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");}this.domNode.appendChild(rn.domNode);var _934=this.model.getIdentity(item);if(this._itemNodesMap[_934]){this._itemNodesMap[_934].push(rn);}else{this._itemNodesMap[_934]=[rn];}rn._updateLayout();this._expandNode(rn).addCallback(lang.hitch(this,function(){this._loadDeferred.callback(true);this.onLoad();}));}),function(err){console.error(this,": error loading root: ",err);});},getNodesByItem:function(item){if(!item){return[];}var _935=lang.isString(item)?item:this.model.getIdentity(item);return[].concat(this._itemNodesMap[_935]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_936){var tree=this;this._loadDeferred.addCallback(lang.hitch(this,function(){var _937=_8fa.map(_936,function(item){return(!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _938=[];_8fa.forEach(_937,function(id){_938=_938.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_938);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_939){var tree=this;return new _8ff(_8fa.map(_939,function(path){var d=new _8fe();path=_8fa.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){tree._loadDeferred.addCallback(function(){_93a(path,[tree.rootNode],d);});}else{d.errback("Empty path");}return d;})).addCallback(_93b);function _93a(path,_93c,def){var _93d=path.shift();var _93e=_8fa.filter(_93c,function(node){return node.getIdentity()==_93d;})[0];if(!!_93e){if(path.length){tree._expandNode(_93e).addCallback(function(){_93a(path,_93e.getChildren(),def);});}else{def.callback(_93e);}}else{def.errback("Could not expand path at "+_93d);}}function _93b(_93f){tree.set("selectedNodes",_8fa.map(_8fa.filter(_93f,function(x){return x[0];}),function(x){return x[1];}));}},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_940){this._loadDeferred.addCallback(lang.hitch(this,function(){this.dndController.setSelection(_940);}));},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_941){return(!item||this.model.mayHaveChildren(item))?(_941?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return"";},_onKeyPress:function(e){if(e.altKey){return;}var _942=_908.getEnclosingWidget(e.target);if(!_942){return;}var key=e.charOrCode;if(typeof key=="string"&&key!=" "){if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){this._onLetterKeyNav({node:_942,key:key.toLowerCase()});_903.stop(e);}}else{if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}var map=this._keyHandlerMap;if(!map){map={};map[keys.ENTER]="_onEnterKey";map[keys.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";map[keys.HOME]="_onHomeKey";map[keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){this[this._keyHandlerMap[key]]({node:_942,item:_942.item,evt:e});_903.stop(e);}}},_onEnterKey:function(_943){this._publish("execute",{item:_943.item,node:_943.node});this.dndController.userSelect(_943.node,_8fb.isCopyKey(_943.evt),_943.evt.shiftKey);this.onClick(_943.item,_943.node,_943.evt);},_onDownArrow:function(_944){var node=this._getNextNode(_944.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_945){var node=_945.node;var _946=node.getPreviousSibling();if(_946){node=_946;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _947=node.getChildren();node=_947[_947.length-1];}}else{var _948=node.getParent();if(!(!this.showRoot&&_948===this.rootNode)){node=_948;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_949){var node=_949.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_94a){var node=_94a.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _94b=node.getParent();if(_94b&&_94b.isTreeNode&&!(!this.showRoot&&_94b===this.rootNode)){this.focusNode(_94b);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_94c){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_94c.key;cs.timer.remove();}else{cs=this._curSearch={pattern:_94c.key,startNode:_94c.node};}cs.timer=this.defer(function(){delete this._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_94d){return dom.isDescendant(node,_94d.expandoNode);},_onClick:function(_94e,e){var _94f=e.target,_950=this.isExpandoNode(_94f,_94e);if((this.openOnClick&&_94e.isExpandable)||_950){if(_94e.isExpandable){this._onExpandoClick({node:_94e});}}else{this._publish("execute",{item:_94e.item,node:_94e,evt:e});this.onClick(_94e.item,_94e,e);this.focusNode(_94e);}_903.stop(e);},_onDblClick:function(_951,e){var _952=e.target,_953=(_952==_951.expandoNode||_952==_951.expandoNodeText);if((this.openOnDblClick&&_951.isExpandable)||_953){if(_951.isExpandable){this._onExpandoClick({node:_951});}}else{this._publish("execute",{item:_951.item,node:_951,evt:e});this.onDblClick(_951.item,_951,e);this.focusNode(_951);}_903.stop(e);},_onExpandoClick:function(_954){var node=_954.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _955=node.getNextSibling();if(_955){return _955;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();this.onClose(node.item,node);this._state(node,false);}},_expandNode:function(node,_956){if(node._expandNodeDeferred&&!_956){return node._expandNodeDeferred;}var _957=this.model,item=node.item,_958=this;switch(node.state){case"UNCHECKED":node.markProcessing();var def=(node._expandNodeDeferred=new _8fe());_957.getChildren(item,function(_959){node.unmarkProcessing();var scid=node.setChildItems(_959);var ed=_958._expandNode(node,true);scid.addCallback(function(){ed.addCallback(function(){def.callback();});});},function(err){console.error(_958,": error loading root children: ",err);});break;default:def=(node._expandNodeDeferred=node.expand());this.onOpen(node.item,node);this._state(node,true);}return def;},focusNode:function(node){_907.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _95a=this.model,_95b=_95a.getIdentity(item),_95c=this._itemNodesMap[_95b];if(_95c){var _95d=this.getLabel(item),_95e=this.getTooltip(item);_8fa.forEach(_95c,function(node){node.set({item:item,label:_95d,tooltip:_95e});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_95f,_960){var _961=this.model,_962=_961.getIdentity(_95f),_963=this._itemNodesMap[_962];if(_963){_8fa.forEach(_963,function(_964){_964.setChildItems(_960);});}},_onItemDelete:function(item){var _965=this.model,_966=_965.getIdentity(item),_967=this._itemNodesMap[_966];if(_967){_8fa.forEach(_967,function(node){this.dndController.removeTreeNode(node);var _968=node.getParent();if(_968){_968.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_966];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_8fc(this.cookieName);if(oreo){_8fa.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_969){if(!this.persist){return false;}var path=_8fa.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_969){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}var ary=[];for(var id in this._openedNodes){ary.push(id);}_8fc(this.cookieName,ary.join(","),{expires:365});}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_96a){if(_96a){_901.setMarginBox(this.domNode,_96a);}this._nodePixelIndent=_901.position(this.tree.indentDetector).w;if(this.tree.rootNode){this.tree.rootNode.set("indent",this.showRoot?0:-1);}},_createTreeNode:function(args){return new _914(args);},_setTextDirAttr:function(_96b){if(_96b&&this.textDir!=_96b){this._set("textDir",_96b);this.rootNode.set("textDir",_96b);}}});Tree._TreeNode=_914;return Tree;});},"dijit/form/HorizontalSlider":function(){require({cache:{"url:dijit/form/templates/HorizontalSlider.html":'<table class="dijit dijitReset dijitSlider dijitSliderH" cellspacing="0" cellpadding="0" border="0" rules="none" data-dojo-attach-event="onkeypress:_onKeyPress,onkeyup:_onKeyUp"\r\n\t><tr class="dijitReset"\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t\t><td data-dojo-attach-point="topDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationT dijitSliderDecorationH"></td\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t></tr\r\n\t><tr class="dijitReset"\r\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t><div class="dijitSliderDecrementIconH" style="display:none" data-dojo-attach-point="decrementButton"><span class="dijitSliderButtonInner">-</span></div\r\n\t\t></td\r\n\t\t><td class="dijitReset"\r\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderLeftBumper" data-dojo-attach-event="press:_onClkDecBumper"></div\r\n\t\t></td\r\n\t\t><td class="dijitReset"\r\n\t\t\t><input data-dojo-attach-point="valueNode" type="hidden" ${!nameAttrSetting}\r\n\t\t\t/><div class="dijitReset dijitSliderBarContainerH" role="presentation" data-dojo-attach-point="sliderBarContainer"\r\n\t\t\t\t><div role="presentation" data-dojo-attach-point="progressBar" class="dijitSliderBar dijitSliderBarH dijitSliderProgressBar dijitSliderProgressBarH" data-dojo-attach-event="press:_onBarClick"\r\n\t\t\t\t\t><div class="dijitSliderMoveable dijitSliderMoveableH"\r\n\t\t\t\t\t\t><div data-dojo-attach-point="sliderHandle,focusNode" class="dijitSliderImageHandle dijitSliderImageHandleH" data-dojo-attach-event="press:_onHandleClick" role="slider" valuemin="${minimum}" valuemax="${maximum}"></div\r\n\t\t\t\t\t></div\r\n\t\t\t\t></div\r\n\t\t\t\t><div role="presentation" data-dojo-attach-point="remainingBar" class="dijitSliderBar dijitSliderBarH dijitSliderRemainingBar dijitSliderRemainingBarH" data-dojo-attach-event="press:_onBarClick"></div\r\n\t\t\t></div\r\n\t\t></td\r\n\t\t><td class="dijitReset"\r\n\t\t\t><div class="dijitSliderBar dijitSliderBumper dijitSliderBumperH dijitSliderRightBumper" data-dojo-attach-event="press:_onClkIncBumper"></div\r\n\t\t></td\r\n\t\t><td class="dijitReset dijitSliderButtonContainer dijitSliderButtonContainerH"\r\n\t\t\t><div class="dijitSliderIncrementIconH" style="display:none" data-dojo-attach-point="incrementButton"><span class="dijitSliderButtonInner">+</span></div\r\n\t\t></td\r\n\t></tr\r\n\t><tr class="dijitReset"\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t\t><td data-dojo-attach-point="containerNode,bottomDecoration" class="dijitReset dijitSliderDecoration dijitSliderDecorationB dijitSliderDecorationH"></td\r\n\t\t><td class="dijitReset" colspan="2"></td\r\n\t></tr\r\n></table>\r\n'}});define("dijit/form/HorizontalSlider",["dojo/_base/array","dojo/_base/declare","dojo/dnd/move","dojo/_base/event","dojo/_base/fx","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/_base/sniff","dojo/dnd/Moveable","dojo/dnd/Mover","dojo/query","../registry","../focus","../typematic","./Button","./_FormValueWidget","../_Container","dojo/text!./templates/HorizontalSlider.html"],function(_96c,_96d,move,_96e,fx,_96f,_970,keys,lang,has,_971,_972,_973,_974,_975,_976,_977,_978,_979,_97a){var _97b=_96d("dijit.form._SliderMover",_972,{onMouseMove:function(e){var _97c=this.widget;var _97d=_97c._abspos;if(!_97d){_97d=_97c._abspos=_96f.position(_97c.sliderBarContainer,true);_97c._setPixelValue_=lang.hitch(_97c,"_setPixelValue");_97c._isReversed_=_97c._isReversed();}var _97e=e[_97c._mousePixelCoord]-_97d[_97c._startingPixelCoord];_97c._setPixelValue_(_97c._isReversed_?(_97d[_97c._pixelCount]-_97e):_97e,_97d[_97c._pixelCount],false);},destroy:function(e){_972.prototype.destroy.apply(this,arguments);var _97f=this.widget;_97f._abspos=null;_97f._setValueAttr(_97f.value,true);}});var _980=_96d("dijit.form.HorizontalSlider",[_978,_979],{templateString:_97a,value:0,showButtons:true,minimum:0,maximum:100,discreteValues:Infinity,pageIncrement:2,clickSelect:true,slideDuration:_974.defaultDuration,_setIdAttr:"",baseClass:"dijitSlider",cssStateNodes:{incrementButton:"dijitSliderIncrementButton",decrementButton:"dijitSliderDecrementButton",focusNode:"dijitSliderThumb"},_mousePixelCoord:"pageX",_pixelCount:"w",_startingPixelCoord:"x",_handleOffsetCoord:"left",_progressPixelSize:"width",_onKeyUp:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}this._setValueAttr(this.value,true);},_onKeyPress:function(e){if(this.disabled||this.readOnly||e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.charOrCode){case keys.HOME:this._setValueAttr(this.minimum,false);break;case keys.END:this._setValueAttr(this.maximum,false);break;case ((this._descending||this.isLeftToRight())?keys.RIGHT_ARROW:keys.LEFT_ARROW):case (this._descending===false?keys.DOWN_ARROW:keys.UP_ARROW):case (this._descending===false?keys.PAGE_DOWN:keys.PAGE_UP):this.increment(e);break;case ((this._descending||this.isLeftToRight())?keys.LEFT_ARROW:keys.RIGHT_ARROW):case (this._descending===false?keys.UP_ARROW:keys.DOWN_ARROW):case (this._descending===false?keys.PAGE_UP:keys.PAGE_DOWN):this.decrement(e);break;default:return;}_96e.stop(e);},_onHandleClick:function(e){if(this.disabled||this.readOnly){return;}if(!has("ie")){_975.focus(this.sliderHandle);}_96e.stop(e);},_isReversed:function(){return !this.isLeftToRight();},_onBarClick:function(e){if(this.disabled||this.readOnly||!this.clickSelect){return;}_975.focus(this.sliderHandle);_96e.stop(e);var _981=_96f.position(this.sliderBarContainer,true);var _982=e[this._mousePixelCoord]-_981[this._startingPixelCoord];this._setPixelValue(this._isReversed()?(_981[this._pixelCount]-_982):_982,_981[this._pixelCount],true);this._movable.onMouseDown(e);},_setPixelValue:function(_983,_984,_985){if(this.disabled||this.readOnly){return;}var _986=this.discreteValues;if(_986<=1||_986==Infinity){_986=_984;}_986--;var _987=_984/_986;var _988=Math.round(_983/_987);this._setValueAttr(Math.max(Math.min((this.maximum-this.minimum)*_988/_986+this.minimum,this.maximum),this.minimum),_985);},_setValueAttr:function(_989,_98a){this._set("value",_989);this.valueNode.value=_989;this.focusNode.setAttribute("aria-valuenow",_989);this.inherited(arguments);var _98b=(_989-this.minimum)/(this.maximum-this.minimum);var _98c=(this._descending===false)?this.remainingBar:this.progressBar;var _98d=(this._descending===false)?this.progressBar:this.remainingBar;if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}if(_98a&&this.slideDuration>0&&_98c.style[this._progressPixelSize]){var _98e=this;var _98f={};var _990=parseFloat(_98c.style[this._progressPixelSize]);var _991=this.slideDuration*(_98b-_990/100);if(_991==0){return;}if(_991<0){_991=0-_991;}_98f[this._progressPixelSize]={start:_990,end:_98b*100,units:"%"};this._inProgressAnim=fx.animateProperty({node:_98c,duration:_991,onAnimate:function(v){_98d.style[_98e._progressPixelSize]=(100-parseFloat(v[_98e._progressPixelSize]))+"%";},onEnd:function(){delete _98e._inProgressAnim;},properties:_98f});this._inProgressAnim.play();}else{_98c.style[this._progressPixelSize]=(_98b*100)+"%";_98d.style[this._progressPixelSize]=((1-_98b)*100)+"%";}},_bumpValue:function(_992,_993){if(this.disabled||this.readOnly){return;}var s=_970.getComputedStyle(this.sliderBarContainer);var c=_96f.getContentBox(this.sliderBarContainer,s);var _994=this.discreteValues;if(_994<=1||_994==Infinity){_994=c[this._pixelCount];}_994--;var _995=(this.value-this.minimum)*_994/(this.maximum-this.minimum)+_992;if(_995<0){_995=0;}if(_995>_994){_995=_994;}_995=_995*(this.maximum-this.minimum)/_994+this.minimum;this._setValueAttr(_995,_993);},_onClkBumper:function(val){if(this.disabled||this.readOnly||!this.clickSelect){return;}this._setValueAttr(val,true);},_onClkIncBumper:function(){this._onClkBumper(this._descending===false?this.minimum:this.maximum);},_onClkDecBumper:function(){this._onClkBumper(this._descending===false?this.maximum:this.minimum);},decrement:function(e){this._bumpValue(e.charOrCode==keys.PAGE_DOWN?-this.pageIncrement:-1);},increment:function(e){this._bumpValue(e.charOrCode==keys.PAGE_UP?this.pageIncrement:1);},_mouseWheeled:function(evt){_96e.stop(evt);var _996=!has("mozilla");var _997=evt[(_996?"wheelDelta":"detail")]*(_996?1:-1);this._bumpValue(_997<0?-1:1,true);},startup:function(){if(this._started){return;}_96c.forEach(this.getChildren(),function(_998){if(this[_998.container]!=this.containerNode){this[_998.container].appendChild(_998.domNode);}},this);this.inherited(arguments);},_typematicCallback:function(_999,_99a,e){if(_999==-1){this._setValueAttr(this.value,true);}else{this[(_99a==(this._descending?this.incrementButton:this.decrementButton))?"decrement":"increment"](e);}},buildRendering:function(){this.inherited(arguments);if(this.showButtons){this.incrementButton.style.display="";this.decrementButton.style.display="";}var _99b=_973('label[for="'+this.id+'"]');if(_99b.length){_99b[0].id=(this.id+"_label");this.focusNode.setAttribute("aria-labelledby",_99b[0].id);}this.focusNode.setAttribute("aria-valuemin",this.minimum);this.focusNode.setAttribute("aria-valuemax",this.maximum);},postCreate:function(){this.inherited(arguments);if(this.showButtons){this._connects.push(_976.addMouseListener(this.decrementButton,this,"_typematicCallback",25,500));this._connects.push(_976.addMouseListener(this.incrementButton,this,"_typematicCallback",25,500));}this.connect(this.domNode,!has("mozilla")?"onmousewheel":"DOMMouseScroll","_mouseWheeled");var _99c=_96d(_97b,{widget:this});this._movable=new _971(this.sliderHandle,{mover:_99c});this._layoutHackIE7();},destroy:function(){this._movable.destroy();if(this._inProgressAnim&&this._inProgressAnim.status!="stopped"){this._inProgressAnim.stop(true);}this._supportingWidgets=_974.findWidgets(this.domNode);this.inherited(arguments);}});_980._Mover=_97b;return _980;});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/_base/sniff","./_FormWidget","./_FormValueMixin"],function(_99d,has,_99e,_99f){return _99d("dijit.form._FormValueWidget",[_99e,_99f],{_layoutHackIE7:function(){if(has("ie")==7){var _9a0=this.domNode;var _9a1=_9a0.parentNode;var _9a2=_9a0.firstChild||_9a0;var _9a3=_9a2.style.filter;var _9a4=this;while(_9a1&&_9a1.clientHeight==0){(function ping(){var _9a5=_9a4.connect(_9a1,"onscroll",function(){_9a4.disconnect(_9a5);_9a2.style.filter=(new Date()).getMilliseconds();_9a4.defer(function(){_9a2.style.filter=_9a3;});});})();_9a1=_9a1.parentNode;}}}});});}}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("dijit/nls/dijit",["et","en-tt","eu","ar-sy","xh","en-nz","fa","es-uy","es-cl","rm","ro","fr-be","es-co","fi","es-cr","sv-fi","ar-tn","en-bz","ru","es-ve","es-pa","zh-hk","lt","fo","zh-tw","lv","es-pe","en-ca","fr","en-us","es-pr","sk","fr-ca","de-ch","sl","gd","mk","es-py","sq","sr","fr-ch","pt-pt","af","sv","ms","mt","zh-cn","ar","en-jm","zh","es-ec","nb","th","az","tn","he","zu","nl","tr","hi","ts","be","bg","hr","hu","ar-jo","uk","id","ca","ar-dz","ur","is","it","cs","ve","de-li","vi","ja","da","pl","ar-lb","nl-be","de","es-gt","it-ch","es-ar","pt","fr-lu","en-gb","en-za","zh-sg","es-hn","ar-ma","es-bo","en-au","kk","ko","el","de-at","en","pt-br","es"]);});define("dijit/dijit",[".","./_base","dojo/parser","./_Widget","./_TemplatedMixin","./_Container","./layout/_LayoutWidget","./form/_FormWidget","./form/_FormValueWidget"],function(_9a6){return _9a6;});require({cache:{"dojox/charting/action2d/Magnify":function(){define("dojox/charting/action2d/Magnify",["dojo/_base/connect","dojo/_base/declare","./PlotAction","dojox/gfx/matrix","dojox/gfx/fx","dojo/fx","dojo/fx/easing"],function(_1,_2,_3,m,gf,df,_4){var _5=2;return _2("dojox.charting.action2d.Magnify",_3,{defaultParams:{duration:400,easing:_4.backOut,scale:_5},optionalParams:{},constructor:function(_6,_7,_8){this.scale=_8&&typeof _8.scale=="number"?_8.scale:_5;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)||!("cx" in o)||!("cy" in o)){return;}var _9=o.run.name,_a=o.index,_b=[],_c,_d,_e;if(_9 in this.anim){_c=this.anim[_9][_a];}else{this.anim[_9]={};}if(_c){_c.action.stop(true);}else{this.anim[_9][_a]=_c={};}if(o.type=="onmouseover"){_d=m.identity;_e=this.scale;}else{_d=m.scaleAt(this.scale,o.cx,o.cy);_e=1/this.scale;}var _f={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"scaleAt",start:[1,o.cx,o.cy],end:[_e,o.cx,o.cy]},_d]};if(o.shape){_b.push(gf.animateTransform(_f));}if(o.oultine){_f.shape=o.outline;_b.push(gf.animateTransform(_f));}if(o.shadow){_f.shape=o.shadow;_b.push(gf.animateTransform(_f));}if(!_b.length){delete this.anim[_9][_a];return;}_c.action=df.combine(_b);if(o.type=="onmouseout"){_1.connect(_c.action,"onEnd",this,function(){if(this.anim[_9]){delete this.anim[_9][_a];}});}_c.action.play();}});});},"dojox/mdnd/dropMode/OverDropMode":function(){define("dojox/mdnd/dropMode/OverDropMode",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/html","dojo/_base/array","dojox/mdnd/AreaManager"],function(_10){var odm=_10.declare("dojox.mdnd.dropMode.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(){this._dragHandler=[_10.connect(dojox.mdnd.areaManager(),"onDragEnter",function(_11,_12){var m=dojox.mdnd.areaManager();if(m._oldIndexArea==-1){m._oldIndexArea=m._lastValidIndexArea;}})];},addArea:function(_13,_14){var _15=_13.length,_16=_10.position(_14.node,true);_14.coords={"x":_16.x,"y":_16.y};if(_15==0){_13.push(_14);}else{var x=_14.coords.x;for(var i=0;i<_15;i++){if(x<_13[i].coords.x){for(var j=_15-1;j>=i;j--){_13[j+1]=_13[j];}_13[i]=_14;break;}}if(i==_15){_13.push(_14);}}return _13;},updateAreas:function(_17){var _18=_17.length;for(var i=0;i<_18;i++){this._updateArea(_17[i]);}},_updateArea:function(_19){var _1a=_10.position(_19.node,true);_19.coords.x=_1a.x;_19.coords.x2=_1a.x+_1a.w;_19.coords.y=_1a.y;},initItems:function(_1b){_10.forEach(_1b.items,function(obj){var _1c=obj.item.node;var _1d=_10.position(_1c,true);var y=_1d.y+_1d.h/2;obj.y=y;});_1b.initItems=true;},refreshItems:function(_1e,_1f,_20,_21){if(_1f==-1){return;}else{if(_1e&&_20&&_20.h){var _22=_20.h;if(_1e.margin){_22+=_1e.margin.t;}var _23=_1e.items.length;for(var i=_1f;i<_23;i++){var _24=_1e.items[i];if(_21){_24.y+=_22;}else{_24.y-=_22;}}}}},getDragPoint:function(_25,_26,_27){return{"x":_27.x,"y":_27.y};},getTargetArea:function(_28,_29,_2a){var _2b=0;var x=_29.x;var y=_29.y;var end=_28.length;var _2c=0,_2d="right",_2e=false;if(_2a==-1||arguments.length<3){_2e=true;}else{if(this._checkInterval(_28,_2a,x,y)){_2b=_2a;}else{if(this._oldXPoint<x){_2c=_2a+1;}else{_2c=_2a-1;end=0;_2d="left";}_2e=true;}}if(_2e){if(_2d==="right"){for(var i=_2c;i<end;i++){if(this._checkInterval(_28,i,x,y)){_2b=i;break;}}if(i==end){_2b=-1;}}else{for(var i=_2c;i>=end;i--){if(this._checkInterval(_28,i,x,y)){_2b=i;break;}}if(i==end-1){_2b=-1;}}}this._oldXPoint=x;return _2b;},_checkInterval:function(_2f,_30,x,y){var _31=_2f[_30];var _32=_31.node;var _33=_31.coords;var _34=_33.x;var _35=_33.x2;var _36=_33.y;var _37=_36+_32.offsetHeight;if(_34<=x&&x<=_35&&_36<=y&&y<=_37){return true;}return false;},getDropIndex:function(_38,_39){var _3a=_38.items.length;var _3b=_38.coords;var y=_39.y;if(_3a>0){for(var i=0;i<_3a;i++){if(y<_38.items[i].y){return i;}else{if(i==_3a-1){return -1;}}}}return -1;},destroy:function(){_10.forEach(this._dragHandler,_10.disconnect);}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.OverDropMode();return odm;});},"dojox/charting/plot2d/ClusteredColumns":function(){define("dojox/charting/plot2d/ClusteredColumns",["dojo/_base/array","dojo/_base/declare","./Columns","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils"],function(arr,_3c,_3d,dc,df,dfr,du){var _3e=dfr.lambda("item.purgeGroup()");return _3c("dojox.charting.plot2d.ClusteredColumns",_3d,{render:function(dim,_3f){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_3f);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_3e);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(_40){_40.cleanGroup(s);});}var t=this.chart.theme,f,gap,_41,_42,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_43=Math.max(0,this._vScaler.bounds.lower),_44=vt(_43),_45=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_41=_42=f.size;for(var i=0;i<this.series.length;++i){var run=this.series[i],_46=_42*i;if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _47=t.next("column",[this.opt,run]),s=run.group,_48=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _49=run.data[j];if(_49!==null){var v=typeof _49=="number"?_49:_49.y,vv=vt(v),_4a=vv-_44,h=Math.abs(_4a),_4b=typeof _49!="number"?t.addMixin(_47,"column",_49,true):t.post(_47,"column");if(_41>=1&&h>=0){var _4c={x:_3f.l+ht(j+0.5)+gap+_46,y:dim.height-_3f.b-(v>_43?vv:_44),width:_41,height:h};var _4d=this._plotFill(_4b.series.fill,dim,_3f);_4d=this._shapeFill(_4d,_4c);var _4e=s.createRect(_4c).setFill(_4d).setStroke(_4b.series.stroke);run.dyn.fill=_4e.getFill();run.dyn.stroke=_4e.getStroke();if(_45){var o={element:"column",index:j,run:run,shape:_4e,x:j+0.5,y:v};this._connectEvents(o);_48[j]=o;}if(this.animate){this._animateColumn(_4e,dim.height-_3f.b-_44,h);}}}}this._eventSeries[run.name]=_48;run.dirty=false;}this.dirty=false;return this;}});});},"dojox/lang/functional/scan":function(){define("dojox/lang/functional/scan",["dojo/_base/kernel","dojo/_base/lang","./lambda"],function(d,_4f,df){var _50={};d.mixin(df,{scanl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,i;if(d.isArray(a)){t=new Array((n=a.length)+1);t[0]=z;for(i=0;i<n;z=f.call(o,z,a[i],i,a),t[++i]=z){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[z];for(i=0;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}else{t=[z];for(i in a){if(!(i in _50)){t.push(z=f.call(o,z,a[i],i,a));}}}}return t;},scanl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var t,n,z,_51=true;if(d.isArray(a)){t=new Array(n=a.length);t[0]=z=a[0];for(var i=1;i<n;t[i]=z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){t=[z=a.next()];for(i=1;a.hasNext();t.push(z=f.call(o,z,a.next(),i++,a))){}}}else{for(i in a){if(!(i in _50)){if(_51){t=[z=a[i]];_51=false;}else{t.push(z=f.call(o,z,a[i],i,a));}}}}}return t;},scanr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n+1),i=n;t[n]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;},scanr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||d.global;f=df.lambda(f);var n=a.length,t=new Array(n),z=a[n-1],i=n-1;t[i]=z;for(;i>0;--i,z=f.call(o,z,a[i],i,a),t[i]=z){}return t;}});});},"dojox/grid/DataGrid":function(){define("dojox/grid/DataGrid",["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/sniff","dojo/_base/declare","./_Grid","./DataSelection","dojo/_base/html"],function(_52,_53,_54,_55,has,_56,_57,_58,_59){var _5a=_56("dojox.grid.DataGrid",_57,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,keepSelection:false,postCreate:function(){this._pages=[];this._store_connects=[];this._by_idty={};this._by_idx=[];this._cache=[];this._pending_requests={};this._setStore(this.store);this.inherited(arguments);},destroy:function(){this.selection.destroy();this.inherited(arguments);},createSelection:function(){this.selection=new _58(this);},get:function(_5b,_5c){if(_5c&&this.field=="_item"&&!this.fields){return _5c;}else{if(_5c&&this.fields){var ret=[];var s=this.grid.store;_53.forEach(this.fields,function(f){ret=ret.concat(s.getValues(_5c,f));});return ret;}else{if(!_5c&&typeof _5b==="string"){return this.inherited(arguments);}}}return(!_5c?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_5c:this.grid.store.getValue(_5c,this.field))));},_checkUpdateStatus:function(){if(this.updateDelay>0){var _5d=false;if(this._endUpdateDelay){clearTimeout(this._endUpdateDelay);delete this._endUpdateDelay;_5d=true;}if(!this.updating){this.beginUpdate();_5d=true;}if(_5d){var _5e=this;this._endUpdateDelay=setTimeout(function(){delete _5e._endUpdateDelay;_5e.endUpdate();},this.updateDelay);}}},_onSet:function(_5f,_60,_61,_62){this._checkUpdateStatus();var idx=this.getItemIndex(_5f);if(idx>-1){this.updateRow(idx);}},_createItem:function(_63,_64){var _65=this._hasIdentity?this.store.getIdentity(_63):_55.toJson(this.query)+":idx:"+_64+":sort:"+_55.toJson(this.getSortProps());var o=this._by_idty[_65]={idty:_65,item:_63};return o;},_addItem:function(_66,_67,_68){this._by_idx[_67]=this._createItem(_66,_67);if(!_68){this.updateRow(_67);}},_onNew:function(_69,_6a){this._checkUpdateStatus();var _6b=this.get("rowCount");this._addingItem=true;this.updateRowCount(_6b+1);this._addingItem=false;this._addItem(_69,_6b);this.showMessage();},_onDelete:function(_6c){this._checkUpdateStatus();var idx=this._getItemIndex(_6c,true);if(idx>=0){this._pages=[];this._bop=-1;this._eop=-1;var o=this._by_idx[idx];this._by_idx.splice(idx,1);delete this._by_idty[o.idty];this.updateRowCount(this.get("rowCount")-1);if(this.get("rowCount")===0){this.showMessage(this.noDataMessage);}}if(this.selection.isSelected(idx)){this.selection.deselect(idx);this.selection.selected.splice(idx,1);}},_onRevert:function(){this._refresh();},setStore:function(_6d,_6e,_6f){if(this._requestsPending(0)){return;}this._setQuery(_6e,_6f);this._setStore(_6d);this._refresh(true);},setQuery:function(_70,_71){if(this._requestsPending(0)){return;}this._setQuery(_70,_71);this._refresh(true);},setItems:function(_72){this.items=_72;this._setStore(this.store);this._refresh(true);},_setQuery:function(_73,_74){this.query=_73;this.queryOptions=_74||this.queryOptions;},_setStore:function(_75){if(this.store&&this._store_connects){_53.forEach(this._store_connects,this.disconnect,this);}this.store=_75;if(this.store){var f=this.store.getFeatures();var h=[];this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];this._hasIdentity=!!f["dojo.data.api.Identity"];if(!!f["dojo.data.api.Notification"]&&!this.items){h.push(this.connect(this.store,"onSet","_onSet"));h.push(this.connect(this.store,"onNew","_onNew"));h.push(this.connect(this.store,"onDelete","_onDelete"));}if(this._canEdit){h.push(this.connect(this.store,"revert","_onRevert"));}this._store_connects=h;}},_onFetchBegin:function(_76,req){if(!this.scroller){return;}if(this.rowCount!=_76){if(req.isRender){this.scroller.init(_76,this.keepRows,this.rowsPerPage);this.rowCount=_76;this._setAutoHeightAttr(this.autoHeight,true);this._skipRowRenormalize=true;this.prerender();this._skipRowRenormalize=false;}else{this.updateRowCount(_76);}}if(!_76){this.views.render();this._resize();this.showMessage(this.noDataMessage);this.focus.initFocusView();}else{this.showMessage();}},_onFetchComplete:function(_77,req){if(!this.scroller){return;}if(_77&&_77.length>0){_53.forEach(_77,function(_78,idx){this._addItem(_78,req.start+idx,true);},this);this.updateRows(req.start,_77.length);if(req.isRender){this.setScrollTop(0);this.postrender();}else{if(this._lastScrollTop){this.setScrollTop(this._lastScrollTop);}}if(has("ie")){_59.setSelectable(this.domNode,this.selectable);}}delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;}this._pending_requests[req.start]=false;},_onFetchError:function(err,req){delete this._lastScrollTop;if(!this._isLoaded){this._isLoading=false;this._isLoaded=true;this.showMessage(this.errorMessage);}this._pending_requests[req.start]=false;this.onFetchError(err,req);},onFetchError:function(err,req){},_fetch:function(_79,_7a){_79=_79||0;if(this.store&&!this._pending_requests[_79]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_79]=true;try{if(this.items){var _7b=this.items;var _7c=this.store;this.rowsPerPage=_7b.length;var req={start:_79,count:this.rowsPerPage,isRender:_7a};this._onFetchBegin(_7b.length,req);var _7d=0;_53.forEach(_7b,function(i){if(!_7c.isItemLoaded(i)){_7d++;}});if(_7d===0){this._onFetchComplete(_7b,req);}else{var _7e=function(_7f){_7d--;if(_7d===0){this._onFetchComplete(_7b,req);}};_53.forEach(_7b,function(i){if(!_7c.isItemLoaded(i)){_7c.loadItem({item:i,onItem:_7e,scope:this});}},this);}}else{this.store.fetch({start:_79,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_7a,onBegin:_54.hitch(this,"_onFetchBegin"),onComplete:_54.hitch(this,"_onFetchComplete"),onError:_54.hitch(this,"_onFetchError")});}}catch(e){this._onFetchError(e,{start:_79,count:this.rowsPerPage});}}},_clearData:function(){this.updateRowCount(0);this._by_idty={};this._by_idx=[];this._pages=[];this._bop=this._eop=-1;this._isLoaded=false;this._isLoading=false;},getItem:function(idx){var _80=this._by_idx[idx];if(!_80||(_80&&!_80.item)){this._preparePage(idx);return null;}return _80.item;},getItemIndex:function(_81){return this._getItemIndex(_81,false);},_getItemIndex:function(_82,_83){if(!_83&&!this.store.isItem(_82)){return -1;}var _84=this._hasIdentity?this.store.getIdentity(_82):null;for(var i=0,l=this._by_idx.length;i<l;i++){var d=this._by_idx[i];if(d&&((_84&&d.idty==_84)||(d.item===_82))){return i;}}return -1;},filter:function(_85,_86){this.query=_85;if(_86){this._clearData();}this._fetch();},_getItemAttr:function(idx,_87){var _88=this.getItem(idx);return(!_88?this.fetchText:this.store.getValue(_88,_87));},_render:function(){if(this.domNode.parentNode){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this._fetch(0,true);}},_requestsPending:function(_89){return this._pending_requests[_89];},_rowToPage:function(_8a){return(this.rowsPerPage?Math.floor(_8a/this.rowsPerPage):_8a);},_pageToRow:function(_8b){return(this.rowsPerPage?this.rowsPerPage*_8b:_8b);},_preparePage:function(_8c){if((_8c<this._bop||_8c>=this._eop)&&!this._addingItem){var _8d=this._rowToPage(_8c);this._needPage(_8d);this._bop=_8d*this.rowsPerPage;this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));}},_needPage:function(_8e){if(!this._pages[_8e]){this._pages[_8e]=true;this._requestPage(_8e);}},_requestPage:function(_8f){var row=this._pageToRow(_8f);var _90=Math.min(this.rowsPerPage,this.get("rowCount")-row);if(_90>0){this._requests++;if(!this._requestsPending(row)){setTimeout(_54.hitch(this,"_fetch",row,false),1);}}},getCellName:function(_91){return _91.field;},_refresh:function(_92){this._clearData();this._fetch(0,_92);},sort:function(){this.edit.apply();this._lastScrollTop=this.scrollTop;this._refresh();},canSort:function(){return(!this._isLoading);},getSortProps:function(){var c=this.getCell(this.getSortIndex());if(!c){if(this.sortFields){return this.sortFields;}return null;}else{var _93=c["sortDesc"];var si=!(this.sortInfo>0);if(typeof _93=="undefined"){_93=si;}else{_93=si?!_93:_93;}return[{attribute:c.field,descending:_93}];}},styleRowState:function(_94){if(this.store&&this.store.getState){var _95=this.store.getState(_94.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_95[s]){c=" dojoxGridRow-"+s;break;}}_94.customClasses+=c;}},onStyleRow:function(_96){this.styleRowState(_96);this.inherited(arguments);},canEdit:function(_97,_98){return this._canEdit;},_copyAttr:function(idx,_99){var row={};var _9a={};var src=this.getItem(idx);return this.store.getValue(src,_99);},doStartEdit:function(_9b,_9c){if(!this._cache[_9c]){this._cache[_9c]=this._copyAttr(_9c,_9b.field);}this.onStartEdit(_9b,_9c);},doApplyCellEdit:function(_9d,_9e,_9f){this.store.fetchItemByIdentity({identity:this._by_idx[_9e].idty,onItem:_54.hitch(this,function(_a0){var _a1=this.store.getValue(_a0,_9f);if(typeof _a1=="number"){_9d=isNaN(_9d)?_9d:parseFloat(_9d);}else{if(typeof _a1=="boolean"){_9d=_9d=="true"?true:_9d=="false"?false:_9d;}else{if(_a1 instanceof Date){var _a2=new Date(_9d);_9d=isNaN(_a2.getTime())?_9d:_a2;}}}this.store.setValue(_a0,_9f,_9d);this.onApplyCellEdit(_9d,_9e,_9f);})});},doCancelEdit:function(_a3){var _a4=this._cache[_a3];if(_a4){this.updateRow(_a3);delete this._cache[_a3];}this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_a5,_a6){var _a7=this._cache[_a5];this.onApplyEdit(_a5);},removeSelectedRows:function(){if(this._canEdit){this.edit.apply();var fx=_54.hitch(this,function(_a8){if(_a8.length){_53.forEach(_a8,this.store.deleteItem,this.store);this.selection.clear();}});if(this.allItemsSelected){this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});}else{fx(this.selection.getSelected());}}}});_5a.cell_markupFactory=function(_a9,_aa,_ab){var _ac=_54.trim(_59.attr(_aa,"field")||"");if(_ac){_ab.field=_ac;}_ab.field=_ab.field||_ab.name;var _ad=_54.trim(_59.attr(_aa,"fields")||"");if(_ad){_ab.fields=_ad.split(",");}if(_a9){_a9(_aa,_ab);}};_5a.markupFactory=function(_ae,_af,_b0,_b1){return _57.markupFactory(_ae,_af,_b0,_54.partial(_5a.cell_markupFactory,_b1));};return _5a;});},"dojox/form/Uploader":function(){require({cache:{"url:dojox/form/resources/Uploader.html":'<span class="dijit dijitReset dijitInline"\r\n\t><span class="dijitReset dijitInline dijitButtonNode"\r\n\t\tdojoAttachEvent="ondijitclick:_onClick"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdojoAttachPoint="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon" dojoAttachPoint="iconNode"></span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdojoAttachPoint="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><!--no need to have this for Uploader \r\n\t<input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\r\n\t\tdojoAttachPoint="valueNode"\r\n/--></span>\r\n'}});define("dojox/form/Uploader",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","dojox/form/uploader/Base","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_b2,_b3,_b4,_b5,_b6,win,_b7,_b8,_b9,_ba,_bb,_bc,_bd,_be,res,_bf){_b2.experimental("dojox.form.Uploader");_b3("dojox.form.Uploader",[_be,_bd],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",uploadType:"form",showInput:"",_nameIndex:0,templateString:_bf,baseClass:"dijitUploader "+_bd.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_b7.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();_b9.set(this.titleNode,"tabIndex",-1);},_buildDisplay:function(){if(this.showInput){this.displayInput=dojo.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off"},this.containerNode,this.showInput);this._attachPoints.push("displayInput");this.connect(this,"onChange",function(_c0){var i=0,l=_c0.length,f,r=[];while((f=_c0[i++])){if(f&&f.name){r.push(f.name);}}this.displayInput.value=r.join(", ");});this.connect(this,"reset",function(){this.displayInput.value="";});}},startup:function(){if(this._buildInitialized){return;}this._buildInitialized=true;this._getButtonStyle(this.domNode);this._setButtonStyle();this.inherited(arguments);},onChange:function(_c1){},onBegin:function(_c2){},onProgress:function(_c3){},onComplete:function(_c4){this.reset();},onCancel:function(){},onAbort:function(){},onError:function(_c5){},upload:function(_c6){},submit:function(_c7){_c7=!!_c7?_c7.tagName?_c7:this.getForm():this.getForm();var _c8=_bb.toObject(_c7);this.upload(_c8);},reset:function(){delete this._files;this._disconnectButton();_b5.forEach(this._inputs,_ba.destroy,dojo);this._inputs=[];this._nameIndex=0;this._createInput();},getFileList:function(){var _c9=[];if(this.supports("multiple")){_b5.forEach(this._files,function(f,i){_c9.push({index:i,name:f.name,size:f.size,type:f.type});},this);}else{_b5.forEach(this._inputs,function(n,i){if(n.value){_c9.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});}},this);}return _c9;},_getValueAttr:function(){return this.getFileList();},_setValueAttr:function(_ca){console.error("Uploader value is read only");},_setDisabledAttr:function(_cb){if(this._disabled==_cb){return;}this.inherited(arguments);_b7.set(this.inputNode,"display",_cb?"none":"");},_getButtonStyle:function(_cc){this.btnSize={w:_b7.get(_cc,"width"),h:_b7.get(_cc,"height")};},_setButtonStyle:function(){this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput();},_createInput:function(){if(this._inputs.length){_b7.set(this.inputNode,{top:"500px"});this._disconnectButton();this._nameIndex++;}var _cd;if(this.supports("multiple")){_cd=this.name+"s[]";}else{_cd=this.name+(this.multiple?this._nameIndex:"");}this.focusNode=this.inputNode=_ba.create("input",{type:"file",name:_cd},this.domNode,"first");if(this.supports("multiple")&&this.multiple){_b9.set(this.inputNode,"multiple",true);}this._inputs.push(this.inputNode);_b7.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton();},_connectButton:function(){this._cons.push(_b6.connect(this.inputNode,"change",this,function(evt){this._files=this.inputNode.files;this.onChange(this.getFileList(evt));if(!this.supports("multiple")&&this.multiple){this._createInput();}}));if(this.tabIndex>-1){this.inputNode.tabIndex=this.tabIndex;this._cons.push(_b6.connect(this.inputNode,"focus",this,function(){this.titleNode.style.outline="1px dashed #ccc";}));this._cons.push(_b6.connect(this.inputNode,"blur",this,function(){this.titleNode.style.outline="";}));}},_disconnectButton:function(){_b5.forEach(this._cons,_b6.disconnect);this._cons.splice(0,this._cons.length);}});dojox.form.UploaderOrg=dojox.form.Uploader;var _ce=[dojox.form.UploaderOrg];dojox.form.addUploaderPlugin=function(_cf){_ce.push(_cf);_b3("dojox.form.Uploader",_ce,{});};return dojox.form.Uploader;});},"dojox/html/metrics":function(){define("dojox/html/metrics",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_d0,_d1,has,_d2,_d3,_d4,_d5){var dhm=_d1.getObject("dojox.html.metrics",true);var _d6=_d1.getObject("dojox");dhm.getFontMeasurements=function(){var _d7={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};if(has("ie")){_d4.doc.documentElement.style.fontSize="100%";}var div=_d4.doc.createElement("div");var ds=div.style;ds.position="absolute";ds.left="-100px";ds.top="0";ds.width="30px";ds.height="1000em";ds.borderWidth="0";ds.margin="0";ds.padding="0";ds.outline="0";ds.lineHeight="1";ds.overflow="hidden";_d4.body().appendChild(div);for(var p in _d7){ds.fontSize=p;_d7[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}_d4.body().removeChild(div);div=null;return _d7;};var _d8=null;dhm.getCachedFontMeasurements=function(_d9){if(_d9||!_d8){_d8=dhm.getFontMeasurements();}return _d8;};var _da=null,_db={};dhm.getTextBox=function(_dc,_dd,_de){var m,s;if(!_da){m=_da=_d4.doc.createElement("div");var c=_d4.doc.createElement("div");c.appendChild(m);s=c.style;s.overflow="scroll";s.position="absolute";s.left="0px";s.top="-10000px";s.width="1px";s.height="1px";s.visibility="hidden";s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";_d4.body().appendChild(c);}else{m=_da;}m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(arguments.length>1&&_dd){for(var i in _dd){if(i in _db){continue;}s[i]=_dd[i];}}if(arguments.length>2&&_de){m.className=_de;}m.innerHTML=_dc;var box=_d5.position(m);box.w=m.parentNode.scrollWidth;return box;};var _df={w:16,h:16};dhm.getScrollbar=function(){return{w:_df.w,h:_df.h};};dhm._fontResizeNode=null;dhm.initOnFontResize=function(_e0){var f=dhm._fontResizeNode=_d4.doc.createElement("iframe");var fs=f.style;fs.position="absolute";fs.width="5em";fs.height="10em";fs.top="-10000px";fs.display="none";if(has("ie")){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onresize=f.contentWindow.parent[_d6._scopeName].html.metrics._fontresize;}};}else{f.onload=function(){f.contentWindow.onresize=f.contentWindow.parent[_d6._scopeName].html.metrics._fontresize;};}f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");_d4.body().appendChild(f);dhm.initOnFontResize=function(){};};dhm.onFontResize=function(){};dhm._fontresize=function(){dhm.onFontResize();};_d3.addOnUnload(function(){var f=dhm._fontResizeNode;if(f){if(has("ie")&&f.onresize){f.onresize=null;}else{if(f.contentWindow&&f.contentWindow.onresize){f.contentWindow.onresize=null;}}dhm._fontResizeNode=null;}});_d2(function(){try{var n=_d4.doc.createElement("div");n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";_d4.body().appendChild(n);_df.w=n.offsetWidth-n.clientWidth;_df.h=n.offsetHeight-n.clientHeight;_d4.body().removeChild(n);delete n;}catch(e){}if("fontSizeWatch" in _d0.config&&!!_d0.config.fontSizeWatch){dhm.initOnFontResize();}});return dhm;});},"dojox/charting/themes/Julie":function(){define("dojox/charting/themes/Julie",["../Theme","dojox/gfx/gradutils","./common"],function(_e1,_e2){var _e3=dojox.charting.themes,g=_e1.generateGradient,_e4={type:"linear",space:"shape",x1:0,y1:0,x2:0,y2:100};_e3.Julie=new _e1({seriesThemes:[{fill:g(_e4,"#59a0bd","#497c91"),stroke:{color:"#22627d"}},{fill:g(_e4,"#8d88c7","#6c6d8e"),stroke:{color:"#8a84c5"}},{fill:g(_e4,"#85a54a","#768b4e"),stroke:{color:"#5b6d1f"}},{fill:g(_e4,"#e8e667","#c6c361"),stroke:{color:"#918e38"}},{fill:g(_e4,"#e9c756","#c7a223"),stroke:{color:"#947b30"}},{fill:g(_e4,"#a05a5a","#815454"),stroke:{color:"#572828"}},{fill:g(_e4,"#b17044","#72543e"),stroke:{color:"#74482e"}},{fill:g(_e4,"#a5a5a5","#727272"),stroke:{color:"#535353"}},{fill:g(_e4,"#9dc7d9","#59a0bd"),stroke:{color:"#22627d"}},{fill:g(_e4,"#b7b3da","#8681b3"),stroke:{color:"#8a84c5"}},{fill:g(_e4,"#a8c179","#85a54a"),stroke:{color:"#5b6d1f"}},{fill:g(_e4,"#eeea99","#d6d456"),stroke:{color:"#918e38"}},{fill:g(_e4,"#ebcf81","#e9c756"),stroke:{color:"#947b30"}},{fill:g(_e4,"#c99999","#a05a5a"),stroke:{color:"#572828"}},{fill:g(_e4,"#c28b69","#7d5437"),stroke:{color:"#74482e"}},{fill:g(_e4,"#bebebe","#8c8c8c"),stroke:{color:"#535353"}},{fill:g(_e4,"#c7e0e9","#92baca"),stroke:{color:"#22627d"}},{fill:g(_e4,"#c9c6e4","#ada9d6"),stroke:{color:"#8a84c5"}},{fill:g(_e4,"#c0d0a0","#98ab74"),stroke:{color:"#5b6d1f"}},{fill:g(_e4,"#f0eebb","#dcd87c"),stroke:{color:"#918e38"}},{fill:g(_e4,"#efdeb0","#ebcf81"),stroke:{color:"#947b30"}},{fill:g(_e4,"#ddc0c0","#c99999"),stroke:{color:"#572828"}},{fill:g(_e4,"#cfb09b","#c28b69"),stroke:{color:"#74482e"}},{fill:g(_e4,"#d8d8d8","#bebebe"),stroke:{color:"#535353"}},{fill:g(_e4,"#ddeff5","#a5c4cd"),stroke:{color:"#22627d"}},{fill:g(_e4,"#dedcf0","#b3afd3"),stroke:{color:"#8a84c5"}},{fill:g(_e4,"#dfe9ca","#c0d0a0"),stroke:{color:"#5b6d1f"}},{fill:g(_e4,"#f8f7db","#e5e28f"),stroke:{color:"#918e38"}},{fill:g(_e4,"#f7f0d8","#cfbd88"),stroke:{color:"#947b30"}},{fill:g(_e4,"#eedede","#caafaf"),stroke:{color:"#572828"}},{fill:g(_e4,"#e3cdbf","#cfb09b"),stroke:{color:"#74482e"}},{fill:g(_e4,"#efefef","#cacaca"),stroke:{color:"#535353"}}]});_e3.Julie.next=function(_e5,_e6,_e7){if(_e5=="line"||_e5=="area"){var s=this.seriesThemes[this._current%this.seriesThemes.length];s.fill.space="plot";var _e8=_e1.prototype.next.apply(this,arguments);s.fill.space="shape";return _e8;}return _e1.prototype.next.apply(this,arguments);};_e3.Julie.post=function(_e9,_ea){_e9=_e1.prototype.post.apply(this,arguments);if(_ea=="slice"&&_e9.series.fill&&_e9.series.fill.type=="radial"){_e9.series.fill=_e2.reverse(_e9.series.fill);}return _e9;};return _e3.Julie;});},"dojox/charting/plot2d/Default":function(){define("dojox/charting/plot2d/Default",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","./Base","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(_eb,_ec,arr,_ed,dc,df,dfr,du,fx){var _ee=dfr.lambda("item.purgeGroup()");var _ef=1200;return _ec("dojox.charting.plot2d.Default",_ed,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,tension:"",animate:false,enableCache:false},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_f0,_f1){this.opt=_eb.clone(this.defaultParams);du.updateWithObject(this.opt,_f1);du.updateWithPattern(this.opt,_f1,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},createPath:function(run,_f2,_f3){var _f4;if(this.opt.enableCache&&run._pathFreePool.length>0){_f4=run._pathFreePool.pop();_f4.setShape(_f3);_f2.add(_f4);}else{_f4=_f2.createPath(_f3);}if(this.opt.enableCache){run._pathUsePool.push(_f4);}return _f4;},render:function(dim,_f5){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_f5);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_ee);this._eventSeries={};this.cleanGroup();this.group.setTransform(null);var s=this.group;df.forEachRev(this.series,function(_f6){_f6.cleanGroup(s);});}var t=this.chart.theme,_f7,_f8,_f9,_fa=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._pathFreePool=(run._pathFreePool?run._pathFreePool:[]).concat(run._pathUsePool?run._pathUsePool:[]);run._pathUsePool=[];}if(!run.data.length){run.dirty=false;t.skip();continue;}var _fb=t.next(this.opt.areas?"area":"line",[this.opt,run],true),s=run.group,_fc=[],_fd=[],_fe=null,_ff,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_100=this._eventSeries[run.name]=new Array(run.data.length);var _101=typeof run.data[0]=="number";var min=_101?Math.max(0,Math.floor(this._hScaler.bounds.from-1)):0,max=_101?Math.min(run.data.length,Math.ceil(this._hScaler.bounds.to)):run.data.length;for(var j=min;j<max;j++){if(run.data[j]!=null){if(!_fe){_fe=[];_fd.push(j);_fc.push(_fe);}_fe.push(run.data[j]);}else{_fe=null;}}for(var seg=0;seg<_fc.length;seg++){if(typeof _fc[seg][0]=="number"){_ff=arr.map(_fc[seg],function(v,i){return{x:ht(i+_fd[seg]+1)+_f5.l,y:dim.height-_f5.b-vt(v)};},this);}else{_ff=arr.map(_fc[seg],function(v,i){return{x:ht(v.x)+_f5.l,y:dim.height-_f5.b-vt(v.y)};},this);}var _102=this.opt.tension?dc.curve(_ff,this.opt.tension):"";if(this.opt.areas&&_ff.length>1){var fill=_fb.series.fill;var _103=_eb.clone(_ff);if(this.opt.tension){var _104="L"+_103[_103.length-1].x+","+(dim.height-_f5.b)+" L"+_103[0].x+","+(dim.height-_f5.b)+" L"+_103[0].x+","+_103[0].y;run.dyn.fill=s.createPath(_102+" "+_104).setFill(fill).getFill();}else{_103.push({x:_ff[_ff.length-1].x,y:dim.height-_f5.b});_103.push({x:_ff[0].x,y:dim.height-_f5.b});_103.push(_ff[0]);run.dyn.fill=s.createPolyline(_103).setFill(fill).getFill();}}if(this.opt.lines||this.opt.markers){_f7=_fb.series.stroke;if(_fb.series.outline){_f8=run.dyn.outline=dc.makeStroke(_fb.series.outline);_f8.width=2*_f8.width+_f7.width;}}if(this.opt.markers){run.dyn.marker=_fb.symbol;}var _105=null,_106=null,_107=null;if(_f7&&_fb.series.shadow&&_ff.length>1){var _108=_fb.series.shadow,_109=arr.map(_ff,function(c){return{x:c.x+_108.dx,y:c.y+_108.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_109,this.opt.tension)).setStroke(_108).getStroke();}else{run.dyn.shadow=s.createPolyline(_109).setStroke(_108).getStroke();}}if(this.opt.markers&&_fb.marker.shadow){_108=_fb.marker.shadow;_107=arr.map(_109,function(c){return this.createPath(run,s,"M"+c.x+" "+c.y+" "+_fb.symbol).setStroke(_108).setFill(_108.color);},this);}}if(this.opt.lines&&_ff.length>1){if(_f8){if(this.opt.tension){run.dyn.outline=s.createPath(_102).setStroke(_f8).getStroke();}else{run.dyn.outline=s.createPolyline(_ff).setStroke(_f8).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_102).setStroke(_f7).getStroke();}else{run.dyn.stroke=s.createPolyline(_ff).setStroke(_f7).getStroke();}}if(this.opt.markers){_105=new Array(_ff.length);_106=new Array(_ff.length);_f8=null;if(_fb.marker.outline){_f8=dc.makeStroke(_fb.marker.outline);_f8.width=2*_f8.width+(_fb.marker.stroke?_fb.marker.stroke.width:0);}arr.forEach(_ff,function(c,i){var path="M"+c.x+" "+c.y+" "+_fb.symbol;if(_f8){_106[i]=this.createPath(run,s,path).setStroke(_f8);}_105[i]=this.createPath(run,s,path).setStroke(_fb.marker.stroke).setFill(_fb.marker.fill);},this);run.dyn.markerFill=_fb.marker.fill;run.dyn.markerStroke=_fb.marker.stroke;if(_fa){arr.forEach(_105,function(s,i){var o={element:"marker",index:i+_fd[seg],run:run,shape:s,outline:_106[i]||null,shadow:_107&&_107[i]||null,cx:_ff[i].x,cy:_ff[i].y};if(typeof _fc[seg][0]=="number"){o.x=i+_fd[seg]+1;o.y=_fc[seg][i];}else{o.x=_fc[seg][i].x;o.y=_fc[seg][i].y;}this._connectEvents(o);_100[i+_fd[seg]]=o;},this);}else{delete this._eventSeries[run.name];}}}run.dirty=false;}if(this.animate){var _10a=this.group;fx.animateTransform(_eb.delegate({shape:_10a,duration:_ef,transform:[{name:"translate",start:[0,dim.height-_f5.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();}this.dirty=false;return this;}});});},"dojox/lang/functional":function(){define("dojox/lang/functional",["./functional/lambda","./functional/array","./functional/object"],function(df){return df;});},"dojox/html/_base":function(){define("dojox/html/_base",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/xhr","dojo/_base/window","dojo/_base/sniff","dojo/_base/url","dojo/dom-construct","dojo/html","dojo/_base/declare"],function(dojo,lang,_10b,_10c,has,_10d,_10e,_10f){var html=dojo.getObject("dojox.html",true);if(has("ie")){var _110=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _111=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _112=html._adjustCssPaths=function(_113,_114){if(!_114||!_113){return;}if(_110){_114=_114.replace(_110,function(_115,pre,_116,url,post){return pre+(new _10d(_113,"./"+url).toString())+post;});}return _114.replace(_111,function(_117,_118,_119,_11a,_11b,_11c){if(_119){return'@import "'+(new _10d(_113,"./"+_119).toString())+'"'+_11c;}else{return"url("+(new _10d(_113,"./"+_11b).toString())+")"+_11c;}});};var _11d=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _11e=html._adjustHtmlPaths=function(_11f,cont){var url=_11f||"./";return cont.replace(_11d,function(tag,_120,name,_121,_122,_123,_124,end){return _120+(name?(name+"="+_121+(new _10d(url,_122).toString())+_121):("style="+_123+_112(url,_124)+_123))+end;});};var _125=html._snarfStyles=function(_126,cont,_127){_127.attributes=[];return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_128,_129,_12a,_12b,_12c,href){var i,attr=(_129||_12b||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_12a){i=_127.push(_126?_112(_126,_12a):_12a);}else{i=_127.push('@import "'+href+'";');attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var _12d={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");_12d[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_127.attributes[i-1]=_12d;}return"";});};var _12e=html._snarfScripts=function(cont,_12f){_12f.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_130){return _130.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _131(src){if(_12f.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case"amp":return"&";case"gt":return">";case"lt":return"<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_10b.get({url:src,sync:true,load:function(code){_12f.code+=code+";";},error:_12f.errBack});}}return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_132,_133,src,code){if(src){_131(src);}else{_12f.code+=code;}return"";});};var _134=html.evalInGlobal=function(code,_135){_135=_135||_10c.doc.body;var n=_135.ownerDocument.createElement("script");n.type="text/javascript";_135.appendChild(n);n.text=code;};html._ContentSetter=dojo.declare(_10f._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_136){this._styleNodes=[];var st,att,_137,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_136.length;i<e;i++){_137=_136[i];att=_136.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_137;}else{st.appendChild(doc.createTextNode(_137));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _138=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_11e(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_125(this.referencePath,cont,_138);}if(this.executeScripts){var _139=this;var _13a={downloadRemote:true,errBack:function(e){_139._onError.call(_139,"Exec",'Error downloading remote script in "'+_139.id+'"',e);}};cont=_12e(cont,_13a);this._code=_13a.code;}}this.content=cont;},onEnd:function(){var code=this._code,_13b=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_10e.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_13b&&_13b.length){this._renderStyles(_13b);}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_134(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}this.inherited("onEnd",arguments);},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_10e.destroy(this._styleNodes.pop());}}delete this._styleNodes;dojo.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_13c){if(!_13c){return _10f._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(dojo.mixin(_13c,{content:cont,node:node}));return op.set();}};return html;});},"dojox/grid/enhanced/_Plugin":function(){define("dojox/grid/enhanced/_Plugin",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","../EnhancedGrid"],function(dojo,lang,_13d,_13e,_13f){return _13d("dojox.grid.enhanced._Plugin",null,{name:"plugin",grid:null,option:{},_connects:[],_subscribes:[],privates:{},constructor:function(_140,_141){this.grid=_140;this.option=_141;this._connects=[];this._subscribes=[];this.privates=lang.mixin({},dojox.grid.enhanced._Plugin.prototype);this.init();},init:function(){},onPreInit:function(){},onPostInit:function(){},onStartUp:function(){},connect:function(obj,_142,_143){var conn=_13f.connect(obj,_142,this,_143);this._connects.push(conn);return conn;},disconnect:function(_144){_13e.some(this._connects,function(conn,i,_145){if(conn==_144){_13f.disconnect(_144);_145.splice(i,1);return true;}return false;});},subscribe:function(_146,_147){var _148=_13f.subscribe(_146,this,_147);this._subscribes.push(_148);return _148;},unsubscribe:function(_149){_13e.some(this._subscribes,function(_14a,i,_14b){if(_14a==_149){_13f.unsubscribe(_149);_14b.splice(i,1);return true;}return false;});},onSetStore:function(_14c){},destroy:function(){_13e.forEach(this._connects,_13f.disconnect);_13e.forEach(this._subscribes,_13f.unsubscribe);delete this._connects;delete this._subscribes;delete this.option;delete this.privates;}});});},"dojox/grid/_RowSelector":function(){define("dojox/grid/_RowSelector",["dojo/_base/declare","./_View"],function(_14d,_14e){return _14d("dojox.grid._RowSelector",_14e,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_14f,_150){var w=this.contentWidth||0;_150.innerHTML='<table class="dojoxGridRowbarTable" style="width:'+w+'px;height:1px;" border="0" cellspacing="0" cellpadding="0" role="presentation"><tr><td class="dojoxGridRowbarInner">&nbsp;</td></tr></table>';},renderHeader:function(){},updateRow:function(){},resize:function(){this.adaptHeight();},adaptWidth:function(){if(!("contentWidth" in this)&&this.contentNode){this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;}},doStyleRowNode:function(_151,_152){var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];if(this.grid.rows.isOver(_151)){n.push("dojoxGridRowbarOver");}if(this.grid.selection.isSelected(_151)){n.push("dojoxGridRowbarSelected");}_152.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});});},"dojox/form/uploader/Base":function(){define("dojox/form/uploader/Base",["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_153,_154,_155,_156,has,_157,_158,_159,_15a,_15b){has.add("FormData",function(){return !!window.FormData;});has.add("xhr-sendAsBinary",function(){var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();return xhr&&!!xhr.sendAsBinary;});has.add("file-multiple",function(){return !!({"true":1,"false":1}[_156.get(document.createElement("input",{type:"file"}),"multiple")]);});return _157("dojox.form.uploader.Base",[_159,_15a,_15b],{getForm:function(){if(!this.form){var n=this.domNode;while(n&&n.tagName&&n!==document.body){if(n.tagName.toLowerCase()=="form"){this.form=n;break;}n=n.parentNode;}}return this.form;},getUrl:function(){if(this.uploadUrl){this.url=this.uploadUrl;}if(this.url){return this.url;}if(this.getForm()){this.url=this.form.action;}return this.url;},connectForm:function(){this.url=this.getUrl();if(!this._fcon&&!!this.getForm()){this._fcon=true;this.connect(this.form,"onsubmit",function(evt){_158.stop(evt);this.submit(this.form);});}},supports:function(what){switch(what){case"multiple":if(this.force=="flash"||this.force=="iframe"){return false;}return has("file-multiple");case"FormData":return has(what);case"sendAsBinary":return has("xhr-sendAsBinary");}return false;},getMimeType:function(){return"application/octet-stream";},getFileType:function(name){return name.substring(name.lastIndexOf(".")+1).toUpperCase();},convertBytes:function(_15c){var kb=Math.round(_15c/1024*100000)/100000;var mb=Math.round(_15c/1048576*100000)/100000;var gb=Math.round(_15c/1073741824*100000)/100000;var _15d=_15c;if(kb>1){_15d=kb.toFixed(1)+" kb";}if(mb>1){_15d=mb.toFixed(1)+" mb";}if(gb>1){_15d=gb.toFixed(1)+" gb";}return{kb:kb,mb:mb,gb:gb,bytes:_15c,value:_15d};}});});},"dojox/charting/plot2d/Scatter":function(){define("dojox/charting/plot2d/Scatter",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Base","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx","dojox/gfx/gradutils"],function(lang,arr,_15e,Base,dc,df,dfr,du,fx,_15f){var _160=dfr.lambda("item.purgeGroup()");return _15e("dojox.charting.plot2d.Scatter",Base,{defaultParams:{hAxis:"x",vAxis:"y",shadows:null,animate:null},optionalParams:{markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_161,_162){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_162);du.updateWithPattern(this.opt,_162,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_163){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_163);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_160);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_164=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _165=t.next("marker",[this.opt,run]),s=run.group,_166,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);if(typeof run.data[0]=="number"){_166=arr.map(run.data,function(v,i){return{x:ht(i+1)+_163.l,y:dim.height-_163.b-vt(v)};},this);}else{_166=arr.map(run.data,function(v,i){return{x:ht(v.x)+_163.l,y:dim.height-_163.b-vt(v.y)};},this);}var _167=new Array(_166.length),_168=new Array(_166.length),_169=new Array(_166.length);arr.forEach(_166,function(c,i){var _16a=typeof run.data[i]=="number"?t.post(_165,"marker"):t.addMixin(_165,"marker",run.data[i],true),path="M"+c.x+" "+c.y+" "+_16a.symbol;if(_16a.marker.shadow){_167[i]=s.createPath("M"+(c.x+_16a.marker.shadow.dx)+" "+(c.y+_16a.marker.shadow.dy)+" "+_16a.symbol).setStroke(_16a.marker.shadow).setFill(_16a.marker.shadow.color);if(this.animate){this._animateScatter(_167[i],dim.height-_163.b);}}if(_16a.marker.outline){var _16b=dc.makeStroke(_16a.marker.outline);_16b.width=2*_16b.width+_16a.marker.stroke.width;_169[i]=s.createPath(path).setStroke(_16b);if(this.animate){this._animateScatter(_169[i],dim.height-_163.b);}}var _16c=dc.makeStroke(_16a.marker.stroke),fill=this._plotFill(_16a.marker.fill,dim,_163);if(fill&&(fill.type==="linear"||fill.type=="radial")){var _16d=_15f.getColor(fill,{x:c.x,y:c.y});if(_16c){_16c.color=_16d;}_168[i]=s.createPath(path).setStroke(_16c).setFill(_16d);}else{_168[i]=s.createPath(path).setStroke(_16c).setFill(fill);}if(this.animate){this._animateScatter(_168[i],dim.height-_163.b);}},this);if(_168.length){run.dyn.stroke=_168[_168.length-1].getStroke();run.dyn.fill=_168[_168.length-1].getFill();}if(_164){var _16e=new Array(_168.length);arr.forEach(_168,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_169&&_169[i]||null,shadow:_167&&_167[i]||null,cx:_166[i].x,cy:_166[i].y};if(typeof run.data[0]=="number"){o.x=i+1;o.y=run.data[i];}else{o.x=run.data[i].x;o.y=run.data[i].y;}this._connectEvents(o);_16e[i]=o;},this);this._eventSeries[run.name]=_16e;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;return this;},_animateScatter:function(_16f,_170){fx.animateTransform(lang.delegate({shape:_16f,duration:1200,transform:[{name:"translate",start:[0,_170],end:[0,0]},{name:"scale",start:[0,0],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/action2d/Base":function(){define("dojox/charting/action2d/Base",["dojo/_base/lang","dojo/_base/declare"],function(lang,_171){return _171("dojox.charting.action2d.Base",null,{constructor:function(_172,plot){this.chart=_172;this.plot=plot?(lang.isString(plot)?this.chart.getPlot(plot):plot):this.chart.getPlot("default");},connect:function(){},disconnect:function(){},destroy:function(){this.disconnect();}});});},"dojox/charting/widget/Chart":function(){define("dojox/charting/widget/Chart",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/html","dojo/_base/declare","dojo/query","dijit/_Widget","../Chart","dojox/lang/utils","dojox/lang/functional","dojox/lang/functional/lambda","dijit/_base/manager"],function(_173,lang,arr,html,_174,_175,_176,_177,du,df,dfl){var _178,_179,_17a,_17b,_17c,_17d=function(o){return o;},dc=lang.getObject("dojox.charting");var _17e=_174("dojox.charting.widget.Chart",_176,{theme:null,margins:null,stroke:undefined,fill:undefined,buildRendering:function(){this.inherited(arguments);n=this.domNode;var axes=_175("> .axis",n).map(_179).filter(_17d),_17f=_175("> .plot",n).map(_17a).filter(_17d),_180=_175("> .action",n).map(_17b).filter(_17d),_181=_175("> .series",n).map(_17c).filter(_17d);n.innerHTML="";var c=this.chart=new _177(n,{margins:this.margins,stroke:this.stroke,fill:this.fill,textDir:this.textDir});if(this.theme){c.setTheme(this.theme);}axes.forEach(function(axis){c.addAxis(axis.name,axis.kwArgs);});_17f.forEach(function(plot){c.addPlot(plot.name,plot.kwArgs);});this.actions=_180.map(function(_182){return new _182.action(c,_182.plot,_182.kwArgs);});var _183=df.foldl(_181,function(_184,_185){if(_185.type=="data"){c.addSeries(_185.name,_185.data,_185.kwArgs);_184=true;}else{c.addSeries(_185.name,[0],_185.kwArgs);var kw={};du.updateWithPattern(kw,_185.kwArgs,{"query":"","queryOptions":null,"start":0,"count":1},true);if(_185.kwArgs.sort){kw.sort=lang.clone(_185.kwArgs.sort);}lang.mixin(kw,{onComplete:function(data){var _186;if("valueFn" in _185.kwArgs){var fn=_185.kwArgs.valueFn;_186=arr.map(data,function(x){return fn(_185.data.getValue(x,_185.field,0));});}else{_186=arr.map(data,function(x){return _185.data.getValue(x,_185.field,0);});}c.addSeries(_185.name,_186,_185.kwArgs).render();}});_185.data.fetch(kw);}return _184;},false);if(_183){c.render();}},destroy:function(){this.chart.destroy();this.inherited(arguments);},resize:function(box){this.chart.resize(box);}});_178=function(node,type,kw){var dp=eval("("+type+".prototype.defaultParams)");var x,attr;for(x in dp){if(x in kw){continue;}attr=node.getAttribute(x);kw[x]=du.coerceType(dp[x],attr==null||typeof attr=="undefined"?dp[x]:attr);}var op=eval("("+type+".prototype.optionalParams)");for(x in op){if(x in kw){continue;}attr=node.getAttribute(x);if(attr!=null){kw[x]=du.coerceType(op[x],attr);}}};_179=function(node){var name=node.getAttribute("name"),type=node.getAttribute("type");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.axis2d[type]){type=dojo._scopeName+"x.charting.axis2d."+type;}var axis=eval("("+type+")");if(axis){kw.type=axis;}}else{type=dojo._scopeName+"x.charting.axis2d.Default";}_178(node,type,kw);if(kw.font||kw.fontColor){if(!kw.tick){kw.tick={};}if(kw.font){kw.tick.font=kw.font;}if(kw.fontColor){kw.tick.fontColor=kw.fontColor;}}return o;};_17a=function(node){var name=node.getAttribute("name"),type=node.getAttribute("type");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.plot2d&&dc.plot2d[type]){type=dojo._scopeName+"x.charting.plot2d."+type;}var plot=eval("("+type+")");if(plot){kw.type=plot;}}else{type=dojo._scopeName+"x.charting.plot2d.Default";}_178(node,type,kw);return o;};_17b=function(node){var plot=node.getAttribute("plot"),type=node.getAttribute("type");if(!plot){plot="default";}var o={plot:plot,kwArgs:{}},kw=o.kwArgs;if(type){if(dc.action2d[type]){type=dojo._scopeName+"x.charting.action2d."+type;}var _187=eval("("+type+")");if(!_187){return null;}o.action=_187;}else{return null;}_178(node,type,kw);return o;};_17c=function(node){var ga=lang.partial(html.attr,node);var name=ga("name");if(!name){return null;}var o={name:name,kwArgs:{}},kw=o.kwArgs,t;t=ga("plot");if(t!=null){kw.plot=t;}t=ga("marker");if(t!=null){kw.marker=t;}t=ga("stroke");if(t!=null){kw.stroke=eval("("+t+")");}t=ga("outline");if(t!=null){kw.outline=eval("("+t+")");}t=ga("shadow");if(t!=null){kw.shadow=eval("("+t+")");}t=ga("fill");if(t!=null){kw.fill=eval("("+t+")");}t=ga("font");if(t!=null){kw.font=t;}t=ga("fontColor");if(t!=null){kw.fontColor=eval("("+t+")");}t=ga("legend");if(t!=null){kw.legend=t;}t=ga("data");if(t!=null){o.type="data";o.data=t?arr.map(String(t).split(","),Number):[];return o;}t=ga("array");if(t!=null){o.type="data";o.data=eval("("+t+")");return o;}t=ga("store");if(t!=null){o.type="store";o.data=eval("("+t+")");t=ga("field");o.field=t!=null?t:"value";t=ga("query");if(!!t){kw.query=t;}t=ga("queryOptions");if(!!t){kw.queryOptions=eval("("+t+")");}t=ga("start");if(!!t){kw.start=Number(t);}t=ga("count");if(!!t){kw.count=Number(t);}t=ga("sort");if(!!t){kw.sort=eval("("+t+")");}t=ga("valueFn");if(!!t){kw.valueFn=dfl.lambda(t);}return o;}return null;};return _17e;});},"dojox/storage/Provider":function(){define("dojox/storage/Provider",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_188,_189,lang){return _189("dojox.storage.Provider",null,{constructor:function(){},SUCCESS:"success",FAILED:"failed",PENDING:"pending",SIZE_NOT_AVAILABLE:"Size not available",SIZE_NO_LIMIT:"No size limit",DEFAULT_NAMESPACE:"default",onHideSettingsUI:null,initialize:function(){},isAvailable:function(){},put:function(key,_18a,_18b,_18c){},get:function(key,_18d){},hasKey:function(key,_18e){return !!this.get(key,_18e);},getKeys:function(_18f){},clear:function(_190){},remove:function(key,_191){},getNamespaces:function(){},isPermanent:function(){},getMaximumSize:function(){},putMultiple:function(keys,_192,_193,_194){for(var i=0;i<keys.length;i++){dojox.storage.put(keys[i],_192[i],_193,_194);}},getMultiple:function(keys,_195){var _196=[];for(var i=0;i<keys.length;i++){_196.push(dojox.storage.get(keys[i],_195));}return _196;},removeMultiple:function(keys,_197){for(var i=0;i<keys.length;i++){dojox.storage.remove(keys[i],_197);}},isValidKeyArray:function(keys){if(keys===null||keys===undefined||!lang.isArray(keys)){return false;}return !_188.some(keys,function(key){return !this.isValidKey(key);},this);},hasSettingsUI:function(){return false;},showSettingsUI:function(){},hideSettingsUI:function(){},isValidKey:function(_198){if(_198===null||_198===undefined){return false;}return/^[0-9A-Za-z_]*$/.test(_198);},getResourceList:function(){return[];}});});},"dojox/charting/plot2d/StackedBars":function(){define("dojox/charting/plot2d/StackedBars",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Bars","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/functional/sequence"],function(lang,arr,_199,Bars,dc,df,dfr,dfs){var _19a=dfr.lambda("item.purgeGroup()");return _199("dojox.charting.plot2d.StackedBars",Bars,{getSeriesStats:function(){var _19b=dc.collectStackedStats(this.series),t;this._maxRunLength=_19b.hmax;_19b.hmin-=0.5;_19b.hmax+=0.5;t=_19b.hmin,_19b.hmin=_19b.vmin,_19b.vmin=t;t=_19b.hmax,_19b.hmax=_19b.vmax,_19b.vmax=t;return _19b;},render:function(dim,_19c){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _19d=run.data[j];if(_19d!==null){var v=typeof _19d=="number"?_19d:_19d.y;if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_19c);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_19a);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_19e,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_19f=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_19e=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _1a0=t.next("bar",[this.opt,run]),s=run.group,_1a1=new Array(acc.length);for(var j=0;j<acc.length;++j){var _19d=run.data[j];if(_19d!==null){var v=acc[j],_1a2=ht(v),_1a3=typeof _19d!="number"?t.addMixin(_1a0,"bar",_19d,true):t.post(_1a0,"bar");if(_1a2>=0&&_19e>=1){var rect={x:_19c.l,y:dim.height-_19c.b-vt(j+1.5)+gap,width:_1a2,height:_19e};var _1a4=this._plotFill(_1a3.series.fill,dim,_19c);_1a4=this._shapeFill(_1a4,rect);var _1a5=s.createRect(rect).setFill(_1a4).setStroke(_1a3.series.stroke);run.dyn.fill=_1a5.getFill();run.dyn.stroke=_1a5.getStroke();if(_19f){var o={element:"bar",index:j,run:run,shape:_1a5,x:v,y:j+1.5};this._connectEvents(o);_1a1[j]=o;}if(this.animate){this._animateBar(_1a5,_19c.l,-_1a2);}}}}this._eventSeries[run.name]=_1a1;run.dirty=false;for(var j=0;j<run.data.length;++j){var _19d=run.data[j];if(_19d!==null){var v=typeof _19d=="number"?_19d:_19d.y;if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});});},"dojox/grid/_Layout":function(){define("dojox/grid/_Layout",["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","./cells","./_RowSelector"],function(dojo,_1a6,_1a7,_1a8,lang,_1a9){return _1a7("dojox.grid._Layout",null,{constructor:function(_1aa){this.grid=_1aa;},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_1ab,_1ac,_1ad,_1ae,_1af){var _1b0=this.structure[_1ab].cells[0];var _1b1=this.structure[_1ac].cells[0];var cell=null;var _1b2=0;var _1b3=0;for(var i=0,c;c=_1b0[i];i++){if(c.index==_1ad){_1b2=i;break;}}cell=_1b0.splice(_1b2,1)[0];cell.view=this.grid.views.views[_1ac];for(i=0,c=null;c=_1b1[i];i++){if(c.index==_1ae){_1b3=i;break;}}if(!_1af){_1b3+=1;}_1b1.splice(_1b3,0,cell);var _1b4=this.grid.getCell(this.grid.getSortIndex());if(_1b4){_1b4._currentlySorted=this.grid.getSortAsc();}this.cells=[];_1ad=0;var v;for(i=0;v=this.structure[i];i++){for(var j=0,cs;cs=v.cells[j];j++){for(var k=0;c=cs[k];k++){c.index=_1ad;this.cells.push(c);if("_currentlySorted" in c){var si=_1ad+1;si*=c._currentlySorted?1:-1;this.grid.sortInfo=si;delete c._currentlySorted;}_1ad++;}}}_1a8.forEach(this.cells,function(c){var _1b5=c.markup[2].split(" ");var _1b6=parseInt(_1b5[1].substring(5));if(_1b6!=c.index){_1b5[1]='idx="'+c.index+'"';c.markup[2]=_1b5.join(" ");}});this.grid.setupHeaderMenu();},setColumnVisibility:function(_1b7,_1b8){var cell=this.cells[_1b7];if(cell.hidden==_1b8){cell.hidden=!_1b8;var v=cell.view,w=v.viewWidth;if(w&&w!="auto"){v._togglingColumn=_1a9.getMarginBox(cell.getHeaderNode()).w||0;}v.update();return true;}else{return false;}},addCellDef:function(_1b9,_1ba,_1bb){var self=this;var _1bc=function(_1bd){var w=0;if(_1bd.colSpan>1){w=0;}else{w=_1bd.width||self._defaultCellProps.width||self.defaultWidth;if(!isNaN(w)){w=w+"em";}}return w;};var _1be={grid:this.grid,subrow:_1b9,layoutIndex:_1ba,index:this.cells.length};if(_1bb&&_1bb instanceof _1a6.grid.cells._Base){var _1bf=lang.clone(_1bb);_1be.unitWidth=_1bc(_1bf._props);_1bf=lang.mixin(_1bf,this._defaultCellProps,_1bb._props,_1be);return _1bf;}var _1c0=_1bb.type||_1bb.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||_1a6.grid.cells.Cell;if(lang.isString(_1c0)){_1c0=lang.getObject(_1c0);}_1be.unitWidth=_1bc(_1bb);return new _1c0(lang.mixin({},this._defaultCellProps,_1bb,_1be));},addRowDef:function(_1c1,_1c2){var _1c3=[];var _1c4=0,_1c5=0,_1c6=true;for(var i=0,def,cell;(def=_1c2[i]);i++){cell=this.addCellDef(_1c1,i,def);_1c3.push(cell);this.cells.push(cell);if(_1c6&&cell.relWidth){_1c4+=cell.relWidth;}else{if(cell.width){var w=cell.width;if(typeof w=="string"&&w.slice(-1)=="%"){_1c5+=window.parseInt(w,10);}else{if(w=="auto"){_1c6=false;}}}}}if(_1c4&&_1c6){_1a8.forEach(_1c3,function(cell){if(cell.relWidth){cell.width=cell.unitWidth=((cell.relWidth/_1c4)*(100-_1c5))+"%";}});}return _1c3;},addRowsDef:function(_1c7){var _1c8=[];if(lang.isArray(_1c7)){if(lang.isArray(_1c7[0])){for(var i=0,row;_1c7&&(row=_1c7[i]);i++){_1c8.push(this.addRowDef(i,row));}}else{_1c8.push(this.addRowDef(0,_1c7));}}return _1c8;},addViewDef:function(_1c9){this._defaultCellProps=_1c9.defaultCell||{};if(_1c9.width&&_1c9.width=="auto"){delete _1c9.width;}return lang.mixin({},_1c9,{cells:this.addRowsDef(_1c9.rows||_1c9.cells)});},setStructure:function(_1ca){this.fieldIndex=0;this.cells=[];var s=this.structure=[];if(this.grid.rowSelector){var sel={type:_1a6._scopeName+".grid._RowSelector"};if(lang.isString(this.grid.rowSelector)){var _1cb=this.grid.rowSelector;if(_1cb=="false"){sel=null;}else{if(_1cb!="true"){sel["width"]=_1cb;}}}else{if(!this.grid.rowSelector){sel=null;}}if(sel){s.push(this.addViewDef(sel));}}var _1cc=function(def){return("name" in def||"field" in def||"get" in def);};var _1cd=function(def){if(lang.isArray(def)){if(lang.isArray(def[0])||_1cc(def[0])){return true;}}return false;};var _1ce=function(def){return(def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_1cc(def))));};if(lang.isArray(_1ca)){var _1cf=false;for(var i=0,st;(st=_1ca[i]);i++){if(_1ce(st)){_1cf=true;break;}}if(!_1cf){s.push(this.addViewDef({cells:_1ca}));}else{for(i=0;(st=_1ca[i]);i++){if(_1cd(st)){s.push(this.addViewDef({cells:st}));}else{if(_1ce(st)){s.push(this.addViewDef(st));}}}}}else{if(_1ce(_1ca)){s.push(this.addViewDef(_1ca));}}this.cellCount=this.cells.length;this.grid.setupHeaderMenu();}});});},"dojox/charting/themes/PlotKit/green":function(){define("dojox/charting/themes/PlotKit/green",["./base","../../Theme"],function(pk,_1d0){pk.green=pk.base.clone();pk.green.chart.fill=pk.green.plotarea.fill="#eff5e6";pk.green.colors=_1d0.defineColors({hue:82,saturation:60,low:40,high:88});return pk.green;});},"dojox/grid/util":function(){define("dojox/grid/util",["../main","dojo/_base/lang","dojo/dom"],function(_1d1,lang,dom){var dgu=lang.getObject("grid.util",true,_1d1);dgu.na="...";dgu.rowIndexTag="gridRowIndex";dgu.gridViewTag="gridView";dgu.fire=function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());};dgu.setStyleHeightPx=function(_1d2,_1d3){if(_1d3>=0){var s=_1d2.style;var v=_1d3+"px";if(_1d2&&s["height"]!=v){s["height"]=v;}}};dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];dgu.keyEvents=["keyup","keydown","keypress"];dgu.funnelEvents=function(_1d4,_1d5,_1d6,_1d7){var evts=(_1d7?_1d7:dgu.mouseEvents.concat(dgu.keyEvents));for(var i=0,l=evts.length;i<l;i++){_1d5.connect(_1d4,"on"+evts[i],_1d6);}};dgu.removeNode=function(_1d8){_1d8=dom.byId(_1d8);_1d8&&_1d8.parentNode&&_1d8.parentNode.removeChild(_1d8);return _1d8;};dgu.arrayCompare=function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return(inA.length==inB.length);};dgu.arrayInsert=function(_1d9,_1da,_1db){if(_1d9.length<=_1da){_1d9[_1da]=_1db;}else{_1d9.splice(_1da,0,_1db);}};dgu.arrayRemove=function(_1dc,_1dd){_1dc.splice(_1dd,1);};dgu.arraySwap=function(_1de,inI,inJ){var _1df=_1de[inI];_1de[inI]=_1de[inJ];_1de[inJ]=_1df;};return _1d1.grid.util;});},"dojox/layout/GridContainerLite":function(){require({cache:{"url:dojox/layout/resources/GridContainer.html":'<div id="${id}" class="gridContainer" dojoAttachPoint="containerNode" tabIndex="0" dojoAttachEvent="onkeypress:_selectFocus">\r\n\t<div dojoAttachPoint="gridContainerDiv">\r\n\t\t<table class="gridContainerTable" dojoAttachPoint="gridContainerTable" cellspacing="0" cellpadding="0">\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr dojoAttachPoint="gridNode" >\r\n\t\t\t\t\t\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n</div>'}});define("dojox/layout/GridContainerLite",["dojo/_base/kernel","dojo/text!./resources/GridContainer.html","dojo/ready","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/text","dojo/_base/sniff","dojo/_base/html","dojox/mdnd/AreaManager","dojox/mdnd/DropIndicator","dojox/mdnd/dropMode/OverDropMode","dojox/mdnd/AutoScroll","dijit/_Templated","dijit/layout/_LayoutWidget","dijit/focus","dijit/_base/focus"],function(dojo,_1e0){var gcl=dojo.declare("dojox.layout.GridContainerLite",[dijit.layout._LayoutWidget,dijit._TemplatedMixin],{autoRefresh:true,templateString:_1e0,dragHandleClass:"dojoxDragHandle",nbZones:1,doLayout:true,isAutoOrganized:true,acceptTypes:[],colWidths:"",constructor:function(_1e1,node){this.acceptTypes=(_1e1||{}).acceptTypes||["text"];this._disabled=true;},postCreate:function(){this.inherited(arguments);this._grid=[];this._createCells();this.subscribe("/dojox/mdnd/drop","resizeChildAfterDrop");this.subscribe("/dojox/mdnd/drag/start","resizeChildAfterDragStart");this._dragManager=dojox.mdnd.areaManager();this._dragManager.autoRefresh=this.autoRefresh;this._dragManager.dragHandleClass=this.dragHandleClass;if(this.doLayout){this._border={"h":(dojo.isIE)?dojo._getBorderExtents(this.gridContainerTable).h:0,"w":(dojo.isIE==6)?1:0};}else{dojo.style(this.domNode,"overflowY","hidden");dojo.style(this.gridContainerTable,"height","auto");}this.inherited(arguments);},startup:function(){if(this._started){return;}if(this.isAutoOrganized){this._organizeChildren();}else{this._organizeChildrenManually();}dojo.forEach(this.getChildren(),function(_1e2){_1e2.startup();});if(this._isShown()){this.enableDnd();}this.inherited(arguments);},resizeChildAfterDrop:function(node,_1e3,_1e4){if(this._disabled){return false;}if(dijit.getEnclosingWidget(_1e3.node)==this){var _1e5=dijit.byNode(node);if(_1e5.resize&&dojo.isFunction(_1e5.resize)){_1e5.resize();}_1e5.set("column",node.parentNode.cellIndex);if(this.doLayout){var _1e6=this._contentBox.h,_1e7=dojo.contentBox(this.gridContainerDiv).h;if(_1e7>=_1e6){dojo.style(this.gridContainerTable,"height",(_1e6-this._border.h)+"px");}}return true;}return false;},resizeChildAfterDragStart:function(node,_1e8,_1e9){if(this._disabled){return false;}if(dijit.getEnclosingWidget(_1e8.node)==this){this._draggedNode=node;if(this.doLayout){dojo.marginBox(this.gridContainerTable,{"h":dojo.contentBox(this.gridContainerDiv).h-this._border.h});}return true;}return false;},getChildren:function(){var _1ea=[];dojo.forEach(this._grid,function(_1eb){_1ea=_1ea.concat(dojo.query("> [widgetId]",_1eb.node).map(dijit.byNode));});return _1ea;},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return(node.style.display!="none")&&(node.style.visibility!="hidden")&&!dojo.hasClass(node,"dijitHidden");}},layout:function(){if(this.doLayout){var _1ec=this._contentBox;dojo.marginBox(this.gridContainerTable,{"h":_1ec.h-this._border.h});dojo.contentBox(this.domNode,{"w":_1ec.w-this._border.w});}dojo.forEach(this.getChildren(),function(_1ed){if(_1ed.resize&&dojo.isFunction(_1ed.resize)){_1ed.resize();}});},onShow:function(){if(this._disabled){this.enableDnd();}},onHide:function(){if(!this._disabled){this.disableDnd();}},_createCells:function(){if(this.nbZones===0){this.nbZones=1;}var _1ee=this.acceptTypes.join(","),i=0;var _1ef=this.colWidths||[];var _1f0=[];var _1f1;var _1f2=0;for(i=0;i<this.nbZones;i++){if(_1f0.length<_1ef.length){_1f2+=_1ef[i];_1f0.push(_1ef[i]);}else{if(!_1f1){_1f1=(100-_1f2)/(this.nbZones-i);}_1f0.push(_1f1);}}i=0;while(i<this.nbZones){this._grid.push({"node":dojo.create("td",{"class":"gridContainerZone","accept":_1ee,"id":this.id+"_dz"+i,"style":{"width":_1f0[i]+"%"}},this.gridNode)});i++;}},_getZonesAttr:function(){return dojo.query(".gridContainerZone",this.containerNode);},enableDnd:function(){var m=this._dragManager;dojo.forEach(this._grid,function(_1f3){m.registerByNode(_1f3.node);});m._dropMode.updateAreas(m._areaList);this._disabled=false;},disableDnd:function(){var m=this._dragManager;dojo.forEach(this._grid,function(_1f4){m.unregister(_1f4.node);});m._dropMode.updateAreas(m._areaList);this._disabled=true;},_organizeChildren:function(){var _1f5=dojox.layout.GridContainerLite.superclass.getChildren.call(this);var _1f6=this.nbZones,_1f7=Math.floor(_1f5.length/_1f6),mod=_1f5.length%_1f6,i=0;for(var z=0;z<_1f6;z++){for(var r=0;r<_1f7;r++){this._insertChild(_1f5[i],z);i++;}if(mod>0){try{this._insertChild(_1f5[i],z);i++;}catch(e){console.error("Unable to insert child in GridContainer",e);}mod--;}else{if(_1f7===0){break;}}}},_organizeChildrenManually:function(){var _1f8=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_1f9=_1f8.length,_1fa;for(var i=0;i<_1f9;i++){_1fa=_1f8[i];try{this._insertChild(_1fa,_1fa.column-1);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_insertChild:function(_1fb,_1fc,p){var zone=this._grid[_1fc].node,_1fd=zone.childNodes.length;if(typeof(p)==undefined||p>_1fd){p=_1fd;}if(this._disabled){dojo.place(_1fb.domNode,zone,p);dojo.attr(_1fb.domNode,"tabIndex","0");}else{if(!_1fb.dragRestriction){this._dragManager.addDragItem(zone,_1fb.domNode,p,true);}else{dojo.place(_1fb.domNode,zone,p);dojo.attr(_1fb.domNode,"tabIndex","0");}}_1fb.set("column",_1fc);return _1fb;},removeChild:function(_1fe){if(this._disabled){this.inherited(arguments);}else{this._dragManager.removeDragItem(_1fe.domNode.parentNode,_1fe.domNode);}},addService:function(_1ff,_200,p){dojo.deprecated("addService is deprecated.","Please use  instead.","Future");this.addChild(_1ff,_200,p);},addChild:function(_201,_202,p){_201.domNode.id=_201.id;dojox.layout.GridContainerLite.superclass.addChild.call(this,_201,0);if(_202<0||_202==undefined){_202=0;}if(p<=0){p=0;}try{return this._insertChild(_201,_202,p);}catch(e){console.error("Unable to insert child in GridContainer",e);}return null;},_setColWidthsAttr:function(_203){this.colWidths=dojo.isString(_203)?_203.split(","):(dojo.isArray(_203)?_203:[_203]);if(this._started){this._updateColumnsWidth();}},_updateColumnsWidth:function(_204){var _205=this._grid.length;var _206=this.colWidths||[];var _207=[];var _208;var _209=0;var i;for(i=0;i<_205;i++){if(_207.length<_206.length){_209+=_206[i]*1;_207.push(_206[i]);}else{if(!_208){_208=(100-_209)/(this.nbZones-i);if(_208<0){_208=100/this.nbZones;}}_207.push(_208);_209+=_208*1;}}if(_209>100){var _20a=100/_209;for(i=0;i<_207.length;i++){_207[i]*=_20a;}}for(i=0;i<_205;i++){this._grid[i].node.style.width=_207[i]+"%";}},_selectFocus:function(_20b){if(this._disabled){return;}var key=_20b.keyCode,k=dojo.keys,zone=null,_20c=dijit.getFocus(),_20d=_20c.node,m=this._dragManager,_20e,i,j,r,_20f,area,_210;if(_20d==this.containerNode){area=this.gridNode.childNodes;switch(key){case k.DOWN_ARROW:case k.RIGHT_ARROW:_20e=false;for(i=0;i<area.length;i++){_20f=area[i].childNodes;for(j=0;j<_20f.length;j++){zone=_20f[j];if(zone!=null&&zone.style.display!="none"){dijit.focus(zone);dojo.stopEvent(_20b);_20e=true;break;}}if(_20e){break;}}break;case k.UP_ARROW:case k.LEFT_ARROW:area=this.gridNode.childNodes;_20e=false;for(i=area.length-1;i>=0;i--){_20f=area[i].childNodes;for(j=_20f.length;j>=0;j--){zone=_20f[j];if(zone!=null&&zone.style.display!="none"){dijit.focus(zone);dojo.stopEvent(_20b);_20e=true;break;}}if(_20e){break;}}break;}}else{if(_20d.parentNode.parentNode==this.gridNode){var _211=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"lastChild":"firstChild";var pos=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"previousSibling":"nextSibling";switch(key){case k.UP_ARROW:case k.DOWN_ARROW:dojo.stopEvent(_20b);_20e=false;var _212=_20d;while(!_20e){_20f=_212.parentNode.childNodes;var num=0;for(i=0;i<_20f.length;i++){if(_20f[i].style.display!="none"){num++;}if(num>1){break;}}if(num==1){return;}if(_212[pos]==null){zone=_212.parentNode[_211];}else{zone=_212[pos];}if(zone.style.display==="none"){_212=zone;}else{_20e=true;}}if(_20b.shiftKey){var _213=_20d.parentNode;for(i=0;i<this.gridNode.childNodes.length;i++){if(_213==this.gridNode.childNodes[i]){break;}}_20f=this.gridNode.childNodes[i].childNodes;for(j=0;j<_20f.length;j++){if(zone==_20f[j]){break;}}if(dojo.isMoz||dojo.isWebKit){i--;}_210=dijit.byNode(_20d);if(!_210.dragRestriction){r=m.removeDragItem(_213,_20d);this.addChild(_210,i,j);dojo.attr(_20d,"tabIndex","0");dijit.focus(_20d);}else{dojo.publish("/dojox/layout/gridContainer/moveRestriction",[this]);}}else{dijit.focus(zone);}break;case k.RIGHT_ARROW:case k.LEFT_ARROW:dojo.stopEvent(_20b);if(_20b.shiftKey){var z=0;if(_20d.parentNode[pos]==null){if(dojo.isIE&&key==k.LEFT_ARROW){z=this.gridNode.childNodes.length-1;}}else{if(_20d.parentNode[pos].nodeType==3){z=this.gridNode.childNodes.length-2;}else{for(i=0;i<this.gridNode.childNodes.length;i++){if(_20d.parentNode[pos]==this.gridNode.childNodes[i]){break;}z++;}if(dojo.isMoz||dojo.isWebKit){z--;}}}_210=dijit.byNode(_20d);var _214=_20d.getAttribute("dndtype");if(_214==null){if(_210&&_210.dndType){_214=_210.dndType.split(/\s*,\s*/);}else{_214=["text"];}}else{_214=_214.split(/\s*,\s*/);}var _215=false;for(i=0;i<this.acceptTypes.length;i++){for(j=0;j<_214.length;j++){if(_214[j]==this.acceptTypes[i]){_215=true;break;}}}if(_215&&!_210.dragRestriction){var _216=_20d.parentNode,_217=0;if(k.LEFT_ARROW==key){var t=z;if(dojo.isMoz||dojo.isWebKit){t=z+1;}_217=this.gridNode.childNodes[t].childNodes.length;}r=m.removeDragItem(_216,_20d);this.addChild(_210,z,_217);dojo.attr(r,"tabIndex","0");dijit.focus(r);}else{dojo.publish("/dojox/layout/gridContainer/moveRestriction",[this]);}}else{var node=_20d.parentNode;while(zone===null){if(node[pos]!==null&&node[pos].nodeType!==3){node=node[pos];}else{if(pos==="previousSibling"){node=node.parentNode.childNodes[node.parentNode.childNodes.length-1];}else{node=(dojo.isIE)?node.parentNode.childNodes[0]:node.parentNode.childNodes[1];}}zone=node[_211];if(zone&&zone.style.display=="none"){_20f=zone.parentNode.childNodes;var _218=null;if(pos=="previousSibling"){for(i=_20f.length-1;i>=0;i--){if(_20f[i].style.display!="none"){_218=_20f[i];break;}}}else{for(i=0;i<_20f.length;i++){if(_20f[i].style.display!="none"){_218=_20f[i];break;}}}if(!_218){_20d=zone;node=_20d.parentNode;zone=null;}else{zone=_218;}}}dijit.focus(zone);}break;}}}},destroy:function(){var m=this._dragManager;dojo.forEach(this._grid,function(_219){m.unregister(_219.node);});this.inherited(arguments);}});dojo.extend(dijit._Widget,{column:"1",dragRestriction:false});return gcl;});},"dojox/layout/ContentPane":function(){define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_21a,_21b,_21c,_21d){return _21d("dojox.layout.ContentPane",_21b,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function(){this.ioArgs={};this.ioMethod=_21a.get;},onExecError:function(e){},_setContent:function(cont){var _21e=this._contentSetter;if(!(_21e&&_21e instanceof _21c._ContentSetter)){_21e=this._contentSetter=new _21c._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _21f=this.onContentError(e);try{this.containerNode.innerHTML=_21f;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});});},"dojox/gfx/arc":function(){define("dojox/gfx/arc",["./_base","dojo/_base/lang","./matrix"],function(g,lang,m){var _220=2*Math.PI,pi4=Math.PI/4,pi8=Math.PI/8,pi48=pi4+pi8,_221=_222(pi8);function _222(_223){var cosa=Math.cos(_223),sina=Math.sin(_223),p2={x:cosa+(4/3)*(1-cosa),y:sina-(4/3)*cosa*(1-cosa)/sina};return{s:{x:cosa,y:-sina},c1:{x:p2.x,y:-p2.y},c2:p2,e:{x:cosa,y:sina}};}var arc=g.arc={unitArcAsBezier:_222,curvePI4:_221,arcAsBezier:function(last,rx,ry,_224,_225,_226,x,y){_225=Boolean(_225);_226=Boolean(_226);var xRot=m._degToRad(_224),rx2=rx*rx,ry2=ry*ry,pa=m.multiplyPoint(m.rotate(-xRot),{x:(last.x-x)/2,y:(last.y-y)/2}),pax2=pa.x*pa.x,pay2=pa.y*pa.y,c1=Math.sqrt((rx2*ry2-rx2*pay2-ry2*pax2)/(rx2*pay2+ry2*pax2));if(isNaN(c1)){c1=0;}var ca={x:c1*rx*pa.y/ry,y:-c1*ry*pa.x/rx};if(_225==_226){ca={x:-ca.x,y:-ca.y};}var c=m.multiplyPoint([m.translate((last.x+x)/2,(last.y+y)/2),m.rotate(xRot)],ca);var _227=m.normalize([m.translate(c.x,c.y),m.rotate(xRot),m.scale(rx,ry)]);var _228=m.invert(_227),sp=m.multiplyPoint(_228,last),ep=m.multiplyPoint(_228,x,y),_229=Math.atan2(sp.y,sp.x),_22a=Math.atan2(ep.y,ep.x),_22b=_229-_22a;if(_226){_22b=-_22b;}if(_22b<0){_22b+=_220;}else{if(_22b>_220){_22b-=_220;}}var _22c=pi8,_22d=_221,step=_226?_22c:-_22c,_22e=[];for(var _22f=_22b;_22f>0;_22f-=pi4){if(_22f<pi48){_22c=_22f/2;_22d=_222(_22c);step=_226?_22c:-_22c;_22f=0;}var c2,e,M=m.normalize([_227,m.rotate(_229+step)]);if(_226){c1=m.multiplyPoint(M,_22d.c1);c2=m.multiplyPoint(M,_22d.c2);e=m.multiplyPoint(M,_22d.e);}else{c1=m.multiplyPoint(M,_22d.c2);c2=m.multiplyPoint(M,_22d.c1);e=m.multiplyPoint(M,_22d.s);}_22e.push([c1.x,c1.y,c2.x,c2.y,e.x,e.y]);_229+=2*step;}return _22e;}};return arc;});},"dojox/grid/_RowManager":function(){define("dojox/grid/_RowManager",["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(_230,lang,_231){var _232=function(_233,_234){if(_233.style.cssText==undefined){_233.setAttribute("style",_234);}else{_233.style.cssText=_234;}};return _230("dojox.grid._RowManager",null,{constructor:function(_235){this.grid=_235;},linesToEms:2,overRow:-2,prepareStylingRow:function(_236,_237){return{index:_236,node:_237,odd:Boolean(_236&1),selected:!!this.grid.selection.isSelected(_236),over:this.isOver(_236),customStyles:"",customClasses:"dojoxGridRow"};},styleRowNode:function(_238,_239){var row=this.prepareStylingRow(_238,_239);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_23a){var i=_23a;i.node.className=i.customClasses;var h=i.node.style.height;_232(i.node,i.customStyles+";"+(i.node._style||""));i.node.style.height=h;},updateStyles:function(_23b){this.grid.updateRowStyles(_23b);},setOverRow:function(_23c){var last=this.overRow;this.overRow=_23c;if((last!=this.overRow)&&(lang.isString(last)||last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_23d){return(this.overRow==_23d&&!_231.contains(this.grid.domNode,"dojoxGridColumnResizing"));}});});},"dojox/gfx/renderer":function(){define("dojox/gfx/renderer",["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_23e){var _23f=null;return{load:function(id,_240,load){if(_23f&&id!="force"){load(_23f);return;}var _241=_23e.forceGfxRenderer,_242=!_241&&(lang.isString(_23e.gfxRenderer)?_23e.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_243,_244;while(!_241&&_242.length){switch(_242.shift()){case"svg":if("SVGAngle" in win.global){_241="svg";}break;case"vml":if(has("ie")){_241="vml";}break;case"silverlight":try{if(has("ie")){_243=new ActiveXObject("AgControl.AgControl");if(_243&&_243.IsVersionSupported("1.0")){_244=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_244=true;}}}catch(e){_244=false;}finally{_243=null;}if(_244){_241="silverlight";}break;case"canvas":if(win.global.CanvasRenderingContext2D){_241="canvas";}break;}}if(_241==="canvas"&&_23e.canvasEvents!==false){_241="canvasWithEvents";}if(_23e.isDebug){}function _245(){_240(["dojox/gfx/"+_241],function(_246){g.renderer=_241;_23f=_246;load(_246);});}if(_241=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_245);}else{_245();}}};});},"dojox/mdnd/AutoScroll":function(){define("dojox/mdnd/AutoScroll",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/window"],function(dojo){var as=dojo.declare("dojox.mdnd.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=dojo.connect(dojo.global,"onresize",this,function(){this.getViewport();});dojo.ready(dojo.hitch(this,"init"));},init:function(){this._html=(dojo.isWebKit)?dojo.body():dojo.body().parentNode;this.getViewport();},getViewport:function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){this._v={"w":dd.clientWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){this._v={"w":w.innerWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){this._v={"w":dd.clientWidth,"h":dd.clientHeight};}else{if(b.clientWidth){this._v={"w":b.clientWidth,"h":b.clientHeight};}}}}},setAutoScrollNode:function(node){this._node=node;},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth;},checkAutoScroll:function(e){if(this._autoScrollActive){this.stopAutoScroll();}this._y=e.pageY;this._x=e.pageX;if(e.clientX<this.marginMouse){this._autoScrollActive=true;this._autoScrollLeft(e);}else{if(e.clientX>this._v.w-this.marginMouse){this._autoScrollActive=true;this._autoScrollRight(e);}}if(e.clientY<this.marginMouse){this._autoScrollActive=true;this._autoScrollUp(e);}else{if(e.clientY>this._v.h-this.marginMouse){this._autoScrollActive=true;this._autoScrollDown();}}},_autoScrollDown:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y+this.marginMouse<this._yMax){this._html.scrollTop+=this.interval;this._node.style.top=(parseInt(this._node.style.top)+this.interval)+"px";this._y+=this.interval;this._timer=setTimeout(dojo.hitch(this,"_autoScrollDown"),this.recursiveTimer);}},_autoScrollUp:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y-this.marginMouse>0){this._html.scrollTop-=this.interval;this._node.style.top=(parseInt(this._node.style.top)-this.interval)+"px";this._y-=this.interval;this._timer=setTimeout(dojo.hitch(this,"_autoScrollUp"),this.recursiveTimer);}},_autoScrollRight:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x+this.marginMouse<this._xMax){this._html.scrollLeft+=this.interval;this._node.style.left=(parseInt(this._node.style.left)+this.interval)+"px";this._x+=this.interval;this._timer=setTimeout(dojo.hitch(this,"_autoScrollRight"),this.recursiveTimer);}},_autoScrollLeft:function(e){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x-this.marginMouse>0){this._html.scrollLeft-=this.interval;this._node.style.left=(parseInt(this._node.style.left)-this.interval)+"px";this._x-=this.interval;this._timer=setTimeout(dojo.hitch(this,"_autoScrollLeft"),this.recursiveTimer);}},stopAutoScroll:function(){if(this._timer){clearTimeout(this._timer);}this._autoScrollActive=false;},destroy:function(){dojo.disconnect(this.resizeHandler);}});dojox.mdnd.autoScroll=null;dojox.mdnd.autoScroll=new dojox.mdnd.AutoScroll();return as;});},"dojox/gfx/shape":function(){define("dojox/gfx/shape",["./_base","dojo/_base/lang","dojo/_base/declare","dojo/_base/window","dojo/_base/sniff","dojo/_base/connect","dojo/_base/array","dojo/dom-construct","dojo/_base/Color","./matrix"],function(g,lang,_247,win,has,_248,arr,_249,_24a,_24b){var _24c=g.shape={};var _24d={};var _24e={};_24c.register=function(_24f){var t=_24f.declaredClass.split(".").pop();var i=t in _24d?++_24d[t]:((_24d[t]=0));var uid=t+i;_24e[uid]=_24f;return uid;};_24c.byId=function(id){return _24e[id];};_24c.dispose=function(_250){delete _24e[_250.getUID()];};_247("dojox.gfx.shape.Shape",null,{constructor:function(){this.rawNode=null;this.shape=null;this.matrix=null;this.fillStyle=null;this.strokeStyle=null;this.bbox=null;this.parent=null;this.parentMatrix=null;var uid=_24c.register(this);this.getUID=function(){return uid;};},getNode:function(){return this.rawNode;},getShape:function(){return this.shape;},getTransform:function(){return this.matrix;},getFill:function(){return this.fillStyle;},getStroke:function(){return this.strokeStyle;},getParent:function(){return this.parent;},getBoundingBox:function(){return this.bbox;},getTransformedBoundingBox:function(){var b=this.getBoundingBox();if(!b){return null;}var m=this._getRealMatrix(),gm=_24b;return[gm.multiplyPoint(m,b.x,b.y),gm.multiplyPoint(m,b.x+b.width,b.y),gm.multiplyPoint(m,b.x+b.width,b.y+b.height),gm.multiplyPoint(m,b.x,b.y+b.height)];},getEventSource:function(){return this.rawNode;},setShape:function(_251){this.shape=g.makeParameters(this.shape,_251);this.bbox=null;return this;},setFill:function(fill){if(!fill){this.fillStyle=null;return this;}var f=null;if(typeof(fill)=="object"&&"type" in fill){switch(fill.type){case"linear":f=g.makeParameters(g.defaultLinearGradient,fill);break;case"radial":f=g.makeParameters(g.defaultRadialGradient,fill);break;case"pattern":f=g.makeParameters(g.defaultPattern,fill);break;}}else{f=g.normalizeColor(fill);}this.fillStyle=f;return this;},setStroke:function(_252){if(!_252){this.strokeStyle=null;return this;}if(typeof _252=="string"||lang.isArray(_252)||_252 instanceof _24a){_252={color:_252};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_252);s.color=g.normalizeColor(s.color);return this;},setTransform:function(_253){this.matrix=_24b.clone(_253?_24b.normalize(_253):_24b.identity);return this._applyTransform();},_applyTransform:function(){return this;},moveToFront:function(){var p=this.getParent();if(p){p._moveChildToFront(this);this._moveToFront();}return this;},moveToBack:function(){var p=this.getParent();if(p){p._moveChildToBack(this);this._moveToBack();}return this;},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(_254){return _254?this.setTransform([this.matrix,_254]):this;},applyLeftTransform:function(_255){return _255?this.setTransform([_255,this.matrix]):this;},applyTransform:function(_256){return _256?this.setTransform([this.matrix,_256]):this;},removeShape:function(_257){if(this.parent){this.parent.remove(this,_257);}return this;},_setParent:function(_258,_259){this.parent=_258;return this._updateParentMatrix(_259);},_updateParentMatrix:function(_25a){this.parentMatrix=_25a?_24b.clone(_25a):null;return this._applyTransform();},_getRealMatrix:function(){var m=this.matrix;var p=this.parent;while(p){if(p.matrix){m=_24b.multiply(p.matrix,m);}p=p.parent;}return m;}});_24c._eventsProcessing={connect:function(name,_25b,_25c){return _248.connect(this.getEventSource(),name,_24c.fixCallback(this,g.fixTarget,_25b,_25c));},disconnect:function(_25d){_248.disconnect(_25d);}};_24c.fixCallback=function(_25e,_25f,_260,_261){if(!_261){_261=_260;_260=null;}if(lang.isString(_261)){_260=_260||win.global;if(!_260[_261]){throw (['dojox.gfx.shape.fixCallback: scope["',_261,'"] is null (scope="',_260,'")'].join(""));}return function(e){return _25f(e,_25e)?_260[_261].apply(_260,arguments||[]):undefined;};}return !_260?function(e){return _25f(e,_25e)?_261.apply(_260,arguments):undefined;}:function(e){return _25f(e,_25e)?_261.apply(_260,arguments||[]):undefined;};};lang.extend(_24c.Shape,_24c._eventsProcessing);_24c.Container={_init:function(){this.children=[];},openBatch:function(){},closeBatch:function(){},add:function(_262){var _263=_262.getParent();if(_263){_263.remove(_262,true);}this.children.push(_262);return _262._setParent(this,this._getRealMatrix());},remove:function(_264,_265){for(var i=0;i<this.children.length;++i){if(this.children[i]==_264){if(_265){}else{_264.parent=null;_264.parentMatrix=null;}this.children.splice(i,1);break;}}return this;},clear:function(){var _266;for(var i=0;i<this.children.length;++i){_266=this.children[i];_266.parent=null;_266.parentMatrix=null;}this.children=[];return this;},_moveChildToFront:function(_267){for(var i=0;i<this.children.length;++i){if(this.children[i]==_267){this.children.splice(i,1);this.children.push(_267);break;}}return this;},_moveChildToBack:function(_268){for(var i=0;i<this.children.length;++i){if(this.children[i]==_268){this.children.splice(i,1);this.children.unshift(_268);break;}}return this;}};_247("dojox.gfx.shape.Surface",null,{constructor:function(){this.rawNode=null;this._parent=null;this._nodes=[];this._events=[];},destroy:function(){arr.forEach(this._nodes,_249.destroy);this._nodes=[];arr.forEach(this._events,_248.disconnect);this._events=[];this.rawNode=null;if(has("ie")){while(this._parent.lastChild){_249.destroy(this._parent.lastChild);}}else{this._parent.innerHTML="";}this._parent=null;},getEventSource:function(){return this.rawNode;},_getRealMatrix:function(){return null;},isLoaded:true,onLoad:function(_269){},whenLoaded:function(_26a,_26b){var f=lang.hitch(_26a,_26b);if(this.isLoaded){f(this);}else{var h=_248.connect(this,"onLoad",function(_26c){_248.disconnect(h);f(_26c);});}}});lang.extend(_24c.Surface,_24c._eventsProcessing);_247("dojox.gfx.Point",null,{});_247("dojox.gfx.Rectangle",null,{});_247("dojox.gfx.shape.Rect",_24c.Shape,{constructor:function(_26d){this.shape=g.getDefault("Rect");this.rawNode=_26d;},getBoundingBox:function(){return this.shape;}});_247("dojox.gfx.shape.Ellipse",_24c.Shape,{constructor:function(_26e){this.shape=g.getDefault("Ellipse");this.rawNode=_26e;},getBoundingBox:function(){if(!this.bbox){var _26f=this.shape;this.bbox={x:_26f.cx-_26f.rx,y:_26f.cy-_26f.ry,width:2*_26f.rx,height:2*_26f.ry};}return this.bbox;}});_247("dojox.gfx.shape.Circle",_24c.Shape,{constructor:function(_270){this.shape=g.getDefault("Circle");this.rawNode=_270;},getBoundingBox:function(){if(!this.bbox){var _271=this.shape;this.bbox={x:_271.cx-_271.r,y:_271.cy-_271.r,width:2*_271.r,height:2*_271.r};}return this.bbox;}});_247("dojox.gfx.shape.Line",_24c.Shape,{constructor:function(_272){this.shape=g.getDefault("Line");this.rawNode=_272;},getBoundingBox:function(){if(!this.bbox){var _273=this.shape;this.bbox={x:Math.min(_273.x1,_273.x2),y:Math.min(_273.y1,_273.y2),width:Math.abs(_273.x2-_273.x1),height:Math.abs(_273.y2-_273.y1)};}return this.bbox;}});_247("dojox.gfx.shape.Polyline",_24c.Shape,{constructor:function(_274){this.shape=g.getDefault("Polyline");this.rawNode=_274;},setShape:function(_275,_276){if(_275&&_275 instanceof Array){this.inherited(arguments,[{points:_275}]);if(_276&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.inherited(arguments,[_275]);}return this;},_normalizePoints:function(){var p=this.shape.points,l=p&&p.length;if(l&&typeof p[0]=="number"){var _277=[];for(var i=0;i<l;i+=2){_277.push({x:p[i],y:p[i+1]});}this.shape.points=_277;}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){var p=this.shape.points;var l=p.length;var t=p[0];var bbox={l:t.x,t:t.y,r:t.x,b:t.y};for(var i=1;i<l;++i){t=p[i];if(bbox.l>t.x){bbox.l=t.x;}if(bbox.r<t.x){bbox.r=t.x;}if(bbox.t>t.y){bbox.t=t.y;}if(bbox.b<t.y){bbox.b=t.y;}}this.bbox={x:bbox.l,y:bbox.t,width:bbox.r-bbox.l,height:bbox.b-bbox.t};}return this.bbox;}});_247("dojox.gfx.shape.Image",_24c.Shape,{constructor:function(_278){this.shape=g.getDefault("Image");this.rawNode=_278;},getBoundingBox:function(){return this.shape;},setStroke:function(){return this;},setFill:function(){return this;}});_247("dojox.gfx.shape.Text",_24c.Shape,{constructor:function(_279){this.fontStyle=null;this.shape=g.getDefault("Text");this.rawNode=_279;},getFont:function(){return this.fontStyle;},setFont:function(_27a){this.fontStyle=typeof _27a=="string"?g.splitFontString(_27a):g.makeParameters(g.defaultFont,_27a);this._setFont();return this;}});_24c.Creator={createShape:function(_27b){switch(_27b.type){case g.defaultPath.type:return this.createPath(_27b);case g.defaultRect.type:return this.createRect(_27b);case g.defaultCircle.type:return this.createCircle(_27b);case g.defaultEllipse.type:return this.createEllipse(_27b);case g.defaultLine.type:return this.createLine(_27b);case g.defaultPolyline.type:return this.createPolyline(_27b);case g.defaultImage.type:return this.createImage(_27b);case g.defaultText.type:return this.createText(_27b);case g.defaultTextPath.type:return this.createTextPath(_27b);}return null;},createGroup:function(){return this.createObject(g.Group);},createRect:function(rect){return this.createObject(g.Rect,rect);},createEllipse:function(_27c){return this.createObject(g.Ellipse,_27c);},createCircle:function(_27d){return this.createObject(g.Circle,_27d);},createLine:function(line){return this.createObject(g.Line,line);},createPolyline:function(_27e){return this.createObject(g.Polyline,_27e);},createImage:function(_27f){return this.createObject(g.Image,_27f);},createText:function(text){return this.createObject(g.Text,text);},createPath:function(path){return this.createObject(g.Path,path);},createTextPath:function(text){return this.createObject(g.TextPath,{}).setText(text);},createObject:function(_280,_281){return null;}};return _24c;});},"dojox/charting/plot2d/ClusteredBars":function(){define("dojox/charting/plot2d/ClusteredBars",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Bars","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils"],function(lang,arr,_282,Bars,dc,df,dfr,du){var _283=dfr.lambda("item.purgeGroup()");return _282("dojox.charting.plot2d.ClusteredBars",Bars,{render:function(dim,_284){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_284);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_283);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_285,_286,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_287=Math.max(0,this._hScaler.bounds.lower),_288=ht(_287),_289=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt,this.series.length);gap=f.gap;_285=_286=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i],_28a=_286*(this.series.length-i-1);if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _28b=t.next("bar",[this.opt,run]),s=run.group,_28c=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _28d=run.data[j];if(_28d!==null){var v=typeof _28d=="number"?_28d:_28d.y,hv=ht(v),_28e=hv-_288,w=Math.abs(_28e),_28f=typeof _28d!="number"?t.addMixin(_28b,"bar",_28d,true):t.post(_28b,"bar");if(w>=0&&_285>=1){var rect={x:_284.l+(v<_287?hv:_288),y:dim.height-_284.b-vt(j+1.5)+gap+_28a,width:w,height:_285};var _290=this._plotFill(_28f.series.fill,dim,_284);_290=this._shapeFill(_290,rect);var _291=s.createRect(rect).setFill(_290).setStroke(_28f.series.stroke);run.dyn.fill=_291.getFill();run.dyn.stroke=_291.getStroke();if(_289){var o={element:"bar",index:j,run:run,shape:_291,x:v,y:j+1.5};this._connectEvents(o);_28c[j]=o;}if(this.animate){this._animateBar(_291,_284.l+_288,-_28e);}}}}this._eventSeries[run.name]=_28c;run.dirty=false;}this.dirty=false;return this;}});});},"dojox/grid/_FocusManager":function(){define("dojox/grid/_FocusManager",["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/query","./util","dojo/_base/html"],function(_292,lang,_293,_294,_295,has,_296,util,html){return _293("dojox.grid._FocusManager",null,{constructor:function(_297){this.grid=_297;this.cell=null;this.rowIndex=-1;this._connects=[];this._headerConnects=[];this.headerMenu=this.grid.headerMenu;this._connects.push(_294.connect(this.grid.domNode,"onfocus",this,"doFocus"));this._connects.push(_294.connect(this.grid.domNode,"onblur",this,"doBlur"));this._connects.push(_294.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));this._connects.push(_294.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));this._connects.push(_294.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));this._connects.push(_294.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));this._connects.push(_294.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));this._connects.push(_294.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));this._connects.push(_294.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));},destroy:function(){_292.forEach(this._connects,_294.disconnect);_292.forEach(this._headerConnects,_294.disconnect);delete this.grid;delete this.cell;},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._initColumnHeaders();},isFocusCell:function(_298,_299){return(this.cell==_298)&&(this.rowIndex==_299);},isLastFocusCell:function(){if(this.cell){return(this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);}return false;},isFirstFocusCell:function(){if(this.cell){return(this.rowIndex===0)&&(this.cell.index===0);}return false;},isNoFocusCell:function(){return(this.rowIndex<0)||!this.cell;},isNavHeader:function(){return(!!this._colHeadNode);},getHeaderIndex:function(){if(this._colHeadNode){return _292.indexOf(this._findHeaderCells(),this._colHeadNode);}else{return -1;}},_focusifyCellNode:function(_29a){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){html.toggleClass(n,this.focusClass,_29a);if(_29a){var sl=this.scrollIntoView();try{if(!this.grid.edit.isEditing()){util.fire(n,"focus");if(sl){this.cell.view.scrollboxNode.scrollLeft=sl;}}}catch(e){}}}},_delayedCellFocus:function(){if(this.isNavHeader()||!this.grid.focused){return;}var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){try{if(!this.grid.edit.isEditing()){html.toggleClass(n,this.focusClass,true);if(this._colHeadNode){this.blurHeader();}util.fire(n,"focus");}}catch(e){}}},_delayedHeaderFocus:function(){if(this.isNavHeader()){this.focusHeader();this.grid.domNode.focus();}},_initColumnHeaders:function(){_292.forEach(this._headerConnects,_294.disconnect);this._headerConnects=[];var _29b=this._findHeaderCells();for(var i=0;i<_29b.length;i++){this._headerConnects.push(_294.connect(_29b[i],"onfocus",this,"doColHeaderFocus"));this._headerConnects.push(_294.connect(_29b[i],"onblur",this,"doColHeaderBlur"));}},_findHeaderCells:function(){var _29c=_296("th",this.grid.viewsHeaderNode);var _29d=[];for(var i=0;i<_29c.length;i++){var _29e=_29c[i];var _29f=html.hasAttr(_29e,"tabIndex");var _2a0=html.attr(_29e,"tabIndex");if(_29f&&_2a0<0){_29d.push(_29e);}}return _29d;},_setActiveColHeader:function(_2a1,_2a2,_2a3){this.grid.domNode.setAttribute("aria-activedescendant",_2a1.id);if(_2a3!=null&&_2a3>=0&&_2a3!=_2a2){html.toggleClass(this._findHeaderCells()[_2a3],this.focusClass,false);}html.toggleClass(_2a1,this.focusClass,true);this._colHeadNode=_2a1;this._colHeadFocusIdx=_2a2;this._scrollHeader(this._colHeadFocusIdx);},scrollIntoView:function(){var info=(this.cell?this._scrollInfo(this.cell):null);if(!info||!info.s){return null;}var rt=this.grid.scroller.findScrollTop(this.rowIndex);if(info.n&&info.sr){if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}}}if(info.r&&info.sr){if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);}else{if(rt<info.sr.t){this.grid.setScrollTop(rt);}}}return info.s.scrollLeft;},_scrollInfo:function(cell,_2a4){if(cell){var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);return{c:cl,s:sbn,sr:sbnr,n:(_2a4?_2a4:cell.getNode(this.rowIndex)),r:rn};}return null;},_scrollHeader:function(_2a5){var info=null;if(this._colHeadNode){var cell=this.grid.getCell(_2a5);if(!cell){return;}info=this._scrollInfo(cell,cell.getNode(0));}if(info&&info.s&&info.sr&&info.n){var _2a6=info.sr.l+info.sr.w;if(info.n.offsetLeft+info.n.offsetWidth>_2a6){info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;}else{if(info.n.offsetLeft<info.sr.l){info.s.scrollLeft=info.n.offsetLeft;}else{if(has("ie")<=7&&cell&&cell.view.headerNode){cell.view.headerNode.scrollLeft=info.s.scrollLeft;}}}}},_isHeaderHidden:function(){var _2a7=this.focusView;if(!_2a7){for(var i=0,_2a8;(_2a8=this.grid.views.views[i]);i++){if(_2a8.headerNode){_2a7=_2a8;break;}}}return(_2a7&&html.getComputedStyle(_2a7.headerNode).display=="none");},colSizeAdjust:function(e,_2a9,_2aa){var _2ab=this._findHeaderCells();var view=this.focusView;if(!view){for(var i=0,_2ac;(_2ac=this.grid.views.views[i]);i++){if(_2ac.header.tableMap.map){view=_2ac;break;}}}var _2ad=_2ab[_2a9];if(!view||(_2a9==_2ab.length-1&&_2a9===0)){return;}view.content.baseDecorateEvent(e);e.cellNode=_2ad;e.cellIndex=view.content.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);if(view.header.canResize(e)){var _2ae={l:_2aa};var drag=view.header.colResizeSetup(e,false);view.header.doResizeColumn(drag,null,_2ae);view.update();}},styleRow:function(_2af){return;},setFocusIndex:function(_2b0,_2b1){this.setFocusCell(this.grid.getCell(_2b1),_2b0);},setFocusCell:function(_2b2,_2b3){if(_2b2&&!this.isFocusCell(_2b2,_2b3)){this.tabbingOut=false;if(this._colHeadNode){this.blurHeader();}this._colHeadNode=this._colHeadFocusIdx=null;this.focusGridView();this._focusifyCellNode(false);this.cell=_2b2;this.rowIndex=_2b3;this._focusifyCellNode(true);}if(has("opera")){setTimeout(lang.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){if(this.cell){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}if(this.grid.edit.isEditing()){var _2b4=this.grid.getCell(col);if(!this.isLastFocusCell()&&(!_2b4.editable||this.grid.canEdit&&!this.grid.canEdit(_2b4,row))){this.cell=_2b4;this.rowIndex=row;this.next();return;}}this.setFocusIndex(row,col);}},previous:function(){if(this.cell){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}if(this.grid.edit.isEditing()){var _2b5=this.grid.getCell(col);if(!this.isFirstFocusCell()&&!_2b5.editable){this.cell=_2b5;this.rowIndex=row;this.previous();return;}}this.setFocusIndex(row,col);}},move:function(_2b6,_2b7){var _2b8=_2b7<0?-1:1;if(this.isNavHeader()){var _2b9=this._findHeaderCells();var _2ba=currentIdx=_292.indexOf(_2b9,this._colHeadNode);currentIdx+=_2b7;while(currentIdx>=0&&currentIdx<_2b9.length&&_2b9[currentIdx].style.display=="none"){currentIdx+=_2b8;}if((currentIdx>=0)&&(currentIdx<_2b9.length)){this._setActiveColHeader(_2b9[currentIdx],currentIdx,_2ba);}}else{if(this.cell){var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_2b6));if(_2b6){if(_2b6>0){if(row>sc.getLastPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));}}else{if(_2b6<0){if(row<=sc.getPageRow(sc.page)){this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));}}}}var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_2b7));var cell=this.grid.getCell(col);while(col>=0&&col<cc&&cell&&cell.hidden===true){col+=_2b8;cell=this.grid.getCell(col);}if(!cell||cell.hidden===true){col=i;}var n=cell.getNode(row);if(!n&&_2b6){if((row+_2b6)>=0&&(row+_2b6)<=rc){this.move(_2b6>0?++_2b6:--_2b6,_2b7);}return;}else{if((!n||html.style(n,"display")==="none")&&_2b7){if((col+_2b6)>=0&&(col+_2b6)<=cc){this.move(_2b6,_2b7>0?++_2b7:--_2b7);}return;}}this.setFocusIndex(row,col);if(_2b6){this.grid.updateRow(r);}}}},previousKey:function(e){if(this.grid.edit.isEditing()){_295.stop(e);this.previous();}else{if(!this.isNavHeader()&&!this._isHeaderHidden()){this.grid.domNode.focus();_295.stop(e);}else{this.tabOut(this.grid.domNode);if(this._colHeadFocusIdx!=null){html.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);this._colHeadFocusIdx=null;}this._focusifyCellNode(false);}}},nextKey:function(e){var _2bb=(this.grid.rowCount===0);if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){this.focusHeader();_295.stop(e);}else{if(this.isNavHeader()){this.blurHeader();if(!this.findAndFocusGridCell()){this.tabOut(this.grid.lastFocusNode);}this._colHeadNode=this._colHeadFocusIdx=null;}else{if(this.grid.edit.isEditing()){_295.stop(e);this.next();}else{this.tabOut(this.grid.lastFocusNode);}}}},tabOut:function(_2bc){this.tabbingOut=true;_2bc.focus();},focusGridView:function(){util.fire(this.focusView,"focus");},focusGrid:function(_2bd){this.focusGridView();this._focusifyCellNode(true);},findAndFocusGridCell:function(){var _2be=true;var _2bf=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_2bf){var _2c0=0;var cell=this.grid.getCell(_2c0);if(cell.hidden){_2c0=this.isNavHeader()?this._colHeadFocusIdx:0;}this.setFocusIndex(0,_2c0);}else{if(this.cell&&!_2bf){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);}this.focusGrid();}else{_2be=false;}}this._colHeadNode=this._colHeadFocusIdx=null;return _2be;},focusHeader:function(){var _2c1=this._findHeaderCells();var _2c2=this._colHeadFocusIdx;if(this._isHeaderHidden()){this.findAndFocusGridCell();}else{if(!this._colHeadFocusIdx){if(this.isNoFocusCell()){this._colHeadFocusIdx=0;}else{this._colHeadFocusIdx=this.cell.index;}}}this._colHeadNode=_2c1[this._colHeadFocusIdx];while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_2c1.length&&this._colHeadNode.style.display=="none"){this._colHeadFocusIdx++;this._colHeadNode=_2c1[this._colHeadFocusIdx];}if(this._colHeadNode&&this._colHeadNode.style.display!="none"){if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);this.headerMenu.bindDomNode(this.grid.domNode);this._contextMenuBindNode=this.grid.domNode;}this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_2c2);this._scrollHeader(this._colHeadFocusIdx);this._focusifyCellNode(false);}else{this.findAndFocusGridCell();}},blurHeader:function(){html.removeClass(this._colHeadNode,this.focusClass);html.removeAttr(this.grid.domNode,"aria-activedescendant");if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){var _2c3=this.grid.viewsHeaderNode;this.headerMenu.unBindDomNode(this.grid.domNode);this.headerMenu.bindDomNode(_2c3);this._contextMenuBindNode=_2c3;}},doFocus:function(e){if(e&&e.target!=e.currentTarget){_295.stop(e);return;}if(this._clickFocus){return;}if(!this.tabbingOut){this.focusHeader();}this.tabbingOut=false;_295.stop(e);},doBlur:function(e){_295.stop(e);},doContextMenu:function(e){if(!this.headerMenu){_295.stop(e);}},doLastNodeFocus:function(e){if(this.tabbingOut){this._focusifyCellNode(false);}else{if(this.grid.rowCount>0){if(this.isNoFocusCell()){this.setFocusIndex(0,0);}this._focusifyCellNode(true);}else{this.focusHeader();}}this.tabbingOut=false;_295.stop(e);},doLastNodeBlur:function(e){_295.stop(e);},doColHeaderFocus:function(e){this._setActiveColHeader(e.target,html.attr(e.target,"idx"),this._colHeadFocusIdx);this._scrollHeader(this.getHeaderIndex());_295.stop(e);},doColHeaderBlur:function(e){html.toggleClass(e.target,this.focusClass,false);},_mouseDown:function(e){this._clickFocus=dojo.some(this.grid.views.views,function(v){return v.scrollboxNode===e.target;});},_mouseUp:function(e){this._clickFocus=false;}});});},"dojox/charting/action2d/Highlight":function(){define("dojox/charting/action2d/Highlight",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","dojo/_base/connect","dojox/color/_base","./PlotAction","dojo/fx/easing","dojox/gfx/fx"],function(dojo,lang,_2c4,_2c5,hub,c,_2c6,dfe,dgf){var _2c7=100,_2c8=75,_2c9=50,cc=function(_2ca){return function(){return _2ca;};},hl=function(_2cb){var a=new c.Color(_2cb),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=_2c7;if(x.l<_2c9){x.l=_2c8;}else{if(x.l>_2c8){x.l=_2c9;}else{x.l=x.l-_2c9>_2c8-x.l?_2c9:_2c8;}}}return c.fromHsl(x);};return _2c4("dojox.charting.action2d.Highlight",_2c6,{defaultParams:{duration:400,easing:dfe.backOut},optionalParams:{highlight:"red"},constructor:function(_2cc,plot,_2cd){var a=_2cd&&_2cd.highlight;this.colorFun=a?(lang.isFunction(a)?a:cc(a)):hl;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _2ce=o.run.name,_2cf=o.index,anim,_2d0,_2d1;if(_2ce in this.anim){anim=this.anim[_2ce][_2cf];}else{this.anim[_2ce]={};}if(anim){anim.action.stop(true);}else{var _2d2=o.shape.getFill();if(!_2d2||!(_2d2 instanceof _2c5)){return;}this.anim[_2ce][_2cf]=anim={start:_2d2,end:this.colorFun(_2d2)};}var _2d3=anim.start,end=anim.end;if(o.type=="onmouseout"){var t=_2d3;_2d3=end;end=t;}anim.action=dgf.animateFill({shape:o.shape,duration:this.duration,easing:this.easing,color:{start:_2d3,end:end}});if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){if(this.anim[_2ce]){delete this.anim[_2ce][_2cf];}});}anim.action.play();}});});},"dojox/widget/Standby":function(){define("dojox/widget/Standby",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_2d4,_2d5,_2d6,_2d7,has,dom,attr,_2d8,_2d9,_2da,_2db,_2dc,_2dd,fx,_2de,_2df,_2e0){_2d4.experimental("dojox.widget.Standby");return _2d5("dojox.widget.Standby",[_2de,_2df],{templateString:"<div>"+'<div style="display: none; opacity: 0; z-index: 9999; '+'position: absolute; cursor:wait;" dojoAttachPoint="_underlayNode"></div>'+'<img src="${image}" style="opacity: 0; display: none; z-index: -10000; '+'position: absolute; top: 0px; left: 0px; cursor:wait;" '+'dojoAttachPoint="_imageNode">'+'<div style="opacity: 0; display: none; z-index: -10000; position: absolute; '+'top: 0px;" dojoAttachPoint="_textNode"></div>'+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",_displayed:false,_resizeCheck:null,target:"",color:"#C0C0C0",duration:500,_started:false,_parent:null,zIndex:"auto",startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_2e0.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_2da.set(this._underlayNode,{display:"none",backgroundColor:this.color});_2da.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_2dc.body()){_2dc.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_2d8.create("div");_2da.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_2dc.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_2da.set(this._centerNode,"display","none");_2da.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_2dc.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_2dc.body(),"dir");if(dir){dir=dir.toLowerCase();}var _2e1;var _2e2=this._scrollerWidths();var _2e3=this.target;var _2e4=_2da.get(this._centerNode,"display");_2da.set(this._centerNode,"display","block");var box=_2d9.position(_2e3,true);if(_2e3===_2dc.body()||_2e3===_2dc.doc){box=_2db.getBox();box.x=box.l;box.y=box.t;}var _2e5=_2d9.getMarginBox(this._centerNode);_2da.set(this._centerNode,"display",_2e4);if(this._ieFixNode){_2e1=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_2e1);box.y=Math.floor((box.y+0.9)/_2e1);box.w=Math.floor((box.w+0.9)/_2e1);box.h=Math.floor((box.h+0.9)/_2e1);}var zi=_2da.get(_2e3,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var _2e6=_2e3.parentNode;var _2e7=-100000;while(_2e6&&_2e6!==_2dc.body()){zi=_2da.get(_2e6,"zIndex");if(!zi||zi==="auto"){_2e6=_2e6.parentNode;}else{var _2e8=parseInt(zi,10);if(_2e7<_2e8){_2e7=_2e8;ziUl=_2e8+1;ziIn=_2e8+2;}_2e6=_2e6.parentNode;}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_2da.set(this._centerNode,"zIndex",ziIn);_2da.set(this._underlayNode,"zIndex",ziUl);var pn=_2e3.parentNode;if(pn&&pn!==_2dc.body()&&_2e3!==_2dc.body()&&_2e3!==_2dc.doc){var obh=box.h;var obw=box.w;var _2e9=_2d9.position(pn,true);if(this._ieFixNode){_2e1=-this._ieFixNode.offsetTop/1000;_2e9.x=Math.floor((_2e9.x+0.9)/_2e1);_2e9.y=Math.floor((_2e9.y+0.9)/_2e1);_2e9.w=Math.floor((_2e9.w+0.9)/_2e1);_2e9.h=Math.floor((_2e9.h+0.9)/_2e1);}_2e9.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_2e2.v:0;_2e9.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_2e2.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_2e2.v:0;_2e9.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_2e2.v:0;}else{if(has("ie")){_2e9.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_2e2.v:0;}else{if(has("webkit")){}}}}if(_2e9.w<box.w){box.w=box.w-_2e9.w;}if(_2e9.h<box.h){box.h=box.h-_2e9.h;}var _2ea=_2e9.y;var _2eb=_2e9.y+_2e9.h;var bTop=box.y;var _2ec=box.y+obh;var _2ed=_2e9.x;var _2ee=_2e9.x+_2e9.w;var _2ef=box.x;var _2f0=box.x+obw;var _2f1;if(_2ec>_2ea&&bTop<_2ea){box.y=_2e9.y;_2f1=_2ea-bTop;var _2f2=obh-_2f1;if(_2f2<_2e9.h){box.h=_2f2;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_2e2.h:0);}}else{if(bTop<_2eb&&_2ec>_2eb){box.h=_2eb-bTop;}else{if(_2ec<=_2ea||bTop>=_2eb){box.h=0;}}}if(_2f0>_2ed&&_2ef<_2ed){box.x=_2e9.x;_2f1=_2ed-_2ef;var _2f3=obw-_2f1;if(_2f3<_2e9.w){box.w=_2f3;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_2e2.w:0);}}else{if(_2ef<_2ee&&_2f0>_2ee){box.w=_2ee-_2ef;}else{if(_2f0<=_2ed||_2ef>=_2ee){box.w=0;}}}}if(box.h>0&&box.w>0){_2da.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _2f4=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_2f4);if(!has("ie")){_2f4=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_2f4,this);}var _2f5=(box.h/2)-(_2e5.h/2);var _2f6=(box.w/2)-(_2e5.w/2);if(box.h>=_2e5.h&&box.w>=_2e5.w){_2da.set(this._centerNode,{top:(_2f5+box.y)+"px",left:(_2f6+box.x)+"px",display:"block"});}else{_2da.set(this._centerNode,"display","none");}}else{_2da.set(this._underlayNode,"display","none");_2da.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){_2d6.forEach(list,function(s){_2da.set(this._underlayNode,s,_2da.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _2f7=_2dd.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:0.75}}});var _2f8=_2dd.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_2f7,_2f8]);this._anim.play();},_fadeOut:function(){var self=this;var _2f9=_2dd.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0.75,end:0}},onEnd:function(){_2da.set(this.node,{"display":"none","zIndex":"-1000"});}});var _2fa=_2dd.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_2da.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_2f9,_2fa]);this._anim.play();},_ignore:function(e){if(e){_2d7.stop(e);}},_scrollerWidths:function(){var div=_2d8.create("div");_2da.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_2d8.create("div");_2da.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_2dc.body().appendChild(div);var b=_2d9.getContentBox(div);_2da.set(div,"overflow","scroll");var a=_2d9.getContentBox(div);_2dc.body().removeChild(div);return{v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_2da.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_2fb){this.centerIndicator=_2fb;if(_2fb==="image"){this._centerNode=this._imageNode;_2da.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_2da.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_2dc.body()||this.target===_2dc.doc){this._overflowDisabled=true;var body=_2dc.body();if(body.style&&body.style.overflow){this._oldOverflow=_2da.set(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_2da.set(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_2da.set(body.parentNode,"overflow","hidden");}_2da.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_2dc.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_2da.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_2d8.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"dojox/charting/scaler/common":function(){define("dojox/charting/scaler/common",["dojo/_base/lang"],function(lang){var eq=function(a,b){return Math.abs(a-b)<=0.000001*(Math.abs(a)+Math.abs(b));};var _2fc=lang.getObject("dojox.charting.scaler.common",true);var _2fd={};return lang.mixin(_2fc,{doIfLoaded:function(_2fe,_2ff,_300){if(_2fd[_2fe]==undefined){try{_2fd[_2fe]=require(_2fe);}catch(e){_2fd[_2fe]=null;}}if(_2fd[_2fe]){return _2ff(_2fd[_2fe]);}else{return _300();}},findString:function(val,text){val=val.toLowerCase();for(var i=0;i<text.length;++i){if(val==text[i]){return true;}}return false;},getNumericLabel:function(_301,_302,_303){var def="";_2fc.doIfLoaded("dojo/number",function(_304){def=(_303.fixed?_304.format(_301,{places:_302<0?-_302:0}):_304.format(_301))||"";},function(){def=_303.fixed?_301.toFixed(_302<0?-_302:0):_301.toString();});if(_303.labelFunc){var r=_303.labelFunc(def,_301,_302);if(r){return r;}}if(_303.labels){var l=_303.labels,lo=0,hi=l.length;while(lo<hi){var mid=Math.floor((lo+hi)/2),val=l[mid].value;if(val<_301){lo=mid+1;}else{hi=mid;}}if(lo<l.length&&eq(l[lo].value,_301)){return l[lo].text;}--lo;if(lo>=0&&lo<l.length&&eq(l[lo].value,_301)){return l[lo].text;}lo+=2;if(lo<l.length&&eq(l[lo].value,_301)){return l[lo].text;}}return def;}});});},"dojox/grid/_Builder":function(){define("dojox/grid/_Builder",["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/window","dojo/_base/event","dojo/_base/sniff","dojo/_base/connect","dojo/dnd/Moveable","dojox/html/metrics","./util","dojo/_base/html"],function(_305,_306,lang,win,_307,has,_308,_309,_30a,util,html){var dg=_305.grid;var _30b=function(td){return td.cellIndex>=0?td.cellIndex:_306.indexOf(td.parentNode.cells,td);};var _30c=function(tr){return tr.rowIndex>=0?tr.rowIndex:_306.indexOf(tr.parentNode.childNodes,tr);};var _30d=function(_30e,_30f){return _30e&&((_30e.rows||0)[_30f]||_30e.childNodes[_30f]);};var _310=function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;};var _311=function(_312,_313){for(var n=_312;n&&_313(n);n=n.parentNode){}return n;};var _314=function(_315){var name=_315.toUpperCase();return function(node){return node.tagName!=name;};};var _316=util.rowIndexTag;var _317=util.gridViewTag;var _318=dg._Builder=lang.extend(function(view){if(view){this.view=view;this.grid=view.grid;}},{view:null,_table:'<table class="dojoxGridRowTable" border="0" cellspacing="0" cellpadding="0" role="presentation"',getTableArray:function(){var html=[this._table];if(this.view.viewWidth){html.push([' style="width:',this.view.viewWidth,';"'].join(""));}html.push(">");return html;},generateCellMarkup:function(_319,_31a,_31b,_31c){var _31d=[],html;if(_31c){var _31e=_319.index!=_319.grid.getSortIndex()?"":_319.grid.sortInfo>0?'aria-sort="ascending"':'aria-sort="descending"';if(!_319.id){_319.id=this.grid.id+"Hdr"+_319.index;}html=['<th tabIndex="-1" aria-readonly="true" role="columnheader"',_31e,'id="',_319.id,'"'];}else{var _31f=this.grid.editable&&!_319.editable?'aria-readonly="true"':"";html=['<td tabIndex="-1" role="gridcell"',_31f];}if(_319.colSpan){html.push(' colspan="',_319.colSpan,'"');}if(_319.rowSpan){html.push(' rowspan="',_319.rowSpan,'"');}html.push(' class="dojoxGridCell ');if(_319.classes){html.push(_319.classes," ");}if(_31b){html.push(_31b," ");}_31d.push(html.join(""));_31d.push("");html=['" idx="',_319.index,'" style="'];if(_31a&&_31a[_31a.length-1]!=";"){_31a+=";";}html.push(_319.styles,_31a||"",_319.hidden?"display:none;":"");if(_319.unitWidth){html.push("width:",_319.unitWidth,";");}_31d.push(html.join(""));_31d.push("");html=['"'];if(_319.attrs){html.push(" ",_319.attrs);}html.push(">");_31d.push(html.join(""));_31d.push("");_31d.push(_31c?"</th>":"</td>");return _31d;},isCellNode:function(_320){return Boolean(_320&&_320!=win.doc&&html.attr(_320,"idx"));},getCellNodeIndex:function(_321){return _321?Number(html.attr(_321,"idx")):-1;},getCellNode:function(_322,_323){for(var i=0,row;((row=_30d(_322.firstChild,i))&&row.cells);i++){for(var j=0,cell;(cell=row.cells[j]);j++){if(this.getCellNodeIndex(cell)==_323){return cell;}}}return null;},findCellTarget:function(_324,_325){var n=_324;while(n&&(!this.isCellNode(n)||(n.offsetParent&&_317 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_317]!=this.view.id))&&(n!=_325)){n=n.parentNode;}return n!=_325?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_326,_327){var n=_326;while(n&&(n!=this.domNode)&&(!(_327 in n)||(_317 in n&&n[_317]!=this.view.id))){n=n.parentNode;}return(n!=this.domNode)?n:null;},findRowTarget:function(_328){return this.findTarget(_328,_316);},isIntraNodeEvent:function(e){try{return(e.cellNode&&e.relatedTarget&&html.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}return false;},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}},domousedown:function(e){if(e.cellNode){this.grid.onMouseDown(e);}this.grid.onMouseDownRow(e);}});var _329=dg._ContentBuilder=lang.extend(function(view){_318.call(this,view);},_318.prototype,{update:function(){this.prepareHtml();},prepareHtml:function(){var _32a=this.grid.get,_32b=this.view.structure.cells;for(var j=0,row;(row=_32b[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_32a;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);if(!this.grid.editable&&cell.editable){this.grid.editable=true;}}}},generateHtml:function(_32c,_32d){var html=this.getTableArray(),v=this.view,_32e=v.structure.cells,item=this.grid.getItem(_32d);util.fire(this.view,"onBeforeRow",[_32d,_32e]);for(var j=0,row;(row=_32e[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":'<tr class="dojoxGridInvisible">');for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup;cc=cell.customClasses=[];cs=cell.customStyles=[];m[5]=cell.format(_32d,item);if(has("ie")<8&&(m[5]===null||m[5]===""||/^\s+$/.test(m[5]))){m[5]="&nbsp;";}m[1]=cc.join(" ");m[3]=cs.join(";");html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[_316];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});var _32f=dg._HeaderBuilder=lang.extend(function(view){this.moveable=null;_318.call(this,view);},_318.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){if(this.tableMap){this.tableMap.mapRows(this.view.structure.cells);}else{this.tableMap=new dg._TableMap(this.view.structure.cells);}},generateHtml:function(_330,_331){var html=this.getTableArray(),_332=this.view.structure.cells;util.fire(this.view,"onBeforeRow",[-1,_332]);for(var j=0,row;(row=_332[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":'<tr class="dojoxGridInvisible">');for(var i=0,cell,_333;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];if(this.view.simpleStructure){if(cell.draggable){if(cell.headerClasses){if(cell.headerClasses.indexOf("dojoDndItem")==-1){cell.headerClasses+=" dojoDndItem";}}else{cell.headerClasses="dojoDndItem";}}if(cell.attrs){if(cell.attrs.indexOf("dndType='gridColumn_")==-1){cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";}}else{cell.attrs="dndType='gridColumn_"+this.grid.id+"'";}}_333=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_333[5]=(_331!=undefined?_331:_330(cell));_333[3]=cell.customStyles.join(";");_333[1]=cell.customClasses.join(" ");html.push(_333.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var n,x=e.layerX;if(has("mozilla")||has("ie")>=9){n=_311(e.target,_314("th"));x-=(n&&n.offsetLeft)||0;var t=e.sourceView.getScrollbarWidth();if(!this.grid.isLeftToRight()){table=_311(n,_314("table"));x-=(table&&table.offsetLeft)||0;}}n=_311(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareResize:function(e,mod){do{var i=e.cellIndex;e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);}while(e.cellNode&&e.cellNode.style.display=="none");return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&cell.canResize();},overLeftResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return(e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);}var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);return t;},overRightResizeArea:function(e){if(html.hasClass(win.body(),"dojoDndMove")){return false;}if(has("ie")){var tN=e.target;if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){return false;}}if(this.grid.isLeftToRight()){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);}return(e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);},domousemove:function(e){if(!this.moveable){var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));if(c&&!this.canResize(e)){c="dojoxGridColNoResize";}html.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));html.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));if(c){_307.stop(e);}}},domousedown:function(e){if(!this.moveable){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}else{this.grid.onMouseDown(e);this.grid.onMouseOverRow(e);}}},doclick:function(e){if(this._skipBogusClicks){_307.stop(e);return true;}return false;},colResizeSetup:function(e,_334){var _335=html.contentBox(e.sourceView.headerNode);if(_334){this.lineDiv=document.createElement("div");var vw=html.position(e.sourceView.headerNode,true);var _336=html.contentBox(e.sourceView.domNode);var l=e.pageX;if(!this.grid.isLeftToRight()&&has("ie")<8){l-=_30a.getScrollbar().w;}html.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_336.h+_335.h)+"px"});html.addClass(this.lineDiv,"dojoxGridResizeColLine");this.lineDiv._origLeft=l;win.body().appendChild(this.lineDiv);}var _337=[],_338=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_338[i]);i++){_337.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var view=e.sourceView;var adj=this.grid.isLeftToRight()?1:-1;var _339=e.grid.views.views;var _33a=[];for(var j=view.idx+adj,_33b;(_33b=_339[j]);j=j+adj){_33a.push({node:_33b.headerNode,left:window.parseInt(_33b.headerNode.style.left)});}var _33c=view.headerContentNode.firstChild;var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:html.contentBox(e.cellNode).w,vw:_335.w,table:_33c,tw:html.contentBox(_33c).w,spanners:_337,followers:_33a};return drag;},beginColumnResize:function(e){this.moverDiv=document.createElement("div");html.style(this.moverDiv,{position:"absolute",left:0});win.body().appendChild(this.moverDiv);html.addClass(this.grid.domNode,"dojoxGridColumnResizing");var m=(this.moveable=new _309(this.moverDiv));var drag=this.colResizeSetup(e,true);m.onMove=lang.hitch(this,"doResizeColumn",drag);_308.connect(m,"onMoveStop",lang.hitch(this,function(){this.endResizeColumn(drag);if(drag.node.releaseCapture){drag.node.releaseCapture();}this.moveable.destroy();delete this.moveable;this.moveable=null;html.removeClass(this.grid.domNode,"dojoxGridColumnResizing");}));if(e.cellNode.setCapture){e.cellNode.setCapture();}m.onMouseDown(e);},doResizeColumn:function(_33d,_33e,_33f){var _340=_33f.l;var data={deltaX:_340,w:_33d.w+(this.grid.isLeftToRight()?_340:-_340),vw:_33d.vw+_340,tw:_33d.tw+_340};this.dragRecord={inDrag:_33d,mover:_33e,leftTop:_33f};if(data.w>=this.minColWidth){if(!_33e){this.doResizeNow(_33d,data);}else{html.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");}}},endResizeColumn:function(_341){if(this.dragRecord){var _342=this.dragRecord.leftTop;var _343=this.grid.isLeftToRight()?_342.l:-_342.l;_343+=Math.max(_341.w+_343,this.minColWidth)-(_341.w+_343);if(has("webkit")&&_341.spanners.length){_343+=html._getPadBorderExtents(_341.spanners[0].node).w;}var data={deltaX:_343,w:_341.w+_343,vw:_341.vw+_343,tw:_341.tw+_343};this.doResizeNow(_341,data);delete this.dragRecord;}html.destroy(this.lineDiv);html.destroy(this.moverDiv);html.destroy(this.moverDiv);delete this.moverDiv;this._skipBogusClicks=true;_341.view.update();this._skipBogusClicks=false;this.grid.onResizeColumn(_341.index);},doResizeNow:function(_344,data){_344.view.convertColPctToFixed();if(_344.view.flexCells&&!_344.view.testFlexCells()){var t=_310(_344.node);if(t){(t.style.width="");}}var i,s,sw,f,fl;for(i=0;(s=_344.spanners[i]);i++){sw=s.width+data.deltaX;if(sw>0){s.node.style.width=sw+"px";_344.view.setColWidth(s.index,sw);}}if(this.grid.isLeftToRight()||!has("ie")){for(i=0;(f=_344.followers[i]);i++){fl=f.left+data.deltaX;f.node.style.left=fl+"px";}}_344.node.style.width=data.w+"px";_344.view.setColWidth(_344.index,data.w);_344.view.headerNode.style.width=data.vw+"px";_344.view.setColumnsWidth(data.tw);if(!this.grid.isLeftToRight()){_344.view.headerNode.scrollLeft=_344.scrollLeft+data.deltaX;}}});dg._TableMap=lang.extend(function(rows){this.mapRows(rows);},{map:null,mapRows:function(_345){var _346=_345.length;if(!_346){return;}this.map=[];var row;for(var k=0;(row=_345[k]);k++){this.map[k]=[];}for(var j=0;(row=_345[j]);j++){for(var i=0,x=0,cell,_347,_348;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_348=cell.rowSpan||1;_347=cell.colSpan||1;for(var y=0;y<_348;y++){for(var s=0;s<_347;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_347;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}}},getMapCoords:function(_349,_34a){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_34a&&cell.r==_349){return{j:j,i:i};}}}return{j:-1,i:-1};},getNode:function(_34b,_34c,_34d){var row=_34b&&_34b.rows[_34c];return row&&row.cells[_34d];},_findOverlappingNodes:function(_34e,_34f,_350){var _351=[];var m=this.getMapCoords(_34f,_350);for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}var rw=row[m.i];var n=(rw?this.getNode(_34e,rw.r,rw.c):null);if(n){_351.push(n);}}return _351;},findOverlappingNodes:function(_352){return this._findOverlappingNodes(_310(_352),_30c(_352.parentNode),_30b(_352));}});return{_Builder:_318,_HeaderBuilder:_32f,_ContentBuilder:_329};});},"dojox/widget/PortletDialogSettings":function(){define("dojox/widget/PortletDialogSettings",["dojo/_base/declare","dojo/_base/kernel","dojo/fx","dijit/TitlePane","dijit/Dialog"],function(_353,_354,fx,_355,_356){return _353("dojox.widget.PortletDialogSettings",[dojox.widget.PortletSettings],{dimensions:null,constructor:function(_357,node){this.dimensions=_357.dimensions||[300,100];},toggle:function(){if(!this.dialog){this.dialog=new dijit.Dialog({title:this.title});dojo.body().appendChild(this.dialog.domNode);this.dialog.containerNode.appendChild(this.domNode);dojo.style(this.dialog.domNode,{"width":this.dimensions[0]+"px","height":this.dimensions[1]+"px"});dojo.style(this.domNode,"display","");}if(this.dialog.open){this.dialog.hide();}else{this.dialog.show(this.domNode);}}});});},"dojox/storage/manager":function(){define("dojox/storage/manager",["dojo/_base/config","dojo/_base/lang","dojo/_base/array"],function(_358,lang,_359){var _35a=new function(){this.currentProvider=null;this.available=false;this.providers=[];this._initialized=false;this._onLoadListeners=[];this.initialize=function(){this.autodetect();};this.register=function(name,_35b){this.providers.push(_35b);this.providers[name]=_35b;};this.setProvider=function(_35c){};this.autodetect=function(){if(this._initialized){return;}var _35d=_358["forceStorageProvider"]||false;var _35e;for(var i=0;i<this.providers.length;i++){_35e=this.providers[i];if(_35d&&_35d==_35e.declaredClass){_35e.isAvailable();break;}else{if(!_35d&&_35e.isAvailable()){break;}}}if(!_35e){this._initialized=true;this.available=false;this.currentProvider=null;this.loaded();return;}this.currentProvider=_35e;lang.mixin(dojox.storage,this.currentProvider);dojox.storage.initialize();this._initialized=true;this.available=true;};this.isAvailable=function(){return this.available;};this.addOnLoad=function(func){this._onLoadListeners.push(func);if(this.isInitialized()){this._fireLoaded();}};this.removeOnLoad=function(func){for(var i=0;i<this._onLoadListeners.length;i++){if(func==this._onLoadListeners[i]){this._onLoadListeners.splice(i,1);break;}}};this.isInitialized=function(){if(this.currentProvider!=null&&this.currentProvider.declaredClass=="dojox.storage.FlashStorageProvider"&&dojox.flash.ready==false){return false;}else{return this._initialized;}};this.supportsProvider=function(_35f){try{var _360=eval("new "+_35f+"()");var _361=_360.isAvailable();if(!_361){return false;}return _361;}catch(e){return false;}};this.getProvider=function(){return this.currentProvider;};this.loaded=function(){this._fireLoaded();};this._fireLoaded=function(){_359.forEach(this._onLoadListeners,function(i){try{i();}catch(e){}});};this.getResourceList=function(){var _362=[];_359.forEach(dojox.storage.manager.providers,function(_363){_362=_362.concat(_363.getResourceList());});return _362;};};return _35a;});},"dojox/charting/axis2d/Base":function(){define("dojox/charting/axis2d/Base",["dojo/_base/declare","../Element"],function(_364,_365){return _364("dojox.charting.axis2d.Base",_365,{constructor:function(_366,_367){this.vertical=_367&&_367.vertical;},clear:function(){return this;},initialized:function(){return false;},calculate:function(min,max,span){return this;},getScaler:function(){return null;},getTicks:function(){return null;},getOffsets:function(){return{l:0,r:0,t:0,b:0};},render:function(dim,_368){this.dirty=false;return this;}});});},"dojox/charting/Series":function(){define("dojox/charting/Series",["dojo/_base/lang","dojo/_base/declare","./Element"],function(lang,_369,_36a){return _369("dojox.charting.Series",_36a,{constructor:function(_36b,data,_36c){lang.mixin(this,_36c);if(typeof this.plot!="string"){this.plot="default";}this.update(data);},clear:function(){this.dyn={};},update:function(data){if(lang.isArray(data)){this.data=data;}else{this.source=data;this.data=this.source.data;if(this.source.setSeriesObject){this.source.setSeriesObject(this);}}this.dirty=true;this.clear();}});});},"dojox/lang/functional/lambda":function(){define("dojox/lang/functional/lambda",["../..","dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(_36d,dojo,lang,arr){var df=lang.getObject("lang.functional",true,_36d);var _36e={};var _36f="ab".split(/a*/).length>1?String.prototype.split:function(sep){var r=this.split.call(this,sep),m=sep.exec(this);if(m&&m.index==0){r.unshift("");}return r;};var _370=function(s){var args=[],_371=_36f.call(s,/\s*->\s*/m);if(_371.length>1){while(_371.length){s=_371.pop();args=_371.pop().split(/\s*,\s*|\s+/m);if(_371.length){_371.push("(function("+args+"){return ("+s+")})");}}}else{if(s.match(/\b_\b/)){args=["_"];}else{var l=s.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),r=s.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(l||r){if(l){args.push("$1");s="$1"+s;}if(r){args.push("$2");s=s+"$2";}}else{var vars=s.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*:|this|true|false|null|undefined|typeof|instanceof|in|delete|new|void|arguments|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|escape|eval|isFinite|isNaN|parseFloat|parseInt|unescape|dojo|dijit|dojox|window|document|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,"").match(/([a-z_$][a-z_$\d]*)/gi)||[],t={};arr.forEach(vars,function(v){if(!(v in t)){args.push(v);t[v]=1;}});}}}return{args:args,body:s};};var _372=function(a){return a.length?function(){var i=a.length-1,x=df.lambda(a[i]).apply(this,arguments);for(--i;i>=0;--i){x=df.lambda(a[i]).call(this,x);}return x;}:function(x){return x;};};lang.mixin(df,{rawLambda:function(s){return _370(s);},buildLambda:function(s){s=_370(s);return"function("+s.args.join(",")+"){return ("+s.body+");}";},lambda:function(s){if(typeof s=="function"){return s;}if(s instanceof Array){return _372(s);}if(s in _36e){return _36e[s];}s=_370(s);return _36e[s]=new Function(s.args,"return ("+s.body+");");},clearLambdaCache:function(){_36e={};}});return df;});},"url:dojox/grid/resources/View.html":'<div class="dojoxGridView" role="presentation">\r\n\t<div class="dojoxGridHeader" dojoAttachPoint="headerNode" role="presentation">\r\n\t\t<div dojoAttachPoint="headerNodeContainer" style="width:9000em" role="presentation">\r\n\t\t\t<div dojoAttachPoint="headerContentNode" role="row"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<input type="checkbox" class="dojoxGridHiddenFocus" dojoAttachPoint="hiddenFocusNode" role="presentation" />\r\n\t<input type="checkbox" class="dojoxGridHiddenFocus" role="presentation" />\r\n\t<div class="dojoxGridScrollbox" dojoAttachPoint="scrollboxNode" role="presentation">\r\n\t\t<div class="dojoxGridContent" dojoAttachPoint="contentNode" hidefocus="hidefocus" role="presentation"></div>\r\n\t</div>\r\n</div>\r\n',"dojox/grid/enhanced/nls/Filter":function(){define("dojox/grid/enhanced/nls/Filter",{root:({"clearFilterDialogTitle":"Clear Filter","filterDefDialogTitle":"Filter","ruleTitleTemplate":"Rule ${0}","conditionEqual":"equal","conditionNotEqual":"does not equal","conditionLess":"is less than","conditionLessEqual":"less than or equal","conditionLarger":"is greater than","conditionLargerEqual":"greater than or equal","conditionContains":"contains","conditionIs":"is","conditionStartsWith":"starts with","conditionEndWith":"ends with","conditionNotContain":"does not contain","conditionIsNot":"is not","conditionNotStartWith":"does not start with","conditionNotEndWith":"does not end with","conditionBefore":"before","conditionAfter":"after","conditionRange":"range","conditionIsEmpty":"is empty","all":"all","any":"any","relationAll":"all rules","waiRelAll":"Match all of the following rules:","relationAny":"any rules","waiRelAny":"Match any of the following rules:","relationMsgFront":"Match:","relationMsgTail":"","and":"and","or":"or","addRuleButton":"Add Rule","waiAddRuleButton":"Add a new rule","removeRuleButton":"Remove Rule","waiRemoveRuleButtonTemplate":"Remove rule ${0}","cancelButton":"Cancel","waiCancelButton":"Cancel this dialog","clearButton":"Clear","waiClearButton":"Clear the filter","filterButton":"Filter","waiFilterButton":"Submit the filter","columnSelectLabel":"Column","waiColumnSelectTemplate":"Column for rule ${0}","conditionSelectLabel":"Condition","waiConditionSelectTemplate":"Condition for rule ${0}","valueBoxLabel":"Value","waiValueBoxTemplate":"Enter value to filter for rule ${0}","rangeTo":"to","rangeTemplate":"from ${0} to ${1}","statusTipHeaderColumn":"Column","statusTipHeaderCondition":"Rules","statusTipTitle":"Filter Bar","statusTipMsg":"Click the filter bar here to filter on values in ${0}.","anycolumn":"any column","statusTipTitleNoFilter":"Filter Bar","statusTipTitleHasFilter":"Filter","statusTipRelAny":"Match any rules.","statusTipRelAll":"Match all rules.","defaultItemsName":"items","filterBarMsgHasFilterTemplate":"${0} of ${1} ${2} shown.","filterBarMsgNoFilterTemplate":"No filter applied","filterBarDefButton":"Define filter","waiFilterBarDefButton":"Filter the table","a11yFilterBarDefButton":"Filter...","filterBarClearButton":"Clear filter","waiFilterBarClearButton":"Clear the filter","closeFilterBarBtn":"Close filter bar","clearFilterMsg":"This will remove the filter and show all available records.","anyColumnOption":"Any Column","trueLabel":"True","falseLabel":"False"}),"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"es":true,"fi":true,"fr":true,"he":true,"hr":true,"hu":true,"hr":true,"it":true,"ja":true,"kk":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-tw":true});},"dojox/widget/Portlet":function(){define("dojox/widget/Portlet",["dojo/_base/declare","dojo/_base/kernel","dojo/fx","dijit/TitlePane","./PortletSettings","./PortletDialogSettings"],function(_373,_374,fx,_375,_376,_377){_374.experimental("dojox.widget.Portlet");return _373("dojox.widget.Portlet",[_375,dijit._Container],{resizeChildren:true,closable:true,_parents:null,_size:null,dragRestriction:false,buildRendering:function(){this.inherited(arguments);dojo.style(this.domNode,"visibility","hidden");},postCreate:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dojoxPortlet");dojo.removeClass(this.arrowNode,"dijitArrowNode");dojo.addClass(this.arrowNode,"dojoxPortletIcon dojoxArrowDown");dojo.addClass(this.titleBarNode,"dojoxPortletTitle");dojo.addClass(this.hideNode,"dojoxPortletContentOuter");dojo.addClass(this.domNode,"dojoxPortlet-"+(!this.dragRestriction?"movable":"nonmovable"));var _378=this;if(this.resizeChildren){this.subscribe("/dnd/drop",function(){_378._updateSize();});this.subscribe("/Portlet/sizechange",function(_379){_378.onSizeChange(_379);});this.connect(window,"onresize",function(){_378._updateSize();});var _37a=dojo.hitch(this,function(id,_37b){var _37c=dijit.byId(id);if(_37c.selectChild){var s=this.subscribe(id+"-selectChild",function(_37d){var n=_378.domNode.parentNode;while(n){if(n==_37d.domNode){_378.unsubscribe(s);_378._updateSize();break;}n=n.parentNode;}});var _37e=dijit.byId(_37b);if(_37c&&_37e){_378._parents.push({parent:_37c,child:_37e});}}});var _37f;this._parents=[];for(var p=this.domNode.parentNode;p!=null;p=p.parentNode){var id=p.getAttribute?p.getAttribute("widgetId"):null;if(id){_37a(id,_37f);_37f=id;}}}this.connect(this.titleBarNode,"onmousedown",function(evt){if(dojo.hasClass(evt.target,"dojoxPortletIcon")){dojo.stopEvent(evt);return false;}return true;});this.connect(this._wipeOut,"onEnd",function(){_378._publish();});this.connect(this._wipeIn,"onEnd",function(){_378._publish();});if(this.closable){this.closeIcon=this._createIcon("dojoxCloseNode","dojoxCloseNodeHover",dojo.hitch(this,"onClose"));dojo.style(this.closeIcon,"display","");}},startup:function(){if(this._started){return;}var _380=this.getChildren();this._placeSettingsWidgets();dojo.forEach(_380,function(_381){try{if(!_381.started&&!_381._started){_381.startup();}}catch(e){}});this.inherited(arguments);dojo.style(this.domNode,"visibility","visible");},_placeSettingsWidgets:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,function(_382){if(_382.portletIconClass&&_382.toggle&&!_382.get("portlet")){this._createIcon(_382.portletIconClass,_382.portletIconHoverClass,dojo.hitch(_382,"toggle"));dojo.place(_382.domNode,this.containerNode,"before");_382.set("portlet",this);this._settingsWidget=_382;}}));},_createIcon:function(_383,_384,fn){var icon=dojo.create("div",{"class":"dojoxPortletIcon "+_383,"waiRole":"presentation"});dojo.place(icon,this.arrowNode,"before");this.connect(icon,"onclick",fn);if(_384){this.connect(icon,"onmouseover",function(){dojo.addClass(icon,_384);});this.connect(icon,"onmouseout",function(){dojo.removeClass(icon,_384);});}return icon;},onClose:function(evt){dojo.style(this.domNode,"display","none");},onSizeChange:function(_385){if(_385==this){return;}this._updateSize();},_updateSize:function(){if(!this.open||!this._started||!this.resizeChildren){return;}if(this._timer){clearTimeout(this._timer);}this._timer=setTimeout(dojo.hitch(this,function(){var size={w:dojo.style(this.domNode,"width"),h:dojo.style(this.domNode,"height")};for(var i=0;i<this._parents.length;i++){var p=this._parents[i];var sel=p.parent.selectedChildWidget;if(sel&&sel!=p.child){return;}}if(this._size){if(this._size.w==size.w&&this._size.h==size.h){return;}}this._size=size;var fns=["resize","layout"];this._timer=null;var kids=this.getChildren();dojo.forEach(kids,function(_386){for(var i=0;i<fns.length;i++){if(dojo.isFunction(_386[fns[i]])){try{_386[fns[i]]();}catch(e){}break;}}});this.onUpdateSize();}),100);},onUpdateSize:function(){},_publish:function(){dojo.publish("/Portlet/sizechange",[this]);},_onTitleClick:function(evt){if(evt.target==this.arrowNode){this.inherited(arguments);}},addChild:function(_387){this._size=null;this.inherited(arguments);if(this._started){this._placeSettingsWidgets();this._updateSize();}if(this._started&&!_387.started&&!_387._started){_387.startup();}},destroyDescendants:function(_388){this.inherited(arguments);if(this._settingsWidget){this._settingsWidget.destroyRecursive(_388);}},destroy:function(){if(this._timer){clearTimeout(this._timer);}this.inherited(arguments);},_setCss:function(){this.inherited(arguments);dojo.style(this.arrowNode,"display",this.toggleable?"":"none");}});});},"dojox/charting/Element":function(){define("dojox/charting/Element",["dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/_base/declare","dojox/gfx","dojox/gfx/utils","dojox/gfx/shape"],function(lang,arr,_389,_38a,gfx,_38b,_38c){return _38a("dojox.charting.Element",null,{chart:null,group:null,htmlElements:null,dirty:true,constructor:function(_38d){this.chart=_38d;this.group=null;this.htmlElements=[];this.dirty=true;this.trailingSymbol="...";this._events=[];},createGroup:function(_38e){if(!_38e){_38e=this.chart.surface;}if(!this.group){this.group=_38e.createGroup();}return this;},purgeGroup:function(){this.destroyHtmlElements();if(this.group){_38b.forEach(this.group,function(_38f){_38c.dispose(_38f);});this.group.clear();this.group.removeShape();this.group=null;}this.dirty=true;if(this._events.length){arr.forEach(this._events,function(item){item.shape.disconnect(item.handle);});this._events=[];}return this;},cleanGroup:function(_390){this.destroyHtmlElements();if(!_390){_390=this.chart.surface;}if(this.group){_38b.forEach(this.group,function(_391){_38c.dispose(_391);});this.group.clear();}else{this.group=_390.createGroup();}this.dirty=true;return this;},destroyHtmlElements:function(){if(this.htmlElements.length){arr.forEach(this.htmlElements,_389.destroy);this.htmlElements=[];}},destroy:function(){this.purgeGroup();},getTextWidth:function(s,font){return gfx._base._getTextBox(s,{font:font}).w||0;},getTextWithLimitLength:function(s,font,_392,_393){if(!s||s.length<=0){return{text:"",truncated:_393||false};}if(!_392||_392<=0){return{text:s,truncated:_393||false};}var _394=2,_395=0.618,_396=s.substring(0,1)+this.trailingSymbol,_397=this.getTextWidth(_396,font);if(_392<=_397){return{text:_396,truncated:true};}var _398=this.getTextWidth(s,font);if(_398<=_392){return{text:s,truncated:_393||false};}else{var _399=0,end=s.length;while(_399<end){if(end-_399<=_394){while(this.getTextWidth(s.substring(0,_399)+this.trailingSymbol,font)>_392){_399-=1;}return{text:(s.substring(0,_399)+this.trailingSymbol),truncated:true};}var _39a=_399+Math.round((end-_399)*_395),_39b=this.getTextWidth(s.substring(0,_39a),font);if(_39b<_392){_399=_39a;end=end;}else{_399=_399;end=_39a;}}}},getTextWithLimitCharCount:function(s,font,_39c,_39d){if(!s||s.length<=0){return{text:"",truncated:_39d||false};}if(!_39c||_39c<=0||s.length<=_39c){return{text:s,truncated:_39d||false};}return{text:s.substring(0,_39c)+this.trailingSymbol,truncated:true};},_plotFill:function(fill,dim,_39e){if(!fill||!fill.type||!fill.space){return fill;}var _39f=fill.space;switch(fill.type){case"linear":if(_39f==="plot"||_39f==="shapeX"||_39f==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_39f;if(_39f==="plot"||_39f==="shapeX"){var span=dim.height-_39e.t-_39e.b;fill.y1=_39e.t+span*fill.y1/100;fill.y2=_39e.t+span*fill.y2/100;}if(_39f==="plot"||_39f==="shapeY"){var span=dim.width-_39e.l-_39e.r;fill.x1=_39e.l+span*fill.x1/100;fill.x2=_39e.l+span*fill.x2/100;}}break;case"radial":if(_39f==="plot"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_39f;var _3a0=dim.width-_39e.l-_39e.r,_3a1=dim.height-_39e.t-_39e.b;fill.cx=_39e.l+_3a0*fill.cx/100;fill.cy=_39e.t+_3a1*fill.cy/100;fill.r=fill.r*Math.sqrt(_3a0*_3a0+_3a1*_3a1)/200;}break;case"pattern":if(_39f==="plot"||_39f==="shapeX"||_39f==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_39f;if(_39f==="plot"||_39f==="shapeX"){var span=dim.height-_39e.t-_39e.b;fill.y=_39e.t+span*fill.y/100;fill.height=span*fill.height/100;}if(_39f==="plot"||_39f==="shapeY"){var span=dim.width-_39e.l-_39e.r;fill.x=_39e.l+span*fill.x/100;fill.width=span*fill.width/100;}}break;}return fill;},_shapeFill:function(fill,bbox){if(!fill||!fill.space){return fill;}var _3a2=fill.space;switch(fill.type){case"linear":if(_3a2==="shape"||_3a2==="shapeX"||_3a2==="shapeY"){fill=gfx.makeParameters(gfx.defaultLinearGradient,fill);fill.space=_3a2;if(_3a2==="shape"||_3a2==="shapeX"){var span=bbox.width;fill.x1=bbox.x+span*fill.x1/100;fill.x2=bbox.x+span*fill.x2/100;}if(_3a2==="shape"||_3a2==="shapeY"){var span=bbox.height;fill.y1=bbox.y+span*fill.y1/100;fill.y2=bbox.y+span*fill.y2/100;}}break;case"radial":if(_3a2==="shape"){fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_3a2;fill.cx=bbox.x+bbox.width/2;fill.cy=bbox.y+bbox.height/2;fill.r=fill.r*bbox.width/200;}break;case"pattern":if(_3a2==="shape"||_3a2==="shapeX"||_3a2==="shapeY"){fill=gfx.makeParameters(gfx.defaultPattern,fill);fill.space=_3a2;if(_3a2==="shape"||_3a2==="shapeX"){var span=bbox.width;fill.x=bbox.x+span*fill.x/100;fill.width=span*fill.width/100;}if(_3a2==="shape"||_3a2==="shapeY"){var span=bbox.height;fill.y=bbox.y+span*fill.y/100;fill.height=span*fill.height/100;}}break;}return fill;},_pseudoRadialFill:function(fill,_3a3,_3a4,_3a5,end){if(!fill||fill.type!=="radial"||fill.space!=="shape"){return fill;}var _3a6=fill.space;fill=gfx.makeParameters(gfx.defaultRadialGradient,fill);fill.space=_3a6;if(arguments.length<4){fill.cx=_3a3.x;fill.cy=_3a3.y;fill.r=fill.r*_3a4/100;return fill;}var _3a7=arguments.length<5?_3a5:(end+_3a5)/2;return{type:"linear",x1:_3a3.x,y1:_3a3.y,x2:_3a3.x+fill.r*_3a4*Math.cos(_3a7)/100,y2:_3a3.y+fill.r*_3a4*Math.sin(_3a7)/100,colors:fill.colors};return fill;}});});},"dojox/grid/enhanced/_Events":function(){define("dojox/grid/enhanced/_Events",["dojo/_base/kernel","dojo/_base/declare","dojo/keys","dojo/_base/html","dojo/_base/event","dojox/grid/_Events"],function(dojo,_3a8,keys,html,_3a9,_3aa){return _3a8("dojox.grid.enhanced._Events",null,{_events:null,headerCellActiveClass:"dojoxGridHeaderActive",cellActiveClass:"dojoxGridCellActive",rowActiveClass:"dojoxGridRowActive",constructor:function(_3ab){this._events=new _3aa();_3ab.mixin(_3ab,this);},dokeyup:function(e){this.focus.currentArea().keyup(e);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _3ac=this.focus;var _3ad=this.edit.isEditing();switch(e.keyCode){case keys.TAB:if(e.ctrlKey){return;}_3ac.tab(e.shiftKey?-1:1,e);break;case keys.UP_ARROW:case keys.DOWN_ARROW:if(_3ad){return;}_3ac.currentArea().move(e.keyCode==keys.UP_ARROW?-1:1,0,e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(_3ad){return;}var _3ae=(e.keyCode==keys.LEFT_ARROW)?1:-1;if(html._isBodyLtr()){_3ae*=-1;}_3ac.currentArea().move(0,_3ae,e);break;case keys.F10:if(this.menus&&e.shiftKey){this.onRowContextMenu(e);}break;default:_3ac.currentArea().keydown(e);break;}},domouseup:function(e){if(e.cellNode){this.onMouseUp(e);}else{this.onRowSelectorMouseUp(e);}},domousedown:function(e){if(!e.cellNode){this.onRowSelectorMouseDown(e);}},onMouseUp:function(e){this[e.rowIndex==-1?"onHeaderCellMouseUp":"onCellMouseUp"](e);},onCellMouseDown:function(e){html.addClass(e.cellNode,this.cellActiveClass);html.addClass(e.rowNode,this.rowActiveClass);},onCellMouseUp:function(e){html.removeClass(e.cellNode,this.cellActiveClass);html.removeClass(e.rowNode,this.rowActiveClass);},onCellClick:function(e){this._events.onCellClick.call(this,e);this.focus.contentMouseEvent(e);},onCellDblClick:function(e){if(this.pluginMgr.isFixedCell(e.cell)){return;}if(this._click.length>1&&(!this._click[0]||!this._click[1])){this._click[0]=this._click[1]=e;}this._events.onCellDblClick.call(this,e);},onRowClick:function(e){this.edit.rowClick(e);if(!e.cell||!this.plugin("indirectSelection")){this.selection.clickSelectEvent(e);}},onRowContextMenu:function(e){if(!this.edit.isEditing()&&this.menus){this.showMenu(e);}},onSelectedRegionContextMenu:function(e){if(this.selectedRegionMenu){this.selectedRegionMenu._openMyself({target:e.target,coords:e.keyCode!==keys.F10&&"pageX" in e?{x:e.pageX,y:e.pageY}:null});_3a9.stop(e);}},onHeaderCellMouseOut:function(e){if(e.cellNode){html.removeClass(e.cellNode,this.cellOverClass);html.removeClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellMouseDown:function(e){if(e.cellNode){html.addClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellMouseUp:function(e){if(e.cellNode){html.removeClass(e.cellNode,this.headerCellActiveClass);}},onHeaderCellClick:function(e){this.focus.currentArea("header");if(!e.cell.isRowSelector){this._events.onHeaderCellClick.call(this,e);}this.focus.headerMouseEvent(e);},onRowSelectorMouseDown:function(e){this.focus.focusArea("rowHeader",e);},onRowSelectorMouseUp:function(e){},onMouseUpRow:function(e){if(e.rowIndex!=-1){this.onRowMouseUp(e);}},onRowMouseUp:function(e){}});});},"dojox/validate/regexp":function(){define("dojox/validate/regexp",["dojo/_base/lang","dojo/regexp","dojox/main"],function(lang,_3af,_3b0){var _3b1=lang.getObject("validate.regexp",true,_3b0);_3b1=_3b0.validate.regexp={ipAddress:function(_3b2){_3b2=(typeof _3b2=="object")?_3b2:{};if(typeof _3b2.allowDottedDecimal!="boolean"){_3b2.allowDottedDecimal=true;}if(typeof _3b2.allowDottedHex!="boolean"){_3b2.allowDottedHex=true;}if(typeof _3b2.allowDottedOctal!="boolean"){_3b2.allowDottedOctal=true;}if(typeof _3b2.allowDecimal!="boolean"){_3b2.allowDecimal=true;}if(typeof _3b2.allowHex!="boolean"){_3b2.allowHex=true;}if(typeof _3b2.allowIPv6!="boolean"){_3b2.allowIPv6=true;}if(typeof _3b2.allowHybrid!="boolean"){_3b2.allowHybrid=true;}var _3b3="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var _3b4="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";var _3b5="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";var _3b6="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";var _3b7="0[xX]0*[\\da-fA-F]{1,8}";var _3b8="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";var _3b9="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var a=[];if(_3b2.allowDottedDecimal){a.push(_3b3);}if(_3b2.allowDottedHex){a.push(_3b4);}if(_3b2.allowDottedOctal){a.push(_3b5);}if(_3b2.allowDecimal){a.push(_3b6);}if(_3b2.allowHex){a.push(_3b7);}if(_3b2.allowIPv6){a.push(_3b8);}if(_3b2.allowHybrid){a.push(_3b9);}var _3ba="";if(a.length>0){_3ba="("+a.join("|")+")";}return _3ba;},host:function(_3bb){_3bb=(typeof _3bb=="object")?_3bb:{};if(typeof _3bb.allowIP!="boolean"){_3bb.allowIP=true;}if(typeof _3bb.allowLocal!="boolean"){_3bb.allowLocal=false;}if(typeof _3bb.allowPort!="boolean"){_3bb.allowPort=true;}if(typeof _3bb.allowNamed!="boolean"){_3bb.allowNamed=false;}var _3bc="(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";var _3bd="(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)";var _3be=_3bb.allowPort?"(\\:\\d+)?":"";var _3bf="((?:"+_3bc+"\\.)+"+_3bd+"\\.?)";if(_3bb.allowIP){_3bf+="|"+_3b1.ipAddress(_3bb);}if(_3bb.allowLocal){_3bf+="|localhost";}if(_3bb.allowNamed){_3bf+="|^[^-][a-zA-Z0-9_-]*";}return"("+_3bf+")"+_3be;},url:function(_3c0){_3c0=(typeof _3c0=="object")?_3c0:{};if(!("scheme" in _3c0)){_3c0.scheme=[true,false];}var _3c1=_3af.buildGroupRE(_3c0.scheme,function(q){if(q){return"(https?|ftps?)\\://";}return"";});var _3c2="(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?";return _3c1+_3b1.host(_3c0)+_3c2;},emailAddress:function(_3c3){_3c3=(typeof _3c3=="object")?_3c3:{};if(typeof _3c3.allowCruft!="boolean"){_3c3.allowCruft=false;}_3c3.allowPort=false;var _3c4="([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+";var _3c5=_3c4+"@"+_3b1.host(_3c3);if(_3c3.allowCruft){_3c5="<?(mailto\\:)?"+_3c5+">?";}return _3c5;},emailAddressList:function(_3c6){_3c6=(typeof _3c6=="object")?_3c6:{};if(typeof _3c6.listSeparator!="string"){_3c6.listSeparator="\\s;,";}var _3c7=_3b1.emailAddress(_3c6);var _3c8="("+_3c7+"\\s*["+_3c6.listSeparator+"]\\s*)*"+_3c7+"\\s*["+_3c6.listSeparator+"]?\\s*";return _3c8;},numberFormat:function(_3c9){_3c9=(typeof _3c9=="object")?_3c9:{};if(typeof _3c9.format=="undefined"){_3c9.format="###-###-####";}var _3ca=function(_3cb){return _3af.escapeString(_3cb,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d");};return _3af.buildGroupRE(_3c9.format,_3ca);},ca:{postalCode:function(){return"([A-Z][0-9][A-Z] [0-9][A-Z][0-9])";},province:function(){return"(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)";}},us:{state:function(_3cc){_3cc=(typeof _3cc=="object")?_3cc:{};if(typeof _3cc.allowTerritories!="boolean"){_3cc.allowTerritories=true;}if(typeof _3cc.allowMilitary!="boolean"){_3cc.allowMilitary=true;}var _3cd="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";var _3ce="AS|FM|GU|MH|MP|PW|PR|VI";var _3cf="AA|AE|AP";if(_3cc.allowTerritories){_3cd+="|"+_3ce;}if(_3cc.allowMilitary){_3cd+="|"+_3cf;}return"("+_3cd+")";}}};return _3b1;});},"dojox/lang/functional/array":function(){define("dojox/lang/functional/array",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","./lambda"],function(dojo,lang,arr,win,df){var _3d0={};lang.mixin(df,{filter:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var t=[],v,i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){v=a.next();if(f.call(o,v,i++,a)){t.push(v);}}}else{for(i in a){if(!(i in _3d0)){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}}}}return t;},forEach:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();f.call(o,a.next(),i++,a)){}}else{for(i in a){if(!(i in _3d0)){f.call(o,a[i],i,a);}}}}return o;},map:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var t,n,i;if(lang.isArray(a)){t=new Array(n=a.length);for(i=0;i<n;t[i]=f.call(o,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){t=[];for(i=0;a.hasNext();t.push(f.call(o,a.next(),i++,a))){}}else{t=[];for(i in a){if(!(i in _3d0)){t.push(f.call(o,a[i],i,a));}}}}return t;},every:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(!f.call(o,a[i],i,a)){return false;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(!f.call(o,a.next(),i++,a)){return false;}}}else{for(i in a){if(!(i in _3d0)){if(!f.call(o,a[i],i,a)){return false;}}}}}return true;},some:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;++i){if(f.call(o,a[i],i,a)){return true;}}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();){if(f.call(o,a.next(),i++,a)){return true;}}}else{for(i in a){if(!(i in _3d0)){if(f.call(o,a[i],i,a)){return true;}}}}}return false;}});return df;});},"dojox/gfx/vml":function(){define("dojox/gfx/vml",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/_base/sniff","dojo/_base/config","dojo/dom","dojo/dom-geometry","dojo/_base/window","./_base","./shape","./path","./arc","./gradient","./matrix"],function(lang,_3d1,arr,_3d2,has,_3d3,dom,_3d4,win,g,gs,_3d5,_3d6,_3d7,m){var vml=g.vml={};vml.xmlns="urn:schemas-microsoft-com:vml";document.namespaces.add("v",vml.xmlns);var _3d8=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],i=0,l=1,s=document.createStyleSheet();if(has("ie")>=8){i=1;l=_3d8.length;}for(;i<l;++i){s.addRule("v\\:"+_3d8[i],"behavior:url(#default#VML); display:inline-block");}vml.text_alignment={start:"left",middle:"center",end:"right"};vml._parseFloat=function(str){return str.match(/^\d+f$/i)?parseInt(str)/65536:parseFloat(str);};vml._bool={"t":1,"true":1};_3d1("dojox.gfx.vml.Shape",gs.Shape,{setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.filled="f";return this;}var i,f,fo,a,s;if(typeof fill=="object"&&"type" in fill){switch(fill.type){case"linear":var _3d9=this._getRealMatrix(),bbox=this.getBoundingBox(),_3da=this._getRealBBox?this._getRealBBox():this.getTransformedBoundingBox();s=[];if(this.fillStyle!==fill){this.fillStyle=g.makeParameters(g.defaultLinearGradient,fill);}f=g.gradient.project(_3d9,this.fillStyle,{x:bbox.x,y:bbox.y},{x:bbox.x+bbox.width,y:bbox.y+bbox.height},_3da[0],_3da[2]);a=f.colors;if(a[0].offset.toFixed(5)!="0.00000"){s.push("0 "+g.normalizeColor(a[0].color).toHex());}for(i=0;i<a.length;++i){s.push(a[i].offset.toFixed(5)+" "+g.normalizeColor(a[i].color).toHex());}i=a.length-1;if(a[i].offset.toFixed(5)!="1.00000"){s.push("1 "+g.normalizeColor(a[i].color).toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradient";fo.angle=(270-m._radToDeg(f.angle))%360;fo.on=true;break;case"radial":f=g.makeParameters(g.defaultRadialGradient,fill);this.fillStyle=f;var l=parseFloat(this.rawNode.style.left),t=parseFloat(this.rawNode.style.top),w=parseFloat(this.rawNode.style.width),h=parseFloat(this.rawNode.style.height),c=isNaN(w)?1:2*f.r/w;a=[];if(f.colors[0].offset>0){a.push({offset:1,color:g.normalizeColor(f.colors[0].color)});}arr.forEach(f.colors,function(v,i){a.push({offset:1-v.offset*c,color:g.normalizeColor(v.color)});});i=a.length-1;while(i>=0&&a[i].offset<0){--i;}if(i<a.length-1){var q=a[i],p=a[i+1];p.color=_3d2.blendColors(q.color,p.color,q.offset/(q.offset-p.offset));p.offset=0;while(a.length-i>2){a.pop();}}i=a.length-1,s=[];if(a[i].offset>0){s.push("0 "+a[i].color.toHex());}for(;i>=0;--i){s.push(a[i].offset.toFixed(5)+" "+a[i].color.toHex());}fo=this.rawNode.fill;fo.colors.value=s.join(";");fo.method="sigma";fo.type="gradientradial";if(isNaN(w)||isNaN(h)||isNaN(l)||isNaN(t)){fo.focusposition="0.5 0.5";}else{fo.focusposition=((f.cx-l)/w).toFixed(5)+" "+((f.cy-t)/h).toFixed(5);}fo.focussize="0 0";fo.on=true;break;case"pattern":f=g.makeParameters(g.defaultPattern,fill);this.fillStyle=f;fo=this.rawNode.fill;fo.type="tile";fo.src=f.src;if(f.width&&f.height){fo.size.x=g.px2pt(f.width);fo.size.y=g.px2pt(f.height);}fo.alignShape="f";fo.position.x=0;fo.position.y=0;fo.origin.x=f.width?f.x/f.width:0;fo.origin.y=f.height?f.y/f.height:0;fo.on=true;break;}this.rawNode.fill.opacity=1;return this;}this.fillStyle=g.normalizeColor(fill);fo=this.rawNode.fill;if(!fo){fo=this.rawNode.ownerDocument.createElement("v:fill");}fo.method="any";fo.type="solid";fo.opacity=this.fillStyle.a;var _3db=this.rawNode.filters["DXImageTransform.Microsoft.Alpha"];if(_3db){_3db.opacity=Math.round(this.fillStyle.a*100);}this.rawNode.fillcolor=this.fillStyle.toHex();this.rawNode.filled=true;return this;},setStroke:function(_3dc){if(!_3dc){this.strokeStyle=null;this.rawNode.stroked="f";return this;}if(typeof _3dc=="string"||lang.isArray(_3dc)||_3dc instanceof _3d2){_3dc={color:_3dc};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_3dc);s.color=g.normalizeColor(s.color);var rn=this.rawNode;rn.stroked=true;rn.strokecolor=s.color.toCss();rn.strokeweight=s.width+"px";if(rn.stroke){rn.stroke.opacity=s.color.a;rn.stroke.endcap=this._translate(this._capMap,s.cap);if(typeof s.join=="number"){rn.stroke.joinstyle="miter";rn.stroke.miterlimit=s.join;}else{rn.stroke.joinstyle=s.join;}rn.stroke.dashstyle=s.style=="none"?"Solid":s.style;}return this;},_capMap:{butt:"flat"},_capMapReversed:{flat:"butt"},_translate:function(dict,_3dd){return(_3dd in dict)?dict[_3dd]:_3dd;},_applyTransform:function(){var _3de=this._getRealMatrix();if(_3de){var skew=this.rawNode.skew;if(typeof skew=="undefined"){for(var i=0;i<this.rawNode.childNodes.length;++i){if(this.rawNode.childNodes[i].tagName=="skew"){skew=this.rawNode.childNodes[i];break;}}}if(skew){skew.on="f";var mt=_3de.xx.toFixed(8)+" "+_3de.xy.toFixed(8)+" "+_3de.yx.toFixed(8)+" "+_3de.yy.toFixed(8)+" 0 0",_3df=Math.floor(_3de.dx).toFixed()+"px "+Math.floor(_3de.dy).toFixed()+"px",s=this.rawNode.style,l=parseFloat(s.left),t=parseFloat(s.top),w=parseFloat(s.width),h=parseFloat(s.height);if(isNaN(l)){l=0;}if(isNaN(t)){t=0;}if(isNaN(w)||!w){w=1;}if(isNaN(h)||!h){h=1;}var _3e0=(-l/w-0.5).toFixed(8)+" "+(-t/h-0.5).toFixed(8);skew.matrix=mt;skew.origin=_3e0;skew.offset=_3df;skew.on=true;}}if(this.fillStyle&&this.fillStyle.type=="linear"){this.setFill(this.fillStyle);}return this;},_setDimensions:function(_3e1,_3e2){return this;},setRawNode:function(_3e3){_3e3.stroked="f";_3e3.filled="f";this.rawNode=_3e3;this.rawNode.__gfxObject__=this.getUID();},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){var r=this.rawNode,p=r.parentNode,n=p.firstChild;p.insertBefore(r,n);if(n.tagName=="rect"){n.swapNode(r);}return this;},_getRealMatrix:function(){return this.parentMatrix?new m.Matrix2D([this.parentMatrix,this.matrix]):this.matrix;}});_3d1("dojox.gfx.vml.Group",vml.Shape,{constructor:function(){gs.Container._init.call(this);},_applyTransform:function(){var _3e4=this._getRealMatrix();for(var i=0;i<this.children.length;++i){this.children[i]._updateParentMatrix(_3e4);}return this;},_setDimensions:function(_3e5,_3e6){var r=this.rawNode,rs=r.style,bs=this.bgNode.style;rs.width=_3e5;rs.height=_3e6;r.coordsize=_3e5+" "+_3e6;bs.width=_3e5;bs.height=_3e6;for(var i=0;i<this.children.length;++i){this.children[i]._setDimensions(_3e5,_3e6);}return this;}});vml.Group.nodeType="group";_3d1("dojox.gfx.vml.Rect",[vml.Shape,gs.Rect],{setShape:function(_3e7){var _3e8=this.shape=g.makeParameters(this.shape,_3e7);this.bbox=null;var r=Math.min(1,(_3e8.r/Math.min(parseFloat(_3e8.width),parseFloat(_3e8.height)))).toFixed(8);var _3e9=this.rawNode.parentNode,_3ea=null;if(_3e9){if(_3e9.lastChild!==this.rawNode){for(var i=0;i<_3e9.childNodes.length;++i){if(_3e9.childNodes[i]===this.rawNode){_3ea=_3e9.childNodes[i+1];break;}}}_3e9.removeChild(this.rawNode);}if(has("ie")>7){var node=this.rawNode.ownerDocument.createElement("v:roundrect");node.arcsize=r;node.style.display="inline-block";this.rawNode=node;this.rawNode.__gfxObject__=this.getUID();}else{this.rawNode.arcsize=r;}if(_3e9){if(_3ea){_3e9.insertBefore(this.rawNode,_3ea);}else{_3e9.appendChild(this.rawNode);}}var _3eb=this.rawNode.style;_3eb.left=_3e8.x.toFixed();_3eb.top=_3e8.y.toFixed();_3eb.width=(typeof _3e8.width=="string"&&_3e8.width.indexOf("%")>=0)?_3e8.width:Math.max(_3e8.width.toFixed(),0);_3eb.height=(typeof _3e8.height=="string"&&_3e8.height.indexOf("%")>=0)?_3e8.height:Math.max(_3e8.height.toFixed(),0);return this.setTransform(this.matrix).setFill(this.fillStyle).setStroke(this.strokeStyle);}});vml.Rect.nodeType="roundrect";_3d1("dojox.gfx.vml.Ellipse",[vml.Shape,gs.Ellipse],{setShape:function(_3ec){var _3ed=this.shape=g.makeParameters(this.shape,_3ec);this.bbox=null;var _3ee=this.rawNode.style;_3ee.left=(_3ed.cx-_3ed.rx).toFixed();_3ee.top=(_3ed.cy-_3ed.ry).toFixed();_3ee.width=(_3ed.rx*2).toFixed();_3ee.height=(_3ed.ry*2).toFixed();return this.setTransform(this.matrix);}});vml.Ellipse.nodeType="oval";_3d1("dojox.gfx.vml.Circle",[vml.Shape,gs.Circle],{setShape:function(_3ef){var _3f0=this.shape=g.makeParameters(this.shape,_3ef);this.bbox=null;var _3f1=this.rawNode.style;_3f1.left=(_3f0.cx-_3f0.r).toFixed();_3f1.top=(_3f0.cy-_3f0.r).toFixed();_3f1.width=(_3f0.r*2).toFixed();_3f1.height=(_3f0.r*2).toFixed();return this;}});vml.Circle.nodeType="oval";_3d1("dojox.gfx.vml.Line",[vml.Shape,gs.Line],{constructor:function(_3f2){if(_3f2){_3f2.setAttribute("dojoGfxType","line");}},setShape:function(_3f3){var _3f4=this.shape=g.makeParameters(this.shape,_3f3);this.bbox=null;this.rawNode.path.v="m"+_3f4.x1.toFixed()+" "+_3f4.y1.toFixed()+"l"+_3f4.x2.toFixed()+" "+_3f4.y2.toFixed()+"e";return this.setTransform(this.matrix);}});vml.Line.nodeType="shape";_3d1("dojox.gfx.vml.Polyline",[vml.Shape,gs.Polyline],{constructor:function(_3f5){if(_3f5){_3f5.setAttribute("dojoGfxType","polyline");}},setShape:function(_3f6,_3f7){if(_3f6&&_3f6 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_3f6});if(_3f7&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_3f6);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;if(p.length>0){attr.push("m");attr.push(p[0].x.toFixed(),p[0].y.toFixed());if(p.length>1){attr.push("l");for(var i=1;i<p.length;++i){attr.push(p[i].x.toFixed(),p[i].y.toFixed());}}}attr.push("e");this.rawNode.path.v=attr.join(" ");return this.setTransform(this.matrix);}});vml.Polyline.nodeType="shape";_3d1("dojox.gfx.vml.Image",[vml.Shape,gs.Image],{setShape:function(_3f8){var _3f9=this.shape=g.makeParameters(this.shape,_3f8);this.bbox=null;this.rawNode.firstChild.src=_3f9.src;return this.setTransform(this.matrix);},_applyTransform:function(){var _3fa=this._getRealMatrix(),_3fb=this.rawNode,s=_3fb.style,_3fc=this.shape;if(_3fa){_3fa=m.multiply(_3fa,{dx:_3fc.x,dy:_3fc.y});}else{_3fa=m.normalize({dx:_3fc.x,dy:_3fc.y});}if(_3fa.xy==0&&_3fa.yx==0&&_3fa.xx>0&&_3fa.yy>0){s.filter="";s.width=Math.floor(_3fa.xx*_3fc.width);s.height=Math.floor(_3fa.yy*_3fc.height);s.left=Math.floor(_3fa.dx);s.top=Math.floor(_3fa.dy);}else{var ps=_3fb.parentNode.style;s.left="0px";s.top="0px";s.width=ps.width;s.height=ps.height;_3fa=m.multiply(_3fa,{xx:_3fc.width/parseInt(s.width),yy:_3fc.height/parseInt(s.height)});var f=_3fb.filters["DXImageTransform.Microsoft.Matrix"];if(f){f.M11=_3fa.xx;f.M12=_3fa.xy;f.M21=_3fa.yx;f.M22=_3fa.yy;f.Dx=_3fa.dx;f.Dy=_3fa.dy;}else{s.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+_3fa.xx+", M12="+_3fa.xy+", M21="+_3fa.yx+", M22="+_3fa.yy+", Dx="+_3fa.dx+", Dy="+_3fa.dy+")";}}return this;},_setDimensions:function(_3fd,_3fe){var r=this.rawNode,f=r.filters["DXImageTransform.Microsoft.Matrix"];if(f){var s=r.style;s.width=_3fd;s.height=_3fe;return this._applyTransform();}return this;}});vml.Image.nodeType="rect";_3d1("dojox.gfx.vml.Text",[vml.Shape,gs.Text],{constructor:function(_3ff){if(_3ff){_3ff.setAttribute("dojoGfxType","text");}this.fontStyle=null;},_alignment:{start:"left",middle:"center",end:"right"},setShape:function(_400){this.shape=g.makeParameters(this.shape,_400);this.bbox=null;var r=this.rawNode,s=this.shape,x=s.x,y=s.y.toFixed(),path;switch(s.align){case"middle":x-=5;break;case"end":x-=10;break;}path="m"+x.toFixed()+","+y+"l"+(x+10).toFixed()+","+y+"e";var p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=r.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=r.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.v=path;p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;return this.setTransform(this.matrix);},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}this.setTransform(this.matrix);},_getRealMatrix:function(){var _401=this.inherited(arguments);if(_401){_401=m.multiply(_401,{dy:-g.normalizedLength(this.fontStyle?this.fontStyle.size:"10pt")*0.35});}return _401;},getTextWidth:function(){var _402=this.rawNode,_403=_402.style.display;_402.style.display="inline";var _404=g.pt2px(parseFloat(_402.currentStyle.width));_402.style.display=_403;return _404;}});vml.Text.nodeType="shape";_3d1("dojox.gfx.vml.Path",[vml.Shape,_3d5.Path],{constructor:function(_405){if(_405&&!_405.getAttribute("dojoGfxType")){_405.setAttribute("dojoGfxType","path");}this.vmlPath="";this.lastControl={};},_updateWithSegment:function(_406){var last=lang.clone(this.last);this.inherited(arguments);if(arguments.length>1){return;}var path=this[this.renderers[_406.action]](_406,last);if(typeof this.vmlPath=="string"){this.vmlPath+=path.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";}else{Array.prototype.push.apply(this.vmlPath,path);}},setShape:function(_407){this.vmlPath=[];this.lastControl.type="";this.inherited(arguments);this.vmlPath=this.vmlPath.join("");this.rawNode.path.v=this.vmlPath+" r0,0 e";return this;},_pathVmlToSvgMap:{m:"M",l:"L",t:"m",r:"l",c:"C",v:"c",qb:"Q",x:"z",e:""},renderers:{M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",a:"_arcTo",Z:"_closePath",z:"_closePath"},_addArgs:function(path,_408,from,upto){var n=_408 instanceof Array?_408:_408.args;for(var i=from;i<upto;++i){path.push(" ",n[i].toFixed());}},_adjustRelCrd:function(last,_409,step){var n=_409 instanceof Array?_409:_409.args,l=n.length,_40a=new Array(l),i=0,x=last.x,y=last.y;if(typeof x!="number"){_40a[0]=x=n[0];_40a[1]=y=n[1];i=2;}if(typeof step=="number"&&step!=2){var j=step;while(j<=l){for(;i<j;i+=2){_40a[i]=x+n[i];_40a[i+1]=y+n[i+1];}x=_40a[j-2];y=_40a[j-1];j+=step;}}else{for(;i<l;i+=2){_40a[i]=(x+=n[i]);_40a[i+1]=(y+=n[i+1]);}}return _40a;},_adjustRelPos:function(last,_40b){var n=_40b instanceof Array?_40b:_40b.args,l=n.length,_40c=new Array(l);for(var i=0;i<l;++i){_40c[i]=(last+=n[i]);}return _40c;},_moveToA:function(_40d){var p=[" m"],n=_40d instanceof Array?_40d:_40d.args,l=n.length;this._addArgs(p,n,0,2);if(l>2){p.push(" l");this._addArgs(p,n,2,l);}this.lastControl.type="";return p;},_moveToR:function(_40e,last){return this._moveToA(this._adjustRelCrd(last,_40e));},_lineToA:function(_40f){var p=[" l"],n=_40f instanceof Array?_40f:_40f.args;this._addArgs(p,n,0,n.length);this.lastControl.type="";return p;},_lineToR:function(_410,last){return this._lineToA(this._adjustRelCrd(last,_410));},_hLineToA:function(_411,last){var p=[" l"],y=" "+last.y.toFixed(),n=_411 instanceof Array?_411:_411.args,l=n.length;for(var i=0;i<l;++i){p.push(" ",n[i].toFixed(),y);}this.lastControl.type="";return p;},_hLineToR:function(_412,last){return this._hLineToA(this._adjustRelPos(last.x,_412),last);},_vLineToA:function(_413,last){var p=[" l"],x=" "+last.x.toFixed(),n=_413 instanceof Array?_413:_413.args,l=n.length;for(var i=0;i<l;++i){p.push(x," ",n[i].toFixed());}this.lastControl.type="";return p;},_vLineToR:function(_414,last){return this._vLineToA(this._adjustRelPos(last.y,_414),last);},_curveToA:function(_415){var p=[],n=_415 instanceof Array?_415:_415.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=6){p.push(" c");this._addArgs(p,n,i,i+6);}lc.x=n[l-4];lc.y=n[l-3];lc.type="C";return p;},_curveToR:function(_416,last){return this._curveToA(this._adjustRelCrd(last,_416,6));},_smoothCurveToA:function(_417,last){var p=[],n=_417 instanceof Array?_417:_417.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="C"){p.push(" c");this._addArgs(p,[last.x,last.y],0,2);this._addArgs(p,n,0,4);lc.x=n[0];lc.y=n[1];lc.type="C";i=4;}for(;i<l;i+=4){p.push(" c");this._addArgs(p,[2*last.x-lc.x,2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+4);lc.x=n[i];lc.y=n[i+1];}return p;},_smoothCurveToR:function(_418,last){return this._smoothCurveToA(this._adjustRelCrd(last,_418,4),last);},_qCurveToA:function(_419){var p=[],n=_419 instanceof Array?_419:_419.args,l=n.length,lc=this.lastControl;for(var i=0;i<l;i+=4){p.push(" qb");this._addArgs(p,n,i,i+4);}lc.x=n[l-4];lc.y=n[l-3];lc.type="Q";return p;},_qCurveToR:function(_41a,last){return this._qCurveToA(this._adjustRelCrd(last,_41a,4));},_qSmoothCurveToA:function(_41b,last){var p=[],n=_41b instanceof Array?_41b:_41b.args,l=n.length,lc=this.lastControl,i=0;if(lc.type!="Q"){p.push(" qb");this._addArgs(p,[lc.x=last.x,lc.y=last.y],0,2);lc.type="Q";this._addArgs(p,n,0,2);i=2;}for(;i<l;i+=2){p.push(" qb");this._addArgs(p,[lc.x=2*last.x-lc.x,lc.y=2*last.y-lc.y],0,2);this._addArgs(p,n,i,i+2);}return p;},_qSmoothCurveToR:function(_41c,last){return this._qSmoothCurveToA(this._adjustRelCrd(last,_41c,2),last);},_arcTo:function(_41d,last){var p=[],n=_41d.args,l=n.length,_41e=_41d.action=="a";for(var i=0;i<l;i+=7){var x1=n[i+5],y1=n[i+6];if(_41e){x1+=last.x;y1+=last.y;}var _41f=_3d6.arcAsBezier(last,n[i],n[i+1],n[i+2],n[i+3]?1:0,n[i+4]?1:0,x1,y1);for(var j=0;j<_41f.length;++j){p.push(" c");var t=_41f[j];this._addArgs(p,t,0,t.length);this._updateBBox(t[0],t[1]);this._updateBBox(t[2],t[3]);this._updateBBox(t[4],t[5]);}last.x=x1;last.y=y1;}this.lastControl.type="";return p;},_closePath:function(){this.lastControl.type="";return["x"];}});vml.Path.nodeType="shape";_3d1("dojox.gfx.vml.TextPath",[vml.Path,_3d5.TextPath],{constructor:function(_420){if(_420){_420.setAttribute("dojoGfxType","textpath");}this.fontStyle=null;if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},setText:function(_421){this.text=g.makeParameters(this.text,typeof _421=="string"?{text:_421}:_421);this._setText();return this;},setFont:function(_422){this.fontStyle=typeof _422=="string"?g.splitFontString(_422):g.makeParameters(g.defaultFont,_422);this._setFont();return this;},_setText:function(){this.bbox=null;var r=this.rawNode,s=this.text,p=null,t=null,c=r.childNodes;for(var i=0;i<c.length;++i){var tag=c[i].tagName;if(tag=="path"){p=c[i];if(t){break;}}else{if(tag=="textpath"){t=c[i];if(p){break;}}}}if(!p){p=this.rawNode.ownerDocument.createElement("v:path");r.appendChild(p);}if(!t){t=this.rawNode.ownerDocument.createElement("v:textpath");r.appendChild(t);}p.textPathOk=true;t.on=true;var a=vml.text_alignment[s.align];t.style["v-text-align"]=a?a:"left";t.style["text-decoration"]=s.decoration;t.style["v-rotate-letters"]=s.rotated;t.style["v-text-kern"]=s.kerning;t.string=s.text;},_setFont:function(){var f=this.fontStyle,c=this.rawNode.childNodes;for(var i=0;i<c.length;++i){if(c[i].tagName=="textpath"){c[i].style.font=g.makeFontString(f);break;}}}});vml.TextPath.nodeType="shape";_3d1("dojox.gfx.vml.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},setDimensions:function(_423,_424){this.width=g.normalizedLength(_423);this.height=g.normalizedLength(_424);if(!this.rawNode){return this;}var cs=this.clipNode.style,r=this.rawNode,rs=r.style,bs=this.bgNode.style,ps=this._parent.style,i;ps.width=_423;ps.height=_424;cs.width=_423;cs.height=_424;cs.clip="rect(0px "+_423+"px "+_424+"px 0px)";rs.width=_423;rs.height=_424;r.coordsize=_423+" "+_424;bs.width=_423;bs.height=_424;for(i=0;i<this.children.length;++i){this.children[i]._setDimensions(_423,_424);}return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.style.width),height:g.normalizedLength(this.rawNode.style.height)}:null;if(t.width<=0){t.width=this.width;}if(t.height<=0){t.height=this.height;}return t;}});vml.createSurface=function(_425,_426,_427){if(!_426&&!_427){var pos=_3d4.position(_425);_426=_426||pos.w;_427=_427||pos.h;}if(typeof _426=="number"){_426=_426+"px";}if(typeof _427=="number"){_427=_427+"px";}var s=new vml.Surface(),p=dom.byId(_425),c=s.clipNode=p.ownerDocument.createElement("div"),r=s.rawNode=p.ownerDocument.createElement("v:group"),cs=c.style,rs=r.style;if(has("ie")>7){rs.display="inline-block";}s._parent=p;s._nodes.push(c);p.style.width=_426;p.style.height=_427;cs.position="absolute";cs.width=_426;cs.height=_427;cs.clip="rect(0px "+_426+" "+_427+" 0px)";rs.position="absolute";rs.width=_426;rs.height=_427;r.coordsize=(_426==="100%"?_426:parseFloat(_426))+" "+(_427==="100%"?_427:parseFloat(_427));r.coordorigin="0 0";var b=s.bgNode=r.ownerDocument.createElement("v:rect"),bs=b.style;bs.left=bs.top=0;bs.width=rs.width;bs.height=rs.height;b.filled=b.stroked="f";r.appendChild(b);c.appendChild(r);p.appendChild(c);s.width=g.normalizedLength(_426);s.height=g.normalizedLength(_427);return s;};function _428(_429,f,o){o=o||win.global;f.call(o,_429);if(_429 instanceof g.Surface||_429 instanceof g.Group){arr.forEach(_429.children,function(_42a){_428(_42a,f,o);});}}var _42b=function(_42c){if(this!=_42c.getParent()){var _42d=_42c.getParent();if(_42d){_42d.remove(_42c);}this.rawNode.appendChild(_42c.rawNode);C.add.apply(this,arguments);_428(this,function(s){if(typeof(s.getFont)=="function"){s.setShape(s.getShape());s.setFont(s.getFont());}if(typeof(s.setFill)=="function"){s.setFill(s.getFill());s.setStroke(s.getStroke());}});}return this;};var _42e=function(_42f){if(this!=_42f.getParent()){this.rawNode.appendChild(_42f.rawNode);if(!_42f.getParent()){_42f.setFill(_42f.getFill());_42f.setStroke(_42f.getStroke());}C.add.apply(this,arguments);}return this;};var C=gs.Container,_430={add:_3d3.fixVmlAdd===true?_42b:_42e,remove:function(_431,_432){if(this==_431.getParent()){if(this.rawNode==_431.rawNode.parentNode){this.rawNode.removeChild(_431.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.firstChild!=r.lastChild){if(r.firstChild!=this.bgNode){r.removeChild(r.firstChild);}if(r.lastChild!=this.bgNode){r.removeChild(r.lastChild);}}return C.clear.apply(this,arguments);},_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _433={createGroup:function(){var node=this.createObject(vml.Group,null);var r=node.rawNode.ownerDocument.createElement("v:rect");r.style.left=r.style.top=0;r.style.width=node.rawNode.style.width;r.style.height=node.rawNode.style.height;r.filled=r.stroked="f";node.rawNode.appendChild(r);node.bgNode=r;return node;},createImage:function(_434){if(!this.rawNode){return null;}var _435=new vml.Image(),doc=this.rawNode.ownerDocument,node=doc.createElement("v:rect");node.stroked="f";node.style.width=this.rawNode.style.width;node.style.height=this.rawNode.style.height;var img=doc.createElement("v:imagedata");node.appendChild(img);_435.setRawNode(node);this.rawNode.appendChild(node);_435.setShape(_434);this.add(_435);return _435;},createRect:function(rect){if(!this.rawNode){return null;}var _436=new vml.Rect,node=this.rawNode.ownerDocument.createElement("v:roundrect");if(has("ie")>7){node.style.display="inline-block";}_436.setRawNode(node);this.rawNode.appendChild(node);_436.setShape(rect);this.add(_436);return _436;},createObject:function(_437,_438){if(!this.rawNode){return null;}var _439=new _437(),node=this.rawNode.ownerDocument.createElement("v:"+_437.nodeType);_439.setRawNode(node);this.rawNode.appendChild(node);switch(_437){case vml.Group:case vml.Line:case vml.Polyline:case vml.Image:case vml.Text:case vml.Path:case vml.TextPath:this._overrideSize(node);}_439.setShape(_438);this.add(_439);return _439;},_overrideSize:function(node){var s=this.rawNode.style,w=s.width,h=s.height;node.style.width=w;node.style.height=h;node.coordsize=parseInt(w)+" "+parseInt(h);}};lang.extend(vml.Group,_430);lang.extend(vml.Group,gs.Creator);lang.extend(vml.Group,_433);lang.extend(vml.Surface,_430);lang.extend(vml.Surface,gs.Creator);lang.extend(vml.Surface,_433);vml.fixTarget=function(_43a,_43b){if(!_43a.gfxTarget){_43a.gfxTarget=gs.byId(_43a.target.__gfxObject__);}return true;};return vml;});},"dojox/gfx/gradutils":function(){define("dojox/gfx/gradutils",["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(g,lang,m,_43c){var _43d=g.gradutils={};function _43e(o,c){if(o<=0){return c[0].color;}var len=c.length;if(o>=1){return c[len-1].color;}for(var i=0;i<len;++i){var stop=c[i];if(stop.offset>=o){if(i){var prev=c[i-1];return _43c.blendColors(new _43c(prev.color),new _43c(stop.color),(o-prev.offset)/(stop.offset-prev.offset));}return stop.color;}}return c[len-1].color;}_43d.getColor=function(fill,pt){var o;if(fill){switch(fill.type){case"linear":var _43f=Math.atan2(fill.y2-fill.y1,fill.x2-fill.x1),_440=m.rotate(-_43f),_441=m.project(fill.x2-fill.x1,fill.y2-fill.y1),p=m.multiplyPoint(_441,pt),pf1=m.multiplyPoint(_441,fill.x1,fill.y1),pf2=m.multiplyPoint(_441,fill.x2,fill.y2),_442=m.multiplyPoint(_440,pf2.x-pf1.x,pf2.y-pf1.y).x;o=m.multiplyPoint(_440,p.x-pf1.x,p.y-pf1.y).x/_442;break;case"radial":var dx=pt.x-fill.cx,dy=pt.y-fill.cy;o=Math.sqrt(dx*dx+dy*dy)/fill.r;break;}return _43e(o,fill.colors);}return new _43c(fill||[0,0,0,0]);};_43d.reverse=function(fill){if(fill){switch(fill.type){case"linear":case"radial":fill=lang.delegate(fill);if(fill.colors){var c=fill.colors,l=c.length,i=0,stop,n=fill.colors=new Array(c.length);for(;i<l;++i){stop=c[i];n[i]={offset:1-stop.offset,color:stop.color};}n.sort(function(a,b){return a.offset-b.offset;});}break;}}return fill;};return _43d;});},"dojox/gfx/utils":function(){define("dojox/gfx/utils",["dojo/_base/kernel","dojo/_base/lang","./_base","dojo/_base/html","dojo/_base/array","dojo/_base/window","dojo/_base/json","dojo/_base/Deferred","dojo/_base/sniff","require","dojo/_base/config"],function(_443,lang,g,html,arr,win,_444,_445,has,_446,_447){var gu=g.utils={};lang.mixin(gu,{forEach:function(_448,f,o){o=o||win.global;f.call(o,_448);if(_448 instanceof g.Surface||_448 instanceof g.Group){arr.forEach(_448.children,function(_449){gu.forEach(_449,f,o);});}},serialize:function(_44a){var t={},v,_44b=_44a instanceof g.Surface;if(_44b||_44a instanceof g.Group){t.children=arr.map(_44a.children,gu.serialize);if(_44b){return t.children;}}else{t.shape=_44a.getShape();}if(_44a.getTransform){v=_44a.getTransform();if(v){t.transform=v;}}if(_44a.getStroke){v=_44a.getStroke();if(v){t.stroke=v;}}if(_44a.getFill){v=_44a.getFill();if(v){t.fill=v;}}if(_44a.getFont){v=_44a.getFont();if(v){t.font=v;}}return t;},toJson:function(_44c,_44d){return _444.toJson(gu.serialize(_44c),_44d);},deserialize:function(_44e,_44f){if(_44f instanceof Array){return arr.map(_44f,lang.hitch(null,gu.deserialize,_44e));}var _450=("shape" in _44f)?_44e.createShape(_44f.shape):_44e.createGroup();if("transform" in _44f){_450.setTransform(_44f.transform);}if("stroke" in _44f){_450.setStroke(_44f.stroke);}if("fill" in _44f){_450.setFill(_44f.fill);}if("font" in _44f){_450.setFont(_44f.font);}if("children" in _44f){arr.forEach(_44f.children,lang.hitch(null,gu.deserialize,_450));}return _450;},fromJson:function(_451,json){return gu.deserialize(_451,_444.fromJson(json));},toSvg:function(_452){var _453=new _445();if(g.renderer==="svg"){try{var svg=gu._cleanSvg(gu._innerXML(_452.rawNode));_453.callback(svg);}catch(e){_453.errback(e);}}else{if(!gu._initSvgSerializerDeferred){gu._initSvgSerializer();}var _454=gu.toJson(_452);var _455=function(){try{var sDim=_452.getDimensions();var _456=sDim.width;var _457=sDim.height;var node=gu._gfxSvgProxy.document.createElement("div");gu._gfxSvgProxy.document.body.appendChild(node);win.withDoc(gu._gfxSvgProxy.document,function(){html.style(node,"width",_456);html.style(node,"height",_457);},this);var ts=gu._gfxSvgProxy[dojox._scopeName].gfx.createSurface(node,_456,_457);var draw=function(_458){try{gu._gfxSvgProxy[dojox._scopeName].gfx.utils.fromJson(_458,_454);var svg=gu._cleanSvg(node.innerHTML);_458.clear();_458.destroy();gu._gfxSvgProxy.document.body.removeChild(node);_453.callback(svg);}catch(e){_453.errback(e);}};ts.whenLoaded(null,draw);}catch(ex){_453.errback(ex);}};if(gu._initSvgSerializerDeferred.fired>0){_455();}else{gu._initSvgSerializerDeferred.addCallback(_455);}}return _453;},_gfxSvgProxy:null,_initSvgSerializerDeferred:null,_svgSerializerInitialized:function(){gu._initSvgSerializerDeferred.callback(true);},_initSvgSerializer:function(){if(!gu._initSvgSerializerDeferred){gu._initSvgSerializerDeferred=new _445();var f=win.doc.createElement("iframe");html.style(f,{display:"none",position:"absolute",width:"1em",height:"1em",top:"-10000px"});var intv;if(has("ie")){f.onreadystatechange=function(){if(f.contentWindow.document.readyState=="complete"){f.onreadystatechange=function(){};intv=setInterval(function(){if(f.contentWindow[_443.scopeMap["dojo"][1]._scopeName]&&f.contentWindow[_443.scopeMap["dojox"][1]._scopeName].gfx&&f.contentWindow[_443.scopeMap["dojox"][1]._scopeName].gfx.utils){clearInterval(intv);f.contentWindow.parent[_443.scopeMap["dojox"][1]._scopeName].gfx.utils._gfxSvgProxy=f.contentWindow;f.contentWindow.parent[_443.scopeMap["dojox"][1]._scopeName].gfx.utils._svgSerializerInitialized();}},50);}};}else{f.onload=function(){f.onload=function(){};intv=setInterval(function(){if(f.contentWindow[_443.scopeMap["dojo"][1]._scopeName]&&f.contentWindow[_443.scopeMap["dojox"][1]._scopeName].gfx&&f.contentWindow[_443.scopeMap["dojox"][1]._scopeName].gfx.utils){clearInterval(intv);f.contentWindow.parent[_443.scopeMap["dojox"][1]._scopeName].gfx.utils._gfxSvgProxy=f.contentWindow;f.contentWindow.parent[_443.scopeMap["dojox"][1]._scopeName].gfx.utils._svgSerializerInitialized();}},50);};}var uri=(_447["dojoxGfxSvgProxyFrameUrl"]||_446.toUrl("dojox/gfx/resources/gfxSvgProxyFrame.html"));f.setAttribute("src",uri.toString());win.body().appendChild(f);}},_innerXML:function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return(new XMLSerializer()).serializeToString(node);}}}return null;},_cleanSvg:function(svg){if(svg){if(svg.indexOf('xmlns="http://www.w3.org/2000/svg"')==-1){svg=svg.substring(4,svg.length);svg='<svg xmlns="http://www.w3.org/2000/svg"'+svg;}if(svg.indexOf('xmlns:xlink="http://www.w3.org/1999/xlink"')==-1){svg=svg.substring(4,svg.length);svg='<svg xmlns:xlink="http://www.w3.org/1999/xlink"'+svg;}if(svg.indexOf("xlink:href")===-1){svg=svg.replace(/href\s*=/g,"xlink:href=");}svg=svg.replace(/\bdojoGfx\w*\s*=\s*(['"])\w*\1/g,"");svg=svg.replace(/\b__gfxObject__\s*=\s*(['"])\w*\1/g,"");svg=svg.replace(/[=]([^"']+?)(\s|>)/g,'="$1"$2');}return svg;}});return gu;});},"dojox/charting/themes/common":function(){define("dojox/charting/themes/common",["dojo/_base/lang"],function(lang){return lang.getObject("dojox.charting.themes",true);});},"dojox/charting/plot2d/MarkersOnly":function(){define("dojox/charting/plot2d/MarkersOnly",["dojo/_base/declare","./Default"],function(_459,_45a){return _459("dojox.charting.plot2d.MarkersOnly",_45a,{constructor:function(){this.opt.lines=false;this.opt.markers=true;}});});},"dojox/charting/plot2d/Areas":function(){define("dojox/charting/plot2d/Areas",["dojo/_base/declare","./Default"],function(_45b,_45c){return _45b("dojox.charting.plot2d.Areas",_45c,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});});},"dojox/json/ref":function(){define("dojox/json/ref",["dojo/_base/kernel","dojox","dojo/date/stamp","dojo/_base/array","dojo/_base/json"],function(dojo,_45d){dojo.getObject("json",true,_45d);return _45d.json.ref={resolveJson:function(root,args){args=args||{};var _45e=args.idAttribute||"id";var _45f=this.refAttribute;var _460=args.idAsRef;var _461=args.idPrefix||"";var _462=args.assignAbsoluteIds;var _463=args.index||{};var _464=args.timeStamps;var ref,_465=[];var _466=/^(.*\/)?(\w+:\/\/)|[^\/\.]+\/\.\.\/|^.*\/(\/)/;var _467=this._addProp;var F=function(){};function walk(it,stop,_468,_469,_46a,_46b){var i,_46c,val,id=_45e in it?it[_45e]:_468;if(_45e in it||((id!==undefined)&&_469)){id=(_461+id).replace(_466,"$2$3");}var _46d=_46b||it;if(id!==undefined){if(_462){it.__id=id;}if(args.schemas&&(!(it instanceof Array))&&(val=id.match(/^(.+\/)[^\.\[]*$/))){_46a=args.schemas[val[1]];}if(_463[id]&&((it instanceof Array)==(_463[id] instanceof Array))){_46d=_463[id];delete _46d.$ref;delete _46d._loadObject;_46c=true;}else{var _46e=_46a&&_46a.prototype;if(_46e){F.prototype=_46e;_46d=new F();}}_463[id]=_46d;if(_464){_464[id]=args.time;}}while(_46a){var _46f=_46a.properties;if(_46f){for(i in it){var _470=_46f[i];if(_470&&_470.format=="date-time"&&typeof it[i]=="string"){it[i]=dojo.date.stamp.fromISOString(it[i]);}}}_46a=_46a["extends"];}var _471=it.length;for(i in it){if(i==_471){break;}if(it.hasOwnProperty(i)){val=it[i];if((typeof val=="object")&&val&&!(val instanceof Date)&&i!="__parent"){ref=val[_45f]||(_460&&val[_45e]);if(!ref||!val.__parent){if(it!=_465){val.__parent=_46d;}}if(ref){delete it[i];var path=ref.toString().replace(/(#)([^\.\[])/,"$1.$2").match(/(^([^\[]*\/)?[^#\.\[]*)#?([\.\[].*)?/);if(_463[(_461+ref).replace(_466,"$2$3")]){ref=_463[(_461+ref).replace(_466,"$2$3")];}else{if((ref=(path[1]=="$"||path[1]=="this"||path[1]=="")?root:_463[(_461+path[1]).replace(_466,"$2$3")])){if(path[3]){path[3].replace(/(\[([^\]]+)\])|(\.?([^\.\[]+))/g,function(t,a,b,c,d){ref=ref&&ref[b?b.replace(/[\"\'\\]/,""):d];});}}}if(ref){val=ref;}else{if(!stop){var _472;if(!_472){_465.push(_46d);}_472=true;val=walk(val,false,val[_45f],true,_470);val._loadObject=args.loader;}}}else{if(!stop){val=walk(val,_465==it,id===undefined?undefined:_467(id,i),false,_470,_46d!=it&&typeof _46d[i]=="object"&&_46d[i]);}}}it[i]=val;if(_46d!=it&&!_46d.__isDirty){var old=_46d[i];_46d[i]=val;if(_46c&&val!==old&&!_46d._loadObject&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&i!="$ref"&&!(val instanceof Date&&old instanceof Date&&val.getTime()==old.getTime())&&!(typeof val=="function"&&typeof old=="function"&&val.toString()==old.toString())&&_463.onUpdate){_463.onUpdate(_46d,i,old,val);}}}}if(_46c&&(_45e in it||_46d instanceof Array)){for(i in _46d){if(!_46d.__isDirty&&_46d.hasOwnProperty(i)&&!it.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")&&!(_46d instanceof Array&&isNaN(i))){if(_463.onUpdate&&i!="_loadObject"&&i!="_idAttr"){_463.onUpdate(_46d,i,_46d[i],undefined);}delete _46d[i];while(_46d instanceof Array&&_46d.length&&_46d[_46d.length-1]===undefined){_46d.length--;}}}}else{if(_463.onLoad){_463.onLoad(_46d);}}return _46d;}if(root&&typeof root=="object"){root=walk(root,false,args.defaultId,true);walk(_465,false);}return root;},fromJson:function(str,args){function ref(_473){var _474={};_474[this.refAttribute]=_473;return _474;}try{var root=eval("("+str+")");}catch(e){throw new SyntaxError("Invalid JSON string: "+e.message+" parsing: "+str);}if(root){return this.resolveJson(root,args);}return root;},toJson:function(it,_475,_476,_477){var _478=this._useRefs;var _479=this._addProp;var _47a=this.refAttribute;_476=_476||"";var _47b={};var _47c={};function _47d(it,path,_47e){if(typeof it=="object"&&it){var _47f;if(it instanceof Date){return'"'+dojo.date.stamp.toISOString(it,{zulu:true})+'"';}var id=it.__id;if(id){if(path!="#"&&((_478&&!id.match(/#/))||_47b[id])){var ref=id;if(id.charAt(0)!="#"){if(it.__clientId==id){ref="cid:"+id;}else{if(id.substring(0,_476.length)==_476){ref=id.substring(_476.length);}else{ref=id;}}}var _480={};_480[_47a]=ref;return _47d(_480,"#");}path=id;}else{it.__id=path;_47c[path]=it;}_47b[path]=it;_47e=_47e||"";var _481=_475?_47e+dojo.toJsonIndentStr:"";var _482=_475?"\n":"";var sep=_475?" ":"";if(it instanceof Array){var res=dojo.map(it,function(obj,i){var val=_47d(obj,_479(path,i),_481);if(typeof val!="string"){val="undefined";}return _482+_481+val;});return"["+res.join(","+sep)+_482+_47e+"]";}var _483=[];for(var i in it){if(it.hasOwnProperty(i)){var _484;if(typeof i=="number"){_484='"'+i+'"';}else{if(typeof i=="string"&&(i.charAt(0)!="_"||i.charAt(1)!="_")){_484=dojo._escapeString(i);}else{continue;}}var val=_47d(it[i],_479(path,i),_481);if(typeof val!="string"){continue;}_483.push(_482+_481+_484+":"+sep+val);}}return"{"+_483.join(","+sep)+_482+_47e+"}";}else{if(typeof it=="function"&&_45d.json.ref.serializeFunctions){return it.toString();}}return dojo.toJson(it);}var json=_47d(it,"#","");if(!_477){for(var i in _47c){delete _47c[i].__id;}}return json;},_addProp:function(id,prop){return id+(id.match(/#/)?id.length==1?"":".":"#")+prop;},refAttribute:"$ref",_useRefs:false,serializeFunctions:false};});},"dojox/charting/scaler/linear":function(){define("dojox/charting/scaler/linear",["dojo/_base/lang","./common"],function(lang,_485){var _486=lang.getObject("dojox.charting.scaler.linear",true);var _487=3,_488=_485.findString,_489=_485.getNumericLabel;var _48a=function(min,max,_48b,_48c,_48d,_48e,span){_48b=lang.delegate(_48b);if(!_48c){if(_48b.fixUpper=="major"){_48b.fixUpper="minor";}if(_48b.fixLower=="major"){_48b.fixLower="minor";}}if(!_48d){if(_48b.fixUpper=="minor"){_48b.fixUpper="micro";}if(_48b.fixLower=="minor"){_48b.fixLower="micro";}}if(!_48e){if(_48b.fixUpper=="micro"){_48b.fixUpper="none";}if(_48b.fixLower=="micro"){_48b.fixLower="none";}}var _48f=_488(_48b.fixLower,["major"])?Math.floor(_48b.min/_48c)*_48c:_488(_48b.fixLower,["minor"])?Math.floor(_48b.min/_48d)*_48d:_488(_48b.fixLower,["micro"])?Math.floor(_48b.min/_48e)*_48e:_48b.min,_490=_488(_48b.fixUpper,["major"])?Math.ceil(_48b.max/_48c)*_48c:_488(_48b.fixUpper,["minor"])?Math.ceil(_48b.max/_48d)*_48d:_488(_48b.fixUpper,["micro"])?Math.ceil(_48b.max/_48e)*_48e:_48b.max;if(_48b.useMin){min=_48f;}if(_48b.useMax){max=_490;}var _491=(!_48c||_48b.useMin&&_488(_48b.fixLower,["major"]))?min:Math.ceil(min/_48c)*_48c,_492=(!_48d||_48b.useMin&&_488(_48b.fixLower,["major","minor"]))?min:Math.ceil(min/_48d)*_48d,_493=(!_48e||_48b.useMin&&_488(_48b.fixLower,["major","minor","micro"]))?min:Math.ceil(min/_48e)*_48e,_494=!_48c?0:(_48b.useMax&&_488(_48b.fixUpper,["major"])?Math.round((max-_491)/_48c):Math.floor((max-_491)/_48c))+1,_495=!_48d?0:(_48b.useMax&&_488(_48b.fixUpper,["major","minor"])?Math.round((max-_492)/_48d):Math.floor((max-_492)/_48d))+1,_496=!_48e?0:(_48b.useMax&&_488(_48b.fixUpper,["major","minor","micro"])?Math.round((max-_493)/_48e):Math.floor((max-_493)/_48e))+1,_497=_48d?Math.round(_48c/_48d):0,_498=_48e?Math.round(_48d/_48e):0,_499=_48c?Math.floor(Math.log(_48c)/Math.LN10):0,_49a=_48d?Math.floor(Math.log(_48d)/Math.LN10):0,_49b=span/(max-min);if(!isFinite(_49b)){_49b=1;}return{bounds:{lower:_48f,upper:_490,from:min,to:max,scale:_49b,span:span},major:{tick:_48c,start:_491,count:_494,prec:_499},minor:{tick:_48d,start:_492,count:_495,prec:_49a},micro:{tick:_48e,start:_493,count:_496,prec:0},minorPerMajor:_497,microPerMinor:_498,scaler:_486};};return lang.mixin(_486,{buildScaler:function(min,max,span,_49c){var h={fixUpper:"none",fixLower:"none",natural:false};if(_49c){if("fixUpper" in _49c){h.fixUpper=String(_49c.fixUpper);}if("fixLower" in _49c){h.fixLower=String(_49c.fixLower);}if("natural" in _49c){h.natural=Boolean(_49c.natural);}}if("min" in _49c){min=_49c.min;}if("max" in _49c){max=_49c.max;}if(_49c.includeZero){if(min>0){min=0;}if(max<0){max=0;}}h.min=min;h.useMin=true;h.max=max;h.useMax=true;if("from" in _49c){min=_49c.from;h.useMin=false;}if("to" in _49c){max=_49c.to;h.useMax=false;}if(max<=min){return _48a(min,max,h,0,0,0,span);}var mag=Math.floor(Math.log(max-min)/Math.LN10),_49d=_49c&&("majorTickStep" in _49c)?_49c.majorTickStep:Math.pow(10,mag),_49e=0,_49f=0,_4a0;if(_49c&&("minorTickStep" in _49c)){_49e=_49c.minorTickStep;}else{do{_49e=_49d/10;if(!h.natural||_49e>0.9){_4a0=_48a(min,max,h,_49d,_49e,0,span);if(_4a0.bounds.scale*_4a0.minor.tick>_487){break;}}_49e=_49d/5;if(!h.natural||_49e>0.9){_4a0=_48a(min,max,h,_49d,_49e,0,span);if(_4a0.bounds.scale*_4a0.minor.tick>_487){break;}}_49e=_49d/2;if(!h.natural||_49e>0.9){_4a0=_48a(min,max,h,_49d,_49e,0,span);if(_4a0.bounds.scale*_4a0.minor.tick>_487){break;}}return _48a(min,max,h,_49d,0,0,span);}while(false);}if(_49c&&("microTickStep" in _49c)){_49f=_49c.microTickStep;_4a0=_48a(min,max,h,_49d,_49e,_49f,span);}else{do{_49f=_49e/10;if(!h.natural||_49f>0.9){_4a0=_48a(min,max,h,_49d,_49e,_49f,span);if(_4a0.bounds.scale*_4a0.micro.tick>_487){break;}}_49f=_49e/5;if(!h.natural||_49f>0.9){_4a0=_48a(min,max,h,_49d,_49e,_49f,span);if(_4a0.bounds.scale*_4a0.micro.tick>_487){break;}}_49f=_49e/2;if(!h.natural||_49f>0.9){_4a0=_48a(min,max,h,_49d,_49e,_49f,span);if(_4a0.bounds.scale*_4a0.micro.tick>_487){break;}}_49f=0;}while(false);}return _49f?_4a0:_48a(min,max,h,_49d,_49e,0,span);},buildTicks:function(_4a1,_4a2){var step,next,tick,_4a3=_4a1.major.start,_4a4=_4a1.minor.start,_4a5=_4a1.micro.start;if(_4a2.microTicks&&_4a1.micro.tick){step=_4a1.micro.tick,next=_4a5;}else{if(_4a2.minorTicks&&_4a1.minor.tick){step=_4a1.minor.tick,next=_4a4;}else{if(_4a1.major.tick){step=_4a1.major.tick,next=_4a3;}else{return null;}}}var _4a6=1/_4a1.bounds.scale;if(_4a1.bounds.to<=_4a1.bounds.from||isNaN(_4a6)||!isFinite(_4a6)||step<=0||isNaN(step)||!isFinite(step)){return null;}var _4a7=[],_4a8=[],_4a9=[];while(next<=_4a1.bounds.to+_4a6){if(Math.abs(_4a3-next)<step/2){tick={value:_4a3};if(_4a2.majorLabels){tick.label=_489(_4a3,_4a1.major.prec,_4a2);}_4a7.push(tick);_4a3+=_4a1.major.tick;_4a4+=_4a1.minor.tick;_4a5+=_4a1.micro.tick;}else{if(Math.abs(_4a4-next)<step/2){if(_4a2.minorTicks){tick={value:_4a4};if(_4a2.minorLabels&&(_4a1.minMinorStep<=_4a1.minor.tick*_4a1.bounds.scale)){tick.label=_489(_4a4,_4a1.minor.prec,_4a2);}_4a8.push(tick);}_4a4+=_4a1.minor.tick;_4a5+=_4a1.micro.tick;}else{if(_4a2.microTicks){_4a9.push({value:_4a5});}_4a5+=_4a1.micro.tick;}}next+=step;}return{major:_4a7,minor:_4a8,micro:_4a9};},getTransformerFromModel:function(_4aa){var _4ab=_4aa.bounds.from,_4ac=_4aa.bounds.scale;return function(x){return(x-_4ab)*_4ac;};},getTransformerFromPlot:function(_4ad){var _4ae=_4ad.bounds.from,_4af=_4ad.bounds.scale;return function(x){return x/_4af+_4ae;};}});});},"dojox/grid/DataSelection":function(){define("dojox/grid/DataSelection",["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(_4b0,_4b1,_4b2){return _4b0("dojox.grid.DataSelection",_4b2,{constructor:function(grid){if(grid.keepSelection){this.preserver=new _4b1(this);}},destroy:function(){if(this.preserver){this.preserver.destroy();}},getFirstSelected:function(){var idx=_4b2.prototype.getFirstSelected.call(this);if(idx==-1){return null;}return this.grid.getItem(idx);},getNextSelected:function(_4b3){var _4b4=this.grid.getItemIndex(_4b3);var idx=_4b2.prototype.getNextSelected.call(this,_4b4);if(idx==-1){return null;}return this.grid.getItem(idx);},getSelected:function(){var _4b5=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_4b5.push(this.grid.getItem(i));}}return _4b5;},addToSelection:function(_4b6){if(this.mode=="none"){return;}var idx=null;if(typeof _4b6=="number"||typeof _4b6=="string"){idx=_4b6;}else{idx=this.grid.getItemIndex(_4b6);}_4b2.prototype.addToSelection.call(this,idx);},deselect:function(_4b7){if(this.mode=="none"){return;}var idx=null;if(typeof _4b7=="number"||typeof _4b7=="string"){idx=_4b7;}else{idx=this.grid.getItemIndex(_4b7);}_4b2.prototype.deselect.call(this,idx);},deselectAll:function(_4b8){var idx=null;if(_4b8||typeof _4b8=="number"){if(typeof _4b8=="number"||typeof _4b8=="string"){idx=_4b8;}else{idx=this.grid.getItemIndex(_4b8);}_4b2.prototype.deselectAll.call(this,idx);}else{this.inherited(arguments);}}});});},"dojox/grid/enhanced/plugins/_SelectionPreserver":function(){define("dojox/grid/enhanced/plugins/_SelectionPreserver",["dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","../../_SelectionPreserver"],function(_4b9,lang,_4ba,_4bb){return _4b9("dojox.grid.enhanced.plugins._SelectionPreserver",_4bb,{constructor:function(_4bc){var grid=this.grid;grid.onSelectedById=this.onSelectedById;this._oldClearData=grid._clearData;var self=this;grid._clearData=function(){self._updateMapping(!grid._noInternalMapping);self._trustSelection=[];self._oldClearData.apply(grid,arguments);};this._connects.push(_4ba.connect(_4bc,"selectRange",lang.hitch(this,"_updateMapping",true,true,false)),_4ba.connect(_4bc,"deselectRange",lang.hitch(this,"_updateMapping",true,false,false)),_4ba.connect(_4bc,"deselectAll",lang.hitch(this,"_updateMapping",true,false,true)));},destroy:function(){this.inherited(arguments);this.grid._clearData=this._oldClearData;},reset:function(){this.inherited(arguments);this._idMap=[];this._trustSelection=[];this._defaultSelected=false;},_reSelectById:function(item,_4bd){var s=this.selection,g=this.grid;if(item&&g._hasIdentity){var id=g.store.getIdentity(item);if(this._selectedById[id]===undefined){if(!this._trustSelection[_4bd]){s.selected[_4bd]=this._defaultSelected;}}else{s.selected[_4bd]=this._selectedById[id];}this._idMap.push(id);g.onSelectedById(id,_4bd,s.selected[_4bd]);}},_selectById:function(_4be,_4bf){if(!this.inherited(arguments)){this._trustSelection[_4bf]=true;}},onSelectedById:function(id,_4c0,_4c1){},_updateMapping:function(_4c2,_4c3,_4c4,from,to){var s=this.selection,g=this.grid,flag=0,_4c5=0,i,id;for(i=g.rowCount-1;i>=0;--i){if(!g._by_idx[i]){++_4c5;flag+=s.selected[i]?1:-1;}else{id=g._by_idx[i].idty;if(id&&(_4c2||this._selectedById[id]===undefined)){this._selectedById[id]=!!s.selected[i];}}}if(_4c5){this._defaultSelected=flag>0;}if(!_4c4&&from!==undefined&&to!==undefined){_4c4=!g.usingPagination&&Math.abs(to-from+1)===g.rowCount;}if(_4c4&&(!g.usingPagination||g.selectionMode==="single")){for(i=this._idMap.length-1;i>=0;--i){this._selectedById[this._idMap[i]]=_4c3;}}}});});},"dojox/charting/plot2d/Bubble":function(){define("dojox/charting/plot2d/Bubble",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","./Base","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_4c6,arr,Base,dc,df,dfr,du,fx){var _4c7=dfr.lambda("item.purgeGroup()");return _4c6("dojox.charting.plot2d.Bubble",Base,{defaultParams:{hAxis:"x",vAxis:"y",animate:null},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_4c8,_4c9){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_4c9);du.updateWithPattern(this.opt,_4c9,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(dim,_4ca){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_4ca);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_4c7);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_4cb=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}if(typeof run.data[0]=="number"){continue;}var _4cc=t.next("circle",[this.opt,run]),s=run.group,_4cd=arr.map(run.data,function(v,i){return v?{x:ht(v.x)+_4ca.l,y:dim.height-_4ca.b-vt(v.y),radius:this._vScaler.bounds.scale*(v.size/2)}:null;},this);var _4ce=null,_4cf=null,_4d0=null;if(_4cc.series.shadow){_4d0=arr.map(_4cd,function(item){if(item!==null){var _4d1=t.addMixin(_4cc,"circle",item,true),_4d2=_4d1.series.shadow;var _4d3=s.createCircle({cx:item.x+_4d2.dx,cy:item.y+_4d2.dy,r:item.radius}).setStroke(_4d2).setFill(_4d2.color);if(this.animate){this._animateBubble(_4d3,dim.height-_4ca.b,item.radius);}return _4d3;}return null;},this);if(_4d0.length){run.dyn.shadow=_4d0[_4d0.length-1].getStroke();}}if(_4cc.series.outline){_4cf=arr.map(_4cd,function(item){if(item!==null){var _4d4=t.addMixin(_4cc,"circle",item,true),_4d5=dc.makeStroke(_4d4.series.outline);_4d5.width=2*_4d5.width+_4cc.series.stroke.width;var _4d6=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setStroke(_4d5);if(this.animate){this._animateBubble(_4d6,dim.height-_4ca.b,item.radius);}return _4d6;}return null;},this);if(_4cf.length){run.dyn.outline=_4cf[_4cf.length-1].getStroke();}}_4ce=arr.map(_4cd,function(item){if(item!==null){var _4d7=t.addMixin(_4cc,"circle",item,true),rect={x:item.x-item.radius,y:item.y-item.radius,width:2*item.radius,height:2*item.radius};var _4d8=this._plotFill(_4d7.series.fill,dim,_4ca);_4d8=this._shapeFill(_4d8,rect);var _4d9=s.createCircle({cx:item.x,cy:item.y,r:item.radius}).setFill(_4d8).setStroke(_4d7.series.stroke);if(this.animate){this._animateBubble(_4d9,dim.height-_4ca.b,item.radius);}return _4d9;}return null;},this);if(_4ce.length){run.dyn.fill=_4ce[_4ce.length-1].getFill();run.dyn.stroke=_4ce[_4ce.length-1].getStroke();}if(_4cb){var _4da=new Array(_4ce.length);arr.forEach(_4ce,function(s,i){if(s!==null){var o={element:"circle",index:i,run:run,shape:s,outline:_4cf&&_4cf[i]||null,shadow:_4d0&&_4d0[i]||null,x:run.data[i].x,y:run.data[i].y,r:run.data[i].size/2,cx:_4cd[i].x,cy:_4cd[i].y,cr:_4cd[i].radius};this._connectEvents(o);_4da[i]=o;}},this);this._eventSeries[run.name]=_4da;}else{delete this._eventSeries[run.name];}run.dirty=false;}this.dirty=false;return this;},_animateBubble:function(_4db,_4dc,size){fx.animateTransform(lang.delegate({shape:_4db,duration:1200,transform:[{name:"translate",start:[0,_4dc],end:[0,0]},{name:"scale",start:[0,1/size],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/mdnd/DropIndicator":function(){define("dojox/mdnd/DropIndicator",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/html","./AreaManager"],function(dojo){var di=dojo.declare("dojox.mdnd.DropIndicator",null,{node:null,constructor:function(){var _4dd=document.createElement("div");var _4de=document.createElement("div");_4dd.appendChild(_4de);dojo.addClass(_4dd,"dropIndicator");this.node=_4dd;},place:function(area,_4df,size){if(size){this.node.style.height=size.h+"px";}try{if(_4df){area.insertBefore(this.node,_4df);}else{area.appendChild(this.node);}return this.node;}catch(e){return null;}},remove:function(){if(this.node){this.node.style.height="";if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}}},destroy:function(){if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}dojo._destroyElement(this.node);delete this.node;}}});dojox.mdnd.areaManager()._dropIndicator=new dojox.mdnd.DropIndicator();return di;});},"url:dojox/grid/enhanced/templates/Pagination.html":'<div dojoAttachPoint="paginatorBar"\r\n\t><table cellpadding="0" cellspacing="0"  class="dojoxGridPaginator"\r\n\t\t><tr\r\n\t\t\t><td dojoAttachPoint="descriptionTd" class="dojoxGridDescriptionTd"\r\n\t\t\t\t><div dojoAttachPoint="descriptionDiv" class="dojoxGridDescription"></div\r\n\t\t\t></div></td\r\n\t\t\t><td dojoAttachPoint="sizeSwitchTd"></td\r\n\t\t\t><td dojoAttachPoint="pageStepperTd" class="dojoxGridPaginatorFastStep"\r\n\t\t\t\t><div dojoAttachPoint="pageStepperDiv" class="dojoxGridPaginatorStep"></div\r\n\t\t\t></td\r\n\t\t\t><td dojoAttachPoint="gotoPageTd" class="dojoxGridPaginatorGotoTd"\r\n\t\t\t\t><div dojoAttachPoint="gotoPageDiv" class="dojoxGridPaginatorGotoDiv" dojoAttachEvent="onclick:_openGotopageDialog, onkeydown:_openGotopageDialog"\r\n\t\t\t\t\t><span class="dojoxGridWardButtonInner">&#8869;</span\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t></tr\r\n\t></table\r\n></div>\r\n',"dojox/main":function(){define("dojox/main",["dojo/_base/kernel"],function(dojo){return dojo.dojox;});},"dojox/charting/Chart2D":function(){define("dojox/charting/Chart2D",["dojo/_base/kernel","dojox","./Chart","./axis2d/Default","./axis2d/Invisible","./plot2d/Default","./plot2d/Lines","./plot2d/Areas","./plot2d/Markers","./plot2d/MarkersOnly","./plot2d/Scatter","./plot2d/Stacked","./plot2d/StackedLines","./plot2d/StackedAreas","./plot2d/Columns","./plot2d/StackedColumns","./plot2d/ClusteredColumns","./plot2d/Bars","./plot2d/StackedBars","./plot2d/ClusteredBars","./plot2d/Grid","./plot2d/Pie","./plot2d/Bubble","./plot2d/Candlesticks","./plot2d/OHLC","./plot2d/Spider"],function(dojo,_4e0,_4e1){dojo.deprecated("dojox.charting.Chart2D","Use dojo.charting.Chart instead and require all other components explicitly","2.0");return _4e0.charting.Chart2D=_4e1;});},"dojox/grid/enhanced/nls/EnhancedGrid":function(){define("dojox/grid/enhanced/nls/EnhancedGrid",{root:({singleSort:"Single Sort",nestedSort:"Nested Sort",ascending:"Click to sort Ascending",descending:"Click to sort Descending",sortingState:"${0} - ${1}",unsorted:"Do not sort this column",indirectSelectionRadio:"Row ${0}, single selection, radio box",indirectSelectionCheckBox:"Row ${0}, multiple selection, check box",selectAll:"Select all"}),"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"es":true,"fi":true,"fr":true,"he":true,"hr":true,"hu":true,"hr":true,"it":true,"ja":true,"kk":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-tw":true});},"dojox/grid/_Scroller":function(){define("dojox/grid/_Scroller",["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(_4e2,_4e3,lang,util,html){var _4e4=function(_4e5){var i=0,n,p=_4e5.parentNode;while((n=p.childNodes[i++])){if(n==_4e5){return i-1;}}return -1;};var _4e6=function(_4e7){if(!_4e7){return;}dojo.forEach(_4e2.toArray(),function(w){if(w.domNode&&html.isDescendant(w.domNode,_4e7,true)){w.destroy();}});};var _4e8=function(_4e9){var node=html.byId(_4e9);return(node&&node.tagName?node.tagName.toLowerCase():"");};var _4ea=function(_4eb,_4ec){var _4ed=[];var i=0,n;while((n=_4eb.childNodes[i])){i++;if(_4e8(n)==_4ec){_4ed.push(n);}}return _4ed;};var _4ee=function(_4ef){return _4ea(_4ef,"div");};return _4e3("dojox.grid._Scroller",null,{constructor:function(_4f0){this.setContentNodes(_4f0);this.pageHeights=[];this.pageNodes=[];this.stack=[];},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,MAX_HEIGHT:10737418,init:function(_4f1,_4f2,_4f3){switch(arguments.length){case 3:this.rowsPerPage=_4f3;case 2:this.keepRows=_4f2;case 1:this.rowCount=_4f1;default:break;}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);this.setKeepInfo(this.keepRows);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=lang.hitch(this,"onscroll");}},_getPageCount:function(_4f4,_4f5){return _4f4?(Math.ceil(_4f4/_4f5)||1):0;},destroy:function(){this.invalidateNodes();delete this.contentNodes;delete this.contentNode;delete this.scrollboxNode;},setKeepInfo:function(_4f6){this.keepRows=_4f6;this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);},setContentNodes:function(_4f7){this.contentNodes=_4f7;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},invalidate:function(){this._invalidating=true;this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();this._invalidating=false;},updateRowCount:function(_4f8){this.invalidateNodes();this.rowCount=_4f8;var _4f9=this.pageCount;if(_4f9===0){this.height=1;}this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);if(this.pageCount<_4f9){for(var i=_4f9-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>_4f9){this.height+=this.defaultPageHeight*(this.pageCount-_4f9-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_4fa){return Boolean(this.getDefaultPageNode(_4fa));},measurePage:function(_4fb){if(this.grid.rowHeight){var _4fc=this.grid.rowHeight+1;return((_4fb+1)*this.rowsPerPage>this.rowCount?this.rowCount-_4fb*this.rowsPerPage:this.rowsPerPage)*_4fc;}var n=this.getDefaultPageNode(_4fb);return(n&&n.innerHTML)?n.offsetHeight:undefined;},positionPage:function(_4fd,_4fe){for(var i=0;i<this.colCount;i++){this.pageNodes[i][_4fd].style.top=_4fe+"px";}},repositionPages:function(_4ff){var _500=this.getDefaultNodes();var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_500[_4ff];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_4ff):0);for(var p=_4ff+1;p<=last;p++){n=_500[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},installPage:function(_501){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_501]);}},preparePage:function(_502,_503){var p=(_503?this.popPage():null);for(var i=0;i<this.colCount;i++){var _504=this.pageNodes[i];var _505=(p===null?this.createPageNode():this.invalidatePageNode(p,_504));_505.pageIndex=_502;_504[_502]=_505;}},renderPage:function(_506){var _507=[];var i,j;for(i=0;i<this.colCount;i++){_507[i]=this.pageNodes[i][_506];}for(i=0,j=_506*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_507);}},removePage:function(_508){for(var i=0,j=_508*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},destroyPage:function(_509){for(var i=0;i<this.colCount;i++){var n=this.invalidatePageNode(_509,this.pageNodes[i]);if(n){html.destroy(n);}}},pacify:function(_50a){},pacifying:false,pacifyTicks:200,setPacifying:function(_50b){if(this.pacifying!=_50b){this.pacifying=_50b;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _50c=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _50c;},endPacify:function(){this.setPacifying(false);},resize:function(){this.height=Math.min(this.height,this.MAX_HEIGHT);if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));}var _50d=(!this._invalidating);if(!_50d){var ah=this.grid.get("autoHeight");if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){_50d=true;}}if(_50d){this.needPage(this.page,this.pageTop);}var _50e=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);var _50f=this.getPageHeight(this.page);this.averageRowHeight=(_50f>0&&_50e>0)?(_50f/_50e):0;},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _510=this.pageCount-1;var _511=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_510]=_511;return _511;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_512,_513,_514){if(this.pageExists(_512)){var oh=this.getPageHeight(_512);var h=(this.measurePage(_512));if(h===undefined){h=oh;}this.pageHeights[_512]=h;if(oh!=h){this.updateContentHeight(h-oh);var ah=this.grid.get("autoHeight");if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_513)){if(!_514){this.grid.sizeChange();}else{var ns=this.grid.viewsNode.style;ns.height=parseInt(ns.height)+h-oh+"px";this.repositionPages(_512);}}else{this.repositionPages(_512);}}return h;}return 0;},rowHeightChanged:function(_515,_516){this.updatePageHeight(Math.floor(_515/this.rowsPerPage),false,_516);},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");html.attr(p,"role","presentation");p.style.position="absolute";p.style[this.grid.isLeftToRight()?"left":"right"]="0";return p;},getPageHeight:function(_517){var ph=this.pageHeights[_517];return(ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_518){return this.stack.push(_518);},popPage:function(){return this.stack.shift();},findPage:function(_519){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_519){break;}}this.page=i;this.pageTop=h;},buildPage:function(_51a,_51b,_51c){this.preparePage(_51a,_51b);this.positionPage(_51a,_51c);this.installPage(_51a);this.renderPage(_51a);if(!_51b){this.pushPage(_51a);}},needPage:function(_51d,_51e){var h=this.getPageHeight(_51d),oh=h;if(!this.pageExists(_51d)){this.buildPage(_51d,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),_51e);h=this.updatePageHeight(_51d,true);}else{this.positionPage(_51d,_51e);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_51f){this.grid.scrollTop=_51f;if(this.colCount){this.startPacify();this.findPage(_51f);var h=this.height;var b=this.getScrollBottom(_51f);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_51f);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();}},getScrollBottom:function(_520){return(this.windowHeight>=0?_520+this.windowHeight:-1);},processNodeEvent:function(e,_521){var t=e.target;while(t&&(t!=_521)&&t.parentNode&&(t.parentNode.parentNode!=_521)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_521)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+_4e4(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},renderRow:function(_522,_523){},removeRow:function(_524){},getDefaultPageNode:function(_525){return this.getDefaultNodes()[_525];},positionPageNode:function(_526,_527){},getPageNodePosition:function(_528){return _528.offsetTop;},invalidatePageNode:function(_529,_52a){var p=_52a[_529];if(p){delete _52a[_529];this.removePage(_529,p);_4e6(p);p.innerHTML="";}return p;},getPageRow:function(_52b){return _52b*this.rowsPerPage;},getLastPageRow:function(_52c){return Math.min(this.rowCount,this.getPageRow(_52c+1))-1;},getFirstVisibleRow:function(_52d,_52e,_52f){if(!this.pageExists(_52d)){return 0;}var row=this.getPageRow(_52d);var _530=this.getDefaultNodes();var rows=_4ee(_530[_52d]);for(var i=0,l=rows.length;i<l&&_52e<_52f;i++,row++){_52e+=rows[i].offsetHeight;}return(row?row-1:row);},getLastVisibleRow:function(_531,_532,_533){if(!this.pageExists(_531)){return 0;}var _534=this.getDefaultNodes();var row=this.getLastPageRow(_531);var rows=_4ee(_534[_531]);for(var i=rows.length-1;i>=0&&_532>_533;i--,row--){_532-=rows[i].offsetHeight;}return row+1;},findTopRow:function(_535){var _536=this.getDefaultNodes();var rows=_4ee(_536[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_535){this.offset=h-(t-_535);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTop:function(_537){var _538=Math.floor(_537/this.rowsPerPage);var t=0;var i,l;for(i=0;i<_538;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.page=_538;this.needPage(_538,this.pageTop);var _539=this.getDefaultNodes();var rows=_4ee(_539[_538]);var r=_537-this.rowsPerPage*_538;for(i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},dummy:0});});},"url:dojox/layout/resources/GridContainer.html":'<div id="${id}" class="gridContainer" dojoAttachPoint="containerNode" tabIndex="0" dojoAttachEvent="onkeypress:_selectFocus">\r\n\t<div dojoAttachPoint="gridContainerDiv">\r\n\t\t<table class="gridContainerTable" dojoAttachPoint="gridContainerTable" cellspacing="0" cellpadding="0">\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr dojoAttachPoint="gridNode" >\r\n\t\t\t\t\t\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n</div>',"dojox/gfx":function(){define("dojox/gfx",["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_53a,_53b){_53a.switchTo(_53b);return _53a;});},"dojox/layout/GridContainer":function(){define("dojox/layout/GridContainer",["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/html","dojo/_base/lang","dojo/_base/window","dojo/ready","dojox/layout/GridContainerLite"],function(dojo){return dojo.declare("dojox.layout.GridContainer",dojox.layout.GridContainerLite,{hasResizableColumns:true,liveResizeColumns:false,minColWidth:20,minChildWidth:150,mode:"right",isRightFixed:false,isLeftFixed:false,startup:function(){this.inherited(arguments);if(this.hasResizableColumns){for(var i=0;i<this._grid.length-1;i++){this._createGrip(i);}if(!this.getParent()){dojo.ready(dojo.hitch(this,"_placeGrips"));}}},resizeChildAfterDrop:function(node,_53c,_53d){if(this.inherited(arguments)){this._placeGrips();}},onShow:function(){this.inherited(arguments);this._placeGrips();},resize:function(){this.inherited(arguments);if(this._isShown()&&this.hasResizableColumns){this._placeGrips();}},_createGrip:function(_53e){var _53f=this._grid[_53e],grip=dojo.create("div",{"class":"gridContainerGrip"},this.domNode);_53f.grip=grip;_53f.gripHandler=[this.connect(grip,"onmouseover",function(e){var _540=false;for(var i=0;i<this._grid.length-1;i++){if(dojo.hasClass(this._grid[i].grip,"gridContainerGripShow")){_540=true;break;}}if(!_540){dojo.removeClass(e.target,"gridContainerGrip");dojo.addClass(e.target,"gridContainerGripShow");}})[0],this.connect(grip,"onmouseout",function(e){if(!this._isResized){dojo.removeClass(e.target,"gridContainerGripShow");dojo.addClass(e.target,"gridContainerGrip");}})[0],this.connect(grip,"onmousedown","_resizeColumnOn")[0],this.connect(grip,"ondblclick","_onGripDbClick")[0]];},_placeGrips:function(){var _541,_542,left=0,grip;var _543=this.domNode.style.overflowY;dojo.forEach(this._grid,function(_544){if(_544.grip){grip=_544.grip;if(!_541){_541=grip.offsetWidth/2;}left+=dojo.marginBox(_544.node).w;dojo.style(grip,"left",(left-_541)+"px");if(!_542){_542=dojo.contentBox(this.gridNode).h;}if(_542>0){dojo.style(grip,"height",_542+"px");}}},this);},_onGripDbClick:function(){this._updateColumnsWidth(this._dragManager);this.resize();},_resizeColumnOn:function(e){this._activeGrip=e.target;this._initX=e.pageX;e.preventDefault();dojo.body().style.cursor="ew-resize";this._isResized=true;var _545=[];var grid;var i;for(i=0;i<this._grid.length;i++){_545[i]=dojo.contentBox(this._grid[i].node).w;}this._oldTabSize=_545;for(i=0;i<this._grid.length;i++){grid=this._grid[i];if(this._activeGrip==grid.grip){this._currentColumn=grid.node;this._currentColumnWidth=_545[i];this._nextColumn=this._grid[i+1].node;this._nextColumnWidth=_545[i+1];}grid.node.style.width=_545[i]+"px";}var _546=function(_547,_548){var _549=0;var _54a=0;dojo.forEach(_547,function(_54b){if(_54b.nodeType==1){var _54c=dojo.getComputedStyle(_54b);var _54d=(dojo.isIE)?_548:parseInt(_54c.minWidth);_54a=_54d+parseInt(_54c.marginLeft)+parseInt(_54c.marginRight);if(_549<_54a){_549=_54a;}}});return _549;};var _54e=_546(this._currentColumn.childNodes,this.minChildWidth);var _54f=_546(this._nextColumn.childNodes,this.minChildWidth);var _550=Math.round((dojo.marginBox(this.gridContainerTable).w*this.minColWidth)/100);this._currentMinCol=_54e;this._nextMinCol=_54f;if(_550>this._currentMinCol){this._currentMinCol=_550;}if(_550>this._nextMinCol){this._nextMinCol=_550;}this._connectResizeColumnMove=dojo.connect(dojo.doc,"onmousemove",this,"_resizeColumnMove");this._connectOnGripMouseUp=dojo.connect(dojo.doc,"onmouseup",this,"_onGripMouseUp");},_onGripMouseUp:function(){dojo.body().style.cursor="default";dojo.disconnect(this._connectResizeColumnMove);dojo.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=this._connectResizeColumnMove=null;if(this._activeGrip){dojo.removeClass(this._activeGrip,"gridContainerGripShow");dojo.addClass(this._activeGrip,"gridContainerGrip");}this._isResized=false;},_resizeColumnMove:function(e){e.preventDefault();if(!this._connectResizeColumnOff){dojo.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=null;this._connectResizeColumnOff=dojo.connect(dojo.doc,"onmouseup",this,"_resizeColumnOff");}var d=e.pageX-this._initX;if(d==0){return;}if(!(this._currentColumnWidth+d<this._currentMinCol||this._nextColumnWidth-d<this._nextMinCol)){this._currentColumnWidth+=d;this._nextColumnWidth-=d;this._initX=e.pageX;this._activeGrip.style.left=parseInt(this._activeGrip.style.left)+d+"px";if(this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";this.resize();}}},_resizeColumnOff:function(e){dojo.body().style.cursor="default";dojo.disconnect(this._connectResizeColumnMove);dojo.disconnect(this._connectResizeColumnOff);this._connectResizeColumnOff=this._connectResizeColumnMove=null;if(!this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";}var _551=[],_552=[],_553=this.gridContainerTable.clientWidth,node,_554=false,i;for(i=0;i<this._grid.length;i++){node=this._grid[i].node;if(dojo.isIE){_551[i]=dojo.marginBox(node).w;_552[i]=dojo.contentBox(node).w;}else{_551[i]=dojo.contentBox(node).w;_552=_551;}}for(i=0;i<_552.length;i++){if(_552[i]!=this._oldTabSize[i]){_554=true;break;}}if(_554){var mul=dojo.isIE?100:10000;for(i=0;i<this._grid.length;i++){this._grid[i].node.style.width=Math.round((100*mul*_551[i])/_553)/mul+"%";}this.resize();}if(this._activeGrip){dojo.removeClass(this._activeGrip,"gridContainerGripShow");dojo.addClass(this._activeGrip,"gridContainerGrip");}this._isResized=false;},setColumns:function(_555){var z,j;if(_555>0){var _556=this._grid.length,_557=_556-_555;if(_557>0){var _558=[],zone,_559,end,_55a;if(this.mode=="right"){end=(this.isLeftFixed&&_556>0)?1:0;_559=(this.isRightFixed)?_556-2:_556-1;for(z=_559;z>=end;z--){_55a=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_55a++;break;}}if(_55a==0){_558[_558.length]=z;}if(_558.length>=_557){this._deleteColumn(_558);break;}}if(_558.length<_557){dojo.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}else{_559=(this.isLeftFixed&&_556>0)?1:0;end=(this.isRightFixed)?_556-1:_556;for(z=_559;z<end;z++){_55a=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_55a++;break;}}if(_55a==0){_558[_558.length]=z;}if(_558.length>=_557){this._deleteColumn(_558);break;}}if(_558.length<_557){dojo.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}}else{if(_557<0){this._addColumn(Math.abs(_557));}}if(this.hasResizableColumns){this._placeGrips();}}},_addColumn:function(_55b){var grid=this._grid,_55c,node,_55d,_55e,_55f=(this.mode=="right"),_560=this.acceptTypes.join(","),m=this._dragManager;if(this.hasResizableColumns&&((!this.isRightFixed&&_55f)||(this.isLeftFixed&&!_55f&&this.nbZones==1))){this._createGrip(grid.length-1);}for(var i=0;i<_55b;i++){node=dojo.create("td",{"class":"gridContainerZone dojoxDndArea","accept":_560,"id":this.id+"_dz"+this.nbZones});_55e=grid.length;if(_55f){if(this.isRightFixed){_55d=_55e-1;grid.splice(_55d,0,{"node":grid[_55d].node.parentNode.insertBefore(node,grid[_55d].node)});}else{_55d=_55e;grid.push({"node":this.gridNode.appendChild(node)});}}else{if(this.isLeftFixed){_55d=(_55e==1)?0:1;this._grid.splice(1,0,{"node":this._grid[_55d].node.parentNode.appendChild(node,this._grid[_55d].node)});_55d=1;}else{_55d=_55e-this.nbZones;this._grid.splice(_55d,0,{"node":grid[_55d].node.parentNode.insertBefore(node,grid[_55d].node)});}}if(this.hasResizableColumns){if((!_55f&&this.nbZones!=1)||(!_55f&&this.nbZones==1&&!this.isLeftFixed)||(_55f&&i<_55b-1)||(_55f&&i==_55b-1&&this.isRightFixed)){this._createGrip(_55d);}}m.registerByNode(grid[_55d].node);this.nbZones++;}this._updateColumnsWidth(m);},_deleteColumn:function(_561){var _562,grid,_563,_564=0,_565=_561.length,m=this._dragManager;for(var i=0;i<_565;i++){_563=(this.mode=="right")?_561[i]:_561[i]-_564;grid=this._grid[_563];if(this.hasResizableColumns&&grid.grip){dojo.forEach(grid.gripHandler,function(_566){dojo.disconnect(_566);});dojo.destroy(this.domNode.removeChild(grid.grip));grid.grip=null;}m.unregister(grid.node);dojo.destroy(this.gridNode.removeChild(grid.node));this._grid.splice(_563,1);this.nbZones--;_564++;}var _567=this._grid[this.nbZones-1];if(_567.grip){dojo.forEach(_567.gripHandler,dojo.disconnect);dojo.destroy(this.domNode.removeChild(_567.grip));_567.grip=null;}this._updateColumnsWidth(m);},_updateColumnsWidth:function(_568){this.inherited(arguments);_568._dropMode.updateAreas(_568._areaList);},destroy:function(){dojo.unsubscribe(this._dropHandler);this.inherited(arguments);}});});},"dojox/charting/Theme":function(){define("dojox/charting/Theme",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/Color","dojox/color/_base","dojox/color/Palette","dojox/lang/utils","dojox/gfx/gradutils"],function(lang,arr,_569,_56a,_56b,_56c,dlu,dgg){var _56d=_569("dojox.charting.Theme",null,{shapeSpaces:{shape:1,shapeX:1,shapeY:1},constructor:function(_56e){_56e=_56e||{};var def=_56d.defaultTheme;arr.forEach(["chart","plotarea","axis","series","marker","indicator"],function(name){this[name]=lang.delegate(def[name],_56e[name]);},this);if(_56e.seriesThemes&&_56e.seriesThemes.length){this.colors=null;this.seriesThemes=_56e.seriesThemes.slice(0);}else{this.seriesThemes=null;this.colors=(_56e.colors||_56d.defaultColors).slice(0);}this.markerThemes=null;if(_56e.markerThemes&&_56e.markerThemes.length){this.markerThemes=_56e.markerThemes.slice(0);}this.markers=_56e.markers?lang.clone(_56e.markers):lang.delegate(_56d.defaultMarkers);this.noGradConv=_56e.noGradConv;this.noRadialConv=_56e.noRadialConv;if(_56e.reverseFills){this.reverseFills();}this._current=0;this._buildMarkerArray();},clone:function(){var _56f=new _56d({chart:this.chart,plotarea:this.plotarea,axis:this.axis,series:this.series,marker:this.marker,colors:this.colors,markers:this.markers,indicator:this.indicator,seriesThemes:this.seriesThemes,markerThemes:this.markerThemes,noGradConv:this.noGradConv,noRadialConv:this.noRadialConv});arr.forEach(["clone","clear","next","skip","addMixin","post","getTick"],function(name){if(this.hasOwnProperty(name)){_56f[name]=this[name];}},this);return _56f;},clear:function(){this._current=0;},next:function(_570,_571,_572){var _573=dlu.merge,_574,_575;if(this.colors){_574=lang.delegate(this.series);_575=lang.delegate(this.marker);var _576=new _56a(this.colors[this._current%this.colors.length]),old;if(_574.stroke&&_574.stroke.color){_574.stroke=lang.delegate(_574.stroke);old=new _56a(_574.stroke.color);_574.stroke.color=new _56a(_576);_574.stroke.color.a=old.a;}else{_574.stroke={color:_576};}if(_575.stroke&&_575.stroke.color){_575.stroke=lang.delegate(_575.stroke);old=new _56a(_575.stroke.color);_575.stroke.color=new _56a(_576);_575.stroke.color.a=old.a;}else{_575.stroke={color:_576};}if(!_574.fill||_574.fill.type){_574.fill=_576;}else{old=new _56a(_574.fill);_574.fill=new _56a(_576);_574.fill.a=old.a;}if(!_575.fill||_575.fill.type){_575.fill=_576;}else{old=new _56a(_575.fill);_575.fill=new _56a(_576);_575.fill.a=old.a;}}else{_574=this.seriesThemes?_573(this.series,this.seriesThemes[this._current%this.seriesThemes.length]):this.series;_575=this.markerThemes?_573(this.marker,this.markerThemes[this._current%this.markerThemes.length]):_574;}var _577=_575&&_575.symbol||this._markers[this._current%this._markers.length];var _578={series:_574,marker:_575,symbol:_577};++this._current;if(_571){_578=this.addMixin(_578,_570,_571);}if(_572){_578=this.post(_578,_570);}return _578;},skip:function(){++this._current;},addMixin:function(_579,_57a,_57b,_57c){if(lang.isArray(_57b)){arr.forEach(_57b,function(m){_579=this.addMixin(_579,_57a,m);},this);}else{var t={};if("color" in _57b){if(_57a=="line"||_57a=="area"){lang.setObject("series.stroke.color",_57b.color,t);lang.setObject("marker.stroke.color",_57b.color,t);}else{lang.setObject("series.fill",_57b.color,t);}}arr.forEach(["stroke","outline","shadow","fill","font","fontColor","labelWiring"],function(name){var _57d="marker"+name.charAt(0).toUpperCase()+name.substr(1),b=_57d in _57b;if(name in _57b){lang.setObject("series."+name,_57b[name],t);if(!b){lang.setObject("marker."+name,_57b[name],t);}}if(b){lang.setObject("marker."+name,_57b[_57d],t);}});if("marker" in _57b){t.symbol=_57b.marker;}_579=dlu.merge(_579,t);}if(_57c){_579=this.post(_579,_57a);}return _579;},post:function(_57e,_57f){var fill=_57e.series.fill,t;if(!this.noGradConv&&this.shapeSpaces[fill.space]&&fill.type=="linear"){if(_57f=="bar"){t={x1:fill.y1,y1:fill.x1,x2:fill.y2,y2:fill.x2};}else{if(!this.noRadialConv&&fill.space=="shape"&&(_57f=="slice"||_57f=="circle")){t={type:"radial",cx:0,cy:0,r:100};}}if(t){return dlu.merge(_57e,{series:{fill:t}});}}return _57e;},getTick:function(name,_580){var tick=this.axis.tick,_581=name+"Tick",_582=dlu.merge;if(tick){if(this.axis[_581]){tick=_582(tick,this.axis[_581]);}}else{tick=this.axis[_581];}if(_580){if(tick){if(_580[_581]){tick=_582(tick,_580[_581]);}}else{tick=_580[_581];}}return tick;},inspectObjects:function(f){arr.forEach(["chart","plotarea","axis","series","marker","indicator"],function(name){f(this[name]);},this);if(this.seriesThemes){arr.forEach(this.seriesThemes,f);}if(this.markerThemes){arr.forEach(this.markerThemes,f);}},reverseFills:function(){this.inspectObjects(function(o){if(o&&o.fill){o.fill=dgg.reverse(o.fill);}});},addMarker:function(name,_583){this.markers[name]=_583;this._buildMarkerArray();},setMarkers:function(obj){this.markers=obj;this._buildMarkerArray();},_buildMarkerArray:function(){this._markers=[];for(var p in this.markers){this._markers.push(this.markers[p]);}}});lang.mixin(_56d,{defaultMarkers:{CIRCLE:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",SQUARE:"m-3,-3 l0,6 6,0 0,-6 z",DIAMOND:"m0,-3 l3,3 -3,3 -3,-3 z",CROSS:"m0,-3 l0,6 m-3,-3 l6,0",X:"m-3,-3 l6,6 m0,-6 l-6,6",TRIANGLE:"m-3,3 l3,-6 3,6 z",TRIANGLE_INVERTED:"m-3,-3 l3,6 3,-6 z"},defaultColors:["#54544c","#858e94","#6e767a","#948585","#474747"],defaultTheme:{chart:{stroke:null,fill:"white",pageStyle:null,titleGap:20,titlePos:"top",titleFont:"normal normal bold 14pt Tahoma",titleFontColor:"#333"},plotarea:{stroke:null,fill:"white"},axis:{stroke:{color:"#333",width:1},tick:{color:"#666",position:"center",font:"normal normal normal 7pt Tahoma",fontColor:"#333",titleGap:15,titleFont:"normal normal normal 11pt Tahoma",titleFontColor:"#333",titleOrientation:"axis"},majorTick:{width:1,length:6},minorTick:{width:0.8,length:3},microTick:{width:0.5,length:1}},series:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000",labelWiring:{width:1,color:"#ccc"}},marker:{stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",font:"normal normal normal 8pt Tahoma",fontColor:"#000"},indicator:{lineStroke:{width:1.5,color:"#333"},lineOutline:{width:0.1,color:"#ccc"},lineShadow:null,stroke:{width:1.5,color:"#333"},outline:{width:0.1,color:"#ccc"},shadow:null,fill:"#ccc",radius:3,font:"normal normal normal 10pt Tahoma",fontColor:"#000",markerFill:"#ccc",markerSymbol:"m-3,0 c0,-4 6,-4 6,0 m-6,0 c0,4 6,4 6,0",markerStroke:{width:1.5,color:"#333"},markerOutline:{width:0.1,color:"#ccc"},markerShadow:null}},defineColors:function(_584){_584=_584||{};var l,c=[],n=_584.num||5;if(_584.colors){l=_584.colors.length;for(var i=0;i<n;i++){c.push(_584.colors[i%l]);}return c;}if(_584.hue){var s=_584.saturation||100,st=_584.low||30,end=_584.high||90;l=(end+st)/2;return _56b.Palette.generate(_56b.fromHsv(_584.hue,s,l),"monochromatic").colors;}if(_584.generator){return _56b.Palette.generate(_584.base,_584.generator).colors;}return c;},generateGradient:function(_585,_586,_587){var fill=lang.delegate(_585);fill.colors=[{offset:0,color:_586},{offset:1,color:_587}];return fill;},generateHslColor:function(_588,_589){_588=new _56a(_588);var hsl=_588.toHsl(),_58a=_56b.fromHsl(hsl.h,hsl.s,_589);_58a.a=_588.a;return _58a;},generateHslGradient:function(_58b,_58c,_58d,_58e){_58b=new _56a(_58b);var hsl=_58b.toHsl(),_58f=_56b.fromHsl(hsl.h,hsl.s,_58d),_590=_56b.fromHsl(hsl.h,hsl.s,_58e);_58f.a=_590.a=_58b.a;return _56d.generateGradient(_58c,_58f,_590);}});return _56d;});},"dojox/grid/enhanced/_FocusManager":function(){define("dojox/grid/enhanced/_FocusManager",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/_base/html","dojo/keys","dijit/a11y","dijit/focus","../_FocusManager"],function(dojo,lang,_591,_592,_593,_594,has,html,keys,_595,_596,_597){var _598=_591("dojox.grid.enhanced._FocusArea",null,{constructor:function(area,_599){this._fm=_599;this._evtStack=[area.name];var _59a=function(){return true;};area.onFocus=area.onFocus||_59a;area.onBlur=area.onBlur||_59a;area.onMove=area.onMove||_59a;area.onKeyUp=area.onKeyUp||_59a;area.onKeyDown=area.onKeyDown||_59a;lang.mixin(this,area);},move:function(_59b,_59c,evt){if(this.name){var i,len=this._evtStack.length;for(i=len-1;i>=0;--i){if(this._fm._areas[this._evtStack[i]].onMove(_59b,_59c,evt)===false){return false;}}}return true;},_onKeyEvent:function(evt,_59d){if(this.name){var i,len=this._evtStack.length;for(i=len-1;i>=0;--i){if(this._fm._areas[this._evtStack[i]][_59d](evt,false)===false){return false;}}for(i=0;i<len;++i){if(this._fm._areas[this._evtStack[i]][_59d](evt,true)===false){return false;}}}return true;},keydown:function(evt){return this._onKeyEvent(evt,"onKeyDown");},keyup:function(evt){return this._onKeyEvent(evt,"onKeyUp");},contentMouseEventPlanner:function(){return 0;},headerMouseEventPlanner:function(){return 0;}});return _591("dojox.grid.enhanced._FocusManager",_597,{_stopEvent:function(evt){try{if(evt&&evt.preventDefault){_594.stop(evt);}}catch(e){}},constructor:function(grid){this.grid=grid;this._areas={};this._areaQueue=[];this._contentMouseEventHandlers=[];this._headerMouseEventHandlers=[];this._currentAreaIdx=-1;this._gridBlured=true;this._connects.push(_593.connect(grid,"onBlur",this,"_doBlur"));this._connects.push(_593.connect(grid.scroller,"renderPage",this,"_delayedCellFocus"));this.addArea({name:"header",onFocus:lang.hitch(this,this.focusHeader),onBlur:lang.hitch(this,this._blurHeader),onMove:lang.hitch(this,this._navHeader),getRegions:lang.hitch(this,this._findHeaderCells),onRegionFocus:lang.hitch(this,this.doColHeaderFocus),onRegionBlur:lang.hitch(this,this.doColHeaderBlur),onKeyDown:lang.hitch(this,this._onHeaderKeyDown)});this.addArea({name:"content",onFocus:lang.hitch(this,this._focusContent),onBlur:lang.hitch(this,this._blurContent),onMove:lang.hitch(this,this._navContent),onKeyDown:lang.hitch(this,this._onContentKeyDown)});this.addArea({name:"editableCell",onFocus:lang.hitch(this,this._focusEditableCell),onBlur:lang.hitch(this,this._blurEditableCell),onKeyDown:lang.hitch(this,this._onEditableCellKeyDown),onContentMouseEvent:lang.hitch(this,this._onEditableCellMouseEvent),contentMouseEventPlanner:function(evt,_59e){return -1;}});this.placeArea("header");this.placeArea("content");this.placeArea("editableCell");this.placeArea("editableCell","above","content");},destroy:function(){for(var name in this._areas){var area=this._areas[name];_592.forEach(area._connects,_593.disconnect);area._connects=null;if(area.uninitialize){area.uninitialize();}}this.inherited(arguments);},addArea:function(area){if(area.name&&lang.isString(area.name)){if(this._areas[area.name]){_592.forEach(area._connects,_593.disconnect);}this._areas[area.name]=new _598(area,this);if(area.onHeaderMouseEvent){this._headerMouseEventHandlers.push(area.name);}if(area.onContentMouseEvent){this._contentMouseEventHandlers.push(area.name);}}},getArea:function(_59f){return this._areas[_59f];},_bindAreaEvents:function(){var area,hdl,_5a0=this._areas;_592.forEach(this._areaQueue,function(name){area=_5a0[name];if(!area._initialized&&lang.isFunction(area.initialize)){area.initialize();area._initialized=true;}if(area.getRegions){area._regions=area.getRegions()||[];_592.forEach(area._connects||[],_593.disconnect);area._connects=[];_592.forEach(area._regions,function(r){if(area.onRegionFocus){hdl=_593.connect(r,"onfocus",area.onRegionFocus);area._connects.push(hdl);}if(area.onRegionBlur){hdl=_593.connect(r,"onblur",area.onRegionBlur);area._connects.push(hdl);}});}});},removeArea:function(_5a1){var area=this._areas[_5a1];if(area){this.ignoreArea(_5a1);var i=_592.indexOf(this._contentMouseEventHandlers,_5a1);if(i>=0){this._contentMouseEventHandlers.splice(i,1);}i=_592.indexOf(this._headerMouseEventHandlers,_5a1);if(i>=0){this._headerMouseEventHandlers.splice(i,1);}_592.forEach(area._connects,_593.disconnect);if(area.uninitialize){area.uninitialize();}delete this._areas[_5a1];}},currentArea:function(_5a2,_5a3){var idx,cai=this._currentAreaIdx;if(lang.isString(_5a2)&&(idx=_592.indexOf(this._areaQueue,_5a2))>=0){if(cai!=idx){this.tabbingOut=false;if(_5a3&&cai>=0&&cai<this._areaQueue.length){this._areas[this._areaQueue[cai]].onBlur();}this._currentAreaIdx=idx;}}else{return(cai<0||cai>=this._areaQueue.length)?new _598({},this):this._areas[this._areaQueue[this._currentAreaIdx]];}return null;},placeArea:function(name,pos,_5a4){if(!this._areas[name]){return;}var idx=_592.indexOf(this._areaQueue,_5a4);switch(pos){case"after":if(idx>=0){++idx;}case"before":if(idx>=0){this._areaQueue.splice(idx,0,name);break;}default:this._areaQueue.push(name);break;case"above":var _5a5=true;case"below":var _5a6=this._areas[_5a4];if(_5a6){if(_5a5){_5a6._evtStack.push(name);}else{_5a6._evtStack.splice(0,0,name);}}}},ignoreArea:function(name){this._areaQueue=_592.filter(this._areaQueue,function(_5a7){return _5a7!=name;});},focusArea:function(_5a8,evt){var idx;if(typeof _5a8=="number"){idx=_5a8<0?this._areaQueue.length+_5a8:_5a8;}else{idx=_592.indexOf(this._areaQueue,lang.isString(_5a8)?_5a8:(_5a8&&_5a8.name));}if(idx<0){idx=0;}var step=idx-this._currentAreaIdx;this._gridBlured=false;if(step){this.tab(step,evt);}else{this.currentArea().onFocus(evt,step);}},tab:function(step,evt){this._gridBlured=false;this.tabbingOut=false;if(step===0){return;}var cai=this._currentAreaIdx;var dir=step>0?1:-1;if(cai<0||cai>=this._areaQueue.length){cai=(this._currentAreaIdx+=step);}else{var _5a9=this._areas[this._areaQueue[cai]].onBlur(evt,step);if(_5a9===true){cai=(this._currentAreaIdx+=step);}else{if(lang.isString(_5a9)&&this._areas[_5a9]){cai=this._currentAreaIdx=_592.indexOf(this._areaQueue,_5a9);}}}for(;cai>=0&&cai<this._areaQueue.length;cai+=dir){this._currentAreaIdx=cai;if(this._areaQueue[cai]&&this._areas[this._areaQueue[cai]].onFocus(evt,step)){return;}}this.tabbingOut=true;if(step<0){this._currentAreaIdx=-1;_596.focus(this.grid.domNode);}else{this._currentAreaIdx=this._areaQueue.length;_596.focus(this.grid.lastFocusNode);}},_onMouseEvent:function(type,evt){var _5aa=type.toLowerCase(),_5ab=this["_"+_5aa+"MouseEventHandlers"],res=_592.map(_5ab,function(_5ac){return{"area":_5ac,"idx":this._areas[_5ac][_5aa+"MouseEventPlanner"](evt,_5ab)};},this).sort(function(a,b){return b.idx-a.idx;}),_5ad=_592.map(res,function(_5ae){return res.area;}),i=res.length;while(--i>=0){if(this._areas[res[i].area]["on"+type+"MouseEvent"](evt,_5ad)===false){return;}}},contentMouseEvent:function(evt){this._onMouseEvent("Content",evt);},headerMouseEvent:function(evt){this._onMouseEvent("Header",evt);},initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];this._bindAreaEvents();},isNavHeader:function(){return this._areaQueue[this._currentAreaIdx]=="header";},previousKey:function(e){this.tab(-1,e);},nextKey:function(e){this.tab(1,e);},setFocusCell:function(_5af,_5b0){if(_5af){this.currentArea(this.grid.edit.isEditing()?"editableCell":"content",true);this._focusifyCellNode(false);this.cell=_5af;this.rowIndex=_5b0;this._focusifyCellNode(true);}this.grid.onCellFocus(this.cell,this.rowIndex);},doFocus:function(e){if(e&&e.target==e.currentTarget&&!this.tabbingOut){if(this._gridBlured){this._gridBlured=false;if(this._currentAreaIdx<0||this._currentAreaIdx>=this._areaQueue.length){this.focusArea(0,e);}else{this.focusArea(this._currentAreaIdx,e);}}}else{this.tabbingOut=false;}_594.stop(e);},_doBlur:function(){this._gridBlured=true;},doLastNodeFocus:function(e){if(this.tabbingOut){this.tabbingOut=false;}else{this.focusArea(-1,e);}},_delayedHeaderFocus:function(){if(this.isNavHeader()&&!has("ie")){this.focusHeader();}},_delayedCellFocus:function(_5b1){},_changeMenuBindNode:function(_5b2,_5b3){var hm=this.grid.headerMenu;if(hm&&this._contextMenuBindNode==_5b2){hm.unBindDomNode(_5b2);hm.bindDomNode(_5b3);this._contextMenuBindNode=_5b3;}},focusHeader:function(evt,step){var _5b4=false;this.inherited(arguments);if(this._colHeadNode&&html.style(this._colHeadNode,"display")!="none"){_596.focus(this._colHeadNode);this._stopEvent(evt);_5b4=true;}return _5b4;},_blurHeader:function(evt,step){if(this._colHeadNode){html.removeClass(this._colHeadNode,this.focusClass);}html.removeAttr(this.grid.domNode,"aria-activedescendant");this._changeMenuBindNode(this.grid.domNode,this.grid.viewsHeaderNode);this._colHeadNode=this._colHeadFocusIdx=null;return true;},_navHeader:function(_5b5,_5b6,evt){var _5b7=_5b6<0?-1:1,_5b8=_592.indexOf(this._findHeaderCells(),this._colHeadNode);if(_5b8>=0&&(evt.shiftKey&&evt.ctrlKey)){this.colSizeAdjust(evt,_5b8,_5b7*5);return;}this.move(_5b5,_5b6);},_onHeaderKeyDown:function(e,_5b9){if(_5b9){var dk=keys;switch(e.keyCode){case dk.ENTER:case dk.SPACE:var _5ba=this.getHeaderIndex();if(_5ba>=0&&!this.grid.pluginMgr.isFixedCell(e.cell)){this.grid.setSortIndex(_5ba,null,e);_594.stop(e);}break;}}return true;},_setActiveColHeader:function(){this.inherited(arguments);_596.focus(this._colHeadNode);},findAndFocusGridCell:function(){this._focusContent();},_focusContent:function(evt,step){var _5bb=true;var _5bc=(this.grid.rowCount===0);if(this.isNoFocusCell()&&!_5bc){for(var i=0,cell=this.grid.getCell(0);cell&&cell.hidden;cell=this.grid.getCell(++i)){}this.setFocusIndex(0,cell?i:0);}else{if(this.cell&&!_5bc){if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){this.grid.scrollToRow(this.rowIndex);this.focusGrid();}else{this.setFocusIndex(this.rowIndex,this.cell.index);}}else{_5bb=false;}}if(_5bb){this._stopEvent(evt);}return _5bb;},_blurContent:function(evt,step){this._focusifyCellNode(false);return true;},_navContent:function(_5bd,_5be,evt){if((this.rowIndex===0&&_5bd<0)||(this.rowIndex===this.grid.rowCount-1&&_5bd>0)){return;}this._colHeadNode=null;this.move(_5bd,_5be,evt);if(evt){_594.stop(evt);}},_onContentKeyDown:function(e,_5bf){if(_5bf){var dk=keys,s=this.grid.scroller;switch(e.keyCode){case dk.ENTER:case dk.SPACE:var g=this.grid;if(g.indirectSelection){break;}g.selection.clickSelect(this.rowIndex,_593.isCopyKey(e),e.shiftKey);g.onRowClick(e);_594.stop(e);break;case dk.PAGE_UP:if(this.rowIndex!==0){if(this.rowIndex!=s.firstVisibleRow+1){this._navContent(s.firstVisibleRow-this.rowIndex,0);}else{this.grid.setScrollTop(s.findScrollTop(this.rowIndex-1));this._navContent(s.firstVisibleRow-s.lastVisibleRow+1,0);}_594.stop(e);}break;case dk.PAGE_DOWN:if(this.rowIndex+1!=this.grid.rowCount){_594.stop(e);if(this.rowIndex!=s.lastVisibleRow-1){this._navContent(s.lastVisibleRow-this.rowIndex-1,0);}else{this.grid.setScrollTop(s.findScrollTop(this.rowIndex+1));this._navContent(s.lastVisibleRow-s.firstVisibleRow-1,0);}_594.stop(e);}break;}}return true;},_blurFromEditableCell:false,_isNavigating:false,_navElems:null,_focusEditableCell:function(evt,step){var _5c0=false;if(this._isNavigating){_5c0=true;}else{if(this.grid.edit.isEditing()&&this.cell){if(this._blurFromEditableCell||!this._blurEditableCell(evt,step)){this.setFocusIndex(this.rowIndex,this.cell.index);_5c0=true;}this._stopEvent(evt);}}return _5c0;},_applyEditableCell:function(){try{this.grid.edit.apply();}catch(e){}},_blurEditableCell:function(evt,step){this._blurFromEditableCell=false;if(this._isNavigating){var _5c1=true;if(evt){var _5c2=this._navElems;var _5c3=_5c2.lowest||_5c2.first;var _5c4=_5c2.last||_5c2.highest||_5c3;var _5c5=has("ie")?evt.srcElement:evt.target;_5c1=_5c5==(step>0?_5c4:_5c3);}if(_5c1){this._isNavigating=false;html.setSelectable(this.cell.getNode(this.rowIndex),false);return"content";}return false;}else{if(this.grid.edit.isEditing()&&this.cell){if(!step||typeof step!="number"){return false;}var dir=step>0?1:-1;var cc=this.grid.layout.cellCount;for(var cell,col=this.cell.index+dir;col>=0&&col<cc;col+=dir){cell=this.grid.getCell(col);if(cell.editable){this.cell=cell;this._blurFromEditableCell=true;return false;}}if((this.rowIndex>0||dir==1)&&(this.rowIndex<this.grid.rowCount||dir==-1)){this.rowIndex+=dir;for(col=dir>0?0:cc-1;col>=0&&col<cc;col+=dir){cell=this.grid.getCell(col);if(cell.editable){this.cell=cell;break;}}this._applyEditableCell();return"content";}}}return true;},_initNavigatableElems:function(){this._navElems=_595._getTabNavigable(this.cell.getNode(this.rowIndex));},_onEditableCellKeyDown:function(e,_5c6){var dk=keys,g=this.grid,edit=g.edit,_5c7=false,_5c8=true;switch(e.keyCode){case dk.ENTER:if(_5c6&&edit.isEditing()){this._applyEditableCell();_5c7=true;_594.stop(e);}case dk.SPACE:if(!_5c6&&this._isNavigating){_5c8=false;break;}if(_5c6){if(!this.cell.editable&&this.cell.navigatable){this._initNavigatableElems();var _5c9=this._navElems.lowest||this._navElems.first;if(_5c9){this._isNavigating=true;html.setSelectable(this.cell.getNode(this.rowIndex),true);_596.focus(_5c9);_594.stop(e);this.currentArea("editableCell",true);break;}}if(!_5c7&&!edit.isEditing()&&!g.pluginMgr.isFixedCell(this.cell)){edit.setEditCell(this.cell,this.rowIndex);}if(_5c7){this.currentArea("content",true);}else{if(this.cell.editable&&g.canEdit()){this.currentArea("editableCell",true);}}}break;case dk.PAGE_UP:case dk.PAGE_DOWN:if(!_5c6&&edit.isEditing()){_5c8=false;}break;case dk.ESCAPE:if(!_5c6){edit.cancel();this.currentArea("content",true);}}return _5c8;},_onEditableCellMouseEvent:function(evt){if(evt.type=="click"){var cell=this.cell||evt.cell;if(cell&&!cell.editable&&cell.navigatable){this._initNavigatableElems();if(this._navElems.lowest||this._navElems.first){var _5ca=has("ie")?evt.srcElement:evt.target;if(_5ca!=cell.getNode(evt.rowIndex)){this._isNavigating=true;this.focusArea("editableCell",evt);html.setSelectable(cell.getNode(evt.rowIndex),true);_596.focus(_5ca);return false;}}}else{if(this.grid.singleClickEdit){this.currentArea("editableCell");return false;}}}return true;}});});},"dojox/charting/plot2d/StackedLines":function(){define("dojox/charting/plot2d/StackedLines",["dojo/_base/declare","./Stacked"],function(_5cb,_5cc){return _5cb("dojox.charting.plot2d.StackedLines",_5cc,{constructor:function(){this.opt.lines=true;}});});},"dojox/charting/axis2d/Default":function(){define("dojox/charting/axis2d/Default",["dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","dojo/_base/declare","dojo/_base/connect","dojo/_base/html","dojo/dom-geometry","./Invisible","../scaler/common","../scaler/linear","./common","dojox/gfx","dojox/lang/utils"],function(lang,arr,has,_5cd,_5ce,html,_5cf,_5d0,_5d1,lin,_5d2,g,du){var _5d3=4,_5d4=45;return _5cd("dojox.charting.axis2d.Default",_5d0,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0,htmlLabels:true,enableCache:false},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null,stroke:{},majorTick:{},minorTick:{},microTick:{},tick:{},font:"",fontColor:"",title:"",titleGap:0,titleFont:"",titleFontColor:"",titleOrientation:""},constructor:function(_5d5,_5d6){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_5d6);du.updateWithPattern(this.opt,_5d6,this.optionalParams);if(this.opt.enableCache){this._textFreePool=[];this._lineFreePool=[];this._textUsePool=[];this._lineUsePool=[];}},getOffsets:function(){var s=this.scaler,_5d7={l:0,r:0,t:0,b:0};if(!s){return _5d7;}var o=this.opt,_5d8=0,a,b,c,d,gl=_5d1.getNumericLabel,_5d9=0,ma=s.major,mi=s.minor,ta=this.chart.theme.axis,_5da=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_5db=o.titleFont||(ta.tick&&ta.tick.titleFont),_5dc=(o.titleGap==0)?0:o.titleGap||(ta.tick&&ta.tick.titleGap)||15,_5dd=this.chart.theme.getTick("major",o),_5de=this.chart.theme.getTick("minor",o),size=_5da?g.normalizedLength(g.splitFontString(_5da).size):0,_5df=_5db?g.normalizedLength(g.splitFontString(_5db).size):0,_5e0=o.rotation%360,_5e1=o.leftBottom,cosr=Math.abs(Math.cos(_5e0*Math.PI/180)),sinr=Math.abs(Math.sin(_5e0*Math.PI/180));this.trailingSymbol=(o.trailingSymbol===undefined||o.trailingSymbol===null)?this.trailingSymbol:o.trailingSymbol;if(_5e0<0){_5e0+=360;}if(size){if(this.labels){_5d8=this._groupLabelWidth(this.labels,_5da,o.maxLabelCharCount);}else{_5d8=this._groupLabelWidth([gl(ma.start,ma.prec,o),gl(ma.start+ma.count*ma.tick,ma.prec,o),gl(mi.start,mi.prec,o),gl(mi.start+mi.count*mi.tick,mi.prec,o)],_5da,o.maxLabelCharCount);}_5d8=o.maxLabelSize?Math.min(o.maxLabelSize,_5d8):_5d8;if(this.vertical){var side=_5e1?"l":"r";switch(_5e0){case 0:case 180:_5d7[side]=_5d8;_5d7.t=_5d7.b=size/2;break;case 90:case 270:_5d7[side]=size;_5d7.t=_5d7.b=_5d8/2;break;default:if(_5e0<=_5d4||(180<_5e0&&_5e0<=(180+_5d4))){_5d7[side]=size*sinr/2+_5d8*cosr;_5d7[_5e1?"t":"b"]=size*cosr/2+_5d8*sinr;_5d7[_5e1?"b":"t"]=size*cosr/2;}else{if(_5e0>(360-_5d4)||(180>_5e0&&_5e0>(180-_5d4))){_5d7[side]=size*sinr/2+_5d8*cosr;_5d7[_5e1?"b":"t"]=size*cosr/2+_5d8*sinr;_5d7[_5e1?"t":"b"]=size*cosr/2;}else{if(_5e0<90||(180<_5e0&&_5e0<270)){_5d7[side]=size*sinr+_5d8*cosr;_5d7[_5e1?"t":"b"]=size*cosr+_5d8*sinr;}else{_5d7[side]=size*sinr+_5d8*cosr;_5d7[_5e1?"b":"t"]=size*cosr+_5d8*sinr;}}}break;}_5d7[side]+=_5d3+Math.max(_5dd.length,_5de.length)+(o.title?(_5df+_5dc):0);}else{var side=_5e1?"b":"t";switch(_5e0){case 0:case 180:_5d7[side]=size;_5d7.l=_5d7.r=_5d8/2;break;case 90:case 270:_5d7[side]=_5d8;_5d7.l=_5d7.r=size/2;break;default:if((90-_5d4)<=_5e0&&_5e0<=90||(270-_5d4)<=_5e0&&_5e0<=270){_5d7[side]=size*sinr/2+_5d8*cosr;_5d7[_5e1?"r":"l"]=size*cosr/2+_5d8*sinr;_5d7[_5e1?"l":"r"]=size*cosr/2;}else{if(90<=_5e0&&_5e0<=(90+_5d4)||270<=_5e0&&_5e0<=(270+_5d4)){_5d7[side]=size*sinr/2+_5d8*cosr;_5d7[_5e1?"l":"r"]=size*cosr/2+_5d8*sinr;_5d7[_5e1?"r":"l"]=size*cosr/2;}else{if(_5e0<_5d4||(180<_5e0&&_5e0<(180-_5d4))){_5d7[side]=size*sinr+_5d8*cosr;_5d7[_5e1?"r":"l"]=size*cosr+_5d8*sinr;}else{_5d7[side]=size*sinr+_5d8*cosr;_5d7[_5e1?"l":"r"]=size*cosr+_5d8*sinr;}}}break;}_5d7[side]+=_5d3+Math.max(_5dd.length,_5de.length)+(o.title?(_5df+_5dc):0);}}if(_5d8){this._cachedLabelWidth=_5d8;}return _5d7;},cleanGroup:function(_5e2){if(this.opt.enableCache&&this.group){this._lineFreePool=this._lineFreePool.concat(this._lineUsePool);this._lineUsePool=[];this._textFreePool=this._textFreePool.concat(this._textUsePool);this._textUsePool=[];}this.inherited(arguments);},createText:function(_5e3,_5e4,x,y,_5e5,_5e6,font,_5e7,_5e8){if(!this.opt.enableCache||_5e3=="html"){return _5d2.createText[_5e3](this.chart,_5e4,x,y,_5e5,_5e6,font,_5e7,_5e8);}var text;if(this._textFreePool.length>0){text=this._textFreePool.pop();text.setShape({x:x,y:y,text:_5e6,align:_5e5});_5e4.add(text);}else{text=_5d2.createText[_5e3](this.chart,_5e4,x,y,_5e5,_5e6,font,_5e7,_5e8);}this._textUsePool.push(text);return text;},createLine:function(_5e9,_5ea){var line;if(this.opt.enableCache&&this._lineFreePool.length>0){line=this._lineFreePool.pop();line.setShape(_5ea);_5e9.add(line);}else{line=_5e9.createLine(_5ea);}if(this.opt.enableCache){this._lineUsePool.push(line);}return line;},render:function(dim,_5eb){if(!this.dirty){return this;}var o=this.opt,ta=this.chart.theme.axis,_5ec=o.leftBottom,_5ed=o.rotation%360,_5ee,stop,_5ef,_5f0=0,_5f1,_5f2,_5f3,_5f4,_5f5,_5f6,_5f7=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),_5f8=o.titleFont||(ta.tick&&ta.tick.titleFont),_5f9=o.fontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"black",_5fa=o.titleFontColor||(ta.tick&&ta.tick.titleFontColor)||"black",_5fb=(o.titleGap==0)?0:o.titleGap||(ta.tick&&ta.tick.titleGap)||15,_5fc=o.titleOrientation||(ta.tick&&ta.tick.titleOrientation)||"axis",_5fd=this.chart.theme.getTick("major",o),_5fe=this.chart.theme.getTick("minor",o),_5ff=this.chart.theme.getTick("micro",o),_600=Math.max(_5fd.length,_5fe.length,_5ff.length),_601="stroke" in o?o.stroke:ta.stroke,size=_5f7?g.normalizedLength(g.splitFontString(_5f7).size):0,cosr=Math.abs(Math.cos(_5ed*Math.PI/180)),sinr=Math.abs(Math.sin(_5ed*Math.PI/180)),_602=_5f8?g.normalizedLength(g.splitFontString(_5f8).size):0;if(_5ed<0){_5ed+=360;}if(this.vertical){_5ee={y:dim.height-_5eb.b};stop={y:_5eb.t};_5ef={y:(dim.height-_5eb.b+_5eb.t)/2};_5f1=size*sinr+(this._cachedLabelWidth||0)*cosr+_5d3+Math.max(_5fd.length,_5fe.length)+_602+_5fb;_5f2={x:0,y:-1};_5f5={x:0,y:0};_5f3={x:1,y:0};_5f4={x:_5d3,y:0};switch(_5ed){case 0:_5f6="end";_5f5.y=size*0.4;break;case 90:_5f6="middle";_5f5.x=-size;break;case 180:_5f6="start";_5f5.y=-size*0.4;break;case 270:_5f6="middle";break;default:if(_5ed<_5d4){_5f6="end";_5f5.y=size*0.4;}else{if(_5ed<90){_5f6="end";_5f5.y=size*0.4;}else{if(_5ed<(180-_5d4)){_5f6="start";}else{if(_5ed<(180+_5d4)){_5f6="start";_5f5.y=-size*0.4;}else{if(_5ed<270){_5f6="start";_5f5.x=_5ec?0:size*0.4;}else{if(_5ed<(360-_5d4)){_5f6="end";_5f5.x=_5ec?0:size*0.4;}else{_5f6="end";_5f5.y=size*0.4;}}}}}}}if(_5ec){_5ee.x=stop.x=_5eb.l;_5f0=(_5fc&&_5fc=="away")?90:270;_5ef.x=_5eb.l-_5f1+(_5f0==270?_602:0);_5f3.x=-1;_5f4.x=-_5f4.x;}else{_5ee.x=stop.x=dim.width-_5eb.r;_5f0=(_5fc&&_5fc=="axis")?90:270;_5ef.x=dim.width-_5eb.r+_5f1-(_5f0==270?0:_602);switch(_5f6){case"start":_5f6="end";break;case"end":_5f6="start";break;case"middle":_5f5.x+=size;break;}}}else{_5ee={x:_5eb.l};stop={x:dim.width-_5eb.r};_5ef={x:(dim.width-_5eb.r+_5eb.l)/2};_5f1=size*cosr+(this._cachedLabelWidth||0)*sinr+_5d3+Math.max(_5fd.length,_5fe.length)+_602+_5fb;_5f2={x:1,y:0};_5f5={x:0,y:0};_5f3={x:0,y:1};_5f4={x:0,y:_5d3};switch(_5ed){case 0:_5f6="middle";_5f5.y=size;break;case 90:_5f6="start";_5f5.x=-size*0.4;break;case 180:_5f6="middle";break;case 270:_5f6="end";_5f5.x=size*0.4;break;default:if(_5ed<(90-_5d4)){_5f6="start";_5f5.y=_5ec?size:0;}else{if(_5ed<(90+_5d4)){_5f6="start";_5f5.x=-size*0.4;}else{if(_5ed<180){_5f6="start";_5f5.y=_5ec?0:-size;}else{if(_5ed<(270-_5d4)){_5f6="end";_5f5.y=_5ec?0:-size;}else{if(_5ed<(270+_5d4)){_5f6="end";_5f5.y=_5ec?size*0.4:0;}else{_5f6="end";_5f5.y=_5ec?size:0;}}}}}}if(_5ec){_5ee.y=stop.y=dim.height-_5eb.b;_5f0=(_5fc&&_5fc=="axis")?180:0;_5ef.y=dim.height-_5eb.b+_5f1-(_5f0?_602:0);}else{_5ee.y=stop.y=_5eb.t;_5f0=(_5fc&&_5fc=="away")?180:0;_5ef.y=_5eb.t-_5f1+(_5f0?0:_602);_5f3.y=-1;_5f4.y=-_5f4.y;switch(_5f6){case"start":_5f6="end";break;case"end":_5f6="start";break;case"middle":_5f5.y-=size;break;}}}this.cleanGroup();try{var s=this.group,c=this.scaler,t=this.ticks,_603,f=lin.getTransformerFromModel(this.scaler),_604=(!o.title||!_5f0)&&!_5ed&&this.opt.htmlLabels&&!has("ie")&&!has("opera")?"html":"gfx",dx=_5f3.x*_5fd.length,dy=_5f3.y*_5fd.length;s.createLine({x1:_5ee.x,y1:_5ee.y,x2:stop.x,y2:stop.y}).setStroke(_601);if(o.title){var _605=_5d2.createText[_604](this.chart,s,_5ef.x,_5ef.y,"middle",o.title,_5f8,_5fa);if(_604=="html"){this.htmlElements.push(_605);}else{_605.setTransform(g.matrix.rotategAt(_5f0,_5ef.x,_5ef.y));}}if(t==null){this.dirty=false;return this;}arr.forEach(t.major,function(tick){var _606=f(tick.value),elem,x=_5ee.x+_5f2.x*_606,y=_5ee.y+_5f2.y*_606;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_5fd);if(tick.label){var _607=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_5f7,o.maxLabelCharCount):{text:tick.label,truncated:false};_607=o.maxLabelSize?this.getTextWithLimitLength(_607.text,_5f7,o.maxLabelSize,_607.truncated):_607;elem=this.createText(_604,s,x+dx+_5f4.x+(_5ed?0:_5f5.x),y+dy+_5f4.y+(_5ed?0:_5f5.y),_5f6,_607.text,_5f7,_5f9);if(this.chart.truncateBidi&&_607.truncated){this.chart.truncateBidi(elem,tick.label,_604);}_607.truncated&&this.labelTooltip(elem,this.chart,tick.label,_607.text,_5f7,_604);if(_604=="html"){this.htmlElements.push(elem);}else{if(_5ed){elem.setTransform([{dx:_5f5.x,dy:_5f5.y},g.matrix.rotategAt(_5ed,x+dx+_5f4.x,y+dy+_5f4.y)]);}}}},this);dx=_5f3.x*_5fe.length;dy=_5f3.y*_5fe.length;_603=c.minMinorStep<=c.minor.tick*c.bounds.scale;arr.forEach(t.minor,function(tick){var _608=f(tick.value),elem,x=_5ee.x+_5f2.x*_608,y=_5ee.y+_5f2.y*_608;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_5fe);if(_603&&tick.label){var _609=o.maxLabelCharCount?this.getTextWithLimitCharCount(tick.label,_5f7,o.maxLabelCharCount):{text:tick.label,truncated:false};_609=o.maxLabelSize?this.getTextWithLimitLength(_609.text,_5f7,o.maxLabelSize,_609.truncated):_609;elem=this.createText(_604,s,x+dx+_5f4.x+(_5ed?0:_5f5.x),y+dy+_5f4.y+(_5ed?0:_5f5.y),_5f6,_609.text,_5f7,_5f9);if(this.chart.getTextDir&&_609.truncated){this.chart.truncateBidi(elem,tick.label,_604);}_609.truncated&&this.labelTooltip(elem,this.chart,tick.label,_609.text,_5f7,_604);if(_604=="html"){this.htmlElements.push(elem);}else{if(_5ed){elem.setTransform([{dx:_5f5.x,dy:_5f5.y},g.matrix.rotategAt(_5ed,x+dx+_5f4.x,y+dy+_5f4.y)]);}}}},this);dx=_5f3.x*_5ff.length;dy=_5f3.y*_5ff.length;arr.forEach(t.micro,function(tick){var _60a=f(tick.value),elem,x=_5ee.x+_5f2.x*_60a,y=_5ee.y+_5f2.y*_60a;this.createLine(s,{x1:x,y1:y,x2:x+dx,y2:y+dy}).setStroke(_5ff);},this);}catch(e){}this.dirty=false;return this;},labelTooltip:function(elem,_60b,_60c,_60d,font,_60e){var _60f=["dijit/Tooltip"];var _610={type:"rect"},_611=["above","below"],_612=g._base._getTextBox(_60d,{font:font}).w||0,_613=font?g.normalizedLength(g.splitFontString(font).size):0;if(_60e=="html"){lang.mixin(_610,html.coords(elem.firstChild,true));_610.width=Math.ceil(_612);_610.height=Math.ceil(_613);this._events.push({shape:dojo,handle:_5ce.connect(elem.firstChild,"onmouseover",this,function(e){require(_60f,function(_614){_614.show(_60c,_610,_611);});})});this._events.push({shape:dojo,handle:_5ce.connect(elem.firstChild,"onmouseout",this,function(e){require(_60f,function(_615){_615.hide(_610);});})});}else{var shp=elem.getShape(),lt=html.coords(_60b.node,true);_610=lang.mixin(_610,{x:shp.x-_612/2,y:shp.y});_610.x+=lt.x;_610.y+=lt.y;_610.x=Math.round(_610.x);_610.y=Math.round(_610.y);_610.width=Math.ceil(_612);_610.height=Math.ceil(_613);this._events.push({shape:elem,handle:elem.connect("onmouseenter",this,function(e){require(_60f,function(_616){_616.show(_60c,_610,_611);});})});this._events.push({shape:elem,handle:elem.connect("onmouseleave",this,function(e){require(_60f,function(_617){_617.hide(_610);});})});}}});});},"dojox/grid/enhanced/_PluginManager":function(){define("dojox/grid/enhanced/_PluginManager",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","./_Events","./_FocusManager","../util"],function(dojo,lang,_618,_619,_61a,_61b,_61c,util){var _61d=_618("dojox.grid.enhanced._PluginManager",null,{_options:null,_plugins:null,_connects:null,constructor:function(_61e){this.grid=_61e;this._store=_61e.store;this._options={};this._plugins=[];this._connects=[];this._parseProps(this.grid.plugins);_61e.connect(_61e,"_setStore",lang.hitch(this,function(_61f){if(this._store!==_61f){this.forEach("onSetStore",[_61f,this._store]);this._store=_61f;}}));},startup:function(){this.forEach("onStartUp");},preInit:function(){this.grid.focus.destroy();this.grid.focus=new _61c(this.grid);new _61b(this.grid);this._init(true);this.forEach("onPreInit");},postInit:function(){this._init(false);_619.forEach(this.grid.views.views,this._initView,this);this._connects.push(_61a.connect(this.grid.views,"addView",lang.hitch(this,this._initView)));if(this._plugins.length>0){var edit=this.grid.edit;if(edit){edit.styleRow=function(_620){};}}this.forEach("onPostInit");},forEach:function(func,args){_619.forEach(this._plugins,function(p){if(!p||!p[func]){return;}p[func].apply(p,args?args:[]);});},_parseProps:function(_621){if(!_621){return;}var p,_622={},_623=this._options,grid=this.grid;var _624=_61d.registry;for(p in _621){if(_621[p]){this._normalize(p,_621,_624,_622);}}if(_623.dnd||_623.indirectSelection){_623.columnReordering=false;}lang.mixin(grid,_623);},_normalize:function(p,_625,_626,_627){if(!_626[p]){throw new Error("Plugin "+p+" is required.");}if(_627[p]){throw new Error("Recursive cycle dependency is not supported.");}var _628=this._options;if(_628[p]){return _628[p];}_627[p]=true;_628[p]=lang.mixin({},_626[p],lang.isObject(_625[p])?_625[p]:{});var _629=_628[p]["dependency"];if(_629){if(!lang.isArray(_629)){_629=_628[p]["dependency"]=[_629];}_619.forEach(_629,function(_62a){if(!this._normalize(_62a,_625,_626,_627)){throw new Error("Plugin "+_62a+" is required.");}},this);}delete _627[p];return _628[p];},_init:function(pre){var p,_62b,_62c=this._options;for(p in _62c){_62b=_62c[p]["preInit"];if((pre?_62b:!_62b)&&_62c[p]["class"]&&!this.pluginExisted(p)){this.loadPlugin(p);}}},loadPlugin:function(name){var _62d=this._options[name];if(!_62d){return null;}var _62e=this.getPlugin(name);if(_62e){return _62e;}var _62f=_62d["dependency"];_619.forEach(_62f,function(_630){if(!this.loadPlugin(_630)){throw new Error("Plugin "+_630+" is required.");}},this);var cls=_62d["class"];delete _62d["class"];_62e=new this.getPluginClazz(cls)(this.grid,_62d);this._plugins.push(_62e);return _62e;},_initView:function(view){if(!view){return;}util.funnelEvents(view.contentNode,view,"doContentEvent",["mouseup","mousemove"]);util.funnelEvents(view.headerNode,view,"doHeaderEvent",["mouseup"]);},pluginExisted:function(name){return !!this.getPlugin(name);},getPlugin:function(name){var _631=this._plugins;name=name.toLowerCase();for(var i=0,len=_631.length;i<len;i++){if(name==_631[i]["name"].toLowerCase()){return _631[i];}}return null;},getPluginClazz:function(_632){if(lang.isFunction(_632)){return _632;}var _633='Please make sure Plugin "'+_632+'" is existed.';try{var cls=lang.getObject(_632);if(!cls){throw new Error(_633);}return cls;}catch(e){throw new Error(_633);}},isFixedCell:function(cell){return cell&&(cell.isRowSelector||cell.fixedPos);},destroy:function(){_619.forEach(this._connects,_61a.disconnect);this.forEach("destroy");if(this.grid.unwrap){this.grid.unwrap();}delete this._connects;delete this._plugins;delete this._options;}});_61d.registerPlugin=function(_634,_635){if(!_634){return;}var cls=_61d;cls.registry=cls.registry||{};cls.registry[_634.prototype.name]=lang.mixin({"class":_634},(_635?_635:{}));};return _61d;});},"dojox/charting/Chart":function(){define("dojox/charting/Chart",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/html","dojo/dom","dojo/dom-geometry","dojo/dom-construct","dojo/_base/Color","dojo/_base/sniff","./Element","./Theme","./Series","./axis2d/common","dojox/gfx/shape","dojox/gfx","dojox/lang/functional","dojox/lang/functional/fold","dojox/lang/functional/reversed"],function(lang,arr,_636,html,dom,_637,_638,_639,has,_63a,_63b,_63c,_63d,_63e,g,func,_63f,_640){var dc=dojox.charting,_641=func.lambda("item.clear()"),_642=func.lambda("item.purgeGroup()"),_643=func.lambda("item.destroy()"),_644=func.lambda("item.dirty = false"),_645=func.lambda("item.dirty = true"),_646=func.lambda("item.name");_636("dojox.charting.Chart",null,{constructor:function(node,_647){if(!_647){_647={};}this.margins=_647.margins?_647.margins:{l:10,t:10,r:10,b:10};this.stroke=_647.stroke;this.fill=_647.fill;this.delayInMs=_647.delayInMs||200;this.title=_647.title;this.titleGap=_647.titleGap;this.titlePos=_647.titlePos;this.titleFont=_647.titleFont;this.titleFontColor=_647.titleFontColor;this.chartTitle=null;this.theme=null;this.axes={};this.stack=[];this.plots={};this.series=[];this.runs={};this.dirty=true;this.coords=null;this._clearRects=[];this.node=dom.byId(node);var box=_637.getMarginBox(node);this.surface=g.createSurface(this.node,box.w||400,box.h||300);},destroy:function(){arr.forEach(this.series,_643);arr.forEach(this.stack,_643);func.forIn(this.axes,_643);if(this.chartTitle&&this.chartTitle.tagName){_638.destroy(this.chartTitle);}arr.forEach(this._clearRects,function(_648){_63e.dispose(_648);});this.surface.destroy();},getCoords:function(){return html.coords(this.node,true);},setTheme:function(_649){this.theme=_649.clone();this.dirty=true;return this;},addAxis:function(name,_64a){var axis,_64b=_64a&&_64a.type||"Default";if(typeof _64b=="string"){if(!dc.axis2d||!dc.axis2d[_64b]){throw Error("Can't find axis: "+_64b+" - Check "+"require() dependencies.");}axis=new dc.axis2d[_64b](this,_64a);}else{axis=new _64b(this,_64a);}axis.name=name;axis.dirty=true;if(name in this.axes){this.axes[name].destroy();}this.axes[name]=axis;this.dirty=true;return this;},getAxis:function(name){return this.axes[name];},removeAxis:function(name){if(name in this.axes){this.axes[name].destroy();delete this.axes[name];this.dirty=true;}return this;},addPlot:function(name,_64c){var plot,_64d=_64c&&_64c.type||"Default";if(typeof _64d=="string"){if(!dc.plot2d||!dc.plot2d[_64d]){throw Error("Can't find plot: "+_64d+" - didn't you forget to dojo"+".require() it?");}plot=new dc.plot2d[_64d](this,_64c);}else{plot=new _64d(this,_64c);}plot.name=name;plot.dirty=true;if(name in this.plots){this.stack[this.plots[name]].destroy();this.stack[this.plots[name]]=plot;}else{this.plots[name]=this.stack.length;this.stack.push(plot);}this.dirty=true;return this;},getPlot:function(name){return this.stack[this.plots[name]];},removePlot:function(name){if(name in this.plots){var _64e=this.plots[name];delete this.plots[name];this.stack[_64e].destroy();this.stack.splice(_64e,1);func.forIn(this.plots,function(idx,name,_64f){if(idx>_64e){_64f[name]=idx-1;}});var ns=arr.filter(this.series,function(run){return run.plot!=name;});if(ns.length<this.series.length){arr.forEach(this.series,function(run){if(run.plot==name){run.destroy();}});this.runs={};arr.forEach(ns,function(run,_650){this.runs[run.plot]=_650;},this);this.series=ns;}this.dirty=true;}return this;},getPlotOrder:function(){return func.map(this.stack,_646);},setPlotOrder:function(_651){var _652={},_653=func.filter(_651,function(name){if(!(name in this.plots)||(name in _652)){return false;}_652[name]=1;return true;},this);if(_653.length<this.stack.length){func.forEach(this.stack,function(plot){var name=plot.name;if(!(name in _652)){_653.push(name);}});}var _654=func.map(_653,function(name){return this.stack[this.plots[name]];},this);func.forEach(_654,function(plot,i){this.plots[plot.name]=i;},this);this.stack=_654;this.dirty=true;return this;},movePlotToFront:function(name){if(name in this.plots){var _655=this.plots[name];if(_655){var _656=this.getPlotOrder();_656.splice(_655,1);_656.unshift(name);return this.setPlotOrder(_656);}}return this;},movePlotToBack:function(name){if(name in this.plots){var _657=this.plots[name];if(_657<this.stack.length-1){var _658=this.getPlotOrder();_658.splice(_657,1);_658.push(name);return this.setPlotOrder(_658);}}return this;},addSeries:function(name,data,_659){var run=new _63c(this,data,_659);run.name=name;if(name in this.runs){this.series[this.runs[name]].destroy();this.series[this.runs[name]]=run;}else{this.runs[name]=this.series.length;this.series.push(run);}this.dirty=true;if(!("ymin" in run)&&"min" in run){run.ymin=run.min;}if(!("ymax" in run)&&"max" in run){run.ymax=run.max;}return this;},getSeries:function(name){return this.series[this.runs[name]];},removeSeries:function(name){if(name in this.runs){var _65a=this.runs[name];delete this.runs[name];this.series[_65a].destroy();this.series.splice(_65a,1);func.forIn(this.runs,function(idx,name,runs){if(idx>_65a){runs[name]=idx-1;}});this.dirty=true;}return this;},updateSeries:function(name,data){if(name in this.runs){var run=this.series[this.runs[name]];run.update(data);this._invalidateDependentPlots(run.plot,false);this._invalidateDependentPlots(run.plot,true);}return this;},getSeriesOrder:function(_65b){return func.map(func.filter(this.series,function(run){return run.plot==_65b;}),_646);},setSeriesOrder:function(_65c){var _65d,_65e={},_65f=func.filter(_65c,function(name){if(!(name in this.runs)||(name in _65e)){return false;}var run=this.series[this.runs[name]];if(_65d){if(run.plot!=_65d){return false;}}else{_65d=run.plot;}_65e[name]=1;return true;},this);func.forEach(this.series,function(run){var name=run.name;if(!(name in _65e)&&run.plot==_65d){_65f.push(name);}});var _660=func.map(_65f,function(name){return this.series[this.runs[name]];},this);this.series=_660.concat(func.filter(this.series,function(run){return run.plot!=_65d;}));func.forEach(this.series,function(run,i){this.runs[run.name]=i;},this);this.dirty=true;return this;},moveSeriesToFront:function(name){if(name in this.runs){var _661=this.runs[name],_662=this.getSeriesOrder(this.series[_661].plot);if(name!=_662[0]){_662.splice(_661,1);_662.unshift(name);return this.setSeriesOrder(_662);}}return this;},moveSeriesToBack:function(name){if(name in this.runs){var _663=this.runs[name],_664=this.getSeriesOrder(this.series[_663].plot);if(name!=_664[_664.length-1]){_664.splice(_663,1);_664.push(name);return this.setSeriesOrder(_664);}}return this;},resize:function(_665,_666){var box;switch(arguments.length){case 1:box=lang.mixin({},_665);_637.setMarginBox(this.node,box);break;case 2:box={w:_665,h:_666};_637.setMarginBox(this.node,box);break;}box=_637.getMarginBox(this.node);var d=this.surface.getDimensions();if(d.width!=box.w||d.height!=box.h){this.surface.setDimensions(box.w,box.h);this.dirty=true;return this.render();}else{return this;}},getGeometry:function(){var ret={};func.forIn(this.axes,function(axis){if(axis.initialized()){ret[axis.name]={name:axis.name,vertical:axis.vertical,scaler:axis.scaler,ticks:axis.ticks};}});return ret;},setAxisWindow:function(name,_667,_668,zoom){var axis=this.axes[name];if(axis){axis.setWindow(_667,_668);arr.forEach(this.stack,function(plot){if(plot.hAxis==name||plot.vAxis==name){plot.zoom=zoom;}});}return this;},setWindow:function(sx,sy,dx,dy,zoom){if(!("plotArea" in this)){this.calculateGeometry();}func.forIn(this.axes,function(axis){var _669,_66a,_66b=axis.getScaler().bounds,s=_66b.span/(_66b.upper-_66b.lower);if(axis.vertical){_669=sy;_66a=dy/s/_669;}else{_669=sx;_66a=dx/s/_669;}axis.setWindow(_669,_66a);});arr.forEach(this.stack,function(plot){plot.zoom=zoom;});return this;},zoomIn:function(name,_66c){var axis=this.axes[name];if(axis){var _66d,_66e,_66f=axis.getScaler().bounds;var _670=Math.min(_66c[0],_66c[1]);var _671=Math.max(_66c[0],_66c[1]);_670=_66c[0]<_66f.lower?_66f.lower:_670;_671=_66c[1]>_66f.upper?_66f.upper:_671;_66d=(_66f.upper-_66f.lower)/(_671-_670);_66e=_670-_66f.lower;this.setAxisWindow(name,_66d,_66e);this.render();}},calculateGeometry:function(){if(this.dirty){return this.fullGeometry();}var _672=arr.filter(this.stack,function(plot){return plot.dirty||(plot.hAxis&&this.axes[plot.hAxis].dirty)||(plot.vAxis&&this.axes[plot.vAxis].dirty);},this);_673(_672,this.plotArea);return this;},fullGeometry:function(){this._makeDirty();arr.forEach(this.stack,_641);if(!this.theme){this.setTheme(new _63b(dojox.charting._def));}arr.forEach(this.series,function(run){if(!(run.plot in this.plots)){if(!dc.plot2d||!dc.plot2d.Default){throw Error("Can't find plot: Default - didn't you forget to dojo"+".require() it?");}var plot=new dc.plot2d.Default(this,{});plot.name=run.plot;this.plots[run.plot]=this.stack.length;this.stack.push(plot);}this.stack[this.plots[run.plot]].addSeries(run);},this);arr.forEach(this.stack,function(plot){if(plot.hAxis){plot.setAxis(this.axes[plot.hAxis]);}if(plot.vAxis){plot.setAxis(this.axes[plot.vAxis]);}},this);var dim=this.dim=this.surface.getDimensions();dim.width=g.normalizedLength(dim.width);dim.height=g.normalizedLength(dim.height);func.forIn(this.axes,_641);_673(this.stack,dim);var _674=this.offsets={l:0,r:0,t:0,b:0};func.forIn(this.axes,function(axis){func.forIn(axis.getOffsets(),function(o,i){_674[i]+=o;});});if(this.title){this.titleGap=(this.titleGap==0)?0:this.titleGap||this.theme.chart.titleGap||20;this.titlePos=this.titlePos||this.theme.chart.titlePos||"top";this.titleFont=this.titleFont||this.theme.chart.titleFont;this.titleFontColor=this.titleFontColor||this.theme.chart.titleFontColor||"black";var _675=g.normalizedLength(g.splitFontString(this.titleFont).size);_674[this.titlePos=="top"?"t":"b"]+=(_675+this.titleGap);}func.forIn(this.margins,function(o,i){_674[i]+=o;});this.plotArea={width:dim.width-_674.l-_674.r,height:dim.height-_674.t-_674.b};func.forIn(this.axes,_641);_673(this.stack,this.plotArea);return this;},render:function(){if(this.theme){this.theme.clear();}if(this.dirty){return this.fullRender();}this.calculateGeometry();func.forEachRev(this.stack,function(plot){plot.render(this.dim,this.offsets);},this);func.forIn(this.axes,function(axis){axis.render(this.dim,this.offsets);},this);this._makeClean();if(this.surface.render){this.surface.render();}return this;},fullRender:function(){this.fullGeometry();var _676=this.offsets,dim=this.dim,rect;arr.forEach(this.series,_642);func.forIn(this.axes,_642);arr.forEach(this.stack,_642);arr.forEach(this._clearRects,function(_677){_63e.dispose(_677);});this._clearRects=[];if(this.chartTitle&&this.chartTitle.tagName){_638.destroy(this.chartTitle);}this.surface.clear();this.chartTitle=null;var t=this.theme,fill=t.plotarea&&t.plotarea.fill,_678=t.plotarea&&t.plotarea.stroke,w=Math.max(0,dim.width-_676.l-_676.r),h=Math.max(0,dim.height-_676.t-_676.b),rect={x:_676.l-1,y:_676.t-1,width:w+2,height:h+2};if(fill){fill=_63a.prototype._shapeFill(_63a.prototype._plotFill(fill,dim,_676),rect);this._clearRects.push(this.surface.createRect(rect).setFill(fill));}if(_678){this._clearRects.push(this.surface.createRect({x:_676.l,y:_676.t,width:w+1,height:h+1}).setStroke(_678));}func.foldr(this.stack,function(z,plot){return plot.render(dim,_676),0;},0);fill=this.fill!==undefined?this.fill:(t.chart&&t.chart.fill);_678=this.stroke!==undefined?this.stroke:(t.chart&&t.chart.stroke);if(fill=="inherit"){var node=this.node,fill=new _639(html.style(node,"backgroundColor"));while(fill.a==0&&node!=document.documentElement){fill=new _639(html.style(node,"backgroundColor"));node=node.parentNode;}}if(fill){fill=_63a.prototype._plotFill(fill,dim,_676);if(_676.l){rect={width:_676.l,height:dim.height+1};this._clearRects.push(this.surface.createRect(rect).setFill(_63a.prototype._shapeFill(fill,rect)));}if(_676.r){rect={x:dim.width-_676.r,width:_676.r+1,height:dim.height+2};this._clearRects.push(this.surface.createRect(rect).setFill(_63a.prototype._shapeFill(fill,rect)));}if(_676.t){rect={width:dim.width+1,height:_676.t};this._clearRects.push(this.surface.createRect(rect).setFill(_63a.prototype._shapeFill(fill,rect)));}if(_676.b){rect={y:dim.height-_676.b,width:dim.width+1,height:_676.b+2};this._clearRects.push(this.surface.createRect(rect).setFill(_63a.prototype._shapeFill(fill,rect)));}}if(_678){this._clearRects.push(this.surface.createRect({width:dim.width-1,height:dim.height-1}).setStroke(_678));}if(this.title){var _679=(g.renderer=="canvas"),_67a=_679||!has("ie")&&!has("opera")?"html":"gfx",_67b=g.normalizedLength(g.splitFontString(this.titleFont).size);this.chartTitle=_63d.createText[_67a](this,this.surface,dim.width/2,this.titlePos=="top"?_67b+this.margins.t:dim.height-this.margins.b,"middle",this.title,this.titleFont,this.titleFontColor);}func.forIn(this.axes,function(axis){axis.render(dim,_676);});this._makeClean();if(this.surface.render){this.surface.render();}return this;},delayedRender:function(){if(!this._delayedRenderHandle){this._delayedRenderHandle=setTimeout(lang.hitch(this,function(){clearTimeout(this._delayedRenderHandle);this._delayedRenderHandle=null;this.render();}),this.delayInMs);}return this;},connectToPlot:function(name,_67c,_67d){return name in this.plots?this.stack[this.plots[name]].connect(_67c,_67d):null;},fireEvent:function(_67e,_67f,_680){if(_67e in this.runs){var _681=this.series[this.runs[_67e]].plot;if(_681 in this.plots){var plot=this.stack[this.plots[_681]];if(plot){plot.fireEvent(_67e,_67f,_680);}}}return this;},_makeClean:function(){arr.forEach(this.axes,_644);arr.forEach(this.stack,_644);arr.forEach(this.series,_644);this.dirty=false;},_makeDirty:function(){arr.forEach(this.axes,_645);arr.forEach(this.stack,_645);arr.forEach(this.series,_645);this.dirty=true;},_invalidateDependentPlots:function(_682,_683){if(_682 in this.plots){var plot=this.stack[this.plots[_682]],axis,_684=_683?"vAxis":"hAxis";if(plot[_684]){axis=this.axes[plot[_684]];if(axis&&axis.dependOnData()){axis.dirty=true;arr.forEach(this.stack,function(p){if(p[_684]&&p[_684]==plot[_684]){p.dirty=true;}});}}else{plot.dirty=true;}}}});function _685(_686){return{min:_686.hmin,max:_686.hmax};}function _687(_688){return{min:_688.vmin,max:_688.vmax};}function _689(_68a,h){_68a.hmin=h.min;_68a.hmax=h.max;}function _68b(_68c,v){_68c.vmin=v.min;_68c.vmax=v.max;}function _68d(_68e,_68f){if(_68e&&_68f){_68e.min=Math.min(_68e.min,_68f.min);_68e.max=Math.max(_68e.max,_68f.max);}return _68e||_68f;}function _673(_690,_691){var _692={},axes={};arr.forEach(_690,function(plot){var _693=_692[plot.name]=plot.getSeriesStats();if(plot.hAxis){axes[plot.hAxis]=_68d(axes[plot.hAxis],_685(_693));}if(plot.vAxis){axes[plot.vAxis]=_68d(axes[plot.vAxis],_687(_693));}});arr.forEach(_690,function(plot){var _694=_692[plot.name];if(plot.hAxis){_689(_694,axes[plot.hAxis]);}if(plot.vAxis){_68b(_694,axes[plot.vAxis]);}plot.initializeScalers(_691,_694);});}return dojox.charting.Chart;});},"dojox/mdnd/dropMode/DefaultDropMode":function(){define("dojox/mdnd/dropMode/DefaultDropMode",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/html","dojox/mdnd/AreaManager"],function(dojo){var ddm=dojo.declare("dojox.mdnd.dropMode.DefaultDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",addArea:function(_695,_696){var _697=_695.length;var _698=dojo.position(_696.node,true);_696.coords={"x":_698.x,"y":_698.y};if(_697==0){_695.push(_696);}else{var x=_696.coords.x;for(var i=0;i<_697;i++){if(x<_695[i].coords.x){for(var j=_697-1;j>=i;j--){_695[j+1]=_695[j];}_695[i]=_696;break;}}if(i==_697){_695.push(_696);}}return _695;},updateAreas:function(_699){var _69a=_699.length;if(_69a>1){var _69b,_69c;for(var i=0;i<_69a;i++){var area=_699[i];var _69d;area.coords.x1=-1;area.coords.x2=-1;if(i==0){_69d=_699[i+1];this._updateArea(area);this._updateArea(_69d);_69b=area.coords.x+area.node.offsetWidth;_69c=_69d.coords.x;area.coords.x2=_69b+(_69c-_69b)/2;}else{if(i==_69a-1){area.coords.x1=_699[i-1].coords.x2;}else{_69d=_699[i+1];this._updateArea(_69d);_69b=area.coords.x+area.node.offsetWidth;_69c=_69d.coords.x;area.coords.x1=_699[i-1].coords.x2;area.coords.x2=_69b+(_69c-_69b)/2;}}}}},_updateArea:function(area){var _69e=dojo.position(area.node,true);area.coords.x=_69e.x;area.coords.y=_69e.y;},initItems:function(area){dojo.forEach(area.items,function(obj){var node=obj.item.node;var _69f=dojo.position(node,true);var y=_69f.y+_69f.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_6a0,size,_6a1){if(_6a0==-1){return;}else{if(area&&size&&size.h){var _6a2=size.h;if(area.margin){_6a2+=area.margin.t;}var _6a3=area.items.length;for(var i=_6a0;i<_6a3;i++){var item=area.items[i];if(_6a1){item.y+=_6a2;}else{item.y-=_6a2;}}}}},getDragPoint:function(_6a4,size,_6a5){var y=_6a4.y;if(this._oldYPoint){if(y>this._oldYPoint){this._oldBehaviour="down";y+=size.h;}else{if(y<=this._oldYPoint){this._oldBehaviour="up";}}}this._oldYPoint=y;return{"x":_6a4.x+(size.w/2),"y":y};},getTargetArea:function(_6a6,_6a7,_6a8){var _6a9=0;var x=_6a7.x;var end=_6a6.length;if(end>1){var _6aa=0,_6ab="right",_6ac=false;if(_6a8==-1||arguments.length<3){_6ac=true;}else{if(this._checkInterval(_6a6,_6a8,x)){_6a9=_6a8;}else{if(this._oldXPoint<x){_6aa=_6a8+1;}else{_6aa=_6a8-1;end=0;_6ab="left";}_6ac=true;}}if(_6ac){if(_6ab==="right"){for(var i=_6aa;i<end;i++){if(this._checkInterval(_6a6,i,x)){_6a9=i;break;}}}else{for(var i=_6aa;i>=end;i--){if(this._checkInterval(_6a6,i,x)){_6a9=i;break;}}}}}this._oldXPoint=x;return _6a9;},_checkInterval:function(_6ad,_6ae,x){var _6af=_6ad[_6ae].coords;if(_6af.x1==-1){if(x<=_6af.x2){return true;}}else{if(_6af.x2==-1){if(x>_6af.x1){return true;}}else{if(_6af.x1<x&&x<=_6af.x2){return true;}}}return false;},getDropIndex:function(_6b0,_6b1){var _6b2=_6b0.items.length;var _6b3=_6b0.coords;var y=_6b1.y;if(_6b2>0){for(var i=0;i<_6b2;i++){if(y<_6b0.items[i].y){return i;}else{if(i==_6b2-1){return -1;}}}}return -1;},destroy:function(){}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.DefaultDropMode();return ddm;});},"dojox/charting/plot2d/Bars":function(){define("dojox/charting/plot2d/Bars",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Base","./common","dojox/gfx/fx","dojox/lang/utils","dojox/lang/functional","dojox/lang/functional/reversed"],function(dojo,lang,arr,_6b4,Base,dc,fx,du,df,dfr){var _6b5=dfr.lambda("item.purgeGroup()");return _6b4("dojox.charting.plot2d.Bars",Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_6b6,_6b7){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_6b7);du.updateWithPattern(this.opt,_6b7,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},getSeriesStats:function(){var _6b8=dc.collectSimpleStats(this.series),t;_6b8.hmin-=0.5;_6b8.hmax+=0.5;t=_6b8.hmin,_6b8.hmin=_6b8.vmin,_6b8.vmin=t;t=_6b8.hmax,_6b8.hmax=_6b8.vmax,_6b8.vmax=t;return _6b8;},createRect:function(run,_6b9,_6ba){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_6ba);_6b9.add(rect);}else{rect=_6b9.createRect(_6ba);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},render:function(dim,_6bb){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_6bb);}this.dirty=this.isDirty();this.resetEvents();if(this.dirty){arr.forEach(this.series,_6b5);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_6bc,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_6bd=Math.max(0,this._hScaler.bounds.lower),_6be=ht(_6bd),_6bf=this.events();f=dc.calculateBarSize(this._vScaler.bounds.scale,this.opt);gap=f.gap;_6bc=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var _6c0=t.next("bar",[this.opt,run]),s=run.group,_6c1=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var _6c2=run.data[j];if(_6c2!==null){var v=typeof _6c2=="number"?_6c2:_6c2.y,hv=ht(v),_6c3=hv-_6be,w=Math.abs(_6c3),_6c4=typeof _6c2!="number"?t.addMixin(_6c0,"bar",_6c2,true):t.post(_6c0,"bar");if(w>=0&&_6bc>=1){var rect={x:_6bb.l+(v<_6bd?hv:_6be),y:dim.height-_6bb.b-vt(j+1.5)+gap,width:w,height:_6bc};var _6c5=this._plotFill(_6c4.series.fill,dim,_6bb);_6c5=this._shapeFill(_6c5,rect);var _6c6=this.createRect(run,s,rect).setFill(_6c5).setStroke(_6c4.series.stroke);run.dyn.fill=_6c6.getFill();run.dyn.stroke=_6c6.getStroke();if(_6bf){var o={element:"bar",index:j,run:run,shape:_6c6,x:v,y:j+1.5};this._connectEvents(o);_6c1[j]=o;}if(this.animate){this._animateBar(_6c6,_6bb.l+_6be,-w);}}}}this._eventSeries[run.name]=_6c1;run.dirty=false;}this.dirty=false;return this;},_animateBar:function(_6c7,_6c8,_6c9){fx.animateTransform(lang.delegate({shape:_6c7,duration:1200,transform:[{name:"translate",start:[_6c8-(_6c8/_6c9),0],end:[0,0]},{name:"scale",start:[1/_6c9,1],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/Candlesticks":function(){define("dojox/charting/plot2d/Candlesticks",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","./Base","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,_6ca,arr,Base,dc,df,dfr,du,fx){var _6cb=dfr.lambda("item.purgeGroup()");return _6ca("dojox.charting.plot2d.Candlesticks",Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_6cc,_6cd){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_6cd);du.updateWithPattern(this.opt,_6cd,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},collectStats:function(_6ce){var _6cf=lang.delegate(dc.defaultStats);for(var i=0;i<_6ce.length;i++){var run=_6ce[i];if(!run.data.length){continue;}var _6d0=_6cf.vmin,_6d1=_6cf.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_6cf.hmin=Math.min(_6cf.hmin,x);_6cf.hmax=Math.max(_6cf.hmax,x);_6cf.vmin=Math.min(_6cf.vmin,val.open,val.close,val.high,val.low);_6cf.vmax=Math.max(_6cf.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_6cf.vmin=Math.min(_6d0,run.ymin);}if("ymax" in run){_6cf.vmax=Math.max(_6d1,run.ymax);}}return _6cf;},getSeriesStats:function(){var _6d2=this.collectStats(this.series);_6d2.hmin-=0.5;_6d2.hmax+=0.5;return _6d2;},render:function(dim,_6d3){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_6d3);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_6cb);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_6d4,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_6d5=Math.max(0,this._vScaler.bounds.lower),_6d6=vt(_6d5),_6d7=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_6d4=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _6d8=t.next("candlestick",[this.opt,run]),s=run.group,_6d9=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _6da=t.addMixin(_6d8,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_6d3.l+gap,y=dim.height-_6d3.b,open=vt(v.open),_6db=vt(v.close),high=vt(v.high),low=vt(v.low);if("mid" in v){var mid=vt(v.mid);}if(low>high){var tmp=high;high=low;low=tmp;}if(_6d4>=1){var _6dc=open>_6db;var line={x1:_6d4/2,x2:_6d4/2,y1:y-high,y2:y-low},rect={x:0,y:y-Math.max(open,_6db),width:_6d4,height:Math.max(_6dc?open-_6db:_6db-open,1)};var _6dd=s.createGroup();_6dd.setTransform({dx:x,dy:0});var _6de=_6dd.createGroup();_6de.createLine(line).setStroke(_6da.series.stroke);_6de.createRect(rect).setStroke(_6da.series.stroke).setFill(_6dc?_6da.series.fill:"white");if("mid" in v){_6de.createLine({x1:(_6da.series.stroke.width||1),x2:_6d4-(_6da.series.stroke.width||1),y1:y-mid,y2:y-mid}).setStroke(_6dc?"white":_6da.series.stroke);}run.dyn.fill=_6da.series.fill;run.dyn.stroke=_6da.series.stroke;if(_6d7){var o={element:"candlestick",index:j,run:run,shape:_6de,x:x,y:y-Math.max(open,_6db),cx:_6d4/2,cy:(y-Math.max(open,_6db))+(Math.max(_6dc?open-_6db:_6db-open,1)/2),width:_6d4,height:Math.max(_6dc?open-_6db:_6db-open,1),data:v};this._connectEvents(o);_6d9[j]=o;}}if(this.animate){this._animateCandlesticks(_6dd,y-low,high-low);}}}this._eventSeries[run.name]=_6d9;run.dirty=false;}this.dirty=false;return this;},_animateCandlesticks:function(_6df,_6e0,_6e1){fx.animateTransform(lang.delegate({shape:_6df,duration:1200,transform:[{name:"translate",start:[0,_6e0-(_6e0/_6e1)],end:[0,0]},{name:"scale",start:[1,1/_6e1],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/plot2d/OHLC":function(){define("dojox/charting/plot2d/OHLC",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Base","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,arr,_6e2,Base,dc,df,dfr,du,fx){var _6e3=dfr.lambda("item.purgeGroup()");return _6e2("dojox.charting.plot2d.OHLC",Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:2,animate:null},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_6e4,_6e5){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_6e5);du.updateWithPattern(this.opt,_6e5,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},collectStats:function(_6e6){var _6e7=lang.delegate(dc.defaultStats);for(var i=0;i<_6e6.length;i++){var run=_6e6[i];if(!run.data.length){continue;}var _6e8=_6e7.vmin,_6e9=_6e7.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,idx){if(val!==null){var x=val.x||idx+1;_6e7.hmin=Math.min(_6e7.hmin,x);_6e7.hmax=Math.max(_6e7.hmax,x);_6e7.vmin=Math.min(_6e7.vmin,val.open,val.close,val.high,val.low);_6e7.vmax=Math.max(_6e7.vmax,val.open,val.close,val.high,val.low);}});}if("ymin" in run){_6e7.vmin=Math.min(_6e8,run.ymin);}if("ymax" in run){_6e7.vmax=Math.max(_6e9,run.ymax);}}return _6e7;},getSeriesStats:function(){var _6ea=this.collectStats(this.series);_6ea.hmin-=0.5;_6ea.hmax+=0.5;return _6ea;},render:function(dim,_6eb){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_6eb);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_6e3);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_6ec,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_6ed=Math.max(0,this._vScaler.bounds.lower),_6ee=vt(_6ed),_6ef=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_6ec=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _6f0=t.next("candlestick",[this.opt,run]),s=run.group,_6f1=new Array(run.data.length);for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){var _6f2=t.addMixin(_6f0,"candlestick",v,true);var x=ht(v.x||(j+0.5))+_6eb.l+gap,y=dim.height-_6eb.b,open=vt(v.open),_6f3=vt(v.close),high=vt(v.high),low=vt(v.low);if(low>high){var tmp=high;high=low;low=tmp;}if(_6ec>=1){var hl={x1:_6ec/2,x2:_6ec/2,y1:y-high,y2:y-low},op={x1:0,x2:((_6ec/2)+((_6f2.series.stroke.width||1)/2)),y1:y-open,y2:y-open},cl={x1:((_6ec/2)-((_6f2.series.stroke.width||1)/2)),x2:_6ec,y1:y-_6f3,y2:y-_6f3};var _6f4=s.createGroup();_6f4.setTransform({dx:x,dy:0});var _6f5=_6f4.createGroup();_6f5.createLine(hl).setStroke(_6f2.series.stroke);_6f5.createLine(op).setStroke(_6f2.series.stroke);_6f5.createLine(cl).setStroke(_6f2.series.stroke);run.dyn.stroke=_6f2.series.stroke;if(_6ef){var o={element:"candlestick",index:j,run:run,shape:_6f5,x:x,y:y-Math.max(open,_6f3),cx:_6ec/2,cy:(y-Math.max(open,_6f3))+(Math.max(open>_6f3?open-_6f3:_6f3-open,1)/2),width:_6ec,height:Math.max(open>_6f3?open-_6f3:_6f3-open,1),data:v};this._connectEvents(o);_6f1[j]=o;}}if(this.animate){this._animateOHLC(_6f4,y-low,high-low);}}}this._eventSeries[run.name]=_6f1;run.dirty=false;}this.dirty=false;return this;},_animateOHLC:function(_6f6,_6f7,_6f8){fx.animateTransform(lang.delegate({shape:_6f6,duration:1200,transform:[{name:"translate",start:[0,_6f7-(_6f7/_6f8)],end:[0,0]},{name:"scale",start:[1,1/_6f8],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/mdnd/Moveable":function(){define("dojox/mdnd/Moveable",["dojo/_base/kernel","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/event","dojo/_base/html","dojo/_base/sniff","dojo/_base/window"],function(dojo){return dojo.declare("dojox.mdnd.Moveable",null,{handle:null,skip:true,dragDistance:3,constructor:function(_6f9,node){this.node=dojo.byId(node);this.d=this.node.ownerDocument;if(!_6f9){_6f9={};}this.handle=_6f9.handle?dojo.byId(_6f9.handle):null;if(!this.handle){this.handle=this.node;}this.skip=_6f9.skip;this.events=[dojo.connect(this.handle,"onmousedown",this,"onMouseDown")];if(dojox.mdnd.autoScroll){this.autoScroll=dojox.mdnd.autoScroll;}},isFormElement:function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return" a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;},onMouseDown:function(e){if(this._isDragging){return;}var _6fa=(e.which||e.button)==1;if(!_6fa){return;}if(this.skip&&this.isFormElement(e)){return;}if(this.autoScroll){this.autoScroll.setAutoScrollNode(this.node);this.autoScroll.setAutoScrollMaxPage();}this.events.push(dojo.connect(this.d,"onmouseup",this,"onMouseUp"));this.events.push(dojo.connect(this.d,"onmousemove",this,"onFirstMove"));this._selectStart=dojo.connect(dojo.body(),"onselectstart",dojo.stopEvent);this._firstX=e.clientX;this._firstY=e.clientY;dojo.stopEvent(e);},onFirstMove:function(e){dojo.stopEvent(e);var d=(this._firstX-e.clientX)*(this._firstX-e.clientX)+(this._firstY-e.clientY)*(this._firstY-e.clientY);if(d>this.dragDistance*this.dragDistance){this._isDragging=true;dojo.disconnect(this.events.pop());dojo.style(this.node,"width",dojo.contentBox(this.node).w+"px");this.initOffsetDrag(e);this.events.push(dojo.connect(this.d,"onmousemove",this,"onMove"));}},initOffsetDrag:function(e){this.offsetDrag={"l":e.pageX,"t":e.pageY};var s=this.node.style;var _6fb=dojo.position(this.node,true);this.offsetDrag.l=_6fb.x-this.offsetDrag.l;this.offsetDrag.t=_6fb.y-this.offsetDrag.t;var _6fc={"x":_6fb.x,"y":_6fb.y};this.size={"w":_6fb.w,"h":_6fb.h};this.onDragStart(this.node,_6fc,this.size);},onMove:function(e){dojo.stopEvent(e);if(dojo.isIE==8&&new Date()-this.date<20){return;}if(this.autoScroll){this.autoScroll.checkAutoScroll(e);}var _6fd={"x":this.offsetDrag.l+e.pageX,"y":this.offsetDrag.t+e.pageY};var s=this.node.style;s.left=_6fd.x+"px";s.top=_6fd.y+"px";this.onDrag(this.node,_6fd,this.size,{"x":e.pageX,"y":e.pageY});if(dojo.isIE==8){this.date=new Date();}},onMouseUp:function(e){if(this._isDragging){dojo.stopEvent(e);this._isDragging=false;if(this.autoScroll){this.autoScroll.stopAutoScroll();}delete this.onMove;this.onDragEnd(this.node);if(this.node){this.node.focus();}}if(this.events){dojo.disconnect(this.events.pop());dojo.disconnect(this.events.pop());}},onDragStart:function(node,_6fe,size){},onDragEnd:function(node){},onDrag:function(node,_6ff,size,_700){},destroy:function(){dojo.forEach(this.events,dojo.disconnect);this.events=this.node=null;}});});},"dojox/color/_base":function(){define("dojox/color/_base",["dojo/_base/kernel","../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(dojo,_701,lang,_702,_703){var cx=lang.getObject("dojox.color",true);cx.Color=_702;cx.blend=_702.blendColors;cx.fromRgb=_702.fromRgb;cx.fromHex=_702.fromHex;cx.fromArray=_702.fromArray;cx.fromString=_702.fromString;cx.greyscale=_703.makeGrey;lang.mixin(cx,{fromCmy:function(cyan,_704,_705){if(lang.isArray(cyan)){_704=cyan[1],_705=cyan[2],cyan=cyan[0];}else{if(lang.isObject(cyan)){_704=cyan.m,_705=cyan.y,cyan=cyan.c;}}cyan/=100,_704/=100,_705/=100;var r=1-cyan,g=1-_704,b=1-_705;return new _702({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromCmyk:function(cyan,_706,_707,_708){if(lang.isArray(cyan)){_706=cyan[1],_707=cyan[2],_708=cyan[3],cyan=cyan[0];}else{if(lang.isObject(cyan)){_706=cyan.m,_707=cyan.y,_708=cyan.b,cyan=cyan.c;}}cyan/=100,_706/=100,_707/=100,_708/=100;var r,g,b;r=1-Math.min(1,cyan*(1-_708)+_708);g=1-Math.min(1,_706*(1-_708)+_708);b=1-Math.min(1,_707*(1-_708)+_708);return new _702({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});},fromHsl:function(hue,_709,_70a){if(lang.isArray(hue)){_709=hue[1],_70a=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_709=hue.s,_70a=hue.l,hue=hue.h;}}_709/=100;_70a/=100;while(hue<0){hue+=360;}while(hue>=360){hue-=360;}var r,g,b;if(hue<120){r=(120-hue)/60,g=hue/60,b=0;}else{if(hue<240){r=0,g=(240-hue)/60,b=(hue-120)/60;}else{r=(hue-240)/60,g=0,b=(360-hue)/60;}}r=2*_709*Math.min(r,1)+(1-_709);g=2*_709*Math.min(g,1)+(1-_709);b=2*_709*Math.min(b,1)+(1-_709);if(_70a<0.5){r*=_70a,g*=_70a,b*=_70a;}else{r=(1-_70a)*r+2*_70a-1;g=(1-_70a)*g+2*_70a-1;b=(1-_70a)*b+2*_70a-1;}return new _702({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});}});cx.fromHsv=function(hue,_70b,_70c){if(lang.isArray(hue)){_70b=hue[1],_70c=hue[2],hue=hue[0];}else{if(lang.isObject(hue)){_70b=hue.s,_70c=hue.v,hue=hue.h;}}if(hue==360){hue=0;}_70b/=100;_70c/=100;var r,g,b;if(_70b==0){r=_70c,b=_70c,g=_70c;}else{var _70d=hue/60,i=Math.floor(_70d),f=_70d-i;var p=_70c*(1-_70b);var q=_70c*(1-(_70b*f));var t=_70c*(1-(_70b*(1-f)));switch(i){case 0:r=_70c,g=t,b=p;break;case 1:r=q,g=_70c,b=p;break;case 2:r=p,g=_70c,b=t;break;case 3:r=p,g=q,b=_70c;break;case 4:r=t,g=p,b=_70c;break;case 5:r=_70c,g=p,b=q;break;}}return new _702({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});};lang.extend(_702,{toCmy:function(){var cyan=1-(this.r/255),_70e=1-(this.g/255),_70f=1-(this.b/255);return{c:Math.round(cyan*100),m:Math.round(_70e*100),y:Math.round(_70f*100)};},toCmyk:function(){var cyan,_710,_711,_712;var r=this.r/255,g=this.g/255,b=this.b/255;_712=Math.min(1-r,1-g,1-b);cyan=(1-r-_712)/(1-_712);_710=(1-g-_712)/(1-_712);_711=(1-b-_712)/(1-_712);return{c:Math.round(cyan*100),m:Math.round(_710*100),y:Math.round(_711*100),b:Math.round(_712*100)};},toHsl:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _713=max-min;var h=0,s=0,l=(min+max)/2;if(l>0&&l<1){s=_713/((l<0.5)?(2*l):(2-2*l));}if(_713>0){if(max==r&&max!=g){h+=(g-b)/_713;}if(max==g&&max!=b){h+=(2+(b-r)/_713);}if(max==b&&max!=r){h+=(4+(r-g)/_713);}h*=60;}return{h:h,s:Math.round(s*100),l:Math.round(l*100)};},toHsv:function(){var r=this.r/255,g=this.g/255,b=this.b/255;var min=Math.min(r,b,g),max=Math.max(r,g,b);var _714=max-min;var h=null,s=(max==0)?0:(_714/max);if(s==0){h=0;}else{if(r==max){h=60*(g-b)/_714;}else{if(g==max){h=120+60*(b-r)/_714;}else{h=240+60*(r-g)/_714;}}if(h<0){h+=360;}}return{h:h,s:Math.round(s*100),v:Math.round(max*100)};}});return cx;});},"dojox/charting/plot2d/Base":function(){define("dojox/charting/plot2d/Base",["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","../Element","./_PlotEvents","dojo/_base/array","../scaler/primitive","./common","dojox/gfx/fx"],function(lang,_715,hub,_716,_717,arr,_718,_719,fx){return _715("dojox.charting.plot2d.Base",[_716,_717],{constructor:function(_71a,_71b){this.zoom=null,this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};},clear:function(){this.series=[];this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},toPage:function(_71c){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromModel(sh),tv=sv.scaler.getTransformerFromModel(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(_71d){var r={};r.x=th(_71d[ah.name])+c.x+o.l;r.y=c.y+dim.height-o.b-tv(_71d[av.name]);return r;};return _71c?t(_71c):t;},toData:function(_71e){var ah=this._hAxis,av=this._vAxis,sh=ah.getScaler(),sv=av.getScaler(),th=sh.scaler.getTransformerFromPlot(sh),tv=sv.scaler.getTransformerFromPlot(sv),c=this.chart.getCoords(),o=this.chart.offsets,dim=this.chart.dim;var t=function(_71f){var r={};r[ah.name]=th(_71f.x-c.x-o.l);r[av.name]=tv(c.y+dim.height-_71f.y-o.b);return r;};return _71e?t(_71e):t;},addSeries:function(run){this.series.push(run);return this;},getSeriesStats:function(){return _719.collectSimpleStats(this.series);},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},isDataDirty:function(){return arr.some(this.series,function(item){return item.dirty;});},performZoom:function(dim,_720){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_721=dim.height-_720.b,_722=this._hScaler.bounds,_723=(_722.from-_722.lower)*_722.scale,_724=this._vScaler.bounds,_725=(_724.from-_724.lower)*_724.scale,_726=vs/this.lastWindow.vscale,_727=hs/this.lastWindow.hscale,_728=(this.lastWindow.xoffset-_723)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),_729=(_725-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),_72a=this.group,anim=fx.animateTransform(lang.delegate({shape:_72a,duration:1200,transform:[{name:"translate",start:[0,0],end:[_720.l*(1-_727),_721*(1-_726)]},{name:"scale",start:[1,1],end:[_727,_726]},{name:"original"},{name:"translate",start:[0,0],end:[_728,_729]}]},this.zoom));lang.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_723,yoffset:_725});this.zoomQueue.push(anim);hub.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},render:function(dim,_72b){return this;},getRequiredColors:function(){return this.series.length;},initializeScalers:function(dim,_72c){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_72c.hmin,_72c.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=_718.buildScaler(_72c.hmin,_72c.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_72c.vmin,_72c.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=_718.buildScaler(_72c.vmin,_72c.vmax,dim.height);}return this;}});});},"dojox/lang/functional/fold":function(){define("dojox/lang/functional/fold",["dojo/_base/lang","dojo/_base/array","dojo/_base/window","./lambda"],function(lang,arr,win,df){var _72d={};lang.mixin(df,{foldl:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var i,n;if(lang.isArray(a)){for(i=0,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){for(i=0;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}else{for(i in a){if(!(i in _72d)){z=f.call(o,z,a[i],i,a);}}}}return z;},foldl1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var z,i,n;if(lang.isArray(a)){z=a[0];for(i=1,n=a.length;i<n;z=f.call(o,z,a[i],i,a),++i){}}else{if(typeof a.hasNext=="function"&&typeof a.next=="function"){if(a.hasNext()){z=a.next();for(i=1;a.hasNext();z=f.call(o,z,a.next(),i++,a)){}}}else{var _72e=true;for(i in a){if(!(i in _72d)){if(_72e){z=a[i];_72e=false;}else{z=f.call(o,z,a[i],i,a);}}}}}return z;},foldr:function(a,f,z,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);for(var i=a.length;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},foldr1:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var n=a.length,z=a[n-1],i=n-1;for(;i>0;--i,z=f.call(o,z,a[i],i,a)){}return z;},reduce:function(a,f,z){return arguments.length<3?df.foldl1(a,f):df.foldl(a,f,z);},reduceRight:function(a,f,z){return arguments.length<3?df.foldr1(a,f):df.foldr(a,f,z);},unfold:function(pr,f,g,z,o){o=o||win.global;f=df.lambda(f);g=df.lambda(g);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(f.call(o,z)),z=g.call(o,z)){}return t;}});});},"dojox/grid/cells/_base":function(){define("dojox/grid/cells/_base",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dijit/_Widget","../util"],function(dojo,_72f,lang,_730,_731,_732,has,dom,_733,_734,_735,util){var _736=_72f("dojox.grid._DeferredTextWidget",_735,{deferred:null,_destroyOnRemove:true,postCreate:function(){if(this.deferred){this.deferred.addBoth(lang.hitch(this,function(text){if(this.domNode){this.domNode.innerHTML=text;}}));}}});var _737=function(_738){try{util.fire(_738,"focus");util.fire(_738,"select");}catch(e){}};var _739=function(){setTimeout(lang.hitch.apply(dojo,arguments),0);};var _73a=_72f("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_73b){this._props=_73b||{};lang.mixin(this,_73b);if(this.draggable===undefined){this.draggable=true;}},_defaultFormat:function(_73c,_73d){var s=this.grid.formatterScope||this;var f=this.formatter;if(f&&s&&typeof f=="string"){f=this.formatter=s[f];}var v=(_73c!=this.defaultValue&&f)?f.apply(s,_73d):_73c;if(typeof v=="undefined"){return this.defaultValue;}if(v&&v.addBoth){v=new _736({deferred:v},_734.create("span",{innerHTML:this.defaultValue}));}if(v&&v.declaredClass&&v.startup){return"<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";}return v;},format:function(_73e,_73f){var f,i=this.grid.edit.info,d=this.get?this.get(_73e,_73f):(this.value||this.defaultValue);d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_73e&&i.cell==this))){return this.formatEditing(d,_73e);}else{return this._defaultFormat(d,[d,_73e,this]);}},formatEditing:function(_740,_741){},getNode:function(_742){return this.view.getCellNode(_742,this.index);},getHeaderNode:function(){return this.view.getHeaderCellNode(this.index);},getEditNode:function(_743){return(this.getNode(_743)||0).firstChild||0;},canResize:function(){var uw=this.unitWidth;return uw&&(uw!=="auto");},isFlex:function(){var uw=this.unitWidth;return uw&&lang.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_744,_745){this.grid.edit.applyCellEdit(_744,this,_745);},cancelEdit:function(_746){this.grid.doCancelEdit(_746);},_onEditBlur:function(_747){if(this.grid.edit.isEditCell(_747,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_748,_749){if(this.commitOnBlur){_731.connect(_748,"onblur",function(e){setTimeout(lang.hitch(this,"_onEditBlur",_749),250);});}},needFormatNode:function(_74a,_74b){this._formatPending=true;_739(this,"_formatNode",_74a,_74b);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_74c,_74d){if(this._formatPending){this._formatPending=false;if(!has("ie")){dom.setSelectable(this.grid.domNode,true);}this.formatNode(this.getEditNode(_74d),_74c,_74d);}},formatNode:function(_74e,_74f,_750){if(has("ie")){_739(this,"focus",_750,_74e);}else{this.focus(_750,_74e);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_751){return this.getEditNode(_751)[this._valueProp];},setValue:function(_752,_753){var n=this.getEditNode(_752);if(n){n[this._valueProp]=_753;}},focus:function(_754,_755){_737(_755||this.getEditNode(_754));},save:function(_756){this.value=this.value||this.getValue(_756);},restore:function(_757){this.setValue(_757,this.value);},_finish:function(_758){dom.setSelectable(this.grid.domNode,false);this.cancelFormatNode();},apply:function(_759){this.applyEdit(this.getValue(_759),_759);this._finish(_759);},cancel:function(_75a){this.cancelEdit(_75a);this._finish(_75a);}});_73a.markupFactory=function(node,_75b){var _75c=lang.trim(_733.get(node,"formatter")||"");if(_75c){_75b.formatter=lang.getObject(_75c)||_75c;}var get=lang.trim(_733.get(node,"get")||"");if(get){_75b.get=lang.getObject(get);}var _75d=function(attr,cell,_75e){var _75f=lang.trim(_733.get(node,attr)||"");if(_75f){cell[_75e||attr]=!(_75f.toLowerCase()=="false");}};_75d("sortDesc",_75b);_75d("editable",_75b);_75d("alwaysEditing",_75b);_75d("noresize",_75b);_75d("draggable",_75b);var _760=lang.trim(_733.get(node,"loadingText")||_733.get(node,"defaultValue")||"");if(_760){_75b.defaultValue=_760;}var _761=function(attr,cell,_762){var _763=lang.trim(_733.get(node,attr)||"")||undefined;if(_763){cell[_762||attr]=_763;}};_761("styles",_75b);_761("headerStyles",_75b);_761("cellStyles",_75b);_761("classes",_75b);_761("headerClasses",_75b);_761("cellClasses",_75b);};var Cell=_72f("dojox.grid.cells.Cell",_73a,{constructor:function(){this.keyFilter=this.keyFilter;},keyFilter:null,formatEditing:function(_764,_765){this.needFormatNode(_764,_765);return'<input class="dojoxGridInput" type="text" value="'+_764+'">';},formatNode:function(_766,_767,_768){this.inherited(arguments);this.registerOnBlur(_766,_768);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){_730.stop(e);}}},_finish:function(_769){this.inherited(arguments);var n=this.getEditNode(_769);try{util.fire(n,"blur");}catch(e){}}});Cell.markupFactory=function(node,_76a){_73a.markupFactory(node,_76a);var _76b=lang.trim(_733.get(node,"keyFilter")||"");if(_76b){_76a.keyFilter=new RegExp(_76b);}};var _76c=_72f("dojox.grid.cells.RowIndex",Cell,{name:"Row",postscript:function(){this.editable=false;},get:function(_76d){return _76d+1;}});_76c.markupFactory=function(node,_76e){Cell.markupFactory(node,_76e);};var _76f=_72f("dojox.grid.cells.Select",Cell,{options:null,values:null,returnIndex:-1,constructor:function(_770){this.values=this.values||this.options;},formatEditing:function(_771,_772){this.needFormatNode(_771,_772);var h=['<select class="dojoxGridSelect">'];for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;h.push("<option",(_771==v?" selected":""),' value="'+v+'"',">",o,"</option>");}h.push("</select>");return h.join("");},_defaultFormat:function(_773,_774){var v=this.inherited(arguments);if(!this.formatter&&this.values&&this.options){var i=_732.indexOf(this.values,v);if(i>=0){v=this.options[i];}}return v;},getValue:function(_775){var n=this.getEditNode(_775);if(n){var i=n.selectedIndex,o=n.options[i];return this.returnIndex>-1?i:o.value||o.innerHTML;}}});_76f.markupFactory=function(node,cell){Cell.markupFactory(node,cell);var _776=lang.trim(_733.get(node,"options")||"");if(_776){var o=_776.split(",");if(o[0]!=_776){cell.options=o;}}var _777=lang.trim(_733.get(node,"values")||"");if(_777){var v=_777.split(",");if(v[0]!=_777){cell.values=v;}}};var _778=_72f("dojox.grid.cells.AlwaysEdit",Cell,{alwaysEditing:true,_formatNode:function(_779,_77a){this.formatNode(this.getEditNode(_77a),_779,_77a);},applyStaticValue:function(_77b){var e=this.grid.edit;e.applyCellEdit(this.getValue(_77b),this,_77b);e.start(this,_77b,true);}});_778.markupFactory=function(node,cell){Cell.markupFactory(node,cell);};var Bool=_72f("dojox.grid.cells.Bool",_778,{_valueProp:"checked",formatEditing:function(_77c,_77d){return'<input class="dojoxGridInput" type="checkbox"'+(_77c?' checked="checked"':"")+' style="width: auto" />';},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});Bool.markupFactory=function(node,cell){_778.markupFactory(node,cell);};return _73a;});},"dojox/charting/plot2d/Spider":function(){define("dojox/charting/plot2d/Spider",["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/html","dojo/_base/array","dojo/dom-geometry","dojo/_base/fx","dojo/fx","dojo/_base/sniff","../Element","./_PlotEvents","dojo/_base/Color","dojox/color/_base","./common","../axis2d/common","../scaler/primitive","dojox/gfx","dojox/gfx/matrix","dojox/gfx/fx","dojox/lang/functional","dojox/lang/utils","dojo/fx/easing"],function(lang,_77e,hub,html,arr,_77f,_780,_781,has,_782,_783,_784,_785,dc,da,_786,g,m,_787,df,du,_788){var _789=0.2;var _78a=_77e("dojox.charting.plot2d.Spider",[_782,_783],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:-10,labelStyle:"default",htmlLabels:true,startAngle:-90,divisions:3,axisColor:"",axisWidth:0,spiderColor:"",spiderWidth:0,seriesWidth:0,seriesFillAlpha:0.2,spiderOrigin:0.16,markerSize:3,spiderType:"polygon",animationType:_788.backOut,axisTickFont:"",axisTickFontColor:"",axisFont:"",axisFontColor:""},optionalParams:{radius:0,font:"",fontColor:""},constructor:function(_78b,_78c){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_78c);du.updateWithPattern(this.opt,_78c,this.optionalParams);this.series=[];this.dyn=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};},clear:function(){this.dirty=true;this.dyn=[];this.series=[];this.datas={};this.labelKey=[];this.oldSeriePoints={};this.animations={};return this;},setAxis:function(axis){return this;},addSeries:function(run){var _78d=false;this.series.push(run);for(var key in run.data){var val=run.data[key],data=this.datas[key];if(data){data.vlist.push(val);data.min=Math.min(data.min,val);data.max=Math.max(data.max,val);}else{this.datas[key]={min:val,max:val,vlist:[val]};}}if(this.labelKey.length<=0){for(var key in run.data){this.labelKey.push(key);}}return this;},getSeriesStats:function(){return dc.collectSimpleStats(this.series);},calculateAxes:function(dim){this.initializeScalers(dim,this.getSeriesStats());return this;},getRequiredColors:function(){return this.series.length;},initializeScalers:function(dim,_78e){if(this._hAxis){if(!this._hAxis.initialized()){this._hAxis.calculate(_78e.hmin,_78e.hmax,dim.width);}this._hScaler=this._hAxis.getScaler();}else{this._hScaler=_786.buildScaler(_78e.hmin,_78e.hmax,dim.width);}if(this._vAxis){if(!this._vAxis.initialized()){this._vAxis.calculate(_78e.vmin,_78e.vmax,dim.height);}this._vScaler=this._vAxis.getScaler();}else{this._vScaler=_786.buildScaler(_78e.vmin,_78e.vmax,dim.height);}return this;},render:function(dim,_78f){if(!this.dirty){return this;}this.dirty=false;this.cleanGroup();var s=this.group,t=this.chart.theme;this.resetEvents();if(!this.series||!this.series.length){return this;}var o=this.opt,ta=t.axis,rx=(dim.width-_78f.l-_78f.r)/2,ry=(dim.height-_78f.t-_78f.b)/2,r=Math.min(rx,ry),_790=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font)||"normal normal normal 7pt Tahoma",_791=o.axisFont||(ta.tick&&ta.tick.titleFont)||"normal normal normal 11pt Tahoma",_792=o.axisTickFontColor||(ta.majorTick&&ta.majorTick.fontColor)||(ta.tick&&ta.tick.fontColor)||"silver",_793=o.axisFontColor||(ta.tick&&ta.tick.titleFontColor)||"black",_794=o.axisColor||(ta.tick&&ta.tick.axisColor)||"silver",_795=o.spiderColor||(ta.tick&&ta.tick.spiderColor)||"silver",_796=o.axisWidth||(ta.stroke&&ta.stroke.width)||2,_797=o.spiderWidth||(ta.stroke&&ta.stroke.width)||2,_798=o.seriesWidth||(ta.stroke&&ta.stroke.width)||2,_799=g.normalizedLength(g.splitFontString(_791).size),_79a=m._degToRad(o.startAngle),_79b=_79a,step,_79c,_79d,_79e,_79f,_7a0,_7a1,_7a2,_7a3,_7a4,_7a5,ro=o.spiderOrigin,dv=o.divisions>=3?o.divisions:3,ms=o.markerSize,spt=o.spiderType,at=o.animationType,_7a6=o.labelOffset<-10?o.labelOffset:-10,_7a7=0.2;if(o.labels){_79e=arr.map(this.series,function(s){return s.name;},this);_79f=df.foldl1(df.map(_79e,function(_7a8,i){var font=t.series.font;return g._base._getTextBox(_7a8,{font:font}).w;},this),"Math.max(a, b)")/2;r=Math.min(rx-2*_79f,ry-_799)+_7a6;_7a0=r-_7a6;}if("radius" in o){r=o.radius;_7a0=r-_7a6;}r/=(1+_7a7);var _7a9={cx:_78f.l+rx,cy:_78f.t+ry,r:r};for(var i=this.series.length-1;i>=0;i--){var _7aa=this.series[i];if(!this.dirty&&!_7aa.dirty){t.skip();continue;}_7aa.cleanGroup();var run=_7aa.data;if(run!==null){var len=this._getObjectLength(run);if(!_7a1||_7a1.length<=0){_7a1=[],_7a2=[],_7a5=[];this._buildPoints(_7a1,len,_7a9,r,_79b,true);this._buildPoints(_7a2,len,_7a9,r*ro,_79b,true);this._buildPoints(_7a5,len,_7a9,_7a0,_79b);if(dv>2){_7a3=[],_7a4=[];for(var j=0;j<dv-2;j++){_7a3[j]=[];this._buildPoints(_7a3[j],len,_7a9,r*(ro+(1-ro)*(j+1)/(dv-1)),_79b,true);_7a4[j]=r*(ro+(1-ro)*(j+1)/(dv-1));}}}}}var _7ab=s.createGroup(),_7ac={color:_794,width:_796},_7ad={color:_795,width:_797};for(var j=_7a1.length-1;j>=0;--j){var _7ae=_7a1[j],st={x:_7ae.x+(_7ae.x-_7a9.cx)*_7a7,y:_7ae.y+(_7ae.y-_7a9.cy)*_7a7},nd={x:_7ae.x+(_7ae.x-_7a9.cx)*_7a7/2,y:_7ae.y+(_7ae.y-_7a9.cy)*_7a7/2};_7ab.createLine({x1:_7a9.cx,y1:_7a9.cy,x2:st.x,y2:st.y}).setStroke(_7ac);this._drawArrow(_7ab,st,nd,_7ac);}var _7af=s.createGroup();for(var j=_7a5.length-1;j>=0;--j){var _7ae=_7a5[j],_7b0=g._base._getTextBox(this.labelKey[j],{font:_791}).w||0,_7b1=this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx",elem=da.createText[_7b1](this.chart,_7af,(!_77f.isBodyLtr()&&_7b1=="html")?(_7ae.x+_7b0-dim.width):_7ae.x,_7ae.y,"middle",this.labelKey[j],_791,_793);if(this.opt.htmlLabels){this.htmlElements.push(elem);}}var _7b2=s.createGroup();if(spt=="polygon"){_7b2.createPolyline(_7a1).setStroke(_7ad);_7b2.createPolyline(_7a2).setStroke(_7ad);if(_7a3.length>0){for(var j=_7a3.length-1;j>=0;--j){_7b2.createPolyline(_7a3[j]).setStroke(_7ad);}}}else{var _7b3=this._getObjectLength(this.datas);_7b2.createCircle({cx:_7a9.cx,cy:_7a9.cy,r:r}).setStroke(_7ad);_7b2.createCircle({cx:_7a9.cx,cy:_7a9.cy,r:r*ro}).setStroke(_7ad);if(_7a4.length>0){for(var j=_7a4.length-1;j>=0;--j){_7b2.createCircle({cx:_7a9.cx,cy:_7a9.cy,r:_7a4[j]}).setStroke(_7ad);}}}var _7b4=s.createGroup(),len=this._getObjectLength(this.datas),k=0;for(var key in this.datas){var data=this.datas[key],min=data.min,max=data.max,_7b5=max-min,end=_79b+2*Math.PI*k/len;for(var i=0;i<dv;i++){var text=min+_7b5*i/(dv-1),_7ae=this._getCoordinate(_7a9,r*(ro+(1-ro)*i/(dv-1)),end);text=this._getLabel(text);var _7b0=g._base._getTextBox(text,{font:_790}).w||0,_7b1=this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx";if(this.opt.htmlLabels){this.htmlElements.push(da.createText[_7b1](this.chart,_7b4,(!_77f.isBodyLtr()&&_7b1=="html")?(_7ae.x+_7b0-dim.width):_7ae.x,_7ae.y,"start",text,_790,_792));}}k++;}this.chart.seriesShapes={};var _7b6=[];for(var i=this.series.length-1;i>=0;i--){var _7aa=this.series[i],run=_7aa.data;if(run!==null){var _7b7=[],k=0,_7b8=[];for(var key in run){var data=this.datas[key],min=data.min,max=data.max,_7b5=max-min,_7b9=run[key],end=_79b+2*Math.PI*k/len,_7ae=this._getCoordinate(_7a9,r*(ro+(1-ro)*(_7b9-min)/_7b5),end);_7b7.push(_7ae);_7b8.push({sname:_7aa.name,key:key,data:_7b9});k++;}_7b7[_7b7.length]=_7b7[0];_7b8[_7b8.length]=_7b8[0];var _7ba=this._getBoundary(_7b7),_7bb=t.next("spider",[o,_7aa]),ts=_7aa.group,f=g.normalizeColor(_7bb.series.fill),sk={color:_7bb.series.fill,width:_798};f.a=o.seriesFillAlpha;_7aa.dyn={fill:f,stroke:sk};var osps=this.oldSeriePoints[_7aa.name];var cs=this._createSeriesEntry(ts,(osps||_7a2),_7b7,f,sk,r,ro,ms,at);this.chart.seriesShapes[_7aa.name]=cs;this.oldSeriePoints[_7aa.name]=_7b7;var po={element:"spider_poly",index:i,id:"spider_poly_"+_7aa.name,run:_7aa,plot:this,shape:cs.poly,parent:ts,brect:_7ba,cx:_7a9.cx,cy:_7a9.cy,cr:r,f:f,s:s};this._connectEvents(po);var so={element:"spider_plot",index:i,id:"spider_plot_"+_7aa.name,run:_7aa,plot:this,shape:_7aa.group};this._connectEvents(so);arr.forEach(cs.circles,function(c,i){var _7bc=c.getShape(),co={element:"spider_circle",index:i,id:"spider_circle_"+_7aa.name+i,run:_7aa,plot:this,shape:c,parent:ts,tdata:_7b8[i],cx:_7b7[i].x,cy:_7b7[i].y,f:f,s:s};this._connectEvents(co);},this);}}return this;},_createSeriesEntry:function(ts,osps,sps,f,sk,r,ro,ms,at){var _7bd=ts.createPolyline(osps).setFill(f).setStroke(sk),_7be=[];for(var j=0;j<osps.length;j++){var _7bf=osps[j],cr=ms;var _7c0=ts.createCircle({cx:_7bf.x,cy:_7bf.y,r:cr}).setFill(f).setStroke(sk);_7be.push(_7c0);}var _7c1=arr.map(sps,function(np,j){var sp=osps[j],anim=new _780.Animation({duration:1000,easing:at,curve:[sp.y,np.y]});var spl=_7bd,sc=_7be[j];hub.connect(anim,"onAnimate",function(y){var _7c2=spl.getShape();_7c2.points[j].y=y;spl.setShape(_7c2);var _7c3=sc.getShape();_7c3.cy=y;sc.setShape(_7c3);});return anim;});var _7c4=arr.map(sps,function(np,j){var sp=osps[j],anim=new _780.Animation({duration:1000,easing:at,curve:[sp.x,np.x]});var spl=_7bd,sc=_7be[j];hub.connect(anim,"onAnimate",function(x){var _7c5=spl.getShape();_7c5.points[j].x=x;spl.setShape(_7c5);var _7c6=sc.getShape();_7c6.cx=x;sc.setShape(_7c6);});return anim;});var _7c7=_781.combine(_7c1.concat(_7c4));_7c7.play();return{group:ts,poly:_7bd,circles:_7be};},plotEvent:function(o){var _7c8=o.id?o.id:"default",a;if(_7c8 in this.animations){a=this.animations[_7c8];a.anim&&a.anim.stop(true);}else{a=this.animations[_7c8]={};}if(o.element=="spider_poly"){if(!a.color){var _7c9=o.shape.getFill();if(!_7c9||!(_7c9 instanceof _784)){return;}a.color={start:_7c9,end:_7ca(_7c9)};}var _7cb=a.color.start,end=a.color.end;if(o.type=="onmouseout"){var t=_7cb;_7cb=end;end=t;}a.anim=_787.animateFill({shape:o.shape,duration:800,easing:_788.backOut,color:{start:_7cb,end:end}});a.anim.play();}else{if(o.element=="spider_circle"){var init,_7cc,_7cd=1.5;if(o.type=="onmouseover"){init=m.identity;_7cc=_7cd;var _7ce={type:"rect"};_7ce.x=o.cx;_7ce.y=o.cy;_7ce.width=_7ce.height=1;var lt=html.coords(this.chart.node,true);_7ce.x+=lt.x;_7ce.y+=lt.y;_7ce.x=Math.round(_7ce.x);_7ce.y=Math.round(_7ce.y);_7ce.width=Math.ceil(_7ce.width);_7ce.height=Math.ceil(_7ce.height);this.aroundRect=_7ce;var _7cf=["after","before"];dc.doIfLoaded("dijit/Tooltip",dojo.hitch(this,function(_7d0){_7d0.show(o.tdata.sname+"<br/>"+o.tdata.key+"<br/>"+o.tdata.data,this.aroundRect,_7cf);}));}else{init=m.scaleAt(_7cd,o.cx,o.cy);_7cc=1/_7cd;dc.doIfLoaded("dijit/Tooltip",dojo.hitch(this,function(_7d1){this.aroundRect&&_7d1.hide(this.aroundRect);}));}var cs=o.shape.getShape(),init=m.scaleAt(_7cd,cs.cx,cs.cy),_7d2={shape:o.shape,duration:200,easing:_788.backOut,transform:[{name:"scaleAt",start:[1,cs.cx,cs.cy],end:[_7cc,cs.cx,cs.cy]},init]};a.anim=_787.animateTransform(_7d2);a.anim.play();}else{if(o.element=="spider_plot"){if(o.type=="onmouseover"&&!has("ie")){o.shape.moveToFront();}}}}},_getBoundary:function(_7d3){var xmax=_7d3[0].x,xmin=_7d3[0].x,ymax=_7d3[0].y,ymin=_7d3[0].y;for(var i=0;i<_7d3.length;i++){var _7d4=_7d3[i];xmax=Math.max(_7d4.x,xmax);ymax=Math.max(_7d4.y,ymax);xmin=Math.min(_7d4.x,xmin);ymin=Math.min(_7d4.y,ymin);}return{x:xmin,y:ymin,width:xmax-xmin,height:ymax-ymin};},_drawArrow:function(s,_7d5,end,_7d6){var len=Math.sqrt(Math.pow(end.x-_7d5.x,2)+Math.pow(end.y-_7d5.y,2)),sin=(end.y-_7d5.y)/len,cos=(end.x-_7d5.x)/len,_7d7={x:end.x+(len/3)*(-sin),y:end.y+(len/3)*cos},_7d8={x:end.x+(len/3)*sin,y:end.y+(len/3)*(-cos)};s.createPolyline([_7d5,_7d7,_7d8]).setFill(_7d6.color).setStroke(_7d6);},_buildPoints:function(_7d9,_7da,_7db,_7dc,_7dd,_7de){for(var i=0;i<_7da;i++){var end=_7dd+2*Math.PI*i/_7da;_7d9.push(this._getCoordinate(_7db,_7dc,end));}if(_7de){_7d9.push(this._getCoordinate(_7db,_7dc,_7dd+2*Math.PI));}},_getCoordinate:function(_7df,_7e0,_7e1){return{x:_7df.cx+_7e0*Math.cos(_7e1),y:_7df.cy+_7e0*Math.sin(_7e1)};},_getObjectLength:function(obj){var _7e2=0;if(lang.isObject(obj)){for(var key in obj){_7e2++;}}return _7e2;},_getLabel:function(_7e3){return dc.getLabel(_7e3,this.opt.fixed,this.opt.precision);}});function _7ca(_7e4){var a=new _785.Color(_7e4),x=a.toHsl();if(x.s==0){x.l=x.l<50?100:0;}else{x.s=100;if(x.l<50){x.l=75;}else{if(x.l>75){x.l=50;}else{x.l=x.l-50>75-x.l?50:75;}}}var _7e4=_785.fromHsl(x);_7e4.a=0.7;return _7e4;}return _78a;});},"dojox/gfx/path":function(){define("dojox/gfx/path",["./_base","dojo/_base/lang","dojo/_base/declare","./matrix","./shape"],function(g,lang,_7e5,_7e6,_7e7){var path=g.path={};var Path=_7e5("dojox.gfx.path.Path",_7e7.Shape,{constructor:function(_7e8){this.shape=lang.clone(g.defaultPath);this.segments=[];this.tbbox=null;this.absolute=true;this.last={};this.rawNode=_7e8;this.segmented=false;},setAbsoluteMode:function(mode){this._confirmSegmented();this.absolute=typeof mode=="string"?(mode=="absolute"):mode;return this;},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute;},getBoundingBox:function(){this._confirmSegmented();return(this.bbox&&("l" in this.bbox))?{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null;},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox){return this.tbbox;}var bbox=this.bbox,_7e6=this._getRealMatrix();this.bbox=null;for(var i=0,len=this.segments.length;i<len;++i){this._updateWithSegment(this.segments[i],_7e6);}var t=this.bbox;this.bbox=bbox;this.tbbox=t?[{x:t.l,y:t.t},{x:t.r,y:t.t},{x:t.r,y:t.b},{x:t.l,y:t.b}]:null;return this.tbbox;},getLastPosition:function(){this._confirmSegmented();return"x" in this.last?this.last:null;},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments);},_updateBBox:function(x,y,m){if(m){var t=_7e6.multiplyPoint(m,x,y);x=t.x;y=t.y;}if(this.bbox&&("l" in this.bbox)){if(this.bbox.l>x){this.bbox.l=x;}if(this.bbox.r<x){this.bbox.r=x;}if(this.bbox.t>y){this.bbox.t=y;}if(this.bbox.b<y){this.bbox.b=y;}}else{this.bbox={l:x,b:y,r:x,t:y};}},_updateWithSegment:function(_7e9,_7ea){var n=_7e9.args,l=n.length,i;switch(_7e9.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(i=0;i<l;i+=2){this._updateBBox(n[i],n[i+1],_7ea);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case"H":for(i=0;i<l;++i){this._updateBBox(n[i],this.last.y,_7ea);}this.last.x=n[l-1];this.absolute=true;break;case"V":for(i=0;i<l;++i){this._updateBBox(this.last.x,n[i],_7ea);}this.last.y=n[l-1];this.absolute=true;break;case"m":var _7eb=0;if(!("x" in this.last)){this._updateBBox(this.last.x=n[0],this.last.y=n[1],_7ea);_7eb=2;}for(i=_7eb;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_7ea);}this.absolute=false;break;case"l":case"t":for(i=0;i<l;i+=2){this._updateBBox(this.last.x+=n[i],this.last.y+=n[i+1],_7ea);}this.absolute=false;break;case"h":for(i=0;i<l;++i){this._updateBBox(this.last.x+=n[i],this.last.y,_7ea);}this.absolute=false;break;case"v":for(i=0;i<l;++i){this._updateBBox(this.last.x,this.last.y+=n[i],_7ea);}this.absolute=false;break;case"c":for(i=0;i<l;i+=6){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_7ea);this._updateBBox(this.last.x+n[i+2],this.last.y+n[i+3],_7ea);this._updateBBox(this.last.x+=n[i+4],this.last.y+=n[i+5],_7ea);}this.absolute=false;break;case"s":case"q":for(i=0;i<l;i+=4){this._updateBBox(this.last.x+n[i],this.last.y+n[i+1],_7ea);this._updateBBox(this.last.x+=n[i+2],this.last.y+=n[i+3],_7ea);}this.absolute=false;break;case"A":for(i=0;i<l;i+=7){this._updateBBox(n[i+5],n[i+6],_7ea);}this.last.x=n[l-2];this.last.y=n[l-1];this.absolute=true;break;case"a":for(i=0;i<l;i+=7){this._updateBBox(this.last.x+=n[i+5],this.last.y+=n[i+6],_7ea);}this.absolute=false;break;}var path=[_7e9.action];for(i=0;i<l;++i){path.push(g.formatNumber(n[i],true));}if(typeof this.shape.path=="string"){this.shape.path+=path.join("");}else{Array.prototype.push.apply(this.shape.path,path);}},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(_7ec,args){this.tbbox=null;var _7ed=this._validSegments[_7ec.toLowerCase()],_7ee;if(typeof _7ed=="number"){if(_7ed){if(args.length>=_7ed){_7ee={action:_7ec,args:args.slice(0,args.length-args.length%_7ed)};this.segments.push(_7ee);this._updateWithSegment(_7ee);}}else{_7ee={action:_7ec,args:[]};this.segments.push(_7ee);this._updateWithSegment(_7ee);}}},_collectArgs:function(_7ef,args){for(var i=0;i<args.length;++i){var t=args[i];if(typeof t=="boolean"){_7ef.push(t?1:0);}else{if(typeof t=="number"){_7ef.push(t);}else{if(t instanceof Array){this._collectArgs(_7ef,t);}else{if("x" in t&&"y" in t){_7ef.push(t.x,t.y);}}}}}},moveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"M":"m",args);return this;},lineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"L":"l",args);return this;},hLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"H":"h",args);return this;},vLineTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"V":"v",args);return this;},curveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"C":"c",args);return this;},smoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"S":"s",args);return this;},qCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"Q":"q",args);return this;},qSmoothCurveTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"T":"t",args);return this;},arcTo:function(){this._confirmSegmented();var args=[];this._collectArgs(args,arguments);this._pushSegment(this.absolute?"A":"a",args);return this;},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this;},_confirmSegmented:function(){if(!this.segmented){var path=this.shape.path;this.shape.path=[];this._setPath(path);this.shape.path=this.shape.path.join("");this.segmented=true;}},_setPath:function(path){var p=lang.isArray(path)?path:path.match(g.pathSvgRegExp);this.segments=[];this.absolute=true;this.bbox={};this.last={};if(!p){return;}var _7f0="",args=[],l=p.length;for(var i=0;i<l;++i){var t=p[i],x=parseFloat(t);if(isNaN(x)){if(_7f0){this._pushSegment(_7f0,args);}args=[];_7f0=t;}else{args.push(x);}}this._pushSegment(_7f0,args);},setShape:function(_7f1){this.inherited(arguments,[typeof _7f1=="string"?{path:_7f1}:_7f1]);this.segmented=false;this.segments=[];if(!g.lazyPathSegmentation){this._confirmSegmented();}return this;},_2PI:Math.PI*2});var _7f2=_7e5("dojox.gfx.path.TextPath",Path,{constructor:function(_7f3){if(!("text" in this)){this.text=lang.clone(g.defaultTextPath);}if(!("fontStyle" in this)){this.fontStyle=lang.clone(g.defaultFont);}},getText:function(){return this.text;},setText:function(_7f4){this.text=g.makeParameters(this.text,typeof _7f4=="string"?{text:_7f4}:_7f4);this._setText();return this;},getFont:function(){return this.fontStyle;},setFont:function(_7f5){this.fontStyle=typeof _7f5=="string"?g.splitFontString(_7f5):g.makeParameters(g.defaultFont,_7f5);this._setFont();return this;}});return{Path:Path,TextPath:_7f2};});},"dojox/storage/LocalStorageProvider":function(){define("dojox/storage/LocalStorageProvider",["dojo/_base/declare","dojox/storage/Provider","dojox/storage/manager","dojo/_base/array","dojo/_base/lang","dojo/json"],function(_7f6,_7f7,_7f8,_7f9,lang,JSON){var _7fa=_7f6("dojox.storage.LocalStorageProvider",[_7f7],{store:null,initialize:function(){this.store=localStorage;this.initialized=true;_7f8.loaded();},isAvailable:function(){return typeof localStorage!="undefined";},put:function(key,_7fb,_7fc,_7fd){this._assertIsValidKey(key);_7fd=_7fd||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_7fd);var _7fe=this.getFullKey(key,_7fd);_7fb=JSON.stringify(_7fb);try{this.store.setItem(_7fe,_7fb);if(_7fc){_7fc(this.SUCCESS,key,null,_7fd);}}catch(e){if(_7fc){_7fc(this.FAILED,key,e.toString(),_7fd);}}},get:function(key,_7ff){this._assertIsValidKey(key);_7ff=_7ff||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_7ff);key=this.getFullKey(key,_7ff);return JSON.parse(this.store.getItem(key));},getKeys:function(_800){_800=_800||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_800);_800="__"+_800+"_";var keys=[];for(var i=0;i<this.store.length;i++){var _801=this.store.key(i);if(this._beginsWith(_801,_800)){_801=_801.substring(_800.length);keys.push(_801);}}return keys;},clear:function(_802){_802=_802||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_802);_802="__"+_802+"_";var keys=[];for(var i=0;i<this.store.length;i++){if(this._beginsWith(this.store.key(i),_802)){keys.push(this.store.key(i));}}_7f9.forEach(keys,lang.hitch(this.store,"removeItem"));},remove:function(key,_803){_803=_803||this.DEFAULT_NAMESPACE;this._assertIsValidNamespace(_803);this.store.removeItem(this.getFullKey(key,_803));},getNamespaces:function(){var _804=[this.DEFAULT_NAMESPACE];var _805={};_805[this.DEFAULT_NAMESPACE]=true;var _806=/^__([^_]*)_/;for(var i=0;i<this.store.length;i++){var _807=this.store.key(i);if(_806.test(_807)==true){var _808=_807.match(_806)[1];if(typeof _805[_808]=="undefined"){_805[_808]=true;_804.push(_808);}}}return _804;},isPermanent:function(){return true;},getMaximumSize:function(){return dojox.storage.SIZE_NO_LIMIT;},hasSettingsUI:function(){return false;},isValidKey:function(_809){if(_809===null||_809===undefined){return false;}return/^[0-9A-Za-z_-]*$/.test(_809);},isValidNamespace:function(_80a){if(_80a===null||_80a===undefined){return false;}return/^[0-9A-Za-z-]*$/.test(_80a);},getFullKey:function(key,_80b){return"__"+_80b+"_"+key;},_beginsWith:function(_80c,_80d){if(_80d.length>_80c.length){return false;}return _80c.substring(0,_80d.length)===_80d;},_assertIsValidNamespace:function(_80e){if(this.isValidNamespace(_80e)===false){throw new Error("Invalid namespace given: "+_80e);}},_assertIsValidKey:function(key){if(this.isValidKey(key)===false){throw new Error("Invalid key given: "+key);}}});_7f8.register("dojox.storage.LocalStorageProvider",new _7fa());return _7fa;});},"dojox/xml/parser":function(){define("dojox/xml/parser",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(dojo){dojo.getObject("xml.parser",true,dojox);dojox.xml.parser.parse=function(str,_80f){var _810=dojo.doc;var doc;_80f=_80f||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _811=new DOMParser();doc=_811.parseFromString(str,_80f);var de=doc.documentElement;var _812="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_812){var _813=de.getElementsByTagNameNS(_812,"sourcetext")[0];if(_813){_813=_813.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_813);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return"MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_810.implementation&&_810.implementation.createDocument){if(str&&dojo.trim(str)&&_810.createElement){var tmp=_810.createElement("xml");tmp.innerHTML=str;var _814=_810.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_815){_814.importNode(_815,true);});return _814;}else{return _810.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(node,text){if(arguments.length>1){var _816=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_816.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _817="";if(node){dojo.forEach(node.childNodes,function(_818){switch(_818.nodeType){case 1:case 5:_817+=dojox.xml.parser.textContent(_818);break;case 3:case 2:case 4:_817+=_818.nodeValue;}});}return _817;}};dojox.xml.parser.replaceChildren=function(node,_819){var _81a=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_81b){_81a.push(_81b);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_81a,dojo.destroy);if(!dojo.isArray(_819)){node.appendChild(_819);}else{dojo.forEach(_819,function(_81c){node.appendChild(_81c);});}};dojox.xml.parser.removeChildren=function(node){var _81d=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _81d;};dojox.xml.parser.innerXML=function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return(new XMLSerializer()).serializeToString(node);}}}return null;};return dojox.xml.parser;});},"dojox/gfx/matrix":function(){define("dojox/gfx/matrix",["./_base","dojo/_base/lang"],function(g,lang){var m=g.matrix={};var _81e={};m._degToRad=function(_81f){return _81e[_81f]||(_81e[_81f]=(Math.PI*_81f/180));};m._radToDeg=function(_820){return _820/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _821=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_821,r=m.normalize(arg[i]);_821=new m.Matrix2D();_821.xx=l.xx*r.xx+l.xy*r.yx;_821.xy=l.xx*r.xy+l.xy*r.yy;_821.yx=l.yx*r.xx+l.yy*r.yx;_821.yy=l.yx*r.xy+l.yy*r.yy;_821.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_821.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}lang.mixin(this,_821);}}else{lang.mixin(this,arg);}}}};lang.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});lang.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_822){var c=Math.cos(_822);var s=Math.sin(_822);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_823){return m.rotate(m._degToRad(_823));},skewX:function(_824){return new m.Matrix2D({xy:Math.tan(_824)});},skewXg:function(_825){return m.skewX(m._degToRad(_825));},skewY:function(_826){return new m.Matrix2D({yx:Math.tan(_826)});},skewYg:function(_827){return m.skewY(m._degToRad(_827));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_828){return(_828 instanceof m.Matrix2D)?_828:new m.Matrix2D(_828);},clone:function(_829){var obj=new m.Matrix2D();for(var i in _829){if(typeof(_829[i])=="number"&&typeof(obj[i])=="number"&&obj[i]!=_829[i]){obj[i]=_829[i];}}return obj;},invert:function(_82a){var M=m.normalize(_82a),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_82b,x,y){return{x:_82b.xx*x+_82b.xy*y+_82b.dx,y:_82b.yx*x+_82b.yy*y+_82b.dy};},multiplyPoint:function(_82c,a,b){var M=m.normalize(_82c);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiply:function(_82d){var M=m.normalize(_82d);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_82e,x,y){return m.multiply(m.translate(x,y),_82e,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_82f,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_82f),a,b);}return m._sandwich(m.rotate(_82f),a.x,a.y);},rotategAt:function(_830,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_830),a,b);}return m._sandwich(m.rotateg(_830),a.x,a.y);},skewXAt:function(_831,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_831),a,b);}return m._sandwich(m.skewX(_831),a.x,a.y);},skewXgAt:function(_832,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_832),a,b);}return m._sandwich(m.skewXg(_832),a.x,a.y);},skewYAt:function(_833,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_833),a,b);}return m._sandwich(m.skewY(_833),a.x,a.y);},skewYgAt:function(_834,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_834),a,b);}return m._sandwich(m.skewYg(_834),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"dojox/grid/Selection":function(){define("dojox/grid/Selection",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/_base/sniff"],function(_835,_836,lang,_837,has){return _835("dojox.grid.Selection",null,{constructor:function(_838){this.grid=_838;this.selected=[];this.setMode(_838.selectionMode);},mode:"extended",selected:null,updating:0,selectedIndex:-1,setMode:function(mode){if(this.selected.length){this.deselectAll();}if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){this.mode="extended";}else{this.mode=mode;}},onCanSelect:function(_839){return this.grid.onCanSelect(_839);},onCanDeselect:function(_83a){return this.grid.onCanDeselect(_83a);},onSelected:function(_83b){},onDeselected:function(_83c){},onChanging:function(){},onChanged:function(){},isSelected:function(_83d){if(this.mode=="none"){return false;}return this.selected[_83d];},getFirstSelected:function(){if(!this.selected.length||this.mode=="none"){return -1;}for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_83e){if(this.mode=="none"){return -1;}for(var i=_83e+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _83f=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_83f.push(i);}}return _83f;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},_beginUpdate:function(){if(this.updating===0){this.onChanging();}this.updating++;},_endUpdate:function(){this.updating--;if(this.updating===0){this.onChanged();}},select:function(_840){if(this.mode=="none"){return;}if(this.mode!="multiple"){this.deselectAll(_840);this.addToSelection(_840);}else{this.toggleSelect(_840);}},addToSelection:function(_841){if(this.mode=="none"){return;}if(lang.isArray(_841)){_836.forEach(_841,this.addToSelection,this);return;}_841=Number(_841);if(this.selected[_841]){this.selectedIndex=_841;}else{if(this.onCanSelect(_841)!==false){this.selectedIndex=_841;var _842=this.grid.getRowNode(_841);if(_842){_837.set(_842,"aria-selected","true");}this._beginUpdate();this.selected[_841]=true;this.onSelected(_841);this._endUpdate();}}},deselect:function(_843){if(this.mode=="none"){return;}if(lang.isArray(_843)){_836.forEach(_843,this.deselect,this);return;}_843=Number(_843);if(this.selectedIndex==_843){this.selectedIndex=-1;}if(this.selected[_843]){if(this.onCanDeselect(_843)===false){return;}var _844=this.grid.getRowNode(_843);if(_844){_837.set(_844,"aria-selected","false");}this._beginUpdate();delete this.selected[_843];this.onDeselected(_843);this._endUpdate();}},setSelected:function(_845,_846){this[(_846?"addToSelection":"deselect")](_845);},toggleSelect:function(_847){if(lang.isArray(_847)){_836.forEach(_847,this.toggleSelect,this);return;}this.setSelected(_847,!this.selected[_847]);},_range:function(_848,inTo,func){var s=(_848>=0?_848:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){func(i);}},selectRange:function(_849,inTo){this._range(_849,inTo,lang.hitch(this,"addToSelection"));},deselectRange:function(_84a,inTo){this._range(_84a,inTo,lang.hitch(this,"deselect"));},insert:function(_84b){this.selected.splice(_84b,0,false);if(this.selectedIndex>=_84b){this.selectedIndex++;}},remove:function(_84c){this.selected.splice(_84c,1);if(this.selectedIndex>=_84c){this.selectedIndex--;}},deselectAll:function(_84d){for(var i in this.selected){if((i!=_84d)&&(this.selected[i]===true)){this.deselect(i);}}},clickSelect:function(_84e,_84f,_850){var _851;if(this.mode=="none"){return;}this._beginUpdate();if(this.mode!="extended"){this.select(_84e);}else{var _852=this.selectedIndex;if(!_84f){this.deselectAll(_84e);}if(_850){if(has("ie")>8){_851=document.getSelection();_851.removeAllRanges();}this.selectRange(_852,_84e);}else{if(_84f){this.toggleSelect(_84e);}else{this.addToSelection(_84e);}}}this._endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);},clear:function(){this._beginUpdate();this.deselectAll();this._endUpdate();}});});},"url:dojox/form/resources/Uploader.html":'<span class="dijit dijitReset dijitInline"\r\n\t><span class="dijitReset dijitInline dijitButtonNode"\r\n\t\tdojoAttachEvent="ondijitclick:_onClick"\r\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdojoAttachPoint="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon" dojoAttachPoint="iconNode"></span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdojoAttachPoint="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><!--no need to have this for Uploader \r\n\t<input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen" tabIndex="-1"\r\n\t\tdojoAttachPoint="valueNode"\r\n/--></span>\r\n',"dojox/data/QueryReadStore":function(){define("dojox/data/QueryReadStore",["dojo","dojox","dojo/data/util/sorter","dojo/string"],function(dojo,_853){dojo.declare("dojox.data.QueryReadStore",null,{url:"",requestMethod:"get",_className:"dojox.data.QueryReadStore",_items:[],_lastServerQuery:null,_numRows:-1,lastRequestHash:null,doClientPaging:false,doClientSorting:false,_itemsByIdentity:null,_identifier:null,_features:{"dojo.data.api.Read":true,"dojo.data.api.Identity":true},_labelAttr:"label",constructor:function(_854){dojo.mixin(this,_854);},getValue:function(item,_855,_856){this._assertIsItem(item);if(!dojo.isString(_855)){throw new Error(this._className+".getValue(): Invalid attribute, string expected!");}if(!this.hasAttribute(item,_855)){if(_856){return _856;}}return item.i[_855];},getValues:function(item,_857){this._assertIsItem(item);var ret=[];if(this.hasAttribute(item,_857)){ret.push(item.i[_857]);}return ret;},getAttributes:function(item){this._assertIsItem(item);var ret=[];for(var i in item.i){ret.push(i);}return ret;},hasAttribute:function(item,_858){return this.isItem(item)&&typeof item.i[_858]!="undefined";},containsValue:function(item,_859,_85a){var _85b=this.getValues(item,_859);var len=_85b.length;for(var i=0;i<len;i++){if(_85b[i]==_85a){return true;}}return false;},isItem:function(_85c){if(_85c){return typeof _85c.r!="undefined"&&_85c.r==this;}return false;},isItemLoaded:function(_85d){return this.isItem(_85d);},loadItem:function(args){if(this.isItemLoaded(args.item)){return;}},fetch:function(_85e){_85e=_85e||{};if(!_85e.store){_85e.store=this;}var self=this;var _85f=function(_860,_861){if(_861.onError){var _862=_861.scope||dojo.global;_861.onError.call(_862,_860,_861);}};var _863=function(_864,_865,_866){var _867=_865.abort||null;var _868=false;var _869=_865.start?_865.start:0;if(self.doClientPaging==false){_869=0;}var _86a=_865.count?(_869+_865.count):_864.length;_865.abort=function(){_868=true;if(_867){_867.call(_865);}};var _86b=_865.scope||dojo.global;if(!_865.store){_865.store=self;}if(_865.onBegin){_865.onBegin.call(_86b,_866,_865);}if(_865.sort&&self.doClientSorting){_864.sort(dojo.data.util.sorter.createSortFunction(_865.sort,self));}if(_865.onItem){for(var i=_869;(i<_864.length)&&(i<_86a);++i){var item=_864[i];if(!_868){_865.onItem.call(_86b,item,_865);}}}if(_865.onComplete&&!_868){var _86c=null;if(!_865.onItem){_86c=_864.slice(_869,_86a);}_865.onComplete.call(_86b,_86c,_865);}};this._fetchItems(_85e,_863,_85f);return _85e;},getFeatures:function(){return this._features;},close:function(_86d){},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return[this._labelAttr];}return null;},_xhrFetchHandler:function(data,_86e,_86f,_870){data=this._filterResponse(data);if(data.label){this._labelAttr=data.label;}var _871=data.numRows||-1;this._items=[];dojo.forEach(data.items,function(e){this._items.push({i:e,r:this});},this);var _872=data.identifier;this._itemsByIdentity={};if(_872){this._identifier=_872;var i;for(i=0;i<this._items.length;++i){var item=this._items[i].i;var _873=item[_872];if(!this._itemsByIdentity[_873]){this._itemsByIdentity[_873]=item;}else{throw new Error(this._className+":  The json data as specified by: ["+this.url+"] is malformed.  Items within the list have identifier: ["+_872+"].  Value collided: ["+_873+"]");}}}else{this._identifier=Number;for(i=0;i<this._items.length;++i){this._items[i].n=i;}}_871=this._numRows=(_871===-1)?this._items.length:_871;_86f(this._items,_86e,_871);this._numRows=_871;},_fetchItems:function(_874,_875,_876){var _877=_874.serverQuery||_874.query||{};if(!this.doClientPaging){_877.start=_874.start||0;if(_874.count){_877.count=_874.count;}}if(!this.doClientSorting&&_874.sort){var _878=[];dojo.forEach(_874.sort,function(sort){if(sort&&sort.attribute){_878.push((sort.descending?"-":"")+sort.attribute);}});_877.sort=_878.join(",");}if(this.doClientPaging&&this._lastServerQuery!==null&&dojo.toJson(_877)==dojo.toJson(this._lastServerQuery)){this._numRows=(this._numRows===-1)?this._items.length:this._numRows;_875(this._items,_874,this._numRows);}else{var _879=this.requestMethod.toLowerCase()=="post"?dojo.xhrPost:dojo.xhrGet;var _87a=_879({url:this.url,handleAs:"json-comment-optional",content:_877,failOk:true});_874.abort=function(){_87a.cancel();};_87a.addCallback(dojo.hitch(this,function(data){this._xhrFetchHandler(data,_874,_875,_876);}));_87a.addErrback(function(_87b){_876(_87b,_874);});this.lastRequestHash=new Date().getTime()+"-"+String(Math.random()).substring(2);this._lastServerQuery=dojo.mixin({},_877);}},_filterResponse:function(data){return data;},_assertIsItem:function(item){if(!this.isItem(item)){throw new Error(this._className+": Invalid item argument.");}},_assertIsAttribute:function(_87c){if(typeof _87c!=="string"){throw new Error(this._className+": Invalid attribute argument ('"+_87c+"').");}},fetchItemByIdentity:function(_87d){if(this._itemsByIdentity){var item=this._itemsByIdentity[_87d.identity];if(!(item===undefined)){if(_87d.onItem){var _87e=_87d.scope?_87d.scope:dojo.global;_87d.onItem.call(_87e,{i:item,r:this});}return;}}var _87f=function(_880,_881){var _882=_87d.scope?_87d.scope:dojo.global;if(_87d.onError){_87d.onError.call(_882,_880);}};var _883=function(_884,_885){var _886=_87d.scope?_87d.scope:dojo.global;try{var item=null;if(_884&&_884.length==1){item=_884[0];}if(_87d.onItem){_87d.onItem.call(_886,item);}}catch(error){if(_87d.onError){_87d.onError.call(_886,error);}}};var _887={serverQuery:{id:_87d.identity}};this._fetchItems(_887,_883,_87f);},getIdentity:function(item){var _888=null;if(this._identifier===Number){_888=item.n;}else{_888=item.i[this._identifier];}return _888;},getIdentityAttributes:function(item){return[this._identifier];}});return _853.data.QueryReadStore;});},"dojox/charting/themes/PlotKit/base":function(){define("dojox/charting/themes/PlotKit/base",["dojo/_base/kernel","dojo/_base/lang","../../Theme","../common"],function(dojo,lang,_889,_88a){var pk=lang.getObject("PlotKit",true,_88a);pk.base=new _889({chart:{stroke:null,fill:"yellow"},plotarea:{stroke:null,fill:"yellow"},axis:{stroke:{color:"#fff",width:1},line:{color:"#fff",width:0.5},majorTick:{color:"#fff",width:0.5,length:6},minorTick:{color:"#fff",width:0.5,length:3},tick:{font:"normal normal normal 7pt Helvetica,Arial,sans-serif",fontColor:"#999"}},series:{stroke:{width:2.5,color:"#fff"},fill:"#666",font:"normal normal normal 7.5pt Helvetica,Arial,sans-serif",fontColor:"#666"},marker:{stroke:{width:2},fill:"#333",font:"normal normal normal 7pt Helvetica,Arial,sans-serif",fontColor:"#666"},colors:["red","green","blue"]});pk.base.next=function(_88b,_88c,_88d){var _88e=_889.prototype.next.apply(this,arguments);if(_88b=="line"){_88e.marker.outline={width:2,color:"#fff"};_88e.series.stroke.width=3.5;_88e.marker.stroke.width=2;}else{if(_88b=="candlestick"){_88e.series.stroke.width=1;}else{_88e.series.stroke.color="#fff";}}return _88e;};return pk;});},"dojox/color/Palette":function(){define("dojox/color/Palette",["dojo/_base/kernel","../main","dojo/_base/lang","dojo/_base/array","./_base"],function(dojo,_88f,lang,arr,dxc){dxc.Palette=function(base){this.colors=[];if(base instanceof dxc.Palette){this.colors=base.colors.slice(0);}else{if(base instanceof dxc.Color){this.colors=[null,null,base,null,null];}else{if(lang.isArray(base)){this.colors=arr.map(base.slice(0),function(item){if(lang.isString(item)){return new dxc.Color(item);}return item;});}else{if(lang.isString(base)){this.colors=[null,null,new dxc.Color(base),null,null];}}}}};function _890(p,_891,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var r=(_891=="dr")?item.r+val:item.r,g=(_891=="dg")?item.g+val:item.g,b=(_891=="db")?item.b+val:item.b,a=(_891=="da")?item.a+val:item.a;ret.colors.push(new dxc.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});return ret;}function tCMY(p,_892,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toCmy(),c=(_892=="dc")?o.c+val:o.c,m=(_892=="dm")?o.m+val:o.m,y=(_892=="dy")?o.y+val:o.y;ret.colors.push(dxc.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return ret;}function _893(p,_894,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toCmyk(),c=(_894=="dc")?o.c+val:o.c,m=(_894=="dm")?o.m+val:o.m,y=(_894=="dy")?o.y+val:o.y,k=(_894=="dk")?o.b+val:o.b;ret.colors.push(dxc.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return ret;}function tHSL(p,_895,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toHsl(),h=(_895=="dh")?o.h+val:o.h,s=(_895=="ds")?o.s+val:o.s,l=(_895=="dl")?o.l+val:o.l;ret.colors.push(dxc.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;}function tHSV(p,_896,val){var ret=new dxc.Palette();ret.colors=[];arr.forEach(p.colors,function(item){var o=item.toHsv(),h=(_896=="dh")?o.h+val:o.h,s=(_896=="ds")?o.s+val:o.s,v=(_896=="dv")?o.v+val:o.v;ret.colors.push(dxc.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;}function _897(val,low,high){return high-((high-val)*((high-low)/high));}lang.extend(dxc.Palette,{transform:function(_898){var fn=_890;if(_898.use){var use=_898.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=_893;}else{fn=tCMY;}}}}else{if("dc" in _898||"dm" in _898||"dy" in _898){if("dk" in _898){fn=_893;}else{fn=tCMY;}}else{if("dh" in _898||"ds" in _898){if("dv" in _898){fn=tHSV;}else{fn=tHSL;}}}}var _899=this;for(var p in _898){if(p=="use"){continue;}_899=fn(_899,p,_898[p]);}return _899;},clone:function(){return new dxc.Palette(this);}});lang.mixin(dxc.Palette,{generators:{analogous:function(args){var high=args.high||60,low=args.low||18,base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(high/2)+360)%360,(hsv.h-high+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new dxc.Palette(arr.map(h,function(hue,i){return dxc.fromHsv(hue,s[i],v[i]);}));},monochromatic:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=_897(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v3),base,dxc.fromHsv(hsv.h,s1,v3),dxc.fromHsv(hsv.h,s2,v2)]);},triadic:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,hsv.v),dxc.fromHsv(hsv.h,s2,v2),base,dxc.fromHsv(h2,s2,v1),dxc.fromHsv(h2,s3,v3)]);},complementary:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=_897(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(hsv.h,s1,v1),dxc.fromHsv(hsv.h,s2,v2),base,dxc.fromHsv(h1,s3,v2),dxc.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,_89a=args.da||30,hsv=base.toHsv();var _89b=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_89b-_89a+360)%360,h2=(_89b+_89a)%360,s1=Math.max(hsv.s-10,0),s2=_897(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),base,dxc.fromHsv(h2,s3,v2),dxc.fromHsv(h2,hsv.s,hsv.v)]);},compound:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new dxc.Palette([dxc.fromHsv(h1,s1,v1),dxc.fromHsv(h1,s2,v2),base,dxc.fromHsv(h2,s3,v3),dxc.fromHsv(h3,s2,v2)]);},shades:function(args){var base=lang.isString(args.base)?new dxc.Color(args.base):args.base,hsv=base.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new dxc.Palette([new dxc.fromHsv(hsv.h,s,v1),new dxc.fromHsv(hsv.h,s,v2),base,new dxc.fromHsv(hsv.h,s,v3),new dxc.fromHsv(hsv.h,s,v4)]);}},generate:function(base,type){if(lang.isFunction(type)){return type({base:base});}else{if(dxc.Palette.generators[type]){return dxc.Palette.generators[type]({base:base});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+type+"') does not exist.");}});return dxc.Palette;});},"dojox/grid/enhanced/nls/Pagination":function(){define("dojox/grid/enhanced/nls/Pagination",{root:({"descTemplate":"${2} - ${3} of ${1} ${0}","firstTip":"First Page","lastTip":"Last Page","nextTip":"Next Page","prevTip":"Previous Page","itemTitle":"items","singularItemTitle":"item","pageStepLabelTemplate":"Page ${0}","pageSizeLabelTemplate":"${0} items per page","allItemsLabelTemplate":"All items","gotoButtonTitle":"Go to a specific page","dialogTitle":"Go to Page","dialogIndication":"Specify the page number","pageCountIndication":" (${0} pages)","dialogConfirm":"Go","dialogCancel":"Cancel","all":"All"}),"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"es":true,"fi":true,"fr":true,"he":true,"hr":true,"hu":true,"hr":true,"it":true,"ja":true,"kk":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-tw":true});},"dojox/charting/plot2d/Grid":function(){define("dojox/charting/plot2d/Grid",["dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","../Element","./common","dojox/lang/utils","dojox/gfx/fx"],function(lang,_89c,hub,arr,_89d,dc,du,fx){return _89c("dojox.charting.plot2d.Grid",_89d,{defaultParams:{hAxis:"x",vAxis:"y",hMajorLines:true,hMinorLines:false,vMajorLines:true,vMinorLines:false,hStripes:"none",vStripes:"none",animate:null,enableCache:false},optionalParams:{},constructor:function(_89e,_89f){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_89f);this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.dirty=true;this.animate=this.opt.animate;this.zoom=null,this.zoomQueue=[];this.lastWindow={vscale:1,hscale:1,xoffset:0,yoffset:0};if(this.opt.enableCache){this._lineFreePool=[];this._lineUsePool=[];}},clear:function(){this._hAxis=null;this._vAxis=null;this.dirty=true;return this;},setAxis:function(axis){if(axis){this[axis.vertical?"_vAxis":"_hAxis"]=axis;}return this;},addSeries:function(run){return this;},getSeriesStats:function(){return lang.delegate(dc.defaultStats);},initializeScalers:function(){return this;},isDirty:function(){return this.dirty||this._hAxis&&this._hAxis.dirty||this._vAxis&&this._vAxis.dirty;},performZoom:function(dim,_8a0){var vs=this._vAxis.scale||1,hs=this._hAxis.scale||1,_8a1=dim.height-_8a0.b,_8a2=this._hAxis.getScaler().bounds,_8a3=(_8a2.from-_8a2.lower)*_8a2.scale,_8a4=this._vAxis.getScaler().bounds,_8a5=(_8a4.from-_8a4.lower)*_8a4.scale,_8a6=vs/this.lastWindow.vscale,_8a7=hs/this.lastWindow.hscale,_8a8=(this.lastWindow.xoffset-_8a3)/((this.lastWindow.hscale==1)?hs:this.lastWindow.hscale),_8a9=(_8a5-this.lastWindow.yoffset)/((this.lastWindow.vscale==1)?vs:this.lastWindow.vscale),_8aa=this.group,anim=fx.animateTransform(lang.delegate({shape:_8aa,duration:1200,transform:[{name:"translate",start:[0,0],end:[_8a0.l*(1-_8a7),_8a1*(1-_8a6)]},{name:"scale",start:[1,1],end:[_8a7,_8a6]},{name:"original"},{name:"translate",start:[0,0],end:[_8a8,_8a9]}]},this.zoom));lang.mixin(this.lastWindow,{vscale:vs,hscale:hs,xoffset:_8a3,yoffset:_8a5});this.zoomQueue.push(anim);hub.connect(anim,"onEnd",this,function(){this.zoom=null;this.zoomQueue.shift();if(this.zoomQueue.length>0){this.zoomQueue[0].play();}});if(this.zoomQueue.length==1){this.zoomQueue[0].play();}return this;},getRequiredColors:function(){return 0;},cleanGroup:function(){this.inherited(arguments);if(this.opt.enableCache){this._lineFreePool=this._lineFreePool.concat(this._lineUsePool);this._lineUsePool=[];}},createLine:function(_8ab,_8ac){var line;if(this.opt.enableCache&&this._lineFreePool.length>0){line=this._lineFreePool.pop();line.setShape(_8ac);_8ab.add(line);}else{line=_8ab.createLine(_8ac);}if(this.opt.enableCache){this._lineUsePool.push(line);}return line;},render:function(dim,_8ad){if(this.zoom){return this.performZoom(dim,_8ad);}this.dirty=this.isDirty();if(!this.dirty){return this;}this.cleanGroup();var s=this.group,ta=this.chart.theme.axis;try{var _8ae=this._vAxis.getScaler(),vt=_8ae.scaler.getTransformerFromModel(_8ae),_8af=this._vAxis.getTicks();if(_8af!=null){if(this.opt.hMinorLines){arr.forEach(_8af.minor,function(tick){var y=dim.height-_8ad.b-vt(tick.value);var _8b0=this.createLine(s,{x1:_8ad.l,y1:y,x2:dim.width-_8ad.r,y2:y}).setStroke(ta.minorTick);if(this.animate){this._animateGrid(_8b0,"h",_8ad.l,_8ad.r+_8ad.l-dim.width);}},this);}if(this.opt.hMajorLines){arr.forEach(_8af.major,function(tick){var y=dim.height-_8ad.b-vt(tick.value);var _8b1=this.createLine(s,{x1:_8ad.l,y1:y,x2:dim.width-_8ad.r,y2:y}).setStroke(ta.majorTick);if(this.animate){this._animateGrid(_8b1,"h",_8ad.l,_8ad.r+_8ad.l-dim.width);}},this);}}}catch(e){}try{var _8b2=this._hAxis.getScaler(),ht=_8b2.scaler.getTransformerFromModel(_8b2),_8af=this._hAxis.getTicks();if(this!=null){if(_8af&&this.opt.vMinorLines){arr.forEach(_8af.minor,function(tick){var x=_8ad.l+ht(tick.value);var _8b3=this.createLine(s,{x1:x,y1:_8ad.t,x2:x,y2:dim.height-_8ad.b}).setStroke(ta.minorTick);if(this.animate){this._animateGrid(_8b3,"v",dim.height-_8ad.b,dim.height-_8ad.b-_8ad.t);}},this);}if(_8af&&this.opt.vMajorLines){arr.forEach(_8af.major,function(tick){var x=_8ad.l+ht(tick.value);var _8b4=this.createLine(s,{x1:x,y1:_8ad.t,x2:x,y2:dim.height-_8ad.b}).setStroke(ta.majorTick);if(this.animate){this._animateGrid(_8b4,"v",dim.height-_8ad.b,dim.height-_8ad.b-_8ad.t);}},this);}}}catch(e){}this.dirty=false;return this;},_animateGrid:function(_8b5,type,_8b6,size){var _8b7=type=="h"?[_8b6,0]:[0,_8b6];var _8b8=type=="h"?[1/size,1]:[1,1/size];fx.animateTransform(lang.delegate({shape:_8b5,duration:1200,transform:[{name:"translate",start:_8b7,end:[0,0]},{name:"scale",start:_8b8,end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/lang/utils":function(){define("dojox/lang/utils",["..","dojo/_base/lang"],function(_8b9,lang){var du=lang.getObject("lang.utils",true,_8b9);var _8ba={},opts=Object.prototype.toString;var _8bb=function(o){if(o){switch(opts.call(o)){case"[object Array]":return o.slice(0);case"[object Object]":return lang.delegate(o);}}return o;};lang.mixin(du,{coerceType:function(_8bc,_8bd){switch(typeof _8bc){case"number":return Number(eval("("+_8bd+")"));case"string":return String(_8bd);case"boolean":return Boolean(eval("("+_8bd+")"));}return eval("("+_8bd+")");},updateWithObject:function(_8be,_8bf,conv){if(!_8bf){return _8be;}for(var x in _8be){if(x in _8bf&&!(x in _8ba)){var t=_8be[x];if(t&&typeof t=="object"){du.updateWithObject(t,_8bf[x],conv);}else{_8be[x]=conv?du.coerceType(t,_8bf[x]):_8bb(_8bf[x]);}}}return _8be;},updateWithPattern:function(_8c0,_8c1,_8c2,conv){if(!_8c1||!_8c2){return _8c0;}for(var x in _8c2){if(x in _8c1&&!(x in _8ba)){_8c0[x]=conv?du.coerceType(_8c2[x],_8c1[x]):_8bb(_8c1[x]);}}return _8c0;},merge:function(_8c3,_8c4){if(_8c4){var _8c5=opts.call(_8c3),_8c6=opts.call(_8c4),t,i,l,m;switch(_8c6){case"[object Array]":if(_8c6==_8c5){t=new Array(Math.max(_8c3.length,_8c4.length));for(i=0,l=t.length;i<l;++i){t[i]=du.merge(_8c3[i],_8c4[i]);}return t;}return _8c4.slice(0);case"[object Object]":if(_8c6==_8c5&&_8c3){t=lang.delegate(_8c3);for(i in _8c4){if(i in _8c3){l=_8c3[i];m=_8c4[i];if(m!==l){t[i]=du.merge(l,m);}}else{t[i]=lang.clone(_8c4[i]);}}return t;}return lang.clone(_8c4);}}return _8c4;}});return du;});},"dojox/charting/plot2d/Markers":function(){define("dojox/charting/plot2d/Markers",["dojo/_base/declare","./Default"],function(_8c7,_8c8){return _8c7("dojox.charting.plot2d.Markers",_8c8,{constructor:function(){this.opt.markers=true;}});});},"dojox/charting/plot2d/Columns":function(){define("dojox/charting/plot2d/Columns",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Base","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/utils","dojox/gfx/fx"],function(lang,arr,_8c9,Base,dc,df,dfr,du,fx){var _8ca=dfr.lambda("item.purgeGroup()");return _8c9("dojox.charting.plot2d.Columns",Base,{defaultParams:{hAxis:"x",vAxis:"y",gap:0,animate:null,enableCache:false},optionalParams:{minBarSize:1,maxBarSize:1,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:""},constructor:function(_8cb,_8cc){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_8cc);du.updateWithPattern(this.opt,_8cc,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},getSeriesStats:function(){var _8cd=dc.collectSimpleStats(this.series);_8cd.hmin-=0.5;_8cd.hmax+=0.5;return _8cd;},createRect:function(run,_8ce,_8cf){var rect;if(this.opt.enableCache&&run._rectFreePool.length>0){rect=run._rectFreePool.pop();rect.setShape(_8cf);_8ce.add(rect);}else{rect=_8ce.createRect(_8cf);}if(this.opt.enableCache){run._rectUsePool.push(rect);}return rect;},render:function(dim,_8d0){if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_8d0);}var t=this.getSeriesStats();this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_8ca);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_8d1,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_8d2=Math.max(0,this._vScaler.bounds.lower),_8d3=vt(_8d2),min=Math.max(0,Math.floor(this._hScaler.bounds.from-1)),max=Math.ceil(this._hScaler.bounds.to),_8d4=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_8d1=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(this.opt.enableCache){run._rectFreePool=(run._rectFreePool?run._rectFreePool:[]).concat(run._rectUsePool?run._rectUsePool:[]);run._rectUsePool=[];}var _8d5=t.next("column",[this.opt,run]),s=run.group,_8d6=new Array(run.data.length);var l=Math.min(run.data.length,max);for(var j=min;j<l;++j){var _8d7=run.data[j];if(_8d7!==null){var v=typeof _8d7=="number"?_8d7:_8d7.y,vv=vt(v),_8d8=vv-_8d3,h=Math.abs(_8d8),_8d9=typeof _8d7!="number"?t.addMixin(_8d5,"column",_8d7,true):t.post(_8d5,"column");if(_8d1>=1&&h>=0){var rect={x:_8d0.l+ht(j+0.5)+gap,y:dim.height-_8d0.b-(v>_8d2?vv:_8d3),width:_8d1,height:h};var _8da=this._plotFill(_8d9.series.fill,dim,_8d0);_8da=this._shapeFill(_8da,rect);var _8db=this.createRect(run,s,rect).setFill(_8da).setStroke(_8d9.series.stroke);run.dyn.fill=_8db.getFill();run.dyn.stroke=_8db.getStroke();if(_8d4){var o={element:"column",index:j,run:run,shape:_8db,x:j+0.5,y:v};this._connectEvents(o);_8d6[j]=o;}if(this.animate){this._animateColumn(_8db,dim.height-_8d0.b-_8d3,h);}}}}this._eventSeries[run.name]=_8d6;run.dirty=false;}this.dirty=false;return this;},_animateColumn:function(_8dc,_8dd,_8de){fx.animateTransform(lang.delegate({shape:_8dc,duration:1200,transform:[{name:"translate",start:[0,_8dd-(_8dd/_8de)],end:[0,0]},{name:"scale",start:[1,1/_8de],end:[1,1]},{name:"original"}]},this.animate)).play();}});});},"dojox/charting/action2d/Tooltip":function(){define("dojox/charting/action2d/Tooltip",["dojo/_base/kernel","dijit/Tooltip","dojo/_base/lang","dojo/_base/html","dojo/_base/declare","./PlotAction","dojox/gfx/matrix","dojox/lang/functional","dojox/lang/functional/scan","dojox/lang/functional/fold"],function(dojo,_8df,lang,html,_8e0,_8e1,m,df,dfs,dff){var _8e2=function(o){var t=o.run&&o.run.data&&o.run.data[o.index];if(t&&typeof t!="number"&&(t.tooltip||t.text)){return t.tooltip||t.text;}if(o.element=="candlestick"){return'<table cellpadding="1" cellspacing="0" border="0" style="font-size:0.9em;">'+'<tr><td>Open:</td><td align="right"><strong>'+o.data.open+"</strong></td></tr>"+'<tr><td>High:</td><td align="right"><strong>'+o.data.high+"</strong></td></tr>"+'<tr><td>Low:</td><td align="right"><strong>'+o.data.low+"</strong></td></tr>"+'<tr><td>Close:</td><td align="right"><strong>'+o.data.close+"</strong></td></tr>"+(o.data.mid!==undefined?'<tr><td>Mid:</td><td align="right"><strong>'+o.data.mid+"</strong></td></tr>":"")+"</table>";}return o.element=="bar"?o.x:o.y;};var pi4=Math.PI/4,pi2=Math.PI/2;return _8e0("dojox.charting.action2d.Tooltip",_8e1,{defaultParams:{text:_8e2},optionalParams:{},constructor:function(_8e3,plot,_8e4){this.text=_8e4&&_8e4.text?_8e4.text:_8e2;this.connect();},process:function(o){if(o.type==="onplotreset"||o.type==="onmouseout"){_8df.hide(this.aroundRect);this.aroundRect=null;if(o.type==="onplotreset"){delete this.angles;}return;}if(!o.shape||o.type!=="onmouseover"){return;}var _8e5={type:"rect"},_8e6=["after","before"];switch(o.element){case"marker":_8e5.x=o.cx;_8e5.y=o.cy;_8e5.w=_8e5.h=1;break;case"circle":_8e5.x=o.cx-o.cr;_8e5.y=o.cy-o.cr;_8e5.w=_8e5.h=2*o.cr;break;case"column":_8e6=["above","below"];case"bar":_8e5=lang.clone(o.shape.getShape());_8e5.w=_8e5.width;_8e5.h=_8e5.height;break;case"candlestick":_8e5.x=o.x;_8e5.y=o.y;_8e5.w=o.width;_8e5.h=o.height;break;default:if(!this.angles){if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",0),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var _8e7=m._degToRad(o.plot.opt.startAngle),_8e8=(this.angles[o.index]+this.angles[o.index+1])/2+_8e7;_8e5.x=o.cx+o.cr*Math.cos(_8e8);_8e5.y=o.cy+o.cr*Math.sin(_8e8);_8e5.w=_8e5.h=1;if(_8e8<pi4){}else{if(_8e8<pi2+pi4){_8e6=["below","above"];}else{if(_8e8<Math.PI+pi4){_8e6=["before","after"];}else{if(_8e8<2*Math.PI-pi4){_8e6=["above","below"];}}}}break;}var lt=this.chart.getCoords();_8e5.x+=lt.x;_8e5.y+=lt.y;_8e5.x=Math.round(_8e5.x);_8e5.y=Math.round(_8e5.y);_8e5.w=Math.ceil(_8e5.w);_8e5.h=Math.ceil(_8e5.h);this.aroundRect=_8e5;var _8e9=this.text(o);if(this.chart.getTextDir){var _8ea=(html.style(this.chart.node,"direction")=="rtl");var _8eb=(this.chart.getTextDir(_8e9)=="rtl");}if(_8e9){if(_8eb&&!_8ea){_8df.show("<span dir = 'rtl'>"+_8e9+"</span>",this.aroundRect,_8e6);}else{if(!_8eb&&_8ea){_8df.show("<span dir = 'ltr'>"+_8e9+"</span>",this.aroundRect,_8e6);}else{_8df.show(_8e9,this.aroundRect,_8e6);}}}}});});},"dojox/grid/cells/dijit":function(){define("dojox/grid/cells/dijit",["dojo/_base/kernel","../../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/connect","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/data/ItemFileReadStore","dijit/form/DateTextBox","dijit/form/TimeTextBox","dijit/form/ComboBox","dijit/form/CheckBox","dijit/form/TextBox","dijit/form/NumberSpinner","dijit/form/NumberTextBox","dijit/form/CurrencyTextBox","dijit/form/HorizontalSlider","dijit/Editor","../util","./_base"],function(dojo,_8ec,_8ed,_8ee,lang,json,_8ef,has,dom,_8f0,_8f1,_8f2,_8f3,_8f4,_8f5,_8f6,_8f7,_8f8,_8f9,_8fa,_8fb,_8fc,_8fd,util,_8fe){var _8ff=_8ed("dojox.grid.cells._Widget",_8fe,{widgetClass:_8f8,constructor:function(_900){this.widget=null;if(typeof this.widgetClass=="string"){dojo.deprecated("Passing a string to widgetClass is deprecated","pass the widget class object instead","2.0");this.widgetClass=lang.getObject(this.widgetClass);}},formatEditing:function(_901,_902){this.needFormatNode(_901,_902);return"<div></div>";},getValue:function(_903){return this.widget.get("value");},_unescapeHTML:function(_904){return(_904&&_904.replace&&this.grid.escapeHTMLInData)?_904.replace(/&lt;/g,"<").replace(/&amp;/g,"&"):_904;},setValue:function(_905,_906){if(this.widget&&this.widget.set){_906=this._unescapeHTML(_906);if(this.widget.onLoadDeferred){var self=this;this.widget.onLoadDeferred.addCallback(function(){self.widget.set("value",_906===null?"":_906);});}else{this.widget.set("value",_906);}}else{this.inherited(arguments);}},getWidgetProps:function(_907){return lang.mixin({dir:this.dir,lang:this.lang},this.widgetProps||{},{constraints:lang.mixin({},this.constraint)||{},value:this._unescapeHTML(_907)});},createWidget:function(_908,_909,_90a){return new this.widgetClass(this.getWidgetProps(_909),_908);},attachWidget:function(_90b,_90c,_90d){_90b.appendChild(this.widget.domNode);this.setValue(_90d,_90c);},formatNode:function(_90e,_90f,_910){if(!this.widgetClass){return _90f;}if(!this.widget){this.widget=this.createWidget.apply(this,arguments);}else{this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_910);this.grid.scroller.rowHeightChanged(_910,true);this.focus();return undefined;},sizeWidget:function(_911,_912,_913){var p=this.getNode(_913),box=dojo.contentBox(p);dojo.marginBox(this.widget.domNode,{w:box.w});},focus:function(_914,_915){if(this.widget){setTimeout(lang.hitch(this.widget,function(){util.fire(this,"focus");}),0);}},_finish:function(_916){this.inherited(arguments);util.removeNode(this.widget.domNode);if(has("ie")){dom.setSelectable(this.widget.domNode,true);}}});_8ff.markupFactory=function(node,cell){_8fe.markupFactory(node,cell);var _917=lang.trim(_8f0.get(node,"widgetProps")||"");var _918=lang.trim(_8f0.get(node,"constraint")||"");var _919=lang.trim(_8f0.get(node,"widgetClass")||"");if(_917){cell.widgetProps=json.fromJson(_917);}if(_918){cell.constraint=json.fromJson(_918);}if(_919){cell.widgetClass=lang.getObject(_919);}};var _8f6=_8ed("dojox.grid.cells.ComboBox",_8ff,{widgetClass:_8f6,getWidgetProps:function(_91a){var _91b=[];_8ee.forEach(this.options,function(o){_91b.push({name:o,value:o});});var _91c=new _8f3({data:{identifier:"name",items:_91b}});return lang.mixin({},this.widgetProps||{},{value:_91a,store:_91c});},getValue:function(){var e=this.widget;e.set("displayedValue",e.get("displayedValue"));return e.get("value");}});_8f6.markupFactory=function(node,cell){_8ff.markupFactory(node,cell);var _91d=lang.trim(_8f0.get(node,"options")||"");if(_91d){var o=_91d.split(",");if(o[0]!=_91d){cell.options=o;}}};var _8f4=_8ed("dojox.grid.cells.DateTextBox",_8ff,{widgetClass:_8f4,setValue:function(_91e,_91f){if(this.widget){this.widget.set("value",new Date(_91f));}else{this.inherited(arguments);}},getWidgetProps:function(_920){return lang.mixin(this.inherited(arguments),{value:new Date(_920)});}});_8f4.markupFactory=function(node,cell){_8ff.markupFactory(node,cell);};var _8f7=_8ed("dojox.grid.cells.CheckBox",_8ff,{widgetClass:_8f7,getValue:function(){return this.widget.checked;},setValue:function(_921,_922){if(this.widget&&this.widget.attributeMap.checked){this.widget.set("checked",_922);}else{this.inherited(arguments);}},sizeWidget:function(_923,_924,_925){return;}});_8f7.markupFactory=function(node,cell){_8ff.markupFactory(node,cell);};var _8fd=_8ed("dojox.grid.cells.Editor",_8ff,{widgetClass:_8fd,getWidgetProps:function(_926){return lang.mixin({},this.widgetProps||{},{height:this.widgetHeight||"100px"});},createWidget:function(_927,_928,_929){var _92a=new this.widgetClass(this.getWidgetProps(_928),_927);_92a.onLoadDeferred.then(lang.hitch(this,"populateEditor"));return _92a;},formatNode:function(_92b,_92c,_92d){this.content=_92c;this.inherited(arguments);if(has("mozilla")){var e=this.widget;e.open();if(this.widgetToolbar){_8f1.place(e.toolbar.domNode,e.editingArea,"before");}}},populateEditor:function(){this.widget.set("value",this.content);this.widget.placeCursorAtEnd();}});_8fd.markupFactory=function(node,cell){_8ff.markupFactory(node,cell);var h=lang.trim(_8f0.get(node,"widgetHeight")||"");if(h){if((h!="auto")&&(h.substr(-2)!="em")){h=parseInt(h,10)+"px";}cell.widgetHeight=h;}};return _8ec.grid.cells.dijit;});},"dojox/grid/enhanced/plugins/_StoreLayer":function(){define("dojox/grid/enhanced/plugins/_StoreLayer",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/xhr"],function(_92e,_92f,lang,xhr){var ns=lang.getObject("grid.enhanced.plugins",true,dojox);var _930=function(tags){var _931=["reorder","sizeChange","normal","presentation"];var idx=_931.length;for(var i=tags.length-1;i>=0;--i){var p=_92f.indexOf(_931,tags[i]);if(p>=0&&p<=idx){idx=p;}}if(idx<_931.length-1){return _931.slice(0,idx+1);}else{return _931;}},_932=function(_933){var i,_934=this._layers,len=_934.length;if(_933){for(i=len-1;i>=0;--i){if(_934[i].name()==_933){_934[i]._unwrap(_934[i+1]);break;}}_934.splice(i,1);}else{for(i=len-1;i>=0;--i){_934[i]._unwrap();}}if(!_934.length){delete this._layers;delete this.layer;delete this.unwrap;delete this.forEachLayer;}return this;},_935=function(_936){var i,_937=this._layers;if(typeof _936=="undefined"){return _937.length;}if(typeof _936=="number"){return _937[_936];}for(i=_937.length-1;i>=0;--i){if(_937[i].name()==_936){return _937[i];}}return null;},_938=function(_939,_93a){var len=this._layers.length,_93b,end,dir;if(_93a){_93b=0;end=len;dir=1;}else{_93b=len-1;end=-1;dir=-1;}for(var i=_93b;i!=end;i+=dir){if(_939(this._layers[i],i)===false){return i;}}return end;};ns.wrap=function(_93c,_93d,_93e,_93f){if(!_93c._layers){_93c._layers=[];_93c.layer=lang.hitch(_93c,_935);_93c.unwrap=lang.hitch(_93c,_932);_93c.forEachLayer=lang.hitch(_93c,_938);}var _940=_930(_93e.tags);if(!_92f.some(_93c._layers,function(lyr,i){if(_92f.some(lyr.tags,function(tag){return _92f.indexOf(_940,tag)>=0;})){return false;}else{_93c._layers.splice(i,0,_93e);_93e._wrap(_93c,_93d,_93f,lyr);return true;}})){_93c._layers.push(_93e);_93e._wrap(_93c,_93d,_93f);}return _93c;};var _941=_92e("dojox.grid.enhanced.plugins._StoreLayer",null,{tags:["normal"],layerFuncName:"_fetch",constructor:function(){this._store=null;this._originFetch=null;this.__enabled=true;},initialize:function(_942){},uninitialize:function(_943){},invalidate:function(){},_wrap:function(_944,_945,_946,_947){this._store=_944;this._funcName=_945;var _948=lang.hitch(this,function(){return(this.enabled()?this[_946||this.layerFuncName]:this.originFetch).apply(this,arguments);});if(_947){this._originFetch=_947._originFetch;_947._originFetch=_948;}else{this._originFetch=_944[_945]||function(){};_944[_945]=_948;}this.initialize(_944);},_unwrap:function(_949){this.uninitialize(this._store);if(_949){_949._originFetch=this._originFetch;}else{this._store[this._funcName]=this._originFetch;}this._originFetch=null;this._store=null;},enabled:function(_94a){if(typeof _94a!="undefined"){this.__enabled=!!_94a;}return this.__enabled;},name:function(){if(!this.__name){var m=this.declaredClass.match(/(?:\.(?:_*)([^\.]+)Layer$)|(?:\.([^\.]+)$)/i);this.__name=m?(m[1]||m[2]).toLowerCase():this.declaredClass;}return this.__name;},originFetch:function(){return(lang.hitch(this._store,this._originFetch)).apply(this,arguments);}});var _94b=_92e("dojox.grid.enhanced.plugins._ServerSideLayer",_941,{constructor:function(args){args=args||{};this._url=args.url||"";this._isStateful=!!args.isStateful;this._onUserCommandLoad=args.onCommandLoad||function(){};this.__cmds={cmdlayer:this.name(),enable:true};this.useCommands(this._isStateful);},enabled:function(_94c){var res=this.inherited(arguments);this.__cmds.enable=this.__enabled;return res;},useCommands:function(_94d){if(typeof _94d!="undefined"){this.__cmds.cmdlayer=(_94d&&this._isStateful)?this.name():null;}return !!(this.__cmds.cmdlayer);},_fetch:function(_94e){if(this.__cmds.cmdlayer){xhr.post({url:this._url||this._store.url,content:this.__cmds,load:lang.hitch(this,function(_94f){this.onCommandLoad(_94f,_94e);this.originFetch(_94e);}),error:lang.hitch(this,this.onCommandError)});}else{this.onCommandLoad("",_94e);this.originFetch(_94e);}return _94e;},command:function(_950,_951){var cmds=this.__cmds;if(_951===null){delete cmds[_950];}else{if(typeof _951!=="undefined"){cmds[_950]=_951;}}return cmds[_950];},onCommandLoad:function(_952,_953){this._onUserCommandLoad(this.__cmds,_953,_952);},onCommandError:function(_954){throw _954;}});return{_StoreLayer:_941,_ServerSideLayer:_94b,wrap:ns.wrap};});},"dojox/widget/PortletSettings":function(){define("dojox/widget/PortletSettings",["dojo/_base/declare","dojo/_base/kernel","dojo/fx","dijit/TitlePane"],function(_955,_956,fx,_957){return _955("dojox.widget.PortletSettings",[dijit._Container,dijit.layout.ContentPane],{portletIconClass:"dojoxPortletSettingsIcon",portletIconHoverClass:"dojoxPortletSettingsIconHover",postCreate:function(){dojo.style(this.domNode,"display","none");dojo.addClass(this.domNode,"dojoxPortletSettingsContainer");dojo.removeClass(this.domNode,"dijitContentPane");},_setPortletAttr:function(_958){this.portlet=_958;},toggle:function(){var n=this.domNode;if(dojo.style(n,"display")=="none"){dojo.style(n,{"display":"block","height":"1px","width":"auto"});dojo.fx.wipeIn({node:n}).play();}else{dojo.fx.wipeOut({node:n,onEnd:dojo.hitch(this,function(){dojo.style(n,{"display":"none","height":"","width":""});})}).play();}}});});},"dojox/grid/enhanced/plugins/IndirectSelection":function(){define("dojox/grid/enhanced/plugins/IndirectSelection",["dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/lang","dojo/_base/html","dojo/_base/window","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/keys","dojo/string","../_Plugin","../../EnhancedGrid","../../cells/dijit"],function(_959,_95a,evt,lang,html,win,_95b,has,_95c,keys,_95d,_95e,_95f){var _960=lang.getObject("dojox.grid.cells");var _961=_959("dojox.grid.cells.RowSelector",_960._Widget,{inputType:"",map:null,disabledMap:null,isRowSelector:true,_connects:null,_subscribes:null,checkedText:"&#10003;",unCheckedText:"O",constructor:function(){this.map={};this.disabledMap={};this.disabledCount=0;this._connects=[];this._subscribes=[];this.inA11YMode=html.hasClass(win.body(),"dijit_a11y");this.baseClass="dojoxGridRowSelector dijitReset dijitInline dijit"+this.inputType;this.checkedClass=" dijit"+this.inputType+"Checked";this.disabledClass=" dijit"+this.inputType+"Disabled";this.checkedDisabledClass=" dijit"+this.inputType+"CheckedDisabled";this.statusTextClass=" dojoxGridRowSelectorStatusText";this._connects.push(_95b.connect(this.grid,"dokeyup",this,"_dokeyup"));this._connects.push(_95b.connect(this.grid.selection,"onSelected",this,"_onSelected"));this._connects.push(_95b.connect(this.grid.selection,"onDeselected",this,"_onDeselected"));this._connects.push(_95b.connect(this.grid.scroller,"invalidatePageNode",this,"_pageDestroyed"));this._connects.push(_95b.connect(this.grid,"onCellClick",this,"_onClick"));this._connects.push(_95b.connect(this.grid,"updateRow",this,"_onUpdateRow"));},formatter:function(data,_962,_963){var _964=_963;var _965=_964.baseClass;var _966=_964.getValue(_962);var _967=!!_964.disabledMap[_962];if(_966){_965+=_964.checkedClass;if(_967){_965+=_964.checkedDisabledClass;}}else{if(_967){_965+=_964.disabledClass;}}return["<div tabindex = -1 ","id = '"+_964.grid.id+"_rowSelector_"+_962+"' ","name = '"+_964.grid.id+"_rowSelector' class = '"+_965+"' ","role = 'checkbox' aria-checked = '"+(_966?"true":"false")+"' aria-disabled = '"+_967+"' aria-label = '"+_95d.substitute(_964.grid._nls["indirectSelection"+_964.inputType],[_962+1])+"'>","<span class = '"+_964.statusTextClass+"'>"+(_966?_964.checkedText:_964.unCheckedText)+"</span>","</div>"].join("");},setValue:function(_968,_969){},getValue:function(_96a){return this.grid.selection.isSelected(_96a);},toggleRow:function(_96b,_96c){this._nativeSelect(_96b,_96c);},setDisabled:function(_96d,_96e){if(_96d<0){return;}this._toggleDisabledStyle(_96d,_96e);},disabled:function(_96f){return !!this.disabledMap[_96f];},_onClick:function(e){if(e.cell===this){this._selectRow(e);}},_dokeyup:function(e){if(e.cellIndex==this.index&&e.rowIndex>=0&&e.keyCode==keys.SPACE){this._selectRow(e);}},focus:function(_970){var _971=this.map[_970];if(_971){_971.focus();}},_focusEndingCell:function(_972,_973){var cell=this.grid.getCell(_973);this.grid.focus.setFocusCell(cell,_972);},_nativeSelect:function(_974,_975){this.grid.selection[_975?"select":"deselect"](_974);},_onSelected:function(_976){this._toggleCheckedStyle(_976,true);},_onDeselected:function(_977){this._toggleCheckedStyle(_977,false);},_onUpdateRow:function(_978){delete this.map[_978];},_toggleCheckedStyle:function(_979,_97a){var _97b=this._getSelector(_979);if(_97b){html.toggleClass(_97b,this.checkedClass,_97a);if(this.disabledMap[_979]){html.toggleClass(_97b,this.checkedDisabledClass,_97a);}_97b.setAttribute("aria-checked",_97a);if(this.inA11YMode){_97b.firstChild.innerHTML=(_97a?this.checkedText:this.unCheckedText);}}},_toggleDisabledStyle:function(_97c,_97d){var _97e=this._getSelector(_97c);if(_97e){html.toggleClass(_97e,this.disabledClass,_97d);if(this.getValue(_97c)){html.toggleClass(_97e,this.checkedDisabledClass,_97d);}_97e.setAttribute("aria-disabled",_97d);}this.disabledMap[_97c]=_97d;if(_97c>=0){this.disabledCount+=_97d?1:-1;}},_getSelector:function(_97f){var _980=this.map[_97f];if(!_980){var _981=this.view.rowNodes[_97f];if(_981){_980=_95c(".dojoxGridRowSelector",_981)[0];if(_980){this.map[_97f]=_980;}}}return _980;},_pageDestroyed:function(_982){var _983=this.grid.scroller.rowsPerPage;var _984=_982*_983,end=_984+_983-1;for(var i=_984;i<=end;i++){if(!this.map[i]){continue;}html.destroy(this.map[i]);delete this.map[i];}},destroy:function(){for(var i in this.map){html.destroy(this.map[i]);delete this.map[i];}for(i in this.disabledMap){delete this.disabledMap[i];}_95a.forEach(this._connects,_95b.disconnect);_95a.forEach(this._subscribes,_95b.unsubscribe);delete this._connects;delete this._subscribes;}});var _985=_959("dojox.grid.cells.SingleRowSelector",_961,{inputType:"Radio",_selectRow:function(e){var _986=e.rowIndex;if(this.disabledMap[_986]){return;}this._focusEndingCell(_986,0);this._nativeSelect(_986,!this.grid.selection.selected[_986]);}});var _987=_959("dojox.grid.cells.MultipleRowSelector",_961,{inputType:"CheckBox",swipeStartRowIndex:-1,swipeMinRowIndex:-1,swipeMaxRowIndex:-1,toSelect:false,lastClickRowIdx:-1,toggleAllTrigerred:false,unCheckedText:"&#9633;",constructor:function(){this._connects.push(_95b.connect(win.doc,"onmouseup",this,"_domouseup"));this._connects.push(_95b.connect(this.grid,"onRowMouseOver",this,"_onRowMouseOver"));this._connects.push(_95b.connect(this.grid.focus,"move",this,"_swipeByKey"));this._connects.push(_95b.connect(this.grid,"onCellMouseDown",this,"_onMouseDown"));if(this.headerSelector){this._connects.push(_95b.connect(this.grid.views,"render",this,"_addHeaderSelector"));this._connects.push(_95b.connect(this.grid,"_onFetchComplete",this,"_addHeaderSelector"));this._connects.push(_95b.connect(this.grid,"onSelectionChanged",this,"_onSelectionChanged"));this._connects.push(_95b.connect(this.grid,"onKeyDown",this,function(e){if(e.rowIndex==-1&&e.cellIndex==this.index&&e.keyCode==keys.SPACE){this._toggletHeader();}}));}},toggleAllSelection:function(_988){var grid=this.grid,_989=grid.selection;if(_988){_989.selectRange(0,grid.rowCount-1);}else{_989.deselectAll();}this.toggleAllTrigerred=true;},_onMouseDown:function(e){if(e.cell==this){this._startSelection(e.rowIndex);evt.stop(e);}},_onRowMouseOver:function(e){this._updateSelection(e,0);},_domouseup:function(e){if(has("ie")){this.view.content.decorateEvent(e);}var _98a=e.cellIndex>=0&&this.inSwipeSelection()&&!this.grid.edit.isEditRow(e.rowIndex);if(_98a){this._focusEndingCell(e.rowIndex,e.cellIndex);}this._finishSelect();},_dokeyup:function(e){this.inherited(arguments);if(!e.shiftKey){this._finishSelect();}},_startSelection:function(_98b){this.swipeStartRowIndex=this.swipeMinRowIndex=this.swipeMaxRowIndex=_98b;this.toSelect=!this.getValue(_98b);},_updateSelection:function(e,_98c){if(!this.inSwipeSelection()){return;}var _98d=_98c!==0;var _98e=e.rowIndex,_98f=_98e-this.swipeStartRowIndex+_98c;if(_98f>0&&this.swipeMaxRowIndex<_98e+_98c){this.swipeMaxRowIndex=_98e+_98c;}if(_98f<0&&this.swipeMinRowIndex>_98e+_98c){this.swipeMinRowIndex=_98e+_98c;}var min=_98f>0?this.swipeStartRowIndex:_98e+_98c;var max=_98f>0?_98e+_98c:this.swipeStartRowIndex;for(var i=this.swipeMinRowIndex;i<=this.swipeMaxRowIndex;i++){if(this.disabledMap[i]||i<0){continue;}if(i>=min&&i<=max){this._nativeSelect(i,this.toSelect);}else{if(!_98d){this._nativeSelect(i,!this.toSelect);}}}},_swipeByKey:function(_990,_991,e){if(!e||_990===0||!e.shiftKey||e.cellIndex!=this.index||this.grid.focus.rowIndex<0){return;}var _992=e.rowIndex;if(this.swipeStartRowIndex<0){this.swipeStartRowIndex=_992;if(_990>0){this.swipeMaxRowIndex=_992+_990;this.swipeMinRowIndex=_992;}else{this.swipeMinRowIndex=_992+_990;this.swipeMaxRowIndex=_992;}this.toSelect=this.getValue(_992);}this._updateSelection(e,_990);},_finishSelect:function(){this.swipeStartRowIndex=-1;this.swipeMinRowIndex=-1;this.swipeMaxRowIndex=-1;this.toSelect=false;},inSwipeSelection:function(){return this.swipeStartRowIndex>=0;},_nativeSelect:function(_993,_994){this.grid.selection[_994?"addToSelection":"deselect"](_993);},_selectRow:function(e){var _995=e.rowIndex;if(this.disabledMap[_995]){return;}evt.stop(e);this._focusEndingCell(_995,0);var _996=_995-this.lastClickRowIdx;var _997=!this.grid.selection.selected[_995];if(this.lastClickRowIdx>=0&&!e.ctrlKey&&!e.altKey&&e.shiftKey){var min=_996>0?this.lastClickRowIdx:_995;var max=_996>0?_995:this.lastClickRowIdx;for(var i=min;i>=0&&i<=max;i++){this._nativeSelect(i,_997);}}else{this._nativeSelect(_995,_997);}this.lastClickRowIdx=_995;},getValue:function(_998){if(_998==-1){var g=this.grid;return g.rowCount>0&&g.rowCount<=g.selection.getSelectedCount();}return this.inherited(arguments);},_addHeaderSelector:function(){var _999=this.view.getHeaderCellNode(this.index);if(!_999){return;}html.empty(_999);var g=this.grid;var _99a=_999.appendChild(html.create("div",{"aria-label":g._nls["selectAll"],"tabindex":-1,"id":g.id+"_rowSelector_-1","class":this.baseClass,"role":"checkbox","innerHTML":"<span class = '"+this.statusTextClass+"'></span><span style='height: 0; width: 0; overflow: hidden; display: block;'>"+g._nls["selectAll"]+"</span>"}));this.map[-1]=_99a;var idx=this._headerSelectorConnectIdx;if(idx!==undefined){_95b.disconnect(this._connects[idx]);this._connects.splice(idx,1);}this._headerSelectorConnectIdx=this._connects.length;this._connects.push(_95b.connect(_99a,"onclick",this,"_toggletHeader"));this._onSelectionChanged();},_toggletHeader:function(){if(!!this.disabledMap[-1]){return;}this.grid._selectingRange=true;this.toggleAllSelection(!this.getValue(-1));this._onSelectionChanged();this.grid._selectingRange=false;},_onSelectionChanged:function(){var g=this.grid;if(!this.map[-1]||g._selectingRange){return;}g.allItemsSelected=this.getValue(-1);this._toggleCheckedStyle(-1,g.allItemsSelected);},_toggleDisabledStyle:function(_99b,_99c){this.inherited(arguments);if(this.headerSelector){var _99d=(this.grid.rowCount==this.disabledCount);if(_99d!=!!this.disabledMap[-1]){arguments[0]=-1;arguments[1]=_99d;this.inherited(arguments);}}}});var _99e=_959("dojox.grid.enhanced.plugins.IndirectSelection",_95e,{name:"indirectSelection",constructor:function(){var _99f=this.grid.layout;this.connect(_99f,"setStructure",lang.hitch(_99f,this.addRowSelectCell,this.option));},addRowSelectCell:function(_9a0){if(!this.grid.indirectSelection||this.grid.selectionMode=="none"){return;}var _9a1=false,_9a2=["get","formatter","field","fields"],_9a3={type:_987,name:"",width:"30px",styles:"text-align: center;"};if(_9a0.headerSelector){_9a0.name="";}if(this.grid.rowSelectCell){this.grid.rowSelectCell.destroy();}_95a.forEach(this.structure,function(view){var _9a4=view.cells;if(_9a4&&_9a4.length>0&&!_9a1){var _9a5=_9a4[0];if(_9a5[0]&&_9a5[0].isRowSelector){_9a1=true;return;}var _9a6,_9a7=this.grid.selectionMode=="single"?_985:_987;_9a6=lang.mixin(_9a3,_9a0,{type:_9a7,editable:false,notselectable:true,filterable:false,navigatable:true,nosort:true});_95a.forEach(_9a2,function(_9a8){if(_9a8 in _9a6){delete _9a6[_9a8];}});if(_9a4.length>1){_9a6.rowSpan=_9a4.length;}_95a.forEach(this.cells,function(cell,i){if(cell.index>=0){cell.index+=1;}else{}});var _9a9=this.addCellDef(0,0,_9a6);_9a9.index=0;_9a5.unshift(_9a9);this.cells.unshift(_9a9);this.grid.rowSelectCell=_9a9;_9a1=true;}},this);this.cellCount=this.cells.length;},destroy:function(){this.grid.rowSelectCell.destroy();delete this.grid.rowSelectCell;this.inherited(arguments);}});_95f.registerPlugin(_99e,{"preInit":true});return _99e;});},"dojox/charting/scaler/primitive":function(){define("dojox/charting/scaler/primitive",["dojo/_base/lang"],function(lang){var _9aa=lang.getObject("dojox.charting.scaler.primitive",true);return lang.mixin(_9aa,{buildScaler:function(min,max,span,_9ab){if(min==max){min-=0.5;max+=0.5;}return{bounds:{lower:min,upper:max,from:min,to:max,scale:span/(max-min),span:span},scaler:_9aa};},buildTicks:function(_9ac,_9ad){return{major:[],minor:[],micro:[]};},getTransformerFromModel:function(_9ae){var _9af=_9ae.bounds.from,_9b0=_9ae.bounds.scale;return function(x){return(x-_9af)*_9b0;};},getTransformerFromPlot:function(_9b1){var _9b2=_9b1.bounds.from,_9b3=_9b1.bounds.scale;return function(x){return x/_9b3+_9b2;};}});});},"dojox/layout/TableContainer":function(){define("dojox/layout/TableContainer",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/array","dojo/dom-prop","dojo/dom-style","dijit/_WidgetBase","dijit/layout/_LayoutWidget"],function(_9b4,lang,_9b5,_9b6,_9b7,_9b8,_9b9,_9ba,_9bb,_9bc){_9b4.experimental("dojox.layout.TableContainer");var _9bd=_9b5("dojox.layout.TableContainer",_9bc,{cols:1,labelWidth:"100",showLabels:true,orientation:"horiz",spacing:1,customClass:"",postCreate:function(){this.inherited(arguments);this._children=[];this.connect(this,"set",function(name,_9be){if(_9be&&(name=="orientation"||name=="customClass"||name=="cols")){this.layout();}});},startup:function(){if(this._started){return;}this.inherited(arguments);if(this._initialized){return;}var _9bf=this.getChildren();if(_9bf.length<1){return;}this._initialized=true;_9b6.add(this.domNode,"dijitTableLayout");_9b8.forEach(_9bf,function(_9c0){if(!_9c0.started&&!_9c0._started){_9c0.startup();}});this.resize();this.layout();},resize:function(){_9b8.forEach(this.getChildren(),function(_9c1){if(typeof _9c1.resize=="function"){_9c1.resize();}});},layout:function(){if(!this._initialized){return;}var _9c2=this.getChildren();var _9c3={};var _9c4=this;function _9c5(node,type,_9c6){if(_9c4.customClass!=""){var _9c7=_9c4.customClass+"-"+(type||node.tagName.toLowerCase());_9b6.add(node,_9c7);if(arguments.length>2){_9b6.add(node,_9c7+"-"+_9c6);}}}_9b8.forEach(this._children,lang.hitch(this,function(_9c8){_9c3[_9c8.id]=_9c8;}));_9b8.forEach(_9c2,lang.hitch(this,function(_9c9,_9ca){if(!_9c3[_9c9.id]){this._children.push(_9c9);}}));var _9cb=_9b7.create("table",{"width":"100%","class":"tableContainer-table tableContainer-table-"+this.orientation,"cellspacing":this.spacing},this.domNode);var _9cc=_9b7.create("tbody");_9cb.appendChild(_9cc);_9c5(_9cb,"table",this.orientation);var _9cd=Math.floor(100/this.cols)+"%";var _9ce=_9b7.create("tr",{},_9cc);var _9cf=(!this.showLabels||this.orientation=="horiz")?_9ce:_9b7.create("tr",{},_9cc);var _9d0=this.cols*(this.showLabels?2:1);var _9d1=0;_9b8.forEach(this._children,lang.hitch(this,function(_9d2,_9d3){var _9d4=_9d2.colspan||1;if(_9d4>1){_9d4=this.showLabels?Math.min(_9d0-1,_9d4*2-1):Math.min(_9d0,_9d4);}if(_9d1+_9d4-1+(this.showLabels?1:0)>=_9d0){_9d1=0;_9ce=_9b7.create("tr",{},_9cc);_9cf=this.orientation=="horiz"?_9ce:_9b7.create("tr",{},_9cc);}var _9d5;if(this.showLabels){_9d5=_9b7.create("td",{"class":"tableContainer-labelCell"},_9ce);if(_9d2.spanLabel){_9b9.set(_9d5,this.orientation=="vert"?"rowspan":"colspan",2);}else{_9c5(_9d5,"labelCell");var _9d6={"for":_9d2.get("id")};var _9d7=_9b7.create("label",_9d6,_9d5);if(Number(this.labelWidth)>-1||String(this.labelWidth).indexOf("%")>-1){_9ba.set(_9d5,"width",String(this.labelWidth).indexOf("%")<0?this.labelWidth+"px":this.labelWidth);}_9d7.innerHTML=_9d2.get("label")||_9d2.get("title");}}var _9d8;if(_9d2.spanLabel&&_9d5){_9d8=_9d5;}else{_9d8=_9b7.create("td",{"class":"tableContainer-valueCell"},_9cf);}if(_9d4>1){_9b9.set(_9d8,"colspan",_9d4);}_9c5(_9d8,"valueCell",_9d3);_9d8.appendChild(_9d2.domNode);_9d1+=_9d4+(this.showLabels?1:0);}));if(this.table){this.table.parentNode.removeChild(this.table);}_9b8.forEach(_9c2,function(_9d9){if(typeof _9d9.layout=="function"){_9d9.layout();}});this.table=_9cb;this.resize();},destroyDescendants:function(_9da){_9b8.forEach(this._children,function(_9db){_9db.destroyRecursive(_9da);});},_setSpacingAttr:function(_9dc){this.spacing=_9dc;if(this.table){this.table.cellspacing=Number(_9dc);}}});lang.extend(_9bb,{label:"",title:"",spanLabel:false,colspan:1});return _9bd;});},"dojox/lang/functional/reversed":function(){define("dojox/lang/functional/reversed",["dojo/_base/lang","dojo/_base/window","./lambda"],function(lang,win,df){lang.mixin(df,{filterRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var t=[],v,i=a.length-1;for(;i>=0;--i){v=a[i];if(f.call(o,v,i,a)){t.push(v);}}return t;},forEachRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);for(var i=a.length-1;i>=0;f.call(o,a[i],i,a),--i){}},mapRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);var n=a.length,t=new Array(n),i=n-1,j=0;for(;i>=0;t[j++]=f.call(o,a[i],i,a),--i){}return t;},everyRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(!f.call(o,a[i],i,a)){return false;}}return true;},someRev:function(a,f,o){if(typeof a=="string"){a=a.split("");}o=o||win.global;f=df.lambda(f);for(var i=a.length-1;i>=0;--i){if(f.call(o,a[i],i,a)){return true;}}return false;}});return df;});},"dojox/data/dom":function(){define("dojox/data/dom",["dojo/_base/kernel","dojo/_base/lang","dojox/xml/parser"],function(_9dd,lang,_9de){dojo.deprecated("dojox.data.dom","Use dojox.xml.parser instead.","2.0");var _9df=lang.getObject("dojox.data.dom",true);_9df.createDocument=function(str,_9e0){dojo.deprecated("dojox.data.dom.createDocument()","Use dojox.xml.parser.parse() instead.","2.0");try{return _9de.parse(str,_9e0);}catch(e){return null;}};_9df.textContent=function(node,text){dojo.deprecated("dojox.data.dom.textContent()","Use dojox.xml.parser.textContent() instead.","2.0");if(arguments.length>1){return _9de.textContent(node,text);}else{return _9de.textContent(node);}};_9df.replaceChildren=function(node,_9e1){dojo.deprecated("dojox.data.dom.replaceChildren()","Use dojox.xml.parser.replaceChildren() instead.","2.0");_9de.replaceChildren(node,_9e1);};_9df.removeChildren=function(node){dojo.deprecated("dojox.data.dom.removeChildren()","Use dojox.xml.parser.removeChildren() instead.","2.0");return dojox.xml.parser.removeChildren(node);};_9df.innerXML=function(node){dojo.deprecated("dojox.data.dom.innerXML()","Use dojox.xml.parser.innerXML() instead.","2.0");return _9de.innerXML(node);};return _9df;});},"dojox/charting/axis2d/Invisible":function(){define("dojox/charting/axis2d/Invisible",["dojo/_base/lang","dojo/_base/declare","./Base","../scaler/linear","dojox/gfx","dojox/lang/utils","dojox/lang/functional","dojo/string"],function(lang,_9e2,Base,lin,g,du,df,_9e3){var _9e4=du.merge,_9e5=4,_9e6=45;return _9e2("dojox.charting.axis2d.Invisible",Base,{defaultParams:{vertical:false,fixUpper:"none",fixLower:"none",natural:false,leftBottom:true,includeZero:false,fixed:true,majorLabels:true,minorTicks:true,minorLabels:true,microTicks:false,rotation:0},optionalParams:{min:0,max:1,from:0,to:1,majorTickStep:4,minorTickStep:2,microTickStep:1,labels:[],labelFunc:null,maxLabelSize:0,maxLabelCharCount:0,trailingSymbol:null},constructor:function(_9e7,_9e8){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_9e8);du.updateWithPattern(this.opt,_9e8,this.optionalParams);},dependOnData:function(){return !("min" in this.opt)||!("max" in this.opt);},clear:function(){delete this.scaler;delete this.ticks;this.dirty=true;return this;},initialized:function(){return"scaler" in this&&!(this.dirty&&this.dependOnData());},setWindow:function(_9e9,_9ea){this.scale=_9e9;this.offset=_9ea;return this.clear();},getWindowScale:function(){return"scale" in this?this.scale:1;},getWindowOffset:function(){return"offset" in this?this.offset:0;},_groupLabelWidth:function(_9eb,font,_9ec){if(!_9eb.length){return 0;}if(lang.isObject(_9eb[0])){_9eb=df.map(_9eb,function(_9ed){return _9ed.text;});}if(_9ec){_9eb=df.map(_9eb,function(_9ee){return lang.trim(_9ee).length==0?"":_9ee.substring(0,_9ec)+this.trailingSymbol;},this);}var s=_9eb.join("<br>");return g._base._getTextBox(s,{font:font}).w||0;},calculate:function(min,max,span,_9ef){if(this.initialized()){return this;}var o=this.opt;this.labels="labels" in o?o.labels:_9ef;this.scaler=lin.buildScaler(min,max,span,o);var tsb=this.scaler.bounds;if("scale" in this){o.from=tsb.lower+this.offset;o.to=(tsb.upper-tsb.lower)/this.scale+o.from;if(!isFinite(o.from)||isNaN(o.from)||!isFinite(o.to)||isNaN(o.to)||o.to-o.from>=tsb.upper-tsb.lower){delete o.from;delete o.to;delete this.scale;delete this.offset;}else{if(o.from<tsb.lower){o.to+=tsb.lower-o.from;o.from=tsb.lower;}else{if(o.to>tsb.upper){o.from+=tsb.upper-o.to;o.to=tsb.upper;}}this.offset=o.from-tsb.lower;}this.scaler=lin.buildScaler(min,max,span,o);tsb=this.scaler.bounds;if(this.scale==1&&this.offset==0){delete this.scale;delete this.offset;}}var ta=this.chart.theme.axis,_9f0=0,_9f1=o.rotation%360,_9f2=o.font||(ta.majorTick&&ta.majorTick.font)||(ta.tick&&ta.tick.font),size=_9f2?g.normalizedLength(g.splitFontString(_9f2).size):0,cosr=Math.abs(Math.cos(_9f1*Math.PI/180)),sinr=Math.abs(Math.sin(_9f1*Math.PI/180));if(_9f1<0){_9f1+=360;}if(size){if(this.vertical?_9f1!=0&&_9f1!=180:_9f1!=90&&_9f1!=270){if(this.labels){_9f0=this._groupLabelWidth(this.labels,_9f2,o.maxLabelCharCount);}else{var _9f3=Math.ceil(Math.log(Math.max(Math.abs(tsb.from),Math.abs(tsb.to)))/Math.LN10),t=[];if(tsb.from<0||tsb.to<0){t.push("-");}t.push(_9e3.rep("9",_9f3));var _9f4=Math.floor(Math.log(tsb.to-tsb.from)/Math.LN10);if(_9f4>0){t.push(".");t.push(_9e3.rep("9",_9f4));}_9f0=g._base._getTextBox(t.join(""),{font:_9f2}).w;}_9f0=o.maxLabelSize?Math.min(o.maxLabelSize,_9f0):_9f0;}else{_9f0=size;}switch(_9f1){case 0:case 90:case 180:case 270:break;default:var gap1=Math.sqrt(_9f0*_9f0+size*size),gap2=this.vertical?size*cosr+_9f0*sinr:_9f0*cosr+size*sinr;_9f0=Math.min(gap1,gap2);break;}}this.scaler.minMinorStep=_9f0+_9e5;this.ticks=lin.buildTicks(this.scaler,o);return this;},getScaler:function(){return this.scaler;},getTicks:function(){return this.ticks;}});});},"dojox/charting/axis2d/common":function(){define("dojox/charting/axis2d/common",["dojo/_base/lang","dojo/_base/html","dojo/_base/window","dojo/dom-geometry","dojox/gfx"],function(lang,html,win,_9f5,g){var _9f6=lang.getObject("dojox.charting.axis2d.common",true);var _9f7=function(s){s.marginLeft="0px";s.marginTop="0px";s.marginRight="0px";s.marginBottom="0px";s.paddingLeft="0px";s.paddingTop="0px";s.paddingRight="0px";s.paddingBottom="0px";s.borderLeftWidth="0px";s.borderTopWidth="0px";s.borderRightWidth="0px";s.borderBottomWidth="0px";};var _9f8=function(n){if(n["getBoundingClientRect"]){var bcr=n.getBoundingClientRect();return bcr.width||(bcr.right-bcr.left);}else{return _9f5.getMarginBox(n).w;}};return lang.mixin(_9f6,{createText:{gfx:function(_9f9,_9fa,x,y,_9fb,text,font,_9fc){return _9fa.createText({x:x,y:y,text:text,align:_9fb}).setFont(font).setFill(_9fc);},html:function(_9fd,_9fe,x,y,_9ff,text,font,_a00,_a01){var p=win.doc.createElement("div"),s=p.style,_a02;if(_9fd.getTextDir){p.dir=_9fd.getTextDir(text);}_9f7(s);s.font=font;p.innerHTML=String(text).replace(/\s/g,"&nbsp;");s.color=_a00;s.position="absolute";s.left="-10000px";win.body().appendChild(p);var size=g.normalizedLength(g.splitFontString(font).size);if(!_a01){_a02=_9f8(p);}if(p.dir=="rtl"){x+=_a01?_a01:_a02;}win.body().removeChild(p);s.position="relative";if(_a01){s.width=_a01+"px";switch(_9ff){case"middle":s.textAlign="center";s.left=(x-_a01/2)+"px";break;case"end":s.textAlign="right";s.left=(x-_a01)+"px";break;default:s.left=x+"px";s.textAlign="left";break;}}else{switch(_9ff){case"middle":s.left=Math.floor(x-_a02/2)+"px";break;case"end":s.left=Math.floor(x-_a02)+"px";break;default:s.left=Math.floor(x)+"px";break;}}s.top=Math.floor(y-size)+"px";s.whiteSpace="nowrap";var wrap=win.doc.createElement("div"),w=wrap.style;_9f7(w);w.width="0px";w.height="0px";wrap.appendChild(p);_9fd.node.insertBefore(wrap,_9fd.node.firstChild);return wrap;}}});});},"dojox/grid/_EditManager":function(){define("dojox/grid/_EditManager",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/sniff","./util"],function(lang,_a03,_a04,_a05,has,util){return _a04("dojox.grid._EditManager",null,{constructor:function(_a06){this.grid=_a06;if(has("ie")){this.connections=[_a05.connect(document.body,"onfocus",lang.hitch(this,"_boomerangFocus"))];}else{this.connections=[_a05.connect(this.grid,"onBlur",this,"apply")];}},info:{},destroy:function(){_a03.forEach(this.connections,_a05.disconnect);},cellFocus:function(_a07,_a08){if(this.grid.singleClickEdit||this.isEditRow(_a08)){this.setEditCell(_a07,_a08);}else{this.apply();}if(this.isEditing()||(_a07&&_a07.editable&&_a07.alwaysEditing)){this._focusEditor(_a07,_a08);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_a09){if(_a09.index==this.info.rowIndex){_a09.customClasses+=" dojoxGridRowEditing";}},dispatchEvent:function(e){var c=e.cell,ed=(c&&c["editable"])?c:0;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_a0a,_a0b){return(this.info.rowIndex===_a0a)&&(this.info.cell.index==_a0b);},isEditRow:function(_a0c){return this.info.rowIndex===_a0c;},setEditCell:function(_a0d,_a0e){if(!this.isEditCell(_a0e,_a0d.index)&&this.grid.canEdit&&this.grid.canEdit(_a0d,_a0e)){this.start(_a0d,_a0e,this.isEditRow(_a0e)||_a0d.editable);}},_focusEditor:function(_a0f,_a10){util.fire(_a0f,"focus",[_a10]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(has("ie")){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_a11,_a12,_a13){if(!this._isValidInput()){return;}this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_a12)){this.applyRowEdit();this.grid.updateRow(_a12);}if(_a13){this.info={cell:_a11,rowIndex:_a12};this.grid.doStartEdit(_a11,_a12);this.grid.updateRow(_a12);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_a11,_a12);this._doCatchBoomerang();},_editorDo:function(_a14){var c=this.info.cell;if(c&&c.editable){c[_a14](this.info.rowIndex);}},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_a15,_a16,_a17){if(this.grid.canEdit(_a16,_a17)){this.grid.doApplyCellEdit(_a15,_a17,_a16.field);}},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);},apply:function(){if(this.isEditing()&&this._isValidInput()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_a18,_a19){var c=this.info.cell;if(this.isEditRow(_a18)&&(!_a19||c.view==_a19)&&c.editable){c.save(c,this.info.rowIndex);}},restore:function(_a1a,_a1b){var c=this.info.cell;if(this.isEditRow(_a1b)&&c.view==_a1a&&c.editable){c.restore(this.info.rowIndex);}},_isValidInput:function(){var w=(this.info.cell||{}).widget;if(!w||!w.isValid){return true;}w.focused=true;return w.isValid(true);}});});},"dojox/gfx/fx":function(){define("dojox/gfx/fx",["dojo/_base/lang","./_base","./matrix","dojo/_base/Color","dojo/_base/array","dojo/_base/fx","dojo/_base/connect"],function(lang,g,m,_a1c,arr,fx,Hub){var fxg=g.fx={};function _a1d(_a1e,end){this.start=_a1e,this.end=end;}_a1d.prototype.getValue=function(r){return(this.end-this.start)*r+this.start;};function _a1f(_a20,end,_a21){this.start=_a20,this.end=end;this.units=_a21;}_a1f.prototype.getValue=function(r){return(this.end-this.start)*r+this.start+this.units;};function _a22(_a23,end){this.start=_a23,this.end=end;this.temp=new _a1c();}_a22.prototype.getValue=function(r){return _a1c.blendColors(this.start,this.end,r,this.temp);};function _a24(_a25){this.values=_a25;this.length=_a25.length;}_a24.prototype.getValue=function(r){return this.values[Math.min(Math.floor(r*this.length),this.length-1)];};function _a26(_a27,def){this.values=_a27;this.def=def?def:{};}_a26.prototype.getValue=function(r){var ret=lang.clone(this.def);for(var i in this.values){ret[i]=this.values[i].getValue(r);}return ret;};function _a28(_a29,_a2a){this.stack=_a29;this.original=_a2a;}_a28.prototype.getValue=function(r){var ret=[];arr.forEach(this.stack,function(t){if(t instanceof m.Matrix2D){ret.push(t);return;}if(t.name=="original"&&this.original){ret.push(this.original);return;}if(!(t.name in m)){return;}var f=m[t.name];if(typeof f!="function"){ret.push(f);return;}var val=arr.map(t.start,function(v,i){return(t.end[i]-v)*r+v;}),_a2b=f.apply(m,val);if(_a2b instanceof m.Matrix2D){ret.push(_a2b);}},this);return ret;};var _a2c=new _a1c(0,0,0,0);function _a2d(prop,obj,name,def){if(prop.values){return new _a24(prop.values);}var _a2e,_a2f,end;if(prop.start){_a2f=g.normalizeColor(prop.start);}else{_a2f=_a2e=obj?(name?obj[name]:obj):def;}if(prop.end){end=g.normalizeColor(prop.end);}else{if(!_a2e){_a2e=obj?(name?obj[name]:obj):def;}end=_a2e;}return new _a22(_a2f,end);}function _a30(prop,obj,name,def){if(prop.values){return new _a24(prop.values);}var _a31,_a32,end;if(prop.start){_a32=prop.start;}else{_a32=_a31=obj?obj[name]:def;}if(prop.end){end=prop.end;}else{if(typeof _a31!="number"){_a31=obj?obj[name]:def;}end=_a31;}return new _a1d(_a32,end);}fxg.animateStroke=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_a33=args.shape,_a34;Hub.connect(anim,"beforeBegin",anim,function(){_a34=_a33.getStroke();var prop=args.color,_a35={},_a36,_a37,end;if(prop){_a35.color=_a2d(prop,_a34,"color",_a2c);}prop=args.style;if(prop&&prop.values){_a35.style=new _a24(prop.values);}prop=args.width;if(prop){_a35.width=_a30(prop,_a34,"width",1);}prop=args.cap;if(prop&&prop.values){_a35.cap=new _a24(prop.values);}prop=args.join;if(prop){if(prop.values){_a35.join=new _a24(prop.values);}else{_a37=prop.start?prop.start:(_a34&&_a34.join||0);end=prop.end?prop.end:(_a34&&_a34.join||0);if(typeof _a37=="number"&&typeof end=="number"){_a35.join=new _a1d(_a37,end);}}}this.curve=new _a26(_a35,_a34);});Hub.connect(anim,"onAnimate",_a33,"setStroke");return anim;};fxg.animateFill=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_a38=args.shape,fill;Hub.connect(anim,"beforeBegin",anim,function(){fill=_a38.getFill();var prop=args.color,_a39={};if(prop){this.curve=_a2d(prop,fill,"",_a2c);}});Hub.connect(anim,"onAnimate",_a38,"setFill");return anim;};fxg.animateFont=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_a3a=args.shape,font;Hub.connect(anim,"beforeBegin",anim,function(){font=_a3a.getFont();var prop=args.style,_a3b={},_a3c,_a3d,end;if(prop&&prop.values){_a3b.style=new _a24(prop.values);}prop=args.variant;if(prop&&prop.values){_a3b.variant=new _a24(prop.values);}prop=args.weight;if(prop&&prop.values){_a3b.weight=new _a24(prop.values);}prop=args.family;if(prop&&prop.values){_a3b.family=new _a24(prop.values);}prop=args.size;if(prop&&prop.units){_a3d=parseFloat(prop.start?prop.start:(_a3a.font&&_a3a.font.size||"0"));end=parseFloat(prop.end?prop.end:(_a3a.font&&_a3a.font.size||"0"));_a3b.size=new _a1f(_a3d,end,prop.units);}this.curve=new _a26(_a3b,font);});Hub.connect(anim,"onAnimate",_a3a,"setFont");return anim;};fxg.animateTransform=function(args){if(!args.easing){args.easing=fx._defaultEasing;}var anim=new fx.Animation(args),_a3e=args.shape,_a3f;Hub.connect(anim,"beforeBegin",anim,function(){_a3f=_a3e.getTransform();this.curve=new _a28(args.transform,_a3f);});Hub.connect(anim,"onAnimate",_a3e,"setTransform");return anim;};return fxg;});},"dojox/grid/_ViewManager":function(){define("dojox/grid/_ViewManager",["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(_a40,has,_a41){return _a40("dojox.grid._ViewManager",null,{constructor:function(_a42){this.grid=_a42;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");},addView:function(_a43){_a43.idx=this.views.length;this.views.push(_a43);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _a44=[];for(var i=0,v;v=this.views[i];i++){_a44.push(v.contentNode);}return _a44;},forEach:function(_a45){for(var i=0,v;v=this.views[i];i++){_a45(v,i);}},onEach:function(_a46,_a47){_a47=_a47||[];for(var i=0,v;v=this.views[i];i++){if(_a46 in v){v[_a46].apply(v,_a47);}}},normalizeHeaderNodeHeight:function(){var _a48=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_a48.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_a48);},normalizeRowNodeHeights:function(_a49){var h=0;var _a4a=[];if(this.grid.rowHeight){h=this.grid.rowHeight;}else{if(_a49.length<=1){return;}for(var i=0,n;(n=_a49[i]);i++){if(!_a41.contains(n,"dojoxGridNonNormalizedCell")){_a4a[i]=n.firstChild.offsetHeight;h=Math.max(h,_a4a[i]);}}h=(h>=0?h:0);if((has("mozilla")||has("ie")>8)&&h){h++;}}for(i=0;(n=_a49[i]);i++){if(_a4a[i]!=h){n.firstChild.style.height=h+"px";}}},resetHeaderNodeHeight:function(){for(var i=0,v,n;(v=this.views[i]);i++){n=v.headerContentNode.firstChild;if(n){n.style.height="";}}},renormalizeRow:function(_a4b){var _a4c=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_a4b));i++){n.firstChild.style.height="";_a4c.push(n);}this.normalizeRowNodeHeights(_a4c);},getViewWidth:function(_a4d){return this.views[_a4d].getWidth()||this.defaultWidth;},measureHeader:function(){this.resetHeaderNodeHeight();this.forEach(function(_a4e){_a4e.headerContentNode.style.height="";});var h=0;this.forEach(function(_a4f){h=Math.max(_a4f.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_a50){h=Math.max(_a50.domNode.offsetHeight,h);});return h;},findClient:function(_a51){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},arrange:function(l,w){var i,v,vw,len=this.views.length,self=this;var c=(w<=0?len:this.findClient());var _a52=function(v,l){var ds=v.domNode.style;var hs=v.headerNode.style;if(!self.grid.isLeftToRight()){ds.right=l+"px";if(has("ff")<4||has("webkit")){hs.right=l+v.getScrollbarWidth()+"px";hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";}else{hs.right=l+"px";}}else{ds.left=l+"px";hs.left=l+"px";}ds.top=0+"px";hs.top=0;};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,0);_a52(v,l);if(v.headerContentNode&&v.headerContentNode.firstChild){vw=v.getColumnsWidth()+v.getScrollbarWidth();}else{vw=v.domNode.offsetWidth;}l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,0);vw=v.domNode.offsetWidth;r-=vw;_a52(v,r);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",0);_a52(v,l);}return l;},renderRow:function(_a53,_a54,_a55){var _a56=[];for(var i=0,v,n,_a57;(v=this.views[i])&&(n=_a54[i]);i++){_a57=v.renderRow(_a53);n.appendChild(_a57);_a56.push(_a57);}if(!_a55){this.normalizeRowNodeHeights(_a56);}},rowRemoved:function(_a58){this.onEach("rowRemoved",[_a58]);},updateRow:function(_a59,_a5a){for(var i=0,v;v=this.views[i];i++){v.updateRow(_a59);}if(!_a5a){this.renormalizeRow(_a59);}},updateRowStyles:function(_a5b){this.onEach("updateRowStyles",[_a5b]);},setScrollTop:function(_a5c){var top=_a5c;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_a5c);if(has("ie")&&v.headerNode&&v.scrollboxNode){v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;}}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasHScrollbar()||v.hasVScrollbar()){return v;}}return null;}});});},"dojox/charting/widget/Legend":function(){define("dojox/charting/widget/Legend",["dojo/_base/lang","dojo/_base/html","dojo/_base/declare","dijit/_Widget","dojox/gfx","dojo/_base/array","dojox/lang/functional","dojox/lang/functional/array","dojox/lang/functional/fold","dojo/dom","dojo/dom-construct","dojo/dom-class","dijit/_base/manager"],function(lang,html,_a5d,_a5e,gfx,_a5f,df,dfa,dff,dom,_a60,_a61,_a62){var _a63=/\.(StackedColumns|StackedAreas|ClusteredBars)$/;return _a5d("dojox.charting.widget.Legend",_a5e,{chartRef:"",horizontal:true,swatchSize:18,legendBody:null,postCreate:function(){if(!this.chart){if(!this.chartRef){return;}this.chart=_a62.byId(this.chartRef);if(!this.chart){var node=dom.byId(this.chartRef);if(node){this.chart=_a62.byNode(node);}else{return;}}this.series=this.chart.chart.series;}else{this.series=this.chart.series;}this.refresh();},buildRendering:function(){this.domNode=_a60.create("table",{role:"group","aria-label":"chart legend","class":"dojoxLegendNode"});this.legendBody=_a60.create("tbody",null,this.domNode);this.inherited(arguments);},refresh:function(){if(this._surfaces){_a5f.forEach(this._surfaces,function(_a64){_a64.destroy();});}this._surfaces=[];while(this.legendBody.lastChild){_a60.destroy(this.legendBody.lastChild);}if(this.horizontal){_a61.add(this.domNode,"dojoxLegendHorizontal");this._tr=_a60.create("tr",null,this.legendBody);this._inrow=0;}var s=this.series;if(s.length==0){return;}if(s[0].chart.stack[0].declaredClass=="dojox.charting.plot2d.Pie"){var t=s[0].chart.stack[0];if(typeof t.run.data[0]=="number"){var _a65=df.map(t.run.data,"Math.max(x, 0)");if(df.every(_a65,"<= 0")){return;}var _a66=df.map(_a65,"/this",df.foldl(_a65,"+",0));_a5f.forEach(_a66,function(x,i){this._addLabel(t.dyn[i],t._getLabel(x*100)+"%");},this);}else{_a5f.forEach(t.run.data,function(x,i){this._addLabel(t.dyn[i],x.legend||x.text||x.y);},this);}}else{if(this._isReversal()){s=s.slice(0).reverse();}_a5f.forEach(s,function(x){this._addLabel(x.dyn,x.legend||x.name);},this);}},_addLabel:function(dyn,_a67){var _a68=_a60.create("td"),icon=_a60.create("div",null,_a68),text=_a60.create("label",null,_a68),div=_a60.create("div",{style:{"width":this.swatchSize+"px","height":this.swatchSize+"px","float":"left"}},icon);_a61.add(icon,"dojoxLegendIcon dijitInline");_a61.add(text,"dojoxLegendText");if(this._tr){this._tr.appendChild(_a68);if(++this._inrow===this.horizontal){this._tr=_a60.create("tr",null,this.legendBody);this._inrow=0;}}else{var tr=_a60.create("tr",null,this.legendBody);tr.appendChild(_a68);}this._makeIcon(div,dyn);text.innerHTML=String(_a67);text.dir=this.getTextDir(_a67,text.dir);},_makeIcon:function(div,dyn){var mb={h:this.swatchSize,w:this.swatchSize};var _a69=gfx.createSurface(div,mb.w,mb.h);this._surfaces.push(_a69);if(dyn.fill){_a69.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setFill(dyn.fill).setStroke(dyn.stroke);}else{if(dyn.stroke||dyn.marker){var line={x1:0,y1:mb.h/2,x2:mb.w,y2:mb.h/2};if(dyn.stroke){_a69.createLine(line).setStroke(dyn.stroke);}if(dyn.marker){var c={x:mb.w/2,y:mb.h/2};if(dyn.stroke){_a69.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.stroke.color).setStroke(dyn.stroke);}else{_a69.createPath({path:"M"+c.x+" "+c.y+" "+dyn.marker}).setFill(dyn.color).setStroke(dyn.color);}}}else{_a69.createRect({x:2,y:2,width:mb.w-4,height:mb.h-4}).setStroke("black");_a69.createLine({x1:2,y1:2,x2:mb.w-2,y2:mb.h-2}).setStroke("black");_a69.createLine({x1:2,y1:mb.h-2,x2:mb.w-2,y2:2}).setStroke("black");}}},_isReversal:function(){return(!this.horizontal)&&_a5f.some(this.chart.stack,function(item){return _a63.test(item.declaredClass);});}});});},"dojox/lang/functional/sequence":function(){define("dojox/lang/functional/sequence",["dojo/_base/lang","./lambda"],function(lang,df){lang.mixin(df,{repeat:function(n,f,z,o){o=o||dojo.global;f=df.lambda(f);var t=new Array(n),i=1;t[0]=z;for(;i<n;t[i]=z=f.call(o,z),++i){}return t;},until:function(pr,f,z,o){o=o||dojo.global;f=df.lambda(f);pr=df.lambda(pr);var t=[];for(;!pr.call(o,z);t.push(z),z=f.call(o,z)){}return t;}});return df;});},"dojox/form/nls/Uploader":function(){define("dojox/form/nls/Uploader",{root:({label:"Select Files..."}),"zh":true,"zh-tw":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true});},"dojox/grid/_Grid":function(){require({cache:{"url:dojox/grid/resources/_Grid.html":'<div hidefocus="hidefocus" role="grid" dojoAttachEvent="onmouseout:_mouseOut">\r\n\t<div class="dojoxGridMasterHeader" dojoAttachPoint="viewsHeaderNode" role="presentation"></div>\r\n\t<div class="dojoxGridMasterView" dojoAttachPoint="viewsNode" role="presentation"></div>\r\n\t<div class="dojoxGridMasterMessages" style="display: none;" dojoAttachPoint="messagesNode"></div>\r\n\t<span dojoAttachPoint="lastFocusNode" tabindex="0"></span>\r\n</div>\r\n'}});define("dojox/grid/_Grid",["dojo/_base/kernel","../main","dojo/_base/declare","./_Events","./_Scroller","./_Layout","./_View","./_ViewManager","./_RowManager","./_FocusManager","./_EditManager","./Selection","./_RowSelector","./util","dijit/_Widget","dijit/_TemplatedMixin","dijit/CheckedMenuItem","dojo/text!./resources/_Grid.html","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojox/html/metrics","dojo/_base/html","dojo/query","dojo/dnd/common","dojo/i18n!dijit/nls/loading"],function(dojo,_a6a,_a6b,_a6c,_a6d,_a6e,_a6f,_a70,_a71,_a72,_a73,_a74,_a75,util,_a76,_a77,_a78,_a79,_a7a,_a7b,lang,has,_a7c,html,_a7d){if(!dojo.isCopyKey){dojo.isCopyKey=dojo.dnd.getCopyKeyState;}var _a7e=_a6b("dojox.grid._Grid",[_a76,_a77,_a6c],{templateString:_a79,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,sortInfo:0,themeable:true,_placeholders:null,_layoutClass:_a6e,buildRendering:function(){this.inherited(arguments);if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();this.createSelection();this.connect(this.selection,"onSelected","onSelected");this.connect(this.selection,"onDeselected","onDeselected");this.connect(this.selection,"onChanged","onSelectionChanged");_a7c.initOnFontResize();this.connect(_a7c,"onFontResize","textSizeChanged");util.funnelEvents(this.domNode,this,"doKeyEvent",util.keyEvents);if(this.selectionMode!="none"){this.domNode.setAttribute("aria-multiselectable",this.selectionMode=="single"?"false":"true");}html.addClass(this.domNode,this.classTag);if(!this.isLeftToRight()){html.addClass(this.domNode,this.classTag+"Rtl");}},postMixInProperties:function(){this.inherited(arguments);var _a7f=dojo.i18n.getLocalization("dijit","loading",this.lang);this.loadingMessage=_a7a.substitute(this.loadingMessage,_a7f);this.errorMessage=_a7a.substitute(this.errorMessage,_a7f);if(this.srcNodeRef&&this.srcNodeRef.style.height){this.height=this.srcNodeRef.style.height;}this._setAutoHeightAttr(this.autoHeight,true);this.lastScrollTop=this.scrollTop=0;},postCreate:function(){this._placeholders=[];this._setHeaderMenuAttr(this.headerMenu);this._setStructureAttr(this.structure);this._click=[];this.inherited(arguments);if(this.domNode&&this.autoWidth&&this.initialWidth){this.domNode.style.width=this.initialWidth;}if(this.domNode&&!this.editable){html.attr(this.domNode,"aria-readonly","true");}},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;delete this._click;if(this.scroller){this.scroller.destroy();delete this.scroller;}this.edit.destroy();delete this.edit;this.views.destroyViews();if(this.focus){this.focus.destroy();delete this.focus;}if(this.headerMenu&&this._placeholders.length){_a7b.forEach(this._placeholders,function(p){p.unReplace(true);});this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.inherited(arguments);},_setAutoHeightAttr:function(ah,_a80){if(typeof ah=="string"){if(!ah||ah=="false"){ah=false;}else{if(ah=="true"){ah=true;}else{ah=window.parseInt(ah,10);}}}if(typeof ah=="number"){if(isNaN(ah)){ah=false;}if(ah<0){ah=true;}else{if(ah===0){ah=false;}}}this.autoHeight=ah;if(typeof ah=="boolean"){this._autoHeight=ah;}else{if(typeof ah=="number"){this._autoHeight=(ah>=this.get("rowCount"));}else{this._autoHeight=false;}}if(this._started&&!_a80){this.render();}},_getRowCountAttr:function(){return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;},textSizeChanged:function(){this.render();},sizeChange:function(){this.update();},createManagers:function(){this.rows=new _a71(this);this.focus=new _a72(this);this.edit=new _a73(this);},createSelection:function(){this.selection=new _a74(this);},createScroller:function(){this.scroller=new _a6d();this.scroller.grid=this;this.scroller.renderRow=lang.hitch(this,"renderRow");this.scroller.removeRow=lang.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new this._layoutClass(this);this.connect(this.layout,"moveColumn","onMoveColumn");},onMoveColumn:function(){this.render();},onResizeColumn:function(_a81){},createViews:function(){this.views=new _a70(this);this.views.createView=lang.hitch(this,"createView");},createView:function(_a82,idx){var c=lang.getObject(_a82);var view=new c({grid:this,index:idx});this.viewsNode.appendChild(view.domNode);this.viewsHeaderNode.appendChild(view.headerNode);this.views.addView(view);html.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||_a6a._scopeName+".grid._View",i).setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},_setStructureAttr:function(_a83){var s=_a83;if(s&&lang.isString(s)){dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");s=lang.getObject(s);}this.structure=s;if(!s){if(this.layout.structure){s=this.layout.structure;}else{return;}}this.views.destroyViews();this.focus.focusView=null;if(s!==this.layout.structure){this.layout.setStructure(s);}this._structureChanged();},setStructure:function(_a84){dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");this._setStructureAttr(_a84);},getColumnTogglingItems:function(){var _a85,_a86=[];_a85=_a7b.map(this.layout.cells,function(cell){if(!cell.menuItems){cell.menuItems=[];}var self=this;var item=new _a78({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_a87){if(self.layout.setColumnVisibility(this._gridCell.index,_a87)){var _a88=this._gridCell.menuItems;if(_a88.length>1){_a7b.forEach(_a88,function(item){if(item!==this){item.setAttribute("checked",_a87);}},this);}_a87=_a7b.filter(self.layout.cells,function(c){if(c.menuItems.length>1){_a7b.forEach(c.menuItems,"item.set('disabled', false);");}else{c.menuItems[0].set("disabled",false);}return !c.hidden;});if(_a87.length==1){_a7b.forEach(_a87[0].menuItems,"item.set('disabled', true);");}}},destroy:function(){var _a89=_a7b.indexOf(this._gridCell.menuItems,this);this._gridCell.menuItems.splice(_a89,1);delete this._gridCell;_a78.prototype.destroy.apply(this,arguments);}});cell.menuItems.push(item);if(!cell.hidden){_a86.push(item);}return item;},this);if(_a86.length==1){_a86[0].set("disabled",true);}return _a85;},_setHeaderMenuAttr:function(menu){if(this._placeholders&&this._placeholders.length){_a7b.forEach(this._placeholders,function(p){p.unReplace(true);});this._placeholders=[];}if(this.headerMenu){this.headerMenu.unBindDomNode(this.viewsHeaderNode);}this.headerMenu=menu;if(!menu){return;}this.headerMenu.bindDomNode(this.viewsHeaderNode);if(this.headerMenu.getPlaceholders){this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);}},setHeaderMenu:function(menu){dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");this._setHeaderMenuAttr(menu);},setupHeaderMenu:function(){if(this._placeholders&&this._placeholders.length){_a7b.forEach(this._placeholders,function(p){if(p._replaced){p.unReplace(true);}p.replace(this.getColumnTogglingItems());},this);}},_fetch:function(_a8a){this.setScrollTop(0);},getItem:function(_a8b){return null;},showMessage:function(_a8c){if(_a8c){this.messagesNode.innerHTML=_a8c;this.messagesNode.style.display="";}else{this.messagesNode.innerHTML="";this.messagesNode.style.display="none";}},_structureChanged:function(){this.buildViews();if(this.autoRender&&this._started){this.render();}},hasLayout:function(){return this.layout.cells.length;},resize:function(_a8d,_a8e){if(dojo.isIE&&!_a8d&&!_a8e&&this._autoHeight){return;}this._pendingChangeSize=_a8d;this._pendingResultSize=_a8e;this.sizeChange();},_getPadBorder:function(){this._padBorder=this._padBorder||html._getPadBorderExtents(this.domNode);return this._padBorder;},_getHeaderHeight:function(){var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();vns.height=t+"px";this.views.normalizeHeaderNodeHeight();return t;},_resize:function(_a8f,_a90){_a8f=_a8f||this._pendingChangeSize;_a90=_a90||this._pendingResultSize;delete this._pendingChangeSize;delete this._pendingResultSize;if(!this.domNode){return;}var pn=this.domNode.parentNode;if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){return;}var _a91=this._getPadBorder();var hh=undefined;var h;if(this._autoHeight){this.domNode.style.height="auto";}else{if(typeof this.autoHeight=="number"){h=hh=this._getHeaderHeight();h+=(this.scroller.averageRowHeight*this.autoHeight);this.domNode.style.height=h+"px";}else{if(this.domNode.clientHeight<=_a91.h){if(pn==document.body){this.domNode.style.height=this.defaultHeight;}else{if(this.height){this.domNode.style.height=this.height;}else{this.fitTo="parent";}}}}}if(_a90){_a8f=_a90;}if(!this._autoHeight&&_a8f){html.marginBox(this.domNode,_a8f);this.height=this.domNode.style.height;delete this.fitTo;}else{if(this.fitTo=="parent"){h=this._parentContentBoxHeight=this._parentContentBoxHeight||html._getContentBox(pn).h;this.domNode.style.height=Math.max(0,h)+"px";}}var _a92=_a7b.some(this.views.views,function(v){return v.flexCells;});if(!this._autoHeight&&(h||html._getContentBox(this.domNode).h)===0){this.viewsHeaderNode.style.display="none";}else{this.viewsHeaderNode.style.display="block";if(!_a92&&hh===undefined){hh=this._getHeaderHeight();}}if(_a92){hh=undefined;}this.adaptWidth();this.adaptHeight(hh);this.postresize();},adaptWidth:function(){var _a93=(!this.initialWidth&&this.autoWidth);var w=_a93?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);this.views.onEach("adaptWidth");if(_a93){this.domNode.style.width=vw+"px";}},adaptHeight:function(_a94){var t=_a94===undefined?this._getHeaderHeight():_a94;var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("adaptHeight");if(!this._autoHeight){var _a95=0,_a96=0;var _a97=_a7b.filter(this.views.views,function(v){var has=v.hasHScrollbar();if(has){_a95++;}else{_a96++;}return(!has);});if(_a95>0&&_a96>0){_a7b.forEach(_a97,function(v){v.adaptHeight(true);});}}if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){this.scroller.windowHeight=h;}else{this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);}},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.autoRender){this.render();}},render:function(){if(!this.domNode){return;}if(!this._started){return;}if(!this.hasLayout()){this.scroller.init(0,this.keepRows,this.rowsPerPage);return;}this.update=this.defaultUpdate;this._render();},_render:function(){this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.keepRows=this._autoHeight?0:this.keepRows;this.scroller.setKeepInfo(this.keepRows);this.views.render();this._resize();},postrender:function(){this.postresize();this.focus.initFocusView();html.setSelectable(this.domNode,this.selectable);},postresize:function(){if(this._autoHeight){var size=Math.max(this.views.measureContent())+"px";this.viewsNode.style.height=size;}},renderRow:function(_a98,_a99){this.views.renderRow(_a98,_a99,this._skipRowRenormalize);},rowRemoved:function(_a9a){this.views.rowRemoved(_a9a);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated,r;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=[];},defaultUpdate:function(){if(!this.domNode){return;}if(this.updating){this.invalidated.all=true;return;}this.lastScrollTop=this.scrollTop;this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.lastScrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_a9b){_a9b=Number(_a9b);if(this.updating){this.invalidated[_a9b]=true;}else{this.views.updateRow(_a9b);this.scroller.rowHeightChanged(_a9b);}},updateRows:function(_a9c,_a9d){_a9c=Number(_a9c);_a9d=Number(_a9d);var i;if(this.updating){for(i=0;i<_a9d;i++){this.invalidated[i+_a9c]=true;}}else{for(i=0;i<_a9d;i++){this.views.updateRow(i+_a9c,this._skipRowRenormalize);}this.scroller.rowHeightChanged(_a9c);}},updateRowCount:function(_a9e){if(this.updating){this.invalidated.rowCount=_a9e;}else{this.rowCount=_a9e;this._setAutoHeightAttr(this.autoHeight,true);if(this.layout.cells.length){this.scroller.updateRowCount(_a9e);}this._resize();if(this.layout.cells.length){this.setScrollTop(this.scrollTop);}}},updateRowStyles:function(_a9f){this.views.updateRowStyles(_a9f);},getRowNode:function(_aa0){if(this.focus.focusView&&!(this.focus.focusView instanceof _a75)){return this.focus.focusView.rowNodes[_aa0];}else{for(var i=0,_aa1;(_aa1=this.views.views[i]);i++){if(!(_aa1 instanceof _a75)){return _aa1.rowNodes[_aa0];}}}return null;},rowHeightChanged:function(_aa2){this.views.renormalizeRow(_aa2);this.scroller.rowHeightChanged(_aa2);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(has("ie")?100:50),scrollTo:function(_aa3){if(!this.fastScroll){this.setScrollTop(_aa3);return;}var _aa4=Math.abs(this.lastScrollTop-_aa3);this.lastScrollTop=_aa3;if(_aa4>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_aa3;this.views.setScrollTop(_aa3);if(this._pendingScroll){window.clearTimeout(this._pendingScroll);}var _aa5=this;this._pendingScroll=window.setTimeout(function(){delete _aa5._pendingScroll;_aa5.finishScrollJob();},200);}else{this.setScrollTop(_aa3);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_aa6){this.scroller.scroll(this.views.setScrollTop(_aa6));},scrollToRow:function(_aa7){this.setScrollTop(this.scroller.findScrollTop(_aa7)+1);},styleRowNode:function(_aa8,_aa9){if(_aa9){this.rows.styleRowNode(_aa8,_aa9);}},_mouseOut:function(e){this.rows.setOverRow(-2);},getCell:function(_aaa){return this.layout.cells[_aaa];},setCellWidth:function(_aab,_aac){this.getCell(_aab).unitWidth=_aac;},getCellName:function(_aad){return"Cell "+_aad.index;},canSort:function(_aae){},sort:function(){},getSortAsc:function(_aaf){_aaf=_aaf==undefined?this.sortInfo:_aaf;return Boolean(_aaf>0);},getSortIndex:function(_ab0){_ab0=_ab0==undefined?this.sortInfo:_ab0;return Math.abs(_ab0)-1;},setSortIndex:function(_ab1,_ab2){var si=_ab1+1;if(_ab2!=undefined){si*=(_ab2?1:-1);}else{if(this.getSortIndex()==_ab1){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_ab3){if(this.canSort(_ab3)){this.sortInfo=_ab3;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}return false;},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_ab4,_ab5){this.onStartEdit(_ab4,_ab5);},doApplyCellEdit:function(_ab6,_ab7,_ab8){this.onApplyCellEdit(_ab6,_ab7,_ab8);},doCancelEdit:function(_ab9){this.onCancelEdit(_ab9);},doApplyEdit:function(_aba){this.onApplyEdit(_aba);},addRow:function(){this.updateRowCount(this.get("rowCount")+1);},removeSelectedRows:function(){if(this.allItemsSelected){this.updateRowCount(0);}else{this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));}this.selection.clear();}});_a7e.markupFactory=function(_abb,node,ctor,_abc){var _abd=function(n){var w=html.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_abb.structure&&node.nodeName.toLowerCase()=="table"){_abb.structure=_a7d("> colgroup",node).map(function(cg){var sv=html.attr(cg,"span");var v={noscroll:(html.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};if(html.hasAttr(cg,"width")){v.width=_abd(cg);}return v;});if(!_abb.structure.length){_abb.structure.push({__span:Infinity,cells:[]});}_a7d("thead > tr",node).forEach(function(tr,_abe){var _abf=0;var _ac0=0;var _ac1;var _ac2=null;_a7d("> th",tr).map(function(th){if(!_ac2){_ac1=0;_ac2=_abb.structure[0];}else{if(_abf>=(_ac1+_ac2.__span)){_ac0++;_ac1+=_ac2.__span;var _ac3=_ac2;_ac2=_abb.structure[_ac0];}}var cell={name:lang.trim(html.attr(th,"name")||th.innerHTML),colSpan:parseInt(html.attr(th,"colspan")||1,10),type:lang.trim(html.attr(th,"cellType")||""),id:lang.trim(html.attr(th,"id")||"")};_abf+=cell.colSpan;var _ac4=html.attr(th,"rowspan");if(_ac4){cell.rowSpan=_ac4;}if(html.hasAttr(th,"width")){cell.width=_abd(th);}if(html.hasAttr(th,"relWidth")){cell.relWidth=window.parseInt(html.attr(th,"relWidth"),10);}if(html.hasAttr(th,"hidden")){cell.hidden=(html.attr(th,"hidden")=="true"||html.attr(th,"hidden")===true);}if(_abc){_abc(th,cell);}cell.type=cell.type?lang.getObject(cell.type):_a6a.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(th,cell);}if(!_ac2.cells[_abe]){_ac2.cells[_abe]=[];}_ac2.cells[_abe].push(cell);});});}return new ctor(_abb,node);};return _a7e;});},"dojox/grid/_Events":function(){define("dojox/grid/_Events",["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(keys,_ac5,_ac6,_ac7,has){return _ac6("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_ac8){var i=_ac8;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_ac8);this.edit.styleRow(_ac8);},onKeyDown:function(e){if(e.altKey||e.metaKey){return;}var _ac9;switch(e.keyCode){case keys.ESCAPE:this.edit.cancel();break;case keys.ENTER:if(!this.edit.isEditing()){_ac9=this.focus.getHeaderIndex();if(_ac9>=0){this.setSortIndex(_ac9);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_ac7.stop(e);}if(!e.shiftKey){var _aca=this.edit.isEditing();this.edit.apply();if(!_aca){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _acb=this.focus.focusView||this.views.views[0];_acb.content.decorateEvent(e);this.onRowClick(e);_ac7.stop(e);}break;case keys.SPACE:if(!this.edit.isEditing()){_ac9=this.focus.getHeaderIndex();if(_ac9>=0){this.setSortIndex(_ac9);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}_ac7.stop(e);}break;case keys.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case keys.LEFT_ARROW:case keys.RIGHT_ARROW:if(!this.edit.isEditing()){var _acc=e.keyCode;_ac7.stop(e);_ac9=this.focus.getHeaderIndex();if(_ac9>=0&&(e.shiftKey&&e.ctrlKey)){this.focus.colSizeAdjust(e,_ac9,(_acc==keys.LEFT_ARROW?-1:1)*5);}else{var _acd=(_acc==keys.LEFT_ARROW)?1:-1;if(this.isLeftToRight()){_acd*=-1;}this.focus.move(0,_acd);}}break;case keys.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_ac7.stop(e);this.focus.move(-1,0);}break;case keys.DOWN_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_ac7.stop(e);this.focus.move(1,0);}break;case keys.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){_ac7.stop(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case keys.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){_ac7.stop(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;default:break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function(e){if(e.cellNode){_ac5.add(e.cellNode,this.cellOverClass);}},onCellMouseOut:function(e){if(e.cellNode){_ac5.remove(e.cellNode,this.cellOverClass);}},onCellMouseDown:function(e){},onCellClick:function(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}if(this._click.length>1&&this._click[0]==null){this._click.shift();}this.onRowClick(e);},onCellDblClick:function(e){var _ace;if(this._click.length>1&&has("ie")){_ace=this._click[1];}else{if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){_ace=this._click[0];}else{_ace=e;}}this.focus.setFocusCell(_ace.cell,_ace.rowIndex);this.onRowClick(_ace);this.edit.setEditCell(_ace.cell,_ace.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_acf,_ad0){this.edit.cellFocus(_acf,_ad0);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowMouseDown:function(e){},onRowContextMenu:function(e){_ac7.stop(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){if(e.cellNode){_ac5.add(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function(e){if(e.cellNode){_ac5.remove(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function(e){},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){if(!this.headerMenu){_ac7.stop(e);}},onStartEdit:function(_ad1,_ad2){},onApplyCellEdit:function(_ad3,_ad4,_ad5){},onCancelEdit:function(_ad6){},onApplyEdit:function(_ad7){},onCanSelect:function(_ad8){return true;},onCanDeselect:function(_ad9){return true;},onSelected:function(_ada){this.updateRowStyles(_ada);},onDeselected:function(_adb){this.updateRowStyles(_adb);},onSelectionChanged:function(){}});});},"dojox/grid/enhanced/plugins/Pagination":function(){require({cache:{"url:dojox/grid/enhanced/templates/Pagination.html":'<div dojoAttachPoint="paginatorBar"\r\n\t><table cellpadding="0" cellspacing="0"  class="dojoxGridPaginator"\r\n\t\t><tr\r\n\t\t\t><td dojoAttachPoint="descriptionTd" class="dojoxGridDescriptionTd"\r\n\t\t\t\t><div dojoAttachPoint="descriptionDiv" class="dojoxGridDescription"></div\r\n\t\t\t></div></td\r\n\t\t\t><td dojoAttachPoint="sizeSwitchTd"></td\r\n\t\t\t><td dojoAttachPoint="pageStepperTd" class="dojoxGridPaginatorFastStep"\r\n\t\t\t\t><div dojoAttachPoint="pageStepperDiv" class="dojoxGridPaginatorStep"></div\r\n\t\t\t></td\r\n\t\t\t><td dojoAttachPoint="gotoPageTd" class="dojoxGridPaginatorGotoTd"\r\n\t\t\t\t><div dojoAttachPoint="gotoPageDiv" class="dojoxGridPaginatorGotoDiv" dojoAttachEvent="onclick:_openGotopageDialog, onkeydown:_openGotopageDialog"\r\n\t\t\t\t\t><span class="dojoxGridWardButtonInner">&#8869;</span\r\n\t\t\t\t></div\r\n\t\t\t></td\r\n\t\t></tr\r\n\t></table\r\n></div>\r\n'}});define("dojox/grid/enhanced/plugins/Pagination",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/_base/window","dojo/query","dojo/string","dojo/i18n","dojo/keys","dojo/text!../templates/Pagination.html","./Dialog","./_StoreLayer","../_Plugin","../../EnhancedGrid","dijit/form/Button","dijit/form/NumberTextBox","dijit/focus","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/html/metrics","dojo/i18n!../nls/Pagination"],function(_adc,_add,_ade,_adf,lang,html,_ae0,win,_ae1,_ae2,i18n,keys,_ae3,_ae4,_ae5,_ae6,_ae7,_ae8,_ae9,_aea,_aeb,_aec,_aed,_aee){var _aef=_add("dojox.grid.enhanced.plugins.pagination._GotoPagePane",[_aeb,_aec,_aed],{templateString:"<div>"+"<div class='dojoxGridDialogMargin' dojoAttachPoint='_mainMsgNode'></div>"+"<div class='dojoxGridDialogMargin'>"+"<input dojoType='dijit.form.NumberTextBox' style='width: 50px;' dojoAttachPoint='_pageInputBox' dojoAttachEvent='onKeyUp: _onKey'></input>"+"<label dojoAttachPoint='_pageLabelNode'></label>"+"</div>"+"<div class='dojoxGridDialogButton'>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_confirmBtn' dojoAttachEvent='onClick: _onConfirm'></button>"+"<button dojoType='dijit.form.Button' dojoAttachPoint='_cancelBtn' dojoAttachEvent='onClick: _onCancel'></button>"+"</div>"+"</div>",widgetsInTemplate:true,dlg:null,postMixInProperties:function(){this.plugin=this.dlg.plugin;},postCreate:function(){this.inherited(arguments);this._mainMsgNode.innerHTML=this.plugin._nls[12];this._confirmBtn.set("label",this.plugin._nls[14]);this._confirmBtn.set("disabled",true);this._cancelBtn.set("label",this.plugin._nls[15]);},_onConfirm:function(evt){if(this._pageInputBox.isValid()&&this._pageInputBox.getDisplayedValue()!==""){this.plugin.currentPage(this._pageInputBox.parse(this._pageInputBox.getDisplayedValue()));this.dlg._gotoPageDialog.hide();this._pageInputBox.reset();}_af0(evt);},_onCancel:function(evt){this._pageInputBox.reset();this.dlg._gotoPageDialog.hide();_af0(evt);},_onKey:function(evt){this._confirmBtn.set("disabled",!this._pageInputBox.isValid()||this._pageInputBox.getDisplayedValue()=="");if(!evt.altKey&&!evt.metaKey&&evt.keyCode===keys.ENTER){this._onConfirm(evt);}}});var _af1=_add("dojox.grid.enhanced.plugins.pagination._GotoPageDialog",null,{pageCount:0,dlgPane:null,constructor:function(_af2){this.plugin=_af2;this.dlgPane=new _aef({"dlg":this});this.dlgPane.startup();this._gotoPageDialog=new _ae4({"refNode":_af2.grid.domNode,"title":this.plugin._nls[11],"content":this.dlgPane});this._gotoPageDialog.startup();},_updatePageCount:function(){this.pageCount=this.plugin.getTotalPageNum();this.dlgPane._pageInputBox.constraints={fractional:false,min:1,max:this.pageCount};this.dlgPane._pageLabelNode.innerHTML=_ae2.substitute(this.plugin._nls[13],[this.pageCount]);},showDialog:function(){this._updatePageCount();this._gotoPageDialog.show();},destroy:function(){this._gotoPageDialog.destroy();}});var _af3=_add("dojox.grid.enhanced.plugins._ForcedPageStoreLayer",_ae5._StoreLayer,{tags:["presentation"],constructor:function(_af4){this._plugin=_af4;},_fetch:function(_af5){var _af6=this,_af7=_af6._plugin,grid=_af7.grid,_af8=_af5.scope||win.global,_af9=_af5.onBegin;_af5.start=(_af7._currentPage-1)*_af7._currentPageSize+_af5.start;_af6.startIdx=_af5.start;_af6.endIdx=_af5.start+_af7._currentPageSize-1;var p=_af7._paginator;if(!_af7._showAll){_af7._showAll=!p.sizeSwitch&&!p.pageStepper&&!p.gotoButton;}if(_af9&&_af7._showAll){_af5.onBegin=function(size,req){_af7._maxSize=_af7._currentPageSize=size;_af6.startIdx=0;_af6.endIdx=size-1;_af7._paginator._update();req.onBegin=_af9;req.onBegin.call(_af8,size,req);};}else{if(_af9){_af5.onBegin=function(size,req){req.start=0;req.count=_af7._currentPageSize;_af7._maxSize=size;_af6.endIdx=_af6.endIdx>=size?(size-1):_af6.endIdx;if(_af6.startIdx>size&&size!==0){grid._pending_requests[req.start]=false;_af7.firstPage();}_af7._paginator._update();req.onBegin=_af9;req.onBegin.call(_af8,Math.min(_af7._currentPageSize,(size-_af6.startIdx)),req);};}}return lang.hitch(this._store,this._originFetch)(_af5);}});var _af0=function(evt){try{_ae0.stop(evt);}catch(e){}};var _afa=_add("dojox.grid.enhanced.plugins.pagination._Focus",null,{_focusedNode:null,_isFocused:false,constructor:function(_afb){this._pager=_afb;var _afc=_afb.plugin.grid.focus;_afb.plugin.connect(_afb,"onSwitchPageSize",lang.hitch(this,"_onActive"));_afb.plugin.connect(_afb,"onPageStep",lang.hitch(this,"_onActive"));_afb.plugin.connect(_afb,"onShowGotoPageDialog",lang.hitch(this,"_onActive"));_afb.plugin.connect(_afb,"_update",lang.hitch(this,"_moveFocus"));},_onFocus:function(evt,step){var node,_afd;if(!this._isFocused){node=this._focusedNode||_ae1("[tabindex]",this._pager.domNode)[0];}else{if(step&&this._focusedNode){var dir=step>0?-1:1,_afe=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_afe>=-3&&_afe<0){node=_ae1("[tabindex="+_afe+"]",this._pager.domNode)[0];if(node){break;}else{_afe+=dir;}}}}return this._focus(node,evt);},_onBlur:function(evt,step){if(!step||!this._focusedNode){this._isFocused=false;if(this._focusedNode&&html.hasClass(this._focusedNode,"dojoxGridButtonFocus")){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}return true;}var node,dir=step>0?-1:1,_aff=parseInt(this._focusedNode.getAttribute("tabindex"),10)+dir;while(_aff>=-3&&_aff<0){node=_ae1("[tabindex="+_aff+"]",this._pager.domNode)[0];if(node){break;}else{_aff+=dir;}}if(!node){this._isFocused=false;if(html.hasClass(this._focusedNode,"dojoxGridButtonFocus")){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}}return node?false:true;},_onMove:function(_b00,_b01,evt){if(this._focusedNode){var _b02=this._focusedNode.getAttribute("tabindex"),_b03=_b01==1?"nextSibling":"previousSibling",node=this._focusedNode[_b03];while(node){if(node.getAttribute("tabindex")==_b02){this._focus(node);break;}node=node[_b03];}}},_focus:function(node,evt){if(node){this._isFocused=true;if(_adc.isIE&&this._focusedNode){html.removeClass(this._focusedNode,"dojoxGridButtonFocus");}this._focusedNode=node;node.focus();if(_adc.isIE){html.addClass(node,"dojoxGridButtonFocus");}_af0(evt);return true;}return false;},_onActive:function(e){this._focusedNode=e.target;if(!this._isFocused){this._pager.plugin.grid.focus.focusArea("pagination"+this._pager.position);}},_moveFocus:function(){if(this._focusedNode&&!this._focusedNode.getAttribute("tabindex")){var next=this._focusedNode.nextSibling;while(next){if(next.getAttribute("tabindex")){this._focus(next);return;}next=next.nextSibling;}var prev=this._focusedNode.previousSibling;while(prev){if(prev.getAttribute("tabindex")){this._focus(prev);return;}prev=prev.previousSibling;}this._focusedNode=null;this._onBlur();}else{if(_adc.isIE&&this._focusedNode){html.addClass(this._focusedNode,"dojoxGridButtonFocus");}}}});var _b04=_add("dojox.grid.enhanced.plugins._Paginator",[_aeb,_aec],{templateString:_ae3,constructor:function(_b05){lang.mixin(this,_b05);this.grid=this.plugin.grid;},postCreate:function(){this.inherited(arguments);var _b06=this,g=this.grid;this.plugin.connect(g,"_resize",lang.hitch(this,"_resetGridHeight"));this._originalResize=g.resize;g.resize=function(_b07,_b08){_b06._changeSize=_b07;_b06._resultSize=_b08;_b06._originalResize.apply(g,arguments);};this.focus=_afa(this);this._placeSelf();},destroy:function(){this.inherited(arguments);this.grid.focus.removeArea("pagination"+this.position);if(this._gotoPageDialog){this._gotoPageDialog.destroy();}this.grid.resize=this._originalResize;},onSwitchPageSize:function(evt){},onPageStep:function(evt){},onShowGotoPageDialog:function(evt){},_update:function(){this._updateDescription();this._updatePageStepper();this._updateSizeSwitch();this._updateGotoButton();},_registerFocus:function(_b09){var _b0a=this.grid.focus,name="pagination"+this.position,f=this.focus;_b0a.addArea({name:name,onFocus:lang.hitch(this.focus,"_onFocus"),onBlur:lang.hitch(this.focus,"_onBlur"),onMove:lang.hitch(this.focus,"_onMove")});_b0a.placeArea(name,_b09?"before":"after",_b09?"header":"content");},_placeSelf:function(){var g=this.grid,_b0b=this.position=="top";this.placeAt(_b0b?g.viewsHeaderNode:g.viewsNode,_b0b?"before":"after");this._registerFocus(_b0b);},_resetGridHeight:function(_b0c,_b0d){var g=this.grid;_b0c=_b0c||this._changeSize;_b0d=_b0d||this._resultSize;delete this._changeSize;delete this._resultSize;if(g._autoHeight){return;}var _b0e=g._getPadBorder().h;if(!this.plugin.gh){this.plugin.gh=html.contentBox(g.domNode).h+2*_b0e;}if(_b0d){_b0c=_b0d;}if(_b0c){this.plugin.gh=html.contentBox(g.domNode).h+2*_b0e;}var gh=this.plugin.gh,hh=g._getHeaderHeight(),ph=html.marginBox(this.domNode).h;if(typeof g.autoHeight==="number"){var cgh=gh+ph-_b0e;html.style(g.domNode,"height",cgh+"px");html.style(g.viewsNode,"height",(cgh-ph-hh)+"px");this._styleMsgNode(hh,html.marginBox(g.viewsNode).w,cgh-ph-hh);}else{var h=gh-ph-hh-_b0e;html.style(g.viewsNode,"height",h+"px");var _b0f=_ade.some(g.views.views,function(v){return v.hasHScrollbar();});_ade.forEach(g.viewsNode.childNodes,function(c){html.style(c,"height",h+"px");});_ade.forEach(g.views.views,function(v){if(v.scrollboxNode){if(!v.hasHScrollbar()&&_b0f){html.style(v.scrollboxNode,"height",(h-_aee.getScrollbar().h)+"px");}else{html.style(v.scrollboxNode,"height",h+"px");}}});this._styleMsgNode(hh,html.marginBox(g.viewsNode).w,h);}},_styleMsgNode:function(top,_b10,_b11){var _b12=this.grid.messagesNode;html.style(_b12,{"position":"absolute","top":top+"px","width":_b10+"px","height":_b11+"px","z-Index":"100"});},_updateDescription:function(){var s=this.plugin.forcePageStoreLayer,_b13=this.plugin._maxSize,nls=this.plugin._nls,_b14=function(){return _b13<=0||_b13==1?nls[5]:nls[4];};if(this.description&&this.descriptionDiv){this.descriptionDiv.innerHTML=_b13>0?_ae2.substitute(nls[0],[_b14(),_b13,s.startIdx+1,s.endIdx+1]):"0 "+_b14();}},_updateSizeSwitch:function(){html.style(this.sizeSwitchTd,"display",this.sizeSwitch?"":"none");if(!this.sizeSwitch){return;}if(this.sizeSwitchTd.childNodes.length<1){this._createSizeSwitchNodes();}this._updateSwitchNodesStyle();},_createSizeSwitchNodes:function(){var node=null,nls=this.plugin._nls,_adf=lang.hitch(this.plugin,"connect");_ade.forEach(this.pageSizes,function(size){var _b15=isFinite(size)?_ae2.substitute(nls[2],[size]):nls[1],_b16=isFinite(size)?size:nls[16];node=html.create("span",{innerHTML:_b16,title:_b15,value:size,tabindex:"-1"},this.sizeSwitchTd,"last");node.setAttribute("aria-label",_b15);_adf(node,"onclick",lang.hitch(this,"_onSwitchPageSize"));_adf(node,"onkeydown",lang.hitch(this,"_onSwitchPageSize"));_adf(node,"onmouseover",function(e){html.addClass(e.target,"dojoxGridPageTextHover");});_adf(node,"onmouseout",function(e){html.removeClass(e.target,"dojoxGridPageTextHover");});node=html.create("span",{innerHTML:"|"},this.sizeSwitchTd,"last");html.addClass(node,"dojoxGridSeparator");},this);html.destroy(node);},_updateSwitchNodesStyle:function(){var size=null;var _b17=function(node,_b18){if(_b18){html.addClass(node,"dojoxGridActivedSwitch");html.removeAttr(node,"tabindex");}else{html.addClass(node,"dojoxGridInactiveSwitch");node.setAttribute("tabindex","-1");}};_ade.forEach(this.sizeSwitchTd.childNodes,function(node){if(node.value){html.removeClass(node);size=node.value;if(this.plugin._showAll){_b17(node,isNaN(parseInt(size,10)));}else{_b17(node,this.plugin._currentPageSize==size);}}},this);},_updatePageStepper:function(){html.style(this.pageStepperTd,"display",this.pageStepper?"":"none");if(!this.pageStepper){return;}if(this.pageStepperDiv.childNodes.length<1){this._createPageStepNodes();this._createWardBtns();}else{this._resetPageStepNodes();}this._updatePageStepNodesStyle();},_createPageStepNodes:function(){var _b19=this._getStartPage(),_b1a=this._getStepPageSize(),_b1b="",node=null,i=_b19,_adf=lang.hitch(this.plugin,"connect");for(;i<_b19+this.maxPageStep+1;i++){_b1b=_ae2.substitute(this.plugin._nls[3],[i]);node=html.create("div",{innerHTML:i,value:i,title:_b1b},this.pageStepperDiv,"last");node.setAttribute("aria-label",_b1b);_adf(node,"onclick",lang.hitch(this,"_onPageStep"));_adf(node,"onkeydown",lang.hitch(this,"_onPageStep"));_adf(node,"onmouseover",function(e){html.addClass(e.target,"dojoxGridPageTextHover");});_adf(node,"onmouseout",function(e){html.removeClass(e.target,"dojoxGridPageTextHover");});html.style(node,"display",i<_b19+_b1a?"":"none");}},_createWardBtns:function(){var _b1c=this,nls=this.plugin._nls;var _b1d={prevPage:"&#60;",firstPage:"&#171;",nextPage:"&#62;",lastPage:"&#187;"};var _b1e=function(_b1f,_b20,_b21){var node=html.create("div",{value:_b1f,title:_b20,tabindex:"-2"},_b1c.pageStepperDiv,_b21);_b1c.plugin.connect(node,"onclick",lang.hitch(_b1c,"_onPageStep"));_b1c.plugin.connect(node,"onkeydown",lang.hitch(_b1c,"_onPageStep"));node.setAttribute("aria-label",_b20);var _b22=html.create("span",{value:_b1f,title:_b20,innerHTML:_b1d[_b1f]},node,_b21);html.addClass(_b22,"dojoxGridWardButtonInner");};_b1e("prevPage",nls[6],"first");_b1e("firstPage",nls[7],"first");_b1e("nextPage",nls[8],"last");_b1e("lastPage",nls[9],"last");},_resetPageStepNodes:function(){var _b23=this._getStartPage(),_b24=this._getStepPageSize(),_b25=this.pageStepperDiv.childNodes,node=null,i=_b23,j=2,tip;for(;j<_b25.length-2;j++,i++){node=_b25[j];if(i<_b23+_b24){tip=_ae2.substitute(this.plugin._nls[3],[i]);html.attr(node,{"innerHTML":i,"title":tip,"value":i});html.style(node,"display","");node.setAttribute("aria-label",tip);}else{html.style(node,"display","none");}}},_updatePageStepNodesStyle:function(){var _b26=null,_b27=this.plugin.currentPage(),_b28=this.plugin.getTotalPageNum();var _b29=function(node,_b2a,_b2b){var _b2c=node.value,_b2d=_b2a?"dojoxGrid"+_b2c+"Btn":"dojoxGridInactived",_b2e=_b2a?"dojoxGrid"+_b2c+"BtnDisable":"dojoxGridActived";if(_b2b){html.addClass(node,_b2e);html.removeAttr(node,"tabindex");}else{html.addClass(node,_b2d);node.setAttribute("tabindex","-2");}};_ade.forEach(this.pageStepperDiv.childNodes,function(node){html.removeClass(node);if(isNaN(parseInt(node.value,10))){html.addClass(node,"dojoxGridWardButton");var _b2f=node.value=="prevPage"||node.value=="firstPage"?1:_b28;_b29(node,true,(_b27===_b2f));}else{_b26=parseInt(node.value,10);_b29(node,false,(_b26===_b27||html.style(node,"display")==="none"));}},this);},_showGotoButton:function(flag){this.gotoButton=flag;this._updateGotoButton();},_updateGotoButton:function(){if(!this.gotoButton){if(this._gotoPageDialog){this._gotoPageDialog.destroy();}html.removeAttr(this.gotoPageDiv,"tabindex");html.style(this.gotoPageTd,"display","none");return;}if(html.style(this.gotoPageTd,"display")=="none"){html.style(this.gotoPageTd,"display","");}this.gotoPageDiv.setAttribute("title",this.plugin._nls[10]);html.toggleClass(this.gotoPageDiv,"dojoxGridPaginatorGotoDivDisabled",this.plugin.getTotalPageNum()<=1);if(this.plugin.getTotalPageNum()<=1){html.removeAttr(this.gotoPageDiv,"tabindex");}else{this.gotoPageDiv.setAttribute("tabindex","-3");}},_openGotopageDialog:function(e){if(this.plugin.getTotalPageNum()<=1){return;}if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}if(!this._gotoPageDialog){this._gotoPageDialog=new _af1(this.plugin);}this._gotoPageDialog.showDialog();this.onShowGotoPageDialog(e);},_onSwitchPageSize:function(e){if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}this.onSwitchPageSize(e);this.plugin.currentPageSize(e.target.value);},_onPageStep:function(e){if(e.type==="keydown"&&e.keyCode!==keys.ENTER&&e.keyCode!==keys.SPACE){return;}var p=this.plugin,_b30=e.target.value;this.onPageStep(e);if(!isNaN(parseInt(_b30,10))){p.currentPage(parseInt(_b30,10));}else{p[_b30]();}},_getStartPage:function(){var cp=this.plugin.currentPage(),ms=this.maxPageStep,hs=parseInt(ms/2,10),tp=this.plugin.getTotalPageNum();if(cp<hs||(cp-hs)<1||tp<=ms){return 1;}else{return tp-cp<hs&&cp-ms>=0?tp-ms+1:cp-hs;}},_getStepPageSize:function(){var sp=this._getStartPage(),tp=this.plugin.getTotalPageNum(),ms=this.maxPageStep;return sp+ms>tp?tp-sp+1:ms;}});var _b31=_add("dojox.grid.enhanced.plugins.Pagination",_ae6,{name:"pagination",defaultPageSize:25,defaultPage:1,description:true,sizeSwitch:true,pageStepper:true,gotoButton:false,pageSizes:[10,25,50,100,Infinity],maxPageStep:7,position:"bottom",init:function(){var g=this.grid;g.usingPagination=true;this._initOptions();this._currentPage=this.defaultPage;this._currentPageSize=this.grid.rowsPerPage=this.defaultPageSize;this._store=g.store;this.forcePageStoreLayer=new _af3(this);_ae5.wrap(g,"_storeLayerFetch",this.forcePageStoreLayer);this._paginator=this.option.position!="top"?new _b04(lang.mixin(this.option,{position:"bottom",plugin:this})):new _b04(lang.mixin(this.option,{position:"top",plugin:this}));this._regApis();},destroy:function(){this.inherited(arguments);this._paginator.destroy();var g=this.grid;g.unwrap(this.forcePageStoreLayer.name());g.scrollToRow=this._gridOriginalfuncs[0];g._onNew=this._gridOriginalfuncs[1];g.removeSelectedRows=this._gridOriginalfuncs[2];this._paginator=null;this._nls=null;},currentPage:function(page){if(page<=this.getTotalPageNum()&&page>0&&this._currentPage!==page){this._currentPage=page;this.grid._refresh(true);this.grid.resize();}return this._currentPage;},nextPage:function(){this.currentPage(this._currentPage+1);},prevPage:function(){this.currentPage(this._currentPage-1);},firstPage:function(){this.currentPage(1);},lastPage:function(){this.currentPage(this.getTotalPageNum());},currentPageSize:function(size){if(!isNaN(size)){var g=this.grid,_b32=this._currentPageSize*(this._currentPage-1),_b33;this._showAll=!isFinite(size);this.grid.usingPagination=!this._showAll;this._currentPageSize=this._showAll?this._maxSize:size;g.rowsPerPage=this._showAll?this._defaultRowsPerPage:size;_b33=_b32+Math.min(this._currentPageSize,this._maxSize);if(_b33>this._maxSize){this.lastPage();}else{var cp=Math.ceil(_b32/this._currentPageSize)+1;if(cp!==this._currentPage){this.currentPage(cp);}else{this.grid._refresh(true);}}this.grid.resize();}return this._currentPageSize;},getTotalPageNum:function(){return Math.ceil(this._maxSize/this._currentPageSize);},getTotalRowCount:function(){return this._maxSize;},scrollToRow:function(_b34){var page=parseInt(_b34/this._currentPageSize,10)+1;if(page>this.getTotalPageNum()){return;}this.currentPage(page);var _b35=_b34%this._currentPageSize;return this._gridOriginalfuncs[0](_b35);},removeSelectedRows:function(){this._multiRemoving=true;this._gridOriginalfuncs[2].apply();this._multiRemoving=false;if(this.grid.store.save){this.grid.store.save();}this.grid.resize();this.grid._refresh();},showGotoPageButton:function(flag){this._paginator.gotoButton=flag;this._paginator._updateGotoButton();},gotoPage:function(page){_adc.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoPage(page)","use dojox.grid.enhanced.EnhancedGrid.currentPage(page) instead","1.8");this.currentPage(page);},gotoFirstPage:function(){_adc.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoFirstPage()","use dojox.grid.enhanced.EnhancedGrid.firstPage() instead","1.8");this.firstPage();},gotoLastPage:function(){_adc.deprecated("dojox.grid.enhanced.EnhancedGrid.gotoLastPage()","use dojox.grid.enhanced.EnhancedGrid.lastPage() instead","1.8");this.lastPage();},changePageSize:function(size){_adc.deprecated("dojox.grid.enhanced.EnhancedGrid.changePageSize(size)","use dojox.grid.enhanced.EnhancedGrid.currentPageSize(size) instead","1.8");this.currentPageSize(size);},_nls:null,_showAll:false,_maxSize:0,_defaultRowsPerPage:25,_currentPage:1,_currentPageSize:25,_initOptions:function(){this._defaultRowsPerPage=this.grid.rowsPerPage||25;this.defaultPage=this.option.defaultPage>=1?parseInt(this.option.defaultPage,10):1;this.option.description=this.option.description!==undefined?!!this.option.description:this.description;this.option.sizeSwitch=this.option.sizeSwitch!==undefined?!!this.option.sizeSwitch:this.sizeSwitch;this.option.pageStepper=this.option.pageStepper!==undefined?!!this.option.pageStepper:this.pageStepper;this.option.gotoButton=this.option.gotoButton!==undefined?!!this.option.gotoButton:this.gotoButton;if(lang.isArray(this.option.pageSizes)){var _b36=[];_ade.forEach(this.option.pageSizes,function(size){size=typeof size=="number"?size:parseInt(size,10);if(!isNaN(size)&&size>0){_b36.push(size);}else{if(_ade.indexOf(_b36,Infinity)<0){_b36.push(Infinity);}}},this);this.option.pageSizes=_b36.sort(function(a,b){return a-b;});}else{this.option.pageSizes=this.pageSizes;}this.defaultPageSize=this.option.defaultPageSize>=1?parseInt(this.option.defaultPageSize,10):this.pageSizes[0];this.option.maxPageStep=this.option.maxPageStep>0?this.option.maxPageStep:this.maxPageStep;this.option.position=lang.isString(this.option.position)?this.option.position.toLowerCase():this.position;var nls=i18n.getLocalization("dojox.grid.enhanced","Pagination");this._nls=[nls.descTemplate,nls.allItemsLabelTemplate,nls.pageSizeLabelTemplate,nls.pageStepLabelTemplate,nls.itemTitle,nls.singularItemTitle,nls.prevTip,nls.firstTip,nls.nextTip,nls.lastTip,nls.gotoButtonTitle,nls.dialogTitle,nls.dialogIndication,nls.pageCountIndication,nls.dialogConfirm,nls.dialogCancel,nls.all];},_regApis:function(){var g=this.grid;g.currentPage=lang.hitch(this,this.currentPage);g.nextPage=lang.hitch(this,this.nextPage);g.prevPage=lang.hitch(this,this.prevPage);g.firstPage=lang.hitch(this,this.firstPage);g.lastPage=lang.hitch(this,this.lastPage);g.currentPageSize=lang.hitch(this,this.currentPageSize);g.showGotoPageButton=lang.hitch(this,this.showGotoPageButton);g.getTotalRowCount=lang.hitch(this,this.getTotalRowCount);g.getTotalPageNum=lang.hitch(this,this.getTotalPageNum);g.gotoPage=lang.hitch(this,this.gotoPage);g.gotoFirstPage=lang.hitch(this,this.gotoFirstPage);g.gotoLastPage=lang.hitch(this,this.gotoLastPage);g.changePageSize=lang.hitch(this,this.changePageSize);this._gridOriginalfuncs=[lang.hitch(g,g.scrollToRow),lang.hitch(g,g._onNew),lang.hitch(g,g.removeSelectedRows)];g.scrollToRow=lang.hitch(this,this.scrollToRow);g.removeSelectedRows=lang.hitch(this,this.removeSelectedRows);g._onNew=lang.hitch(this,this._onNew);this.connect(g,"_onDelete",lang.hitch(this,this._onDelete));},_onNew:function(item,_b37){var _b38=this.getTotalPageNum();if(((this._currentPage===_b38||_b38===0)&&this.grid.get("rowCount")<this._currentPageSize)||this._showAll){lang.hitch(this.grid,this._gridOriginalfuncs[1])(item,_b37);this.forcePageStoreLayer.endIdx++;}this._maxSize++;if(this._showAll){this._currentPageSize++;}if(this._showAll&&this.grid.autoHeight){this.grid._refresh();}else{this._paginator._update();}},_onDelete:function(){if(!this._multiRemoving){this.grid.resize();if(this._showAll){this.grid._refresh();}}if(this.grid.get("rowCount")===0){this.prevPage();}}});_ae7.registerPlugin(_b31);return _b31;});},"dojox/charting/plot2d/Pie":function(){define("dojox/charting/plot2d/Pie",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","../Element","./_PlotEvents","./common","../axis2d/common","dojox/gfx","dojox/gfx/matrix","dojox/lang/functional","dojox/lang/utils"],function(lang,arr,_b39,_b3a,_b3b,dc,da,g,m,df,du){var _b3c=0.2;return _b39("dojox.charting.plot2d.Pie",[_b3a,_b3b],{defaultParams:{labels:true,ticks:false,fixed:true,precision:1,labelOffset:20,labelStyle:"default",htmlLabels:true,radGrad:"native",fanSize:5,startAngle:0},optionalParams:{radius:0,stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:"",labelWiring:{}},constructor:function(_b3d,_b3e){this.opt=lang.clone(this.defaultParams);du.updateWithObject(this.opt,_b3e);du.updateWithPattern(this.opt,_b3e,this.optionalParams);this.run=null;this.dyn=[];},clear:function(){this.dirty=true;this.dyn=[];this.run=null;return this;},setAxis:function(axis){return this;},addSeries:function(run){this.run=run;return this;},getSeriesStats:function(){return lang.delegate(dc.defaultStats);},initializeScalers:function(){return this;},getRequiredColors:function(){return this.run?this.run.data.length:0;},render:function(dim,_b3f){if(!this.dirty){return this;}this.resetEvents();this.dirty=false;this._eventSeries={};this.cleanGroup();var s=this.group,t=this.chart.theme;if(!this.run||!this.run.data.length){return this;}var rx=(dim.width-_b3f.l-_b3f.r)/2,ry=(dim.height-_b3f.t-_b3f.b)/2,r=Math.min(rx,ry),_b40="font" in this.opt?this.opt.font:t.axis.font,size=_b40?g.normalizedLength(g.splitFontString(_b40).size):0,_b41="fontColor" in this.opt?this.opt.fontColor:t.axis.fontColor,_b42=m._degToRad(this.opt.startAngle),_b43=_b42,step,_b44,_b45,_b46,_b47,_b48,run=this.run.data,_b49=this.events();if(typeof run[0]=="number"){_b44=df.map(run,"x ? Math.max(x, 0) : 0");if(df.every(_b44,"<= 0")){return this;}_b45=df.map(_b44,"/this",df.foldl(_b44,"+",0));if(this.opt.labels){_b46=arr.map(_b45,function(x){return x>0?this._getLabel(x*100)+"%":"";},this);}}else{_b44=df.map(run,"x ? Math.max(x.y, 0) : 0");if(df.every(_b44,"<= 0")){return this;}_b45=df.map(_b44,"/this",df.foldl(_b44,"+",0));if(this.opt.labels){_b46=arr.map(_b45,function(x,i){if(x<=0){return"";}var v=run[i];return"text" in v?v.text:this._getLabel(x*100)+"%";},this);}}var _b4a=df.map(run,function(v,i){if(v===null||typeof v=="number"){return t.next("slice",[this.opt,this.run],true);}return t.next("slice",[this.opt,this.run,v],true);},this);if(this.opt.labels){_b47=df.foldl1(df.map(_b46,function(_b4b,i){var font=_b4a[i].series.font;return g._base._getTextBox(_b4b,{font:font}).w;},this),"Math.max(a, b)")/2;if(this.opt.labelOffset<0){r=Math.min(rx-2*_b47,ry-size)+this.opt.labelOffset;}_b48=r-this.opt.labelOffset;}if("radius" in this.opt){r=this.opt.radius;_b48=r-this.opt.labelOffset;}var _b4c={cx:_b3f.l+rx,cy:_b3f.t+ry,r:r};this.dyn=[];var _b4d=new Array(_b45.length);arr.some(_b45,function(_b4e,i){if(_b4e<0){return false;}if(_b4e==0){this.dyn.push({fill:null,stroke:null});return false;}var v=run[i],_b4f=_b4a[i],_b50;if(_b4e>=1){_b50=this._plotFill(_b4f.series.fill,dim,_b3f);_b50=this._shapeFill(_b50,{x:_b4c.cx-_b4c.r,y:_b4c.cy-_b4c.r,width:2*_b4c.r,height:2*_b4c.r});_b50=this._pseudoRadialFill(_b50,{x:_b4c.cx,y:_b4c.cy},_b4c.r);var _b51=s.createCircle(_b4c).setFill(_b50).setStroke(_b4f.series.stroke);this.dyn.push({fill:_b50,stroke:_b4f.series.stroke});if(_b49){var o={element:"slice",index:i,run:this.run,shape:_b51,x:i,y:typeof v=="number"?v:v.y,cx:_b4c.cx,cy:_b4c.cy,cr:r};this._connectEvents(o);_b4d[i]=o;}return true;}var end=_b43+_b4e*2*Math.PI;if(i+1==_b45.length){end=_b42+2*Math.PI;}var step=end-_b43,x1=_b4c.cx+r*Math.cos(_b43),y1=_b4c.cy+r*Math.sin(_b43),x2=_b4c.cx+r*Math.cos(end),y2=_b4c.cy+r*Math.sin(end);var _b52=m._degToRad(this.opt.fanSize);if(_b4f.series.fill&&_b4f.series.fill.type==="radial"&&this.opt.radGrad==="fan"&&step>_b52){var _b53=s.createGroup(),_b54=Math.ceil(step/_b52),_b55=step/_b54;_b50=this._shapeFill(_b4f.series.fill,{x:_b4c.cx-_b4c.r,y:_b4c.cy-_b4c.r,width:2*_b4c.r,height:2*_b4c.r});for(var j=0;j<_b54;++j){var _b56=j==0?x1:_b4c.cx+r*Math.cos(_b43+(j-_b3c)*_b55),_b57=j==0?y1:_b4c.cy+r*Math.sin(_b43+(j-_b3c)*_b55),_b58=j==_b54-1?x2:_b4c.cx+r*Math.cos(_b43+(j+1+_b3c)*_b55),_b59=j==_b54-1?y2:_b4c.cy+r*Math.sin(_b43+(j+1+_b3c)*_b55),fan=_b53.createPath().moveTo(_b4c.cx,_b4c.cy).lineTo(_b56,_b57).arcTo(r,r,0,_b55>Math.PI,true,_b58,_b59).lineTo(_b4c.cx,_b4c.cy).closePath().setFill(this._pseudoRadialFill(_b50,{x:_b4c.cx,y:_b4c.cy},r,_b43+(j+0.5)*_b55,_b43+(j+0.5)*_b55));}_b53.createPath().moveTo(_b4c.cx,_b4c.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_b4c.cx,_b4c.cy).closePath().setStroke(_b4f.series.stroke);_b51=_b53;}else{_b51=s.createPath().moveTo(_b4c.cx,_b4c.cy).lineTo(x1,y1).arcTo(r,r,0,step>Math.PI,true,x2,y2).lineTo(_b4c.cx,_b4c.cy).closePath().setStroke(_b4f.series.stroke);var _b50=_b4f.series.fill;if(_b50&&_b50.type==="radial"){_b50=this._shapeFill(_b50,{x:_b4c.cx-_b4c.r,y:_b4c.cy-_b4c.r,width:2*_b4c.r,height:2*_b4c.r});if(this.opt.radGrad==="linear"){_b50=this._pseudoRadialFill(_b50,{x:_b4c.cx,y:_b4c.cy},r,_b43,end);}}else{if(_b50&&_b50.type==="linear"){_b50=this._plotFill(_b50,dim,_b3f);_b50=this._shapeFill(_b50,_b51.getBoundingBox());}}_b51.setFill(_b50);}this.dyn.push({fill:_b50,stroke:_b4f.series.stroke});if(_b49){var o={element:"slice",index:i,run:this.run,shape:_b51,x:i,y:typeof v=="number"?v:v.y,cx:_b4c.cx,cy:_b4c.cy,cr:r};this._connectEvents(o);_b4d[i]=o;}_b43=end;return false;},this);if(this.opt.labels){if(this.opt.labelStyle=="default"){_b43=_b42;arr.some(_b45,function(_b5a,i){if(_b5a<=0){return false;}var _b5b=_b4a[i];if(_b5a>=1){var v=run[i],elem=da.createText[this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx"](this.chart,s,_b4c.cx,_b4c.cy+size/2,"middle",_b46[i],_b5b.series.font,_b5b.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}return true;}var end=_b43+_b5a*2*Math.PI,v=run[i];if(i+1==_b45.length){end=_b42+2*Math.PI;}var _b5c=(_b43+end)/2,x=_b4c.cx+_b48*Math.cos(_b5c),y=_b4c.cy+_b48*Math.sin(_b5c)+size/2;var elem=da.createText[this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx"](this.chart,s,x,y,"middle",_b46[i],_b5b.series.font,_b5b.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}_b43=end;return false;},this);}else{if(this.opt.labelStyle=="columns"){_b43=_b42;var _b5d=[];arr.forEach(_b45,function(_b5e,i){var end=_b43+_b5e*2*Math.PI;if(i+1==_b45.length){end=_b42+2*Math.PI;}var _b5f=(_b43+end)/2;_b5d.push({angle:_b5f,left:Math.cos(_b5f)<0,theme:_b4a[i],index:i,omit:end-_b43<0.001});_b43=end;});var _b60=g._base._getTextBox("a",{font:_b40}).h;this._getProperLabelRadius(_b5d,_b60,_b4c.r*1.1);arr.forEach(_b5d,function(_b61,i){if(!_b61.omit){var _b62=_b4c.cx-_b4c.r*2,_b63=_b4c.cx+_b4c.r*2,_b64=g._base._getTextBox(_b46[i],{font:_b40}).w,x=_b4c.cx+_b61.labelR*Math.cos(_b61.angle),y=_b4c.cy+_b61.labelR*Math.sin(_b61.angle),_b65=(_b61.left)?(_b62+_b64):(_b63-_b64),_b66=(_b61.left)?_b62:_b65;var _b67=s.createPath().moveTo(_b4c.cx+_b4c.r*Math.cos(_b61.angle),_b4c.cy+_b4c.r*Math.sin(_b61.angle));if(Math.abs(_b61.labelR*Math.cos(_b61.angle))<_b4c.r*2-_b64){_b67.lineTo(x,y);}_b67.lineTo(_b65,y).setStroke(_b61.theme.series.labelWiring);var elem=da.createText[this.opt.htmlLabels&&g.renderer!="vml"?"html":"gfx"](this.chart,s,_b66,y,"left",_b46[i],_b61.theme.series.font,_b61.theme.series.fontColor);if(this.opt.htmlLabels){this.htmlElements.push(elem);}}},this);}}}var esi=0;this._eventSeries[this.run.name]=df.map(run,function(v){return v<=0?null:_b4d[esi++];});return this;},_getProperLabelRadius:function(_b68,_b69,_b6a){var _b6b={},_b6c={},_b6d=1,_b6e=1;if(_b68.length==1){_b68[0].labelR=_b6a;return;}for(var i=0;i<_b68.length;i++){var _b6f=Math.abs(Math.sin(_b68[i].angle));if(_b68[i].left){if(_b6d>=_b6f){_b6d=_b6f;_b6b=_b68[i];}}else{if(_b6e>=_b6f){_b6e=_b6f;_b6c=_b68[i];}}}_b6b.labelR=_b6c.labelR=_b6a;this._calculateLabelR(_b6b,_b68,_b69);this._calculateLabelR(_b6c,_b68,_b69);},_calculateLabelR:function(_b70,_b71,_b72){var i=_b70.index,_b73=_b71.length,_b74=_b70.labelR;while(!(_b71[i%_b73].left^_b71[(i+1)%_b73].left)){if(!_b71[(i+1)%_b73].omit){var _b75=(Math.sin(_b71[i%_b73].angle)*_b74+((_b71[i%_b73].left)?(-_b72):_b72))/Math.sin(_b71[(i+1)%_b73].angle);_b74=(_b75<_b70.labelR)?_b70.labelR:_b75;_b71[(i+1)%_b73].labelR=_b74;}i++;}i=_b70.index;var j=(i==0)?_b73-1:i-1;while(!(_b71[i].left^_b71[j].left)){if(!_b71[j].omit){var _b75=(Math.sin(_b71[i].angle)*_b74+((_b71[i].left)?_b72:(-_b72)))/Math.sin(_b71[j].angle);_b74=(_b75<_b70.labelR)?_b70.labelR:_b75;_b71[j].labelR=_b74;}i--;j--;i=(i<0)?i+_b71.length:i;j=(j<0)?j+_b71.length:j;}},_getLabel:function(_b76){return dc.getLabel(_b76,this.opt.fixed,this.opt.precision);}});});},"dojox/grid/enhanced/plugins/Menu":function(){define("dojox/grid/enhanced/plugins/Menu",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/html","dojo/_base/event","dojo/keys","../_Plugin","../../EnhancedGrid"],function(_b77,_b78,lang,html,evt,keys,_b79,_b7a){var Menu=_b77("dojox.grid.enhanced.plugins.Menu",_b79,{name:"menus",types:["headerMenu","rowMenu","cellMenu","selectedRegionMenu"],constructor:function(){var g=this.grid;g.showMenu=lang.hitch(g,this.showMenu);g._setRowMenuAttr=lang.hitch(this,"_setRowMenuAttr");g._setCellMenuAttr=lang.hitch(this,"_setCellMenuAttr");g._setSelectedRegionMenuAttr=lang.hitch(this,"_setSelectedRegionMenuAttr");},onStartUp:function(){var type,_b7b=this.option;for(type in _b7b){if(_b78.indexOf(this.types,type)>=0&&_b7b[type]){this._initMenu(type,_b7b[type]);}}},_initMenu:function(_b7c,menu){var g=this.grid;if(!g[_b7c]){var m=this._getMenuWidget(menu);if(!m){return;}g.set(_b7c,m);if(_b7c!="headerMenu"){m._scheduleOpen=function(){return;};}else{g.setupHeaderMenu();}}},_getMenuWidget:function(menu){return(menu instanceof dijit.Menu)?menu:dijit.byId(menu);},_setRowMenuAttr:function(menu){this._setMenuAttr(menu,"rowMenu");},_setCellMenuAttr:function(menu){this._setMenuAttr(menu,"cellMenu");},_setSelectedRegionMenuAttr:function(menu){this._setMenuAttr(menu,"selectedRegionMenu");},_setMenuAttr:function(menu,_b7d){var g=this.grid,n=g.domNode;if(!menu||!(menu instanceof dijit.Menu)){return;}if(g[_b7d]){g[_b7d].unBindDomNode(n);}g[_b7d]=menu;g[_b7d].bindDomNode(n);},showMenu:function(e){var _b7e=(e.cellNode&&html.hasClass(e.cellNode,"dojoxGridRowSelected")||e.rowNode&&(html.hasClass(e.rowNode,"dojoxGridRowSelected")||html.hasClass(e.rowNode,"dojoxGridRowbarSelected")));if(_b7e&&this.selectedRegionMenu){this.onSelectedRegionContextMenu(e);return;}var info={target:e.target,coords:e.keyCode!==keys.F10&&"pageX" in e?{x:e.pageX,y:e.pageY}:null};if(this.rowMenu&&(!this.cellMenu||this.selection.isSelected(e.rowIndex)||e.rowNode&&html.hasClass(e.rowNode,"dojoxGridRowbar"))){this.rowMenu._openMyself(info);evt.stop(e);return;}if(this.cellMenu){this.cellMenu._openMyself(info);}evt.stop(e);},destroy:function(){var g=this.grid;if(g.headerMenu){g.headerMenu.unBindDomNode(g.viewsHeaderNode);}if(g.rowMenu){g.rowMenu.unBindDomNode(g.domNode);}if(g.cellMenu){g.cellMenu.unBindDomNode(g.domNode);}if(g.selectedRegionMenu){g.selectedRegionMenu.destroy();}this.inherited(arguments);}});_b7a.registerPlugin(Menu);return Menu;});},"dojox/charting/plot2d/common":function(){define("dojox/charting/plot2d/common",["dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dojox/gfx","dojox/lang/functional","../scaler/common"],function(lang,arr,_b7f,g,df,sc){var _b80=lang.getObject("dojox.charting.plot2d.common",true);return lang.mixin(_b80,{doIfLoaded:sc.doIfLoaded,makeStroke:function(_b81){if(!_b81){return _b81;}if(typeof _b81=="string"||_b81 instanceof _b7f){_b81={color:_b81};}return g.makeParameters(g.defaultStroke,_b81);},augmentColor:function(_b82,_b83){var t=new _b7f(_b82),c=new _b7f(_b83);c.a=t.a;return c;},augmentStroke:function(_b84,_b85){var s=_b80.makeStroke(_b84);if(s){s.color=_b80.augmentColor(s.color,_b85);}return s;},augmentFill:function(fill,_b86){var fc,c=new _b7f(_b86);if(typeof fill=="string"||fill instanceof _b7f){return _b80.augmentColor(fill,_b86);}return fill;},defaultStats:{vmin:Number.POSITIVE_INFINITY,vmax:Number.NEGATIVE_INFINITY,hmin:Number.POSITIVE_INFINITY,hmax:Number.NEGATIVE_INFINITY},collectSimpleStats:function(_b87){var _b88=lang.delegate(_b80.defaultStats);for(var i=0;i<_b87.length;++i){var run=_b87[i];for(var j=0;j<run.data.length;j++){if(run.data[j]!==null){if(typeof run.data[j]=="number"){var _b89=_b88.vmin,_b8a=_b88.vmax;if(!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,i){if(val!==null){var x=i+1,y=val;if(isNaN(y)){y=0;}_b88.hmin=Math.min(_b88.hmin,x);_b88.hmax=Math.max(_b88.hmax,x);_b88.vmin=Math.min(_b88.vmin,y);_b88.vmax=Math.max(_b88.vmax,y);}});}if("ymin" in run){_b88.vmin=Math.min(_b89,run.ymin);}if("ymax" in run){_b88.vmax=Math.max(_b8a,run.ymax);}}else{var _b8b=_b88.hmin,_b8c=_b88.hmax,_b89=_b88.vmin,_b8a=_b88.vmax;if(!("xmin" in run)||!("xmax" in run)||!("ymin" in run)||!("ymax" in run)){arr.forEach(run.data,function(val,i){if(val!==null){var x="x" in val?val.x:i+1,y=val.y;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}_b88.hmin=Math.min(_b88.hmin,x);_b88.hmax=Math.max(_b88.hmax,x);_b88.vmin=Math.min(_b88.vmin,y);_b88.vmax=Math.max(_b88.vmax,y);}});}if("xmin" in run){_b88.hmin=Math.min(_b8b,run.xmin);}if("xmax" in run){_b88.hmax=Math.max(_b8c,run.xmax);}if("ymin" in run){_b88.vmin=Math.min(_b89,run.ymin);}if("ymax" in run){_b88.vmax=Math.max(_b8a,run.ymax);}}break;}}}return _b88;},calculateBarSize:function(_b8d,opt,_b8e){if(!_b8e){_b8e=1;}var gap=opt.gap,size=(_b8d-2*gap)/_b8e;if("minBarSize" in opt){size=Math.max(size,opt.minBarSize);}if("maxBarSize" in opt){size=Math.min(size,opt.maxBarSize);}size=Math.max(size,1);gap=(_b8d-size*_b8e)/2;return{size:size,gap:gap};},collectStackedStats:function(_b8f){var _b90=lang.clone(_b80.defaultStats);if(_b8f.length){_b90.hmin=Math.min(_b90.hmin,1);_b90.hmax=df.foldl(_b8f,"seed, run -> Math.max(seed, run.data.length)",_b90.hmax);for(var i=0;i<_b90.hmax;++i){var v=_b8f[0].data[i];v=v&&(typeof v=="number"?v:v.y);if(isNaN(v)){v=0;}_b90.vmin=Math.min(_b90.vmin,v);for(var j=1;j<_b8f.length;++j){var t=_b8f[j].data[i];t=t&&(typeof t=="number"?t:t.y);if(isNaN(t)){t=0;}v+=t;}_b90.vmax=Math.max(_b90.vmax,v);}}return _b90;},curve:function(a,_b91){var _b92=a.slice(0);if(_b91=="x"){_b92[_b92.length]=arr[0];}var p=arr.map(_b92,function(item,i){if(i==0){return"M"+item.x+","+item.y;}if(!isNaN(_b91)){var dx=item.x-_b92[i-1].x,dy=_b92[i-1].y;return"C"+(item.x-(_b91-1)*(dx/_b91))+","+dy+" "+(item.x-(dx/_b91))+","+item.y+" "+item.x+","+item.y;}else{if(_b91=="X"||_b91=="x"||_b91=="S"){var p0,p1=_b92[i-1],p2=_b92[i],p3;var bz1x,bz1y,bz2x,bz2y;var f=1/6;if(i==1){if(_b91=="x"){p0=_b92[_b92.length-2];}else{p0=p1;}f=1/3;}else{p0=_b92[i-2];}if(i==(_b92.length-1)){if(_b91=="x"){p3=_b92[1];}else{p3=p2;}f=1/3;}else{p3=_b92[i+1];}var p1p2=Math.sqrt((p2.x-p1.x)*(p2.x-p1.x)+(p2.y-p1.y)*(p2.y-p1.y));var p0p2=Math.sqrt((p2.x-p0.x)*(p2.x-p0.x)+(p2.y-p0.y)*(p2.y-p0.y));var p1p3=Math.sqrt((p3.x-p1.x)*(p3.x-p1.x)+(p3.y-p1.y)*(p3.y-p1.y));var _b93=p0p2*f;var _b94=p1p3*f;if(_b93>p1p2/2&&_b94>p1p2/2){_b93=p1p2/2;_b94=p1p2/2;}else{if(_b93>p1p2/2){_b93=p1p2/2;_b94=p1p2/2*p1p3/p0p2;}else{if(_b94>p1p2/2){_b94=p1p2/2;_b93=p1p2/2*p0p2/p1p3;}}}if(_b91=="S"){if(p0==p1){_b93=0;}if(p2==p3){_b94=0;}}bz1x=p1.x+_b93*(p2.x-p0.x)/p0p2;bz1y=p1.y+_b93*(p2.y-p0.y)/p0p2;bz2x=p2.x-_b94*(p3.x-p1.x)/p1p3;bz2y=p2.y-_b94*(p3.y-p1.y)/p1p3;}}return"C"+(bz1x+","+bz1y+" "+bz2x+","+bz2y+" "+p2.x+","+p2.y);});return p.join(" ");},getLabel:function(_b95,_b96,_b97){return sc.doIfLoaded("dojo/number",function(_b98){return(_b96?_b98.format(_b95,{places:_b97}):_b98.format(_b95))||"";},function(){return _b96?_b95.toFixed(_b97):_b95.toString();});}});});},"dojox/charting/plot2d/StackedAreas":function(){define("dojox/charting/plot2d/StackedAreas",["dojo/_base/declare","./Stacked"],function(_b99,_b9a){return _b99("dojox.charting.plot2d.StackedAreas",_b9a,{constructor:function(){this.opt.lines=true;this.opt.areas=true;}});});},"dojox/charting/action2d/MoveSlice":function(){define("dojox/charting/action2d/MoveSlice",["dojo/_base/connect","dojo/_base/declare","./PlotAction","dojo/fx/easing","dojox/gfx/matrix","dojox/gfx/fx","dojox/lang/functional","dojox/lang/functional/scan","dojox/lang/functional/fold"],function(hub,_b9b,_b9c,dfe,m,gf,df,dfs,dff){var _b9d=1.05,_b9e=7;return _b9b("dojox.charting.action2d.MoveSlice",_b9c,{defaultParams:{duration:400,easing:dfe.backOut,scale:_b9d,shift:_b9e},optionalParams:{},constructor:function(_b9f,plot,_ba0){if(!_ba0){_ba0={};}this.scale=typeof _ba0.scale=="number"?_ba0.scale:_b9d;this.shift=typeof _ba0.shift=="number"?_ba0.shift:_b9e;this.connect();},process:function(o){if(!o.shape||o.element!="slice"||!(o.type in this.overOutEvents)){return;}if(!this.angles){var _ba1=m._degToRad(o.plot.opt.startAngle);if(typeof o.run.data[0]=="number"){this.angles=df.map(df.scanl(o.run.data,"+",_ba1),"* 2 * Math.PI / this",df.foldl(o.run.data,"+",0));}else{this.angles=df.map(df.scanl(o.run.data,"a + b.y",_ba1),"* 2 * Math.PI / this",df.foldl(o.run.data,"a + b.y",0));}}var _ba2=o.index,anim,_ba3,_ba4,_ba5,_ba6,_ba7=(this.angles[_ba2]+this.angles[_ba2+1])/2,_ba8=m.rotateAt(-_ba7,o.cx,o.cy),_ba9=m.rotateAt(_ba7,o.cx,o.cy);anim=this.anim[_ba2];if(anim){anim.action.stop(true);}else{this.anim[_ba2]=anim={};}if(o.type=="onmouseover"){_ba5=0;_ba6=this.shift;_ba3=1;_ba4=this.scale;}else{_ba5=this.shift;_ba6=0;_ba3=this.scale;_ba4=1;}anim.action=gf.animateTransform({shape:o.shape,duration:this.duration,easing:this.easing,transform:[_ba9,{name:"translate",start:[_ba5,0],end:[_ba6,0]},{name:"scaleAt",start:[_ba3,o.cx,o.cy],end:[_ba4,o.cx,o.cy]},_ba8]});if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){delete this.anim[_ba2];});}anim.action.play();},reset:function(){delete this.angles;}});});},"dojox/charting/widget/Chart2D":function(){define("dojox/charting/widget/Chart2D",["dojo/_base/kernel","./Chart","../Chart2D","../action2d/Highlight","../action2d/Magnify","../action2d/MoveSlice","../action2d/Shake","../action2d/Tooltip"],function(dojo,_baa){dojo.deprecated("dojox.charting.widget.Chart2D","Use dojo.charting.widget.Chart instead and require all other components explicitly","2.0");return dojox.charting.widget.Chart2D=_baa;});},"dojox/grid/_SelectionPreserver":function(){define("dojox/grid/_SelectionPreserver",["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(_bab,_bac,lang,_bad){return _bab("dojox.grid._SelectionPreserver",null,{constructor:function(_bae){this.selection=_bae;var grid=this.grid=_bae.grid;this.reset();this._connects=[_bac.connect(grid,"_setStore",this,"reset"),_bac.connect(grid,"_addItem",this,"_reSelectById"),_bac.connect(_bae,"addToSelection",lang.hitch(this,"_selectById",true)),_bac.connect(_bae,"deselect",lang.hitch(this,"_selectById",false)),_bac.connect(_bae,"deselectAll",this,"reset")];},destroy:function(){this.reset();_bad.forEach(this._connects,_bac.disconnect);delete this._connects;},reset:function(){this._selectedById={};},_reSelectById:function(item,_baf){if(item&&this.grid._hasIdentity){this.selection.selected[_baf]=this._selectedById[this.grid.store.getIdentity(item)];}},_selectById:function(_bb0,_bb1){if(this.selection.mode=="none"||!this.grid._hasIdentity){return;}var item=_bb1,g=this.grid;if(typeof _bb1=="number"||typeof _bb1=="string"){var _bb2=g._by_idx[_bb1];item=_bb2&&_bb2.item;}if(item){this._selectedById[g.store.getIdentity(item)]=!!_bb0;}return item;}});});},"dojox/gfx/_base":function(){define("dojox/gfx/_base",["dojo/_base/lang","dojo/_base/html","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(lang,html,_bb3,has,win,arr,dom,_bb4,_bb5){var g=lang.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(node,_bb6){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_bb6+" ")>=0;};g._addClass=function(node,_bb7){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_bb7+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_bb7);}};g._removeClass=function(node,_bb8){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_bb8+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _bb9={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p;if(has("ie")){win.doc.documentElement.style.fontSize="100%";}var div=_bb4.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _bb9){div.style.fontSize=p;_bb9[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}win.body().removeChild(div);return _bb9;};var _bba=null;b._getCachedFontMeasurements=function(_bbb){if(_bbb||!_bba){_bba=b._getFontMeasurements();}return _bba;};var _bbc=null,_bbd={};b._getTextBox=function(text,_bbe,_bbf){var m,s,al=arguments.length;var i;if(!_bbc){_bbc=_bb4.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},win.body());}m=_bbc;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_bbe){for(i in _bbe){if(i in _bbd){continue;}s[i]=_bbe[i];}}if(al>2&&_bbf){m.className=_bbf;}m.innerHTML=text;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return{l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return _bb5.getMarginBox(m);}};var _bc0=0;b._getUniqueId=function(){var id;do{id=dojo._scopeName+"xUnique"+(++_bc0);}while(dom.byId(id));return id;};lang.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _bc1={};return function(type){var t=_bc1[type];if(t){return new t();}t=_bc1[type]=new Function();t.prototype=g["default"+type];return new t();};})(),normalizeColor:function(_bc2){return(_bc2 instanceof _bb3)?_bc2:new _bb3(_bc2);},normalizeParameters:function(_bc3,_bc4){var x;if(_bc4){var _bc5={};for(x in _bc3){if(x in _bc4&&!(x in _bc5)){_bc3[x]=_bc4[x];}}}return _bc3;},makeParameters:function(_bc6,_bc7){var i=null;if(!_bc7){return lang.delegate(_bc6);}var _bc8={};for(i in _bc6){if(!(i in _bc8)){_bc8[i]=lang.clone((i in _bc7)?_bc7[i]:_bc6[i]);}}return _bc8;},formatNumber:function(x,_bc9){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _bca=val.indexOf(".");if(_bca>=0&&val.length-_bca>5){val=x.toFixed(4);}}if(x<0){return val;}return _bc9?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _bcb=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case"px":return val;case"pt":return val*_bcb;case"in":return val*72*_bcb;case"pc":return val*12*_bcb;case"mm":return val*g.mm_in_pt*_bcb;case"cm":return val*g.cm_in_pt*_bcb;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_bcc){var ns=typeof _bcc=="string"?g[_bcc]:_bcc;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","Surface","createSurface","fixTarget"],function(name){g[name]=ns[name];});}}});return g;});},"dojox/gfx/svg":function(){define("dojox/gfx/svg",["dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/_base/declare","dojo/_base/array","dojo/dom-geometry","dojo/_base/Color","./_base","./shape","./path"],function(lang,win,dom,_bcd,arr,_bce,_bcf,g,gs,_bd0){var svg=g.svg={};svg.useSvgWeb=(typeof window.svgweb!="undefined");var _bd1=navigator.userAgent.toLowerCase(),_bd2=_bd1.search("iphone")>-1||_bd1.search("ipad")>-1||_bd1.search("ipod")>-1;function _bd3(ns,_bd4){if(win.doc.createElementNS){return win.doc.createElementNS(ns,_bd4);}else{return win.doc.createElement(_bd4);}}function _bd5(text){if(svg.useSvgWeb){return win.doc.createTextNode(text,true);}else{return win.doc.createTextNode(text);}}function _bd6(){if(svg.useSvgWeb){return win.doc.createDocumentFragment(true);}else{return win.doc.createDocumentFragment();}}svg.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};svg.getRef=function(name){if(!name||name=="none"){return null;}if(name.match(/^url\(#.+\)$/)){return dom.byId(name.slice(5,-1));}if(name.match(/^#dojoUnique\d+$/)){return dom.byId(name.slice(1));}return null;};svg.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};_bcd("dojox.gfx.svg.Shape",gs.Shape,{setFill:function(fill){if(!fill){this.fillStyle=null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this;}var f;var _bd7=function(x){this.setAttribute(x,f[x].toFixed(8));};if(typeof(fill)=="object"&&"type" in fill){switch(fill.type){case"linear":f=g.makeParameters(g.defaultLinearGradient,fill);var _bd8=this._setFillObject(f,"linearGradient");arr.forEach(["x1","y1","x2","y2"],_bd7,_bd8);break;case"radial":f=g.makeParameters(g.defaultRadialGradient,fill);var grad=this._setFillObject(f,"radialGradient");arr.forEach(["cx","cy","r"],_bd7,grad);break;case"pattern":f=g.makeParameters(g.defaultPattern,fill);var _bd9=this._setFillObject(f,"pattern");arr.forEach(["x","y","width","height"],_bd7,_bd9);break;}this.fillStyle=f;return this;}f=g.normalizeColor(fill);this.fillStyle=f;this.rawNode.setAttribute("fill",f.toCss());this.rawNode.setAttribute("fill-opacity",f.a);this.rawNode.setAttribute("fill-rule","evenodd");return this;},setStroke:function(_bda){var rn=this.rawNode;if(!_bda){this.strokeStyle=null;rn.setAttribute("stroke","none");rn.setAttribute("stroke-opacity",0);return this;}if(typeof _bda=="string"||lang.isArray(_bda)||_bda instanceof _bcf){_bda={color:_bda};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_bda);s.color=g.normalizeColor(s.color);if(s){rn.setAttribute("stroke",s.color.toCss());rn.setAttribute("stroke-opacity",s.color.a);rn.setAttribute("stroke-width",s.width);rn.setAttribute("stroke-linecap",s.cap);if(typeof s.join=="number"){rn.setAttribute("stroke-linejoin","miter");rn.setAttribute("stroke-miterlimit",s.join);}else{rn.setAttribute("stroke-linejoin",s.join);}var da=s.style.toLowerCase();if(da in svg.dasharray){da=svg.dasharray[da];}if(da instanceof Array){da=lang._toArray(da);for(var i=0;i<da.length;++i){da[i]*=s.width;}if(s.cap!="butt"){for(var i=0;i<da.length;i+=2){da[i]-=s.width;if(da[i]<1){da[i]=1;}}for(var i=1;i<da.length;i+=2){da[i]+=s.width;}}da=da.join(",");}rn.setAttribute("stroke-dasharray",da);rn.setAttribute("dojoGfxStrokeStyle",s.style);}return this;},_getParentSurface:function(){var _bdb=this.parent;for(;_bdb&&!(_bdb instanceof g.Surface);_bdb=_bdb.parent){}return _bdb;},_setFillObject:function(f,_bdc){var _bdd=svg.xmlns.svg;this.fillStyle=f;var _bde=this._getParentSurface(),defs=_bde.defNode,fill=this.rawNode.getAttribute("fill"),ref=svg.getRef(fill);if(ref){fill=ref;if(fill.tagName.toLowerCase()!=_bdc.toLowerCase()){var id=fill.id;fill.parentNode.removeChild(fill);fill=_bd3(_bdd,_bdc);fill.setAttribute("id",id);defs.appendChild(fill);}else{while(fill.childNodes.length){fill.removeChild(fill.lastChild);}}}else{fill=_bd3(_bdd,_bdc);fill.setAttribute("id",g._base._getUniqueId());defs.appendChild(fill);}if(_bdc=="pattern"){fill.setAttribute("patternUnits","userSpaceOnUse");var img=_bd3(_bdd,"image");img.setAttribute("x",0);img.setAttribute("y",0);img.setAttribute("width",f.width.toFixed(8));img.setAttribute("height",f.height.toFixed(8));img.setAttributeNS(svg.xmlns.xlink,"xlink:href",f.src);fill.appendChild(img);}else{fill.setAttribute("gradientUnits","userSpaceOnUse");for(var i=0;i<f.colors.length;++i){var c=f.colors[i],t=_bd3(_bdd,"stop"),cc=c.color=g.normalizeColor(c.color);t.setAttribute("offset",c.offset.toFixed(8));t.setAttribute("stop-color",cc.toCss());t.setAttribute("stop-opacity",cc.a);fill.appendChild(t);}}this.rawNode.setAttribute("fill","url(#"+fill.getAttribute("id")+")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return fill;},_applyTransform:function(){var _bdf=this.matrix;if(_bdf){var tm=this.matrix;this.rawNode.setAttribute("transform","matrix("+tm.xx.toFixed(8)+","+tm.yx.toFixed(8)+","+tm.xy.toFixed(8)+","+tm.yy.toFixed(8)+","+tm.dx.toFixed(8)+","+tm.dy.toFixed(8)+")");}else{this.rawNode.removeAttribute("transform");}return this;},setRawNode:function(_be0){var r=this.rawNode=_be0;if(this.shape.type!="image"){r.setAttribute("fill","none");}r.setAttribute("fill-opacity",0);r.setAttribute("stroke","none");r.setAttribute("stroke-opacity",0);r.setAttribute("stroke-width",1);r.setAttribute("stroke-linecap","butt");r.setAttribute("stroke-linejoin","miter");r.setAttribute("stroke-miterlimit",4);r.__gfxObject__=this.getUID();},setShape:function(_be1){this.shape=g.makeParameters(this.shape,_be1);for(var i in this.shape){if(i!="type"){this.rawNode.setAttribute(i,this.shape[i]);}}this.bbox=null;return this;},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this;},_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this;}});_bcd("dojox.gfx.svg.Group",svg.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_be2){this.rawNode=_be2;this.rawNode.__gfxObject__=this.getUID();}});svg.Group.nodeType="g";_bcd("dojox.gfx.svg.Rect",[svg.Shape,gs.Rect],{setShape:function(_be3){this.shape=g.makeParameters(this.shape,_be3);this.bbox=null;for(var i in this.shape){if(i!="type"&&i!="r"){this.rawNode.setAttribute(i,this.shape[i]);}}if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r);}return this;}});svg.Rect.nodeType="rect";_bcd("dojox.gfx.svg.Ellipse",[svg.Shape,gs.Ellipse],{});svg.Ellipse.nodeType="ellipse";_bcd("dojox.gfx.svg.Circle",[svg.Shape,gs.Circle],{});svg.Circle.nodeType="circle";_bcd("dojox.gfx.svg.Line",[svg.Shape,gs.Line],{});svg.Line.nodeType="line";_bcd("dojox.gfx.svg.Polyline",[svg.Shape,gs.Polyline],{setShape:function(_be4,_be5){if(_be4&&_be4 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_be4});if(_be5&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_be4);}this.bbox=null;this._normalizePoints();var attr=[],p=this.shape.points;for(var i=0;i<p.length;++i){attr.push(p[i].x.toFixed(8),p[i].y.toFixed(8));}this.rawNode.setAttribute("points",attr.join(" "));return this;}});svg.Polyline.nodeType="polyline";_bcd("dojox.gfx.svg.Image",[svg.Shape,gs.Image],{setShape:function(_be6){this.shape=g.makeParameters(this.shape,_be6);this.bbox=null;var _be7=this.rawNode;for(var i in this.shape){if(i!="type"&&i!="src"){_be7.setAttribute(i,this.shape[i]);}}_be7.setAttribute("preserveAspectRatio","none");_be7.setAttributeNS(svg.xmlns.xlink,"xlink:href",this.shape.src);_be7.__gfxObject__=this.getUID();return this;}});svg.Image.nodeType="image";_bcd("dojox.gfx.svg.Text",[svg.Shape,gs.Text],{setShape:function(_be8){this.shape=g.makeParameters(this.shape,_be8);this.bbox=null;var r=this.rawNode,s=this.shape;r.setAttribute("x",s.x);r.setAttribute("y",s.y);r.setAttribute("text-anchor",s.align);r.setAttribute("text-decoration",s.decoration);r.setAttribute("rotate",s.rotated?90:0);r.setAttribute("kerning",s.kerning?"auto":0);r.setAttribute("text-rendering","optimizeLegibility");if(r.firstChild){r.firstChild.nodeValue=s.text;}else{r.appendChild(_bd5(s.text));}return this;},getTextWidth:function(){var _be9=this.rawNode,_bea=_be9.parentNode,_beb=_be9.cloneNode(true);_beb.style.visibility="hidden";var _bec=0,_bed=_beb.firstChild.nodeValue;_bea.appendChild(_beb);if(_bed!=""){while(!_bec){if(_beb.getBBox){_bec=parseInt(_beb.getBBox().width);}else{_bec=68;}}}_bea.removeChild(_beb);return _bec;}});svg.Text.nodeType="text";_bcd("dojox.gfx.svg.Path",[svg.Shape,_bd0.Path],{_updateWithSegment:function(_bee){this.inherited(arguments);if(typeof(this.shape.path)=="string"){this.rawNode.setAttribute("d",this.shape.path);}},setShape:function(_bef){this.inherited(arguments);if(this.shape.path){this.rawNode.setAttribute("d",this.shape.path);}else{this.rawNode.removeAttribute("d");}return this;}});svg.Path.nodeType="path";_bcd("dojox.gfx.svg.TextPath",[svg.Shape,_bd0.TextPath],{_updateWithSegment:function(_bf0){this.inherited(arguments);this._setTextPath();},setShape:function(_bf1){this.inherited(arguments);this._setTextPath();return this;},_setTextPath:function(){if(typeof this.shape.path!="string"){return;}var r=this.rawNode;if(!r.firstChild){var tp=_bd3(svg.xmlns.svg,"textPath"),tx=_bd5("");tp.appendChild(tx);r.appendChild(tp);}var ref=r.firstChild.getAttributeNS(svg.xmlns.xlink,"href"),path=ref&&svg.getRef(ref);if(!path){var _bf2=this._getParentSurface();if(_bf2){var defs=_bf2.defNode;path=_bd3(svg.xmlns.svg,"path");var id=g._base._getUniqueId();path.setAttribute("id",id);defs.appendChild(path);r.firstChild.setAttributeNS(svg.xmlns.xlink,"xlink:href","#"+id);}}if(path){path.setAttribute("d",this.shape.path);}},_setText:function(){var r=this.rawNode;if(!r.firstChild){var tp=_bd3(svg.xmlns.svg,"textPath"),tx=_bd5("");tp.appendChild(tx);r.appendChild(tp);}r=r.firstChild;var t=this.text;r.setAttribute("alignment-baseline","middle");switch(t.align){case"middle":r.setAttribute("text-anchor","middle");r.setAttribute("startOffset","50%");break;case"end":r.setAttribute("text-anchor","end");r.setAttribute("startOffset","100%");break;default:r.setAttribute("text-anchor","start");r.setAttribute("startOffset","0%");break;}r.setAttribute("baseline-shift","0.5ex");r.setAttribute("text-decoration",t.decoration);r.setAttribute("rotate",t.rotated?90:0);r.setAttribute("kerning",t.kerning?"auto":0);r.firstChild.data=t.text;}});svg.TextPath.nodeType="text";_bcd("dojox.gfx.svg.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){this.defNode=null;this.inherited(arguments);},setDimensions:function(_bf3,_bf4){if(!this.rawNode){return this;}this.rawNode.setAttribute("width",_bf3);this.rawNode.setAttribute("height",_bf4);return this;},getDimensions:function(){var t=this.rawNode?{width:g.normalizedLength(this.rawNode.getAttribute("width")),height:g.normalizedLength(this.rawNode.getAttribute("height"))}:null;return t;}});svg.createSurface=function(_bf5,_bf6,_bf7){var s=new svg.Surface();s.rawNode=_bd3(svg.xmlns.svg,"svg");s.rawNode.setAttribute("overflow","hidden");if(_bf6){s.rawNode.setAttribute("width",_bf6);}if(_bf7){s.rawNode.setAttribute("height",_bf7);}var _bf8=_bd3(svg.xmlns.svg,"defs");s.rawNode.appendChild(_bf8);s.defNode=_bf8;s._parent=dom.byId(_bf5);s._parent.appendChild(s.rawNode);return s;};var Font={_setFont:function(){var f=this.fontStyle;this.rawNode.setAttribute("font-style",f.style);this.rawNode.setAttribute("font-variant",f.variant);this.rawNode.setAttribute("font-weight",f.weight);this.rawNode.setAttribute("font-size",f.size);this.rawNode.setAttribute("font-family",f.family);}};var C=gs.Container,_bf9={openBatch:function(){this.fragment=_bd6();},closeBatch:function(){if(this.fragment){this.rawNode.appendChild(this.fragment);delete this.fragment;}},add:function(_bfa){if(this!=_bfa.getParent()){if(this.fragment){this.fragment.appendChild(_bfa.rawNode);}else{this.rawNode.appendChild(_bfa.rawNode);}C.add.apply(this,arguments);}return this;},remove:function(_bfb,_bfc){if(this==_bfb.getParent()){if(this.rawNode==_bfb.rawNode.parentNode){this.rawNode.removeChild(_bfb.rawNode);}if(this.fragment&&this.fragment==_bfb.rawNode.parentNode){this.fragment.removeChild(_bfb.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){var r=this.rawNode;while(r.lastChild){r.removeChild(r.lastChild);}var _bfd=this.defNode;if(_bfd){while(_bfd.lastChild){_bfd.removeChild(_bfd.lastChild);}r.appendChild(_bfd);}return C.clear.apply(this,arguments);},_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _bfe={createObject:function(_bff,_c00){if(!this.rawNode){return null;}var _c01=new _bff(),node=_bd3(svg.xmlns.svg,_bff.nodeType);_c01.setRawNode(node);_c01.setShape(_c00);this.add(_c01);return _c01;}};lang.extend(svg.Text,Font);lang.extend(svg.TextPath,Font);lang.extend(svg.Group,_bf9);lang.extend(svg.Group,gs.Creator);lang.extend(svg.Group,_bfe);lang.extend(svg.Surface,_bf9);lang.extend(svg.Surface,gs.Creator);lang.extend(svg.Surface,_bfe);svg.fixTarget=function(_c02,_c03){if(!_c02.gfxTarget){if(_bd2&&_c02.target.wholeText){_c02.gfxTarget=gs.byId(_c02.target.parentElement.__gfxObject__);}else{_c02.gfxTarget=gs.byId(_c02.target.__gfxObject__);}}return true;};if(svg.useSvgWeb){svg.createSurface=function(_c04,_c05,_c06){var s=new svg.Surface();if(!_c05||!_c06){var pos=_bce.position(_c04);_c05=_c05||pos.w;_c06=_c06||pos.h;}_c04=dom.byId(_c04);var id=_c04.id?_c04.id+"_svgweb":g._base._getUniqueId();var _c07=_bd3(svg.xmlns.svg,"svg");_c07.id=id;_c07.setAttribute("width",_c05);_c07.setAttribute("height",_c06);svgweb.appendChild(_c07,_c04);_c07.addEventListener("SVGLoad",function(){s.rawNode=this;s.isLoaded=true;var _c08=_bd3(svg.xmlns.svg,"defs");s.rawNode.appendChild(_c08);s.defNode=_c08;if(s.onLoad){s.onLoad(s);}},false);s.isLoaded=false;return s;};svg.Surface.extend({destroy:function(){var _c09=this.rawNode;svgweb.removeChild(_c09,_c09.parentNode);}});var _c0a={connect:function(name,_c0b,_c0c){if(name.substring(0,2)==="on"){name=name.substring(2);}if(arguments.length==2){_c0c=_c0b;}else{_c0c=lang.hitch(_c0b,_c0c);}this.getEventSource().addEventListener(name,_c0c,false);return[this,name,_c0c];},disconnect:function(_c0d){this.getEventSource().removeEventListener(_c0d[1],_c0d[2],false);delete _c0d[0];}};lang.extend(svg.Shape,_c0a);lang.extend(svg.Surface,_c0a);}return svg;});},"dojox/charting/action2d/PlotAction":function(){define("dojox/charting/action2d/PlotAction",["dojo/_base/connect","dojo/_base/declare","./Base","dojo/fx/easing","dojox/lang/functional","dojox/lang/functional/object"],function(hub,_c0e,Base,dfe,df,dlfo){var _c0f=400,_c10=dfe.backOut;return _c0e("dojox.charting.action2d.PlotAction",Base,{overOutEvents:{onmouseover:1,onmouseout:1},constructor:function(_c11,plot,_c12){this.anim={};if(!_c12){_c12={};}this.duration=_c12.duration?_c12.duration:_c0f;this.easing=_c12.easing?_c12.easing:_c10;},connect:function(){this.handle=this.chart.connectToPlot(this.plot.name,this,"process");},disconnect:function(){if(this.handle){hub.disconnect(this.handle);this.handle=null;}},reset:function(){},destroy:function(){this.inherited(arguments);df.forIn(this.anim,function(o){df.forIn(o,function(anim){anim.action.stop(true);});});this.anim={};}});});},"dojox/charting/plot2d/_PlotEvents":function(){define("dojox/charting/plot2d/_PlotEvents",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect"],function(lang,arr,_c13,hub){return _c13("dojox.charting.plot2d._PlotEvents",null,{constructor:function(){this._shapeEvents=[];this._eventSeries={};},destroy:function(){this.resetEvents();this.inherited(arguments);},plotEvent:function(o){},raiseEvent:function(o){this.plotEvent(o);var t=lang.delegate(o);t.originalEvent=o.type;t.originalPlot=o.plot;t.type="onindirect";arr.forEach(this.chart.stack,function(plot){if(plot!==this&&plot.plotEvent){t.plot=plot;plot.plotEvent(t);}},this);},connect:function(_c14,_c15){this.dirty=true;return hub.connect(this,"plotEvent",_c14,_c15);},events:function(){return !!this.plotEvent.after;},resetEvents:function(){if(this._shapeEvents.length){arr.forEach(this._shapeEvents,function(item){item.shape.disconnect(item.handle);});this._shapeEvents=[];}this.raiseEvent({type:"onplotreset",plot:this});},_connectSingleEvent:function(o,_c16){this._shapeEvents.push({shape:o.eventMask,handle:o.eventMask.connect(_c16,this,function(e){o.type=_c16;o.event=e;this.raiseEvent(o);o.event=null;})});},_connectEvents:function(o){if(o){o.chart=this.chart;o.plot=this;o.hAxis=this.hAxis||null;o.vAxis=this.vAxis||null;o.eventMask=o.eventMask||o.shape;this._connectSingleEvent(o,"onmouseover");this._connectSingleEvent(o,"onmouseout");this._connectSingleEvent(o,"onclick");}},_reconnectEvents:function(_c17){var a=this._eventSeries[_c17];if(a){arr.forEach(a,this._connectEvents,this);}},fireEvent:function(_c18,_c19,_c1a,_c1b){var s=this._eventSeries[_c18];if(s&&s.length&&_c1a<s.length){var o=s[_c1a];o.type=_c19;o.event=_c1b||null;this.raiseEvent(o);o.event=null;}}});});},"dojox/grid/cells":function(){define("dojox/grid/cells",["../main","./cells/_base"],function(_c1c){return _c1c.grid.cells;});},"dojox/gfx/gradient":function(){define("dojox/gfx/gradient",["dojo/_base/lang","./matrix","dojo/_base/Color"],function(lang,m,_c1d){var grad=lang.getObject("dojox.gfx.gradient",true);var C=_c1d;grad.rescale=function(_c1e,from,to){var len=_c1e.length,_c1f=(to<from),_c20;if(_c1f){var tmp=from;from=to;to=tmp;}if(!len){return[];}if(to<=_c1e[0].offset){_c20=[{offset:0,color:_c1e[0].color},{offset:1,color:_c1e[0].color}];}else{if(from>=_c1e[len-1].offset){_c20=[{offset:0,color:_c1e[len-1].color},{offset:1,color:_c1e[len-1].color}];}else{var span=to-from,stop,prev,i;_c20=[];if(from<0){_c20.push({offset:0,color:new C(_c1e[0].color)});}for(i=0;i<len;++i){stop=_c1e[i];if(stop.offset>=from){break;}}if(i){prev=_c1e[i-1];_c20.push({offset:0,color:_c1d.blendColors(new C(prev.color),new C(stop.color),(from-prev.offset)/(stop.offset-prev.offset))});}else{_c20.push({offset:0,color:new C(stop.color)});}for(;i<len;++i){stop=_c1e[i];if(stop.offset>=to){break;}_c20.push({offset:(stop.offset-from)/span,color:new C(stop.color)});}if(i<len){prev=_c1e[i-1];_c20.push({offset:1,color:_c1d.blendColors(new C(prev.color),new C(stop.color),(to-prev.offset)/(stop.offset-prev.offset))});}else{_c20.push({offset:1,color:new C(_c1e[len-1].color)});}}}if(_c1f){_c20.reverse();for(i=0,len=_c20.length;i<len;++i){stop=_c20[i];stop.offset=1-stop.offset;}}return _c20;};function _c21(x,y,_c22,_c23,_c24,_c25){var r=m.multiplyPoint(_c22,x,y),p=m.multiplyPoint(_c23,r);return{r:r,p:p,o:m.multiplyPoint(_c24,p).x/_c25};}function _c26(a,b){return a.o-b.o;}grad.project=function(_c27,_c28,tl,rb,ttl,trb){_c27=_c27||m.identity;var f1=m.multiplyPoint(_c27,_c28.x1,_c28.y1),f2=m.multiplyPoint(_c27,_c28.x2,_c28.y2),_c29=Math.atan2(f2.y-f1.y,f2.x-f1.x),_c2a=m.project(f2.x-f1.x,f2.y-f1.y),pf1=m.multiplyPoint(_c2a,f1),pf2=m.multiplyPoint(_c2a,f2),_c2b=new m.Matrix2D([m.rotate(-_c29),{dx:-pf1.x,dy:-pf1.y}]),_c2c=m.multiplyPoint(_c2b,pf2).x,_c2d=[_c21(tl.x,tl.y,_c27,_c2a,_c2b,_c2c),_c21(rb.x,rb.y,_c27,_c2a,_c2b,_c2c),_c21(tl.x,rb.y,_c27,_c2a,_c2b,_c2c),_c21(rb.x,tl.y,_c27,_c2a,_c2b,_c2c)].sort(_c26),from=_c2d[0].o,to=_c2d[3].o,_c2e=grad.rescale(_c28.colors,from,to),_c2f=Math.atan2(_c2d[3].r.y-_c2d[0].r.y,_c2d[3].r.x-_c2d[0].r.x);return{type:"linear",x1:_c2d[0].p.x,y1:_c2d[0].p.y,x2:_c2d[3].p.x,y2:_c2d[3].p.y,colors:_c2e,angle:_c29};};return grad;});},"dojox/gfx/silverlight":function(){define("dojox/gfx/silverlight",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/declare","dojo/_base/Color","dojo/_base/array","dojo/dom-geometry","dojo/dom","dojo/_base/sniff","./_base","./shape","./path"],function(_c30,lang,_c31,_c32,arr,_c33,dom,has,g,gs,_c34){var sl=g.silverlight={};_c30.experimental("dojox.gfx.silverlight");var _c35={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},_c36={normal:400,bold:700},caps={butt:"Flat",round:"Round",square:"Square"},_c37={bevel:"Bevel",round:"Round"},_c38={serif:"Times New Roman",times:"Times New Roman","sans-serif":"Arial",helvetica:"Arial",monotone:"Courier New",courier:"Courier New"};function _c39(_c3a){var c=g.normalizeColor(_c3a),t=c.toHex(),a=Math.round(c.a*255);a=(a<0?0:a>255?255:a).toString(16);return"#"+(a.length<2?"0"+a:a)+t.slice(1);}_c31("dojox.gfx.silverlight.Shape",gs.Shape,{setFill:function(fill){var p=this.rawNode.getHost().content,r=this.rawNode,f;if(!fill){this.fillStyle=null;this._setFillAttr(null);return this;}if(typeof(fill)=="object"&&"type" in fill){switch(fill.type){case"linear":this.fillStyle=f=g.makeParameters(g.defaultLinearGradient,fill);var lgb=p.createFromXaml("<LinearGradientBrush/>");lgb.mappingMode="Absolute";lgb.startPoint=f.x1+","+f.y1;lgb.endPoint=f.x2+","+f.y2;arr.forEach(f.colors,function(c){var t=p.createFromXaml("<GradientStop/>");t.offset=c.offset;t.color=_c39(c.color);lgb.gradientStops.add(t);});this._setFillAttr(lgb);break;case"radial":this.fillStyle=f=g.makeParameters(g.defaultRadialGradient,fill);var rgb=p.createFromXaml("<RadialGradientBrush/>"),c=g.matrix.multiplyPoint(g.matrix.invert(this._getAdjustedMatrix()),f.cx,f.cy),pt=c.x+","+c.y;rgb.mappingMode="Absolute";rgb.gradientOrigin=pt;rgb.center=pt;rgb.radiusX=rgb.radiusY=f.r;arr.forEach(f.colors,function(c){var t=p.createFromXaml("<GradientStop/>");t.offset=c.offset;t.color=_c39(c.color);rgb.gradientStops.add(t);});this._setFillAttr(rgb);break;case"pattern":this.fillStyle=null;this._setFillAttr(null);break;}return this;}this.fillStyle=f=g.normalizeColor(fill);var scb=p.createFromXaml("<SolidColorBrush/>");scb.color=f.toHex();scb.opacity=f.a;this._setFillAttr(scb);return this;},_setFillAttr:function(f){this.rawNode.fill=f;},setStroke:function(_c3b){var p=this.rawNode.getHost().content,r=this.rawNode;if(!_c3b){this.strokeStyle=null;r.stroke=null;return this;}if(typeof _c3b=="string"||lang.isArray(_c3b)||_c3b instanceof _c32){_c3b={color:_c3b};}var s=this.strokeStyle=g.makeParameters(g.defaultStroke,_c3b);s.color=g.normalizeColor(s.color);if(s){var scb=p.createFromXaml("<SolidColorBrush/>");scb.color=s.color.toHex();scb.opacity=s.color.a;r.stroke=scb;r.strokeThickness=s.width;r.strokeStartLineCap=r.strokeEndLineCap=r.strokeDashCap=caps[s.cap];if(typeof s.join=="number"){r.strokeLineJoin="Miter";r.strokeMiterLimit=s.join;}else{r.strokeLineJoin=_c37[s.join];}var da=s.style.toLowerCase();if(da in _c35){da=_c35[da];}if(da instanceof Array){da=lang.clone(da);var i;if(s.cap!="butt"){for(i=0;i<da.length;i+=2){--da[i];if(da[i]<1){da[i]=1;}}for(i=1;i<da.length;i+=2){++da[i];}}r.strokeDashArray=da.join(",");}else{r.strokeDashArray=null;}}return this;},_getParentSurface:function(){var _c3c=this.parent;for(;_c3c&&!(_c3c instanceof g.Surface);_c3c=_c3c.parent){}return _c3c;},_applyTransform:function(){var tm=this._getAdjustedMatrix(),r=this.rawNode;if(tm){var p=this.rawNode.getHost().content,mt=p.createFromXaml("<MatrixTransform/>"),mm=p.createFromXaml("<Matrix/>");mm.m11=tm.xx;mm.m21=tm.xy;mm.m12=tm.yx;mm.m22=tm.yy;mm.offsetX=tm.dx;mm.offsetY=tm.dy;mt.matrix=mm;r.renderTransform=mt;}else{r.renderTransform=null;}return this;},setRawNode:function(_c3d){_c3d.fill=null;_c3d.stroke=null;this.rawNode=_c3d;this.rawNode.tag=this.getUID();},_moveToFront:function(){var c=this.parent.rawNode.children,r=this.rawNode;c.remove(r);c.add(r);return this;},_moveToBack:function(){var c=this.parent.rawNode.children,r=this.rawNode;c.remove(r);c.insert(0,r);return this;},_getAdjustedMatrix:function(){return this.matrix;}});_c31("dojox.gfx.silverlight.Group",sl.Shape,{constructor:function(){gs.Container._init.call(this);},setRawNode:function(_c3e){this.rawNode=_c3e;this.rawNode.tag=this.getUID();}});sl.Group.nodeType="Canvas";_c31("dojox.gfx.silverlight.Rect",[sl.Shape,gs.Rect],{setShape:function(_c3f){this.shape=g.makeParameters(this.shape,_c3f);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=n.width;r.height=n.height;r.radiusX=r.radiusY=n.r;return this._applyTransform();},_getAdjustedMatrix:function(){var _c40=this.matrix,s=this.shape,_c41={dx:s.x,dy:s.y};return new g.Matrix2D(_c40?[_c40,_c41]:_c41);}});sl.Rect.nodeType="Rectangle";_c31("dojox.gfx.silverlight.Ellipse",[sl.Shape,gs.Ellipse],{setShape:function(_c42){this.shape=g.makeParameters(this.shape,_c42);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=2*n.rx;r.height=2*n.ry;return this._applyTransform();},_getAdjustedMatrix:function(){var _c43=this.matrix,s=this.shape,_c44={dx:s.cx-s.rx,dy:s.cy-s.ry};return new g.Matrix2D(_c43?[_c43,_c44]:_c44);}});sl.Ellipse.nodeType="Ellipse";_c31("dojox.gfx.silverlight.Circle",[sl.Shape,gs.Circle],{setShape:function(_c45){this.shape=g.makeParameters(this.shape,_c45);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=r.height=2*n.r;return this._applyTransform();},_getAdjustedMatrix:function(){var _c46=this.matrix,s=this.shape,_c47={dx:s.cx-s.r,dy:s.cy-s.r};return new g.Matrix2D(_c46?[_c46,_c47]:_c47);}});sl.Circle.nodeType="Ellipse";_c31("dojox.gfx.silverlight.Line",[sl.Shape,gs.Line],{setShape:function(_c48){this.shape=g.makeParameters(this.shape,_c48);this.bbox=null;var r=this.rawNode,n=this.shape;r.x1=n.x1;r.y1=n.y1;r.x2=n.x2;r.y2=n.y2;return this;}});sl.Line.nodeType="Line";_c31("dojox.gfx.silverlight.Polyline",[sl.Shape,gs.Polyline],{setShape:function(_c49,_c4a){if(_c49&&_c49 instanceof Array){this.shape=g.makeParameters(this.shape,{points:_c49});if(_c4a&&this.shape.points.length){this.shape.points.push(this.shape.points[0]);}}else{this.shape=g.makeParameters(this.shape,_c49);}this.bbox=null;this._normalizePoints();var p=this.shape.points,rp=[];for(var i=0;i<p.length;++i){rp.push(p[i].x,p[i].y);}this.rawNode.points=rp.join(",");return this;}});sl.Polyline.nodeType="Polyline";_c31("dojox.gfx.silverlight.Image",[sl.Shape,gs.Image],{setShape:function(_c4b){this.shape=g.makeParameters(this.shape,_c4b);this.bbox=null;var r=this.rawNode,n=this.shape;r.width=n.width;r.height=n.height;r.source=n.src;return this._applyTransform();},_getAdjustedMatrix:function(){var _c4c=this.matrix,s=this.shape,_c4d={dx:s.x,dy:s.y};return new g.Matrix2D(_c4c?[_c4c,_c4d]:_c4d);},setRawNode:function(_c4e){this.rawNode=_c4e;this.rawNode.tag=this.getUID();}});sl.Image.nodeType="Image";_c31("dojox.gfx.silverlight.Text",[sl.Shape,gs.Text],{setShape:function(_c4f){this.shape=g.makeParameters(this.shape,_c4f);this.bbox=null;var r=this.rawNode,s=this.shape;r.text=s.text;r.textDecorations=s.decoration==="underline"?"Underline":"None";r["Canvas.Left"]=-10000;r["Canvas.Top"]=-10000;if(!this._delay){this._delay=window.setTimeout(lang.hitch(this,"_delayAlignment"),10);}return this;},_delayAlignment:function(){var r=this.rawNode,s=this.shape,w,h;try{w=r.actualWidth;h=r.actualHeight;}catch(e){return;}var x=s.x,y=s.y-h*0.75;switch(s.align){case"middle":x-=w/2;break;case"end":x-=w;break;}this._delta={dx:x,dy:y};r["Canvas.Left"]=0;r["Canvas.Top"]=0;this._applyTransform();delete this._delay;},_getAdjustedMatrix:function(){var _c50=this.matrix,_c51=this._delta,x;if(_c50){x=_c51?[_c50,_c51]:_c50;}else{x=_c51?_c51:{};}return new g.Matrix2D(x);},setStroke:function(){return this;},_setFillAttr:function(f){this.rawNode.foreground=f;},setRawNode:function(_c52){this.rawNode=_c52;this.rawNode.tag=this.getUID();},getTextWidth:function(){return this.rawNode.actualWidth;}});sl.Text.nodeType="TextBlock";_c31("dojox.gfx.silverlight.Path",[sl.Shape,_c34.Path],{_updateWithSegment:function(_c53){this.inherited(arguments);var p=this.shape.path;if(typeof(p)=="string"){this.rawNode.data=p?p:null;}},setShape:function(_c54){this.inherited(arguments);var p=this.shape.path;this.rawNode.data=p?p:null;return this;}});sl.Path.nodeType="Path";_c31("dojox.gfx.silverlight.TextPath",[sl.Shape,_c34.TextPath],{_updateWithSegment:function(_c55){},setShape:function(_c56){},_setText:function(){}});sl.TextPath.nodeType="text";var _c57={},_c58=new Function;_c31("dojox.gfx.silverlight.Surface",gs.Surface,{constructor:function(){gs.Container._init.call(this);},destroy:function(){window[this._onLoadName]=_c58;delete _c57[this._nodeName];this.inherited(arguments);},setDimensions:function(_c59,_c5a){this.width=g.normalizedLength(_c59);this.height=g.normalizedLength(_c5a);var p=this.rawNode&&this.rawNode.getHost();if(p){p.width=_c59;p.height=_c5a;}return this;},getDimensions:function(){var p=this.rawNode&&this.rawNode.getHost();var t=p?{width:p.content.actualWidth,height:p.content.actualHeight}:null;if(t.width<=0){t.width=this.width;}if(t.height<=0){t.height=this.height;}return t;}});sl.createSurface=function(_c5b,_c5c,_c5d){if(!_c5c&&!_c5d){var pos=_c33.position(_c5b);_c5c=_c5c||pos.w;_c5d=_c5d||pos.h;}if(typeof _c5c=="number"){_c5c=_c5c+"px";}if(typeof _c5d=="number"){_c5d=_c5d+"px";}var s=new sl.Surface();_c5b=dom.byId(_c5b);s._parent=_c5b;s._nodeName=g._base._getUniqueId();var t=_c5b.ownerDocument.createElement("script");t.type="text/xaml";t.id=g._base._getUniqueId();t.text="<?xml version='1.0'?><Canvas xmlns='http://schemas.microsoft.com/client/2007' Name='"+s._nodeName+"'/>";_c5b.parentNode.insertBefore(t,_c5b);s._nodes.push(t);var obj,_c5e=g._base._getUniqueId(),_c5f="__"+g._base._getUniqueId()+"_onLoad";s._onLoadName=_c5f;window[_c5f]=function(_c60){if(!s.rawNode){s.rawNode=dom.byId(_c5e).content.root;_c57[s._nodeName]=_c5b;s.onLoad(s);}};if(has("safari")){obj="<embed type='application/x-silverlight' id='"+_c5e+"' width='"+_c5c+"' height='"+_c5d+" background='transparent'"+" source='#"+t.id+"'"+" windowless='true'"+" maxFramerate='60'"+" onLoad='"+_c5f+"'"+" onError='__dojoSilverlightError'"+" /><iframe style='visibility:hidden;height:0;width:0'/>";}else{obj="<object type='application/x-silverlight' data='data:application/x-silverlight,' id='"+_c5e+"' width='"+_c5c+"' height='"+_c5d+"'>"+"<param name='background' value='transparent' />"+"<param name='source' value='#"+t.id+"' />"+"<param name='windowless' value='true' />"+"<param name='maxFramerate' value='60' />"+"<param name='onLoad' value='"+_c5f+"' />"+"<param name='onError' value='__dojoSilverlightError' />"+"</object>";}_c5b.innerHTML=obj;var _c61=dom.byId(_c5e);if(_c61.content&&_c61.content.root){s.rawNode=_c61.content.root;_c57[s._nodeName]=_c5b;}else{s.rawNode=null;s.isLoaded=false;}s._nodes.push(_c61);s.width=g.normalizedLength(_c5c);s.height=g.normalizedLength(_c5d);return s;};__dojoSilverlightError=function(_c62,err){var t="Silverlight Error:\n"+"Code: "+err.ErrorCode+"\n"+"Type: "+err.ErrorType+"\n"+"Message: "+err.ErrorMessage+"\n";switch(err.ErrorType){case"ParserError":t+="XamlFile: "+err.xamlFile+"\n"+"Line: "+err.lineNumber+"\n"+"Position: "+err.charPosition+"\n";break;case"RuntimeError":t+="MethodName: "+err.methodName+"\n";if(err.lineNumber!=0){t+="Line: "+err.lineNumber+"\n"+"Position: "+err.charPosition+"\n";}break;}};var Font={_setFont:function(){var f=this.fontStyle,r=this.rawNode,t=f.family.toLowerCase();r.fontStyle=f.style=="italic"?"Italic":"Normal";r.fontWeight=f.weight in _c36?_c36[f.weight]:f.weight;r.fontSize=g.normalizedLength(f.size);r.fontFamily=t in _c38?_c38[t]:f.family;if(!this._delay){this._delay=window.setTimeout(lang.hitch(this,"_delayAlignment"),10);}}};var C=gs.Container,_c63={add:function(_c64){if(this!=_c64.getParent()){C.add.apply(this,arguments);this.rawNode.children.add(_c64.rawNode);}return this;},remove:function(_c65,_c66){if(this==_c65.getParent()){var _c67=_c65.rawNode.getParent();if(_c67){_c67.children.remove(_c65.rawNode);}C.remove.apply(this,arguments);}return this;},clear:function(){this.rawNode.children.clear();return C.clear.apply(this,arguments);},_moveChildToFront:C._moveChildToFront,_moveChildToBack:C._moveChildToBack};var _c68={createObject:function(_c69,_c6a){if(!this.rawNode){return null;}var _c6b=new _c69();var node=this.rawNode.getHost().content.createFromXaml("<"+_c69.nodeType+"/>");_c6b.setRawNode(node);_c6b.setShape(_c6a);this.add(_c6b);return _c6b;}};lang.extend(sl.Text,Font);lang.extend(sl.Group,_c63);lang.extend(sl.Group,gs.Creator);lang.extend(sl.Group,_c68);lang.extend(sl.Surface,_c63);lang.extend(sl.Surface,gs.Creator);lang.extend(sl.Surface,_c68);function _c6c(s,a){var ev={target:s,currentTarget:s,preventDefault:function(){},stopPropagation:function(){}};try{if(a.source){ev.target=a.source;var _c6d=ev.target.tag;ev.gfxTarget=gs.byId(_c6d);}}catch(e){}if(a){try{ev.ctrlKey=a.ctrl;ev.shiftKey=a.shift;var p=a.getPosition(null);ev.x=ev.offsetX=ev.layerX=p.x;ev.y=ev.offsetY=ev.layerY=p.y;var _c6e=_c57[s.getHost().content.root.name];var t=_c33.position(_c6e);ev.clientX=t.x+p.x;ev.clientY=t.y+p.y;}catch(e){}}return ev;}function _c6f(s,a){var ev={keyCode:a.platformKeyCode,ctrlKey:a.ctrl,shiftKey:a.shift};try{if(a.source){ev.target=a.source;ev.gfxTarget=gs.byId(ev.target.tag);}}catch(e){}return ev;}var _c70={onclick:{name:"MouseLeftButtonUp",fix:_c6c},onmouseenter:{name:"MouseEnter",fix:_c6c},onmouseleave:{name:"MouseLeave",fix:_c6c},onmouseover:{name:"MouseEnter",fix:_c6c},onmouseout:{name:"MouseLeave",fix:_c6c},onmousedown:{name:"MouseLeftButtonDown",fix:_c6c},onmouseup:{name:"MouseLeftButtonUp",fix:_c6c},onmousemove:{name:"MouseMove",fix:_c6c},onkeydown:{name:"KeyDown",fix:_c6f},onkeyup:{name:"KeyUp",fix:_c6f}};var _c71={connect:function(name,_c72,_c73){var _c74,n=name in _c70?_c70[name]:{name:name,fix:function(){return{};}};if(arguments.length>2){_c74=this.getEventSource().addEventListener(n.name,function(s,a){lang.hitch(_c72,_c73)(n.fix(s,a));});}else{_c74=this.getEventSource().addEventListener(n.name,function(s,a){_c72(n.fix(s,a));});}return{name:n.name,token:_c74};},disconnect:function(_c75){try{this.getEventSource().removeEventListener(_c75.name,_c75.token);}catch(e){}}};lang.extend(sl.Shape,_c71);lang.extend(sl.Surface,_c71);g.equalSources=function(a,b){return a&&b&&a.equals(b);};return sl;});},"dojox/grid/enhanced/plugins/Dialog":function(){define("dojox/grid/enhanced/plugins/Dialog",["dojo/_base/declare","dojo/_base/html","dojo/window","dijit/Dialog"],function(_c76,html,win,_c77){return _c76("dojox.grid.enhanced.plugins.Dialog",_c77,{refNode:null,_position:function(){if(this.refNode&&!this._relativePosition){var _c78=html.position(html.byId(this.refNode)),_c79=html.position(this.domNode),_c7a=win.getBox();if(_c79.w&&_c79.h){if(_c78.x<0){_c78.x=0;}if(_c78.x+_c78.w>_c7a.w){_c78.w=_c7a.w-_c78.x;}if(_c78.y<0){_c78.y=0;}if(_c78.y+_c78.h>_c7a.h){_c78.h=_c7a.h-_c78.y;}_c78.x=_c78.x+_c78.w/2-_c79.w/2;_c78.y=_c78.y+_c78.h/2-_c79.h/2;if(_c78.x>=0&&_c78.x+_c79.w<=_c7a.w&&_c78.y>=0&&_c78.y+_c79.h<=_c7a.h){this._relativePosition=_c78;}}}this.inherited(arguments);}});});},"url:dojox/grid/resources/_Grid.html":'<div hidefocus="hidefocus" role="grid" dojoAttachEvent="onmouseout:_mouseOut">\r\n\t<div class="dojoxGridMasterHeader" dojoAttachPoint="viewsHeaderNode" role="presentation"></div>\r\n\t<div class="dojoxGridMasterView" dojoAttachPoint="viewsNode" role="presentation"></div>\r\n\t<div class="dojoxGridMasterMessages" style="display: none;" dojoAttachPoint="messagesNode"></div>\r\n\t<span dojoAttachPoint="lastFocusNode" tabindex="0"></span>\r\n</div>\r\n',"dojox/grid/EnhancedGrid":function(){define("dojox/grid/EnhancedGrid",["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","dojo/i18n","./DataGrid","./DataSelection","./enhanced/_PluginManager","./enhanced/plugins/_SelectionPreserver","dojo/i18n!./enhanced/nls/EnhancedGrid"],function(dojo,_c7b,_c7c,lang,_c7d,has,dom,_c7e,i18n,_c7f,_c80,_c81,_c82){dojo.experimental("dojox.grid.EnhancedGrid");var _c83=_c7c("dojox.grid.EnhancedGrid",_c7f,{plugins:null,pluginMgr:null,_pluginMgrClass:_c81,postMixInProperties:function(){this._nls=i18n.getLocalization("dojox.grid.enhanced","EnhancedGrid",this.lang);this.inherited(arguments);},postCreate:function(){this.pluginMgr=new this._pluginMgrClass(this);this.pluginMgr.preInit();this.inherited(arguments);this.pluginMgr.postInit();},plugin:function(name){return this.pluginMgr.getPlugin(name);},startup:function(){this.inherited(arguments);this.pluginMgr.startup();},createSelection:function(){this.selection=new _c7b.grid.enhanced.DataSelection(this);},canSort:function(_c84,_c85){return true;},doKeyEvent:function(e){try{var view=this.focus.focusView;view.content.decorateEvent(e);if(!e.cell){view.header.decorateEvent(e);}}catch(e){}this.inherited(arguments);},doApplyCellEdit:function(_c86,_c87,_c88){if(!_c88){this.invalidated[_c87]=true;return;}this.inherited(arguments);},mixin:function(_c89,_c8a){var _c8b={};for(var p in _c8a){if(p=="_inherited"||p=="declaredClass"||p=="constructor"||_c8a["privates"]&&_c8a["privates"][p]){continue;}_c8b[p]=_c8a[p];}lang.mixin(_c89,_c8b);},_copyAttr:function(idx,attr){if(!attr){return;}return this.inherited(arguments);},_getHeaderHeight:function(){this.inherited(arguments);return _c7e.getMarginBox(this.viewsHeaderNode).h;},_fetch:function(_c8c,_c8d){if(this.items){return this.inherited(arguments);}_c8c=_c8c||0;if(this.store&&!this._pending_requests[_c8c]){if(!this._isLoaded&&!this._isLoading){this._isLoading=true;this.showMessage(this.loadingMessage);}this._pending_requests[_c8c]=true;try{var req={start:_c8c,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_c8d,onBegin:lang.hitch(this,"_onFetchBegin"),onComplete:lang.hitch(this,"_onFetchComplete"),onError:lang.hitch(this,"_onFetchError")};this._storeLayerFetch(req);}catch(e){this._onFetchError(e,{start:_c8c,count:this.rowsPerPage});}}return 0;},_storeLayerFetch:function(req){this.store.fetch(req);},getCellByField:function(_c8e){return _c7d.filter(this.layout.cells,function(cell){return cell.field==_c8e;})[0];},onMouseUp:function(e){},createView:function(){var view=this.inherited(arguments);if(has("mozilla")){var _c8f=function(_c90,_c91){for(var n=_c90;n&&_c91(n);n=n.parentNode){}return n;};var _c92=function(_c93){var name=_c93.toUpperCase();return function(node){return node.tagName!=name;};};var func=view.header.getCellX;view.header.getCellX=function(e){var x=func.call(view.header,e);var n=_c8f(e.target,_c92("th"));if(n&&n!==e.target&&dom.isDescendant(e.target,n)){x+=n.firstChild.offsetLeft;}return x;};}return view;},destroy:function(){delete this._nls;this.pluginMgr.destroy();this.inherited(arguments);}});_c7c("dojox.grid.enhanced.DataSelection",_c80,{constructor:function(grid){if(grid.keepSelection){if(this.preserver){this.preserver.destroy();}this.preserver=new _c82(this);}},_range:function(_c94,inTo){this.grid._selectingRange=true;this.inherited(arguments);this.grid._selectingRange=false;this.onChanged();},deselectAll:function(_c95){this.grid._selectingRange=true;this.inherited(arguments);this.grid._selectingRange=false;this.onChanged();}});_c83.markupFactory=function(_c96,node,ctor,_c97){return _c7b.grid._Grid.markupFactory(_c96,node,ctor,lang.partial(_c7f.cell_markupFactory,_c97));};_c83.registerPlugin=function(_c98,_c99){_c81.registerPlugin(_c98,_c99);};return _c83;});},"dojox/charting/action2d/Shake":function(){define("dojox/charting/action2d/Shake",["dojo/_base/connect","dojo/_base/declare","./PlotAction","dojo/fx","dojo/fx/easing","dojox/gfx/matrix","dojox/gfx/fx"],function(hub,_c9a,_c9b,df,dfe,m,gf){var _c9c=3;return _c9a("dojox.charting.action2d.Shake",_c9b,{defaultParams:{duration:400,easing:dfe.backOut,shiftX:_c9c,shiftY:_c9c},optionalParams:{},constructor:function(_c9d,plot,_c9e){if(!_c9e){_c9e={};}this.shiftX=typeof _c9e.shiftX=="number"?_c9e.shiftX:_c9c;this.shiftY=typeof _c9e.shiftY=="number"?_c9e.shiftY:_c9c;this.connect();},process:function(o){if(!o.shape||!(o.type in this.overOutEvents)){return;}var _c9f=o.run.name,_ca0=o.index,_ca1=[],anim,_ca2=o.type=="onmouseover"?this.shiftX:-this.shiftX,_ca3=o.type=="onmouseover"?this.shiftY:-this.shiftY;if(_c9f in this.anim){anim=this.anim[_c9f][_ca0];}else{this.anim[_c9f]={};}if(anim){anim.action.stop(true);}else{this.anim[_c9f][_ca0]=anim={};}var _ca4={shape:o.shape,duration:this.duration,easing:this.easing,transform:[{name:"translate",start:[this.shiftX,this.shiftY],end:[0,0]},m.identity]};if(o.shape){_ca1.push(gf.animateTransform(_ca4));}if(o.oultine){_ca4.shape=o.outline;_ca1.push(gf.animateTransform(_ca4));}if(o.shadow){_ca4.shape=o.shadow;_ca1.push(gf.animateTransform(_ca4));}if(!_ca1.length){delete this.anim[_c9f][_ca0];return;}anim.action=df.combine(_ca1);if(o.type=="onmouseout"){hub.connect(anim.action,"onEnd",this,function(){if(this.anim[_c9f]){delete this.anim[_c9f][_ca0];}});}anim.action.play();}});});},"dojox/mdnd/AreaManager":function(){define("dojox/mdnd/AreaManager",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/window","dojo/_base/array","dojo/query","dojo/_base/html","./Moveable"],function(dojo){var am=dojo.declare("dojox.mdnd.AreaManager",null,{autoRefresh:true,areaClass:"dojoxDndArea",dragHandleClass:"dojoxDragHandle",constructor:function(){this._areaList=[];this.resizeHandler=dojo.connect(dojo.global,"onresize",this,function(){this._dropMode.updateAreas(this._areaList);});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1;},init:function(){this.registerByClass();},registerByNode:function(area,_ca5){var _ca6=this._getIndexArea(area);if(area&&_ca6==-1){var _ca7=area.getAttribute("accept");var _ca8=(_ca7)?_ca7.split(/\s*,\s*/):["text"];var obj={"node":area,"items":[],"coords":{},"margin":null,"accept":_ca8,"initItems":false};dojo.forEach(this._getChildren(area),function(item){this._setMarginArea(obj,item);obj.items.push(this._addMoveableItem(item));},this);this._areaList=this._dropMode.addArea(this._areaList,obj);if(!_ca5){this._dropMode.updateAreas(this._areaList);}dojo.publish("/dojox/mdnd/manager/register",[area]);}},registerByClass:function(){dojo.query("."+this.areaClass).forEach(function(area){this.registerByNode(area,true);},this);this._dropMode.updateAreas(this._areaList);},unregister:function(area){var _ca9=this._getIndexArea(area);if(_ca9!=-1){dojo.forEach(this._areaList[_ca9].items,function(item){this._deleteMoveableItem(item);},this);this._areaList.splice(_ca9,1);this._dropMode.updateAreas(this._areaList);return true;}return false;},_addMoveableItem:function(node){node.setAttribute("tabIndex","0");var _caa=this._searchDragHandle(node);var _cab=new dojox.mdnd.Moveable({"handle":_caa,"skip":true},node);dojo.addClass(_caa||node,"dragHandle");var type=node.getAttribute("dndType");var item={"item":_cab,"type":type?type.split(/\s*,\s*/):["text"],"handlers":[dojo.connect(_cab,"onDragStart",this,"onDragStart")]};if(dijit&&dijit.byNode){var _cac=dijit.byNode(node);if(_cac){item.type=_cac.dndType?_cac.dndType.split(/\s*,\s*/):["text"];item.handlers.push(dojo.connect(_cac,"uninitialize",this,function(){this.removeDragItem(node.parentNode,_cab.node);}));}}return item;},_deleteMoveableItem:function(_cad){dojo.forEach(_cad.handlers,function(_cae){dojo.disconnect(_cae);});var node=_cad.item.node,_caf=this._searchDragHandle(node);dojo.removeClass(_caf||node,"dragHandle");_cad.item.destroy();},_getIndexArea:function(area){if(area){for(var i=0;i<this._areaList.length;i++){if(this._areaList[i].node===area){return i;}}}return -1;},_searchDragHandle:function(node){if(node){var _cb0=this.dragHandleClass.split(" "),_cb1=_cb0.length,_cb2="";dojo.forEach(_cb0,function(css,i){_cb2+="."+css;if(i!=_cb1-1){_cb2+=", ";}});return dojo.query(_cb2,node)[0];}},addDragItem:function(area,node,_cb3,_cb4){var add=true;if(!_cb4){add=area&&node&&(node.parentNode===null||(node.parentNode&&node.parentNode.nodeType!==1));}if(add){var _cb5=this._getIndexArea(area);if(_cb5!==-1){var item=this._addMoveableItem(node),_cb6=this._areaList[_cb5].items;if(0<=_cb3&&_cb3<_cb6.length){var _cb7=_cb6.slice(0,_cb3),_cb8=_cb6.slice(_cb3,_cb6.length);_cb7[_cb7.length]=item;this._areaList[_cb5].items=_cb7.concat(_cb8);area.insertBefore(node,_cb6[_cb3].item.node);}else{this._areaList[_cb5].items.push(item);area.appendChild(node);}this._setMarginArea(this._areaList[_cb5],node);this._areaList[_cb5].initItems=false;return true;}}return false;},removeDragItem:function(area,node){var _cb9=this._getIndexArea(area);if(area&&_cb9!==-1){var _cba=this._areaList[_cb9].items;for(var j=0;j<_cba.length;j++){if(_cba[j].item.node===node){this._deleteMoveableItem(_cba[j]);_cba.splice(j,1);return area.removeChild(node);}}}return null;},_getChildren:function(area){var _cbb=[];dojo.forEach(area.childNodes,function(_cbc){if(_cbc.nodeType==1){if(dijit&&dijit.byNode){var _cbd=dijit.byNode(_cbc);if(_cbd){if(!_cbd.dragRestriction){_cbb.push(_cbc);}}else{_cbb.push(_cbc);}}else{_cbb.push(_cbc);}}});return _cbb;},_setMarginArea:function(area,node){if(area&&area.margin===null&&node){area.margin=dojo._getMarginExtents(node);}},findCurrentIndexArea:function(_cbe,size){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,_cbe,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(this._oldIndexArea!=-1){this.onDragExit(_cbe,size);}if(this._currentIndexArea!=-1){this.onDragEnter(_cbe,size);}}return this._currentIndexArea;},_isAccepted:function(type,_cbf){this._accept=false;for(var i=0;i<_cbf.length;++i){for(var j=0;j<type.length;++j){if(type[j]==_cbf[i]){this._accept=true;break;}}}},onDragStart:function(node,_cc0,size){if(this.autoRefresh){this._dropMode.updateAreas(this._areaList);}var _cc1=(dojo.isWebKit)?dojo.body():dojo.body().parentNode;if(!this._cover){this._cover=dojo.create("div",{"class":"dndCover"});this._cover2=dojo.clone(this._cover);dojo.addClass(this._cover2,"dndCover2");}var h=_cc1.scrollHeight+"px";this._cover.style.height=this._cover2.style.height=h;dojo.body().appendChild(this._cover);dojo.body().appendChild(this._cover2);this._dragStartHandler=dojo.connect(node.ownerDocument,"ondragstart",dojo,"stopEvent");this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(node.parentNode);var _cc2=this._areaList[this._sourceIndexArea];var _cc3=_cc2.items;for(var i=0;i<_cc3.length;i++){if(_cc3[i].item.node==node){this._dragItem=_cc3[i];this._dragItem.handlers.push(dojo.connect(this._dragItem.item,"onDrag",this,"onDrag"));this._dragItem.handlers.push(dojo.connect(this._dragItem.item,"onDragEnd",this,"onDrop"));_cc3.splice(i,1);this._currentDropIndex=this._sourceDropIndex=i;break;}}var _cc4=null;if(this._sourceDropIndex!==_cc2.items.length){_cc4=_cc2.items[this._sourceDropIndex].item.node;}if(dojo.isIE>7){this._eventsIE7=[dojo.connect(this._cover,"onmouseover",dojo,"stopEvent"),dojo.connect(this._cover,"onmouseout",dojo,"stopEvent"),dojo.connect(this._cover,"onmouseenter",dojo,"stopEvent"),dojo.connect(this._cover,"onmouseleave",dojo,"stopEvent")];}var s=node.style;s.left=_cc0.x+"px";s.top=_cc0.y+"px";if(s.position=="relative"||s.position==""){s.position="absolute";}this._cover.appendChild(node);this._dropIndicator.place(_cc2.node,_cc4,size);dojo.addClass(node,"dragNode");this._accept=true;dojo.publish("/dojox/mdnd/drag/start",[node,_cc2,this._sourceDropIndex]);},onDragEnter:function(_cc5,size){if(this._currentIndexArea===this._sourceIndexArea){this._accept=true;}else{this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept);}},onDragExit:function(_cc6,size){this._accept=false;},onDrag:function(node,_cc7,size,_cc8){var _cc9=this._dropMode.getDragPoint(_cc7,size,_cc8);this.findCurrentIndexArea(_cc9,size);if(this._currentIndexArea!==-1&&this._accept){this.placeDropIndicator(_cc9,size);}},placeDropIndicator:function(_cca,size){this._oldDropIndex=this._currentDropIndex;var area=this._areaList[this._currentIndexArea];if(!area.initItems){this._dropMode.initItems(area);}this._currentDropIndex=this._dropMode.getDropIndex(area,_cca);if(!(this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex)){this._placeDropIndicator(size);}return this._currentDropIndex;},_placeDropIndicator:function(size){var _ccb=this._areaList[this._lastValidIndexArea];var _ccc=this._areaList[this._currentIndexArea];this._dropMode.refreshItems(_ccb,this._oldDropIndex,size,false);var node=null;if(this._currentDropIndex!=-1){node=_ccc.items[this._currentDropIndex].item.node;}this._dropIndicator.place(_ccc.node,node);this._lastValidIndexArea=this._currentIndexArea;this._dropMode.refreshItems(_ccc,this._currentDropIndex,size,true);},onDropCancel:function(){if(!this._accept){var _ccd=this._getIndexArea(this._dropIndicator.node.parentNode);if(_ccd!=-1){this._currentIndexArea=_ccd;}else{this._currentIndexArea=0;}}},onDrop:function(node){this.onDropCancel();var _cce=this._areaList[this._currentIndexArea];dojo.removeClass(node,"dragNode");var _ccf=node.style;_ccf.position="relative";_ccf.left="0";_ccf.top="0";_ccf.width="auto";if(_cce.node==this._dropIndicator.node.parentNode){_cce.node.insertBefore(node,this._dropIndicator.node);}else{_cce.node.appendChild(node);this._currentDropIndex=_cce.items.length;}var _cd0=this._currentDropIndex;if(_cd0==-1){_cd0=_cce.items.length;}var _cd1=_cce.items;var _cd2=_cd1.slice(0,_cd0);var _cd3=_cd1.slice(_cd0,_cd1.length);_cd2[_cd2.length]=this._dragItem;_cce.items=_cd2.concat(_cd3);this._setMarginArea(_cce,node);dojo.forEach(this._areaList,function(obj){obj.initItems=false;});dojo.disconnect(this._dragItem.handlers.pop());dojo.disconnect(this._dragItem.handlers.pop());this._resetAfterDrop();if(this._cover){dojo.body().removeChild(this._cover);dojo.body().removeChild(this._cover2);}dojo.publish("/dojox/mdnd/drop",[node,_cce,_cd0]);},_resetAfterDrop:function(){this._accept=false;this._dragItem=null;this._currentDropIndex=-1;this._currentIndexArea=-1;this._oldDropIndex=-1;this._sourceIndexArea=-1;this._sourceDropIndex=-1;this._dropIndicator.remove();if(this._dragStartHandler){dojo.disconnect(this._dragStartHandler);}if(dojo.isIE>7){dojo.forEach(this._eventsIE7,dojo.disconnect);}},destroy:function(){while(this._areaList.length>0){if(!this.unregister(this._areaList[0].node)){throw new Error("Error while destroying AreaManager");}}dojo.disconnect(this.resizeHandler);this._dropIndicator.destroy();this._dropMode.destroy();if(dojox.mdnd.autoScroll){dojox.mdnd.autoScroll.destroy();}if(this.refreshListener){dojo.unsubscribe(this.refreshListener);}if(this._cover){dojo._destroyElement(this._cover);dojo._destroyElement(this._cover2);delete this._cover;delete this._cover2;}}});if(dijit&&dijit._Widget){dojo.extend(dijit._Widget,{dndType:"text"});}dojox.mdnd._areaManager=null;dojox.mdnd.areaManager=function(){if(!dojox.mdnd._areaManager){dojox.mdnd._areaManager=new dojox.mdnd.AreaManager();}return dojox.mdnd._areaManager;};return am;});},"dojox/charting/plot2d/StackedColumns":function(){define("dojox/charting/plot2d/StackedColumns",["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","./Columns","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/functional/sequence"],function(lang,arr,_cd4,_cd5,dc,df,dfr,dfs){var _cd6=dfr.lambda("item.purgeGroup()");return _cd4("dojox.charting.plot2d.StackedColumns",_cd5,{getSeriesStats:function(){var _cd7=dc.collectStackedStats(this.series);this._maxRunLength=_cd7.hmax;_cd7.hmin-=0.5;_cd7.hmax+=0.5;return _cd7;},render:function(dim,_cd8){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var _cd9=run.data[j];if(_cd9!==null){var v=typeof _cd9=="number"?_cd9:_cd9.y;if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_cd8);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_cd6);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,f,gap,_cda,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_cdb=this.events();f=dc.calculateBarSize(this._hScaler.bounds.scale,this.opt);gap=f.gap;_cda=f.size;for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _cdc=t.next("column",[this.opt,run]),s=run.group,_cdd=new Array(acc.length);for(var j=0;j<acc.length;++j){var _cd9=run.data[j];if(_cd9!==null){var v=acc[j],_cde=vt(v),_cdf=typeof _cd9!="number"?t.addMixin(_cdc,"column",_cd9,true):t.post(_cdc,"column");if(_cda>=1&&_cde>=0){var rect={x:_cd8.l+ht(j+0.5)+gap,y:dim.height-_cd8.b-vt(v),width:_cda,height:_cde};var _ce0=this._plotFill(_cdf.series.fill,dim,_cd8);_ce0=this._shapeFill(_ce0,rect);var _ce1=s.createRect(rect).setFill(_ce0).setStroke(_cdf.series.stroke);run.dyn.fill=_ce1.getFill();run.dyn.stroke=_ce1.getStroke();if(_cdb){var o={element:"column",index:j,run:run,shape:_ce1,x:j+0.5,y:v};this._connectEvents(o);_cdd[j]=o;}if(this.animate){this._animateColumn(_ce1,dim.height-_cd8.b,_cde);}}}}this._eventSeries[run.name]=_cdd;run.dirty=false;for(var j=0;j<run.data.length;++j){var _cd9=run.data[j];if(_cd9!==null){var v=typeof _cd9=="number"?_cd9:_cd9.y;if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});});},"dojox/charting/plot2d/Stacked":function(){define("dojox/charting/plot2d/Stacked",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","./Default","./common","dojox/lang/functional","dojox/lang/functional/reversed","dojox/lang/functional/sequence"],function(lang,_ce2,arr,_ce3,dc,df,dfr,dfs){var _ce4=dfr.lambda("item.purgeGroup()");return _ce2("dojox.charting.plot2d.Stacked",_ce3,{getSeriesStats:function(){var _ce5=dc.collectStackedStats(this.series);this._maxRunLength=_ce5.hmax;return _ce5;},render:function(dim,_ce6){if(this._maxRunLength<=0){return this;}var acc=df.repeat(this._maxRunLength,"-> 0",0);for(var i=0;i<this.series.length;++i){var run=this.series[i];for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){if(isNaN(v)){v=0;}acc[j]+=v;}}}if(this.zoom&&!this.isDataDirty()){return this.performZoom(dim,_ce6);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){arr.forEach(this.series,_ce4);this._eventSeries={};this.cleanGroup();var s=this.group;df.forEachRev(this.series,function(item){item.cleanGroup(s);});}var t=this.chart.theme,_ce7=this.events(),ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler);for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();var _ce8=t.next(this.opt.areas?"area":"line",[this.opt,run],true),s=run.group,_ce9,_cea=arr.map(acc,function(v,i){return{x:ht(i+1)+_ce6.l,y:dim.height-_ce6.b-vt(v)};},this);var _ceb=this.opt.tension?dc.curve(_cea,this.opt.tension):"";if(this.opt.areas){var _cec=lang.clone(_cea);if(this.opt.tension){var p=dc.curve(_cec,this.opt.tension);p+=" L"+_cea[_cea.length-1].x+","+(dim.height-_ce6.b)+" L"+_cea[0].x+","+(dim.height-_ce6.b)+" L"+_cea[0].x+","+_cea[0].y;run.dyn.fill=s.createPath(p).setFill(_ce8.series.fill).getFill();}else{_cec.push({x:_cea[_cea.length-1].x,y:dim.height-_ce6.b});_cec.push({x:_cea[0].x,y:dim.height-_ce6.b});_cec.push(_cea[0]);run.dyn.fill=s.createPolyline(_cec).setFill(_ce8.series.fill).getFill();}}if(this.opt.lines||this.opt.markers){if(_ce8.series.outline){_ce9=dc.makeStroke(_ce8.series.outline);_ce9.width=2*_ce9.width+_ce8.series.stroke.width;}}if(this.opt.markers){run.dyn.marker=_ce8.symbol;}var _ced,_cee,_cef;if(_ce8.series.shadow&&_ce8.series.stroke){var _cf0=_ce8.series.shadow,_cf1=arr.map(_cea,function(c){return{x:c.x+_cf0.dx,y:c.y+_cf0.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_cf1,this.opt.tension)).setStroke(_cf0).getStroke();}else{run.dyn.shadow=s.createPolyline(_cf1).setStroke(_cf0).getStroke();}}if(this.opt.markers){_cf0=_ce8.marker.shadow;_cef=arr.map(_cf1,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_ce8.symbol).setStroke(_cf0).setFill(_cf0.color);},this);}}if(this.opt.lines){if(_ce9){if(this.opt.tension){run.dyn.outline=s.createPath(_ceb).setStroke(_ce9).getStroke();}else{run.dyn.outline=s.createPolyline(_cea).setStroke(_ce9).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_ceb).setStroke(_ce8.series.stroke).getStroke();}else{run.dyn.stroke=s.createPolyline(_cea).setStroke(_ce8.series.stroke).getStroke();}}if(this.opt.markers){_ced=new Array(_cea.length);_cee=new Array(_cea.length);_ce9=null;if(_ce8.marker.outline){_ce9=dc.makeStroke(_ce8.marker.outline);_ce9.width=2*_ce9.width+(_ce8.marker.stroke?_ce8.marker.stroke.width:0);}arr.forEach(_cea,function(c,i){var path="M"+c.x+" "+c.y+" "+_ce8.symbol;if(_ce9){_cee[i]=s.createPath(path).setStroke(_ce9);}_ced[i]=s.createPath(path).setStroke(_ce8.marker.stroke).setFill(_ce8.marker.fill);},this);if(_ce7){var _cf2=new Array(_ced.length);arr.forEach(_ced,function(s,i){var o={element:"marker",index:i,run:run,shape:s,outline:_cee[i]||null,shadow:_cef&&_cef[i]||null,cx:_cea[i].x,cy:_cea[i].y,x:i+1,y:run.data[i]};this._connectEvents(o);_cf2[i]=o;},this);this._eventSeries[run.name]=_cf2;}else{delete this._eventSeries[run.name];}}run.dirty=false;for(var j=0;j<run.data.length;++j){var v=run.data[j];if(v!==null){if(isNaN(v)){v=0;}acc[j]-=v;}}}this.dirty=false;return this;}});});},"dojox/lang/functional/object":function(){define("dojox/lang/functional/object",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/window","./lambda"],function(dojo,lang,win,df){var _cf3={};lang.mixin(df,{keys:function(obj){var t=[];for(var i in obj){if(!(i in _cf3)){t.push(i);}}return t;},values:function(obj){var t=[];for(var i in obj){if(!(i in _cf3)){t.push(obj[i]);}}return t;},filterIn:function(obj,f,o){o=o||win.global;f=df.lambda(f);var t={},v,i;for(i in obj){if(!(i in _cf3)){v=obj[i];if(f.call(o,v,i,obj)){t[i]=v;}}}return t;},forIn:function(obj,f,o){o=o||win.global;f=df.lambda(f);for(var i in obj){if(!(i in _cf3)){f.call(o,obj[i],i,obj);}}return o;},mapIn:function(obj,f,o){o=o||win.global;f=df.lambda(f);var t={},i;for(i in obj){if(!(i in _cf3)){t[i]=f.call(o,obj[i],i,obj);}}return t;}});return df;});},"dojox/charting/plot2d/Lines":function(){define("dojox/charting/plot2d/Lines",["dojo/_base/declare","./Default"],function(_cf4,_cf5){return _cf4("dojox.charting.plot2d.Lines",_cf5,{constructor:function(){this.opt.lines=true;}});});},"dojox/grid/_View":function(){require({cache:{"url:dojox/grid/resources/View.html":'<div class="dojoxGridView" role="presentation">\r\n\t<div class="dojoxGridHeader" dojoAttachPoint="headerNode" role="presentation">\r\n\t\t<div dojoAttachPoint="headerNodeContainer" style="width:9000em" role="presentation">\r\n\t\t\t<div dojoAttachPoint="headerContentNode" role="row"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<input type="checkbox" class="dojoxGridHiddenFocus" dojoAttachPoint="hiddenFocusNode" role="presentation" />\r\n\t<input type="checkbox" class="dojoxGridHiddenFocus" role="presentation" />\r\n\t<div class="dojoxGridScrollbox" dojoAttachPoint="scrollboxNode" role="presentation">\r\n\t\t<div class="dojoxGridContent" dojoAttachPoint="contentNode" hidefocus="hidefocus" role="presentation"></div>\r\n\t</div>\r\n</div>\r\n'}});define("dojox/grid/_View",["dojo","dijit/registry","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/_base/window","dojo/text!./resources/View.html","dojo/dnd/Source","dijit/_Widget","dijit/_TemplatedMixin","dojox/html/metrics","./util","dojo/_base/html","./_Builder","dojo/dnd/Avatar","dojo/dnd/Manager"],function(dojo,_cf6,_cf7,_cf8,_cf9,lang,_cfa,has,_cfb,win,_cfc,_cfd,_cfe,_cff,_d00,util,html,_d01,_d02){var _d03=function(_d04,_d05){return _d04.style.cssText==undefined?_d04.getAttribute("style"):_d04.style.cssText;};var _d06=_cf8("dojox.grid._View",[_cfe,_cff],{defaultWidth:"18em",viewWidth:"",templateString:_cfc,themeable:false,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:_d01._HeaderBuilder,_contentBuilderClass:_d01._ContentBuilder,postMixInProperties:function(){this.rowNodes={};},postCreate:function(){this.connect(this.scrollboxNode,"onscroll","doscroll");util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new this._contentBuilderClass(this);this.header=new this._headerBuilderClass(this);if(!this.grid.isLeftToRight()){this.headerNodeContainer.style.width="";}},destroy:function(){html.destroy(this.headerNode);delete this.headerNode;for(var i in this.rowNodes){this._cleanupRowWidgets(this.rowNodes[i]);html.destroy(this.rowNodes[i]);}this.rowNodes={};if(this.source){this.source.destroy();}this.inherited(arguments);},focus:function(){if(has("ie")||has("webkit")||has("opera")){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_d07){var vs=(this.structure=_d07);if(vs.width&&!isNaN(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);}this._onBeforeRow=vs.onBeforeRow||function(){};this._onAfterRow=vs.onAfterRow||function(){};this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.simpleStructure=Boolean(vs.cells.length==1);this.testFlexCells();this.updateStructure();},_cleanupRowWidgets:function(_d08){if(_d08){_cf9.forEach(_cfb("[widgetId]",_d08).map(_cf6.byNode),function(w){if(w._destroyOnRemove){w.destroy();delete w;}else{if(w.domNode&&w.domNode.parentNode){w.domNode.parentNode.removeChild(w.domNode);}}});}},onBeforeRow:function(_d09,_d0a){this._onBeforeRow(_d09,_d0a);if(_d09>=0){this._cleanupRowWidgets(this.getRowNode(_d09));}},onAfterRow:function(_d0b,_d0c,_d0d){this._onAfterRow(_d0b,_d0c,_d0d);var g=this.grid;_cf9.forEach(_cfb(".dojoxGridStubNode",_d0d),function(n){if(n&&n.parentNode){var lw=n.getAttribute("linkWidget");var _d0e=window.parseInt(html.attr(n,"cellIdx"),10);var _d0f=g.getCell(_d0e);var w=_cf6.byId(lw);if(w){n.parentNode.replaceChild(w.domNode,n);if(!w._started){w.startup();}dojo.destroy(n);}else{n.innerHTML="";}}},this);},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.cells[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){var _d10=this.hasVScrollbar();var _d11=html.style(this.scrollboxNode,"overflow");if(this.noscroll||!_d11||_d11=="hidden"){_d10=false;}else{if(_d11=="scroll"){_d10=true;}}return(_d10?_d00.getScrollbar().w:0);},getColumnsWidth:function(){var h=this.headerContentNode;return h&&h.firstChild?h.firstChild.offsetWidth:0;},setColumnsWidth:function(_d12){this.headerContentNode.firstChild.style.width=_d12+"px";if(this.viewWidth){this.viewWidth=_d12+"px";}},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,html._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();if(this._togglingColumn>=0){this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);this._togglingColumn=-1;}var _d13=this.grid.layout.cells;var _d14=lang.hitch(this,function(node,_d15){!this.grid.isLeftToRight()&&(_d15=!_d15);var inc=_d15?-1:1;var idx=this.header.getCellNodeIndex(node)+inc;var cell=_d13[idx];while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){idx+=inc;cell=_d13[idx];}if(cell){return cell.getHeaderNode();}return null;});if(this.grid.columnReordering&&this.simpleStructure){if(this.source){this.source.destroy();}var _d16="dojoxGrid_bottomMarker";var _d17="dojoxGrid_topMarker";if(this.bottomMarker){html.destroy(this.bottomMarker);}this.bottomMarker=html.byId(_d16);if(this.topMarker){html.destroy(this.topMarker);}this.topMarker=html.byId(_d17);if(!this.bottomMarker){this.bottomMarker=html.create("div",{"id":_d16,"class":"dojoxGridColPlaceBottom"},win.body());this._hide(this.bottomMarker);this.topMarker=html.create("div",{"id":_d17,"class":"dojoxGridColPlaceTop"},win.body());this._hide(this.topMarker);}this.arrowDim=html.contentBox(this.bottomMarker);var _d18=html.contentBox(this.headerContentNode.firstChild.rows[0]).h;this.source=new _cfd(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:lang.hitch(this,function(e){this.header.decorateEvent(e);if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){this.header.beginColumnResize(e);}else{if(this.grid.headerMenu){this.grid.headerMenu.onCancel(true);}if(e.button===(has("ie")<9?1:0)){_cfd.prototype.onMouseDown.call(this.source,e);}}}),onMouseOver:lang.hitch(this,function(e){var src=this.source;if(src._getChildByEvent(e)){_cfd.prototype.onMouseOver.apply(src,arguments);}}),_markTargetAnchor:lang.hitch(this,function(_d19){var src=this.source;if(src.current==src.targetAnchor&&src.before==_d19){return;}if(src.targetAnchor&&_d14(src.targetAnchor,src.before)){src._removeItemClass(_d14(src.targetAnchor,src.before),src.before?"After":"Before");}_cfd.prototype._markTargetAnchor.call(src,_d19);var _d1a=_d19?src.targetAnchor:_d14(src.targetAnchor,src.before);var _d1b=0;if(!_d1a){_d1a=src.targetAnchor;_d1b=html.contentBox(_d1a).w+this.arrowDim.w/2+2;}var pos=html.position(_d1a,true);var left=Math.floor(pos.x-this.arrowDim.w/2+_d1b);html.style(this.bottomMarker,"visibility","visible");html.style(this.topMarker,"visibility","visible");html.style(this.bottomMarker,{"left":left+"px","top":(_d18+pos.y)+"px"});html.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});if(src.targetAnchor&&_d14(src.targetAnchor,src.before)){src._addItemClass(_d14(src.targetAnchor,src.before),src.before?"After":"Before");}}),_unmarkTargetAnchor:lang.hitch(this,function(){var src=this.source;if(!src.targetAnchor){return;}if(src.targetAnchor&&_d14(src.targetAnchor,src.before)){src._removeItemClass(_d14(src.targetAnchor,src.before),src.before?"After":"Before");}this._hide(this.bottomMarker);this._hide(this.topMarker);_cfd.prototype._unmarkTargetAnchor.call(src);}),destroy:lang.hitch(this,function(){_cfa.disconnect(this._source_conn);_cfa.unsubscribe(this._source_sub);_cfd.prototype.destroy.call(this.source);if(this.bottomMarker){html.destroy(this.bottomMarker);delete this.bottomMarker;}if(this.topMarker){html.destroy(this.topMarker);delete this.topMarker;}}),onDndCancel:lang.hitch(this,function(){_cfd.prototype.onDndCancel.call(this.source);this._hide(this.bottomMarker);this._hide(this.topMarker);})});this._source_conn=_cfa.connect(this.source,"onDndDrop",this,"_onDndDrop");this._source_sub=_cfa.subscribe("/dnd/drop/before",this,"_onDndDropBefore");this.source.startup();}},_hide:function(node){html.style(node,{top:"-10000px","visibility":"hidden"});},_onDndDropBefore:function(_d1c,_d1d,copy){if(dojo.dnd.manager().target!==this.source){return;}this.source._targetNode=this.source.targetAnchor;this.source._beforeTarget=this.source.before;var _d1e=this.grid.views.views;var _d1f=_d1e[_d1c.viewIndex];var _d20=_d1e[this.index];if(_d20!=_d1f){_d1f.convertColPctToFixed();_d20.convertColPctToFixed();}},_onDndDrop:function(_d21,_d22,copy){if(dojo.dnd.manager().target!==this.source){if(dojo.dnd.manager().source===this.source){this._removingColumn=true;}return;}this._hide(this.bottomMarker);this._hide(this.topMarker);var _d23=function(n){return n?html.attr(n,"idx"):null;};var w=html.marginBox(_d22[0]).w;if(_d21.viewIndex!==this.index){var _d24=this.grid.views.views;var _d25=_d24[_d21.viewIndex];var _d26=_d24[this.index];if(_d25.viewWidth&&_d25.viewWidth!="auto"){_d25.setColumnsWidth(_d25.getColumnsWidth()-w);}if(_d26.viewWidth&&_d26.viewWidth!="auto"){_d26.setColumnsWidth(_d26.getColumnsWidth());}}var stn=this.source._targetNode;var stb=this.source._beforeTarget;!this.grid.isLeftToRight()&&(stb=!stb);var _d27=this.grid.layout;var idx=this.index;delete this.source._targetNode;delete this.source._beforeTarget;_d27.moveColumn(_d21.viewIndex,idx,_d23(_d22[0]),_d23(stn),stb);},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);},_getHeaderContent:function(_d28){var n=_d28.name||_d28.grid.getCellName(_d28);if(/^\s+$/.test(n)){n="&nbsp;";}var ret=['<div class="dojoxGridSortNode'];if(_d28.index!=_d28.grid.getSortIndex()){ret.push('">');}else{ret=ret.concat([" ",_d28.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown",'"><div class="dojoxGridArrowButtonChar">',_d28.grid.sortInfo>0?"&#9650;":"&#9660;",'</div><div class="dojoxGridArrowButtonNode" role="presentation"></div>','<div class="dojoxGridColCaption">']);}ret=ret.concat([n,"</div></div>"]);return ret.join("");},resize:function(){this.adaptHeight();this.adaptWidth();},hasHScrollbar:function(_d29){var _d2a=this._hasHScroll||false;if(this._hasHScroll==undefined||_d29){if(this.noscroll){this._hasHScroll=false;}else{var _d2b=html.style(this.scrollboxNode,"overflow");if(_d2b=="hidden"){this._hasHScroll=false;}else{if(_d2b=="scroll"){this._hasHScroll=true;}else{this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);}}}}if(_d2a!==this._hasHScroll){this.grid.update();}return this._hasHScroll;},hasVScrollbar:function(_d2c){var _d2d=this._hasVScroll||false;if(this._hasVScroll==undefined||_d2c){if(this.noscroll){this._hasVScroll=false;}else{var _d2e=html.style(this.scrollboxNode,"overflow");if(_d2e=="hidden"){this._hasVScroll=false;}else{if(_d2e=="scroll"){this._hasVScroll=true;}else{this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);}}}}if(_d2d!==this._hasVScroll){this.grid.update();}return this._hasVScroll;},convertColPctToFixed:function(){var _d2f=false;this.grid.initialWidth="";var _d30=_cfb("th",this.headerContentNode);var _d31=_cf9.map(_d30,function(c,vIdx){var w=c.style.width;html.attr(c,"vIdx",vIdx);if(w&&w.slice(-1)=="%"){_d2f=true;}else{if(w&&w.slice(-2)=="px"){return window.parseInt(w,10);}}return html.contentBox(c).w;});if(_d2f){_cf9.forEach(this.grid.layout.cells,function(cell,idx){if(cell.view==this){var _d32=cell.view.getHeaderCellNode(cell.index);if(_d32&&html.hasAttr(_d32,"vIdx")){var vIdx=window.parseInt(html.attr(_d32,"vIdx"));this.setColWidth(idx,_d31[vIdx]);html.removeAttr(_d32,"vIdx");}}},this);return true;}return false;},adaptHeight:function(_d33){if(!this.grid._autoHeight){var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;var self=this;var _d34=function(){var v;for(var i in self.grid.views.views){v=self.grid.views.views[i];if(v!==self&&v.hasHScrollbar()){return true;}}return false;};if(_d33||(this.noscroll&&_d34())){h-=_d00.getScrollbar().h;}util.setStyleHeightPx(this.scrollboxNode,h);}this.hasVScrollbar(true);},adaptWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();if(!this._removingColumn){w=Math.max(w,this.getColumnsWidth())+"px";}else{w=Math.min(w,this.getColumnsWidth())+"px";this._removingColumn=false;}var cn=this.contentNode;cn.style.width=w;this.hasHScrollbar(true);},setSize:function(w,h){var ds=this.domNode.style;var hs=this.headerNode.style;if(w){ds.width=w;hs.width=w;}ds.height=(h>=0?h+"px":"");},renderRow:function(_d35){var _d36=this.createRowNode(_d35);this.buildRow(_d35,_d36);return _d36;},createRowNode:function(_d37){var node=document.createElement("div");node.className=this.classTag+"Row";if(this instanceof _cf7.grid._RowSelector){html.attr(node,"role","presentation");}else{html.attr(node,"role","row");if(this.grid.selectionMode!="none"){node.setAttribute("aria-selected","false");}}node[util.gridViewTag]=this.id;node[util.rowIndexTag]=_d37;this.rowNodes[_d37]=node;return node;},buildRow:function(_d38,_d39){this.buildRowContent(_d38,_d39);this.styleRow(_d38,_d39);},buildRowContent:function(_d3a,_d3b){_d3b.innerHTML=this.content.generateHtml(_d3a,_d3a);if(this.flexCells&&this.contentWidth){_d3b.firstChild.style.width=this.contentWidth;}util.fire(this,"onAfterRow",[_d3a,this.structure.cells,_d3b]);},rowRemoved:function(_d3c){if(_d3c>=0){this._cleanupRowWidgets(this.getRowNode(_d3c));}this.grid.edit.save(this,_d3c);delete this.rowNodes[_d3c];},getRowNode:function(_d3d){return this.rowNodes[_d3d];},getCellNode:function(_d3e,_d3f){var row=this.getRowNode(_d3e);if(row){return this.content.getCellNode(row,_d3f);}},getHeaderCellNode:function(_d40){if(this.headerContentNode){return this.header.getCellNode(this.headerContentNode,_d40);}},styleRow:function(_d41,_d42){_d42._style=_d03(_d42);this.styleRowNode(_d41,_d42);},styleRowNode:function(_d43,_d44){if(_d44){this.doStyleRowNode(_d43,_d44);}},doStyleRowNode:function(_d45,_d46){this.grid.styleRowNode(_d45,_d46);},updateRow:function(_d47){var _d48=this.getRowNode(_d47);if(_d48){_d48.style.height="";this.buildRow(_d47,_d48);}return _d48;},updateRowStyles:function(_d49){this.styleRowNode(_d49,this.getRowNode(_d49));},lastTop:0,firstScroll:0,doscroll:function(_d4a){var _d4b=this.grid.isLeftToRight();if(this.firstScroll<2){if((!_d4b&&this.firstScroll==1)||(_d4b&&this.firstScroll===0)){var s=html.marginBox(this.headerNodeContainer);if(has("ie")){this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";}else{if(has("mozilla")){this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";this.scrollboxNode.scrollLeft=_d4b?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;}}}this.firstScroll++;}this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!==this.lastTop){this.grid.scrollTo(top);}},setScrollTop:function(_d4c){this.lastTop=_d4c;this.scrollboxNode.scrollTop=_d4c;return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_d4d,_d4e){this.grid.setCellWidth(_d4d,_d4e+"px");},update:function(){if(!this.domNode){return;}this.content.update();this.grid.update();var left=this.scrollboxNode.scrollLeft;this.scrollboxNode.scrollLeft=left;this.headerNode.scrollLeft=left;}});var _d4f=_cf8("dojox.grid._GridAvatar",_d02,{construct:function(){var dd=win.doc;var a=dd.createElement("table");a.cellPadding=a.cellSpacing="0";a.className="dojoxGridDndAvatar";a.style.position="absolute";a.style.zIndex=1999;a.style.margin="0px";var b=dd.createElement("tbody");var tr=dd.createElement("tr");var td=dd.createElement("td");var img=dd.createElement("td");tr.className="dojoxGridDndAvatarItem";img.className="dojoxGridDndAvatarItemImage";img.style.width="16px";var _d50=this.manager.source,node;if(_d50.creator){node=_d50._normalizedCreator(_d50.getItem(this.manager.nodes[0].id).data,"avatar").node;}else{node=this.manager.nodes[0].cloneNode(true);var _d51,_d52;if(node.tagName.toLowerCase()=="tr"){_d51=dd.createElement("table");_d52=dd.createElement("tbody");_d52.appendChild(node);_d51.appendChild(_d52);node=_d51;}else{if(node.tagName.toLowerCase()=="th"){_d51=dd.createElement("table");_d52=dd.createElement("tbody");var r=dd.createElement("tr");_d51.cellPadding=_d51.cellSpacing="0";r.appendChild(node);_d52.appendChild(r);_d51.appendChild(_d52);node=_d51;}}}node.id="";td.appendChild(node);tr.appendChild(img);tr.appendChild(td);html.style(tr,"opacity",0.9);b.appendChild(tr);a.appendChild(b);this.node=a;var m=dojo.dnd.manager();this.oldOffsetY=m.OFFSET_Y;m.OFFSET_Y=1;},destroy:function(){dojo.dnd.manager().OFFSET_Y=this.oldOffsetY;this.inherited(arguments);}});var _d53=dojo.dnd.manager().makeAvatar;dojo.dnd.manager().makeAvatar=function(){var src=this.source;if(src.viewIndex!==undefined&&!html.hasClass(win.body(),"dijit_a11y")){return new _d4f(this);}return _d53.call(dojo.dnd.manager());};return _d06;});}}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("dojox/nls/dojox",["et","en-tt","eu","ar-sy","xh","en-nz","fa","es-uy","es-cl","rm","ro","fr-be","es-co","fi","es-cr","sv-fi","ar-tn","en-bz","ru","es-ve","es-pa","zh-hk","lt","fo","zh-tw","lv","es-pe","en-ca","fr","en-us","es-pr","sk","fr-ca","de-ch","sl","gd","mk","es-py","sq","sr","fr-ch","pt-pt","af","sv","ms","mt","zh-cn","ar","en-jm","zh","es-ec","nb","th","az","tn","he","zu","nl","tr","hi","ts","be","bg","hr","hu","ar-jo","uk","id","ca","ar-dz","ur","is","it","cs","ve","de-li","vi","ja","da","pl","ar-lb","nl-be","de","es-gt","it-ch","es-ar","pt","fr-lu","en-gb","en-za","zh-sg","es-hn","ar-ma","es-bo","en-au","kk","ko","el","de-at","en","pt-br","es"]);});define("dojox/dojox",[],1);require({cache:{"Sage/TaskPane/_BaseTaskPaneTasklet":function(){define("Sage/TaskPane/_BaseTaskPaneTasklet",["Sage/UI/Dialogs","dojo/i18n!./nls/_BaseTaskPaneTasklet","dojo/_base/declare"],function(_1,_2,_3){var _4=_3("Sage.TaskPane._BaseTaskPaneTasklet",null,{currentEntityId:"",currentEntityTableName:"",currentEntityType:"",contextService:null,selectedRecordActionCallback:"",selectionContainer:"_hfSelections",constructor:function(_5){dojo.mixin(this,_5);dojo.mixin(this,_2);},getSelectionInfo:function(){try{var _6=Sage.Utility.getSelectionInfo();if(!_6){this.getCurrentEntity();if(this.currentEntityId){_6={};_6.key=this.currentEntityId;_6.mode="selection";_6.ranges=[];_6.recordCount=1;_6.selectedIds=[];_6.selectedIds.push(this.currentEntityId);_6.selectionCount=1;_6.selections=[];var _7={};_7.id=this.currentEntityId;_7.rn=0;_6.selections.push(_7);}}return _6;}catch(e){_1.alert(this.errorNoData);return null;}},prepareSelectedRecords:function(_8){this.selectedRecordActionCallback=_8;var _9=this;try{this.selectionInfo=this.getSelectionInfo();}catch(e){_1.showInfo(this.errorNoData);}if(this.selectionInfo.selectionCount===0&&this.selectionInfo.recordCount>0){var _a=dojo.string.substitute(this.noRecordsSelectedProcessAll,[this.selectionInfo.recordCount]);_1.raiseQueryDialog(this.salesLogixPageTitle,_a,function(_b){_9.storeAllSelectionsOrCancel(_b,_9.selectionInfo);},this.yesButtonText,this.noButtonText);}else{if(this.selectionInfo.recordCount>0){this.saveSelections(this.selectedRecordActionCallback,this.selectionInfo);}else{_1.showInfo(this.errorNoData);}}},storeAllSelectionsOrCancel:function(_c,_d){if(_c){_d.mode="selectAll";this.saveSelections(this.selectedRecordActionCallback,_d);}else{var _e=dojo.byId([this.clientId,this.selectionContainer].join(""));if(_e){_e.value="cancel";}}},saveSelections:function(_f,_10){if(_10!==null){var svc=Sage.Services.getService("SelectionContextService");svc.setSelectionContext(_10.key,_10,_f);var _11=dojo.byId([this.clientId,this.selectionContainer].join(""));if(_11){_11.value=_10.key;}}},verifySelection:function(_12){if(_12!==null){return(_12.selectionCount!==0);}return false;},verifySingleSelection:function(_13){if(_13!==null){return(_13.selectionCount===1);}return false;},getCurrentEntity:function(){if(Sage.Services.hasService("ClientEntityContext")){this.contextService=Sage.Services.getService("ClientEntityContext");this.context=this.contextService.getContext();this.currentEntityId=this.context.EntityId;this.currentEntityType=this.context.EntityType;this.currentEntityTableName=this.context.EntityTableName;}},setSelectionCount:function(){try{var _14=dijit.byId("list");if(_14){dojo.byId("selectionCount").text(_14.getTotalSelectionCount());}}catch(e){}},getSelectionCount:function(){return Sage.Services.getService("ClientGroupContext").getContext().CurrentGroupCount;},getCurrentGroupId:function(){var _15=Sage.Services.getService("ClientGroupContext");if(_15){var _16=_15.getContext();return _16.CurrentGroupID;}return"";},getCurrentGroupName:function(){var _17=Sage.Services.getService("ClientGroupContext");if(_17){var _18=_17.getContext();return _18.CurrentDisplayName;}return"";}});return _4;});},"Sage/UI/Columns/OwnerType":function(){define("Sage/UI/Columns/OwnerType",["dojo/i18n","dojo/i18n!../nls/OwnerType","dojo/_base/declare"],function(_19,_1a,_1b){var _1c=_1b("Sage.UI.Columns.OwnerType",dojox.grid.cells._Base,{constructor:function(){var _1d=_19.getLocalization("Sage.UI","OwnerType");dojo.mixin(this,_1d);this.inherited(arguments);},formatter:function(val,_1e){var _1f={"G":this.teamText,"D":this.departmentText,"S":this.systemText,"U":this.userText};return _1f[val]?Sage.Utility.htmlEncode(_1f[val]):val;},styles:"text-align: right;"});return _1c;});},"url:Sage/UI/templates/EditCalendarUsers.html":'<div>\r\n    <div class="filter-items-dialog" data-dojo-type="dijit.Dialog"  data-dojo-attach-point="dialogNode" >\r\n        <div class="filter-items-search" style="border-bottom: 1px solid #cccccc;">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point="textFind" data-dojo-type="dijit.form.TextBox" />\r\n            <span data-dojo-attach-point="buttonFind" title="${findText}" data-dojo-type="Sage.UI.ImageButton" data-dojo-props="imageClass: \'icon_Find_16x16\'" data-dojo-attach-event="onClick:_onFindClick"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point="buttonClear" title="${clearText}" data-dojo-type="dijit.form.Button" data-dojo-attach-event="onClick:_onClearClick">${clearText}</span>\r\n        </div>     \r\n        <div class="filter-items-dialog-content" data-dojo-attach-point="contentNode" style="height:238px;">\r\n        </div>\r\n        <div class="button-bar alignright">\r\n            <button data-dojo-attach-point="buttonOK" data-dojo-attach-event="onClick:_onOKClick" data-dojo-type="dijit.form.Button">${okText}</button>\r\n            <button data-dojo-attach-point="buttonCancel" data-dojo-attach-event="onClick:_onCancelClick" data-dojo-type="dijit.form.Button">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>',"Sage/Utility/File/nls/FallbackFilePicker":function(){define("Sage/Utility/File/nls/FallbackFilePicker",["Sage/LanguageList","dojo/_base/lang"],function(_20,_21){var nls={root:{addLibraryFileText:"Add Library File",attachFileText:"Attach File",descriptionText:"Description",uploadFileText:"Attachment",okText:"OK",cancelText:"Cancel",invalidContext:"The file(s) cannot be uploaded outside of the Sales Library.",fileTooLargeError:"The file upload attempt was aborted because the file was too large.",pleaseSelectFile:"Please select a file first.",slxErrorIdInfo:"Saleslogix Error Id: "}};return _21.mixin(_20,nls);});},"Sage/UI/nls/Boolean":function(){define("Sage/UI/nls/Boolean",["Sage/LanguageList","dojo/_base/lang"],function(_22,_23){var nls={root:{yesText:"Yes",noText:"No"}};return _23.mixin(_22,nls);});},"Sage/Utility/Dashboard":function(){define("Sage/Utility/Dashboard",["dojo/i18n","dojox/grid/DataGrid","Sage/Groups/GroupManager","Sage/UI/Dialogs","dojo/data/ItemFileReadStore","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Dashboard","dojo/i18n!../UI/Dashboard/nls/WidgetDefinition","dojo/i18n!dijit/nls/common"],function(_24,_25,_26,_27,_28,_29,_2a,_2b,_2c){Sage.namespace("Utility.Dashboard");dojo.mixin(Sage.Utility.Dashboard,{promoteGroupToDashboard:function(){var _2d='<Widget name="Group List" family="System"><options><name>Group List</name><title>{0}</title><entity>{1}</entity><resource>{7}</resource><groupname>{2}</groupname><limit>{3}</limit><visiblerows>{6}</visiblerows><datasource>slxdata.ashx/slx/crm/-/analytics?entity=Sage.Entity.Interfaces.I{4}&amp;groupname={5}</datasource></options></Widget>';var _2e=new Simplate(["<div>",'<div">{%= $.headerText %}</div>','<div id="{%= $.id %}-grid" style="width:auto;height:150px;"></div>','<div align="right"><button data-dojo-type="dijit.form.Button" type="submit" class="okButton" ','style="margin-top:5px;" data-dojo-props="onClick:function(){dijit.byId(\'promoteDialog\').promote();}"',">{%= $.okText %}</button>",'<button data-dojo-type="dijit.form.Button" type="button" class="cancelButton" ','style="margin-top:5px; margin-left:10px;" data-dojo-props="onClick:function(){dijit.byId(\'promoteDialog\').hide();}"',">{%= $.cancelText %}</button></div>","</div> "]);var _2f=null;if(dijit.byId("promoteDialog")){_2f=dijit.byId("promoteDialog");}else{_2f=new dijit.Dialog({id:"promoteDialog",title:window.MasterPageLinks.PromoteTitle,promote:function(a,b,c){var cgi=_26.GetCurrentGroupInfo();var _30=dijit.byId("promoteDialog-grid");var _31=_30.selection.getSelected();if(_31.length===0){_27.showInfo(window.MasterPageLinks.PromotePageNoneSelected,window.MasterPageLinks.PromoteTitle);return;}else{var _32=[],_33=_31[0].Name,_34=dijit.byId(cgi.Id);if(_2b.My_Dashboard==_31[0].Name){_33="My Dashboard";}else{if(_2b.Sales==_31[0].Name){_33="Sales";}}var _35=String.format(_2d,_34?_34.title:cgi.Name,"Sage.Entity.Interfaces.I"+cgi.Entity,cgi.Name,10,$("<div/>").text(cgi.Entity).html(),$("<div/>").text(cgi.Name).html(),10,cgi.Entity);dojo.xhrPost({url:String.format("slxdata.ashx/slx/crm/-/dashboard/page?action=addwidget&name={0}&family={1}",encodeURIComponent(_33),encodeURIComponent(_31[0].Family)),headers:{"Content-Type":"application/json"},postData:_35,error:function(_36,_37,_38){_27.showInfo(window.MasterPageLinks.Warning,_36.responseText);},load:function(_39,_3a){_27.showInfo(String.format(window.MasterPageLinks.PromotionNotification,_31[0].Name,_34?_34.title:cgi.Name));if(typeof window.callback==="function"){window.callback(_39,_3a);}}});}this.destroyRecursive();}});dojo.mixin(_2f,new _29());_2f.createHelpIconByTopic("PromoteGroup");}var _3b=null;_3b=new _25({id:"promoteDialog-grid",structure:[{field:"Name",name:_2a.pageText,width:"200px"}],selectionMode:"single",height:"100px"},document.createElement("div"));var _3c=function(){dojo.disconnect(_3d);setTimeout((function(_3e){return function(){_3e.destroyDescendants();_3e.destroy(false);};})(_2f),1);};var _3d=dojo.connect(_2f,"hide",this,_3c);dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/dashboard/page",cache:false,preventCache:true,handleAs:"json",load:function(_3f,xhr){var _40={items:_3f};var _41=new _28({data:_40});_2f.set("content",_2e.apply({id:_2f.id,okText:_2c.buttonOk,cancelText:_2c.buttonCancel,headerText:window.MasterPageLinks.PromoteDescription}));_2f.show();dojo.place(_3b.domNode,"promoteDialog-grid","replace");_3b.setStore(_41);},error:function(e){alert(window.MasterPageLinks.Warning+e.responseText);if(console.log){}}});}});return Sage.Utility.Dashboard;});},"Sage/Services/nls/ActivityService":function(){define("Sage/Services/nls/ActivityService",["Sage/LanguageList","dojo/_base/lang"],function(_42,_43){var nls={root:{txtErrorActionMsg:"I'm sorry, the action was not successful an error occurred.",txtActivity:"activity",txtActivities:"activities",txtActionDeleteActivites:"Delete Activities",txtActionDeleteActivitiesQuestion:"Only activities that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?",txtAlarm:"alarm",txtAlarms:"alarms",txtActionSnoozeAlarm:"Snooze Alarm",txtActionSnoozeQuestion:"Are you sure you want to snooze the {0} selected {1} for {2} ?",txtActionSnoozeAllQuestion:"Are you sure you want to snooze all {0} for {1} ?",txtActionDismissAlarms:"Dismiss Alarms",txtActionDismissAlarmsQuestion:"Are you sure you want to dismiss the {0} selected {1}?",txtEvent:"event",txtEvents:"events",txtActionDeleteEvents:"Delete Events",txtActionDeleteEventsQuestion:"Only events that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?",txtConfirmation:"confirmation",txtConfirmations:"confirmations",txtActionAcceptConfirmations:"Accept Confirmations",txtActionAcceptConfirmQuestion:"Are you sure you want to accept the {0} selected {1}? This action can only be performed on New or Chnaged confirmations. All others will be ignored.",txtDeclineConfirmations:"Decline Confirmations",txtActionDeclineConfrimQuestion:"Are you sure you want to decline the {0} selected {1}? This action can only be performed on New or Chnaged confirmations. All others will be ignored.",txtActionRemoveConfirmations:"Delete Confirmations",txtActionRemoveConfirmationsQuestion:"Are you sure you want to delete the {0} selected {1}? This action can only be performed on Leader, Declined or Deleted confirmations. All others will be ignored.",txtLiteratureRequest:"literature request",txtLiteratureRequests:"literature requests",txtActionDeleteLiteratureRequests:"Delete Literature Requests",txtActionDeleteLiteratureRequestsQuestion:"Only literature request that you have permission to delete will be deleted. <P> Are you sure you want to delete the {0} selected {1}?"}};return _43.mixin(_42,nls);});},"Sage/UI/Controls/nls/CopyToClipboard":function(){define("Sage/UI/Controls/nls/CopyToClipboard",["Sage/LanguageList","dojo/_base/lang"],function(_44,_45){var nls={root:{closeText:"Close",dialogTitle:"Copy Text To Clipboard",helpText:"Select desired text and press Control-C (Command-C on Mac) to copy to your clipboard.",textTab:"Text",sourceTab:"Source"}};return _45.mixin(_44,nls);});},"Sage/UI/Dashboard/WidgetDefinition":function(){define("Sage/UI/Dashboard/WidgetDefinition",["Sage/UI/widgetEditorLookup","Sage/UI/EditorContainer","dijit/form/ValidationTextBox","dijit/form/NumberTextBox","dijit/form/FilteringSelect","dojo/data/ItemFileReadStore","dojo/data/ItemFileWriteStore","dojox/grid/DataGrid","dojo/i18n","dojo/i18n!./nls/WidgetDefinition"],function(_46,_47,_48,_49,_4a,_4b,_4c,_4d,_4e){return function(def,_4f){if(!def.type){def.type="BaseWidget";}require(["Sage/UI/Dashboard/"+def.type],function(T){_4f(new T(def));});};});},"url:Sage/UI/Controls/templates/DropDownSelectPickList.html":'<div>\r\n    <select id="${id}-Select" data-dojo-type="Sage.UI.ComboBox" shouldPublishMarkDirty="false" dojoAttachPoint="comboBox" value="${value}" dojoAttachEvent="onBlur: _onBlur,onChange:_onChange">\r\n    </select>\r\n</div>\r\n',"Sage/Services/ReportingService":function(){define("Sage/Services/ReportingService",["dojo/_base/declare","dojo/string","dojo/i18n!./nls/ReportingService","Sage/Utility/Jobs","Sage/Reporting/Enumerations","dojo/json","dojo/_base/array","Sage/MainView/ReportMgr/ReportWizardController","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/UI/Dialogs"],function(_50,_51,_52,_53,_54,_55,_56,_57,_58,_59){var _5a=_50("Sage.Services.ReportingService",null,{startWizard:function(_5b){_57.startWizard(_5b);},runReport:function(_5c){_5c.key=this._getJobId(_5c.reportType);_53.triggerJobAndDisplayProgressDialog(_5c);},scheduleReport:function(_5d){_5d.key=this._getJobId(_5d.reportType);var _5e=Sage.Services.getService("JobService");_5e.scheduleJob(_5d);},getSchedule:function(_5f){var _60=Sage.Services.getService("JobService");_60.getTrigger(_5f);},updateSchedule:function(_61){var _62=Sage.Services.getService("JobService");_62.updateTrigger(_61);},getReportMetadata:function(_63){if(!_63||typeof _63.reportId!=="string"){console.error("getReportMetadata: Missing parameters");return;}var _64,_65,_66,_67;if(_63.reportId.indexOf(":")!==-1){_64=_63.reportId.split(":")[0];_66=_63.reportId.split(":")[1];}else{_65=_63.reportId;}var _68=Sage.Data.SDataServiceRegistry.getSDataService("system");if(_64&&_66){_67=new Sage.SData.Client.SDataResourceCollectionRequest(_68);_67.setResourceKind("reports");_67.setQueryArg("where","family eq '"+_64+"' and name eq '"+_66+"'");_67.setQueryArg("count","1");_67.read({success:function(_69){if(_69&&_69.$resources&&_69.$resources.length===1){if(_63.success){_63.success(_69.$resources[0]);}}},failure:function(xhr){var _6a="ReportingService.getReportMetadata: "+_51.substitute(_52.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_6a);if(_63.failure){_63.failure(xhr);}}});return;}else{_67=new Sage.SData.Client.SDataSingleResourceRequest(_68);_67.setResourceKind("reports");_67.setResourceSelector("'"+_65+"'");_67.read({success:function(_6b){if(_63.success){_63.success(_6b);}},failure:function(xhr){var _6c="ReportingService.getReport: "+_51.substitute(_52.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_6c);if(_63.failure){_63.failure(xhr);}}});}},_getJobId:function(_6d){switch(_6d){case _54.ReportTypes.CrystalReport:return"Saleslogix.Reporting.Jobs.CrystalReportsJob";default:throw _51.substitute(_52.txtUnsupportedReportType,[_6d]);}},defaultDetailReports:null,defaultReport:null,reportJob:null,showReport:function(_6e,_6f,_70){if(!this.isValidString(_6e)){_59.showError(this.getDisplayError(_52.invalidReportPluginError));return;}if(!this.isValidString(_6f)){_59.showError(this.getDisplayError(_52.invalidTableNameError));return;}if(!this.isValidString(_70)&&!(_70 instanceof Array)){_59.showError(this.getDisplayError(_52.invalidEntityError));return;}this.showReportViewer(_6e,_6f,_70);},showDefaultReport:function(){var _71=this.getCurrentReport();if(this.isValidString(_71)){var _72=_58.getCurrentEntityCondition();var _73={reportId:_71,reportOptions:{wizardOptions:{hiddenSteps:[_54.CrystalReportWizardStep.Conditions,_54.CrystalReportWizardStep.ExportOptions]},scheduleOptions:{executionType:_54.ExecutionType.OnDemand},exportOptions:{outputFormat:_54.ReportExportFormat.Pdf},conditionOptions:{conditions:[_72],conditionsConnector:_54.ReportConditionConnector.And}}};this.startWizard(_73);}else{_59.showError(this.getDisplayError(_52.noDefaultReportError));}},showReportById:function(_74){this.showReportViewerInContext(_74);},showReportByName:function(_75){this.showReportViewerInContext(_75);},showReportViewerInContext:function(_76){if(!this.isValidString(_76)){_59.showError(this.getDisplayError(_52.invalidReportPluginError));return;}var _77=this.getCurrentContext();if(typeof console!=="undefined"){}this.showReportViewer(_76,_77.tablename,_77.entityid);},showReportViewer:function(_78,_79,_7a){if(!this.isValidString(_78)){_59.showError(this.getDisplayError(_52.invalidReportPluginError));return;}if(!this.isValidString(_79)){_59.showError(this.getDisplayError(_52.invalidTableNameError));return;}if(!this.isValidString(_7a)&&!(_7a instanceof Array)){_59.showError(this.getDisplayError(_52.invalidEntityError));return;}this.setReportJob(_78,_79,_7a);this._showReport();},setReportJob:function(_7b,_7c,_7d){if(typeof _7b!=="string"){console.error("setReportJob: Invalid parameter 'reportId'.");return;}if(typeof _7c!=="string"){console.error("setReportJob: Invalid parameter 'tableName'.");return;}if((typeof _7d!=="string")&&!(_7d instanceof Array)){console.error("setReportJob: Invalid parameter 'entityIds'.");return;}var _7e=this._getRecordSelectionFormula(_7c,_7d);this.reportJob=this.newReportJob();this.reportJob.pluginid=_7b;this.reportJob.rsf=_7e;},_getRecordSelectionFormula:function(_7f,_80){if(this.isValidString(_80)){if(_80.indexOf(",")!==-1){_80=_80.split(",");}else{_80=[_80];}}if(_80.length===0){console.error("showReport: At least one entity id must be passed as argument.");return;}if(typeof _7f!=="string"){console.error("_getRecordSelectionFormula: Invalid parameter 'tableName'.");return;}if(!(_80 instanceof Array)){console.error("_getRecordSelectionFormula: Invalid parameter 'entityIds'.");return;}var _81=_7f.toUpperCase()+"."+_7f.toUpperCase()+"ID";var _82;if(_80.length===1){_82="({"+_81+'} = "'+_80[0]+'")';}else{var _83=[];_56.forEach(_80,function(_84,i){_84='"'+_84+'"';_83.push(_84);});_82="({"+_81+"} in ["+_83.join(",")+"])";}return _82;},newReportJob:function(){var _85={pluginid:"",rsf:"",sortdirections:"",sortfields:""};return _85;},showReportEx:function(_86){this.reportJob=_86;this._showReport();},_showReport:function(){var _87=this.getReportId(this.reportJob.pluginid);var _88={reportId:_87,reportOptions:{wizardOptions:{hiddenSteps:[_54.CrystalReportWizardStep.Conditions,_54.CrystalReportWizardStep.ExportOptions]},scheduleOptions:{executionType:_54.ExecutionType.OnDemand},exportOptions:{outputFormat:_54.ReportExportFormat.Pdf},conditionOptions:{conditionsConnector:_54.ReportConditionConnector.And,recordSelectionFormula:this.reportJob.rsf}}};this.startWizard(_88);},getCurrentReport:function(){var _89=this.getCurrentContext();if(_89.tablename===""||_89.entityid===""){return null;}switch(_89.tablename){case"ACCOUNT":return this.getAccountReport();case"CONTACT":return this.getContactReport();case"OPPORTUNITY":return this.getOpportunityReport();case"DEFECT":return this.getDefectReport();case"SALESORDER":return this.getSalesOrderReport();case"TICKET":return this.getTicketReport();default:return this.getDefaultReport();}},getDefaultReport:function(){return this.defaultReport;},setDefaultReport:function(_8a){this.defaultReport=_8a;},getReport:function(_8b){this._initReports();var _8c=null;if(this.isValidString(_8b)&&dojo.isObject(this.defaultDetailReports)){dojo.some(this.defaultDetailReports,function(_8d){if(_8d.maintable.toUpperCase()==_8b.toUpperCase()){var _8e=_51.substitute("${0}:${1}",[_8d.family,_8d.name]);_8c=_8e;return true;}else{return false;}});}return _8c;},setReport:function(_8f,_90){var _91=this.parseReport(_8f);if(_91!==null){var _92=_90||_91.family.toUpperCase();this.setReportEx(_92,_91.family,_91.name);}},setReportEx:function(_93,_94,_95){this._initReports();if(this.isValidString(_93)&&this.isValidString(_94)&&this.isValidString(_95)&&dojo.isObject(this.defaultDetailReports)){var _96=dojo.some(this.defaultDetailReports,function(_97){if(_97.maintable.toUpperCase()==_93.toUpperCase()){_97.family=_94;_97.name=_95;return true;}else{return false;}});if(!_96){var _98={"maintable":_93,"family":_94,"name":_95};this.defaultDetailReports.push(_98);}}},getAccountReport:function(){return this.getReport("ACCOUNT");},setAccountReport:function(_99){this.setReport(_99,"ACCOUNT");},getContactReport:function(){return this.getReport("CONTACT");},setContactReport:function(_9a){this.setReport(_9a,"CONTACT");},getOpportunityReport:function(){return this.getReport("OPPORTUNITY");},setOpportunityReport:function(_9b){this.setReport(_9b,"OPPORTUNITY");},getDefectReport:function(){return this.getReport("DEFECT");},setDefectReport:function(_9c){this.setReport(_9c,"DEFECT");},getSalesOrderReport:function(){return this.getReport("SALESORDER");},setSalesOrderReport:function(_9d){this.setReport(_9d,"SALESORDER");},getTicketReport:function(){return this.getReport("TICKET");},setTicketReport:function(_9e){this.setReport(_9e,"TICKET");},saveDefaultReports:function(_9f,_a0){if(dojo.isObject(this.defaultDetailReports)){var _a1=Sage.Services.getService("UserOptions");if(_a1){var _a2=function(_a3){if(typeof _9f==="function"){_9f(_a3);}};var _a4=function(_a5){if(typeof console!=="undefined"){console.error("saveDefaultReports: %o",_a5);}if(typeof _a0==="function"){_a0(_a5);}};var _a6={"defaultDetailReports":this.defaultDetailReports};var _a7=dojo.toJson(_a6);if(typeof console!=="undefined"){}_a1.set("DefaultDetailReports","Reporting",_a7,_a2,_a4);}}},getReportId:function(_a8){var _a9=null;if(this.isValidString(_a8)){if(_a8.indexOf(":")!=-1){dojo.xhrGet({url:"SLXReportsHelper.ashx?method=GetReportId&report="+encodeURIComponent(_a8),handleAs:"text",preventCache:true,sync:true,load:function(_aa,_ab){_a9=_aa;},error:function(_ac,_ad){if(typeof console!=="undefined"){console.error(_ad);}}});}else{if(_a8.length==12){_a9=_a8;}}}return _a9;},getCurrentContext:function(){var _ae={"tablename":"","entityid":""};if(Sage.Services.hasService("ClientEntityContext")){var _af=Sage.Services.getService("ClientEntityContext");if(!_af){return _ae;}var _b0=_af.getContext();if(!_b0||typeof _b0.EntityTableName==="undefined"){return _ae;}_ae.tablename=_b0.EntityTableName.toUpperCase();_ae.entityid=_b0.EntityId;}return _ae;},parseReport:function(_b1){if(this.isValidString(_b1)){var _b2=_b1.split(":");if(dojo.isArray(_b2)&&_b2.length==2){return{"family":_b2[0],"name":_b2[1]};}}return null;},isValidString:function(s){return(s&&(typeof s==="string"));},_initReports:function(){if(this.defaultDetailReports===null){var _b3=this;dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/useroptions/Reporting/DefaultDetailReports",handleAs:"json",preventCache:true,sync:true,load:function(_b4,_b5){if(dojo.isObject(_b4)&&typeof _b4.optionValue!=="undefined"&&_b4.optionValue!==""){var obj=dojo.fromJson(_b4.optionValue);if(obj&&typeof obj.defaultDetailReports!=="undefined"&&dojo.isArray(obj.defaultDetailReports)){dojo.mixin(_b3,obj);}}},error:function(_b6,_b7){if(typeof console!=="undefined"){console.error(_b7);}}});}if(this.defaultDetailReports===null){this.defaultDetailReports=[{"maintable":"ACCOUNT","family":"Account","name":"Account Detail"},{"maintable":"CONTACT","family":"Contact","name":"Contact Detail"},{"maintable":"OPPORTUNITY","family":"Opportunity","name":"Opportunity Detail"},{"maintable":"DEFECT","family":"Defect","name":"Support Defect"},{"maintable":"TICKET","family":"Ticket","name":"Support Ticket"},{"maintable":"SALESORDER","family":"Sales Order","name":"Sales Order Detail"}];}},getDisplayError:function(msg){return _51.substitute("${0} ${1}",[_52.reportCannotBeShownError,msg]);}});if(!Sage.Services.hasService("ReportingService")){Sage.Services.addService("ReportingService",new Sage.Services.ReportingService());}return _5a;});},"url:Sage/MainView/ReportMgr/Crystal/templates/StringParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        <div dojoattachpoint="divSingleValue" style="padding-top: 5px;">\r\n            <select data-dojo-type="dijit.form.Select" dojoattachpoint="cmbValues" style="width: 150px">\r\n            </select>                    \r\n        </div>\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px;">\r\n            <label>{%: $._nlsResources.lblEnterValue_Caption %}</label><br />\r\n            <input data-dojo-type="dijit.form.TextBox" type="text" dojoAttachPoint="txtCustomValue" style="width:150px" />            \r\n        </div>\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n',"url:Sage/MainView/ActivityMgr/templates/HistoryEditor.html":'\r\n[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="historyDialog" title="" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onDlgHide">\',\r\n        \'<div class="activity-dialog">\',  //body\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}">\',\r\n                \'<select label="{%= $.regardingText %}" shouldPublishMarkDirty="false" id="{%= $.id %}_pk_Regarding" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Regarding" canEditText="true" itemMustExist="false" maxLength="64"></select>\',\r\n                \'<div dojoType="Sage.UI.Controls.TextBox" shouldPublishMarkDirty="false" label="{%= $.locationText %}" id="{%= $.id %}_tb_Location" dojoAttachPoint="tb_Location" maxLength="255" ></div>\',\r\n            \'</div>\', //first tablecontainer 1 col\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}">\',\r\n                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_CompletetdDate" dojoAttachPoint="dtp_completedDate" displayDate="true" displayTime="true" label="{%= $.completedDateText %}"></div>\',\r\n                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_StartDate" dojoAttachPoint="dtp_startDate" displayDate="true" displayTime="true" label="{%= $.startTimeText %}"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="{%= $.timeLessText %}" id="{%= $.id %}_cb_Timeless" dojoAttachPoint="cb_Timeless" ></div>\',\r\n                    \'<label class="checkbox-label" for="cb_Timeless">{%= $.timeLessText %}</label>\',\r\n                \'</div>\',\r\n                 \'<div dojoType="Sage.UI.Controls.DurationSelect" shouldPublishMarkDirty="false" label="{%= $.durationText %}" id="{%= $.id %}_sel_Duration" dojoAttachPoint="sel_Duration" includeDisablingCheckbox="false" valuesAreAfterStart="true"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \r\n                \'</div>\',\r\n            \'</div>\', //second tablecontainer 2 col\r\n\r\n            \'<div dojoType="dijit.layout.TabContainer" id="{%= $.id %}_tc_EditHistory"  dojoAttachPoint="tc_EditHistory" class="tab-container">\',\r\n/*  General Tab   */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_General" title="{%= $.tabNameGeneralText %}" class="tabContent remove-padding" dojoAttachPoint="cp_General">\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="result_Section" class="bottom-border-section">\',\r\n                        \'<select label="{%= $.resultText %}" id="{%= $.id %}_tb_Result" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Result" canEditText="true" itemMustExist="false" maxLength="64"></select>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="4" labelWidth="4" baseClass="contact-lead-radios" >\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.contactText %}" value="contact" id="{%= $.id %}_rdo_Contact" dojoAttachPoint="rdo_Contact" dojoAttachEvent="onChange:_setContactLeadVisibility" checked="true" />\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.leadText %}" value="lead" id="{%= $.id %}_rdo_Lead" dojoAttachPoint="rdo_Lead" />\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="contactContainer" baseClass="bottom-border-section">\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_ContactLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.opportunityText %}" dojoAttachPoint="container_OppLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.accountText %}" dojoAttachPoint="container_AccountLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="container_TicketLup"  class="remove-padding lookup-container" style=\"display: none;\"></div>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="leadContainer"  baseClass="bottom-border-section" class="display-none">\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_LeadLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<input dojoType="dijit.form.TextBox" id="{%= $.id %}_tb_LeadCompanyName" label="{%= $.companyText %}" dojoAttachPoint="tb_LeadCompanyName" readonly="true" />\',\r\n                    \'</div>\',                       \r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}"  class="bottom-border-section">\',\r\n                        \'<select label="{%= $.categoryText %}" id="{%= $.id %}_pk_Category" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Category" canEditText="true" itemMustExist="false" maxLength="64"  style="width: {%= 472 - $.labelWidth %}px;" ></select>\', \r\n                         \'<div dojoType="dijit.layout.ContentPane" label="{%= $.leaderText %}" dojoAttachPoint="container_LeaderLup" class="remove-padding lookup-container" style="width: {%= 472 - $.labelWidth %}px;"></div>\',\r\n                         \'<select label="{%= $.priorityText %}" id="{%= $.id %}_pk_Priority" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Priority" canEditText="true" itemMustExist="false" pickListName="Priorities" sort="false" maxLength="64" style="width: {%= 472 - $.labelWidth %}px;"></select>\',                          \r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}"  class="valigntop">\',\r\n                        \'<textarea dojoType="dijit.form.SimpleTextarea" id="{%= $.id %}_ta_Notes" label="{%= $.notesText %}" dojoAttachPoint="ta_Notes" class="notes-text" ></textarea>\',\r\n                    \'</div>\',\r\n                \'</div>\',  // end general tab\r\n\r\n              /* Attachments Tab  */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Attachments" title="{%= $.tabNameAttachmentsText %}" class="tabContent" dojoAttachPoint="cp_Attachments" dojoAttachEvent="onShow:_showAttachmentsTab">\',\r\n                    \'<div id="{%= $.id %}_attachmentsGridPlaceholder" dojoAttachPoint="_attachmentGridPlaceholder" style="width:100%;height:100%;" ></div>\',\r\n                \'</div>\',  //end attachments tab\r\n            \'</div>\', //end tab container\r\n            \'<table class="button-bar">\',\r\n                \'<col width="50%" /><col width="50%" />\',\r\n                 \'<tr>\',\r\n                    \'<td class="alignleft">\',\r\n                        //followUp section\r\n                        \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="followUp_Section" >\',\r\n                            \'<select label="{%= $.followupText %}" id="{%= $.id %}_followUpSelect" dojoType="dijit.form.ComboBox" dojoAttachPoint="sel_Followup">\',\r\n                                \'<option value="none" selected="selected">{%= $.noneText %}</option>\',\r\n                                \'<option value="atPhoneCall">{%= Sage.Utility.Activity.getActivityTypeName("atPhoneCall") %}</option>\',\r\n                                \'<option value="atAppointment">{%= Sage.Utility.Activity.getActivityTypeName("atAppointment") %}</option>\',\r\n                                \'<option value="atToDo">{%= Sage.Utility.Activity.getActivityTypeName("atToDo") %}</option>\',\r\n                            \'</select>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="{%= $.id %}_ck_coAttachments" dojoAttachPoint="ck_coAttachments" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coAttachments">{%= $.carryOverAttachmentsText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="{%= $.id %}_ck_coNotes" dojoAttachPoint="ck_coNotes" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coNotes">{%= $.carryOverNotesText %}</label>\',\r\n                            \'</div>\',\r\n                        \'</div>\',//end followUp section                         \r\n                    \'</td>\',\r\n                    \'<td class="alignright valignbottom" rowspan="2">\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btnDelete" name="btn_Delete" dojoAttachPoint="btn_Delete" dojoAttachEvent="onClick:_deleteClick">{%= $.deleteText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $. cancelText %}</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n                \'<tr>\',\r\n                   \'<td class="alignleft">\',\r\n                      \'<div class="scheduled-by-label" dojoAttachPoint="lbl_ScheduledBy"></div>\',\r\n                   \'</td>\',                 \r\n                \'</tr>\',\r\n            \'</table>\',\r\n        \'</div>\', //body\r\n    \'</div>\',  //dialog\r\n\'</div>\' //root node\r\n]\r\n',"Sage/UI/SDataLookup":function(){define("Sage/UI/SDataLookup",["dojo/_base/html","dojox/grid/DataGrid","dijit/Dialog","dijit/form/Button","Sage/UI/ComboBox","Sage/Data/BaseSDataStore","Sage/UI/ConditionManager","Sage/Utility","Sage/_Templated","Sage/UI/Columns/DateTime","Sage/UI/Columns/Phone","Sage/UI/Columns/PickList","dijit/_Widget","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/i18n!./nls/SDataLookup","dojo/_base/declare"],function(_b8,_b9,_ba,_bb,_bc,_bd,_be,_bf,_c0,_c1,_c2,_c3,_c4,_c5,_c6,_c7,_c8){(function(){if(!_bf){Sage.namespace("Utility");}_bf.addToListUnique=function(_c9,_ca){for(var i=0;i<_ca.length;i++){if(_c9===_ca[i]){return;}}_ca.push(_c9);};_bf.SDataLookupChildObjectFormatter=function(_cb){var _cc=_cb.grid.grid._by_idx[_cb.rowIdx].item,res,i;if(!_cc||!_cc[_cb.childentity]||_cc[_cb.childentity].$resources.length===0){return dojo.string.substitute('<div style="text-indent:16px">${0}</div>',[_cb.value||"&nbsp;"]);}_cb.value=_cb.value||"&nbsp;";res=[];if(_cb.includeButton){res.push(dojo.string.substitute(["<input type=button id=\"SOPshow${1}\" style=\"height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:''});dojo.query('#SOPshow${1}').style({display:'none'});dojo.query('#SOPhide${1}').style({display:''})\" value=\"+\">","<input type=button id=\"SOPhide${1}\" style=\"display:none;height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:'none'});dojo.query('#SOPshow${1}').style({display:''});dojo.query('#SOPhide${1}').style({display:'none'})\" value=\"-\"> "].join(""),[_cb.value,_cb.rowIdx]));}res.push(dojo.string.substitute('${0}<div class=SOProw${1} style="display:none">',[_cb.value,_cb.rowIdx]));for(i=0;i<_cc[_cb.childentity].$resources.length;i++){res.push(dojo.string.substitute('<div style="text-indent:2em">${0}</div>',[_cc[_cb.childentity].$resources[i][_cb.fieldName]||"&nbsp;"]));}res.push("</div>");return res.join("");};}());var _cd=_c8("Sage.UI.SDataLookup",[_c4,_c0],{config:null,grid:null,sdataStore:null,conditionMgr:null,structure:null,displayMode:5,lookupDialog:null,dialogTitle:"",dialogWidth:675,dialogHeight:500,seedOnRowEntity:false,seedOnRelatedEntity:"",seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,preFilters:null,initializeLookup:true,rowEntityId:"",relatedEntityId:"",returnObject:true,addEmptyListItem:false,fields:null,query:null,callerId:null,widgetsInTemplate:true,storeOptions:null,gridOptions:null,sortColumn:"",displayModes:{"DropDownList":0,"Dialog":1,"HyperText":2,"Text":3,"ButtonOnly":4,"ButtonOnlyClient":5},btnIcon:"images/icons/plus_16x16.gif",isModal:false,cancelText:"Cancel",closeText:"Close",loadingText:"Loading...",noDataText:"No records returned",_initialized:false,_addCondHandle:null,_removeCondHandle:null,_originalQueryConditions:"",id:"lookupControl",dialogContent:new Simplate(["<div >",'<div style="padding:5px;" id="{%= $.id %}-Condition-container"></div>','<div id="{%= $.id %}-Grid-container" style="width:auto;height:{%= $.gridHeight %}px;"></div>','<div class="lookupButtonWrapper">',"{% if($.dialogButtonText){ %}",'<button data-dojo-type="dijit.form.Button" type="button" id="{%= $.id %}-GridSelectButton" ',"onClick=\"dijit.byId('{%= $.id %}').getGridSelections(); \">","{%= $.dialogButtonText %} </button>","{% } %}",'<button data-dojo-type="dijit.form.Button" type="button" id="{%= $.id %}-CloseButton" ',"onClick=\"dijit.byId('{%= $.id %}-Dialog').hide();\">{%= $.hideText %}</button>","</div>","</div> "]),constructor:function(){this.gridOptions={};this.storeOptions={pagesize:15,include:[],select:["Id"],orderby:""};this.preFilters=[];this.query={};this.config={};this.fields=[];this.structure=[];this.grid=[];this.sdataStore=[];},postMixInProperties:function(){var _ce,i,_cf,_d0;this._initialized=false;_c6.mixin(this,dojo.i18n.getLocalization("Sage.UI","SDataLookup"));if(typeof this.displayMode==="string"){this.displayMode=this.displayModes[this.displayMode];}if(this.structure&&this.structure[0]&&this.structure[0].cells){_ce=this.structure[0].cells;for(i=0;i<_ce.length;i++){if(_ce[i]&&_ce[i].type&&(typeof _ce[i].type==="string")){switch(_ce[i].type){case"Sage.UI.Columns.DateTime":_ce[i].type=_c1;break;case"Sage.UI.Columns.Phone":_ce[i].type=_c2;break;case"Sage.UI.Columns.PickList":_ce[i].type=_c3;break;default:delete _ce[i].type;break;}}}}_cf={pagesize:15,include:[],orderby:"",select:["Id"]};if(this.displayMode===0){this.initSDataStore();this.buildSDataStoreQueryConditions();}else{if(typeof this.gridOptions.contextualCondition==="function"){this.query={fn:this.gridOptions.contextualCondition,scope:this};}else{if(typeof this.gridOptions.contextualCondition==="object"){if(this.gridOptions.contextualCondition.fn){this.ensureValue(this.gridOptions.contextualCondition,"scope",this);this.query=this.gridOptions.contextualCondition;}}}this.buildSDataStoreQueryForSeeding();}_d0={rowsPerPage:15,loadingMessage:this.loadingText,noDataMessage:this.noDataText,query:this.query};this._originalQueryConditions=this.query.conditions;this.storeOptions=_bf.extend(true,_cf,this.storeOptions);this.gridOptions=_bf.extend(false,_d0,this.gridOptions);this.widgetTemplate=new Simplate(this.setTemplate(this.displayMode));},setTemplate:function(_d1){var _d2=['<div id="{%= $.id %}" style="width:inherit;" > ','<select style="width:inherit;"  id="{%= $.id %}_select" searchAttr="{%= $.field %}" labelAttr="{%= $.field %}" ',' dojoAttachPoint="focusNode" autoComplete="true" required="{%= $.required %}" data-dojo-type="Sage.UI.ComboBox" value="{%= $.setSelectedValue() %}" ',' store="dijit.byId(\'{%= $.id %}\').sdataStore" name="{%= $.field %}">',"</select>","</div>"],_d3=['<img style="cursor: pointer; padding-right: 4px;" '," onclick=\"dijit.byId('{%= $.id %}').showLookup();\" ",'src="{%= $.btnIcon %}" alt="{%= $.btnToolTip %}" title="{%= $.btnToolTip %}" >'];switch(_d1){case 0:return _d2;case 5:return _d3;default:return _d3;}},initDialog:function(){this.initConditionManager();this.initSDataStore();this._setQueryForLoad();this.initGrid(this.initializeLookup);},_setQueryForLoad:function(){var _d4=this.conditionMgr.getConditionsAsUrlWhereString(),_d5=this._originalQueryConditions,_d6="",_d7=[];_d7.push(_d4);_d7.push(_d5);_d7=dojo.filter(_d7,function(_d8,_d9,_da){return _d8&&_d8!=="";});_d6=_d7.join(" and ");if(_d6){this.gridOptions.query.conditions=_d6;}},_setQueryForSearch:function(){var _db=this.conditionMgr.getConditionsAsUrlWhereString(),_dc=this._originalQueryConditions,_dd="",_de=[];if(this.isSeeded()&&this.overrideSeedValueOnSearch===false){_de.push(_db);_de.push(_dc);}else{if(this.isSeeded()){_de.push(_db);}else{_de.push(_db);_de.push(_dc);}}_de=dojo.filter(_de,function(_df,_e0,_e1){return _df&&_df!=="";});_dd=_de.join(" and ");this.gridOptions.query.conditions=_dd;},doLookup:function(){this.grid.destroy(false);this._setQueryForSearch();this.initGrid(true);},setSelectedValue:function(){var _e2=(this.value!==null)?this.value:"",_e3,_e4,i;if(this.returnObject&&this.value!==null){_e3=this.field.split(".");_e4=this.value;for(i=0;i<_e3.length;i++){if(_e4){_e4=_e4[_e3[i]];}}_e2=_e4;}return _e2;},getGridSelections:function(){var _e5=this.grid.selection.getSelected();if(_e5.length<=0&&this.grid._by_idx.length===1){_e5.push(this.grid._by_idx[0].item);}if(_e5.length===0){return;}this.doSelected(_e5);this.grid.selection.deselectAll();},initConditionManager:function(){var _e6,_e7,_e8,_e9,_ea,_eb,_ec,i,_ed,_ee,_ef,_f0,_f1,_f2,op,_f3,_f4,_f5;if(this.conditionMgr){return;}_e6=function(_f6,_f7,_f8,_f9,_fa,_fb){var i;for(i=0;i<_fb.length;i++){if(_f6===_fb[i].fieldname){return;}}_fb.push({fieldName:_f6,displayName:_f7,propertyType:_f8,pickListName:_f9,pickListStorageMode:_fa});};_e7=this.structure[0];_e8=this.fields;for(i=0;i<_e7.cells.length;i++){if(_e7.cells[i].excludeFromFilters!==true){if(_e7.cells[i].field){_ed=_e7.cells[i];_e9=_ed.field;_eb=_ed.propertyType;_ea=_ed.displayField||_ed.name;_ec=_ed.pickListName;_f5=_ed.pickListStorageMode;_e6(_e9,_ea,_eb,_ec,_f5,_e8);}}}_ee={fields:_e8,fieldNameProperty:"fieldName",fieldDisplayNameProperty:"displayName",fieldTypeProperty:"propertyType",id:this.id+"-ConditionManager"};this.conditionMgr=new _be(_ee);_ef=this;this._addCondHandle=dojo.subscribe("onAddLookupCondition",_ef,function(mgr){this._increaseDialogHeight();});this._removeCondHandle=dojo.subscribe("onRemoveLookupCondition",_ef,function(mgr){this._decreaseDialogHeight();});if(this.preFilters.length>0){this.conditionMgr.setFirstConditionValue("","=","");}for(_f0=0;_f0<this.preFilters.length;_f0++){_f1=this.preFilters[_f0];_f2=_f1.propertyName.trim();op=_f1.conditionOperator.trim();_f3=_f1.filterValue.trim();_f4=_f1.visible;this.conditionMgr.addCondition(_f2,op,_f3,_f4);if(_f4){this._increaseDialogHeight();}}dojo.place(this.conditionMgr.domNode,dojo.byId(this.id+"-Condition-container"),"only");this._doSearchConnection=dojo.connect(this.conditionMgr,"onDoSearch",this,"doLookup");},_increaseDialogHeight:function(){if(this.dialogHeight){this.dialogHeight+=30;dojo.style([this.id,"-Dialog"].join(""),"height",this.dialogHeight+"px");}},_decreaseDialogHeight:function(){if(this.dialogHeight){this.dialogHeight-=30;dojo.style([this.id,"-Dialog"].join(""),"height",this.dialogHeight+"px");}},onDoubleClick:function(_fc){this.getGridSelections();if(this.lookupDialog){}},initGrid:function(_fd){var _fe=dijit.byId([this.id,"-Grid"].join(""));if(!_fe){this.gridOptions.store=this.sdataStore;this.gridOptions.structure=this.structure;this.gridOptions.id=[this.id,"-Grid"].join("");this.grid=new _b9(this.gridOptions);this.grid.canSort=function(_ff){var cols=this.structure[0];return cols.cells[Math.abs(_ff)-1].sortable;};dojo.connect(this.grid,"onDblClick",this,this.onDoubleClick);dojo.place(this.grid.domNode,[this.id,"-Grid-container"].join(""),"only");if(_fd){this.grid.startup();}else{this.grid.query.conditions="Id like '_hack_'";this.grid.startup();}}else{if(this.query.conditions!==_fe.query.conditions){_fe.destroy();this.initGrid(_fd);}else{this.grid=_fe;}}},resetGrid:function(){var _100=dijit.byId([this.id,"-Grid"].join(""));if(_100){_100.destroy();}},initSDataStore:function(){var cols=this.structure[0],sel=this.storeOptions.select||[],inc=this.storeOptions.include||[],_101,i,_102,_103,p;for(i=0;i<cols.cells.length;i++){if(cols.cells[i].field){_101=cols.cells[i].field;if(cols.cells[i].displayField){_101=_101+"."+cols.cells[i].displayField;}_bf.addToListUnique(_101.replace(/\./g,"/"),sel);if(cols.cells[i].field.indexOf(".")>0){_102=cols.cells[i].field.split(".");_103="";for(p=0;p<_102.length-1;p++){_103+=_102[p];_bf.addToListUnique(_103,inc);_103+="/";}}}}this.storeOptions.include=inc;this.storeOptions.select=sel;this.sdataStore=new _bd(this.storeOptions);},isSeeded:function(){var _104=(this.seedValue&&this.seedValue!==""&&this.seedProperty!=="");return _104;},buildSDataStoreQueryForSeeding:function(){var _105,_106,_107;if(this.isSeeded()){_106=dojo.string.substitute('${0} eq "${1}"',[this.seedProperty,this.seedValue]);_107=this.query.conditions;if(_107&&_107!==""){_105=_107+" and "+_106;}else{_105=_106;}this.sdataStore.query={conditions:_105};this.query.conditions=_105;}},buildSDataStoreQueryConditions:function(){var _108;if(this.seedOnRowEntity){this.sdataStore.directQuery=dojo.string.substitute('Id eq "${0}"',[this.rowEntityId]);}if(this.seedOnRelatedEntity!==""){this.sdataStore.directQuery={conditions:dojo.string.substitute(' ${0}.Id eq "${1}" ',[this.seedOnRelatedEntity,this.relatedEntityId])};}if(typeof this.gridOptions.contextualCondition==="function"){_108={fn:this.gridOptions.contextualCondition,scope:this};this.sdataStore.directQuery=_bf.extend(true,this.sdataStore.directQuery,_108);}},render:function(){dojo.place(this.domNode,this.renderTo);},canShowLookup:function(){if(typeof this.gridOptions.contextualShow==="function"){return this.gridOptions.contextualShow();}return{result:true,reason:""};},showLookup:function(){var _109="The lookup cannot be displayed because one or more conditions have not been met.",_10a=this.canShowLookup(),self=this,_10b,_10c,_10d="";if(typeof _10a!=="object"){Sage.UI.Dialogs.showError("The call to the function canShowLookup() returned an invalid result.");return;}if(typeof _10a.result==="boolean"&&_10a.result){_10b=(self.dialogHeight>0)?self.dialogHeight:450;_10c=(self.dialogWidth>0)?self.dialogWidth:700;self.lookupDialog=dijit.byId([self.id,"-Dialog"].join(""));if(!self.lookupDialog){self.lookupDialog=new _ba({title:self.dialogTitle,id:[self.id,"-Dialog"].join(""),style:["height:",_10b,"px;width:",_10c,"px;"].join(""),refreshOnShow:false,_onKey:this._onKey});self.dialogHeight=_10b;self.dialogWidth=_10c;if(self.isModal){_10d=self.cancelText;}else{_10d=self.closeText;}self.lookupDialog.set("content",self.dialogContent.apply({hideText:_10d,dialogButtonText:self.dialogButtonText,id:self.id,gridHeight:_10b-150}));_c6.mixin(self.lookupDialog,new _c5());self.lookupDialog.createHelpIconByTopic("findlookup");}else{self.dialogHeight=_10b;dojo.style([self.id,"-Dialog"].join(""),"height",_10b+"px");}self.lookupDialog.show();if(!this.isModal){dojo.destroy([self.id,"-Dialog_underlay"].join(""));}dojo.style([self.id,"-Dialog"].join(""),"top","60px");dojo.style([self.id,"-Dialog"].join(""),"left","300px");self.initDialog();}else{if(typeof _10a.reason==="string"&&_10a.reason.length!==0){_109=_10a.reason;}Sage.UI.Dialogs.showError(_109);}},doSelected:function(_10e){},_onKey:function(evt){var self=this,args=arguments;dojo.query("*",this.domNode).forEach(function(node,_10f,arr){if(node===evt.target){self.inherited(args);}});},destroy:function(){var _110=dijit.byId([this.id,"-Dialog"].join(""));if(this.btnIcon){dojo.destroy(this.btnIcon);}dojo.disconnect(this._doSearchConnection);dojo.unsubscribe(this._addCondHandle);dojo.unsubscribe(this._removeCondHandle);if(this.conditionMgr){this.conditionMgr.destroy(false);}if(_110){_110.uninitialize();}this.inherited(arguments);}});return _cd;});},"Sage/UI/EditorContainer":function(){define("Sage/UI/EditorContainer",["dojo/i18n","dijit/form/Button","dojo/_base/declare"],function(i18n,_111,_112){var _113=_112("Sage.UI.EditorContainer",null,{constructor:function(_114){dojo.safeMixin(this,_114);dojo.mixin(this,i18n.getLocalization("dijit","common"));},textCell:new Simplate('<td class="editor-text">{%= $[0] %}</td>'),textCellWithLoading:new Simplate('<td class="editor-text">{%= $.label %}<span style="display:none; float:right;" id="{%= $.id %}_loading">{%= $.loadingLabel %}</span></td>'),ctrlCell:new Simplate('<td class="editor-ctrl">{%= $[0] %}</td>'),rowTpl:new Simplate("<tr>{%= $.cells %}</tr>"),btnRow:new Simplate('<tr><td></td><td id="{%= $.id %}_editor_tools"><table width="100%"><tr><td id="{%= $.id %}_custom_tools" align="left"></td><td align="right">{%= $.btn %}</td></tr></table></td></tr>'),tableTpl:new Simplate(['<table class="editor-table">',"<tbody>{%= $.rows %}</tbody></table>"]),btnOk:new Simplate(['<button style="align:right;" data-dojo-type="dijit.form.Button" type="button"',' id="{%= $.id %}_btnOK" title="{%= $.buttonOk %}">{%= $.buttonOk %}</button>']),btnCancel:new Simplate(['<button style="align:right;" data-dojo-type="dijit.form.Button" type="button"',' id="{%= $.id %}_btnCancel" title="{%= $.buttonCancel %}">{%= $.buttonCancel %}</button>']),doTemplate:function(){var _115=[];for(var p in this.rows){if(this.rows.hasOwnProperty(p)){var _116=[];if(this.rows[p].loading){_116.push(this.textCellWithLoading.apply({label:this.rows[p].title,id:this._pcid,loadingLabel:this.rows[p].loading}),this.ctrlCell.apply([this.rows[p].control]));}else{_116.push(this.textCell.apply([this.rows[p].title]),this.ctrlCell.apply([this.rows[p].control]));}_115.push(this.rowTpl.apply({cells:_116.join("")}));}}var btns=[this.btnOk.apply({id:this._pcid,buttonOk:this.buttonOk}),this.btnCancel.apply({id:this._pcid,buttonCancel:this.buttonCancel})];_115.push(this.btnRow.apply({btn:btns.join(""),id:this._pcid}));return this.tableTpl.apply({rows:_115.join("")});}});return _113;});},"Sage/QuickForms/Design/FormDesigner":function(){define("Sage/QuickForms/Design/FormDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./ControlDesignerRegistry","./RowDesigner","./ColumnDesigner","./Editors/FormBasicPropertyEditor","./Editors/FormAdvancedPropertyEditor","./Editors/FormUsagesPropertyEditor","dojo/i18n!./nls/FormDesigner"],function(_117,_118,_119,lang,_11a,_11b,_11c,_11d,_11e,_11f,_120,_121,_122){return _119("Sage.QuickForms.Design.FormDesigner",[_11b],{entry:null,editors:[_11f,_120,_121],helpTopicName:"Form_properties",_controls:null,_rows:null,_columns:null,displayNameText:"Form",constructor:function(){lang.mixin(this,_122);},uninitialize:function(){this.inherited(arguments);_11a.forEach(this._controls,function(_123){_123.destroyRecursive();});_11a.forEach(this._rows,function(_124){_124.destroyRecursive();});_11a.forEach(this._columns,function(_125){_125.destroyRecursive();});},set:function(name,_126){var _127=this.inherited(arguments);var _128=this._getAttrNames(name),_129=this[_128.s];if(lang.isFunction(_129)){_118.publish("/quickforms/design/designerModified",this,name,_126,_127,this);}return _127;},_getNameAttr:function(){return lang.getObject("entity.Name",false,this.entry);},_setNameAttr:function(_12a){lang.setObject("entity.Name",_12a,this.entry);},_getDescriptionAttr:function(){return lang.getObject("entity.Description",false,this.entry);},_setDescriptionAttr:function(_12b){lang.setObject("entity.Description",_12b,this.entry);},_getActiveControlAttr:function(){return lang.getObject("entity.ActiveControl",false,this.entry);},_setActiveControlAttr:function(_12c){lang.setObject("entity.ActiveControl",_12c,this.entry);},_getUseEntityNameAsTitleAttr:function(){return lang.getObject("entity.UseEntityNameAsTitle",false,this.entry);},_setUseEntityNameAsTitleAttr:function(_12d){lang.setObject("entity.UseEntityNameAsTitle",_12d,this.entry);},_getEtagAttr:function(){return lang.getObject("etag",false,this.entry);},_setEtagAttr:function(_12e){lang.setObject("etag",_12e,this.entry);},_getRowsAttr:function(){return this._rows||(this._rows=this._createRowDesigners());},_getRowCountAttr:function(){return this.get("rows").length;},_createRowDesigners:function(){var raw=lang.getObject("entity.Rows",false,this.entry),_12f=[];_11a.forEach(raw,function(row,_130){var _131=new _11d({entry:row,form:this,index:_130});_12f.push(_131);},this);return _12f;},_getColumnsAttr:function(){return this._columns||(this._columns=this._createColumnDesigners());},_getColumnCountAttr:function(){return this.get("columns").length;},_createColumnDesigners:function(){var raw=lang.getObject("entity.Columns",false,this.entry),_132=[];_11a.forEach(raw,function(_133,_134){var _135=new _11e({entry:_133,form:this,index:_134});_132.push(_135);},this);return _132;},_getControlsAttr:function(){return this._controls||(this._controls=this._createControlDesigners());},_createControlDesigners:function(){var raw=lang.getObject("entity.Controls",false,this.entry),_136=[];_11a.forEach(raw,function(_137){var ctor=_11c.getDesignerFor(_137);if(ctor){var _138=new ctor({entry:_137,form:this});_136.push(_138);}else{throw new Error('Could not find designer for type: "'+_137["$type"]+'".');}},this);return _136;},addControl:function(_139){var _13a=this.get("controls"),raw=lang.getObject("entity.Controls",false,this.entry)||[];_13a.push(_139);raw.push(_139.get("entry"));lang.setObject("entity.Controls",raw,this.entry);},addRow:function(_13b,at){var _13c=this.get("rows"),raw=lang.getObject("entity.Rows",false,this.entry)||[];_13b.index=at||_13b.index||_13c.length;for(var i=_13b.index;i<_13c.length;i++){_13c[i].index+=1;}_13c.splice(_13b.index,0,_13b);raw.splice(_13b.index,0,_13b.get("entry"));lang.setObject("entity.Rows",raw,this.entry);},removeRow:function(at){var _13d=this.get("rows"),raw=lang.getObject("entity.Rows",false,this.entry)||[];for(var i=at;i<_13d.length;i++){_13d[i].index-=1;}_13d.splice(at,1);raw.splice(at,1);},addColumn:function(_13e,at){var _13f=this.get("columns"),raw=lang.getObject("entity.Columns",false,this.entry)||[];_13e.index=at||_13e.index||_13f.length;for(var i=_13e.index;i<_13f.length;i++){_13f[i].index+=1;}_13f.splice(_13e.index,0,_13e);raw.splice(_13e.index,0,_13e.get("entry"));lang.setObject("entity.Columns",raw,this.entry);},removeColumn:function(at){var _140=this.get("columns"),raw=lang.getObject("entity.Columns",false,this.entry)||[];for(var i=at;i<_140.length;i++){_140[i].index-=1;}_140.splice(at,1);raw.splice(at,1);},createUniqueId:function(_141){var _142={},next=_141,_143=1;_11a.forEach(this.get("controls"),function(_144){var id=_144.get("controlId");if(next==id){do{next=_141+_143++;}while(_142[next]);}_142[id]=true;});return next;}});});},"Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig",["Sage/MainView/ActivityMgr/AllOpenListPanelConfig","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/AllOpenListPanelConfig"],function(_145,_146,lang,_147){var _148=_146("Sage.Extensions.Activity.ListPanelOverrides.AllOpenListPanelConfig",[_145],{constructor:function(){lang.mixin(this,_147);this._select.push("Details/AttendeeCount");this._structure.push({field:"Details.AttendeeCount",name:this.colNameAssociationCount,width:"90px"});}});return _148;});},"Sage/Utility/nls/Activity":function(){define("Sage/Utility/nls/Activity",["Sage/LanguageList","dojo/_base/lang"],function(_149,lang){var nls={root:{ToDo:"To-Do",PhoneCall:"Phone Call",Meeting:"Meeting",Personal:"Personal Activity",Literature:"Literature",Fax:"Fax",Letter:"Letter",Note:"Note",Email:"E-mail",Document:"Document",DatabaseChange:"Database Change",Event:"Event",ScheduledEvent:"Scheduled Event",Contact:"Contact",Lead:"Lead",New:"New",Change:"Change",Deleted:"Deleted",Confirm:"Confirm",Decline:"Decline",Unknown:"Unknown",Leader:"Leader",Complete:"Complete",confirmTypeChanged:"Changed",confirmTypeConfirmed:"Confirmed",confirmTypeDeleted:"Deleted"}};return lang.mixin(_149,nls);});},"Sage/QuickForms/Design/nls/DesignPanel":function(){define("Sage/QuickForms/Design/nls/DesignPanel",["Sage/LanguageList","dojo/_base/lang"],function(_14a,lang){var nls={root:{cultureListText:{iv:"[invariant]",de_DE:"de-DE",fr_FR:"fr-FR",it_IT:"it-IT",ru_RU:"ru-RU"},helpText:"Help",saveText:"Save",cultureText:"Culture:",loadingText:"Loading...",savingText:"Saving...",saveErrorText:"An error occurred saving the form.",readErrorText:"Could not load the requested form.",cultureReloadConfirmText:"You have unsaved changes.  Are you sure you want to reload the form with a different culture?"}};return lang.mixin(_14a,nls);});},"Sage/UI/Dashboard/ChartingWidget":function(){define("Sage/UI/Dashboard/ChartingWidget",["Sage/UI/Dashboard/BaseWidget","Sage/Utility","dojo/i18n","dojo/_base/declare","dojo/i18n!./nls/WidgetDefinition","dojo/number"],function(_14b,util,i18n,_14c){var _14d=_14c("Sage.UI.Dashboard.ChartingWidget",[_14b],{_chartTpl:new Simplate(['<table border="0" style="width:100%; height:100%">',"<tr>",'<td id="{%= $.id %}_chart" style="width:{%= $.chartWidth %}"></td>','<td style="display:{%= $.legendDisplay %};font-size:10px;"><div class="dojoxGridScrollbox" style="height:{%= $.chartHeight %};overflow-y:auto;"><span id="{%= $.id %}_legend"></span></div></td>',"</tr>","</table>"]),_noDataTable:new Simplate(['<table border="0" style="width:100%; height:100%">',"<tr>","<td>{%= $.NoDataMessage %}</td>","</tr>","</table>"]),_baseEditor:function(_14e,_14f){var mkup=this._getEditorString(_14f,_14e.id);var frag=util.fragger(mkup);var _150=util.fragToDijits(frag);_14e.addChild(_150[0],0);if(_14e.isNew){_14e._editorAdded();}},_getPaneSize:function(){return{w:dojo.style(this.pane,"width"),h:dojo.style(this.pane,"height")};},html:function(_151,data){this.paneId=_151.id+"_pane";this.parentCellId=_151.id;this.pane=dojo.byId(this.paneId);this.chartId=_151.id+"_chart";this.legendId=_151.id+"_legend";this.options=_151.widgetOptions;this.showLegend=this.options.showLegend==="true";this.showLabels=this.options.showLabels==="true";var size=this._getPaneSize();var i,_152;this.paneWidth=size.w;var h=Math.floor(size.w*this.prefHeight)+"px";dojo.style(this.pane,"height",h);if(data){this.values=[];this._labels=[];if(this.name==="Pie Chart"){this.cumulativeValues=0;for(i=0;i<data.total_count;i++){data.items[i].value=Math.max(0,data.items[i].value);this.cumulativeValues+=Math.floor(data.items[i].value);}}for(i=0;i<data.total_count;i++){var curr=data.items[i];var fVal=Math.floor(curr.value);var tmp={};var _153;if(this.showLabels){tmp.text=this.options.truncLabels==="true"?this.truncate(curr.displayName,this.options.truncNum||7):curr.displayName;}if(this.name==="Pie Chart"){if(fVal<=0){continue;}tmp.y=fVal;var _154=0;if(this.cumulativeValues>0){_154=fVal/this.cumulativeValues*100;}tmp.tooltip=curr.displayName+", "+dojo.number.format(_154,{places:2})+"%";_153=fVal;if(_153>=1000000){_153=dojo.number.format((_153/1000000),{places:1})+"M";}else{_153=dojo.number.format(fVal);}tmp.legend="<label>"+curr.displayName+'</label><label style="float:right; margin-left:10px; margin-top:2px;">'+_153+"</label>";}else{_153=fVal;if(_153>=1000000){_153=dojo.number.format((_153/1000000),{places:1})+"M";}else{_153=dojo.number.format(fVal);}tmp.value=i+1;tmp.y=fVal;tmp.tooltip=curr.displayName+", "+_153;}this._labels.push(tmp);this.values.push(fVal);}if(data.total_count>0){_151.set("content",this._chartTpl.apply({id:_151.id,chartWidth:_151.chartWidth,legendDisplay:_151.legendDisplay,chartHeight:h}));this._doChart(_151,data);}else{_152=Sage.UI.DataStore.Dashboard.WidgetResources;dojo.style(this.pane,"height","20px");_151.set("content",this._noDataTable.apply({NoDataMessage:_152.noDataToDisplay}));this.editor(_151);}}else{_152=Sage.UI.DataStore.Dashboard.WidgetResources;dojo.style(this.pane,"height","20px");_151.set("content",this._noDataTable.apply({NoDataMessage:_152.noDataToDisplay}));this.editor(_151);}this._addFooter();},_addFooter:function(){var _155=i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition");var _156=["#",this.parentCellId," .dijitTitlePaneContentOuter"].join("");if(this.options.groupname&&this.options.resource){var _157=String.format('<div class="dijitTitlePaneTitle" id="{0}" style="border:0;font-weight:normal;">',this.parentCellId+"_footer");if(this.options.entity!=="Sage.Entity.Interfaces.IHistory"&&this.options.groupname&&this.options.resource){_157+=String.format('<span style="float:left; margin-top:3px;"><a href="{0}.aspx?modeid=list&gname={1}">{2}</a></span>',this.options.resource,this.options.groupname,_155.viewGroupText||"View Group");}_157+='<span style="float:right; margin-top:3px;">'+dojo.date.locale.format(new Date(),{fullYear:true})+"</span>";_157+="</div>";var _158=dojo.byId(this.parentCellId+"_footer");if(!_158){dojo.place(_157,dojo.query(_156)[0],"last");}else{dojo.place(_157,_158,"replace");}}},truncate:function(str,n){return str.length>n?str.slice(0,n)+"...":str;}});return _14d;});},"Sage/Data/WritableSDataStore":function(){define("Sage/Data/WritableSDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/array","dojo/_base/lang"],function(_159,_15a,_15b,_15c,lang){var _15d=_15b("Sage.Data.WritableSDataStore",_159,{newItemParentReferenceProperty:false,constructor:function(o){this.features["dojo.data.api.Write"]=true;this.features["dojo.data.api.Notification"]=true;this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;dojo.connect(this,"clearCache",this,this._clearCache);this.onComplete=o.onComplete;},getSingleResourceRequest:function(key){this.verifyService();if(this.singleResourceRequest===null){this.singleResourceRequest=new Sage.SData.Client.SDataSingleResourceRequest(this.service);this.singleResourceRequest.setResourceKind(this.resourceKind);if(this.select&&this.select.length>0){this.singleResourceRequest.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){this.singleResourceRequest.setQueryArg("include",this.include.join(","));}}if(key){this.singleResourceRequest.setResourceSelector("'"+key+"'");}return this.singleResourceRequest;},onSuccess:function(_15e,feed){if(_15e.onBegin){_15e.onBegin.call(_15e.scope||this,feed.$totalResults,_15e);}if(this.onComplete){this.onComplete.call(_15e.scope||this,feed.$resources,_15e);}if(_15e.onComplete){_15e.onComplete.call(_15e.scope||this,feed.$resources,_15e);}this.addToCache(_15e,feed);},_clearCache:function(){this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_15f){var id=this.getIdentity(_15f);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_160){return this.isItem(_160);},loadItem:function(_161){if(!this.isItem(_161.item)){throw new Error("Unable to load "+_161.item);}},getValues:function(item,_162){if(this.isItem(item)&&(typeof _162==="string")){return(item[_162]||[]).slice(0);}return[];},hasAttribute:function(item,_163){if(this.isItem(item)&&(typeof _163==="string")){return _163 in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,_164){var _165={};_165.scope=_164||this;_165.ignoreETag=true;var _166=this.getSingleResourceRequest(this.getIdentity(item));if(_164&&typeof _164.onResponse==="function"){_165.success=_164.onResponse;_165.aborted=_164.onResponse;_165.failure=_164.onResponse;}_166["delete"](item,_165);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},_checkPageExitWarningMessage:function(){var _167=true;if(this.dirtyDataCache.isDirty){var _168=Sage.Services.getService("ClientBindingManagerService");_167=confirm(_168._PageExitWarningMessage);}return _167;},newItem:function(args){if(!this._checkPageExitWarningMessage()){return;}var _169=this.createTemplateRequest();if(_169){_169.read({success:function(_16a){this._newItemCreated(args,_16a);this.onNew(_16a);},failure:this.requestTemplateFailure,scope:this});}},_newItemCreated:function(_16b,_16c){if(this.newItemParentReferenceProperty){var _16d=Sage.Utility.getCurrentEntityId();if(_16c.hasOwnProperty(this.newItemParentReferenceProperty)&&_16d){_16c[this.newItemParentReferenceProperty]={"$key":_16d};}}if((_16b)&&(_16b.onComplete)&&(typeof _16b.onComplete==="function")){_16b.onComplete.call(_16b.scope||this,_16c);}},createTemplateRequest:function(){var _16e=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_16e.setResourceKind(this.resourceKind);}return _16e;},requestTemplateFailure:function(){},saveNewEntity:function(_16f,_170,_171,_172){var _173=new Sage.SData.Client.SDataSingleResourceRequest(this.service);if(_173){if((this.resourceKind)&&(this.resourceKind!=="")){_173.setResourceKind(this.resourceKind);}_173.create(_16f,{success:_170||function(_174){if(typeof console!=="undefined"){}},failure:_171||function(_175,o){if(typeof console!=="undefined"){}},scope:_172||this});}},createItem:function(item,_176){var _177=new Sage.SData.Client.SDataSingleResourceRequest(this.service);if(_177){if((this.resourceKind)&&(this.resourceKind!=="")){_177.setResourceKind(this.resourceKind);}var _178={};_178.scope=_176||this;_178.scope.store=this;var _179=function(_17a){if(typeof console!=="undefined"){}if(typeof this.onResponse==="function"){this.onResponse.call(this,_17a);}};_178.success=_179;var _17b=function(_17c,o){if(typeof this.onResponse==="function"){this.onResponse.call(this,_17c,o);}else{if(typeof console!=="undefined"&&_17c&&typeof _17c!=="undefined"&&_17c.status){}}};_178.failure=_17b;_178.aborted=_17b;_177.create(item,_178);}},revert:function(){this.clearDirtyDataCache();this.onDataReset();},save:function(_17d){var _17e,_17f;if(!this.dirtyDataCache.isDirty){if(_17d&&typeof _17d.onComplete==="function"){_17d.onComplete.call(_17d);}return;}for(var key in this.dirtyDataCache){if(key!=="isDirty"){_17e=this.dirtyDataCache[key];if(this.isItem(_17e)){_17f=this.getSingleResourceRequest(key);var _180={};_180.scope=_17d||this;_180.scope.store=this;if(!this.isSecurityManager){_180.ignoreETag=true;}var _181=function(_182){if(this.store.dataCache[_182.$key]){this.store.dataCache[_182.$key].$etag=_182.$etag;}if(typeof this.onResponse==="function"){this.onResponse.call(this,_182);}};_180.success=_181;var _183=function(_184,o){if(typeof console!=="undefined"){if(_184&&typeof _184!=="undefined"&&_184.responseText){var _185=dojo.fromJson(_184.responseText);if(_185&&typeof _185!=="undefined"&&_185.$key){var obj=this.store.dataCache[_185.$key];if(obj&&obj.$etag){}}}}if(typeof this.onResponse==="function"){this.onResponse.call(this,_184,o);}};_180.failure=_183;_180.aborted=_183;_17f.update(_17e,_180);}delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;if(_17d&&typeof _17d.onResponse!=="function"&&typeof _17d.onComplete==="function"){_17d.onComplete.call(_17d);}},setValue:function(item,_186,_187){var _188=this.getValue(item,_186,"");_15a.setValue(item,_186,_187);this.onSet(item,_186,_188,_187);if(_188!=_187){this.dirtyDataCache[this.getIdentity(item)]=item;this.dirtyDataCache.isDirty=true;}return true;},setValues:function(item,_189,_18a){_15c.forEach(_18a,lang.hitch(this,function(val){this.setValue(item,_189,val);}));},unsetAttribute:function(item,_18b){alert("not implemented - unsetAttribute");},onSet:function(item,_18c,_18d,_18e){},onNew:function(_18f){},onDelete:function(_190){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_191,_192){},onItemNotSaved:function(_193,_194){}});return _15d;});},"Sage/MainView/Opportunity/OpportunityStatistics":function(){require({cache:{"url:Sage/MainView/Opportunity/templates/OpportunityStatistics.html":" [\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_dlgOpportunityStatistics\" title=\"{%= $.opportunityStatistics_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n            '<div dojoAttachPoint=\"loadingContainer\">',\r\n                '<br />',\r\n                '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingMessge %}</label>',\r\n                '<br />',\r\n                '<br />',\r\n            '</div>',\r\n            '<table cellspacing=\"20\" dojoAttachPoint=\"statisticsContentsContainer\" class=\"display-none\">',\r\n                '<tr>',\r\n                    '<td >',\r\n                        '<label>{%= $.opportunityCount %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"opportunityCount\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.salesPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotential\" dojoAttachPoint=\"salesPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotentialAverage\" dojoAttachPoint=\"salesPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.weightedPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotential\" dojoAttachPoint=\"weightedPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotentialAverage\" dojoAttachPoint=\"weightedPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageCloseProbability %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoType=\"Sage.UI.Controls.Numeric\" constraints=\"{ places: 2, maxPlaces: 2, type: \\'percent\\' }\" dojoAttachPoint=\"closeProbability_Container\" readonly=\"readonly\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.actualAmountTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmount\" dojoAttachPoint=\"actualAmountTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmountAverage\" dojoAttachPoint=\"actualAmountAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageDaysOpen %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"daysOpen_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.rangeEstClose %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"rangeEstClose_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar alignright\">',\r\n                '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" type=\"button\" dojoAttachEvent=\"onClick:_close\">{%= $.btnClose_Caption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/Opportunity/OpportunityStatistics",["dojo/_base/declare","dojo/i18n!./nls/OpportunityStatistics","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Currency","Sage/UI/Controls/Numeric","Sage/Data/SDataServiceRegistry","dojo/date/locale","Sage/Utility","dojo/text!./templates/OpportunityStatistics.html","dojo/html","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer"],function(_195,_196,_197,_198,_199,_19a,_19b,_19c,_19d,_19e,_19f,_1a0,_1a1,_1a2,html){var _1a3=_195("Sage.MainView.Opportunity.OpportunityStatistics",[_19a,_19b],{_dialog:false,_selectionInfo:false,selectedCount:0,resource:"",currencyDecimalDigits:2,currencyCode:"USD",locale:Sys.CultureInfo.CurrentCulture.name,isMultiCurrencyEnabled:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1a2)),constructor:function(_1a4){this._selectionInfo=_1a4;this.currencyDecimalDigits=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalDigits;this.isMultiCurrencyEnabled=window.isMultiCurrencyEnabled();dojo.mixin(this,_196);},show:function(){this._dialog.show();if(!this._dialog.helpIcon){_198.mixin(this._dialog,new _197());this._dialog.createHelpIconByTopic("opportunitystatistics");}var _1a5=_19f.getSDataService("mashups");var _1a6=new Sage.SData.Client.SDataNamedQueryRequest(_1a5);_1a6.setApplicationName("$app");_1a6.setResourceKind("mashups");_1a6.uri.setCollectionPredicate("'OpportunityStatistics'");_1a6.setQueryName("execute");_1a6.setQueryArg("_resultName","OpportunityStatisticsMashup");_1a6.setQueryArg("_selectionKey",this._selectionInfo.key);var self=this;_1a6.read({success:function(data){self.resource=data.$resources[0];self.selectedCount=self.resource.RecordCount;self.currencyCode=self.resource.CurrencyCode;html.set(self.opportunityCount,self.selectedCount);self.createControls();var _1a7=self.resource.DaysOpened;if(self.selectedCount>1){_1a7=Math.round(self.resource.DaysOpened/self.selectedCount);}html.set(self.daysOpen_Container,_1a7.toString());dojo.addClass(self.loadingContainer,"display-none");dojo.removeClass(self.statisticsContentsContainer,"display-none");},failure:function(_1a8,_1a9,_1aa){_19c.showError(self.errorRequestingStatistics);}});},formatCurrency:function(val){val=val.replace(" ","","gi");val=val.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator,".","gi");return val;},createControls:function(){this.createSalesPotential();this.createCloseProbability();this.createWeightedPotential();this.createActualAmount();this.createRangeEstClose();},createSalesPotential:function(){this.salesPotentialTotal=new _19d({id:"cur_SalesPotentialTotal",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.SalesPotential)});dojo.place(this.salesPotentialTotal.domNode,this.salesPotentialTotal_Container,"replace");this.salesPotentialAverage=new _19d({id:"cur_SalesPotentialAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.SalesPotential)/this.selectedCount});dojo.place(this.salesPotentialAverage.domNode,this.salesPotentialAverage_Container,"replace");},createCloseProbability:function(){this.closeProbability=new _19e({id:"num_CloseProbability",constraints:{places:2},formatType:"percent",disabled:true,value:this.resource.CloseProbability/this.selectedCount});dojo.place(this.closeProbability.domNode,this.closeProbability_Container.domNode,"only");this.closeProbability_Container.value=this.resource.CloseProbability/this.selectedCount;},createWeightedPotential:function(){this.weightedPotentialTotal=new _19d({id:"cur_WeightedPotentialTotal",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.resource.CloseProbability});dojo.place(this.weightedPotentialTotal.domNode,this.weightedPotentialTotal_Container,"only");this.weightedPotentialAverage=new _19d({id:"cur_WeightedPotentialAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.resource.CloseProbability/this.selectedCount});dojo.place(this.weightedPotentialAverage.domNode,this.weightedPotentialAverage_Container,"only");},createActualAmount:function(){this.actualAmountTotal=new _19d({id:"cur_ActualAmount",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.ActualAmount)});dojo.place(this.actualAmountTotal.domNode,this.actualAmountTotal_Container,"only");this.actualAmountAverage=new _19d({id:"cur_ActualAmountAverage",constraints:{places:this.currencyDecimalDigits,currency:this.currencyCode,locale:this.locale},exchangeRateType:"BaseRate",multiCurrency:this.isMultiCurrencyEnabled,disabled:true,"class":"textcontrol currency",value:this.formatCurrency(this.resource.ActualAmount)/this.selectedCount});dojo.place(this.actualAmountAverage.domNode,this.actualAmountAverage_Container,"only");},createRangeEstClose:function(){var _1ab=_1a0.format(_1a1.Convert.toDateFromString(this.resource.MinDateEstClosed,true),{fullYear:true,selector:"date"});var _1ac=_1a0.format(_1a1.Convert.toDateFromString(this.resource.MaxDateEstClosed,true),{fullYear:true,selector:"date"});html.set(this.rangeEstClose_Container,dojo.string.substitute("${0} - ${1}",[_1ab,_1ac]));},_close:function(){this._dialog.hide();this._dialog.destroyRecursive();this.destroyRecursive();this.salesPotentialTotal.destroy();this.salesPotentialAverage.destroy();this.closeProbability.destroy();this.weightedPotentialTotal.destroy();this.weightedPotentialAverage.destroy();this.actualAmountTotal.destroy();this.actualAmountAverage.destroy();}});return _1a3;});},"Sage/UI/Columns/TextBox":function(){define("Sage/UI/Columns/TextBox",["Sage/UI/Controls/TextBox","Sage/UI/Columns/Cell","dojo/_base/declare"],function(_1ad,Cell,_1ae){var _1af=_1ae("Sage.UI.Columns.TextBox",Cell,{defaultValue:"",widgetClass:_1ad,getWidgetProps:function(_1b0){var _1b1=this._getControlId();this.defaultValue=_1b0;return dojo.mixin({},this.widgetProps||{},{value:"",maxLength:this.maxLength,regExp:this.regExp,shouldPublishMarkDirty:false});},getValue:function(_1b2){var _1b3=this.widget.focusNode.value;var _1b4=dijit.byId(this.widget.focusNode.id);if(!_1b4.isValid()||(typeof _1b3==="undefined")||(_1b3==="")){_1b4.undo();_1b3=this.defaultValue;}else{this.defaultValue=_1b3;}return _1b3;}});return _1af;});},"Sage/UI/widgetEditorLookup":function(){define("Sage/UI/widgetEditorLookup",["dijit/form/ValidationTextBox","dijit/form/RadioButton","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dijit/form/NumberTextBox"],function(_1b5,_1b6,_1b7,_1b8,_1b9){var _1ba={};_1ba.txtField=function(_1bb){var _1bc=new Simplate(['<div data-dojo-type="dijit.form.ValidationTextBox" id="{%= $.id %}"',' regExp="[^<>;]*" invalidMessage="{%= $.invMess %}" style="width:100%;"></div>']);return _1bc.apply(_1bb);};_1ba.rdoGroup=function(_1bd){var _1be=new Simplate(['<table width="100%"><tr><td align="left" width="50%"><input type="radio" id="{%= $.idOne %}" data-dojo-type="dijit.form.RadioButton"',' value="{%= $.valOne %}" name="{%= $.name %}"/><label for="${idOne}">{%= $.lblOne %}','</label></td><td align="left" width="50%"><input type="radio" id="{%= $.idTwo %}"data-dojo-type="dijit.form.RadioButton"',' value="{%= $.valTwo %}" name="{%= $.name %}"/><label for="{%= $.idTwo %}">{%= $.lblTwo %}',"</label></td></tr></table>"]);return _1be.apply(_1bd);};_1ba.comboField=function(_1bf){var _1c0=new Simplate(['<input data-dojo-type="dijit.form.ComboBox" id="{%= $.id %}" style="width:100%;"',' required="true" searchAttr="{%= $.searchAttr %}"/>']);return _1c0.apply(_1bf);};_1ba.numberField=function(_1c1){var _1c2=new Simplate(['<input data-dojo-type="dijit.form.NumberTextBox" id="{%= $.id %}" style="width:100%;"',' invalidMessage="{%= $.invMess %}"/>']);return _1c2.apply(_1c1);};_1ba.wholeNumberField=function(_1c3){var _1c4=new Simplate(['<input data-dojo-type="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" id="{%= $.id %}"',' invalidMessage="{%= $.invMess %}" constraints="{places:0}" style="width:100%;" formatType="Number"/>']);return _1c4.apply(_1c3);};_1ba._myEditRow=function(_1c5){var _1c6=new Simplate(['<div data-dojo-type="{%= $.type %}" id="{%= $.id %}" shouldPublishMarkDirty="false" style="height:{%= $.height %};width:100%;" ></div>']);return _1c6.apply(_1c5);};Sage.UI.widgetEditorLookup=_1ba;return _1ba;});},"Sage/_Templated":function(){define("Sage/_Templated",["dojo/dom-construct","dojo/_base/declare","dojo/query","dojo/parser","dojo/_base/array","dojo/_base/lang","dijit/registry","dijit/_base/wai"],function(_1c7,_1c8,_1c9,_1ca,_1cb,lang,_1cc,wai){var _1cd=_1c8("Sage._Templated",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[];},buildRendering:function(){var root,_1ce;if(this.widgetTemplate&&this.contentTemplate){throw new Error('Both "widgetTemplate" and "contentTemplate" cannot be specified at the same time.');}if(this.contentTemplate){this.inherited(arguments);_1ce=["<div>",this.contentTemplate.apply(this),"</div>"].join("");root=_1c7.toDom(_1ce);this._attachTemplateNodes(root);}else{if(this.widgetTemplate){_1ce=this.widgetTemplate.apply(this);root=_1c7.toDom(_1ce);if(root.nodeType!==1){throw new Error("Invalid template.");}this.domNode=root;this._attachTemplateNodes(root);}else{return;}}if(this.widgetsInTemplate){var _1cf=_1ca.parse(root,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang},propsThis:this,scope:"dojo"});this._startupWidgets=this._startupWidgets||[];this._startupWidgets=this._startupWidgets.concat(_1cf);this._supportingWidgets=this._supportingWidgets||[];this._supportingWidgets=this._supportingWidgets.concat(_1cc.findWidgets(root));this._attachTemplateNodes(_1cf,function(n,p){return n[p];});}if(this.contentTemplate){_1c9("> *",root).place(this.domNode);}else{this._fillContent(this.srcNodeRef);}},_fillContent:function(_1d0){var dest,frag,_1d1;dest=this.containerNode;frag=document.createDocumentFragment();_1d1=false;if(_1d0&&dest){while(_1d0.hasChildNodes()){frag.appendChild(_1d0.firstChild);_1d1=true;}if(_1d1){dest.appendChild(frag);}}},_attachTemplateNodes:function(_1d2,_1d3){_1d3=_1d3||function(n,p){return n.getAttribute(p);};var _1d4=(_1d2 instanceof Array)?_1d2:(_1d2.all||_1d2.getElementsByTagName("*"));var x=(_1d2 instanceof Array)?0:-1;for(;x<_1d4.length;x++){var _1d5=(x==-1)?_1d2:_1d4[x];if(this.widgetsInTemplate&&(_1d3(_1d5,"dojoType")||_1d3(_1d5,"data-dojo-type"))){continue;}var _1d6=_1d3(_1d5,"dojoAttachPoint")||_1d3(_1d5,"data-dojo-attach-point");if(_1d6){var _1d7,_1d8=_1d6.split(/\s*,\s*/);while((_1d7=_1d8.shift())){if(this[_1d7] instanceof Array){this[_1d7].push(_1d5);}else{this[_1d7]=_1d5;}this._attachPoints.push(_1d7);}}var _1d9=_1d3(_1d5,"dojoAttachEvent")||_1d3(_1d5,"data-dojo-attach-event");if(_1d9){var _1da,_1db=_1d9.split(/\s*,\s*/);var trim=lang.trim;while((_1da=_1db.shift())){if(_1da){var _1dc=null;if(_1da.indexOf(":")!=-1){var _1dd=_1da.split(":");_1da=trim(_1dd[0]);_1dc=trim(_1dd[1]);}else{_1da=trim(_1da);}if(!_1dc){_1dc=_1da;}this._attachEvents.push(this.connect(_1d5,_1da,_1dc));}}}var role=_1d3(_1d5,"waiRole");if(role){wai.setWaiRole(_1d5,role);}var _1de=_1d3(_1d5,"waiState");if(_1de){_1cb.forEach(_1de.split(/\s*,\s*/),function(_1df){if(_1df.indexOf("-")!=-1){var pair=_1df.split("-");wai.setWaiState(_1d5,pair[0],pair[1]);}});}}},startup:function(){_1cb.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);},destroyRendering:function(){_1cb.forEach(this._attachPoints,function(_1e0){delete this[_1e0];},this);this._attachPoints=[];_1cb.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});return _1cd;});},"Sage/UI/nls/TimelessActivitiesPane":function(){define("Sage/UI/nls/TimelessActivitiesPane",["Sage/LanguageList","dojo/_base/lang"],function(_1e1,lang){var nls={root:{header_complete:"Complete",header_type:"Type",header_contact:"Name",header_regarding:"Regarding",tooltip_type:"Type",tooltip_contact:"Contact",tooltip_account:"Account",tooltip_lead:"Lead",tooltip_phone:"Phone",tooltip_leader:"Leader",tooltip_regarding:"Regarding",tooltip_location:"Location",tooltip_notes:"Notes",tooltip_company:"Company"}};return lang.mixin(_1e1,nls);});},"Sage/UI/MenuItem":function(){require({cache:{"url:Sage/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n        <div class="dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}" data-dojo-attach-point="iconNodeSprite"></div>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n\n'}});define("Sage/UI/MenuItem",["dijit/MenuItem","dijit/_Widget","dojo/dom-style","dojo/_base/declare","dojo/text!../templates/MenuItem.html"],function(_1e2,_1e3,_1e4,_1e5,_1e6){var _1e7=_1e5("Sage.UI.MenuItem",_1e2,{templateString:_1e6,iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"noIcon",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},ref:"",postMixInProperties:function(){if(this.hasImageClass()&&this.hasIcon()){this.icon=this._blankGif;}else{this.icon=this.icon||this._blankGif;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.hasImageClass()){this.set("icon",this._blankGif);_1e4.set(this.iconNode,"display","none");}else{_1e4.set(this.iconNodeSprite,"display","none");}},hasImageClass:function(){if(this.imageClass&&this.imageClass!=="noIcon"){return true;}return false;},hasIcon:function(){if(this.icon&&this.icon!==this._blankGif){return true;}return false;},destroy:function(){this._setSelected=function(){};this.inherited(arguments);}});return _1e7;});},"Sage/MainView/ActivityMgr/nls/ActivityEditor":function(){define("Sage/MainView/ActivityMgr/nls/ActivityEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1e8,lang){var nls={root:{labelWidth:"100",tabNameGeneralText:"General",tabNameAvailabilityText:"Availability",tabNameAssociationsText:"Associations",tabNameRecurringText:"Recurring",tabNameAttachmentsText:"Attachments",tabNameNotesText:"Notes",scheduleText:"Schedule",startTimeText:"Start Time",timeLessText:"Timeless",alarmText:"Alarm",durationText:"Duration",rolloverText:"Auto rollover to next day",contactText:"Contact",accountText:"Account",leadText:"Lead",opportunityText:"Opportunity",ticketText:"Ticket",companyText:"Company",regardingText:"Regarding",notesText:"Notes",priorityText:"Priority",leaderText:"Leader",categoryText:"Category",locationText:"Location",dialogHeaderFormatText:"${actionText} ${activityType} - ${description}",scheduledByFormatText:"Scheduled by ${user} on ${date}",completeScheduledByFormatText:"Scheduled by ${user} on ${date} originally for ${startDate}",newConfirmationHeaderFormatText:"Confirm ${activityType} Scheduled by ${user}",otherConfimationHeaderFormatText:"${activityType} ${actionText} by ${user}",acceptedText:"Accepted",declinedText:"Declined",scheduledText:"Scheduled",updatedText:"Updated",deletedText:"Deleted",cancelText:"Cancel",okText:"OK",completeText:"Complete",completeBtnText:"Complete...",completedText:"Completed",deleteText:"Delete",lookupActText:"Lookup Account",lookupContactText:"Lookup Contact",lookupOpportunityText:"Lookup Opportunity",lookupTicketText:"Lookup Ticket",lookupLeadText:"Lookup Lead",lookupLeaderText:"Lookup Leader",lookupResourcesText:"Add Members and Resources",addResourceText:"Add Selected",mainPhoneText:"Main Phone",typeText:"Type",subTypeText:"Sub-Type",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",acctMgrText:"Acct Manager",descriptionText:"Description",stageText:"Stage",statusText:"Status",ownerText:"Owner",ticketNumberText:"Ticket Number",phoneText:"Phone",urgencyText:"Urgency",areaText:"Area",recurringText:"Recurring",resultText:"Result",followupText:"Follow-up",noneText:"None",carryOverAttachmentsText:"Carry Over Attachments",carryOverNotesText:"Carry Over Notes",asScheduledText:"As Scheduled",nowText:"Now",responseText:"Response",acceptText:"Accept",declineText:"Decline",deleteConfText:"Delete Confirmation",closeText:"Close",leadFullNameText:"Name",postalText:"Postal Code",failedLoadingDataMsg:"An error occurred loading data.",removeText:"Remove",noText:"No",yesText:"Yes",areYouSureText:"You are about to permanently delete this record.",couldNotSaveErrorText:"We're sorry, the activity could not be saved because an error occurred.",couldNotDeleteErrorText:"We're sorry, the activity could not be deleted because an error occurred.",couldNotCompleteErrorText:"We're sorry, the activity could not be completed because an error occurred.",scheduleFollowUpErrorText:"The follow up could not be scheduled because the HistoryId could not be determined.",tabNameParticipants:"Participants"}};return lang.mixin(_1e8,nls);});},"Sage/QuickForms/Design/DataSourceDesigner":function(){define("Sage/QuickForms/Design/DataSourceDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/NonVisibleAdvancedPropertyEditor","dojo/i18n!./nls/DesignPanel"],function(_1e9,_1ea,lang,_1eb,_1ec,_1ed,_1ee,_1ef,_1f0){return _1e9("Sage.QuickForms.Design.DataSourceDesigner",[_1ec,_1ed,_1eb,_1ee],{designSupport:{visible:false},editors:[_1ef],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div data-dojo-attach-point="containerNode">','<span data-dojo-attach-point="designCaptionNode"></span>',"</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"Data_Source_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFDataSource, Sage.Platform.QuickForms.QFControls",displayNameText:"Data Source",constructor:function(){lang.mixin(this,_1f0);},_setControlIdAttr:function(_1f1){this.inherited(arguments);this.set("designCaption",_1f1);},startup:function(){this.inherited(arguments);this.set("designCaption",this.get("controlId"));}});});},"Sage/Services/main":function(){define("Sage/Services/main",["Sage/Services/_ServiceMixin","Sage/Services/ActivityAction","Sage/Services/UserOptions","Sage/Services/ActivityActionProcessor","Sage/Services/ActivityService","Sage/Services/CalendarSecurityService","Sage/Services/ClientBindingManagerService","Sage/Services/ClientContextService","Sage/Services/ClientEntityContext","Sage/Services/RoleSecurityService","Sage/Services/SelectionContextService","Sage/Services/SystemOptions","Sage/Services/JobService","Sage/Services/ReportingService"],function(){});},"Sage/UI/Columns/Numeric":function(){define("Sage/UI/Columns/Numeric",["Sage/UI/Controls/Numeric","dojox/grid/cells/dijit","dojo/_base/declare","dojo/_base/lang"],function(_1f2,_1f3,_1f4,lang){var _1f5=_1f4("Sage.UI.Columns.Numeric",dojox.grid.cells._Widget,{widgetClass:_1f2,isWholeNumberPercent:false,getWidgetProps:function(_1f6){var _1f7=this.getControlId();return lang.mixin({},this.widgetProps||{},{constraints:this.constraints,value:_1f6,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field,name:this.name,sortable:this.sortable,editable:this.editable,required:this.required,formatType:this.formatType,textAlign:this.getAlignment()});},getAlignment:function(){var _1f8="right";_1f8=(this.cellClasses.indexOf("aligncenter")>-1)?"center":_1f8;_1f8=(this.cellClasses.indexOf("alignleft")>-1)?"left":_1f8;return _1f8;},formatNode:function(_1f9,_1fa,_1fb){if(!this.widgetClass){return _1fa;}var _1fc=dijit.byId(this.getControlId());if(!_1fc){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_1fc;if(_1fc.value!==_1fa||this.widget.focusNode.value!==_1fa){this.widget.focusNode.attr("value",_1fa);}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_1fb);this.grid.scroller.rowHeightChanged(_1fb,true);if(this.formatType=="Percent"){this.widget.focusNode.constraints["type"]="percent";}this.widget.focusNode.focus();return undefined;},formatter:function(_1fd,_1fe){var vals=[];if(_1fd===0||_1fd===null){return"";}if(this.isWholeNumberPercent&&this.formatType==="Percent"){_1fd=Math.round(_1fd*100)/10000;}if((this.displayFormatString)&&(this.displayFormatString!=="")){if(this.displayFields.length<1){vals.push(_1fd);}for(var idx=0;idx<this.displayFields.length;idx++){vals.push(Sage.Utility.getValue(this.grid._by_idx[_1fe].item,this.displayFields[idx]));}_1fd=Sage.Format.stringFromArray(this.displayFormatString,vals);return _1fd;}if(this.formatType==="Percent"){this.constraints["type"]="percent";}_1fd=dojo.number.format(_1fd,lang.mixin(this.constraints,{locale:Sys.CultureInfo.CurrentCulture.name}));if(this.constraints&&this.constraints.places===0&&this.constraints.round===-1&&_1fd.lastIndexOf(Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator)>-1){_1fd=_1fd.slice(0,_1fd.length-1);}if(this.abbreviationLength){var _1ff=Sage.Format.abbreviationFormatter(this.abbreviationLength);_1fd=_1ff(_1fd);}return _1fd;},styles:"text-align: right;",setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},getControlId:function(){this.setCurrentItems();return[this.item.$key,this.editInfo.cell.field,this.index].join("_");},getValue:function(_200){if(this.formatType=="Percent"){this.widget.focusNode._onBlur();}var _201=this.widget.focusNode.valueNode.value;if((typeof _201==="undefined")||(_201==="")){_201=0;}if(this.widget&&this.widget.state==="Error"){var item=this.grid.getItem(_200);var _202=this.grid.store.getValue(item,this.grid.edit.info.cell.field);return _202;}return _201;}});return _1f5;});},"Sage/Services/UserOptions":function(){define("Sage/Services/UserOptions",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_203,_204){var _205=_204("Sage.Services.UserOptions",null,{constructor:function(_206){this.inherited(arguments);dojo.mixin(this,_206);if(!_206||!_206.service){this.service=_203.getSDataService("system",false,true,true);}},get:function(name,_207,_208,_209,_20a,_20b){var req=this._createRequest(name,_207);if(typeof _20b==="undefined"){_20b=true;}if(req){req.read({success:_208,failure:function(_20c){if(typeof _209==="function"){_209(_20c);}},scope:_20a||this,async:_20b});}else{}},set:function(name,_20d,_20e,_20f,_210,_211){var req=this._createRequest(name,_20d);_210=_210||function(_212){};if(req){req.read({success:dojo.hitch(req,function(_213){_213.value=_20e;_203._removeFromLocalStorage("userOptions");this.update(_213,{success:_20f,scope:this});}),failure:_210,scope:_211||this});}},getByCategory:function(_214,_215,_216,_217){var req=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);req.setResourceKind("userOptions");req.setQueryArg("where","category eq '"+_214+"'");req.read({success:_215,failure:function(_218){if(typeof _217==="function"){_217(_218);}},scope:_216||this});},getByCategories:function(_219,_21a,_21b){var req=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);var _21c="";var _21d=",";for(var i=0;i<_219.length;i++){if(i==_219.length-1){_21d="";}_21c+='"'+_219[i]+'"'+_21d;}req.setResourceKind("userOptions");req.setQueryArg("where","category in ("+_21c+")");req.setQueryArg("count","500");req.read({success:_21a,failure:function(_21e){},scope:_21b||this});},_formatPredicate:function(n,c){return dojo.string.substitute("category eq '${0}' and name eq '${1}'",[c,n]);},_createRequest:function(n,c){var req=new Sage.SData.Client.SDataSingleResourceRequest(this.service);req.setResourceSelector(this._formatPredicate(n,c));req.setResourceKind("userOptions");return req;},_virtuald:function(){var _21f=/^\/([^\/]+)\//.exec(location.pathname);return _21f?_21f[1]:"";}});Sage.Services.addService("UserOptions",new Sage.Services.UserOptions());Sage.UserOptionsService={getCommonOption:function(name,_220,_221){if(typeof console!=="undefined"){}var _222=_221;var svc=Sage.Services.getService("UserOptions");if(svc){svc.get(name,_220,function(_223){var _224={category:_223.category,option:_223.name,optionValue:_223.value};if(_222){_222.call(window,_224);}});}},setCommonOption:function(name,_225,data,_226){if(typeof console!=="undefined"){}var svc=Sage.Services.getService("UserOptions");if(svc){svc.set(name,_225,data,_226);}}};return _205;});},"Sage/MainView/IntegrationContract/InvoiceRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/InvoiceRTDV.html":'[\n\'<div>\',\n    \'<div dojoType="dijit.Dialog" id="{%= $.id%}_invoiceDetailsDialog" title="{%= $.dialogCaption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:hideDetailsDialog">\',\n        \'<div dojoAttachPoint="loadingContainer">\',\r\n            \'<br />\',\r\n            \'<label class="wizardsectiontitle boldText padBottom" style="padding-left:20px">{%= $.loadingText %}</label>\',\r\n            \'<br />\',\r\n            \'<br />\',\r\n        \'</div>\',\n        \'<div dojoAttachPoint="invoiceDialogContent" class="display-none">\',\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2">\',\n                 \'<input dojoType="dijit.form.TextBox" name="reference" id="{%= $.id%}_reference" label="{%= $.lblInvoiceCaption %}" readonly="true" />\',\n                 \'<input dojoType="dijit.form.TextBox" name="grossTotal" id="{%= $.id%}_grossTotal" label="{%= $.lblNetTotalCaption %}" readonly="readonly" />\',\n            \'</div >\',\n            \'<div style="height:350px;width:800px">\',\r\n                \'<div id="{%= $.id%}_invoiceTabContainer" dojoAttachPoint="invoiceTabContainer" dojoType="dijit.layout.TabContainer" style="width:100%;height:100%;">\',\r\n                    \'<div id="{%= $.id%}_invoiceContent" dojoAttachPoint="invoiceContent" dojoType="dijit.layout.ContentPane" title="{%= $.detailsTabTitle %}" selected="true">\',\r\n                        \'<div id="{%= $.id%}_divInvoiceDetails">\',\r\n                            \'<table cellspacing="5">\',\n                                \'<col style="width:200px" />\',\r\n                                \'<col style="width:200px" />\',\n                                \'<tr>\',\n                                    \'<td>\',\r\n                                        \'<label for="Invoice_date">{%= $.lblInvoiceDateCaption %}</label>\',\r\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_invoiceDate" name="date" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="invoiceDiscountPercent">{%= $.lblInvoiceDiscountPercentCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_discountPercent" name="invoiceDiscountPercent" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\r\n                                        \'<label for="Invoice_deliveryDate">{%= $.lblDueDateCaption %}</label>\',\r\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_deliveryDate" name="deliveryDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_carrierTotalPrice">{%= $.lblCarrierTotalPriceCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_carrierTotalPrice" name="carrierTotalPrice" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_customerReference">{%= $.lblCustomerPOCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_customerReference" name="customerReference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\r\n                                        \'<label for="Invoice_taxTotal">{%= $.lblTaxCaption %}</label>\',\r\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_taxTotal" name="taxTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="settlementDiscountPercent">{%= $.lblSettlementDiscountPercentCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_settlementDiscountPercent" name="settlementDiscountPercent" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_notes">{%= $.lblNotesCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_notes" name="notes" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="settlementDiscountTerms">{%= $.lblSettlementDiscountTermsCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_settlementDiscountTerms" name="settlementDiscountTerms" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_costTotal">{%= $.lblCostTotalCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_costTotal" name="costTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="operatingCompanyCurrency">{%= $.lblOCCurrencyCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_operatingCompanyCurrency" name="operatingCompanyCurrency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_profitTotal">{%= $.lblProfitTotalCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_profitTotal" name="profitTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="operatingCompanyCurrencyExchangeRateDate">{%= $.lblOperatingCompanyCurrencyExchangeRateDateCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_operatingCompanyCurrencyExchangeRateDate" name="operatingCompanyCurrencyExchangeRateDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_priceList">{%= $.lblPriceListCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_priceList" name="pricelist.name" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_currency">{%= $.lblCurrencyCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_currency" name="currency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_salesPerson">{%= $.lblSalesPersonCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_salesPerson" name="buyerContact.fullName" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_invoiceDiscountAmount">{%= $.lblInvoiceDiscountAmountCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_invoiceDiscountAmount" name="invoiceDiscountAmount" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\r\n                            \'</table>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_addressesContent" dojoType="dijit.layout.ContentPane" title="{%= $.addressTabTitle %}" style="width:100%;height:100%;">\',\r\n                        \'<div id="sdgrdInvoiceAddresses" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdInvoiceAddresses_Grid" dojoAttachPoint="sdgrdInvoiceAddresses_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_invoiceLinesContent" dojoType="dijit.layout.ContentPane" title="{%= $.invoiceLinesTabTitle %}" style="width:100%;height:100%;">\',\r\n                        \'<div id="sdgrdInvoiceLines" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdInvoiceLines_Grid" dojoAttachPoint="sdgrdInvoiceLines_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_paymentsContent" dojoType="dijit.layout.ContentPane" title="{%= $.paymentsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Payments" dojoAttachEvent="onShow:initPayments">\',\r\n                        \'<div id="sdgrdPayments" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdPayments_Grid" dojoAttachPoint="sdgrdPayments_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_deliveriesContent" dojoType="dijit.layout.ContentPane" title="{%= $.deliveriesTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Deliveries" dojoAttachEvent="onShow:initDeliveries">\',\r\n                        \'<div id="sdgrdDeliveries" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdDeliveries_Grid" dojoAttachPoint="sdgrdDeliveries_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n            \'<div class="button-bar alignright">\',\r\n                 \'<button dojoType="dijit.form.Button" id="{%= $.id%}_invoiceBtnClose" type="button" dojoAttachEvent="onClick:hideDetailsDialog">{%= $.btnCloseCaption %}</button>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]'}});define("Sage/MainView/IntegrationContract/InvoiceRTDV",["dojo/_base/declare","dojo/i18n!./nls/InvoiceRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/InvoiceRTDV.html","Sage/UI/DateTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_227,_228,_229,_22a,_22b,_22c,_22d,_22e,_22f){var _230=_227("Sage.MainView.IntegrationContract.InvoiceRTDV",[_229,_22a],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_22f)),constructor:function(){dojo.mixin(this,_228);},loadSalesInvoices:function(){var self=this;var _231={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"reference",name:this.grdInvoice_Name,defaultValue:"",sortable:true,formatter:this.invoiceDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_22e,formatType:"date",dateOnly:true,utc:false,name:this.grdInvoice_Date,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdInvoice_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"settlementDiscountTerms",name:this.grdInvoice_PaymentTerms,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdInvoice_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdInvoice_Tax,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdInvoice_Amount,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesInvoices"}]}),tools:[]};var _232=new _22b.Grid(_231,this.placeHolder);_232.startup();var _233=dijit.byId("tabContent");_233.resize();_233.resize();this.grid=_232;},invoiceDetailsViewRenderer:function(_234){return dojo.string.substitute('<a href="javascript:invoiceRTDV.loadDetailsView();">${0}</a>',[_234]);},destroyFirst:function(id){var _235=dijit.byId(id);if(_235){_235.destroyRecursive();}},loadAddresses:function(data){this.destroyFirst("sdgrdInvoiceAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _236=new dojox.grid.DataGrid({id:"sdgrdInvoiceAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_236.domNode,this.sdgrdInvoiceAddresses_Grid,"single");_236.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdInvoiceLines");if(data&&typeof data.salesInvoiceLines==="undefined"){data.salesInvoiceLines={};data.salesInvoiceLines.$resources=new Array();}var _237=new dojox.grid.DataGrid({id:"sdgrdInvoiceLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdItems_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesInvoiceLines"}});dojo.place(_237.domNode,this.sdgrdInvoiceLines_Grid,"only");_237.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _238=row["$key"];return dojo.string.substitute("'${0}'",[_238]);},resourceKind:"salesInvoices",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _239=new dojox.grid.DataGrid({id:"sdgrdPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_22e,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_22e,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_239.domNode,this.sdgrdPayments_Grid,"only");_239.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _23a=row["$key"];return dojo.string.substitute("'${0}'",[_23a]);},resourceKind:"salesInvoices",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrderDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdDeliveries");if(data&&typeof data.salesOrderDeliveries==="undefined"){data.salesOrderDeliveries={};data.salesOrderDeliveries.$resources=new Array();}var _23b=new dojox.grid.DataGrid({id:"sdgrdDeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_22e,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_22e,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_22e,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_23b.domNode,this.sdgrdDeliveries_Grid,"only");_23b.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.invoiceDialogContent,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _23c=row["$key"];this.dataStore=new _22c({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesInvoices",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_23c]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesInvoiceLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,salesInvoiceLines/commodity/name,salesInvoiceLines/unitOfMeasure/name,salesInvoiceLines/commodityVariant/reference,salesInvoiceLines/commodityDimension/reference,salesOrderDeliveries/carrierTradingAccount/name"],includeContent:true});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},loadInvoiceDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadInvoiceDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.invoiceTabContainer!=null){this.invoiceTabContainer.selectChild(this.invoiceContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.invoiceDialogContent,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdDeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdPayments");this.paymentsDataStore=null;this._dialog.hide();}});return _230;});},"Sage/MainView/ReportMgr/ReportWizardController":function(){define("Sage/MainView/ReportMgr/ReportWizardController",["Sage/UI/Dialogs","dojo/string","dojo/json","dojo/_base/array","dojo/i18n!./nls/ReportWizardController","Sage/Reporting/Enumerations","Sage/Utility","Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController"],function(_23d,_23e,_23f,_240,_241,_242,_243,_244){Sage.namespace("Sage.MainView.ReportMgr.ReportWizardController");dojo.mixin(Sage.MainView.ReportMgr.ReportWizardController,{startWizard:function(_245){if(!_245){return;}if(_245.reportId){this._getReportMetadata(_245.reportId,_245.reportOptions,_245.reportDisplayName);}else{if(_245.triggerId){this._getReportSchedule(_245.triggerId);}else{return;}}},_getReportSchedule:function(_246){var self=this;this._showLoadingIndicator(_241.txtLoadingScheduleDetails);var _247={triggerId:_246,success:function(_248){self._closeLoadingIndicator();self._triggerReceived(_248);},failure:function(xhr){self._closeLoadingIndicator();var _249=self._getErrorMessage(xhr);_23d.showError(_249,_241.txtError);}};var _24a=Sage.Services.getService("ReportingService");_24a.getSchedule(_247);},_triggerReceived:function(_24b){var _24c=this._getParameterValue(_24b.parameters,"PluginFamily");var _24d=this._getParameterValue(_24b.parameters,"PluginName");var _24e=this._getParameterValue(_24b.parameters,"ReportConditions");_24e=_24e?"["+_24e+"]":"[]";_24e=_23f.parse(_24e);var _24f=this._getParameterValue(_24b.parameters,"ConditionsConnector");_240.forEach(_24e,function(_250,j){if(_250.dataType===_242.FieldDataTypes.DateTime){if(_243.Convert.isDateString(_250.value)){_250.value=_243.Convert.toDateFromString(_250.value);}if(_243.Convert.isDateString(_250.fromRange)){_250.fromRange=_243.Convert.toDateFromString(_250.fromRange);}if(_243.Convert.isDateString(_250.toRange)){_250.toRange=_243.Convert.toDateFromString(_250.toRange);}}});var _251=this._getParameterValue(_24b.parameters,"ReportParameters");_251=_251?"["+_251+"]":"[]";_251=_23f.parse(_251);var _252=this._getParameterValue(_24b.parameters,"RunAsUserId");var _253=this._getParameterValue(_24b.parameters,"OutputFormat");var _254=this._getParameterValue(_24b.parameters,"ScheduleName");if(_24d&&_24c){var _255=Sage.Services.getService("ReportingService");var _256=_255.getReportId(_24c+":"+_24d);if(_256){var _257={scheduleOptions:{executionType:_242.ExecutionType.Scheduled,trigger:_24b},exportOptions:{outputFormat:_253,runAsUserId:_252},conditionOptions:{conditions:_24e,conditionsConnector:_24f},parameterOptions:{parameters:_251}};this._getReportMetadata(_256,_257);}else{_23d.showError(_241.txtCannotDetermineReportId);}}else{_23d.showError(_241.txtCannotDetermineReportNameOrFamily);}},_getReportMetadata:function(_258,_259,_25a){var self=this;var _25b=_25a?_241.txtLoading+_25a:_241.txtLoadingReport;this._showLoadingIndicator(_25b);var _25c={reportId:_258,success:function(_25d){self._reportMetadataReceived(_25d,_259);},failure:function(xhr){self._closeLoadingIndicator();var _25e=self._getErrorMessage(xhr);_23d.showError(_25e,_241.txtError);}};var _25f=Sage.Services.getService("ReportingService");_25f.getReportMetadata(_25c);},_getErrorMessage:function(xhr){var _260="";if(xhr&&xhr.status&&xhr.statusText){_260=_23e.substitute(_241.txtSorryAnErrorOccuredLoadingReport,[xhr.status,xhr.statusText]);}return _260;},_reportMetadataReceived:function(_261,_262){_240.forEach(_261.reportFilters,function(_263,i){_240.forEach(_263.filterConditions,function(_264,j){if(_264.dataType===_242.FieldDataTypes.DateTime){if(_243.Convert.isDateString(_264.value)){_264.value=_243.Convert.toDateFromString(_264.value);}if(_243.Convert.isDateString(_264.fromRange)){_264.fromRange=_243.Convert.toDateFromString(_264.fromRange);}if(_243.Convert.isDateString(_264.toRange)){_264.toRange=_243.Convert.toDateFromString(_264.toRange);}}});});_240.forEach(_261.parameters,function(_265,i){if(!_265.currentValues){_265.currentValues=[];}});this._closeLoadingIndicator();var _266=this._getControllerInstance(_261,_262);_266.startWizard();},_getControllerInstance:function(_267,_268){switch(_267.reportType){case _242.ReportTypes.CrystalReport:return new _244(_267,_268);}},_showLoadingIndicator:function(_269){var _26a=dijit.byId("dlgReportLoading");if(_26a){_26a.destroyRecursive();}_26a=new dijit.Dialog({id:"progressDialog",title:_269,style:"width: 300px; height: 100px",closable:false});var _26b=new dijit.ProgressBar({id:"reportLoadingProgressBar",style:"margin-top: 10px; margin-bottom: 20px",indeterminate:true});_26a.containerNode.appendChild(_26b.domNode);_26a.show();dojo.style(_26a.closeButtonNode,"display","none");_26a.onCancel=function(){};},_closeLoadingIndicator:function(){var dlg=dijit.byId("progressDialog");if(dlg){dlg.hide();dlg.destroyRecursive();}},_getParameterValue:function(_26c,_26d){var _26e=null;_240.some(_26c,function(_26f,j){if(_26f.name===_26d){_26e=_26f.value;return true;}});return _26e;}});return Sage.MainView.ReportMgr.ReportWizardController;});},"Sage/TaskPane/User/nls/ContactUserAssociationEditor":function(){define("Sage/TaskPane/User/nls/ContactUserAssociationEditor",["Sage/LanguageList","dojo/_base/lang"],function(_270,lang){var nls={root:{btnCancel_Caption:"Cancel",btnOK_Caption:"OK",dialogTitleText:"Associate User with Contact",associateContactText:"Associate the selected user with the following contact",user_Caption:"Contact",lookupContactText:"Lookup Contact",lookupFirstNameColText:"First Name",lookupLastNameColText:"Last Name",lookupTitleColText:"Title",lookupAccountColText:"Account",lookupWorkPhoneColText:"Work Phone",lookupEmailText:"Email",disAssociateTitle:"Disassociate from a Contact",associationExistsMessage:"The contact you selected is already associated to a user. Select another contact.",}};return lang.mixin(_270,nls);});},"Sage/MainView/nls/ActivityManager":function(){define("Sage/MainView/nls/ActivityManager",["Sage/LanguageList","dojo/_base/lang"],function(_271,lang){var nls={root:{titleFmtString:"${0}",tabDisplayNameActivity:"Activities",tabDisplayNameLit:"Literature",tabDisplayNameEvent:"Events",tabDisplayNameConfirm:"Confirmations",activityColNameComplete:"Complete",activityColNameAttachment:"Attachment",activityColNameRecurring:"Recurring",activityColNameAlarm:"Alarm",activityColNameType:"ActivityType",activityColNameStartDate:"StartDate",activityColNameDuration:"Duration",activityColNameContact:"Contact",activityColNameLead:"Lead",activityColNameAccount:"Account",activityColNameRegarding:"Regarding",activityColNamePriority:"Priority",activityColNameUserId:"leader",activityTypePhone:"Phone",activityTypeCall:"Call",activityTypeMeeting:"Meeting",activityTypePersonal:"Personal"}};return lang.mixin(_271,nls);});},"Sage/UI/Alarms/main":function(){define("Sage/UI/Alarms/main",["Sage/UI/Alarms/ActivityAlarm","Sage/UI/Alarms/AlarmButton","Sage/UI/Alarms/AlarmCountDown","Sage/UI/Alarms/AlarmPane","Sage/UI/Alarms/AlarmPopup","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/UnconfirmedAlarm","Sage/UI/Alarms/UnconfirmedPane","Sage/UI/Alarms/JobNotificationButton","Sage/UI/Alarms/JobNotificationPopup"],function(){});},"Sage/UI/Columns/HistoryType":function(){define("Sage/UI/Columns/HistoryType",["dojox/grid/cells/_base","Sage/Utility","Sage/Utility/Activity","dojo/string","dojo/_base/declare"],function(_272,util,_273,_274,_275){var _276=_275("Sage.UI.Columns.HistoryType",_272,{keyField:false,format:function(_277,_278){var type=this.get(_277,_278);if(!type){return this.defaultValue;}var key=util.getValue(_278,this.keyField||"$key");var fmt='<div class="Global_Images icon16x16 ${0}"></div>&nbsp;<a href="javascript:Sage.Link.editHistory(\'${1}\')">${2}</a>';return _274.substitute(fmt,[_273.getActivityImageClass(type,"small"),key,_273.getActivityTypeName(type)]);}});return _276;});},"Sage/UI/SummaryContainer":function(){define("Sage/UI/SummaryContainer",["dijit/_Widget","Sage/_Templated","Sage/UI/SummaryContents","dojo/_base/declare"],function(_279,_27a,_27b,_27c){var _27d=_27c("Sage.UI.SummaryContainer",[_279,_27a],{widgetsInTemplate:false,templateLocation:"",contentNode:null,paneContents:null,entity:null,postProcessCallBack:false,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(['<div class="EntityCard">','<div dojoAttachPoint="contentNode">Loading...</div>',"</div>"]),_setEntityAttr:function(_27e){this.entity=_27e;var pane=new _27b({templateLocation:this.templateLocation,entity:_27e});dojo.place(pane.domNode,this.contentNode,"only");pane.startup();this.paneContents=pane;if(this.postProcessCallBack){this.postProcessCallBack(this.entity);}},startup:function(){if(this.entity){var pane=new _27b({templateLocation:this.templateLocation,entity:this.entity});dojo.place(pane.domNode,this.contentNode,"only");pane.startup();this.paneContents=pane;if(this.postProcessCallBack){this.postProcessCallBack(this.entity);}}},destroy:function(){if(this.paneContents){this.paneContents.destroy(arguments);}this.inherited(arguments);}});return _27d;});},"Sage/UI/SLXPreviewGrid/Filter/DateRange":function(){define("Sage/UI/SLXPreviewGrid/Filter/DateRange",["dijit/form/DateTextBox","dijit/_Widget","dijit/_Templated","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/_base/declare"],function(_27f,_280,_281,_282,_283){var _284=_283("Sage.UI.SLXPreviewGrid.Filter.DateRange",[_280,_281,_282],{templateString:"<div>"+"<input data-dojo-type='dijit.form.DateTextBox' dojoAttachPoint='dteFrom' style='width:90px'> - "+"<input data-dojo-type='dijit.form.DateTextBox' dojoAttachPoint='dteTo' style='width:90px'>"+"</div>",widgetsInTemplate:true,getQuery:function(){var _285=function(_286,_287){if(!_286){return"";}if(_286.constructor!==Date){_286=Date.parse(_286);}if(_287){_286.setUTCDate(_286.getUTCDate()+1);}var pad=function(n){return n<10?"0"+n:n;};return _286.getUTCFullYear()+"-"+pad(_286.getUTCMonth()+1)+"-"+pad(_286.getUTCDate())+"T"+pad(_286.getUTCHours())+":"+pad(_286.getUTCMinutes())+":"+pad(_286.getUTCSeconds())+"Z";};var _288=_285(this.dteFrom.get("value"));var dTo=_285(this.dteTo.get("value"),true);var qry="";if(_288){qry=this.field+" ge '"+_288+"'";}if(dTo){if(qry){qry+=" and ";}qry+=this.field+" lt '"+dTo+"'";}if(this.params["getTimeless"]){if(qry){var _289=false;qry="(("+qry+" and not Timeless) or (";var _28a=Sage.Utility.Activity.formatTimelessStartDate(this.dteFrom.get("value"));var _28b=Sage.Utility.Activity.formatTimelessEndDate(this.dteTo.get("value"));if(_28a){qry+=this.field+" gt '"+_28a+"'";_289=true;}if(_28b){if(_289){qry+=" and ";}qry+=this.field+" lt '"+_28b+"'";}qry+=" and Timeless))";}}return qry;},reset:function(){this.dteFrom.set("value",0);this.dteTo.set("value",0);},getState:function(){return{"dFrom":this.dteFrom.get("value"),"dTo":this.dteTo.get("value")};},applyState:function(_28c){if(_28c){if(_28c["dFrom"]){this.dteFrom.set("value",_28c["dFrom"]);}if(_28c["dTo"]){this.dteTo.set("value",_28c["dTo"]);}}}});return _284;});},"Sage/UI/Dashboard/DashboardWidget":function(){define("Sage/UI/Dashboard/DashboardWidget",["dojo/_base/declare","Sage/UI/Dashboard/WidgetDefinition","dojo/i18n","dojo/_base/lang","dijit/form/TextBox","dijit/form/CheckBox","dojox/charting/widget/Chart2D","dojox/charting/action2d/Highlight","dojox/charting/action2d/MoveSlice","dojox/charting/action2d/Tooltip","dojox/charting/action2d/Magnify","dojox/charting/widget/Legend","dojox/charting/themes/Julie","dojo/i18n!./nls/DashboardWidget"],function(_28d,_28e,i18n,lang){var _28f=_28d("Sage.UI.Dashboard.DashboardWidget",null,{constructor:function(_290){dojo.safeMixin(this,_290);this._setDefinition();this._winResize=dojo.connect(window,"onresize",this,function(){if(!this.parentCell.open||!this.parentCell._started){return;}if(this.parentCell.refresh){this.parentCell.refresh(true);}});this.dropSub=dojo.subscribe("/ui/widget/dropped",this,function(id,p,c,i){if(id===this.parentCell.id){if(!this.parentCell.open||!this.parentCell._started){return;}if(this.parentCell.refresh){this.parentCell.refresh(true);}}});},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardWidget"));},_getInstanceData:function(){if(this.parentCell.isNew&&this.definition.editor){this.definition.editor(this.parentCell);if(this.parentCell._settingsWidget){this.parentCell._settingsWidget.toggle();}else{this.parentCell._editorAdded();}return;}if(!this.definition.isStatic){var that=this;if(this.options.datasource){dojo.xhrGet({url:this.options.datasource,handleAs:"json",preventCache:true,load:function(data){if(data){that._setInstanceData(data);}else{that.parentCell.set("content",this.noQueryDataText+this.options.datasource);}},error:function(data){that._setInstanceData(null);}});}else{this.parentCell._setContent(this.initializingText||"",true);if(this.definition.isStaticXhr){this._setInstanceData(null);}if(this.definition.editor){this.definition.editor(this.parentCell);}}}else{this._setInstanceData();}},_setDefinition:function(){_28e(Sage.UI.WidgetDefinitions[this.options.name],lang.hitch(this,function(_291){this.definition=_291;this._getInstanceData();}));},_setInstanceData:function(data){if(this.definition.isStatic){this.parentCell.set("content",this.definition.html(this.parentCell));if(this.definition.editor){this.definition.editor(this.parentCell);}}else{this.definition.html(this.parentCell,data);}}});return _28f;});},"Sage/Data/SummaryViewDataManager":function(){define("Sage/Data/SummaryViewDataManager",["Sage/Data/SDataServiceRegistry","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_292,_293,_294,lang){var _295=_294("Sage.Data.SummaryRequestQueue",null,{mashupName:"",queryName:"",fetching:false,service:null,unfetchedIds:null,constructor:function(_296){lang.mixin(this,_296);this.requestHash={};this.fetching=false;this.unfetchedIds=[];this.allFetched=[];this.service=_292.getSDataService("mashups");},add:function(id,_297){this.requestHash[id]=_297;this.allFetched.push({id:id,context:_297});this.unfetchedIds.push(id);},send:function(_298,_299){this.fetching=true;var _29a=[],id,_29b;for(id in this.requestHash){_29a.push("'"+id+"'");_29b=_293.indexOf(this.unfetchedIds,id);if(_29b>-1){this.unfetchedIds.splice(_29b,1);}}var _29c=new Sage.SData.Client.SDataNamedQueryRequest(this.service);_29c.setApplicationName("$app");_29c.setResourceKind("mashups");var _29d=this.mashupName||"SummaryViewQueries";_29c.uri.setCollectionPredicate("'"+_29d+"'");_29c.setQueryName("execute");_29c.setQueryArg("_resultName",this.queryName);_29c.setQueryArg("_ids",_29a.join(","));var _29e=this;_29c.read({success:lang.hitch(_299,_298,_29e),failure:lang.hitch(this,this.requestFailed,_29e)});},requestFailed:function(a,b,c){}});var _29f=_294("Sage.Data.SummaryViewDataManager",null,{oldQueue:null,queue:null,maxQueueLength:100,constructor:function(){this.oldQueue={};this._createNewQueue();},_createNewQueue:function(){this.queue=new _295({});this.requestTimeout=false;},requestData:function(_2a0,_2a1,_2a2){if(this.queue.fetching){this.oldQueue=this.queue;this._createNewQueue();}this.queue.mashupName=_2a2.mashupName;this.queue.queryName=_2a2.queryName;this.queue.add(_2a0,_2a1);if(this.requestTimeout){window.clearTimeout(this.requestTimeout);}var q=this.queue;var self=this;if(q.unfetchedIds.length>=this.maxQueueLength){q.send(self.receiveData,self);}this.requestTimeout=window.setTimeout(function(){q.send(self.receiveData,self);},250);},requestDataNoWait:function(_2a3,_2a4,_2a5){var _2a6=new _295({mashupName:_2a5.mashupName,queryName:_2a5.queryName});_2a6.add(_2a3,_2a4);_2a6.send(this.receiveData,this);},receiveData:function(_2a7,data){for(var i=0;i<data.$resources.length;i++){var _2a8=data.$resources[i];var id=_2a8.id;if(!id){id=_2a8.$key;_2a8.id=_2a8.$key;}(function(_2a9){_293.forEach(_2a7.allFetched,function(item){try{if(_2a9.id===item.id){item.context.set("entity",_2a9);}}catch(err){}});})(_2a8);}}});Sage.Services.addService("SummaryViewDataManager",new _29f());return _29f;});},"Sage/Services/nls/JobService":function(){define("Sage/Services/nls/JobService",["Sage/LanguageList","dojo/_base/lang"],function(_2aa,lang){var nls={root:{txtInvalidParameter:"Invalid parameter: '${0}'.",txtTriggerJobError:"Sorry an error occurred triggering job '${0}': ${1} ${2}.",txtScheduleJobError:"Sorry an error occurred scheduling job '${0}': ${1} ${2}.",txtUnexpectedError:"Sorry an error occurred: ${0} ${1}."}};return lang.mixin(_2aa,nls);});},"Sage/MainView/ActivityMgr/ActivityCalendar":function(){define("Sage/MainView/ActivityMgr/ActivityCalendar",["Sage/Data/WritableSDataStore","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/date/locale","dojo/string","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/ActivityCalendar","Sage/Array"],function(_2ab,_2ac,_2ad,_2ae,_2af,_2b0,lang,_2b1,_2b2){var _2b3=_2b1("Sage.MainView.ActivityMgr.ActivityCalendar",null,{_contentWindow:null,_activitiesData:null,_eventsData:null,_allData:null,_schedulerEvents:[],_schedulerEvents1:[],_schedulerLoaded:false,_loadHistoryOnStart:false,self:this,_calendarUsers:[],_selectedUsers:[],_currentUser:null,_userOptions:{},_userActivityData:[],_reccurring:[],_currentUserId:null,_currentUserColor:[],_dateRangeStart:null,_dateRangeEnd:null,completedText:"(Completed)",meetingIconUrl:"../../images/icons/meeting_14x14.png",toDoIconUrl:"../../images/icons/To_Do_14x14.png",phoneCallIconUrl:"../../images/icons/Call_14x14.png",personalActivityIconUrl:"../../images/icons/personal_14x14.png",_userColors:[],constructor:function(_2b4,_2b5){(function(){this._contentWindow=_2b4;})();this._currentUserId=lang.trim(_2ae.getClientContextByKey("userID"))||"";this._userOptions=_2b5;this._userColors["user1"]="#D5E2BD";this._userColors["user2"]="#CFDEF5";this._userColors["user3"]="#FBDBB5";this._userColors["user4"]="#DFC9F6";this._currentUserColor=[];this._nlsResources=_2b2;var _2b6=function(dt){return dojo.date.locale.format(new Date(dt),{selector:"date",datePattern:"EEE MMM d yyyy 00:00:00 ZZZZ"});};var _2b7=function(dt){return dojo.date.locale.format(new Date(dt),{selector:"date",datePattern:"EEE MMM d yyyy 24:00:00 ZZZZ"});};var _2b8=function(data){var _2b9=[{StartDate:_2b6(Sage.Utility.Convert.toDateFromString(data.StartDate)),EndDate:_2b7(Sage.Utility.Convert.toDateFromString(data.EndDate)),Text:data.Type,Id:data.$key+"-evt"}];return _2b9;};var self=this;dojo.subscribe("/entity/history/create",function(data){if(data!=null){var _2ba=data.HistoryId||data.$key;if(_2ba){self._getHistoryItem(_2ba);}}});dojo.subscribe("/entity/history/delete",function(key){if(key!=null){self._deleteHistoryItem(key);}});dojo.subscribe("/entity/activity/create",function(data){if(data!=null){if(!data.Timeless){var _2bb=data.Leader.$key;_2bb=lang.trim(_2bb);if(self._isUserSelected(_2bb)){if(data.Recurring){self._refreshSchedulerEvents();}else{var _2bc=self._formatActivityObject(data,_2bb);if(!self._userActivityData[_2bb]){self._userActivityData[_2bb]=[];self._userActivityData[_2bb]["activities"]=[];}self._userActivityData[_2bb]["activities"].push(_2bc);dojo.publish("/entity/activity/addToScheduler",[_2bc,this]);}}}}});dojo.subscribe("/entity/userActivity/create",function(data){if(data!=null&&data.Activity){var _2bd=data.Activity.$key;var _2be=data.User.$key;var _2bf=data.Status;if(self._isUserSelected(_2be)){if(self._reccurring[_2bd]){self._removeReccurringFromScheduler(_2bd);window.setTimeout(function(){self._reloadAllActivitiesByActivityId(_2bd);},1);}else{var _2c0=self._getActivityObjectFromCollection(_2bd);if(_2c0){var _2c1=self._getUserActivityFromActivity(_2c0,_2bd,_2be,_2bf);dojo.publish("/entity/activity/addToScheduler",[_2c1,this]);if(!self._userActivityData[_2be]){self._userActivityData[_2be]=[];self._userActivityData[_2be]["activities"]=[];}self._userActivityData[_2be]["activities"].push(_2c1);}}}}});dojo.subscribe("/entity/activity/activityScheduler/reloadActivity",function(_2c2){self._reloadAllActivitiesByActivityId(_2c2);});dojo.subscribe("/entity/userActivity/delete",function(data){if(data!=null){var _2c3=data.split(";")[0];var _2c4=data.split(";")[1];var _2c5=_2c3.split("=")[1];if(self._reccurring[_2c5]){self._removeReccurringFromScheduler(_2c5);window.setTimeout(function(){self._reloadAllActivitiesByActivityId(_2c5);},1);}else{var _2c6=_2c4.split("=")[1];_2c6=_2c6.replace("'","");var _2c7=_2c5+"-"+_2c6+"-act";if(lang.trim(_2ae.getClientContextByKey("userID"))==_2c6){_2c7="0:"+_2c7;}dojo.publish("/entity/activity/deleteFromScheduler",[_2c7,this]);self._removeActivityObjectFromCollection(_2c5,_2c6);}}});dojo.subscribe("/entity/activity/change",function(data){if(data!=null&&!data.Timeless){if(data.Recurring||data.RecurrenceState.toLowerCase()!=="rsnotrecurring"){self._refreshSchedulerEvents();}else{if(data.LeaderChanged){self._deleteFromSchedulerByActivity(data.$key);}var _2c8=null;if(data.Leader&&data.Leader.$key){_2c8=lang.trim(data.Leader.$key);}if(self._isUserSelected(_2c8)){var _2c9=self._formatActivityObject(data,_2c8);dojo.publish("/entity/activity/updateScheduler",[_2c9,this]);self._removeActivityObjectFromCollection(data.$key,_2c8);self._userActivityData[_2c8]["activities"].push(_2c9);}var _2ca=self._getMembersOfActivity(data.$key);if(_2ca){for(var i=0;i<_2ca.length;i++){if(_2ca[i]!==_2c8){_2c9=self._formatActivityObject(data,_2ca[i]);dojo.publish("/entity/activity/updateScheduler",[_2c9,this]);self._removeActivityObjectFromCollection(data.$key,_2ca[i]);if(!self._userActivityData[_2ca[i]]){self._userActivityData[_2ca[i]]=[];self._userActivityData[_2ca[i]]["activities"]=[];}self._userActivityData[_2ca[i]]["activities"].push(_2c9);}}}}}else{if(data!=null&&data.TimelessChanged){self._deleteFromSchedulerByActivity(data.$key);}}});dojo.subscribe("/entity/activity/delete/single",function(_2cb){self._deleteFromSchedulerByActivity(_2cb);});dojo.subscribe("/entity/activity/confirm",function(_2cc){if(_2cc){self._refreshSchedulerByActivity(_2cc.activityId);}});dojo.subscribe("/entity/activity/decline",function(_2cd){if(_2cd){self._refreshSchedulerByActivity(_2cd.activityId);}});dojo.subscribe("/entity/activity/delete/recurrence",function(_2ce){var _2cf;if(_2ce){_2cf=_2ce.substring(0,13);if(self._userActivityData){for(var i in self._userActivityData){if(self._userActivityData[i]!=null){var _2d0=[];if(self._userActivityData[i]["activities"]){for(var k=0;k<self._userActivityData[i]["activities"].length;k++){if(self._userActivityData[i]["activities"][k]){var id=self._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_2cf)>-1){_2d0.push(id);}}}if(_2d0.length>0){dojo.publish("/entity/activity/clearSchedulerEvents",[_2d0,this]);}}}}}}});dojo.subscribe("/entity/activity/delete",function(_2d1){self._deleteFromSchedulerByActivity(_2d1);});dojo.subscribe("/entity/event/create",function(data){if(data!=null){var _2d2=data.UserId;_2d2=lang.trim(_2d2);var _2d3=self._formatEventObject(data,_2d2);dojo.publish("/entity/activity/addToScheduler",[_2d3,this]);}});dojo.subscribe("/entity/event/change",function(data){if(data!=null){var _2d4=data.UserId;_2d4=lang.trim(_2d4);var _2d5=self._formatEventObject(data,_2d4);dojo.publish("/entity/activity/updateScheduler",[_2d5,this]);}});dojo.subscribe("/entity/event/delete/single",function(_2d6){var evId=_2d6+"-evt";dojo.publish("/entity/activity/deleteFromScheduler",[evId,this]);});dojo.subscribe("/entity/calendar/userlist/add",function(data){(function(){dojo.publish("/entity/activity/updateScheduler",[_2b8(data),this]);})();});completedText=this._nlsResources.completedText||"(Completed)";},_deleteHistoryItem:function(_2d7){if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["history"]){for(var k=0;k<this._userActivityData[i]["history"].length;k++){if(this._userActivityData[i]["history"][k]){var id=this._userActivityData[i]["history"][k]["id"];if(id.indexOf(_2d7)>-1){delete this._userActivityData[i]["history"][k];dojo.publish("/entity/activity/deleteFromScheduler",[id,this]);break;}}}}}}}},_deleteFromSchedulerByActivity:function(_2d8){if(_2d8&&_2d8.indexOf("{")==-1){var _2d9=this._getAllActivitiesFromCollectionById(_2d8);for(var i=0;i<_2d9.length;i++){dojo.publish("/entity/activity/deleteFromScheduler",[_2d9[i],this]);this._removeActivityObjectFromCollectionByActivityId(_2d9[i]);}}},_isUserSelected:function(_2da){var _2db=false;for(var i in this._selectedUsers){if(this._selectedUsers[i]["userId"]){if(this._selectedUsers[i]["userId"].toString()==_2da){_2db=true;break;}}}return _2db;},_refreshSchedulerByActivity:function(_2dc){if(_2dc){this._deleteFromSchedulerByActivity(_2dc);this._reloadAllActivitiesByActivityId(_2dc);}},_getUserActivityFromActivity:function(_2dd,_2de,_2df,_2e0){var _2e1=dojo.clone(_2dd);var sd=_2dd.start_date;var ed=_2dd.end_date;var _2e2=false;if(_2e1){_2e1.id=_2de+"-"+_2df+"-act";if(_2e0){switch(_2e0){case"asAccepted":_2e2=true;break;case"asUnconfirmed":_2e2=false;break;}}_2e1.userColor=this._currentUserColor[_2df];_2e1.end_date=ed;_2e1.start_date=sd;_2e1.confirmed=_2e2;}return _2e1;},_getActivityObjectFromCollection:function(_2e3){var _2e4=null;var br=false;if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_2e3)>-1){_2e4=this._userActivityData[i]["activities"][k];br=true;break;}}}}}if(br){break;}}}return _2e4;},_getAllActivitiesFromCollectionById:function(_2e5){var _2e6=[];if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id.indexOf(_2e5)>-1){_2e6.push(id);}}}}}}}return _2e6;},_removeActivityObjectFromCollection:function(_2e7,_2e8){if(this._userActivityData){if(this._userActivityData[_2e8]!=null){if(this._userActivityData[_2e8]["activities"]){for(var k=0;k<this._userActivityData[_2e8]["activities"].length;k++){if(this._userActivityData[_2e8]["activities"][k]){var id=this._userActivityData[_2e8]["activities"][k]["id"];if(id.indexOf(_2e7)>-1){delete this._userActivityData[_2e8]["activities"][k];break;}}}}}}},_removeActivityObjectFromCollectionByActivityId:function(_2e9){var br=false;if(this._userActivityData){for(var i in this._userActivityData){if(this._userActivityData[i]!=null){if(this._userActivityData[i]["activities"]){for(var k=0;k<this._userActivityData[i]["activities"].length;k++){if(this._userActivityData[i]["activities"][k]){var id=this._userActivityData[i]["activities"][k]["id"];if(id==_2e9){delete this._userActivityData[i]["activities"][k];br=true;break;}}}}}if(br){break;}}}},_getMembersOfActivity:function(_2ea){var _2eb;var _2ec=[];if(this._userActivityData){for(var i in this._selectedUsers){if(this._selectedUsers[i]&&this._selectedUsers[i]["userId"]){var _2ed=this._selectedUsers[i]["userId"].toString();if(this._userActivityData[_2ed]!=null){if(this._userActivityData[_2ed]["activities"]){_2eb=this._userActivityData[_2ed]["activities"].filter(function(_2ee){return _2ee.id.indexOf(_2ea)>-1;});if(_2eb.length>0){_2ec.push(_2ed);}}}}}}return _2ec;},_getWeekStart:function(_2ef,date){if(date==null){date=new Date();}var _2f0=date.getDay();_2f0=_2ef-_2f0;var _2f1=dojo.date.add(date,"day",_2f0);if(_2f1>date){_2f1=dojo.date.add(_2f1,"day",-7);}return _2f1;},_setQueryDates:function(data){var _2f2=data.date.valueOf();switch(data.mode){case"day":case"week":case"workweek":case"month":var _2f3=dojo.date.getDaysInMonth(new Date(_2f2));var _2f4=new Date(new Date(_2f2).setDate(1));_2f4.setHours(0,0,0,0);var _2f5=new Date(new Date(_2f2).setDate(_2f3));_2f5.setHours(0,0,0,0);var _2f6=this._dateAdd(_2f4,"day",-7);var _2f7=this._dateAdd(_2f5,"day",8);this._dateRangeStart=Sage.Utility.Convert.toIsoStringFromDate(_2f6);this._dateRangeEnd=Sage.Utility.Convert.toIsoStringFromDate(_2f7);break;}},_updateDateRange:function(data,_2f8){if(!_2f8&&!this._schedulerLoaded){return;}var _2f9=false;var _2fa=data.date;if(Sage.Utility.Convert.isDateString(_2fa)){_2fa=Sage.Utility.Convert.toDateFromString(_2fa);}_2fa=new Date(_2fa.getFullYear(),_2fa.getMonth(),_2fa.getDate(),_2fa.getHours(),_2fa.getMinutes());if(this._dateRangeStart&&this._dateRangeEnd){var _2fb=this._dateRangeStart;if(Sage.Utility.Convert.isDateString(_2fb)){_2fb=Sage.Utility.Convert.toDateFromString(_2fb);}_2fb=new Date(_2fb.getFullYear(),_2fb.getMonth(),_2fb.getDate(),_2fb.getHours(),_2fb.getMinutes());var _2fc=this._dateRangeEnd;if(Sage.Utility.Convert.isDateString(_2fc)){_2fc=Sage.Utility.Convert.toDateFromString(_2fc);}_2fc=new Date(_2fc.getFullYear(),_2fc.getMonth(),_2fc.getDate(),_2fc.getHours(),_2fc.getMinutes());var _2fd=null;var _2fe=null;switch(data.mode){case"day":if(dojo.date.compare(_2fa,_2fc,"date")>0||(dojo.date.compare(_2fb,_2fa,"date")>0)){_2f9=true;}break;case"week":_2fd=this._formatDateToCompare(data.weekStartDate);_2fe=this._formatDateToCompare(data.weekEndDate);if((dojo.date.compare(_2fd,_2fb,"date")>=0&&dojo.date.compare(_2fc,_2fe,"date")>=0)||(dojo.date.compare(_2fb,_2fd,"date")>=0&&dojo.date.compare(_2fe,_2fc,"date")>=0)){_2f9=false;}else{_2f9=true;}break;case"workweek":_2fd=this._formatDateToCompare(data.workWeekStartDate);_2fe=this._formatDateToCompare(data.workWeekEndDate);if((dojo.date.compare(_2fd,_2fb,"date")>=0&&dojo.date.compare(_2fc,_2fe,"date")>=0)||(dojo.date.compare(_2fb,_2fd,"date")>=0&&dojo.date.compare(_2fe,_2fc,"date")>=0)){_2f9=false;}else{_2f9=true;}break;case"month":_2f9=true;break;}}else{_2f9=true;}if(_2f9){this._setQueryDates(data);this._refreshSchedulerEvents();}},_formatDateToCompare:function(dt){var d=dt;if(Sage.Utility.Convert.isDateString(d)){d=Sage.Utility.Convert.toDateFromString(d);}d=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes());return d;},_updateCalendarUsers:function(_2ff,_300){var idx=dojo.indexOf(this._calendarUsers,_2ff);if(_300==="add"){if(idx!=-1){this._calendarUsers.splice(idx);}this._calendarUsers.push(_2ff);}else{if(_300==="remove"){if(idx!=-1){this._calendarUsers.splice(idx);}}}},_updateReccurring:function(id){if(id){var rId=id.replace("0:","").split(";");var aId=rId[0];if(!this._reccurring[aId]){this._reccurring[aId]=[];}this._reccurring[aId].push(id);}},_dateAdd:function(dt,mode,_301){if(!dt){return"";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _302=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());_302=dojo.date.add(_302,mode,_301);return _302;},_reloadUserCalendars:function(_303){if(this._userActivityData){if(this._userActivityData[_303]!=null){var _304=[];var _305=[];var _306=[];if(this._userActivityData[_303]["activities"]){for(var k=0;k<this._userActivityData[_303]["activities"].length;k++){if(this._userActivityData[_303]["activities"][k]){_304.push(this._userActivityData[_303]["activities"][k]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_304,this]);}if(this._userActivityData[_303]["events"]){for(var l=0;l<this._userActivityData[_303]["events"].length;l++){if(this._userActivityData[_303]["events"][l]){_305.push(this._userActivityData[_303]["events"][l]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_305,this]);}if(this._userActivityData[_303]["history"]){for(var m=0;m<this._userActivityData[_303]["history"].length;m++){if(this._userActivityData[_303]["history"][m]){_306.push(this._userActivityData[_303]["history"][m]["id"]);}}dojo.publish("/entity/activity/clearSchedulerEvents",[_306,this]);}}}},_updateSelectedUsers:function(_307,_308,_309){if(_307){if(this._selectedUsers==null||this._selectedUsers.length==0){this._selectedUsers=lang.clone(_307);}else{var _30a;if(_308){for(var i in _307){_30a=_307[i]["userId"];if(_30a){delete this._selectedUsers[_30a];}}}else{for(var i in _307){_30a=_307[i]["userId"];userColor=_307[i]["usercolor"];if(_30a){this._selectedUsers[_30a]=_307[i];if(this._currentUserId==_30a){this._updateCalendarUsers(_30a.toString(),"add");this._getActivities(_30a.toString(),userColor.toString());this._getEvents(_30a.toString(),userColor.toString());if(_309){this._getHistory(_30a.toString(),userColor.toString());}}else{var _30b={userId:_30a,userColor:userColor};this._getSecurityAccessData(lang.trim(_2ae.getClientContextByKey("userID")),_30a,_30b,function(_30c){this._updateCalendarUsers(_30c.userId.toString(),"add");this._getActivities(_30c.userId.toString(),_30c.userColor.toString());this._getEvents(_30c.userId.toString(),_30c.userColor.toString());if(_309){this._getHistory(_30c.userId.toString(),_30c.userColor.toString());}},this);}}}}}}},_refreshSchedulerEvents:function(){dojo.publish("/entity/activity/clearScheduler",[null,this]);if(this._selectedUsers){var _30d,_30e;var _30f=lang.trim(_2ae.getClientContextByKey("userID"));var _310=false;if(this._selectedUsers[_30f]){_310=this._selectedUsers[_30f]["loadHistoryOnStart"];}for(var i in this._selectedUsers){_30d=this._selectedUsers[i]["userId"];_30e=this._selectedUsers[i]["usercolor"];var _311={userId:_30d,userColor:_30e};if(_30d==_30f){this._getActivities(_30d,_30e);this._getEvents(_30d,_30e);if(_310){this._getHistory(_30d,_30e);}}else{if(_30d){this._getSecurityAccessData(_30f,_30d,_311,function(_312){this._getActivities(_312.userId,_312.userColor);this._getEvents(_312.userId,_312.userColor);if(_310){this._getHistory(_312.userId,_312.userColor);}},this);}}}}this._schedulerLoaded=true;},_removeReccurringFromScheduler:function(_313){if(this._reccurring){var list=this._reccurring[_313];if(list&&list.length>0){dojo.publish("/entity/activity/clearSchedulerEvents",[list,this]);}}},_checkSecurityAccess:function(_314,_315,_316,_317){this.accessData=false;if(!this._accessStore){this._accessStore=new _2ac({include:["$descriptors"],resourceKind:"activityresourceviews",service:_2ad.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_315+"-"+_314+"'",onComplete:function(_318){_316.call(_317,_318);},onError:function(){_316.call(_317,null);},scope:this});},_getSecurityAccessData:function(_319,_31a,_31b,_31c,_31d){if(this._selectedUsers[_31a]&&this._selectedUsers[_31a]["access"]){_31c.call(_31d,_31b);}else{this._checkSecurityAccess(_319,_31a,function(_31e){if(_31e){this._selectedUsers[_31a]["access"]=[];this._selectedUsers[_31a]["access"].allowAdd=_31e.AllowAdd;this._selectedUsers[_31a]["access"].allowEdit=_31e.AllowEdit;this._selectedUsers[_31a]["access"].allowDelete=_31e.AllowDelete;}_31c.call(_31d,_31b);},this);}},_reloadAllActivitiesByActivityId:function(_31f){if(!this.allActivitiesStore){this.allActivitiesStore=_2ab({service:_2ad.getSDataService("system"),resourceKind:"activities",include:["$descriptors,UserInfo"],select:["$key","Alarm","AlarmTime","Status","AccountId","AccountName","ActivityId","ContactId","ContactName","Description","Duration","LeadId","LeadName","OpportunityId","OpportunityName","TicketId","Recurring","StartDate","Timeless","Type","Priority","Notes","Phonenumber","Location","AllowEdit","Leader/Userinfo/UserName","Useractivities/status","Useractivities/User/$key"],sort:[{attribute:"StartDate",descending:true}]});}this.allActivitiesStore.fetch({query:_2b0.substitute("Id eq '${0}' and not Timeless and UserActivities.Status ne 'asDeclned'",[_31f]),count:80,start:0,onComplete:this._onallActivitiesRequestComplete,scope:this});},_onallActivitiesRequestComplete:function(_320){dojo.require("Sage.Utility");dojo.require("dojo.date.locale");if(_320!=null&&_320!=undefined){this._schedulerEventsx=[];var _321=null;for(var i=0;i<_320.length;i++){var _322={};if(!_320[i].Timeless){if(_320[i]["UserActivities"]){var _323=_320[i]["UserActivities"]["$resources"];if(_323&&_323.length>0){for(var j=0;j<_323.length;j++){_321=_323[j]["User"]["$key"];_321=lang.trim(_321);if(this._isUserSelected(_321)&&_323[j]["Status"]!="asDeclned"){_322=this._formatActivityObject(_320[i],_321,_323[j]["Status"]);if(_322){this._schedulerEventsx.push(_322);this._updateUserActivityDataCollection(_321,_322,true);}}}}}else{if(_320[i]["Leader"]){_321=_320[i]["Leader"]["$key"];_321=lang.trim(_321);_322=this._formatActivityObject(_320[i],_321);this._schedulerEventsx.push(_322);this._updateUserActivityDataCollection(_321,_322,true);}}}}dojo.publish("/entity/activity/loadScheduler",[dojo.clone(this._schedulerEventsx),this]);}},_getActivities:function(_324,_325,_326,_327){if(_324==null){_324=_2ae.getClientContextByKey("userID");}_324=lang.trim(_324);self._currentUser=_324;if(_325==null||_325==undefined){_325="user1";}this._currentUserColor[_324]=_325;if(!this.activitiesStore){this.activitiesStore=_2ab({service:_2ad.getSDataService("system"),resourceKind:"activities",include:["$descriptors"],select:["Alarm","AlarmTime","Attachment","Status","AccountId","AccountName","ActivityId","ContactId","ContactName","Description","Duration","LeadId","LeadName","OpportunityId","OpportunityName","TicketId","Recurring","StartDate","Timeless","Type","Priority","Notes","Phonenumber","Location","AllowEdit","AllowDelete","Leader/Userinfo/UserName","UserActivities","UserActivities/User","UserActivities/Status"],sort:[{attribute:"StartDate"}]});}_327=_327||100;_326=_326||1;var _328={"me":this,"userId":_324,"start":_326,"count":_327,"color":_325};this.activitiesStore.fetch({query:_2b0.substitute("UserActivities.UserId eq '${0}' and not Timeless and UserActivities.Status ne 'asDeclned' and StartDate gt @${1}@ and StartDate lt @${2}@",[_324,this._dateRangeStart,this._dateRangeEnd]),onComplete:this._onActivitiesRequestComplete,onBegin:this._onActivitiesRequestBegin,scope:_328,count:_327,start:_326});},_onActivitiesRequestBegin:function(_329,_32a){var _32b=_32a.scope.me;var _32c=_32a.scope.userId;var _32d=_32a.scope.count;var _32e=_32a.scope.start;var _32f=_32a.scope.color;if(_329>100&&_329>(_32e+_32d)){if(_329<=300&&_32e==1){_32b._getActivities(_32c,_32f,(_32e+_32d)-1,_329);}else{_32e=_32e==1?(_32e+_32d)-1:_32e+_32d;_32b._getActivities(_32c,_32f,_32e,100);}}},_getEvents:function(_330,_331){if(_330==null){_330=_2ae.getClientContextByKey("userID");}_330=lang.trim(_330);this._currentUserColor[_330]=_331;if(!this.eventsStore){this.eventsStore=_2ab({service:_2ad.getSDataService("dynamic"),resourceKind:"events",include:[],select:["Type","StartDate","EndDate","Location","Description","User"],sort:[{attribute:"StartDate",descending:true}]});}this.eventsStore.fetch({query:{conditions:_2b0.substitute("UserId eq '${0}' and StartDate gt @${1}@ and StartDate lt @${2}@",[_330,this._dateRangeStart,this._dateRangeEnd])},onComplete:this._onEventsRequestComplete,scope:this});},_getHistory:function(_332,_333,_334,_335){if(_332==null){_332=_2ae.getClientContextByKey("userID");}this._currentUserColor[_332]=_333;_335=_335||100;_334=_334||1;if(!this.historyActivitiesStore){this.historyActivitiesStore=_2ab({service:_2ad.getSDataService("dynamic"),resourceKind:"history",include:["History"],select:["$key","UserId","ActivityId","AccountName","Category","CompletedDate","ContactId","ContactName","Description","Duration","LeadId","LeadName","LongNotes","Notes","OpportunityId","OpportunityName","Priority","Timeless","Type","Location","StartDate","EndDate"],sort:[{attribute:"StartDate"}]});}var _336={"me":this,"userId":_332,"start":_334,"count":_335,"color":_333};this.historyActivitiesStore.fetch({query:_2b0.substitute("UserId eq '${0}' and not Timeless and StartDate gt @${1}@ and StartDate lt @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[_332,this._dateRangeStart,this._dateRangeEnd]),onComplete:this._onHistoryRequestComplete,onBegin:this._onHistoryRequestBegin,scope:_336,count:_335,start:_334});},_onHistoryRequestBegin:function(_337,_338){var _339=_338.scope.me;var _33a=_338.scope.userId;var _33b=_338.scope.count;var _33c=_338.scope.start;var _33d=_338.scope.color;if(_337>100&&_337>(_33c+_33b)){if(_337<=300&&_33c==1){_339._getHistory(_33a,_33d,(_33c+_33b)-1,_337);}else{_33c=_33c==1?(_33c+_33b)-1:_33c+_33b;_339._getHistory(_33a,_33d,_33c,100);}}},_getHistoryItem:function(_33e){if(!this._historyStore){this._historyStore=new _2ac({include:[],resourceKind:"history",service:_2ad.getSDataService("dynamic")});}this._historyStore.fetch({predicate:'"'+_33e+'"',onComplete:this._receivedHistoryItem,scope:this});},_receivedHistoryItem:function(_33f){var _340;var _341=lang.trim(_2ae.getClientContextByKey("userID"));if(_33f!=null&&_33f!=undefined){_340=_33f.UserId;if(this._selectedUsers[_340]){var _342=false;if(this._selectedUsers[_340]){_342=this._selectedUsers[_340]["loadHistoryOnStart"];}if(_342){var _343={};_343=this._formatHistoryObject(_340,_33f,_341);if(!this._isEmptyObject(_343)){if(!this._userActivityData[_340]){this._userActivityData[_340]={};}if(!this._userActivityData[_340]["history"]){this._userActivityData[_340]["history"]=[];}this._userActivityData[_340]["history"].push(_343);dojo.publish("/entity/activity/addToScheduler",[dojo.clone(_343),this]);}}}}},iframeRef:function(_344){return _344.contentWindow?_344.contentWindow.document:_344.contentDocument;},_getActivityUserId:function(_345){var uId=null;if(_345){var _346=_345.split(";");if(_346&&_346.length>1){uId=_346[1].split("=")[1];}}return uId;},_getAccessData:function(_347,_348){var _349=false;if(this._selectedUsers&&this._selectedUsers[_347]&&this._selectedUsers[_347]["access"]){switch(_348){case"allowAdd":_349=this._selectedUsers[_347]["access"]["allowAdd"];break;case"allowEdit":_349=this._selectedUsers[_347]["access"]["allowEdit"];break;case"allowDelete":_349=this._selectedUsers[_347]["access"]["allowDelete"];break;}}return _349;},_formatActivityObject:function(_34a,_34b,_34c,_34d){var _34e,_34f,text,_350;var _351={};var _352=false;if(!_34d){_34d=lang.trim(_2ae.getClientContextByKey("userID"));}if(_34b===lang.trim(_34d)){_352=true;}if(_34a!=null){if(_352){_351.id="0:";_351.id+=_34a.$key;}else{_351.id=_34a.$key;}_351.currentUser=_352;_351.id+="-"+_34b;_351.id+="-act";_351.type="userActivity";_351.subType=_34a.Type;_34e=_34a.StartDate;text=_34a.ContactName;_351.text=(text==null)?"":text;_351.timeless=_34a.Timeless;_351.alarm=_34a.Alarm;if(_34a["Leader"]){_351.leaderUserId=_34a["Leader"]["$key"];}_351.alarmTime=Sage.Utility.Convert.toDateFromString(_34a.AlarmTime);_351.duration=_34a.Duration;_351.description=_34a.Description;_351.contactId=_34a.ContactId;_351.contactName=_34a.ContactName;_351.accountId=_34a.AccountId;_351.accountName=_34a.AccountName;_351.leadId=_34a.LeadId;_351.leadName=_34a.LeadName;_351.regarding=_34a.Description;_351.priority=_34a.Priority;_351.notes=_34a.Notes;_351.phoneNumber=_34a.PhoneNumber;_351.opportunityId=_34a.OpportunityId;_351.opportunity=_34a.OpportunityName;_351.recurring=_34a.$key.indexOf(";")>0?true:false;if(_352){_351.allowDelete=true;_351.allowEdit=_34a.AllowEdit;}else{_351.allowDelete=this._getAccessData(_34b,"allowDelete");_351.allowEdit=this._getAccessData(_34b,"allowEdit");}_351.ticketId=_34a.TicketId;if(_351.recurring){this._updateReccurring(_351.id);}_351.attachment=_34a.Attachment;_351.location=_34a.Location;switch(_34a.Type.toUpperCase()){case"ATTODO":_350=this.toDoIconUrl;break;case"ATAPPOINTMENT":_350=this.meetingIconUrl;break;case"ATPHONECALL":_350=this.phoneCallIconUrl;break;case"ATPERSONAL":_350=this.personalActivityIconUrl;break;}_351.iconSrc=_350;_351.userColor=this._currentUserColor[_34b];var _353=true;if(_34c){switch(_34c){case"asAccepted":_353=true;break;case"asUnconfirmed":_353=false;break;}}_351.confirmed=_353;_351.start_date=_2ae.Activity.formatActivityStartDateForCalendar(_34a.StartDate);_351.end_date=_2ae.Activity.formatActivityEndDateForCalendar(_34a.StartDate,_351.duration);if(_351.alarmTime){_351.alarmMinutesBefore=dojo.date.difference(Sage.Utility.Convert.toDateFromString(_34a.StartDate),_351.alarmTime,"minute");}if(Sage.Utility.Convert.isDateString(_34a.StartDate)){_34a.StartDate=Sage.Utility.Convert.toDateFromString(_34a.StartDate);}var _354=new Date(_34a.StartDate.getFullYear(),_34a.StartDate.getMonth(),_34a.StartDate.getDate(),_34a.StartDate.getHours(),_34a.StartDate.getMinutes());var _355=dojo.date.add(_354,"minute",_351.duration);if(dojo.date.compare(_355,_354,"date")>0){_351.endsAfterMidnight=true;_351.actualEndDate=_355;}}return _351;},_formatEventObject:function(_356,_357){var _358={};if(_356!=null){_358.id=_356.$key;_358.id+="-evt";_358.type="event";_358.subType=_356.Type;_358.description=_356.Description;_358.location=_356.Location;_358.text=_356.Type;_358.userColor=this._currentUserColor[_357];_358.start_date=_2ae.Activity.formatEventDateForCalendar(_356.StartDate,"MM/d/yy 0:00");_358.end_date=_2ae.Activity.formatEventDateForCalendar(_356.EndDate,"MM/d/yy 24:00");}return _358;},_updateUserActivityDataCollection:function(_359,_35a,_35b){if(!this._userActivityData[_359]){this._userActivityData[_359]=[];}if(!this._userActivityData[_359]["activities"]){this._userActivityData[_359]["activities"]=[];}else{if(_35b){try{this._userActivityData[_359]["activities"].removeByAttr("id",_35a.id);}catch(ex){}}}this._userActivityData[_359]["activities"].push(_35a);},_onActivitiesRequestComplete:function(_35c,_35d){var _35e=_35d.scope.userId;var _35f=_35d.scope.me;if(_35c!=null&&_35c!=undefined){_35f._schedulerEvents=[];var _360=null;var _361=null;var _362=_2ae.getClientContextByKey("userID");for(var i=0;i<_35c.length;i++){var _363={};if(!_35c[i].Timeless){if(_35c[i]["UserActivities"]){if(_35c[i]["UserActivities"]["$resources"]){for(var j=0;j<_35c[i]["UserActivities"]["$resources"].length;j++){if(_35c[i]["UserActivities"]["$resources"][j]["User"]){if(_35e==_35c[i]["UserActivities"]["$resources"][j]["User"]["$key"]){_360=_35c[i]["UserActivities"]["$resources"][j]["User"]["$key"];_360=lang.trim(_360);_361=_35c[i]["UserActivities"]["$resources"][j]["Status"];_363=_35f._formatActivityObject(_35c[i],_360,_361,_362);_35f._updateUserActivityDataCollection(_360,_363);}}}}}else{if(_35c[i]["Leader"]){_360=_35c[i]["Leader"]["$key"];_360=lang.trim(_360);_363=_35f._formatActivityObject(_35c[i],_360,null,_362);_35f._updateUserActivityDataCollection(_360,_363);_360=null;}}}if(!_35f._isEmptyObject(_363)){_35f._schedulerEvents.push(_363);}}dojo.publish("/entity/activity/loadScheduler",[dojo.clone(_35f._schedulerEvents),_35f]);}},_onEventsRequestComplete:function(_364){dojo.require("Sage.Utility");dojo.require("dojo.date.locale");if(_364!=null&&_364!=undefined){this._schedulerEvents1=[];var _365=null;for(var i=0;i<_364.length;i++){var _366={};if(!_365){_365=_364[i]["User"]["$key"];}_365=lang.trim(_365);_366=this._formatEventObject(_364[i],_365);if(_366){this._schedulerEvents1.push(_366);}}if(!this._userActivityData[_365]){this._userActivityData[_365]={};}this._userActivityData[_365]["events"]=this._schedulerEvents1;dojo.publish("/entity/activity/loadScheduler",[dojo.clone(this._schedulerEvents1),this]);}},_formatHistoryObject:function(_367,_368,_369){var _36a={};var _36b="";var text;_367=lang.trim(_367);if(!_368.Timeless){if(_367==lang.trim(_369)){_36a.id="0:";_36a.id+=_368.$key;}else{_36a.id=_368.$key;}_36a.id+="-"+_367;_36a.id+="-hist";_36a.type="userHistoryActivity";_36a.activityId=_368.ActivityId;_36a.subType=_368.Type;text=_368.ContactName;_36a.text=(text==null)?"":text;_36a.timeless=_368.Timeless;_36a.duration=_368.Duration;_36a.description=_368.Description;_36a.contactName=_368.ContactName;_36a.accountName=_368.AccountName;_36a.leadName=_368.LeadName;_36a.regarding=_368.Description;_36a.priority=_368.Priority;_36a.notes=_368.Notes;_36a.location=_368.Location;_36a.opportunity=_368.OpportunityName;_36a.userColor=this._currentUserColor[_367];_36a.confirmed=true;switch(_368.Type.toUpperCase()){case"ATTODO":_36b=this.toDoIconUrl;break;case"ATAPPOINTMENT":_36b=this.meetingIconUrl;break;case"ATPHONECALL":_36b=this.phoneCallIconUrl;break;case"ATPERSONALACTIVITY":_36b=this.personalActivityIconUrl;break;}_36a.iconSrc=_36b;_36a.start_date=_2ae.Activity.formatActivityEndDateForCalendar(_368.CompletedDate,_36a.duration*-1);_36a.end_date=_2ae.Activity.formatActivityStartDateForCalendar(_368.CompletedDate);}return _36a;},_onHistoryRequestComplete:function(_36c,_36d){if(_36c!=null&&_36c!=undefined){var _36e=_36d.scope.userId;var _36f=_36d.scope.me;var _370=[];var text;var _371=null;var _372=lang.trim(_2ae.getClientContextByKey("userID"));for(var i=0;i<_36c.length;i++){var _373={};_371=_36c[i].UserId;_373=_36f._formatHistoryObject(_371,_36c[i],_372);if(!_36f._isEmptyObject(_373)){_370.push(_373);}}if(_371!=null){if(!_36f._userActivityData[_371]){_36f._userActivityData[_371]={};}_36f._userActivityData[_371]["history"]=_370;dojo.publish("/entity/activity/loadScheduler",[dojo.clone(_370),_36f]);}}},_getEventColorByUser:function(_374){var _375="#d5e2bd";for(var i=0;i<this._calendarUsers.length;i++){if(this._calendarUsers[i].userId==_374){_375=this._calendarUsers[i].eventColor;}}return _375;},_isEmptyObject:function(obj){for(var i in obj){return false;}return true;}});return _2b3;});},"Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager":function(){define("Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_376,_377,_378,lang){var _379=_378("Sage.MainView.ReportMgr.ReportsSDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_37a){lang.mixin(this,_37a);this.requestHash={};this.fetching=false;this.service=Sage.Data.SDataServiceRegistry.getSDataService("system");},add:function(_37b,_37c){var _37d=this.requestHash[_37b];if((_37d)&&(_37d.id!==_37c.id)){if(!_37d.duplicates){_37d.duplicates=[];}var _37e=false;for(var i=0;i<_37d.duplicates.length;i++){if(_37d.duplicates[i].context.id===_37c.id){_37e=true;}}if(!_37e){_37d.duplicates.push({id:_37c.id,context:_37c});}}else{this.requestHash[_37b]=_37c;}},send:function(_37f,_380){this.fetching=true;var _381=this;var _382=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_382.setResourceKind(this.resourceKind);for(var id in this.requestHash){_382.setResourceSelector("'"+id+"'");}_382.setQueryArg("include",this.include.join(","));_382.read({success:lang.hitch(_380,_37f,_381),failure:lang.hitch(this,this.requestFailed,_381)});},requestFailed:function(a,b,c){console.error("Request failed %o %o %o",a,b,c);}});var _383=_378("Sage.MainView.ReportMgr.ReportsSDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _379();this.requestTimeout=false;},requestDataNoWait:function(_384,_385,_386){var _387=new _379();if(_386.keyField){this.keyField=_386.keyField;}_387.select=_386.select;_387.resourceKind=_386.resourceKind;_387.serviceName=_386.serviceName;_387.include=_386.include;_387.useBatchRequest=_386.useBatchRequest;if(_386.expandRecurrences!==null){_387.expandRecurrences=_386.expandRecurrences;}_387.add(_384,_385);_387.send(this.receiveData,this);},receiveData:function(_388,data){var _389=data;var id=_389.id;if(!id){id=_389[this.keyField];_389.id=id;}var _38a=_388.requestHash[_389.id];if(_38a){try{if(!_38a.applied){_38a.applied=true;_38a.set("entity",_389);}}catch(err){console.error(err);}}}});return _383;});},"Sage/Utility/File/Attachment":function(){define("Sage/Utility/File/Attachment",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility","Sage/Utility/File/DescriptionsForm","dojo/i18n","dojo/i18n!./nls/Attachment"],function(_38b,_38c,_38d,_38e,_38f,_390,_391,_392,i18n){Sage.namespace("Utility.File.Attachment");Sage.Utility.File.Attachment={uploadingAttachments:"Uploading attachments",uploadCompleted:"Completed",uploadingPleaseWait:"Uploading, please wait...",uploadFailed:"Upload failed.",_store:false,_totalProgress:0,_attachmentTemplate:false,_mixinsByName:{},_files:[],_fileCount:0,_filesUploadedCount:0,_isUploading:false,_descriptionsForm:false,_uploadUrl:"slxdata.ashx/slx/system/-/attachments/file",createAttachments:function(_393){var _394="";if(Sage.Services.hasService("ClientEntityContext")){var _395=Sage.Services.getService("ClientEntityContext");var _396=_395.getContext();_394=_396.Description||"";}this._ensureDescriptionsForm();this._descriptionsForm.set("entityDesc",_394);this._descriptionsForm.set("files",_393);this._descriptionsForm.show();},createAttachmentSilent:function(file,_397){if(!_397.hasOwnProperty("description")){_397["description"]=this.getDefaultDescription(file.name);}this._mixinsByName[file.name]=_38f.mixin(_397,{attachDate:_391.Convert.toIsoStringFromDate(new Date()),dataType:"R"});this._files.push(file);if(!this._attachmentTemplate){this.getAttachmentTemplate(this.uploadFiles,this);}else{this.uploadFiles();}},handleDescriptions:function(_398,_399){var _39a="";var id="";this.getKnownRelationships(function(rels){var _39b=_38f.mixin(rels,{attachDate:_391.Convert.toIsoStringFromDate(new Date()),dataType:"R",user:{"$key":_391.getClientContextByKey("userID")||""}});for(var i=0;i<_399.length;i++){_399[i][_39a]=id;this._mixinsByName[_399[i].fileName]=_38f.mixin(_399[i],_39b);}for(i=0;i<_398.length;i++){this._files.push(_398[i]);}if(!this._attachmentTemplate){this.getAttachmentTemplate(this.uploadFiles,this);}else{this.uploadFiles();}},this);},uploadFiles:function(_39c){this._isUploading=true;this._fileCount=this._files.length;if(_39c&&!this._attachmentTemplate){this._attachmentTemplate=_39c;}while(this._files.length>0){var file=this._files.pop();Sage.Utility.File.uploadFile(file,this._uploadUrl,this._updateProgress,this._successUpload,this._failAdd,this);}},_successUpload:function(_39d){var url=_39d.getResponseHeader("Location");var re=/\'\w+\'/g;var _39e=url.match(re);if(_39e){var id=_39e[0].replace(/\'/g,"");var _39f=new _38b({resourceKind:"attachments",service:_38c.getSDataService("system")});_39f.fetch({predicate:'"'+id+'"',onComplete:function(_3a0){var _3a1=this._mixinsByName[_3a0.fileName];if(_3a1){_3a0=_38f.mixin(_3a0,_3a1);_39f.save({scope:this,success:this._successAddEntity,failure:this._failAdd});}delete (this._mixinsByName[_3a0.fileName]);},beforeRequest:function(req){req.setQueryArg("_includeFile","false");},onError:this._failAdd,scope:this});}this._filesUploadedCount=this._filesUploadedCount+1;this._updateProgress((this._fileCount<1)?100:(this._filesUploadedCount/this._fileCount)*100);},_successAddEntity:function(_3a2){dojo.publish("/entity/attachment/create",_3a2);},getAttachment:function(id){if(id&&id.length===12){window.open("slxdata.ashx/slx/system/-/attachments('"+id+"')/file","file");}},getAttachmentTemplate:function(_3a3,_3a4){_38d.Attachment._createStore();_38d.Attachment._store.newItem({onComplete:_3a3,scope:_3a4||this});},getDefaultDescription:function(_3a5){this._ensureDescriptionsForm();return this._descriptionsForm.getDefaultDescription(_3a5);},_createStore:function(){if(!_38d.Attachment._store){_38d.Attachment._store=new _38b({resourceKind:"attachments",service:_38c.getSDataService("system")});}},_updateProgress:function(_3a6){var self;var pct=this._totalProgress;if(_3a6&&_3a6.lengthComputable){var _3a7=(_3a6.loaded/_3a6.total)*100;pct+=Math.round(_3a7/this._fileCount);}else{if(_3a6){pct=_3a6;}}this._totalProgress=pct;if(pct<99){_38e.showProgressBar({pct:pct,title:this.uploadingAttachments,message:this.uploadingPleaseWait,showmessage:true});}else{_38e.showProgressBar({pct:pct,message:this.uploadCompleted,showmessage:true});self=this;window.setTimeout(function(){_38e.closeProgressBar();},1000);this._resetCounts();}},_resetCounts:function(){this._fileCount=0;this._filesUploadedCount=0;this._isUploading=false;this._totalProgress=0;},_failAdd:function(resp){_38e.showProgressBar({title:this.uploadingAttachments,message:this.uploadFailed,showmessage:true});},_successUpdate:function(_3a8){dojo.publish("/entity/attachment/update",_3a8);},_ensureDescriptionsForm:function(){if(!this._descriptionsForm){this._descriptionsForm=new _392({entityDesc:"",files:this._files||[]});dojo.connect(this._descriptionsForm,"onDescriptionsEntered",this,"handleDescriptions");}},getKnownRelationships:function(_3a9,_3aa,_3ab){var _3ac={};if(Sage.Services.hasService("ClientEntityContext")){var _3ad=Sage.Services.getService("ClientEntityContext");var _3ae=_3ad.getContext();var _3af=_3ae.EntityType.split(".");var _3b0=_3af[_3af.length-1];if(_3ae.EntityId!==""){var id=_3ae.EntityId;switch(_3b0){case"IContact":this._getContactRelationships(id,_3a9,_3aa);return;case"IOpportunity":this._getOpportunityRelationships(id,_3a9,_3aa);return;case"ITicket":this._getTicketRelationships(id,_3a9,_3aa);return;case"ISalesOrder":this._getSalesOrderRelationships(id,_3a9,_3aa);return;case"IActivity":this._getActivityRelationships(id,_3a9,_3aa);return;case"IHistory":this._getHistoryRelationships(id,_3a9,_3aa);return;case"IContract":this._getContractRelationships(id,_3a9,_3aa);return;case"IReturn":this._getReturnRelationships(id,_3a9,_3aa);return;}var _3b1=_3ae.EntityTableName.toLowerCase()+"Id";_3ac[_3b1]=id;_3a9.call(_3aa||this,_3ac);return;}else{if(_3b0==="IActivity"&&_3ab){this._getInsertActivityRelationships(_3a9,_3aa);return;}else{if(_3b0==="IHistory"&&_3ab){this._getInsertHistoryRelationships(_3a9,_3aa);return;}}}}_3a9.call(_3aa||this,{});},_getRequest:function(_3b2,id){var req=new Sage.SData.Client.SDataSingleResourceRequest(_38c.getSDataService("dynamic"));req.setResourceKind(_3b2);req.setResourceSelector('"'+id+'"');req.setQueryArg("precedence","0");return req;},_getContactRelationships:function(id,_3b3,_3b4){var req=this._getRequest("contacts",id);req.setQueryArg("include","Account");req.read({success:function(_3b5){var obj={accountId:_391.getValue(_3b5,"Account.$key"),contactId:_3b5.$key};_3b3.call(_3b4||this,obj);},failure:function(){_3b3.call(_3b4||this,{"contactId":id});},scope:this});},_getOpportunityRelationships:function(id,_3b6,_3b7){var req=this._getRequest("opportunities",id);req.setQueryArg("include","Account,Contacts");req.setQueryArg("select","Contacts/IsPrimary,Account/Id");req.read({success:function(opp){var obj={accountId:_391.getValue(opp,"Account.$key"),opportunityId:opp.$key};var _3b8="";var _3b9=opp.Contacts.$resources;if(_3b9.length>0){_3b8=_3b9[0].$key;}for(var i=0;i<_3b9.length;i++){if(_3b9[i].IsPrimary){_3b8=_3b9[i].$key;}}obj["contactId"]=_3b8;_3b6.call(_3b7||this,obj);},failure:function(){_3b6.call(_3b7||this,{"opportunityId":id});},scope:this});},_getSalesOrderRelationships:function(id,_3ba,_3bb){var req=this._getRequest("salesorders",id);req.setQueryArg("include","Account");req.read({success:function(so){var obj={accountId:_391.getValue(so,"Account.$key"),salesOrderId:so.$key};_3ba.call(_3bb||this,obj);},failure:function(){_3ba.call(_3bb||this,{"salesOrderId":id});},scope:this});},_getTicketRelationships:function(id,_3bc,_3bd){var req=this._getRequest("tickets",id);req.setQueryArg("include","Account,Contact");req.read({success:function(_3be){var obj={accountId:_391.getValue(_3be,"Account.$key"),ticketId:_3be.$key,contactId:_391.getValue(_3be,"Contact.$key")};_3bc.call(_3bd||this,obj);},failure:function(){_3bc.call(_3bd||this,{"ticketId":id});},scope:this});},_getReturnRelationships:function(id,_3bf,_3c0){var req=this._getRequest("returns",id);req.setQueryArg("include","Account,Contact,Ticket");req.read({success:function(rma){var obj={returnId:rma.$key,accountId:_391.getValue(rma,"Account.$key"),ticketId:_391.getValue(rma,"Ticket.$key"),contactId:_391.getValue(rma,"Contact.$key")};_3bf.call(_3c0||this,obj);},failure:function(){_3bf.call(_3c0||this,{returnId:id});},scope:this});},_getActivityRelationships:function(id,_3c1,_3c2){var req=this._getRequest("activities",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_3c3){var obj={accountId:_391.getValue(_3c3,"AccountId"),activityId:_3c3.$key,contactId:_391.getValue(_3c3,"ContactId"),leadId:_391.getValue(_3c3,"LeadId"),opportunityId:_391.getValue(_3c3,"OpportunityId"),ticketId:_391.getValue(_3c3,"TicketId")};_3c1.call(_3c2||this,obj);},failure:function(){_3c1.call(_3c2||this,{"activityId":id});},scope:this});},_getInsertActivityRelationships:function(_3c4,_3c5){var ed=dijit.byId("activityEditor");if(ed){var obj=ed.getRelationshipsForAttachments();_3c4.call(_3c5||this,obj);return;}_3c4.call(_3c5||this,{"activityId":""});},_getHistoryRelationships:function(id,_3c6,_3c7){var req=this._getRequest("history",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_3c8){var obj={accountId:_391.getValue(_3c8,"AccountId"),historyId:_3c8.$key,contactId:_391.getValue(_3c8,"ContactId"),leadId:_391.getValue(_3c8,"LeadId"),opportunityId:_391.getValue(_3c8,"OpportunityId"),ticketId:_391.getValue(_3c8,"TicketId")};_3c6.call(_3c7||this,obj);},failure:function(){_3c6.call(_3c7||this,{"historyId":id});},scope:this});},_getInsertHistoryRelationships:function(_3c9,_3ca){var ed=dijit.byId("historyEditor");if(ed){var obj=ed.getRelationshipsForAttachments();_3c9.call(_3ca||this,obj);return;}_3c9.call(_3ca||this,{"historyId":""});},_getContractRelationships:function(id,_3cb,_3cc){var req=this._getRequest("contracts",id);req.setQueryArg("include","Account,Contact");req.read({success:function(_3cd){var obj={accountId:_391.getValue(_3cd,"Account.$key"),contractId:_3cd.$key,contactId:_391.getValue(_3cd,"Contact.$key")};_3cb.call(_3cc||this,obj);},failure:function(){_3cb.call(_3cc||this,{"ticketId":id});},scope:this});},remoteRequestAttachment:function(_3ce){var _3cf={"$name":"RequestAttachment","request":{"entity":{"$key":_3ce},AttachmentId:_3ce}};var _3d0=new Sage.SData.Client.SDataServiceOperationRequest(_38c.getSDataService("system")).setResourceKind("attachments").setOperationName("RequestAttachment");_3d0.execute(_3cf,{success:function(_3d1){dojo.publish("/entity/attachment/requested",_3d1);}});}};Sage.Utility.File.Attachment=dojo.mixin(Sage.Utility.File.Attachment,i18n.getLocalization("Sage.Utility.File","Attachment"));return Sage.Utility.File.Attachment;});},"Sage/QuickForms/Design/main":function(){define("Sage/QuickForms/Design/main",["Sage/QuickForms/Design/CheckBoxControlDesigner","Sage/QuickForms/Design/ColumnDesigner","Sage/QuickForms/Design/ComboBoxControlDesigner","Sage/QuickForms/Design/ControlDesigner","Sage/QuickForms/Design/ControlDesignerRegistry","Sage/QuickForms/Design/CurrencyControlDesigner","Sage/QuickForms/Design/DataGridControlDesigner","Sage/QuickForms/Design/DataSourceDesigner","Sage/QuickForms/Design/DataSourcePanel","Sage/QuickForms/Design/DateTimePickerControlDesigner","Sage/QuickForms/Design/DesignPanel","Sage/QuickForms/Design/DesignSurface","Sage/QuickForms/Design/EmailControlDesigner","Sage/QuickForms/Design/FormDesigner","Sage/QuickForms/Design/GenericControlDesigner","Sage/QuickForms/Design/Help","Sage/QuickForms/Design/HiddenControlDesigner","Sage/QuickForms/Design/NonVisibleControlContainer","Sage/QuickForms/Design/NumericControlDesigner","Sage/QuickForms/Design/OwnerControlDesigner","Sage/QuickForms/Design/PhoneControlDesigner","Sage/QuickForms/Design/PickListControlDesigner","Sage/QuickForms/Design/PropertyEditorContainer","Sage/QuickForms/Design/PropertyValueError","Sage/QuickForms/Design/RowDesigner","Sage/QuickForms/Design/TextBoxControlDesigner","Sage/QuickForms/Design/UrlControlDesigner","Sage/QuickForms/Design/UserControlDesigner","Sage/QuickForms/Design/EditableGridControlDesigner"],function(){});},"Sage/MainView/IntegrationContract/SalesQuoteRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/SalesQuoteRTDV.html":'[\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="{%= $.id%}_salesQuoteDetailsDialog" title="{%= $.dialogCaption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:hideDetailsDialog">\',\r\n        \'<div dojoAttachPoint="loadingContainer">\',\r\n            \'<br />\',\r\n            \'<label class="wizardsectiontitle boldText padBottom" style="padding-left:20px">{%= $.loadingText %}</label>\',\r\n            \'<br />\',\r\n            \'<br />\',\r\n        \'</div>\',\r\n        \'<table cellspacing="5" dojoAttachPoint="salesQuoteDetails" border="0" width="100%" class="display-none">\',\n            \'<div>\',\r\n                \'<tr>\',\n\t\t\t        \'<td>\',\r\n\t\t\t             \'<label for="SalesQuote_reference">{%= $.lblSalesQuoteCaption %}</label>\',\r\n\t\t\t        \'</td>\',\r\n                    \'<td>\',\r\n                        \'<input type="text" id="{%= $.id%}_reference" name="reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesQuote_status">{%= $.lblStatusCaption %}</label>\',\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_status" name="status" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesQuote_grossTotal">{%= $.lblGrossTotalCaption %}</label>\',\r\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_grossTotal" name="grossTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</div>\',\r\n        \'</table>\',\r\n        \'<div style="height:370px;width:800px" dojoAttachPoint="tabContentDetails" class="display-none">\',\r\n            \'<div id="{%= $.id%}_salesQuoteContainer" dojoAttachPoint="salesQuoteContainer" dojoType="dijit.layout.TabContainer" style="width:100%;height:100%;">\',\r\n                \'<div id="{%= $.id%}_salesQuoteContent" dojoAttachPoint="salesQuoteContent" dojoType="dijit.layout.ContentPane" title="{%= $.detailsTabTitle %}" selected="true" style="width:100%;height:100%;">\',\r\n                    \'<div id="{%= $.id%}_divDetails">\',\r\n                        \'<table cellspacing="5">\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<tr>\',\r\n                                \'<td>\',\r\n                                    \'<label for="SalesQuote_QuoteDate">{%= $.lblQuoteDateCaption %}</label>\',\r\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_QuoteDate" name="date" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<label for="SalesQuote_TaxTotal">{%= $.lblTaxTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_TaxTotal" name="taxTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\r\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesQuote_HoldStatus">{%= $.lblHoldStatusCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_HoldStatus" name="statusFlagText" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Currency">{%= $.lblCurrencyCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Currency" name="currency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Type">{%= $.lblTypeCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Type" name="type" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesQuote_CostTotal">{%= $.lblCostTotalCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_CostTotal" name="costTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_PONumber">{%= $.lblPONumberCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PONumber" name="customerReference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_ProfitTotal">{%= $.lblProfitTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ProfitTotal" name="profitTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Quotation">{%= $.lblQuotationCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Quotation" name="quotation.reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_InvoiceStatus">{%= $.lblInvoiceStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_InvoiceStatus" name="invoiceStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Contact">{%= $.lblContactCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Contact" name="buyerContact.fullName" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DeliveryDate">{%= $.lblDeliveryDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryDate" name="deliveryDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_PriceList">{%= $.lblPriceListCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PriceList" name="pricelist.name" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DueDate">{%= $.lblDueDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DueDate" name="dueDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_NetTotal">{%= $.lblNetTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_NetTotal" name="netTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Carrier">{%= $.lblCarrierCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Carrier" name="carrierCompany" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DiscountTotal">{%= $.lblDiscountTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DiscountTotal" name="discountTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_AllocationStatus">{%= $.lblAllocationStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_AllocationStatus" name="allocationStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DeliveryStatus">{%= $.lblDeliveryStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryStatus" name="deliveryStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_ChargesTotal">{%= $.lblChargesTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ChargesTotal" name="chargesTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                        \'</table>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soAddressesContent" dojoType="dijit.layout.ContentPane" title="{%= $.addressTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesQuoteAddresses" dojoAttachPoint="sdgrdSalesQuoteAddresses" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesQuoteAddresses_Grid" dojoAttachPoint="sdgrdSalesQuoteAddresses_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soSalesPersonsContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesPersonsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_SalesPersons" dojoAttachEvent="onShow:initSalesPersons">\',\r\n                    \'<div id="sdgrdSalesPersons" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesPersons_Grid" dojoAttachPoint="sdgrdSalesPersons_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soLinesContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesQuoteLinesTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesQuoteLines" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesQuoteLines_Grid" dojoAttachPoint="sdgrdSalesQuoteLines_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soPaymentsContent" dojoType="dijit.layout.ContentPane" title="{%= $.paymentsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Payments" dojoAttachEvent="onShow:initPayments">\',\r\n                    \'<div id="sdgrdSOPayments" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSOPayments_Grid" dojoAttachPoint="sdgrdSOPayments_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soDeliveriesContent" dojoType="dijit.layout.ContentPane" title="{%= $.deliveriesTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Deliveries" dojoAttachEvent="onShow:initDeliveries">\',\r\n                    \'<div id="sdgrdSODeliveries" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSODeliveries_Grid" dojoAttachPoint="sdgrdSODeliveries_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n        \'<div class="button-bar alignright">\',\r\n            \'<button dojoType="dijit.form.Button" id="{%= $.id%}_soBtnClose" type="button" dojoAttachEvent="onClick:hideDetailsDialog">{%= $.btnCloseCaption %}</button>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]'}});define("Sage/MainView/IntegrationContract/SalesQuoteRTDV",["dojo/_base/declare","dojo/i18n!./nls/SalesQuoteRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/SalesQuoteRTDV.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/DateTextBox","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_3d2,_3d3,_3d4,_3d5,_3d6,_3d7,_3d8,_3d9,_3da,_3db,lang){var _3dc=_3d2("Sage.MainView.IntegrationContract.SalesQuoteRTDV",[_3d4,_3d5],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,salesPersonsDataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_3da)),constructor:function(){dojo.mixin(this,_3d3);},loadSalesQuotes:function(){var self=this;var _3dd={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"$key",name:" ",sortable:false,formatter:this.salesQuotesX3DetailsViewRenderer,style:"text-align:left;",editable:false,hidden:function(){return !accountingSystemHandlesSO();}()},{width:10,field:"reference",name:this.grdSalesQuote_QuoteNumber,sortable:true,formatter:this.salesQuotesDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_3d9,formatType:"date",dateOnly:true,utc:false,name:this.grdSalesQuote_QuoteDate,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"status",name:this.grdSalesQuote_Status,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"statusFlagText",name:this.grdSalesQuote_HoldStatus,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"type",name:this.grdSalesQuote_Type,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdSalesQuote_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdSalesQuote_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"discountTotal",name:this.grdSalesQuote_DiscountTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"chargesTotal",name:this.grdSalesQuote_ChargesTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdSalesQuote_TaxTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdSalesQuote_GrossTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"currency",name:this.grdSalesQuote_Currency,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesQuotations"}]}),tools:[]};var _3de=new _3d6.Grid(_3dd,this.placeHolder);_3de.startup();var _3df=dijit.byId("tabContent");_3df.resize();_3df.resize();this.grid=_3de;},salesQuotesDetailsViewRenderer:function(_3e0){return dojo.string.substitute('<a href="javascript:salesQuoteRTDV.loadDetailsView();">${0}</a>',[_3e0]);},salesQuotesX3DetailsViewRenderer:function(){return dojo.string.substitute('<a href="javascript:salesQuoteRTDV.callX3DetailsView();">${0}</a>',[_3d3.grdSalesQuote_Edit]);},destroyFirst:function(id){var _3e1=dijit.byId(id);if(_3e1){_3e1.destroyRecursive();}},initSalesPersons:function(){if(this.salesPersonsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.salesPersonsDataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _3e2=row["$key"];return dojo.string.substitute("'${0}'",[_3e2||""]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesPersons"}],includeContent:true});dojo.connect(this.salesPersonsDataStore,"onGetSingleResource",this,"loadSalesPersons");this.salesPersonsDataStore.getSingleResource();}},loadSalesPersons:function(data){this.destroyFirst("sdgrdSalesPersons");if(data&&typeof data.salesPersons==="undefined"){data.salesPersons={};data.salesPersons.$resources=new Array();}var _3e3=new dojox.grid.DataGrid({id:"sdgrdSalesPersons",store:this.salesPersonsDataStore,structure:[{width:10,field:"name",name:this.grdSalesPersons_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdSalesPersons_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"extension",name:this.grdSalesPersons_Extension,defaultValue:"",sortable:true,editable:false},{width:10,field:"relationship",name:this.grdSalesPersons_Relationship,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_3e3.domNode,this.sdgrdSalesPersons_Grid,"single");_3e3.startup();},loadAddresses:function(data){this.destroyFirst("sdgrdSalesQuoteAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _3e4=new dojox.grid.DataGrid({id:"sdgrdSalesQuoteAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_Address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_Address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_3e4.domNode,this.sdgrdSalesQuoteAddresses_Grid,"single");_3e4.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdSalesQuoteLines");if(data&&typeof data.salesQuotationLines==="undefined"){data.salesQuotationLines={};data.salesQuotationLines.$resources=new Array();}var _3e5=new dojox.grid.DataGrid({id:"sdgrdSalesQuoteLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"fulfillmentLocation.name",name:this.grdItems_Location,defaultValue:"",sortable:true,editable:false},{width:10,field:"pricelist.name",name:this.grdItems_PriceList,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesQuotationLines"}});dojo.place(_3e5.domNode,this.sdgrdSalesQuoteLines_Grid,"single");_3e5.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _3e6=row["$key"];return dojo.string.substitute("'${0}'",[_3e6||""]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdSOPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _3e7=new dojox.grid.DataGrid({id:"sdgrdSOPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_3d9,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_3d9,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_3e7.domNode,this.sdgrdSOPayments_Grid,"single");_3e7.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _3e8=row["$key"];return dojo.string.substitute("'${0}'",[_3e8]);},resourceKind:"salesQuotations",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesQuoteDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdSODeliveries");if(data&&typeof data.salesQuoteDeliveries==="undefined"){data.salesQuoteDeliveries={};data.salesQuoteDeliveries.$resources=new Array();}var _3e9=new dojox.grid.DataGrid({id:"sdgrdSODeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_3d9,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_3d9,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_3d9,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",type:_3d9,formatType:"date",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_3e9.domNode,this.sdgrdSODeliveries_Grid,"single");_3e9.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.salesQuoteDetails,"display-none");dojo.addClass(this.tabContentDetails,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _3ea=row["$key"];this.dataStore=new _3d7({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesQuotations",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_3ea]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesQuotationLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,quotation/reference,salesQuotationLines/commodity/name,salesQuotationLines/unitOfMeasure/name,salesQuotationLines/fulfillmentLocation/name,salesQuotationLines/pricelist/name,salesQuotationLines/commodityVariant/reference,salesQuotationLines/commodityDimension/reference,salesQuotationDeliveries/carrierTradingAccount/name"]});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},callX3DetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){var _3eb=row["$key"];dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesQuote/getediterpsalesquoteurl?salesQuoteKey=${0}&operatingCompany=${1}&_dc=${2}",[_3eb,this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_3ec,_3ed,_3ee){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_3d3.Error_InvalidEndpoint;}});}},loadSalesQuoteDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadSalesQuoteDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.salesQuoteContainer!=null){this.salesQuoteContainer.selectChild(this.salesQuoteContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.salesQuoteDetails,"display-none");dojo.removeClass(this.tabContentDetails,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdSalesPersons");this.salesPersonsDataStore=null;this.destroyFirst("sdgrdSODeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdSOPayments");this.paymentsDataStore=null;this._dialog.hide();},destroy:function(_3ef,args){},launchAccountingSystemView:function(data){if(data.error!=null){_3d8.showError(data.error);}else{try{window.open(data.url);}catch(err){_3d8.showError(this.errorERPRequest);console.error(dojo.string.substitute(this.errorERPRequestDetails,[this.errorERPRequest,err,url]));}}},executeErpInsertView:function(){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesQuote/getinserterpsalesquoteurl?accountId=${0}&operatingCompany=${1}&_dc=${2}",[Sage.Utility.getCurrentEntityId(),this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_3f0,_3f1,_3f2){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_3d3.errorERPRequest;}});}});return _3dc;});},"Sage/QuickForms/Design/Editors/NumericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NumericAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NumericAdvancedPropertyEditor"],function(_3f3,lang,_3f4,_3f5,_3f6,_3f7,_3f8,_3f9,_3fa,_3fb,_3fc){return _3f3("Sage.QuickForms.Design.Editors.NumericAdvancedPropertyEditor",[_3f4,_3fa,_3f9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>",'<div class="editor-field" title="{%= $.formatTypeTooltipText %}">',"<label>{%= $.formatTypeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_formatType" data-dojo-attach-event="onChange:_onFormatTypeChange">',"{% for (var format in $.numberFormatText) { %}",'<span value="{%= format %}">{%= $.numberFormatText[format] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>",'<div class="editor-field" title="{%= $.maxLengthTooltipText %}">',"<label>{%= $.maxLengthText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_maxLength" data-dojo-attach-event="onChange:_onMaxLengthChange" data-dojo-props="constraints:{min:-1,places:0}"></div>',"</div>",'<div class="editor-field" title="{%= $.requiredTooltipText %}">',"<label>{%= $.requiredText %}</label>",'<div data-dojo-attach-point="_required" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onRequiredChange"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.decimalDigitsTooltipText %}">',"<label>{%= $.decimalDigitsText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_decimalDigits" data-dojo-props="constraints:{min:-1,max:100,places:0}" data-dojo-attach-event="onChange:_onDecimalDigitsChange"></div>',"</div>",'<div class="editor-field" title="{%= $.strictTooltipText %}">',"<label>{%= $.strictText %}</label>",'<div data-dojo-attach-point="_strict" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onStrictChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_isReadOnly:null,_defaultDataBinding:null,_formatType:null,_maxLength:null,_required:null,_strict:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",formatTypeText:"Format Type:",formatTypeTooltipText:"Type of format to use when converting number to string.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",strictText:"Strict:",strictTooltipText:"Pads display of number with trailing zeros as necessary.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",numberFormatText:{"Number":"Number","Percent":"Percent","Decimal":"Decimal","Scientific":"Scientific"},labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_3fc);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._decimalDigits.set("value",this._designer.get("decimalDigits"));this._enabled.set("value",this._designer.get("enabled"));this._formatType.set("value",this._designer.get("formatType"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._strict.set("value",this._designer.get("strict"));this._visible.set("value",this._designer.get("visible"));var _3fd=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_3fd&&_3fd["DataItemName"])||"");},_onControlTypeChange:function(_3fe){},_onControlIdChange:function(_3ff){},_onDefaultDataBindingChange:function(_400){},_onEnabledChange:function(_401){if(this.isSuspended()){return;}this._designer.set("enabled",_401);},_onDecimalDigitsChange:function(_402){if(this.isSuspended()||!this._decimalDigits.isValid()){return;}this._designer.set("decimalDigits",_402);},_onFormatTypeChange:function(_403){if(this.isSuspended()){return;}this._designer.set("formatType",_403);},_onControlLabelPlacementChange:function(_404){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_404);},_onMaxLengthChange:function(_405){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",_405);},_onRequiredChange:function(_406){if(this.isSuspended()){return;}this._designer.set("required",_406);},_onStrictChange:function(_407){if(this.isSuspended()){return;}this._designer.set("strict",_407);},_onVisibleChange:function(_408){if(this.isSuspended()){return;}this._designer.set("visible",_408);}});});},"Sage/QuickForms/Design/nls/NumericControlDesigner":function(){define("Sage/QuickForms/Design/nls/NumericControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_409,lang){var nls={root:{displayNameText:"Numeric"}};return lang.mixin(_409,nls);});},"Sage/QuickForms/Design/Editors/nls/_PropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/_PropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_40a,lang){var nls={root:{titleText:"Properties"}};return lang.mixin(_40a,nls);});},"url:Sage/UI/Columns/templates/DndCell.html":'<div>\r\n    <div data-dojo-type="dojo.dnd.Source" dojoAttachPoint="sourceNode" copyOnly="true" accept="">\r\n        <div class="dojoDndItem" dojoAttachPoint="dndItem"></div>\r\n    </div>\r\n</div>\r\n',"Sage/Services/nls/ActivityActionProcessor":function(){define("Sage/Services/nls/ActivityActionProcessor",["Sage/LanguageList","dojo/_base/lang"],function(_40b,lang){var nls={root:{btnOkayText:"OK",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",processingText:"Processing request please wait...",failureText:"I'm sorry, the action was not successful an error occurred.",titleText:"Process"}};return lang.mixin(_40b,nls);});},"Sage/UI/Controls/SummaryAggregate":function(){define("Sage/UI/Controls/SummaryAggregate",["dijit/_Widget","Sage/_Templated","dijit/Tooltip","Sage/UI/GridMenuItem","Sage/Data/BaseSDataStore","Sage/UI/Columns/SlxLink","Sage/UI/Columns/Phone","dojo/i18n!../nls/SDataLookup","dojo/_base/declare"],function(_40c,_40d,_40e,_40f,_410,_411,_412,_413,_414){var _415=_414("Sage.UI.Controls.SummaryAggregate",[_40c,_40d],{loadingText:_413.loadingText,noDataText:_413.noDataText,widgetsInTemplate:true,value:"",content:"",valueNode:null,linkTabName:"",entityId:"",linkPage:"",toolTip:false,_button:null,_menu:null,store:false,grid:false,popupStructure:null,resourceKind:"",select:null,where:"",widgetTemplate:new Simplate(["<span>",'<button data-dojo-type="dijit.form.ComboButton" data-dojo-attach-point="_button" data-dojo-attach-event="onClick:_click" >','<div data-dojo-type="dijit.Menu" data-dojo-attach-point="_menu">',"</div>","</button>","</span>"]),constructor:function(){this.select=[];this.popupStructure=[];this.inherited(arguments);},_click:function(){if(!this.linkPage){this._findlinkPage();}var url=this.linkPage+"?entityid="+this.entityId||"";if(this.linkTabName){url=url+"&activetab="+this.linkTabName;}document.location=url;},_setValueAttr:function(_416){this.value=_416;this._button.set("label",_416);},startup:function(){this.inherited(arguments);if(!this.store){if(this.select.length===0){this.select.push("id");for(var i=0;i<this.popupStructure.length;i++){this.select.push(this.popupStructure[i]["field"]);}}this.store=new _410({service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic"),resourceKind:this.resourceKind,select:this.select});}if(!this.grid){this.grid=new _40f({gridOptions:{store:this.store,rowsPerPage:40,structure:this.popupStructure,loadingMessage:this.loadingText,noDataMessage:this.noDataText,selectionMode:"single",query:this.where.replace(/~magicquote~/g,"'"),height:"250px",width:"300px"}});this._menu.addChild(this.grid);this._menu.set("style",{width:"350px"});this.grid.startup();}},_findlinkPage:function(){if(!this.linkPage){var url=document.location.href;if(url.indexOf("?")>-1){this.linkPage=url.substring(0,url.indexOf("?"));}}},destroy:function(){this.inherited(arguments);if(this.grid){this.grid.destroy();}}});Sage.UI.Controls.SummaryAggregate.markupFactory=function(_417,node,ctor){var _418=function(n){var w=d.attr(n,"width")||"auto";if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){w=parseInt(w,10)+"px";}return w;};if(!_417.popupStructure){var d=dojo;var _419=[];var _41a=window.isMultiCurrencyEnabled();d.query("> span",node).forEach(function(span,_41b){var cell={name:d.trim(d.attr(span,"name")||span.innerHTML),type:d.attr(span,"cellType")||false,field:d.trim(d.attr(span,"field")||""),id:d.trim(d.attr(span,"id")||""),idField:d.trim(d.attr(span,"idField")||""),queryParams:d.trim(d.attr(span,"queryParams")||""),pageName:d.trim(d.attr(span,"pageName")||""),image:d.trim(d.attr(span,"icon")||""),multiCurrency:_41a,exchangeRateType:d.trim(d.attr(span,"exchangeRateType")||"")};if(d.hasAttr(span,"width")){cell["width"]=_418(span);}cell.type=cell.type?dojo.getObject(cell.type):dojox.grid.cells.Cell;if(cell.type&&cell.type.markupFactory){cell.type.markupFactory(span,cell);}if(cell.name==="&nbsp;"||cell.name===""){cell.name=cell.field;}_419.push(cell);});_417.popupStructure=_419;}return new ctor(_417,node);};return _415;});},"Sage/QuickForms/Design/Editors/nls/TextBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/TextBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_41c,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",linesText:"Lines:",linesTooltipText:"Number of lines of text displayed.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_41c,nls);});},"Sage/MainView/ActivityMgr/nls/QuickCompleteEditor":function(){define("Sage/MainView/ActivityMgr/nls/QuickCompleteEditor",["Sage/LanguageList","dojo/_base/lang"],function(_41d,lang){var nls={root:{lblResultText:"Result:",lblNoteText:"Note (append to all items):",btnCompleteIndividuallyText:"Individually",btnAsScheduledText:"As Scheduled",btnCompleteNowText:"Now",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",resultCompletedText:"Complete",titleText:"Quick Complete",actionMessage:"Only activities that you have permission to complete will be completed.",completeMessage:"Complete all {0} selected activities:",processingMessage:"Processing all {0} selected activities please wait..."}};return lang.mixin(_41d,nls);});},"Sage/UI/Filters/CheckBoxFilter":function(){define("Sage/UI/Filters/CheckBoxFilter",["dijit/_Widget","dijit/_Contained","dojo/NodeList-traverse","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/_ActionMixin","dojo/string","dojo/on","dojo/_base/lang","dojo/dom-construct","./EditFilterItems","dojo/_base/array","dojo/query","dojo/dom-attr","dojo/i18n!./nls/CheckBoxFilter","Sage/Utility","Sage/Utility/Filters","dojo/json","dijit/registry","dojo/_base/declare","dojo/_base/Deferred","dojo/dom-class","dojo/_base/connect"],function(_41e,_41f,_420,_421,_422,_423,_424,on,lang,_425,_426,_427,_428,_429,nls,_42a,_42b,json,_42c,_42d,_42e,_42f,_430){var _431=_42d("Sage.UI.Filters.CheckBoxFilter",[_41e,_41f,_422,_423,_421],{attributeMap:{"content":{node:"listNode",type:"innerHTML"}},serviceMap:{"groupContextService":"ClientGroupContext","systemDataService":{type:"sdata",name:"system"}},actionsFrom:"click",widgetsInTemplate:false,widgetTemplate:new Simplate(['<div class="filter-type-checkbox filter-collapsed">','<h3 data-action="toggleExpand" data-dojo-attach-point="filterNameNode">{%: $.filter.displayName || $.filter.filterName %}',"</h3>",'<ul class="filter-loading-indicator"><li><span>{%: $.loadingText %}</span></li></ul>','<a href="#" class="filter-clear" data-dojo-attach-point="clearLinkNode">{%: $.clearText %}</a>','<span class="filter-sep" data-dojo-attach-point="linkSep"> | </span>','<a href="#" class="filter-edit-items" data-dojo-attach-point="moreLinkNode">{%: $.moreText %}</a>','<ul class="filter-list" data-dojo-attach-point="listNode"></ul>',"</div>"]),itemTemplate:new Simplate(['<li data-action="toggleSelect" class="{%= $.selected ? "filter-selected" : "" %}" data-name="{%= $.name %}" data-selected="{%= !!$.selected %}" ','role="checkbox" aria-checked="{%= !!$.selected %}">',"<div>",'<span class="p-selection">&nbsp;</span>','<span class="p-label">{%: $$._formatLabelText($.$descriptor, $.name) %}</span>',"{% if ($.value > -1) { %}",'&nbsp;<span class="p-spacer">(</span>','<span class="p-count">{%: $.value %}</span>','<span class="p-spacer"> {%: $.ofText %} </span>','<span class="p-total">{%: $.value %}</span>','<span class="p-spacer">)</span>',"{% } %}","</div>","</li>"]),_activeFilterCount:0,_loaded:false,_selected:null,_ranges:null,_filterGroup:null,_filterSubscriptions:null,appliedValues:null,parent:null,_originalActiveFilter:"",loadingText:"Loading...",moreText:"Add/Remove Items",clearText:"Clear",emptyText:"(empty)",nullText:"(null)",ofText:"of",nullName:"SLX_NULL",emptyName:"SLX_EMPTY",filterGroup:"default",filter:null,store:null,editFilterItems:null,editFilterItemsHandle:null,output:null,entries:[],expanded:false,FILTER_UPDATE_DELAY:1000,lazyUpdateCounts:null,count:1000,loading:true,groupId:"",constructor:function(){this.inherited(arguments);this.output=[];this.entries=[];lang.mixin(this,nls);},postMixInProperties:function(){this.inherited(arguments);this._selected={};var _432=this._isRangeFilter();if(_432){this.store.request.setQueryArg("orderby","");this.compileRanges(_432.ranges);}if(this.expanded){this.expanded=false;setTimeout(lang.hitch(this,this._toggleExpand),500);}else{if(this.appliedValues){setTimeout(lang.hitch(this,this._loadItems),500);}else{this.resolveDeferred();}}if(this.store&&this.store.request&&this.store.request.getQueryArg){this._originalActiveFilter=this.store.request.getQueryArg("_activeFilter");}},postCreate:function(){this.inherited(arguments);var _433=false;if(this.configurationProvider.getFilterFormatter){var _434=this.configurationProvider.getFilterFormatter(this.filter);if(_434){_433=true;}}if(!this._isDistinctFilter()||_433){_425.destroy(this.moreLinkNode);_425.destroy(this.linkSep);}else{this.editFilterItemsHandle=on(this.moreLinkNode,"click",lang.hitch(this,this._moreLinkClicked));}on(this.clearLinkNode,"click",lang.hitch(this,this._clearLinkClicked));var id=this.filter.$key+"_editFilterItems",_435=_42c.byId(id);this.editFilterItems=_435||new _426({id:id,store:this.store,filter:this.filter,filterPanel:this.parent,parent:this});},_clearLinkClicked:function(){var q=_428("li.filter-selected",this.listNode),evt;_427.forEach(q,function(node){if(node.click){node.click();}else{evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(evt);}});},_moreLinkClicked:function(e){if(this._originalActiveFilter){this.editFilterItems.baseFilter=this._originalActiveFilter;}this.editFilterItems.showDialog();e.cancelBubble=true;},uninitialize:function(){this.inherited(arguments);if(this.editFilterItems){this.editFilterItems.destroy(false);}if(this.editFilterItemsHandle){this.editFilterItemsHandle.remove();}},_setFilterGroupAttr:function(_436){if(this._filterSubscriptions){_427.forEach(this._filterSubscriptions,function(_437){this.unsubscribe(_437);},this);}this._filterGroup=_436;this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(_424.substitute("/ui/filters/${0}/change",[this._filterGroup]),this._onChange),this.subscribe(_424.substitute("/ui/filters/${0}/clear",[this._filterGroup]),this._onClear),this.subscribe(_424.substitute("/ui/filters/${0}/refresh",[this._filterGroup]),lang.hitch(this,this._onRefresh)));},_onRefresh:function(_438,_439,_43a){this.appliedValues=_438;this.updateCounts();},_updateActiveFilters:function(){var _43b=this._getFilterManager(),_43c=[],q=false;if(_43b){q=_43b.createQuery();}if(!this.expanded){return;}if(q===false){q="";}else{_43c.push(q);}if(this._originalActiveFilter){_43c.push(this._originalActiveFilter);}if(_43c.length>1){q=_43c.join(" AND ");}else{q=_43c.join("");}this.store.request.setQueryArg("_activeFilter",q);},refresh:function(){if(this._loaded){_427.forEach(_428("*",this.listNode),function(item){_425.destroy(item);});this.requestData();}},_onChange:function(_43d,name,_43e,_43f){name=this._transformFilterItemName(name);if(_43f!==this&&_43d.$key===this.filter.$key){_428(_424.substitute('> [data-name="${0}"]',[name]),this.listNode).forEach(function(el){_429.set(el,"data-selected",(!!_43e).toString());_42f.toggle(el,"filter-selected",!!_43e);});}},_onClear:function(_440,_441){if(_441!==this&&(!_440||_440.$key===this.filter.$key)){_428('> [data-selected="true"]',this.listNode).forEach(function(el){_429.set(el,"data-selected","false");_42f.toggle(el,"filter-selected",false);});}},_getFilterGroupAttr:function(){return this._filterGroup;},_formatLabelText:function(_442,name){if(name===this.nullName){return this.nullText;}else{if(name===this.emptyName){return this.emptyText;}}if(this.configurationProvider){if(this.configurationProvider.getFilterFormatter){var _443=this.configurationProvider.getFilterFormatter(this.filter);if(_443){return _443(_442);}}}return _442;},_isDistinctFilter:function(){return this.filter&&this.filter.details&&this.filter.details.distinctFilter;},_isRangeFilter:function(){return this.filter&&this.filter.details&&this.filter.details.rangeFilter;},compileRanges:function(_444){var i=0;this._ranges={};for(i=0;i<_444.length;i++){this._ranges[this._transformFilterItemName(_444[i].rangeName)]=_444[i];}},_saveExpandState:function(){var data=this.parent._configuration._hiddenFilters||{},key=this.parent._configuration._hiddenFiltersKey,_445=Sage.Services.getService("ClientGroupContext"),_446=_445&&_445.getContext(),prop=_446.CurrentEntity+"_"+this.filter.filterName;if(!data[prop]){data[prop]={expanded:false,hidden:false};}data[prop].expanded=this.expanded;_42b.setHiddenFilters(key,json.stringify(data));},toggleExpand:function(_447,evt,el){this._toggleExpand();this._saveExpandState();},_toggleExpand:function(){this.expanded=!this.expanded;if(this.domNode){_42f.toggle(this.domNode,"filter-collapsed");}this._loadItems();},_loadItems:function(){if(!this._loaded){this._loaded=true;this.requestData();}else{this.updateCounts();}},toggleSelect:function(_448,evt,el){var _449=/^true$/i.test(_448.selected),name=_448.name,_44a=!_449&&(this._isRangeFilter()?this._ranges[name]:name);this.onSelectionChange(this.filter,name,_44a,this);_429.set(el,"data-selected",(!_449).toString());_429.set(el,"aria-checked",(!_449).toString());_42f.toggle(el,"filter-selected",!_449);},onSelectionChange:function(_44b,name,_44c,_44d){_430.publish(_424.substitute("/ui/filters/${0}/change",[this._filterGroup]),[_44b,name,_44c,_44d]);},updateCounts:function(){if(!this.lazyUpdateCounts){this.lazyUpdateCounts=_42a.debounce(lang.hitch(this,function(){if(this.expanded){_428("li[data-name] div span.p-count",this.listNode).forEach(function(node){node.innerHTML="0";});this._updateActiveFilters();this._doUpdateCounts();}}),this.FILTER_UPDATE_DELAY);}this.lazyUpdateCounts();},_doUpdateCounts:function(){this.store.fetch({onComplete:lang.hitch(this,this._updateCountsInPlace),count:this.count});},requestData:function(){if(this.loading){if(this.domNode){_42f.add(this.domNode,"filter-loading");this.set("content","");}}this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),count:this.count});},_onFetchComplete:function(_44e,_44f){this._processFetchResult(_44e,_44f);this.resolveDeferred();},_onFetchError:function(_450,_451){if(this.domNode){_42f.remove(this.domNode,"filter-loading");}this.resolveDeferred();},isFilterItemHidden:function(_452){var data=this.parent._configuration._hiddenFilters||{},_453=Sage.Services.getService("ClientGroupContext"),_454=_453&&_453.getContext(),prop=_454.CurrentEntity+"_"+this.filter.filterName,_455=false;if(data[prop]){_455=_427.some(data[prop].items,function(item){return item===_452;});}return _455;},_updateCountsInPlace:function(_456,_457){var i=0,_458=null,len=_456.length;for(i=0;i<len;i++){_458=_456[i];_458.name=this._transformFilterItemName(_458.name);_428('li[data-name="'+_458.name+'"]',this.listNode).forEach(function(node){_428("div span.p-count",node).forEach(function(span){span.innerHTML=_458.value;});});}this._finishedLoading();},_processFetchResult:function(_459,_45a){var i=0,_45b=null,_45c=false,len=_459.length,_45d=false;for(i=0;i<len;i++){_45b=_459[i];_45b.name=this._transformFilterItemName(_45b.name);_45c=this.isFilterItemHidden(_45b.name);if(_45c===false||this._isRangeFilter()){_45d=this.appliedValues&&this.appliedValues[this.filter.$key]&&!!this.appliedValues[this.filter.$key][_45b.name];_45b.selected=_45d||(this.appliedValues&&!!this.appliedValues[_45b.name]);_45b.ofText=this.ofText;this.output.push(this.itemTemplate.apply(_45b,this));this.entries.push(_45b);}}this._fixMissingItems();if(this.domNode){this.set("content",this.output.join(""));}this._clearOutputEntries();this.updateCounts();},_transformFilterItemName:function(name){var _45e=name;if(name===null){_45e=this.nullName;}else{if(name===""){_45e=this.emptyName;}}return _45e.trim();},_fixMissingItems:function(){var _45f,prop,val,_460=true;for(prop in this.appliedValues){if(this.appliedValues.hasOwnProperty(prop)){val=this.appliedValues[prop];_460=_427.some(this.entries,function(_461){return _461.name===prop;});if(!_460){_45f={name:"",$descriptor:"",selected:true,value:0};_45f.name=prop;_45f.$descriptor=val;_45f.ofText=this.ofText;if(typeof _45f.$descriptor==="string"){this.output.push(this.itemTemplate.apply(_45f,this));this.entries.push(_45f);}}}}},_clearOutputEntries:function(){this.output=[];this.entries=[];},_finishedLoading:function(){this.loading=false;this.store.request.setQueryArg("_activeFilter",this._originalActiveFilter||"");if(this.domNode){_42f.remove(this.domNode,"filter-loading");}},_getFilterManager:function(){var _462=this.parent.filterManager;if(!_462){if(this.parent._configuration.getFilterManager){_462=this.parent._configuration.getFilterManager();}}var _463=Sage.Services.getService("ClientGroupContext");var _464=_463&&_463.getContext();if(this.groupId!=_464.CurrentGroupID){_462=null;}return _462;},resolveDeferred:function(){if(this.deferred){this.deferred=this.deferred.resolve();}}});return _431;});},"Sage/Utility/Groups":function(){define("Sage/Utility/Groups",["Sage/Groups/GroupLookup"],function(_465){Sage.namespace("Utility.Groups");dojo.mixin(Sage.Utility.Groups,{showMainLookupFor:function(_466,page){var _467=Sage.Services.getService("GroupLookupManager");if(_467){if(typeof _466==="undefined"){_467.showLookup();}else{_467.showLookup({family:_466,returnTo:page||false});}}}});return Sage.Utility.Groups;});},"Sage/UI/ToolBarLabel":function(){define("Sage/UI/ToolBarLabel",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_468,_469,_46a){var _46b=_46a("Sage.UI.ToolBarLabel",[_468,_469],{label:"label",region:"leading",templateString:'<span class="dijitToolbarLabel"><span class="dijitReset dijitInline " dojoAttachPoint="containerNode"></span></span>',attributeMap:{label:{node:"containerNode",type:"innerHTML"}},_append:function(val){this.containerNode.innerHTML+=val;},_setLabelAttr:function(_46c){this.containerNode.innerHTML=this.label=_46c;}});return _46b;});},"Sage/UI/Controls/DateTimePicker":function(){require({cache:{"url:Sage/UI/Controls/templates/DateTimePicker.html":'<div class="dateTimePicker">\r\n        <div dojoAttachPoint="tooltipContainer">\r\n        \r\n            <div dojoAttachPoint="dateContainer" class="dateTimePicker-dateContainer">\r\n               \r\n                    <input id="${id}-Calendar" data-dojo-type="Sage.UI.Calendar"\r\n                        style="width:inherit;"\r\n                        textAlign="${textAlign}"\r\n                           type="text" \r\n                           tabindex="0"\r\n                           displayMode="popup"\r\n                           dojoAttachPoint="dateNode"\r\n                           dojoAttachEvent="onValueSelected:_onValueSelected,onBlur:_onCalendarBlur">\r\n               \r\n            </div>\r\n            \r\n            <div dojoAttachPoint="timeZoneContainer" class="dateTimePicker-timeZoneContainer">\r\n               \r\n                    <label for="${id}-TimeStart">${timeStartText}</label><br />\r\n                    <input id="${id}-TimeTextBox" data-dojo-type="dijit.form.TimeTextBox" \r\n                           style="width:16em;"\r\n                           textAlign="${textAlign}"\r\n                           tabindex="0"\r\n                           type="text" dojoAttachPoint="timeNode">\r\n                    <br /><br/>\r\n                    <label for="${id}-TzCalculator">${timeZoneCalculatorText}</label>\r\n                    <div id="timeZoneCalucaltor" class="dateTimePicker-timeZoneCalculator">\r\n                       <p style="width:auto;margin-top:auto">\r\n                            <label for="${id}-TzSelectSource">${timeZoneSourceText}</label><br />\r\n                            <select id="${id}-TzSelectSource" data-dojo-type="dijit.form.ComboBox"  dojoAttachPoint="timeZoneSourceComboNode" style="width:15em;">\r\n                            </select>\r\n                            <br />\r\n                            <label for="${id}-TzSelectDest">${timeZoneDestText}</label><br />\r\n                           <select id="${id}-TzSelectDest" data-dojo-type="dijit.form.ComboBox"  dojoAttachPoint="timeZoneDestComboNode" style="width:15em;">\r\n                           </select>\r\n                           <br/>\r\n                            <span id="${id}-ConvertResults" dojoAttachPoint="convertResultsNode" style="float:left;padding-top:5px;">\r\n                        </span>\r\n                        </p><br/>\r\n                        <button id="${id}-Convert" data-dojo-type="dijit.form.Button" dojoAttachPoint="timeZoneConvertButtonNode" type="button" style="float:right" dojoAttachEvent="onClick:_convertClicked">\r\n                            ${convertText}\r\n                        </button>\r\n                       \r\n                        \r\n                    </div>\r\n               \r\n                <div class="button-bar alignright" style="clear: both">\r\n                    <button id="${id}-OKButton" tabindex="0" data-dojo-type="dijit.form.Button" dojoAttachPoint="OKButtonNode" type="button" dojoAttachEvent="onClick:_okClicked">\r\n                        ${okText}\r\n                    </button>\r\n                    <button id="${id}-CancelButton" tabindex="0" data-dojo-type="dijit.form.Button" dojoAttachPoint="CancelButtonNode" type="button" dojoAttachEvent="onClick:_cancelClicked">\r\n                        ${cancelText}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    \r\n</div>\r\n\r\n'}});define("Sage/UI/Controls/DateTimePicker",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/fx","dojo/date/locale","dijit/_Widget","dijit/form/TimeTextBox","Sage/UI/Calendar","Sage/Utility","dijit/TooltipDialog","dijit/_base/popup","dijit/form/ComboBox","dijit/focus","dojo/data/ItemFileReadStore","dojo/i18n!./nls/DateTimePicker","dojo/json","dojo/_base/lang","dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom-construct","Sage/Utility/_LocalStorageMixin","dojo/text!./templates/DateTimePicker.html"],function(_46d,_46e,fx,_46f,_470,_471,_472,_473,_474,_475,_476,_477,_478,_479,json,lang,_47a,_47b,_47c,_47d,_47e,_47f){var _480,_481,_482;_482=_47c("Sage.UI.Controls.DateTimePicker.TimeZoneDataLoader",_47e,{_requests:[],_requestingData:false,_tzData:false,_storageNamespace:"DateTimePickerTZ",constructor:function(){this._requests=[];this._requestingData=false;this._tzData=false;},requestTimeZones:function(_483,_484){if(!this._tzData){var data=this.getFromLocalStorage(this._storageNamespace,this._storageNamespace);if(data){this._tzData=json.parse(data);}else{this._requests.push({fn:_483,scope:_484||this});if(!this._requestingData){dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:lang.hitch(this,this._receiveData),error:function(err){}});this._requestingData=true;}return;}}_483.call(_484||this,this._tzData);},_receiveData:function(data){this.saveToLocalStorage(this._storageNamespace,json.stringify(data),this._storageNamespace);this._tzData=data;var len=this._requests.length;for(var i=0;i<len;i++){var clbk=this._requests.pop();clbk.fn.call(clbk.scope,data);}}});_480=_47c("Sage.UI.Controls._DateTimePickerMenu",[_470,_46d,_46e],{templateString:_47f,widgetsInTemplate:true,textAlign:"left",okText:"",cancelText:"",convertText:"",calculatorText:"",timeZoneSourceText:"",timeZoneDestText:"",id:"dateTimePickerMenu",dir:"",_messages:null,_started:false,_timezonesLoaded:false,_timezonesVisible:false,displayTime:false,constructor:function(_485){lang.mixin(this,_479);this.inherited(arguments);},startup:function(){this._started=true;this._messages=[];this.focus();this.inherited(arguments);},uninitialize:function(){this.dateNode.destroy(false);this.timeZoneSourceComboNode.destroy(false);this.timeZoneDestComboNode.destroy(false);this.timeZoneConvertButtonNode.destroy(false);this.timeNode.destroy(false);this.OKButtonNode.destroy(false);this.CancelButtonNode.destroy(false);this.inherited(arguments);},_getUTCDate:function(date){return new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds());},_okClicked:function(_486){this.onExecute();this.onOKClicked();},onOKClicked:function(){},_onCalendarBlur:function(){this.calendarBlur();},calendarBlur:function(){},_onValueSelected:function(){if(!this.displayTime){this.calendarDateSelected();this.onExecute();}},calendarDateSelected:function(){},_cancelClicked:function(){this.onCancel();this.onCancelClicked();},onFocusOut:function(){this.onExecute();},onCancelClicked:function(){},onCancel:function(){},onExecute:function(){},_hideTimeNode:function(){this._hideNode(this.timeZoneContainer);},_hideDateNode:function(){this._hideNode(this.dateContainer);},_showTimeNode:function(){this._showNode(this.timeZoneContainer);},_showDateNode:function(){this._showNode(this.dateContainer);},_hideNode:function(id){dojo.style(id,"visibility","hidden");dojo.style(id,"display","none");},_showNode:function(id){dojo.style(id,"visibility","visible");dojo.style(id,"display","block");},_convertClicked:function(){if(!this._timezonesLoaded){return;}var self=this,_487=this.dateNode.get("value"),_488=this.timeNode.get("value"),_489=this.timeZoneSourceComboNode.get("value"),_48a=this.timeZoneDestComboNode.get("value"),_48b="",_48c=null,url="slxdata.ashx/slx/crm/-/timezones/convertTimeFormatted?timezoneNameSource=${0}&timezoneNameDest=${1}&date=${2}&getFormatted=${3}";_487.setHours(_488.getHours());_487.setMinutes(_488.getMinutes());_48b=_487.toLocaleString();if(_489&&_48a){dojo.xhrGet({url:dojo.string.substitute(url,[escape(_489),escape(_48a),_48b,"false"]),handleAs:"json",load:function(_48d){self.convertResultsNode.innerHTML=_48d;},error:function(err){console.error(err);}});}},processTimeZones:function(data){var _48e=[];var _48f=_473.getClientContextByKey("userTimeZone");_47a.forEach(data,function(item){if(!item.Displayname||!item.Keyname){return;}_48e.push({id:item.Keyname,text:item.Displayname,offsetHours:item.OffsetHours,offsetMinutes:item.OffsetMinutes});});this.storeData={label:"text",identifier:"id",items:_48e};this.timeZoneStore=new _478({data:this.storeData});var self=this;this.timeZoneSourceComboNode.set("store",this.timeZoneStore);this.timeZoneSourceComboNode.set("searchAttr","text");this.timeZoneSourceComboNode.store.fetch({query:{text:_48f},onComplete:function(_490){self.timeZoneSourceComboNode.setAttribute("item",_490[0]);}});this.timeZoneDestComboNode.set("store",this.timeZoneStore);this.timeZoneDestComboNode.set("searchAttr","text");},loadTimeZones:function(){if(this._timezonesLoaded){return;}this._timezonesLoaded=true;var _491=new _482();_491.requestTimeZones(this.processTimeZones,this);}});_481=_47c("Sage.UI.Controls.DateTimePicker",[_476],{id:"dateTimePicker",buttonToolTip:"Calendar",toolTip:"",displayDate:true,displayTime:true,initialDate:null,initialTime:null,initialTextValue:"",dateFormat:"",timeZoneStore:null,storeData:null,dropDown:false,_opened:false,readOnly:false,enabled:true,required:false,renderAsHyperlink:false,shouldPublishMarkDirty:true,handles:null,store:null,dateOnlyHanlde:null,documentClickHandle:null,dropdownIconClicked:false,popupElements:null,minDate:null,constructor:function(_492){this.buttonToolTip=_479.buttonToolTip;this.handles=[];this.documentClickHandle=[];this.dateOnlyHanlde=[];this.store={};this.inherited(arguments);},_onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this._updateHiddenFields();},_onFocusChange:function(){this._updateHiddenFields();},_updateHiddenFields:function(){var _493,_494,_495,_496;_493=dojo.byId(this.id);if(_493){_495=_493.children[0];_494=_493.children[1];if(_495&&_494){_496=this.getValueForASPNET();_494.value=_496;if(_496===""){_495.value="";}if(_494.onchange){_494.onchange();}}}},uninitialize:function(){this.inherited(arguments);},startup:function(){this.inherited(arguments);this.dropDown=new _480({id:this.id+"_Popout",displayTime:this.displayTime});this.handles.push(this.connect(this,"onChange",this._onChanged));this.handles.push(dojo.connect(this.dropDown,"onOKClicked",this,"_displayCurrentValue"));this.handles.push(dojo.connect(this.focusNode,"onkeyup",this,"_onFocusKeyUp",true));this.handles.push(dojo.connect(this.focusNode,"onblur",this,"_onFocusBlur",true));this.handles.push(dojo.connect(this.focusNode,"onchange",this,"_onFocusChange",true));this.focusNode.value=this.initialTextValue;var date=_473.Convert.toDateFromString(this.initialDate)||new Date();var time=_473.Convert.toDateFromString(this.initialTime)||new Date();this.dropDown.dateNode.set("value",date.toDateString());this.dropDown.timeNode.set("value",time);if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}if(this.displayTime){this.dropDown._showTimeNode();}else{this.dateOnlyHanlde.push(dojo.connect(this.dropDown,"calendarDateSelected",this,"_displayCurrentValue"));this.dropDown._hideTimeNode();}var _497=[];var _498=function(node){if(node&&node.children&&node.children.length>0){for(var i=0;i<node.children.length;i++){if(node.children[i]){_497.push(node.children[i]);}_498(node.children[i]);}}return _497;};this.popupElements=_498(this.dropDown.domNode);this.popupElements.push(this.dropDown.domNode);this.popupElements.push(this._buttonNode.parentNode);this.documentClickHandle.push(dojo.connect(document,"onclick",this,"_documentOnClick"));this._setupRenderAsHyperlink();this._setupDropDownIcon();},_documentOnClick:function(evt){var e=evt||window.event;var _499=e.target||e.srcElement;if(e.target.nodeType==3){_499=e.target.parentNode;}var _49a=function(_49b,node){if(dojo.indexOf(_49b,node)>-1){return true;}else{if(node.parentNode){return _49a(_49b,node.parentNode);}else{return false;}}};if((_499&&_499.className&&(_499.className.indexOf("dijitTimePickerItemInner")>-1||_499.className.indexOf("dijitCalendarMonthLabel")>-1))||(_499&&_499.id&&(_499.id.indexOf("_Popout-TzSelectSource_popup")>-1||_499.id.indexOf("_Popout-TzSelectDest_popup")>-1))){e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}e.preventDefault=true;}else{if(this.dropDown&&this.dropDown.timeNode&&this.dropDown.timeNode.dropDown){if(dojo.indexOf(this.popupElements,this.dropDown.timeNode.dropDown.domNode)==-1){this.popupElements.push(this.dropDown.timeNode.dropDown.domNode);}}if(!_49a(this.popupElements,_499)){this.closeDropDown();}else{e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}e.preventDefault=true;}}},_setupDropDownIcon:function(){if(this.renderAsHyperlink){return;}_47d.create("div",{"class":"Global_Images icon16x16 icon_Calendar_16x16",title:this.buttonToolTip,tabIndex:0},this._buttonNode,"only");dojo.addClass(this._buttonNode,"smCalendarIconTxtBox");this.handles.push(this.connect(this._buttonNode,"ondijitclick",function(){if(!this.displayTime){dojo.style(this.dropDown.domNode,"height","226px");}else{dojo.style(this.dropDown.domNode,"height","266px");}if(!this.dropdownIconClicked){this.openDropDown();this.dropdownIconClicked=true;}}));},_displayCurrentValue:function(){if(!this._started){return;}var _49c=this.getDateValue(),_49d=this.getTimeValue(),_49e,_49f={fullYear:true};if(!_49c){return;}_49c.setHours(_49d.getHours());_49c.setMinutes(_49d.getMinutes());_49c.setSeconds(_49d.getSeconds());if(this.displayDate&&this.displayTime){_49f.selector="date and time";}else{if(this.displayDate){_49f.selector="date";}else{if(this.displayTime){_49f.selector="time";}}}_49e=_46f.format(_49c,_49f);if(this.renderAsHyperlink){var node=dojo.byId(this.id+"-Link");node.innerHTML=_49e;}else{this.focusNode.value=_49e;}if((!this.value.getTime)||this.value.getTime()!==_49c.getTime()){this.value=_49c;this.onChange(_49c);}},_setupRenderAsHyperlink:function(){if(!this.renderAsHyperlink){return;}dojo.style(this.domNode,"border","none");var node=dojo.create("a",{id:this.id+"-Link",innerHTML:this.focusNode.value},this.domNode,"only");dojo.style(node,"cursor","pointer");this.handles.push(dojo.connect(node,"onclick",this,function(){if(!this.displayTime){dojo.style(this.dropDown.domNode,"height","226px");}else{dojo.style(this.dropDown.domNode,"height","266px");}this.openDropDown();}));},loadDropDown:function(){},isLoaded:function(){return true;},_setBlurValue:function(){},closeDropDown:function(){_475.close(this.dropDown);this._opened=false;this.dropdownIconClicked=false;dojo.forEach(this.documentClickHandle,function(_4a0){dojo.disconnect(_4a0);});},_openResultList:function(){},_showResultList:function(){},_onBlur:function(){},triggerOnFocusBlur:function(_4a1){this._validateInputDate(_4a1);},_validateInputDate:function(_4a2){if(!this._opened&&!this.readOnly&&this.dropDown&&this.focusNode.value!==""){var text=this.focusNode.value;if(text===this.initialTextValue){return;}var _4a3=null;var _4a4="date";if(text.indexOf(":")>0){_4a4="datetime";}_4a2=_4a2||_47b.locale;_4a3=dojo.date.locale.parse(text,{selector:_4a4,locale:_4a2});if(this.dropDown&&_4a3!==null&&isNaN(_4a3.getDate())===false){if(_4a3.getFullYear()>=(new Date().getFullYear()-259)){this.dropDown.dateNode.set("value",_4a3);this.dropDown.timeNode.set("value",_4a3);}}this.dropDown.onOKClicked();}},_onFocusBlur:function(){this._validateInputDate();if(this._opened){_477.focus(dojo.query(".dijitCalendarContainer",this.dropDown.dateContainer)[0]);}},_onFocusKeyUp:function(e){},_onKey:function(e){},openDropDown:function(){this._opened=true;var self=this;_475.open({popup:this.dropDown,around:this.domNode,onExecute:function(){self.closeDropDown();_477.focus(self.focusNode);},onCancel:function(){self.closeDropDown();_477.focus(self.focusNode);},onClose:function(){}});this.documentClickHandle.push(dojo.connect(document,"onclick",this,"_documentOnClick"));if(this.displayTime){this.dropDown.loadTimeZones();}_477.focus(dojo.query(".dijitCalendarContainer",this.dropDown.dateContainer)[0]);_475._stack[0].handlers[0].remove();},_getUTCDate:function(date){return this.dropDown._getUTCDate(date);},getDateValue:function(){return this.dropDown.dateNode.get("value");},getTimeValue:function(){var _4a5=this.dropDown.timeNode.get("value")||new Date(Date.now());if(_4a5){_4a5.setSeconds(this.dropDown.timeNode["seconds"]||0);}return _4a5;},getMinDate:function(){this.minDate=Sage.Utility.Activity.formatDateAdd(new Date(),"year",-259);return this.minDate;},_getValueAttr:function(){var d=this.getDateValue();var t=this.getTimeValue();d.setHours(t.getHours());d.setMinutes(t.getMinutes());d.setSeconds(t.getSeconds());return d;},_setValueAttr:function(val){if(val&&val.toDateString){if(this.dropDown){this.dropDown.dateNode.set("value",val);this.dropDown.timeNode.set("value",val);this.dropDown.timeNode["seconds"]=val.getSeconds();this._displayCurrentValue();}if((!this.value.getTime)||this.value.getTime()!==val.getTime()){this.value=val;this.onChange(val);}}},_setDisplayDateAttr:function(_4a6){this.displayDate=_4a6;this._displayCurrentValue();if(this.dropDown){if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}}},_getDisplayDateAttr:function(){return this.displayDate;},_setToolTipAttr:function(_4a7){if(_4a7&&_4a7!==""){this.set("title",_4a7);}},_getToolTipAttr:function(){return this.toolTip;},_setDisabledAttr:function(_4a8){if(_4a8){dojo.style(this._buttonNode,"visibility","hidden");dojo.style(this._buttonNode,"display","none");}else{dojo.style(this._buttonNode,"visibility","");dojo.style(this._buttonNode,"display","");}this.inherited(arguments);},_setReadOnlyAttr:function(_4a9){if(_4a9){dojo.style(this._buttonNode,"visibility","hidden");dojo.style(this._buttonNode,"display","none");}this.inherited(arguments);},_setDisplayTimeAttr:function(_4aa){this.displayTime=_4aa;this._displayCurrentValue();if(this.dropDown){if(this.displayDate){this.dropDown._showDateNode();}else{this.dropDown._hideDateNode();}dojo.forEach(this.dateOnlyHanlde,function(_4ab){dojo.disconnect(_4ab);});if(this.displayTime){this.dropDown.displayTime=true;this.dropDown._showTimeNode();}else{this.dropDown.displayTime=false;this.dateOnlyHanlde.push(dojo.connect(this.dropDown,"calendarDateSelected",this,"_displayCurrentValue"));this.dropDown._hideTimeNode();}}},_getDisplayTimeAttr:function(){return this.displayTime;},getValueForASPNET:function(){if(this.focusNode.value===""){return"";}var _4ac=[];var date=this.getDateValue();_4ac.push(date.getFullYear());_4ac.push(date.getMonth()+1);_4ac.push(date.getDate());var time=this.getTimeValue();_4ac.push(time.getHours());_4ac.push(time.getMinutes());return _4ac.join(",");},destroy:function(){dojo.forEach(dijit.findWidgets(this.domNode),function(wid){wid.destroy(false);});dojo.forEach(this.handles,function(_4ad){dojo.disconnect(_4ad);});this.inherited(arguments);},fmtDateForASPNET:function(){var date=this.getDateValue();var time=this.getTimeValue();var year=date.getFullYear();var _4ae=date.getMonth()+1;var day=date.getDate();var _4af=time.getHours();var _4b0=time.getMinutes();var _4b1="";if(this.displayDate){var _4b2=this.getDivChar();var _4b3=_4ae;var _4b4=day;if(this.dateFormat.substring(0,1).toUpperCase()=="MM"){_4b3=(_4b3<10)?"0"+_4b3:_4b3;}if(this.dateFormat.substring(0,1).toUpperCase=="DD"){_4b4=(_4b4<10)?"0"+_4b4:_4b4;}if(this.dateFormat.substring(0,1)=="M"||this.dateFormat.substring(0,1)=="m"){_4b1=_4b3+_4b2+_4b4+_4b2+date.getFullYear();}if(this.dateFormat.substring(0,1)=="D"||this.dateFormat.substring(0,1)=="d"){_4b1=_4b4+_4b2+_4b3+_4b2+date.getFullYear();}if(this.dateFormat.substring(0,1)=="Y"||this.dateFormat.substring(0,1)=="y"){_4b1=date.getFullYear()+_4b2+_4b3+_4b2+_4b4;}if(this.displayTime){_4b1+=" ";}}if(this.displayTime){var _4b5=this.getTimeDivChar();var _4b6=_4af;var _4b7=_4b0;if(_4b7<10){_4b7="0"+_4b7;}if(this.dateFormat.indexOf("H")>-1){_4b1+=_4b6+_4b5+_4b7;}else{if(this.dateFormat.indexOf("h")>-1){var _4b8=_4af;if(this.Hours===0){_4b8="12";}var _4b9="AM";if(_4af>=12){if(_4af>12){_4b8=(_4af-12);}_4b9="PM";}_4b1+=_4b8+_4b5+_4b7+" "+_4b9;}else{_4b1+=time.toLocaleTimeString();}}}return _4b1;},getDivChar:function(){var _4ba="";for(var i=0;i<this.dateFormat.length;i++){if(isNaN(this.dateFormat.charAt(i))){if((this.dateFormat.charAt(i)<"A"||this.dateFormat.charAt(i)>"Z")&&(this.dateFormat.charAt(i)<"a"||this.dateFormat.charAt(i)>"z")){_4ba=this.dateFormat.charAt(i);break;}}}return _4ba;},getTimeDivChar:function(){if(this.displayTime){var _4bb=this.dateFormat.split(" ");if(_4bb.length>1){var _4bc=_4bb[1];for(var i=0;i<_4bc.length;i++){if(isNaN(_4bc.charAt(i))){if((_4bc.charAt(i)<"A"||_4bc.charAt(i)>"Z")&&(_4bc.charAt(i)<"a"||_4bc.charAt(i)>"z")){return _4bc.charAt(i);}}}}}return":";}});return _481;});},"Sage/MainView/Contact/ContactSearchForDuplicates":function(){require({cache:{"url:Sage/MainView/Contact/templates/ContactDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Contact.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccount_Caption || \"Account:\" %}</td>',\r\n                        '<td class=\"DataItem\"><a href=\"Account.aspx?entityid={{%= $.templateData.account_id %}}\">{%= Sage.Utility.htmlEncode($.templateData.accountname) %}</a></td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n] ","url:Sage/MainView/Lead/templates/LeadDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Lead.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svCompany_Caption || \"Company:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountname %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","url:Sage/MainView/Account/templates/AccountDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Account.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svSubType_Caption || \"Sub Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.subtype %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Status || \"Status:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.status %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svDivision_Caption || \"Division:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.division %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svIndustry_Caption || \"Industry:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.industry) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMainPhone_Caption || \"Main phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mainphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTollFree_Caption || \"Toll free:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.tollfree) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]"}});define("Sage/MainView/Contact/ContactSearchForDuplicates",["dojo/_base/declare","dojo/i18n!./nls/ContactSearchForDuplicates","dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/UI/Dialogs","dijit/Dialog","dojo/i18n!./nls/ContactSearchForDuplicates","dojo/text!./templates/ContactDetailSummary.html","dojo/text!../Lead/templates/LeadDetailSummary.html","dojo/text!../Account/templates/AccountDetailSummary.html"],function(_4bd,_4be,_4bf,_4c0,_4c1,_4c2,_4c3,_4c4,_4c5,_4c6,nls,_4c7,_4c8,_4c9){var _4ca=_4bd("Sage.MainView.Contact.ContactSearchForDuplicates",[_4bf,_4c0],{workSpace:{},templateDialog:false,templateData:"",rootUrl:"slxdata.ashx/slx/crm/-/namedqueries?format=json&",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_4be);},init:function(_4cb){this.workSpace=_4cb;},onTabFiltersClick:function(){this.setDivDisplay(this.workSpace.divFiltersId,"inline");this.setDivDisplay(this.workSpace.divOptionsId,"none");this.setTabDisplay(this.workSpace.tabFiltersId,"tws-tab-button tws-active-tab-button");this.setTabDisplay(this.workSpace.tabOptionsId,"tws-tab-button");},onTabOptionsClick:function(){this.setDivDisplay(this.workSpace.divOptionsId,"inline");this.setDivDisplay(this.workSpace.divFiltersId,"none");this.setTabDisplay(this.workSpace.tabOptionsId,"tws-tab-button tws-active-tab-button");this.setTabDisplay(this.workSpace.tabFiltersId,"tws-tab-button");},setDivDisplay:function(_4cc,_4cd){var _4ce=dojo.byId(_4cc);if(_4ce!==null){_4ce.style.display=_4cd;}},setTabDisplay:function(_4cf,_4d0){var _4d1=dojo.byId(_4cf);if(_4d1!==null){_4d1.className=_4d0;}},showSummaryView:function(_4d2,_4d3){var url=this.getReqestUrl(_4d2,_4d3);this.showData(url,this.successRequest,this.errorRequest,_4d2,_4d3);},getReqestUrl:function(_4d4,_4d5){var url=null;if(_4d4==="Contact"){url=this.getReqeustUrlEx(_4d5,"ContactSearch");}if(_4d4==="Lead"){url=this.getReqeustUrlEx(_4d5,"LeadSearch");}if(_4d4==="Account"){url=this.getReqeustUrlEx(_4d5,"AccountSearch");}return url;},getReqeustUrlEx:function(_4d6,_4d7){var _4d8="mainentity.id eq '${0}'";var _4d9={name:_4d7,where:dojo.string.substitute(_4d8,[_4d6])};return this.rootUrl+this.buildQParamStr(_4d9);},buildQParamStr:function(_4da){var o=_4da;var p=[];if(typeof o==="object"){for(var k in o){p.push(k+"="+encodeURIComponent(o[k]));}}else{if(typeof o==="string"){p.push(o);}}return p.join("&");},showData:function(url,_4db,_4dc,_4dd,_4de){if(typeof _4db==="undefined"){_4db=function(data){};}if(typeof _4dc==="undefined"){_4dc=function(){};}if(typeof _4dd==="undefined"){_4dd="";}if(typeof _4de==="undefined"){_4de="";}var self=this;dojo.xhrGet({url:url,cache:false,preventCache:true,handleAs:"json",load:function(data){_4db(self,_4dd,data);},error:function(_4df,_4e0,_4e1){_4dc(self,_4e1);}});},successRequest:function(self,_4e2,data){self.show(_4e2,data);},show:function(_4e3,data){this.templateData=data.items[0];this.templateDialog=new _4c6({title:this.getSummaryTitle(_4e3),id:[this.id,"-Dialog"].join(""),content:this.getTemplate(_4e3).apply(this)});this.connect(this.templateDialog,"onCancel",this._close);this.templateDialog.show();},errorRequest:function(self,_4e4){_4c5.showError(dojo.string.substitute(self.errorLoadingSummaryView,[_4e4]));},getSummaryTitle:function(_4e5){var _4e6=null;if(_4e5==="Contact"){_4e6=this.ContactSummaryView_Title;}if(_4e5==="Lead"){_4e6=this.LeadSummaryView_Title;}if(_4e5==="Account"){_4e6=this.AccountSummaryView_Title;}return _4e6;},getTemplate:function(_4e7){var tpl=null;if(_4e7==="Contact"){tpl=new Simplate(eval(_4c7));}if(_4e7==="Lead"){tpl=new Simplate(eval(_4c8));}if(_4e7==="Account"){tpl=new Simplate(eval(_4c9));}return tpl;},_close:function(){this.templateDialog.destroyRecursive();}});return _4ca;});},"Sage/UI/Controls/_customSelectMixin":function(){define("Sage/UI/Controls/_customSelectMixin",["dijit/_Widget","Sage/_Templated","dijit/form/ComboBox","dojo/_base/declare"],function(_4e8,_4e9,_4ea,_4eb){var _4ec=_4eb("Sage.UI.Controls._customSelectMixin",[_4e8,_4e9],{widgetsInTemplate:true,disabled:false,value:"",text:"",widgetTemplate:new Simplate(["<div>",'<select dojoType="dijit.form.ComboBox" id="{%= $.id %}_select" labelAttr="label" dojoAttachPoint="_select" dojoAttachEvent="onChange:_onChange"></select>',"</div>"]),postCreate:function(){this.inherited(arguments);this._fillSelect();},_fillSelect:function(){},_setValueAttr:function(_4ed){this.text=_4ed;this.value=_4ed;if(this._store){this._store.fetchItemByIdentity({identity:_4ed,onItem:function(item){if(item){this._select.set("value",this._store.getValue(item,this._storeData.label));this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this._handleValueNotInStore(_4ed);}},onError:function(){},scope:this});}},_getValueAttr:function(){if(this._select.item&&this._store){this.value=this._store.getValue(this._select.item,this._storeData.identifier);}return this.value;},_onChange:function(_4ee){if((this.value===_4ee)||(this.text===_4ee)){return;}if(this._select.item){var item=this._select.item;this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this.value=this._handleValueNotInStore(_4ee);}this.onChange(this.value);},_handleValueNotInStore:function(_4ef){this.text=_4ef;this.value=_4ef;return _4ef;},_getTextAttr:function(){return this.text;},_setTextAttr:function(text){this.text=text;this._select.set("displayedValue",text);},_setDisabledAttr:function(_4f0){this.disabled=_4f0;this._select.set("disabled",_4f0);},_getDisabledAttr:function(){this.disabled=this._select.get("disabled");return this.disabled;},onChange:function(){}});return _4ec;});},"Sage/Utility/Email":function(){define("Sage/Utility/Email",["Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/parser","dojox/validate/regexp","dojo/i18n!./nls/Email"],function(_4f1,_4f2,_4f3,_4f4,_4f5,nls){Sage.namespace("Utility.Email");dojo.mixin(Sage.Utility.Email,{resources:nls,writeEmail:function(_4f6,_4f7,body,_4f8,_4f9){if(dojo.isString(_4f6)&&(_4f6.length>0)){if((_4f6.indexOf("{",0)===0)&&(_4f6.lastIndexOf("}")==_4f6.length-1)){try{var _4fa=dojo.fromJson(_4f6);if(dojo.isObject(_4fa)){_4f6=_4fa;}}catch(e){_4f3.showError(dojo.substitute(_4f1.Email.resources.RecipientInfoError,[e.message]));if(typeof console!=="undefined"){console.error("There was an error attempting to parse the recipient data as JSON: %o",e);console.error("recipient parameter: %o",_4f6);}return;}}else{if((_4f6.indexOf("[",0)===0)&&(_4f6.lastIndexOf("]")===_4f6.length-1)){_4f6=eval(_4f6);}}}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_4fb,_4fc){var _4fd=0;if(typeof _4f9!=="undefined"){if(!isNaN(_4f9)){if(Number(_4f9)==1){_4fd=1;}}}var _4fe=3,olCC=2,olTo=1;var _4ff=["to","cc","bcc"];var _500=0;var _501=(dojo.isArray(_4f6))?"array":typeof _4f6;var _502=(_501!=="undefined")&&(_4f6!==null);var _503={"to":[],"cc":[],"bcc":[]};var _504=function(type,_505,_506,_507){if(self.isValidEmailAddress(_507||"")){var _508=function(_509){_509.push({"firstName":_505||"","lastName":_506||"","emailAddress":_507||""});};switch(type){case olCC:_508(_503.cc);break;case _4fe:_508(_503.bcc);break;default:_508(_503.to);break;}}else{if(typeof console!=="undefined"){}}};if(_502){var _50a=function(type,_50b){if(dojo.isObject(_50b)){_504(type,_50b.firstName||"",_50b.lastName||"",_50b.emailAddress||"");}};switch(_501){case"string":if(_4f6!==""){_504(olTo,"","",_4f6);}break;case"array":dojo.forEach(_4f6,function(_50c){if(dojo.isString(_50c)){_504(olTo,"","",_50c);}else{if(dojo.isObject(_50c)){_50a(olTo,_50c);}}});break;case"object":_500=0;dojo.forEach(_4ff,function(prop){_500++;if(_4f6.hasOwnProperty(prop)){switch((dojo.isArray(_4f6[prop]))?"array":typeof _4f6[prop]){case"string":_504(_500,"","",_4f6[prop]);break;case"array":dojo.forEach(_4f6[prop],function(obj){if(dojo.isString(obj)){_504(_500,"","",obj);}else{if(dojo.isObject(obj)){_50a(_500,obj);}}});break;case"object":_50a(_500,_4f6[prop]);break;}}});break;}}_4f6=undefined;var _50d=function(obj1,obj2){var _50e;switch(_4fd){case 1:_50e=(obj1.lastName||"").toLocaleUpperCase().localeCompare((obj2.lastName||"").toLocaleUpperCase());if(_50e===0){_50e=(obj1.firstName||"").toLocaleUpperCase().localeCompare((obj2.firstName||"").toLocaleUpperCase());}break;default:_50e=(obj1.firstName||"").toLocaleUpperCase().localeCompare((obj2.firstName||"").toLocaleUpperCase());if(_50e===0){_50e=(obj1.lastName||"").toLocaleUpperCase().localeCompare((obj2.lastName||"").toLocaleUpperCase());}}return _50e;};var _50f=(dojo.isString(_4f7))?_4f7:"";var _510=(dojo.isString(body))?body:"";var _511=_503.to.length+_503.cc.length+_503.bcc.length;_502=(_511>0);var _512=_4fb.GetDesktopService(false);if(_512){if(typeof _512.MailMergeGUI!=="undefined"){if(typeof _512.MailMergeGUI().OutlookIsAvailable!=="undefined"&&_512.MailMergeGUI().OutlookIsAvailable){var _513=_512.NewActiveXObject("SLXMMGUIW.MultidimensionalArray");var _514=4;_513.Resize(0,_514);if(_502){_513.Resize(_511,_514);_500=0;var iRow=0;dojo.forEach(_4ff,function(prop){_500++;var _515=_503[prop];if(dojo.isArray(_515)&&_515.length>0){_515.sort(_50d);dojo.forEach(_515,function(obj){_513.SetValue(iRow,0,obj.firstName||"");_513.SetValue(iRow,1,obj.lastName||"");_513.SetValue(iRow,2,obj.emailAddress||"");_513.SetValue(iRow,3,_500);iRow++;});}});}_512.MailMergeGUI().WriteEmailEx(_513,_50f,_510,_4fd);return;}else{if(typeof console!=="undefined"){if(typeof _512.MailMergeGUI().OutlookIsAvailable==="undefined"){console.error("The request to e-mail could not be processed by Desktop Integration. An older version of SLXMMGUIW.DLL appears to be installed.");}else{}}}}}var _516=function(_517,_518,_519){var _51a="";var _51b=_517||"";var _51c=_518||"";var _51d=_519||"";if(_51b!==""&&_51c!==""){switch(_4fd){case 1:_51a=_51c+", "+_51b;break;default:_51a=_51b+" "+_51c;break;}}else{if(_51c===""&&_51b!==""){_51a=_51b;}else{if(_51c!==""&&_51b===""){_51a=_51c;}}}if(_51a===""){return _51d;}_51a=dojo.string.substitute("${0} <${1}>",[_51a,_51d]);return _51a;};if(typeof ActiveXObject!="undefined"){try{var _51e=new ActiveXObject("Outlook.Application");var _51f=_51e.CreateItem(0);if(_50f!==""){_51f.Subject=_50f;}if(_510!==""){if(_4f8){_51f.HTMLBody=_510;}else{_51f.Body=_510;}}_500=0;dojo.forEach(_4ff,function(prop){_500++;var _520=_503[prop];if(dojo.isArray(_520)&&_520.length>0){_520.sort(_50d);dojo.forEach(_520,function(obj){var _521=_516(obj.firstName,obj.lastName,obj.emailAddress);var _522=_51f.Recipients.Add(_521);_522.Type=_500;});}});_51f.Display();return;}catch(e){if(typeof console!=="undefined"){}}}if(typeof console!=="undefined"){}var _523=function(str,_524,_525,_526,_527,_528){if(typeof _524=="string"){_524=[_524];}var _529;if(_527===false){_529=function(x){return x;};}else{_529=function(x){return encodeURIComponent(x);};}for(var i=0;i<_524.length&&str.length<_525;i++){var left=_525-str.length;var part=_524[i];if(i>0&&_526){left--;}if(left===0||(_528===false&&left<part.length)){continue;}part=part.substr(0,left);var ns=_529(part);if(str.length+ns.length>_525){if(_528===false){continue;}var _52a=0;var _52b=ns.length-left;while(_52b>0){_52a++;_52b-=_529(part.charAt(part.length-_52a)).length;}if(_52a>=part.length){continue;}ns=_529(part.substr(0,part.length-_52a));}if(i>0&&_526){str+=_526;}str+=ns;}return str;};var _52c=function(type){var _52d=[];var _52e;switch(type){case olCC:_52e=_503.cc;break;case _4fe:_52e=_503.bcc;break;default:_52e=_503.to;break;}if(dojo.isArray(_52e)&&_52e.length>0){_52e.sort(_50d);dojo.forEach(_52e,function(obj){var _52f=_516(obj.firstName||"",obj.lastName||"",obj.emailAddress||"");_52d.push(_52f);});}return _52d;};var _530=(_4f7||body)?1500:2040;var _531=_52c(olTo);var url=_523("mailto:",(dojo.isArray(_531)?_531:[]),_530,";",false,false);var _532=false;var _533=function(_534){var _535=(_532)?"&":"?";_535+=_534+"=";_532=true;return _535;};if(dojo.isString(_4f7)&&_4f7!==""){url+=_533("subject");url=_523(url,_4f7,1700);}var _536=_52c(olCC);if(dojo.isArray(_536)&&_536.length>0){url+=_533("cc");url=_523(url,_536,_530,";",false,false);}var _537=_52c(_4fe);if(dojo.isArray(_537)&&_537.length>0){url+=_533("bcc");url=_523(url,_537,_530,";",false,false);}if(dojo.isString(body)&&body!==""){url+=_533("body");url=_523(url,body,2000);}if(typeof console!=="undefined"){}try{location.href=url;}catch(e){_4f3.showError(dojo.string.substitute(_4f1.Email.resources.MailToProtocolError,[url.length,(typeof e.toMessage=="function")?e.toMessage():e.message]));}});},isWriteEmailToIdsSupported:function(_538){if(!dojo.isString(_538)||_538===""){if(typeof console!=="undefined"){console.error("The maintable argument is invalid in isWriteEmailToIdsSupported(maintable).");}}var _539=(dojo.isString(_538))?_538.toUpperCase():"";return(_539=="CONTACT"||_539=="LEAD");},__emailValidationRegEx:null,isValidEmailAddress:function(_53a){if(this.__emailValidationRegEx===null){this.__emailValidationRegEx=new RegExp(dojox.validate.regexp.emailAddress());}if(dojo.isString(_53a)){return this.__emailValidationRegEx.test(_53a);}return false;},writeEmailToIds:function(_53b,_53c,_53d,body,_53e,_53f){if(!this.isWriteEmailToIdsSupported(_53c)){_4f3.showError(_4f1.Email.resources.InvalidContextError);return;}if(!dojo.isArray(_53b)){_4f3.showError(_4f1.Email.resources.InvalidArgumentError);return;}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_540,_541){var _542=_53c.toUpperCase();var _543=0;_53b.sort();var _544=[];dojo.forEach(_53b,function(id){if(dojo.indexOf(_544,id)==-1){_544.push(id);}else{_543++;if(typeof console!=="undefined"){}}});_53b=_544;dojo.forEach(_53b,function(id,idx){_53b[idx]="'"+id+"'";});var _545=1;if(_53b.length>100){_545=Math.floor(_53b.length/100);if((_53b.length%100)!==0){_545++;}}var _546=0;if(typeof _53e!=="undefined"){if(!isNaN(_53e)){if(Number(_53e)==1){_546=1;}}}var _547=(_542=="CONTACT");var _548="Email";if(dojo.isString(_53f)&&_53f!==""&&_547){var _549=_53f.toUpperCase();switch(_549){case"SECONDARYEMAIL":_548="SecondaryEmail";if(typeof console!=="undefined"){}break;case"EMAIL3":_548="Email3";if(typeof console!=="undefined"){}break;default:if(_549!="EMAIL"){if(typeof console!=="undefined"){}}if(typeof console!=="undefined"){}break;}}var _54a=0;var _54b=0;var _54c;var _54d=0;var _54e={"data":[]};var _54f=function(key,_550,_551,_552){_54e.data.push({"key":key||"","firstName":_550||"","lastName":_551||"","emailAddress":_552||""});};var _553=_540.GetDesktopService(false);for(_54c=0;_54c<_545;_54c++){var _554=function(){var _555=100;if(_53b.length<100){_555=_53b.length;}var _556=new Array(_555);var _557;for(_557=0;_557<_555;_557++){_556[_557]=_53b.shift();}var _558=(_556.length>1)?"Id in (${0})":"Id eq ${0}";var _559=dojo.string.substitute(_558,[_556.join(",")]);var _55a=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _55b=new Sage.SData.Client.SDataResourceCollectionRequest(_55a);_55b.setResourceKind((_542=="LEAD")?"leads":"contacts");var _55c="FirstName,LastName,DoNotSolicit,DoNotEmail,"+_548;_55b.setQueryArg("select",_55c);_55b.setQueryArg("where",_559);_55b.read({httpMethodOverride:true,success:function(data){_54d++;var _55d=(typeof data!=="undefined"&&data!==null)?data["$resources"]:null;if(dojo.isArray(_55d)&&_55d.length>0){var _55e;for(_55e=0;_55e<_55d.length;_55e++){var _55f=_55d[_55e].$key||"";var _560;switch(_548){case"SecondaryEmail":_560=_55d[_55e].SecondaryEmail||"";break;case"Email3":_560=_55d[_55e].Email3||"";break;default:_560=_55d[_55e].Email||"";break;}var _561=_55d[_55e].FirstName||"";var _562=_55d[_55e].LastName||"";var _563=_55d[_55e].DoNotEmail||false;var _564=_55d[_55e].DoNotSolicit||false;if(_560!==""&&self.isValidEmailAddress(_560)&&!_563&&!_564){_54f(_55f,_561,_562,_560);}else{if(_563||_564){_54b++;if(typeof console!=="undefined"){}}else{_54a++;if(typeof console!=="undefined"){}}}}}if(_54d==_545){var _565=null;if(_54b>0||_54a>0||_543>0){_565=dojo.string.substitute(_4f1.Email.resources.FilteredOutMsg,[_54b,_54a,_543]);}var _566={rtTo:0,rtCC:1,rtBCC:2};var _567={"to":[],"cc":[],"bcc":[]};var _568=function(type,_569,_56a,_56b){var _56c=function(_56d){_56d.push({"firstName":_569||"","lastName":_56a||"","emailAddress":_56b||""});};switch(type){case _566.rtCC:_56c(_567.cc);break;case _566.rtBCC:_56c(_567.bcc);break;default:_56c(_567.to);break;}};var _56e;if(_54e.data.length>1){if(_54a>0){if(typeof console!=="undefined"){}}if(_54b>0){if(typeof console!=="undefined"){}}if(_543>0){if(typeof console!=="undefined"){}}var i;if(_553){var _56f=new Sage.SelectEmailInfo();dojo.forEach(_54e.data,function(_570){_56f.AddInfo("","",_570.key,_570.emailAddress,_570.firstName,_570.lastName,"","",false);});var _571=(dojo.isString(_565))?_565:"";var _572=_553.SelectEmailNames(_56f,MaxTo.maxNoMax,_571);if(_572!==null&&_572.Recipients.length>0){for(i=0;i<_572.Recipients.length;i++){_56e=_572.Recipients[i];_568(_56e.Type,_56e.FirstName,_56e.LastName,_56e.EmailAddress);}}else{return;}}else{dojo.forEach(_54e.data,function(_573){_568(_566.rtTo,_573.firstName,_573.lastName,_573.emailAddress);});}}else{if(_54e.data.length==1){_56e=_54e.data[0];_568(_566.rtTo,_56e.firstName,_56e.lastName,_56e.emailAddress);}else{var _574=_4f1.Email.resources.AllInvalidEmailError;if(_547&&_548!="Email"){_574+=dojo.string.substitute(" "+_4f1.Email.resources.EmailFieldQueried,["Contact."+_548]);}_4f3.showInfo(_574);return;}}var _575=(dojo.isString(_53d))?_53d:"";var _576=(dojo.isString(body))?body:"";var _577=(_576.length>13)?(_576.indexOf("<HTML",_576.substring(0,4).toUpperCase())===0):false;self.writeEmail(_567,_575,_576,_577,_546);}},failure:function(xhr,_578){var _579={message:_4f1.Email.resources.EntityInfoError};_4f1.ErrorHandler.handleHttpError(xhr,_578,_579);},scope:this});};_554();}});},writeEmailToGroupSelection:function(_57a,body,_57b,_57c){if(_4f1.getModeId()!="list"){_4f3.showInfo(_4f1.Email.resources.CapabilityModeError);return;}var _57d=Sage.Services.getService("ClientGroupContext");if(!dojo.isObject(_57d)){return;}var _57e=_57d.getContext().CurrentTable;if(!this.isWriteEmailToIdsSupported(_57e)){_4f3.showError(_4f1.Email.resources.CapabilityEntityError);return;}var _57f=dijit.byId("list");if(!dojo.isObject(_57f)){return;}var _580=_57f.getSelectionInfo();if(!dojo.isObject(_580)||!_580.hasOwnProperty("selectionCount")||_580.selectionCount<=0){_4f3.showInfo(_4f1.Email.resources.NoRowsSelectedError);return;}var _581=new Array(_580.selections.length);dojo.forEach(_580.selections,function(item,idx){_581[idx]=item.id;});this.writeEmailToIds(_581,_57e,_57a,body,_57b,_57c);}});return Sage.Utility.Email;});},"Sage/MainView/Contact/ContactUserAssociationEditor":function(){require({cache:{"url:Sage/MainView/Contact/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divUserLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"userLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/Contact/ContactUserAssociationEditor",["dojo/_base/declare","dojo/i18n!./nls/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/string","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/ContactUserAssociationEditor.html","Sage/UI/Controls/SingleSelectPickList","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/Form"],function(_582,_583,_584,_585,_586,_587,_588,_589,_58a,_58b,_58c,_58d,_58e,_58f){var _590=_582("Sage.TaskPane.ContactUserAssociationEditor",[_58b,_58c],{id:"dlgContactUserAssociation",actionType:false,_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_User:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_58f)),constructor:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;dojo.mixin(this,_583);if(this.actionType=="disassociate"){}},associationExists:function(_591,_592,_593,_594){this._setupStore();var _595=_589.substitute("UserId eq '${0}' ",[_593.UserId]);this._contactUserStore.fetch({query:_595,onComplete:function(_596){if(_596&&_596.length>0){_592.call(_594,_596,_593);}else{_591.call(_594,_593);}},onError:function(){_591.call(_594,_593);},scope:this});},loadContactData:function(_597,_598,_599){if(!_597){return;}this._setupStore();var _59a=_589.substitute("ContactId in ['${0}'] ",[this._selectionInfo.join("','")]);this._contactUserStore.fetch({query:_59a,onComplete:function(_59b){_598.call(_599,_59b);},onError:function(){_598.call(_599,null);},scope:this});this._contactUserStore.fetch({predicate:"'"+_597+"'",onComplete:function(_59c){_598.call(_599,_59c);},onError:function(){_598.call(_599,null);},scope:this});},setSelectionInfo:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;},show:function(){this._dialog.show();if(!this.lup_User){this.createUserLookup();}},createUserLookup:function(){this.userLookupConfig={id:"_acctMgr",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupNameColText,"field":"UserInfo.UserName","sortable":true},{"name":this.lookupTitleColText,"field":"UserInfo.Title","sortable":true},{"name":this.lookupDepartmentColText,"field":"UserInfo.Department","sortable":true},{"name":this.lookupRegionColText,"field":"UserInfo.Region","sortable":true},{"name":this.lookupTypeColText,"field":"Type","propertyType":"Sage.Entity.Interfaces.UserType","sortable":true}]}],gridOptions:{contextualCondition:function(){return"Type ne '5' and Type ne '6' and Type ne '7' and Type ne '8'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.UserName"}]},isModal:true,initialLookup:true,returnPrimaryKey:true,dialogTitle:this.lookupUserText,dialogButtonText:this.btnOK_Caption};this.lup_User=new _58e({id:"lu_User",config:this.userLookupConfig,style:"width:100%"});dojo.place(this.lup_User.domNode,this.userLookup_Container.domNode,"only");},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _585({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},_okClick:function(){var _59d=this.lup_User.selectedObject.$key;if(this._selectionInfo&&_59d){this._setupStore();if(this.actionType==="associate"){var _59e={"ContactId":this._selectionInfo[0],"UserId":_59d};this.associationExists(this._insertAssociation,function(){Sage.UI.Dialogs.showError(this.associationExistsMessage);},_59e,this);}else{if(this.actionType==="disassociate"){for(var i=0;i<this._selectionInfo.count;i++){}}}}},_insertAssociation:function(_59f,self){this._contactUserStore.saveNewEntity(_59f,this._successfulContactUserSave,this._failedContactUserSave,this);},_successfulContactUserSave:function(data){this._dialog.hide();},_failedContactUserSave:function(er){this._dialog.hide();},_close:function(){this._dialog.hide();}});return _590;});},"Sage/Link":function(){define("Sage/Link",["Sage/UI/Dialogs","Sage/Utility","Sage/Services/ActivityService","dojo/string"],function(_5a0,_5a1,_5a2,_5a3){Sage.namespace("Link");Sage.Link={entityDetail:function(kind,id){var _5a4=kind.toUpperCase();switch(_5a4){case"ACTIVITY":this.editActivity(id);break;case"HISTORY":this.editHistory(id);break;default:if(_5a1.getModeId()==="detail"){var _5a5=Sage.Services.getService("ClientEntityContext");var _5a6=_5a5.getContext();if(_5a6.EntityType===kind||_5a6.EntityType==="Sage.Entity.Interfaces.I"+kind){_5a5.navigateSLXGroupEntity(id);return;}}var url=_5a3.substitute("${0}.aspx?entityid=${1}&modeid=Detail",[kind,id]);document.location=url;break;}},toListView:function(kind){var url;if(typeof kind!=="undefined"){url=kind+".aspx?modeid=list";}else{url=document.location.href.replace("#","");if(url.indexOf("?")>-1){var _5a7=url.split("?");url=_5a7[0];}url+="?modeid=list";}document.location=url;},toActivityListView:function(_5a8){if(document.location.href.toLowerCase().indexOf("activitymanager.aspx")<1){var url="ActivityManager.aspx"+((_5a8)?"?tabId="+_5a8:"");window.setTimeout(function(){document.location=url;},5);}else{if(_5a8){var s=Sage.Services.getService("ClientGroupContext");s.setCurrentGroup(_5a8);}}},schedule:function(type){if(type==="CompleteActivity"){Sage.ClientLinkHandler.request({request:"Schedule",type:type});return;}var _5a9=Sage.Services.getService("ActivityService");if(!_5a9){Sage.Services.addService("ActivityService",new _5a2());_5a9=Sage.Services.getService("ActivityService");}_5a9.scheduleActivity({type:type});},newNote:function(){var _5aa=Sage.Services.getService("ActivityService");if(!_5aa){Sage.Services.addService("ActivityService",new _5a2());_5aa=Sage.Services.getService("ActivityService");}_5aa.insertNote();},scheduleActivity:function(args){this.schedule(args);},schedulePhoneCall:function(){this.schedule("PhoneCall");},scheduleMeeting:function(){this.schedule("Meeting");},scheduleToDo:function(){this.schedule("ToDo");},schedulePersonalActivity:function(){this.schedule("PersonalActivity");},scheduleCompleteActivity:function(){this.schedule("CompleteActivity");},scheduleEvent:function(args){var _5ab=Sage.Services.getService("ActivityService");_5ab.scheduleEvent(args);},editEvent:function(id){var _5ac=Sage.Services.getService("ActivityService");_5ac.editEvent(id);},deleteEvent:function(id){var _5ad=Sage.Services.getService("ActivityService");_5ad.deleteEvent(id);},editActivity:function(id,_5ae,_5af){var _5b0=Sage.Services.getService("ActivityService");if(!_5b0){Sage.Services.addService("ActivityService",new _5a2());_5b0=Sage.Services.getService("ActivityService");}_5af=_5af||"";_5b0.editActivity(id,_5ae,_5af);},editActivityIfConfirmed:function(id,_5b1){var _5b2=Sage.Services.getService("ActivityService");_5b2.editActivityIfConfirmed(id,_5b1);},editActivityOccurrence:function(id,_5b3){Sage.ClientLinkHandler.request({request:"EditActivityOccurrence",id:id,recurDate:_5b3});},editHistory:function(id,args){var _5b4=Sage.Services.getService("ActivityService");if(!_5b4){Sage.Services.addService("ActivityService",new _5a2());_5b4=Sage.Services.getService("ActivityService");}_5b4.editHistory(id);},completeActivity:function(id,_5b5){var _5b6=Sage.Services.getService("ActivityService");_5b6.completeActivity(id,_5b5);},completeNewActivity:function(type,args){var _5b7=Sage.Services.getService("ActivityService");_5b7.completeNewActivity(type,args);},completeActivityOccurrence:function(id,_5b8){var _5b9=Sage.Services.getService("ActivityService");_5b9.completeActivityOccurrence(id,_5b8);},deleteActivity:function(id,_5ba){var _5bb=Sage.Services.getService("ActivityService");_5bb.deleteActivity(id,false,_5ba);},deleteActivityOccurrence:function(id){var _5bc=Sage.Services.getService("ActivityService");_5bc.deleteActivity(id);},confirmActivityFor:function(_5bd,_5be){var _5bf=Sage.Services.getService("ActivityService");_5bf.confirmActivityFor(_5bd,_5be);},editConfirmation:function(id){var _5c0=Sage.Services.getService("ActivityService");_5c0.editConfirmation(id);},acceptConfirmation:function(id){var _5c1=Sage.Services.getService("ActivityService");_5c1.acceptConfirmation({id:id});},declineConfirmation:function(id){var _5c2=Sage.Services.getService("ActivityService");_5c2.declineConfirmation(id);},deleteConfirmation:function(id){var _5c3=Sage.Services.getService("ActivityService");_5c3.deleteConfirmation(id);},scheduleLitRequest:function(){var _5c4=Sage.Services.getService("ActivityService");_5c4.scheduleLitRequest();},deleteLitRequest:function(id){var _5c5=Sage.Services.getService("ActivityService");_5c5.deleteLitRequest(id);},goToLitRequest:function(id){var _5c6=Sage.Services.getService("ActivityService");_5c6.goToLitRequest(id);},goToActivityAssociation:function(_5c7,id){var _5c8=Sage.Services.getService("ActivityService");_5c8.goToActivityAssociation(_5c7,id);},mergeRecords:function(){var _5c9=dijit.byId("list");if(_5c9){var _5ca=_5c9.getSelectionInfo();if(_5ca.selectionCount===2){var _5cb=Sage.Services.getService("SelectionContextService");_5cb.setSelectionContext(_5ca.key,_5ca,this.mergeRecordsSelectionInfoCallback);Sage.ClientLinkHandler.request({request:"MergeRecords",selectionInfoKey:_5ca.key});}else{_5a0.showInfo(MasterPageLinks.Merge_Account_SelectionError);}}},mergeRecordsSelectionInfoCallback:function(){},removeDeletedConfirmation:function(id){Sage.ClientLinkHandler.request({request:"RemoveDeletedConfirmation",id:id});},getHelpUrl:function(_5cc,_5cd){var _5ce;_5ce=_5a1.getClientContextByKey("WebHelpUrlFmt");if(_5ce===""){_5ce="help/WebClient_CSH.htm#${0}";}return _5a3.substitute(_5ce,[_5cc]);},getHelpUrlTarget:function(){var _5cf=_5a1.getClientContextByKey("WebHelpLinkTarget");return(_5cf==="")?"MCWebHelp":_5cf;},editSecurityProfile:function(_5d0,_5d1,_5d2){Sage.ClientLinkHandler.request({request:"Administration",type:"EditSecurityProfile",selectionInfoKey:_5d0+","+_5d1+","+_5d2});},getTeamMemberLink:function(_5d3,_5d4){if(_5d3.toLowerCase()=="user"){Sage.ClientLinkHandler.request({request:"Administration",type:"RedirectToUser",kind:_5d3,id:_5d4});}else{window.location.href=_5d3+".aspx?entityId="+_5d4;}}};window.Link=Sage.Link;return Sage.Link;});},"Sage/Utility/File/nls/DefaultDropHandler":function(){define("Sage/Utility/File/nls/DefaultDropHandler",["Sage/LanguageList","dojo/_base/lang"],function(_5d5,lang){var nls={root:{emailDroppedText:"Dropped Email",attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities."}};return lang.mixin(_5d5,nls);});},"Sage/MainView/ActivityMgr/RecurringEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/RecurringEditor.html":'\r\n[\'<div>\',\r\n    \'<table style="width:100%">\',\r\n        \'<tr>\',\r\n            \'<td class="recurring-selectors">\',  //radio buttons...\r\n                \'<div>{%= $.activityOccurrsText %}</div>\',\r\n                \'<div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="None" id="{%= $.id %}_rdo_Once" dojoAttachPoint="rdo_Once" checked="true" dojoAttachEvent="onChange:_onceChanged" />\',  //  \r\n                    \'<label for="{%= $.id %}_rdo_Once">&nbsp;{%= $.onceText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="daily" id="{%= $.id %}_rdo_Daily" dojoAttachPoint="rdo_Daily" dojoAttachEvent="onChange:_dailyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Daily">&nbsp;{%= $.dailyText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="weekly" id="{%= $.id %}_rdo_Weekly" dojoAttachPoint="rdo_Weekly" dojoAttachEvent="onChange:_weeklyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Weekly">&nbsp;{%= $.weeklyText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="monthly" id="{%= $.id %}_rdo_Monthly" dojoAttachPoint="rdo_Monthly" dojoAttachEvent="onChange:_monthlyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Monthly">&nbsp;{%= $.monthlyText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="yearly" id="{%= $.id %}_rdo_Yearly" dojoAttachPoint="rdo_Yearly" dojoAttachEvent="onChange:_yearlyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Yearly">&nbsp;{%= $.yearlyText %}</label>\',\r\n                \'</div>\',\r\n            \'</td>\',\r\n            \'<td>\',  //panel for each different recurring type...\r\n                \'<div dojoType="dijit.layout.StackContainer" dojoAttachPoint="_panelContainer" class="recurring-body" >\',\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_oncePanel" class="recurring-panel"  >\',\r\n                        \'{%= $.occursOnceText %}\',\r\n                    \'</div>\',\r\n//daily panel...............................\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_dailyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="dailyEvery" value="days" id="{%= $.id %}_rdoDailyEvery" checked="true" dojoAttachPoint="_rdoDailyEvery" dojoAttachEvent="onChange:_dailyEveryChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoDailyEvery" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_dailyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.daysText %}</span>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="dailyEvery" value="daysAfter" id="{%= $.id %}_rdoDailyEveryAfter" dojoAttachPoint="_rdoDailyEveryAfter" />\',\r\n                                \'<label for="{%= $.id %}_rdoDailyEveryAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_dailyEveryAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.daysAfterText %}</span>\',\r\n                            \'</div>\',\r\n                    \'</div>\',\r\n//weekly panel............................\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_weeklyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="weeklyEvery" value="weeksOn" id="{%= $.id %}_rdoWeeklyEvery" checked="true" dojoAttachPoint="_rdoWeeklyEvery" dojoAttachEvent="onChange:_weeklyEveryChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoWeeklyEvery" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_weeklyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.weeksOnText %}</span>\',\r\n                        \'</div>\',\r\n                        \'<div style="white-space:normal;padding-bottom:10px;">\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkMonday" value="mon" id="{%= $.id %}_chkMonday" dojoAttachPoint="_chkMonday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkMonday" class="padded-inline-label">{%= $.monText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkTuesday" value="tue" id="{%= $.id %}_chkTuesday" dojoAttachPoint="_chkTuesday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkTuesday" class="padded-inline-label">{%= $.tueText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkWednesday" value="wed" id="{%= $.id %}_chkWednesday" dojoAttachPoint="_chkWednesday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkWednesday" class="padded-inline-label">{%= $.wedText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkThursday" value="thu" id="{%= $.id %}_chkThursday" dojoAttachPoint="_chkThursday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkThursday" class="padded-inline-label">{%= $.thurText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkFriday" value="fri" id="{%= $.id %}_chkFriday" dojoAttachPoint="_chkFriday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkFriday" class="padded-inline-label">{%= $.friText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkSaturday" value="sat" id="{%= $.id %}_chkSaturday" dojoAttachPoint="_chkSaturday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkSaturday" class="padded-inline-label">{%= $.satText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkSunday" value="sun" id="{%= $.id %}_chkSunday" dojoAttachPoint="_chkSunday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkSunday" class="padded-inline-label">{%= $.sunText %}</label>\',\r\n                            \'</span>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="weeklyEvery" value="weeksAfter" id="{%= $.id %}_rdoWeeklyEveryAfter" dojoAttachPoint="_rdoWeeklyEveryAfter" />\',\r\n                                \'<label for="{%= $.id %}_rdoWeeklyEveryAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_weeklyEveryAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_calculateEnd" />\',\r\n                            \'<span class="padded-inline-label">{%= $.weeksAfterText %}</span>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n//monthly panel.........................................................\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_monthlyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="monthlyOn" value="monthyOn" id="{%= $.id %}_rdoMonthlyOn" checked="true" dojoAttachPoint="_rdoMonthlyOn" dojoAttachEvent="onChange:_monthlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoMonthlyOn" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_monthlyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.monthsOnText %}</span>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_datesSelect" dojoAttachEvent="onChange:_calculateEnd" maxHeight="300"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="monthlyOn" value="monthyOnThe" id="{%= $.id %}_rdoMonthlyOnThe" dojoAttachPoint="_rdoMonthlyOnThe" />\', // dojoAttachEvent="onChange:_monthlyOnChanged"\r\n                                \'<label for="{%= $.id %}_rdoMonthlyOnThe" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_monthlyOnTheText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.monthsOnTheText %}</span>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_weeksSelect" disabled="true" dojoAttachEvent="onChange:_calculateEnd"></select>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_weekdaySelect" disabled="true" dojoAttachEvent="onChange:_calculateEnd"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="monthlyOn" value="monthyAfter" id="{%= $.id %}_rdoMonthlyAfter" dojoAttachPoint="_rdoMonthlyAfter" dojoAttachEvent="onChange:_monthlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoMonthlyAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_monthlyAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_calculateEnd" />\',\r\n                            \'<span class="padded-inline-label">{%= $.monthsAfterText %}</span>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n// yearly panel..............\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_yearlyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="yearlyOn" value="yearlyOn" id="{%= $.id %}_rdoYearlyOn" checked="true" dojoAttachPoint="_rdoYearlyOn" dojoAttachEvent="onChange:_yearlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoYearlyOn" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_yearlyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.yearsOnText %}</span>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_monthNamesSelect" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                            \'<select dojoType="dijit.form.Select" maxHeight="300" dojoAttachPoint="_yearDatesSelect" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= ($.labelWidth - 3) %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="yearlyOn" value="yearlyOnThe" id="{%= $.id %}_rdoYearlyOnThe" dojoAttachPoint="_rdoYearlyOnThe" />\',\r\n                                \'<label for="{%= $.id %}_rdoYearlyOnThe" class="padded-inline-label">{%= $.theText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_yearWeeksSelect" disabled="true" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_yearWeekdaySelect" disabled="true" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                            \'<label class="padded-inline-label">{%= $.inText %}</label>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_yearMonthNamesSelect" disabled="true" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="yearlyOn" value="yearlyEveryAfter" id="{%= $.id %}_rdoYearlyEveryAfter" dojoAttachPoint="_rdoYearlyEveryAfter" dojoAttachEvent="onChange:_yearlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoYearlyEveryAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_yearlyEveryAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_calculateEnd" />\',\r\n                            \'<span class="padded-inline-label">{%= $.yearsAfterText %}</span>\',\r\n                            \'</div>\',\r\n                    \'</div>\',\r\n                \'</div>\', //stack container\r\n// End date calculator section.........................................\r\n                \'<div dojoAttachPoint="_startEndCalculator" class="display-none">\',\r\n                    \'<hr />\',\r\n                    \'<table>\',\r\n                        \'<tr>\',\r\n                            \'<td>{%= $.startRecurringText %}</td>\',\r\n                            \'<td>\',\r\n                                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_StartRecur" value="{%= $.startDate %}" dojoAttachPoint="dtp_startRecur" displayDate="true" displayTime="false" dojoAttachEvent="onChange:_recurringStartDateChanged" readOnly="true" ></div>\',\r\n                            \'</td>\',\r\n                        \'</tr>\',\r\n                        \'<tr>\',\r\n                            \'<td>\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="endRecur" value="endAfterNum" id="{%= $.id %}_rdoEndAfterNum" dojoAttachPoint="_rdoEndAfter" dojoAttachEvent="onChange:_endCalcModeChanged" checked="true" />\',\r\n                                \'<label for="{%= $.id %}_rdoEndAfterNum" class="padded-inline-label">{%= $.endAfterText  %}</label>\',\r\n                            \'</td><td>\',\r\n                                \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="2" constraints="{places: 0, type: \\\'decimal\\\', max: 999, min: 1}" maxlength="3" id="{%= $.id %}_num_Occurances" dojoAttachPoint="num_Occurances" class="small-inline-textbox" dojoAttachEvent="onChange:_numOccurancesChanged" />\',\r\n                                \'<span class="padded-inline-label">{%= $.occurrencesText %}</span>\',\r\n                            \'</td>\',\r\n                        \'</tr><tr>\',\r\n                            \'<td>\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="endRecur" value="endOn" id="{%= $.id %}_rdoEndOn" dojoAttachPoint="_rdoEndOn" />\',\r\n                                \'<label for="{%= $.id %}_rdoEndOn" class="padded-inline-label">{%= $.endOnText %}</label>\',\r\n                            \'</td>\',\r\n                            \'<td>\',\r\n                                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_EndRecur" dojoAttachPoint="dtp_endRecur" displayDate="true" displayTime="false" dojoAttachEvent="onChange:_endRecurChanged" ></div>\',\r\n                            \'</td>\',\r\n                        \'</tr>\',\r\n                    \'</table>\',\r\n                \'</div>\',\r\n            \'</td>\',\r\n        \'</tr>\',\r\n    \'</table>\',\r\n\'</div>\']'}});define("Sage/MainView/ActivityMgr/RecurringEditor",["dijit/_Widget","Sage/_Templated","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","Sage/Utility/Activity","dijit/form/RadioButton","Sage/UI/Controls/Numeric","dijit/layout/StackContainer","dijit/layout/ContentPane","Sage/UI/NumberTextBox","dijit/form/CheckBox","dijit/form/Select","Sage/UI/Controls/DateTimePicker","dojo/date","dojo/i18n!./nls/RecurringEditor","dojo/text!./templates/RecurringEditor.html"],function(_5d6,_5d7,_5d8,lang,_5d9,_5da,_5db,_5dc,_5dd,_5de,_5df,_5e0,_5e1,_5e2,_5e3,_5e4,_5e5){var _5e6=_5d8("Sage.MainView.ActivityMgr._RecurringCalculator",null,{startDate:new Date(),initialStartDate:new Date(),endDate:new Date(),interval:1,occurances:1,activityRecurPeriodCode:0,recurPeriod:false,editor:false,constructor:function(opts){lang.mixin(this,opts);},calculateEndDate:function(){if(!isNaN(this.interval)&&!isNaN(this.occurances)&&this.recurPeriod){this.endDate=_5e3.add(this.startDate,this.recurPeriod,(this.interval*this.occurances)-this.interval);}return this.endDate||this.startDate;},calculateNumberOfOccurances:function(){var dif=_5e3.difference(this.startDate,this.endDate,this.recurPeriod);var _5e7=(dif/this.interval)+1;_5e7=Math.floor(_5e7);return _5e7;},set:function(prop,val){switch(prop.toLowerCase()){case"enddate":this.endDate=val;this.endDate.setHours(0);this.endDate.setMinutes(0);break;case"interval":this.interval=val;break;case"occurances":this.occurances=val;break;case"startdate":this.startDate=val;this.startDate.setHours(0);this.startDate.setMinutes(0);break;case"initialstartdate":this.initialStartDate=val;this.initialStartDate.setHours(0);this.initialStartDate.setMinutes(0);break;case"editor":this.editor=val;break;case"activityrecurperiodcode":this.activityRecurPeriodCode=val;break;}},get:function(prop){switch(prop.toLowerCase()){case"enddate":return this.endDate;case"interval":return this.interval;case"occurances":return this.occurances;case"startdate":return this.startDate;case"editor":return this.editor;case"activityRecurPeriodCode":return this.activityRecurPeriodCode;}return false;},_getTempStartDate:function(){return new Date(this.startDate.getFullYear(),this.startDate.getMonth(),this.startDate.getDate());}});var _5e8=_5d8("Sage.MainView.ActivityMgr.DailyRecurringCalculator",_5e6,{recurPeriod:"day"});var _5e9=_5d8("Sage.MainView.ActivityMgr.WeeklyRecurringCalculator",_5e6,{recurPeriod:"week",_checkedCount:0,_checkedDays:{},calculateEndDate:function(){if(this.editor){var _5ea=this.editor.countCheckedDays();if(_5ea<2){if(!isNaN(this.interval)&&!isNaN(this.occurances)&&this.recurPeriod){this.endDate=_5e3.add(this.startDate,this.recurPeriod,(this.interval*this.occurances)-this.interval);}return this.endDate||this.startDate;}var _5eb=this.editor.getCheckedDays();var _5ec=this._getTempStartDate();var _5ed=this.occurances-1;while(_5ed>0){_5ec=_5e3.add(_5ec,"day",1);_5ed=_5ed-_5eb[_5ec.getDay()];}return _5ec;}return this.endDate||this.startDate;},calculateNumberOfOccurances:function(){var _5ee=this.inherited(arguments);var _5ef=this.editor.countCheckedDays();if(_5ef>1){var _5f0=_5e3.difference(this.startDate,this.endDate,"day");var _5f1=_5e3.difference(this.startDate,this.endDate,this.recurPeriod);var _5f2=0;if((_5f1*7)<=_5f0){_5ee=_5f1*_5ef;var r=(_5f0%7)*-1;var _5f3=_5e3.add(this.endDate,"day",r);var _5f4=this.editor.getCheckedDays();while(_5e3.compare(this.endDate,_5f3,"date")>=0){if(_5f4[_5f3.getDay()]){_5f2++;}_5f3=_5e3.add(_5f3,"day",1);}}_5ee+=_5f2;}return _5ee;}});var _5f5=_5d8("Sage.MainView.ActivityMgr.MonthlyRecurringCalculator",_5e6,{recurPeriod:"month",calculateStartDate:function(){var _5f6=lang.clone(this.initialStartDate);var _5f7;var _5f8=parseInt(this.editor._datesSelect.get("value"),10);var _5f9=parseInt(this.editor._weekdaySelect.get("value"),10);var _5fa=parseInt(this.editor._weeksSelect.get("value"),10);if(this.editor._rdoMonthlyOn.get("checked")){_5f7=this.getNthDayOfMonth(this.initialStartDate,_5f8);_5f6=_5f7;}else{if(this.editor._rdoMonthlyOnThe.get("checked")){_5f7=_5da.setDateToNthWeekDay(this.initialStartDate,_5fa,_5f9);_5f7.setHours(this.initialStartDate.getHours());_5f7.setMinutes(this.initialStartDate.getMinutes());var _5fb=dojo.date.compare(this.initialStartDate,_5f7,"date");if(_5fb!=0){if(_5fb>0){_5f6=this.calculateFirstOccurrance(this.initialStartDate,_5f7,_5fa,_5f9);}else{_5f6=_5f7;}}}}return _5f6;},calculateEndDate:function(){var _5fc=this.inherited(arguments);if(this.activityRecurPeriodCode===5){var week=_5da.getNthWeekOfMonth(this.startDate);var day=this.startDate.getDay();_5fc=_5da.setDateToNthWeekDay(_5fc,week,day);}return _5fc;},getNthDayOfMonth:function(_5fd,_5fe){var _5ff=lang.clone(_5fd);var _600=_5fd.getDate();if(_600>_5fe){_5ff=dojo.date.add(_5fd,"month",1);}_5ff.setDate(_5fe);return _5ff;},calculateFirstOccurrance:function(_601,_602,_603,_604){var _605=_602;while(dojo.date.compare(this.initialStartDate,_605,"date")>0){_605=_5da.setDateToNthWeekDay(dojo.date.add(_605,"month",1),_603,_604);}return _605;}});var _606=_5d8("Sage.MainView.ActivityMgr.YearlyRecurringCalculator",_5e6,{recurPeriod:"year",calculateEndDate:function(){var _607=this.inherited(arguments);if(this.activityRecurPeriodCode===8){var week=_5da.getNthWeekOfMonth(this.startDate);var day=this.startDate.getDay();_607.setMonth(this.startDate.getMonth());_607=_5da.setDateToNthWeekDay(_607,week,day);}return _607;}});var _608=_5d8("Sage.MainView.ActivityMgr.RecurringEditor",[_5d6,_5d7],{activity:{},id:"",labelWidth:"80",startDate:new Date(),initialStartDate:new Date(),startDateChangedFromParent:false,occurances:2,interval:1,activityRecurPeriodCode:0,recurringPeriods:{once:"once",daily:"daily",weekly:"weekly",monthly:"monthly",yearly:"yearly"},currentPeriod:"once",endCalculators:false,_applyingActivityData:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_5e5)),constructor:function(){lang.mixin(this,_5e4);},postMixInProperties:function(){if(!this.endCalculators){this.endCalculators={};var _609={startDate:this.startDate,endDate:this.endDate,interval:1,occurances:1,editor:this};this.endCalculators[this.recurringPeriods.daily]=new _5e8(_609);this.endCalculators[this.recurringPeriods.weekly]=new _5e9(_609);this.endCalculators[this.recurringPeriods.monthly]=new _5f5(_609);this.endCalculators[this.recurringPeriods.yearly]=new _606(_609);}},_setStartDateAttr:function(_60a){if(_60a.getMonth()===this.startDate.getMonth()&&_60a.getDate()===this.startDate.getDate()&&_60a.getFullYear()===this.startDate.getFullYear()){return;}this.startDateChangedFromParent=true;this._applyingActivityData=true;this.startDate=_60a;this.initialStartDate=_60a;this.dtp_startRecur.set("value",_60a);this._weeklySyncToStartDate();this._monthlySyncToStartDate();this._yearlySyncToStartDate();this._calculateEnd();this._applyingActivityData=false;this.startDateChangedFromParent=false;},_getStartDateAttr:function(){return this.startDate;},_setOccurancesAttr:function(occ){this.occurances=occ;this.num_Occurances.set("value",occ);},_getOccurancesAttr:function(){return this.occurances;},_setActivityAttr:function(_60b){this.activity=_60b;this._setUI();this._applyActivityData();},_getActivityAttr:function(){return this.activity;},onTabShow:function(){this._panelContainer.resize();},_setUI:function(){var opts=[];if(this._datesSelect.getOptions().length<1){for(var i=1;i<32;i++){opts.push({value:i.toString(),label:i.toString()});}this._datesSelect.addOption(opts);this._yearDatesSelect.addOption(opts);}if(this._monthNamesSelect.getOptions().length<1){opts=[{value:"1",label:this.janText},{value:"2",label:this.febText},{value:"3",label:this.marText},{value:"4",label:this.aprText},{value:"5",label:this.mayText},{value:"6",label:this.junText},{value:"7",label:this.julText},{value:"8",label:this.augText},{value:"9",label:this.sepText},{value:"10",label:this.octText},{value:"11",label:this.novText},{value:"12",label:this.decText}];this._monthNamesSelect.addOption(opts);this._yearMonthNamesSelect.addOption(opts);}if(this._weeksSelect.getOptions().length<1){opts=[{value:"1",label:this.firstText},{value:"2",label:this.secondText},{value:"3",label:this.thirdText},{value:"4",label:this.fourthText},{value:"5",label:this.lastText}];this._weeksSelect.addOption(opts);this._yearWeeksSelect.addOption(opts);}if(this._weekdaySelect.getOptions().length<1){opts=[{value:"1",label:this.monText},{value:"2",label:this.tueText},{value:"3",label:this.wedText},{value:"4",label:this.thurText},{value:"5",label:this.friText},{value:"6",label:this.satText},{value:"0",label:this.sunText}];this._weekdaySelect.addOption(opts);this._yearWeekdaySelect.addOption(opts);}},_onceChanged:function(_60c){this._setUI();if(_60c){this._panelContainer.selectChild(this._oncePanel);this.interval=1;this._updateRecurringPeriod(this.recurringPeriods.once);}},_dailyChanged:function(_60d){if(_60d){this._panelContainer.selectChild(this._dailyPanel);this._dailyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.daily);this._toggleEndCalculatorVisibility(this._rdoDailyEvery.get("checked"));}},_dailyUpdateInterval:function(){this.interval=(this._rdoDailyEvery.get("checked"))?this._dailyEveryText.get("value"):this._dailyEveryAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_weeklyChanged:function(_60e){if(_60e){this._panelContainer.selectChild(this._weeklyPanel);this._weeklyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.weekly);this._toggleEndCalculatorVisibility(this._rdoWeeklyEvery.get("checked"));}},_weeklySyncToStartDate:function(){this._clearCheckedWeekdays();this._enforceWeekdayChecked();},_weeklyUpdateInterval:function(){this._enforceWeekdayChecked();this.interval=(this._rdoWeeklyEvery.get("checked"))?this._weeklyEveryText.get("value"):this._weeklyEveryAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_monthlyChanged:function(_60f){if(_60f){this._panelContainer.selectChild(this._monthlyPanel);this._monthlyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.monthly);this._toggleEndCalculatorVisibility(!this._rdoMonthlyAfter.get("checked"));}},_monthlyUpdateInterval:function(){this.interval=(this._rdoMonthlyOn.get("checked"))?this._monthlyEveryText.get("value"):(this._rdoMonthlyOnThe.get("checked"))?this._monthlyOnTheText.get("value"):this._monthlyAfterText.get("value");if(isNaN(this.interval)){this.interval=1;}},_monthlySyncToStartDate:function(){this._datesSelect.set("value",this.startDate.getDate().toString());this._weekdaySelect.set("value",this.startDate.getDay().toString());this._weeksSelect.set("value",_5da.getNthWeekOfMonth(this.startDate).toString());},_yearlyChanged:function(_610){if(_610){this._panelContainer.selectChild(this._yearlyPanel);this._yearlyUpdateInterval();this._updateRecurringPeriod(this.recurringPeriods.yearly);this._toggleEndCalculatorVisibility(!this._rdoYearlyEveryAfter.get("checked"));}},_yearlyUpdateInterval:function(){this.interval=(this._rdoYearlyOn.get("checked"))?this._yearlyEveryText.get("value"):(this._rdoYearlyEveryAfter.get("checked"))?this._yearlyEveryAfterText.get("value"):1;},_yearlySyncToStartDate:function(){this._monthNamesSelect.set("value",(this.startDate.getMonth()+1).toString());this._yearDatesSelect.set("value",this.startDate.getDate().toString());this._yearWeeksSelect.set("value",_5da.getNthWeekOfMonth(this.startDate).toString());this._yearWeekdaySelect.set("value",this.startDate.getDay().toString());this._yearMonthNamesSelect.set("value",(this.startDate.getMonth()+1).toString());},_updateRecurringPeriod:function(_611){this._toggleEndCalculatorVisibility(_611!==this.recurringPeriods.once);this.currentPeriod=_611;this._calculateEnd();this.onRecurPeriodChanged(_611);},_toggleEndCalculatorVisibility:function(_612){if(_612){_5d9.remove(this._startEndCalculator,"display-none");}else{_5d9.add(this._startEndCalculator,"display-none");}},_applyActivityData:function(){this._applyingActivityData=true;if(this.activity&&this.activity.hasOwnProperty("Recurring")){this.startDate=Sage.Utility.Convert.toDateFromString(this.activity.StartDate);this.initialStartDate=Sage.Utility.Convert.toDateFromString(this.activity.StartDate);if(this.activity.Timeless||_5da.isDateFiveSecondRuleTimeless(this.startDate)){this.startDate=new Date(this.startDate.getUTCFullYear(),this.startDate.getUTCMonth(),this.startDate.getUTCDate(),0,0,5);}this.activityRecurPeriodCode=this.activity.RecurPeriod;this.dtp_startRecur.set("value",this.startDate);if(!this.activity.Recurring){this.rdo_Once.set("checked",true);this._toggleEndCalculatorVisibility(false);this._resetInterval();this._weeklySyncToStartDate();this._monthlySyncToStartDate();this._yearlySyncToStartDate();this._applyingActivityData=false;return;}this._toggleEndCalculatorVisibility(true);switch(this.activity.RecurPeriod){case 0:case 1:this._applyDailyRecurringValues();break;case 2:case 3:this._applyWeeklyRecurringValues();break;case 4:case 5:case 6:this._applyMonthlyRecurringValues();break;case 7:case 8:case 9:this._applyYearlyRecurringValues();break;default:this.rdo_Once.set("checked",true);}this._applyingActivityData=false;}},_applyEndCalculatorValues:function(){this.dtp_startRecur.set("value",this.startDate);this._rdoEndAfter.set("checked",true);this.num_Occurances.set("value",this.activity.RecurIterations);this._calculateEnd();},_applyDailyRecurringValues:function(){this.rdo_Daily.set("checked",true);this._toggleEndCalculatorVisibility(this.activity.RecurPeriod===0);this.interval=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===0){this._rdoDailyEvery.set("checked",true);this._dailyEveryText.set("value",this.activity.RecurPeriodSpec);this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===1){this._rdoDailyEveryAfter.set("checked",true);this._dailyEveryAfterText.set("value",this.activity.RecurPeriodSpec);}}},_weekDayValues:{sun:131072,mon:262144,tue:524288,wed:1048576,thu:2097152,fri:4194304,sat:8388608},_resetInterval:function(){this._rdoDailyEvery.set("checked",true);this._dailyEveryText.set("value","1");this._dailyEveryAfterText.set("value","1");this._rdoWeeklyEvery.set("checked",true);this._weeklyEveryText.set("value","1");this._weeklyEveryAfterText.set("value","1");this._rdoMonthlyOn.set("checked",true);this._monthlyEveryText.set("value","1");this._monthlyOnTheText.set("value","1");this._monthlyAfterText.set("value","1");this._rdoYearlyOn.set("checked",true);this._yearlyEveryText.set("value","1");this._yearlyEveryAfterText.set("value","1");this.num_Occurances.set("value","2");this.occurances=2;this._intervalChanged(2);},_clearCheckedWeekdays:function(){this._chkSaturday.set("checked",false);this._chkFriday.set("checked",false);this._chkThursday.set("checked",false);this._chkThursday.set("checked",false);this._chkWednesday.set("checked",false);this._chkTuesday.set("checked",false);this._chkMonday.set("checked",false);this._chkSunday.set("checked",false);},_applyWeeklyRecurringValues:function(){this.rdo_Weekly.set("checked",true);this._toggleEndCalculatorVisibility(this.activity.RecurPeriod===2);this._clearCheckedWeekdays();this.interval=this._evalRecurperiodspec(this.activity.RecurPeriodSpec,this.activity.RecurPeriod);if(this.activity.RecurPeriod===2){this._rdoWeeklyEvery.set("checked",true);this._weeklyEveryText.set("value",this.interval);this._enforceWeekdayChecked();this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===3){this._rdoWeeklyEveryAfter.set("checked",true);this._weeklyEveryAfterText.set("value",this.interval);}}},_evalRecurperiodspec:function(_613,_614){if(_613>this._weekDayValues["sat"]){_613=_613-this._weekDayValues["sat"];if(_614===2){this._chkSaturday.set("checked",true);}}if(_613>this._weekDayValues["fri"]){_613=_613-this._weekDayValues["fri"];if(_614===2){this._chkFriday.set("checked",true);}}if(_613>this._weekDayValues["thu"]){_613=_613-this._weekDayValues["thu"];if(_614===2){this._chkThursday.set("checked",true);}}if(_613>this._weekDayValues["wed"]){_613=_613-this._weekDayValues["wed"];if(_614===2){this._chkWednesday.set("checked",true);}}if(_613>this._weekDayValues["tue"]){_613=_613-this._weekDayValues["tue"];if(_614===2){this._chkTuesday.set("checked",true);}}if(_613>this._weekDayValues["mon"]){_613=_613-this._weekDayValues["mon"];if(_614===2){this._chkMonday.set("checked",true);}}if(_613>this._weekDayValues["sun"]){_613=_613-this._weekDayValues["sun"];if(_614===2){this._chkSunday.set("checked",true);}}return _613;},_applyMonthlyRecurringValues:function(){this.rdo_Monthly.set("checked",true);var _615=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===4){this._rdoMonthlyOn.set("checked",true);_615=this._evalRecurperiodspec(_615,this.activity.RecurPeriod);if(_615>65000){_615=_615%65536;}this._monthlyEveryText.set("value",_615);this._datesSelect.set("value",this.startDate.getDate().toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===5){this._rdoMonthlyOnThe.set("checked",true);var wDay=Math.floor(_615/524288)-1;_615=_615%524288;var _616=Math.floor(_615/65536);_615=_615%65536;_616++;this._weeksSelect.set("value",(_616).toString());this._weekdaySelect.set("value",wDay.toString());this._monthlyOnTheText.set("value",_615);this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===6){this._rdoMonthlyAfter.set("checked",true);if(_615>1048576){_615=_615-1048576;if(_615>1000){_615=_615%65536;}}this._monthlyAfterText.set("value",_615);}}}this.interval=_615;this._toggleEndCalculatorVisibility(this.activity.RecurPeriod!==6);},_applyYearlyRecurringValues:function(){var mon;this.rdo_Yearly.set("checked",true);var _617=this.activity.RecurPeriodSpec;if(this.activity.RecurPeriod===7){this._rdoYearlyOn.set("checked",true);if(_617>38797312){_617=eval(_617)-38797312;}else{_617=eval(_617)-17825792;}if(_617>1000){_617=this._evalRecurperiodspec(_617,this.activity.RecurPeriod);_617=_617%65536;}this._yearlyEveryText.set("value",_617);mon=this.startDate.getMonth();mon++;this._monthNamesSelect.set("value",mon.toString());var d=this.startDate.getDate();this._yearDatesSelect.set("value",d.toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===8){this._rdoYearlyOnThe.set("checked",true);mon=Math.floor(_617/4194304);_617=_617%4194304;var wDay=Math.floor(_617/524288)-1;_617=_617%524288;var _618=Math.floor(_617/65536);_618++;_617=_617%65536;this._yearWeeksSelect.set("value",_618.toString());this._yearWeekdaySelect.set("value",wDay.toString());this._yearMonthNamesSelect.set("value",mon.toString());this._applyEndCalculatorValues();}else{if(this.activity.RecurPeriod===9){this._rdoYearlyEveryAfter.set("checked",true);if(_617>38797312){_617=_617-38797312;if(_617>1000){_617=this._evalRecurperiodspec(_617,this.activity.RecurPeriod);_617=_617%65536;}}this._yearlyEveryAfterText.set("value",_617);}}}this.interval=_617;this._toggleEndCalculatorVisibility(this.activity.RecurPeriod!==9);},_dailyEveryChanged:function(){this._setDailyUI();this._applyChangesToActivity();},_setDailyUI:function(){var _619=this._rdoDailyEvery.get("checked");this._dailyEveryText.set("disabled",!_619);this._dailyEveryAfterText.set("disabled",_619);this._dailyUpdateInterval();this.activityRecurPeriodCode=this._rdoDailyEvery.get("checked")?0:1;this._toggleEndCalculatorVisibility(_619);},_weeklyEveryChanged:function(){this._setWeeklyUI();this._applyChangesToActivity();},_setWeeklyUI:function(){var _61a=!this._rdoWeeklyEvery.get("checked");this._weeklyEveryText.set("disabled",_61a);this._chkMonday.set("disabled",_61a);this._chkTuesday.set("disabled",_61a);this._chkWednesday.set("disabled",_61a);this._chkThursday.set("disabled",_61a);this._chkFriday.set("disabled",_61a);this._chkSaturday.set("disabled",_61a);this._chkSunday.set("disabled",_61a);this._weeklyEveryAfterText.set("disabled",!this._rdoWeeklyEveryAfter.get("checked"));this._enforceWeekdayChecked();this._weeklyUpdateInterval();this.activityRecurPeriodCode=this._rdoWeeklyEvery.get("checked")?2:3;this._toggleEndCalculatorVisibility(this._rdoWeeklyEvery.get("checked"));},_dayChecked:function(){this._enforceWeekdayChecked();this._calculateEnd();},_enforceWeekdayChecked:function(){var _61b=this.countCheckedDays();if(_61b<1){var d=this.startDate.getDay();switch(d){case 0:this._chkSunday.set("checked",true);break;case 1:this._chkMonday.set("checked",true);break;case 2:this._chkTuesday.set("checked",true);break;case 3:this._chkWednesday.set("checked",true);break;case 4:this._chkThursday.set("checked",true);break;case 5:this._chkFriday.set("checked",true);break;case 6:this._chkSaturday.set("checked",true);break;}}if(_61b>this.occurances){this._setOccurancesAttr(_61b);}},getCheckedDays:function(){return[this._chkSunday.get("checked")?1:0,this._chkMonday.get("checked")?1:0,this._chkTuesday.get("checked")?1:0,this._chkWednesday.get("checked")?1:0,this._chkThursday.get("checked")?1:0,this._chkFriday.get("checked")?1:0,this._chkSaturday.get("checked")?1:0];},countCheckedDays:function(){var _61c=0;var _61d=this.getCheckedDays();for(var i=0;i<_61d.length;i++){_61c+=Number(_61d[i]);}return _61c;},_monthlyOnChanged:function(){this._setMonthlyUI();if(this._rdoMonthlyAfter.get("checked")){this._applyChangesToActivity();}},_setMonthlyUI:function(){var _61e=!this._rdoMonthlyOn.get("checked");this._monthlyEveryText.set("disabled",_61e);this._datesSelect.set("disabled",_61e);_61e=!this._rdoMonthlyOnThe.get("checked");this._monthlyOnTheText.set("disabled",_61e);this._weeksSelect.set("disabled",_61e);this._weekdaySelect.set("disabled",_61e);this._monthlyAfterText.set("disabled",!this._rdoMonthlyAfter.get("checked"));this._monthlyUpdateInterval();this.activityRecurPeriodCode=this._rdoMonthlyOn.get("checked")?4:this._rdoMonthlyOnThe.get("checked")?5:6;this._toggleEndCalculatorVisibility(!this._rdoMonthlyAfter.get("checked"));if(this.activityRecurPeriodCode<6){this._calculateEnd();}},_monthlyValidateEndDate:function(){if(this.rdo_Monthly.get("checked")){var _61f=this.dtp_endRecur.get("value");if(this._rdoMonthlyOn.get("checked")){var _620=parseInt(this._datesSelect.get("value"),10);if(_61f.getDate()!==_620){_61f.setDate(_620);this.dtp_endRecur.set("value",_61f);return false;}}else{if(this._rdoMonthlyOnThe.get("checked")){var _621=parseInt(this._weekdaySelect.get("value"),10);var _622=parseInt(this._weeksSelect.get("value"),10);if(_5da.getNthWeekOfMonth(_61f)!==_622||_61f.getDay()!==_621){_61f=_5da.setDateToNthWeekDay(_61f,_622,_621);this.dtp_endRecur.set("value",_61f);return false;}}}}return true;},_yearlyOnChanged:function(){this._setYearlyUI();this._applyChangesToActivity();},_setYearlyUI:function(){var _623=!this._rdoYearlyOn.get("checked");this._yearlyEveryText.set("disabled",_623);this._monthNamesSelect.set("disabled",_623);this._yearDatesSelect.set("disabled",_623);_623=!this._rdoYearlyOnThe.get("checked");this._yearWeeksSelect.set("disabled",_623);this._yearWeekdaySelect.set("disabled",_623);this._yearMonthNamesSelect.set("disabled",_623);this._yearlyEveryAfterText.set("disabled",!this._rdoYearlyEveryAfter.get("checked"));this._yearlyUpdateInterval();this.activityRecurPeriodCode=this._rdoYearlyOn.get("checked")?7:this._rdoYearlyOnThe.get("checked")?8:9;this._toggleEndCalculatorVisibility(!this._rdoYearlyEveryAfter.get("checked"));},_yearlyValidateEndDate:function(){var _624=true;if(this.rdo_Yearly.get("checked")){var _625=this.dtp_endRecur.get("value");var mon=this.startDate.getMonth();if(_625.getMonth()!==mon){_624=false;_625.setMonth(mon);}if(this._rdoYearlyOn.get("checked")){var dt=this.startDate.getDate();if(_625.getDate!==dt){_624=false;_625.setDate(dt);}}else{if(this._rdoYearlyOnThe.get("checked")){var _626=parseInt(this._yearWeekdaySelect.get("value"),10);var _627=parseInt(this._yearWeeksSelect.get("value"),10);if(_5da.getNthWeekOfMonth(_625)!==_627||_625.getDay()!==_626){_624=false;_625=_5da.setDateToNthWeekDay(_625,_627,_626);}}}if(!_624){this.dtp_endRecur.set("value",_625);}}return _624;},_yearlyRecurDateChanged:function(){if(this._applyingActivityData){return;}var _628,_629=false;var _62a=new Date(this.startDate.getFullYear(),this.startDate.getMonth(),this.startDate.getDate());if(this._rdoYearlyOn.get("checked")){_628=parseInt(this._monthNamesSelect.get("value"),10)-1;var dt=parseInt(this._yearDatesSelect.get("value"),10);if(_62a.getMonth()!==_628){_62a.setMonth(_628);_629=true;}if(_62a.getDate()!==dt){_62a.setDate(dt);_629=true;}}else{if(this._rdoYearlyOnThe.get("checked")){_628=parseInt(this._yearMonthNamesSelect.get("value"),10)-1;if(_62a.getMonth()!==_628){_62a.setMonth(_628);_629=true;}var dy=parseInt(this._weekdaySelect.get("value"),10);var wk=parseInt(this._weeksSelect.get("value"),10);var _62b=_5da.setDateToNthWeekDay(_62a,wk,dy);if(_62a.getDate()!==_62b.getDate()){if(_62b<new Date()){_62b=_5e3.add(_62b,"year",1);_62b=_5da.setDateToNthWeekDay(_62b,wk,dy);}_62a=_62b;_629=true;}}}if(_629){if(_62a<new Date()){_62a=_5e3.add(_62a,"year",1);}if(!this.startDateChangedFromParent){this.onStartDateChanged(_62a);}}},_intervalChanged:function(_62c){this.interval=_62c;this._calculateEnd();},_recurringStartDateChanged:function(_62d){if(!this.startDateChangedFromParent){this.onStartDateChanged(_62d);}},_endCalcModeChanged:function(){},_numOccurancesChanged:function(_62e){this.occurances=_62e;this._calculateEndDate();},_endRecurChanged:function(_62f){if(this._rdoEndOn.get("checked")){if(this._monthlyValidateEndDate()&&this._yearlyValidateEndDate()){this._calculateOccurances();}}},_calculateEnd:function(){if(this.currentPeriod==="once"){this._applyChangesToActivity();return;}if(this._rdoEndAfter.get("checked")){if(this.rdo_Monthly.get("checked")&&!this.startDateChangedFromParent){this._calculateStartDate();}this._calculateEndDate();}else{this._calculateOccurances();}},_calculateStartDate:function(){var _630=this.endCalculators[this.currentPeriod];if(_630&&this._rdoEndAfter.get("checked")){this._applyCurrentValuesToCalculator(_630);_630.set("occurances",this.occurances);var _631=_630.calculateStartDate();this.startDate=_631;this.dtp_startRecur.set("value",_631);if(!this.startDateChangedFromParent){this.onStartDateChanged(_631);}}},_calculateEndDate:function(){var _632=this.endCalculators[this.currentPeriod];if(_632&&this._rdoEndAfter.get("checked")){this._applyCurrentValuesToCalculator(_632);_632.set("occurances",this.occurances);var _633=_632.calculateEndDate();this.dtp_endRecur.set("value",_633);this._applyChangesToActivity();}},_applyCurrentValuesToCalculator:function(_634){_634.set("startDate",this.startDate);_634.set("initialStartDate",this.initialStartDate);_634.set("interval",this.interval);_634.set("activityRecurPeriodCode",this.activityRecurPeriodCode);},_calculateOccurances:function(){var _635=this.endCalculators[this.currentPeriod];if(_635&&this._rdoEndOn.get("checked")){this._applyCurrentValuesToCalculator(_635);_635.set("endDate",this.dtp_endRecur.get("value"));var occ=1;if(_635.endDate<_635.startDate){this.dtp_endRecur.set("value",this.startDate);}else{occ=_635.calculateNumberOfOccurances();}this.occurances=occ;this.num_Occurances.set("value",occ);this._applyChangesToActivity();}},_applyChangesToActivity:function(){if(this._applyingActivityData){return;}if(this.rdo_Once.get("checked")){this.activity.RecurIterations=0;this.activity.RecurPeriod=0;this.activity.RecurPeriodSpec=0;this.activity.Recurring=false;return;}var _636=this._getCurrentRecperiod();this.activity.RecurPeriod=_636;var _637=0;var _638=this.num_Occurances.get("value");switch(_636){case 0:case 1:this._dailyUpdateInterval();if(_636===1){_638=-1;}break;case 2:_637=this._sumWeekDays();this._weeklyUpdateInterval();break;case 3:_637=1048576;this._weeklyUpdateInterval();_638=-1;break;case 4:_637=1048576;this._monthlyUpdateInterval();break;case 5:_637=this._sumMonthly();this._monthlyUpdateInterval();break;case 6:_637=1048576;this._monthlyUpdateInterval();_638=-1;break;case 7:_637=38797312;this._yearlyUpdateInterval();break;case 8:_637=this._sumYearly();this.interval=1;break;case 9:_637=38797312;this._yearlyUpdateInterval();_638=-1;break;}this.activity.RecurIterations=_638;this.activity.RecurPeriodSpec=_637+this.interval;this.activity.Recurring=true;},_getCurrentRecperiod:function(){if(this.rdo_Daily.get("checked")){return(this._rdoDailyEvery.get("checked"))?0:1;}if(this.rdo_Weekly.get("checked")){return(this._rdoWeeklyEvery.get("checked"))?2:3;}if(this.rdo_Monthly.get("checked")){return(this._rdoMonthlyOn.get("checked"))?4:(this._rdoMonthlyOnThe.get("checked"))?5:6;}if(this.rdo_Yearly.get("checked")){return(this._rdoYearlyOn.get("checked"))?7:(this._rdoYearlyOnThe.get("checked"))?8:9;}return 0;},_sumWeekDays:function(){var _639=0;if(this._chkSaturday.get("checked")){_639+=this._weekDayValues["sat"];}if(this._chkFriday.get("checked")){_639+=this._weekDayValues["fri"];}if(this._chkThursday.get("checked")){_639+=this._weekDayValues["thu"];}if(this._chkWednesday.get("checked")){_639+=this._weekDayValues["wed"];}if(this._chkTuesday.get("checked")){_639+=this._weekDayValues["tue"];}if(this._chkMonday.get("checked")){_639+=this._weekDayValues["mon"];}if(this._chkSunday.get("checked")){_639+=this._weekDayValues["sun"];}return _639;},_getNthOccurenceOfWeekDay:function(){var _63a=parseInt(this._weekdaySelect.get("value"),10);var _63b=parseInt(this._weeksSelect.get("value"),10);var _63c=new Date();for(var i=0;i<7;i++){var d=new Date(_63c.getFullYear(),_63c.getMonth(),i+1);if(d.getDay()==_63a){return dojo.date.add(d,"day",((_63b-1)*7));}}},_sumMonthly:function(){var _63d=parseInt(this._weekdaySelect.get("value"),10)+1;var _63e=parseInt(this._weeksSelect.get("value"),10);return((_63d*524288)+((_63e-1)*65536));},_sumYearly:function(){var _63f=parseInt(this._yearWeekdaySelect.get("value"),10)+1;var _640=parseInt(this._yearMonthNamesSelect.get("value"),10);var _641=parseInt(this._yearWeeksSelect.get("value"),10);return((_640*4194304)+(_63f*524288)+((_641-1)*65536));},_setReadOnly:function(_642){var _643=["rdo_Once","rdo_Daily","rdo_Weekly","rdo_Monthly","rdo_Yearly","_rdoDailyEvery","_dailyEveryText","_rdoDailyEveryAfter","_dailyEveryAfterText","_rdoWeeklyEvery","_weeklyEveryText","_chkMonday","_chkTuesday","_chkWednesday","_chkThursday","_chkFriday","_chkSaturday","_chkSunday","_rdoWeeklyEveryAfter","_weeklyEveryAfterText","_rdoMonthlyOn","_monthlyEveryText","_datesSelect","_rdoMonthlyOnThe","_monthlyOnTheText","_weeksSelect","_weekdaySelect","_rdoMonthlyAfter","_monthlyAfterText","_rdoYearlyOn","_yearlyEveryText","_monthNamesSelect","_yearDatesSelect","_rdoYearlyOnThe","_yearWeeksSelect","_yearWeekdaySelect","_yearMonthNamesSelect","_rdoYearlyEveryAfter","_yearlyEveryAfterText","dtp_startRecur","_rdoEndAfter","num_Occurances","_rdoEndOn","dtp_endRecur"];if(_642){this._bulkSetProperty(this,_643,"disabled",true);}else{this._bulkSetProperty(this,_643,"disabled",false);this._setUI();this._applyActivityData();}},_bulkSetProperty:function(ui,_644,prop,val){for(var i=0;i<_644.length;i++){var ctrl=ui[_644[i]];if(ctrl){ctrl.set(prop,val);}}},onStartDateChanged:function(_645){},onRecurPeriodChanged:function(_646){}});return _608;});},"Sage/UI/Controls/Lookup":function(){require({cache:{"url:Sage/UI/Controls/templates/Lookup.html":'<div class="textcontrol lookup">\r\n    <span id="${id}" class="lookup">\r\n        <input id="${id}_LookupText" class="text-with-icons" required="${required}" type="text" dojoAttachPoint="textbox,focusNode" />\r\n        <a href="#">\r\n            <img id="${id}_LookupBtn" src="images/icons/Find_16x16.png" dojoAttachPoint="lookupButton" alt="${buttonToolTip}" title="${buttonToolTip}" />\r\n        </a>\r\n        \r\n        <img id="${id}_btnClearResult" src="images/icons/Delete_16x16.png" dojoAttachPoint="clearButton" class="display-none" alt="${closeButtonToolTip}" title="${closeButtonToolTip}"/>\r\n    </span>\r\n</div>'}});define("Sage/UI/Controls/Lookup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","Sage/UI/ConditionManager","Sage/UI/SDataLookup","dojo/dom-attr","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n!./nls/Lookup","dojo/text!./templates/Lookup.html","dojo/_base/declare"],function(_647,_648,_649,_64a,_64b,_64c,_64d,_64e,_64f,_650){var _651=_650("Sage.UI.Controls.Lookup",[_649,_647,_648],{id:"lookup",config:null,selectedObject:null,showEntityInfoToolTip:false,disabled:false,required:false,allowClearingResult:false,buttonToolTip:"Find",closeButtonToolTip:"Remove",_tooltip:false,_setSelectedObjectAttr:function(_652){this.textbox.value=(_652)?_652.$descriptor:"";this.selectedObject=_652;this._onChange(_652);},_getSelectedObjectAttr:function(){return this.selectedObject;},_setShowEntityInfoToolTipAttr:function(_653){this.showEntityInfoToolTip=_653;if(!this.domNode){return;}this._tooltip=(_653)?this._createToolTip():false;},_getShowEntityInfoToolTipAttr:function(){return this.showEntityInfoToolTip;},_createToolTip:function(){return new _64d({connectId:[this.domNode],position:["below"],entityName:this.config.storeOptions.resourceKind,entityId:(this.selectedObject&&this.selectedObject["$key"])?this.selectedObject["$key"]:""});},_setAllowClearingResultAttr:function(_654){this.allowClearingResult=_654;if(_654){dojo.removeClass(this.clearButton,"display-none");}else{dojo.addClass(this.clearButton,"display-none");}},_getAllowClearingResultAttr:function(){return this.allowClearingResult;},_setDisabledAttr:function(_655){this.disabled=_655;_64c.set(this.focusNode,"disabled",_655);this.focusNode.setAttribute("aria-disabled",_655);if(_655){dojo.style(this.clearButton,"visibility","hidden");dojo.style(this.clearButton,"display","none");dojo.style(this.lookupButton,"visibility","hidden");dojo.style(this.lookupButton,"display","none");}else{dojo.style(this.clearButton,"visibility","");dojo.style(this.clearButton,"display","");dojo.style(this.lookupButton,"visibility","");dojo.style(this.lookupButton,"display","");}},_getDisabledAttr:function(){return this.disabled;},_onChange:function(_656){if(this._tooltip){this._tooltip.set("entityId",(_656&&_656["$key"])?_656["$key"]:"");}this.onChange(_656);},onChange:function(_657){},templateString:_64f,widgetsInTemplate:false,constructor:function(_658){this.inherited(arguments);dojo.mixin(this,_64e);},hideTooltip:function(){if(this._tooltip){this._tooltip.close();}},postCreate:function(){var self=this;dojo.connect(this.lookupButton,"onclick",this.lookupButton,function(){if(!self.get("disabled")){var _659=new _64b(self.config);_659.doSelected=function(_65a){self.set("selectedObject",_65a[0]);_659.lookupDialog.hide();};_659.showLookup();var _65b=dojo.connect(_659.lookupDialog,"onHide",_659,function(){dojo.disconnect(_65b);this.destroy();});}},true);dojo.connect(this.clearButton,"onclick",null,function(){if(!self.get("disabled")){self.textbox.value="";self.set("selectedObject",null);}},true);}});return _651;});},"Sage/Utility/Activity":function(){define("Sage/Utility/Activity",["dojo/date/locale","dojox/grid/cells/_base","Sage/Utility","dojo/string","dojo/i18n!./nls/Activity","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Data/SingleEntrySDataStore"],function(_65c,cell,_65d,_65e,_65f,_660,_661,_662){var _663=function(id){var _664=false;if(id){if(id.trim()!==""){_664=true;}}return _664;};var _665=_660("Sage.Utility.Activity.TypeCell",dojox.grid.cells.Cell,{format:function(_666,_667){if(!_667){return this.defaultValue;}var type=this.get(_666,_667);var _668=(_667.hasOwnProperty("Activity")&&typeof _667["Activity"]==="object")?_667.Activity:_667;var key=_65d.getValue(_668,"$key");var _669=(_667.hasOwnProperty("Status"))?_667.Status:false;var _66a='<a href="${0}" ><div class="Global_Images icon16x16 ${1}" title="${2}"></div>&nbsp;${2}</a>';var _66b=Sage.Utility.getValue(_668,"RecurrenceState");var _66c=Sage.Utility.Activity._getReccurenceFlag(_668);var href="javascript:Sage.Link.editActivity('"+key+"', "+_66c+")";if(_669){var _66d=_65d.getClientContextByKey("userID");var _66e=(_667.hasOwnProperty["User"])?_667.User["$key"]:_66d;if(_669==="asUnconfirmed"&&_66d===_66e){href="javascript:Sage.Link.confirmActivityFor('"+key+"', '"+_66d+"')";}}else{href="javascript:Sage.Link.editActivityIfConfirmed('"+key+"', "+_66c+")";}return _65e.substitute(_66a,[href,Sage.Utility.Activity.getActivityImageClass(type,"small"),Sage.Utility.Activity.getActivityTypeName(type)]);}});var _66f=_660("Sage.Utility.Activity.HistoryTypeCell",dojox.grid.cells.Cell,{format:function(_670,_671){if(!_671){return this.defaultValue;}var key=_65d.getValue(_671,"$key");var _672=_65d.getValue(_671,"Type");var _673="";var type="";if(_672.toString().substring(0,2)==="at"){_673=Sage.Utility.Activity.getActivityTypeName(_672);type=_672;}else{_673=Sage.Utility.Activity.getActivityTypeNameFromEnumValue(_672);type=Sage.Utility.Activity.getActivityTypeCodeFromEnumValue(_672);}var fmt='<a href="javascript:Sage.Link.editHistory(\'${0}\')" ><div class="Global_Images icon16x16 ${1} title="${2}"></div>&nbsp;${2}</a>';return _65e.substitute(fmt,[key,Sage.Utility.Activity.getActivityImageClass(type,"small"),_673]);}});var _674=_660("Sage.Utility.Activity.AlarmCell",cell,{formatter:function(val,_675){return(val)?"<img src='images/icons/Alarm_16x16.gif'/>":"<div><div>";}});var _676=_660("Sage.Utility.Activity.RecurCell",dojox.grid.cells.Cell,{format:function(_677,_678){if(!_678){return this.defaultValue;}var html="";var _679=(_678.hasOwnProperty("Activity")&&typeof _678["Activity"]==="object")?_678.Activity:_678;var _67a=_65d.getValue(_679,"Recurring");var _67b=_65d.getValue(_679,"RecurrenceState");if(_67a||(_67b&&_67b==="rstOccurrence")){html='<div class="Global_Images icon16x16 icon_recurring"></div>';}return html;}});var _67c=_660("Sage.Utility.Activity.AttachCell",dojox.grid.cells.Cell,{format:function(_67d,_67e){if(!_67e){return this.defaultValue;}var html="<div><div>";var _67f=(_67e.hasOwnProperty("Activity")&&typeof _67e["Activity"]==="object")?_67e.Activity:_67e;var _680=_65d.getValue(_67f,"Attachment");if(_680){html='<div class="Global_Images icon16x16 icon_attach_to_16"></div>';}return html;}});var _681=_660("Sage.Utility.Activity.ConfrimStatusCell",dojox.grid.cells.Cell,{format:function(_682,_683){if(!_683){return this.defaultValue;}var html="<div><div>";var _684=_65d.getValue(_683,"Status");if(_684==="asUnconfirmed"){html='<div class="Global_Images icon16x16 icon_unconfirmedActivity16x16"></div>';}return html;}});var _685=_660("Sage.Utility.Activity.DurationCell",dojox.grid.cells.Cell,{format:function(_686,_687){if(!_687){return this.defaultValue;}var _688="";var _689=(_687.hasOwnProperty("Activity")&&typeof _687["Activity"]==="object")?_687.Activity:_687;var _68a=_65d.getValue(_689,"Duration");if(_68a){var _68b=_65d.getValue(_689,"Timeless");_688=Sage.Utility.Activity.formatDuration(_68a,_68b);}return _688;}});var _68c=_660("Sage.Utility.Activity.NameCell",dojox.grid.cells.Cell,{format:function(_68d,_68e){if(!_68e){return this.defaultValue;}var _68f=(_68e.hasOwnProperty("Activity")&&typeof _68e["Activity"]==="object")?_68e.Activity:_68e;var _690=_65d.getValue(_68f,"ContactName");var _691=_65d.getValue(_68f,"ContactId");if(_663(_691)){return'<a href="Contact.aspx?entityid='+_691+'" >'+_690+"</a>";}var lead=_65d.getValue(_68f,"LeadName");var _692=_65d.getValue(_68f,"LeadId");if(_663(_692)){return'<a href="Lead.aspx?entityid='+_692+'" >'+lead+"</a>";}return"<div></div> ";}});var _693=_660("Sage.Utility.Activity.NameTypeCell",dojox.grid.cells.Cell,{format:function(_694,_695){if(!_695){return this.defaultValue;}var _696=(_695.hasOwnProperty("Activity")&&typeof _695["Activity"]==="object")?_695.Activity:_695;var _697=_65d.getValue(_696,"ContactId");if(_663(_697)){return _65f.Contact;}var _698=_65d.getValue(_696,"LeadId");if(_663(_698)){return _65f.Lead;}return"";}});var _699=_660("Sage.Utility.Activity.AccountCell",dojox.grid.cells.Cell,{format:function(_69a,_69b){if(!_69b){return this.defaultValue;}var _69c=(_69b.hasOwnProperty("Activity")&&typeof _69b["Activity"]==="object")?_69b.Activity:_69b;var _69d=_65d.getValue(_69c,"AccountName");var _69e=_65d.getValue(_69c,"AccountId");var html="";if(_663(_69e)){html='<a href="Account.aspx?entityid='+_69e+'" >'+_69d+"</a>";}var _69f=_65d.getValue(_69c,"LeadId");if(_663(_69f)){html='<a href="Lead.aspx?entityid='+_69f+'" >'+_69d+"</a>";}return html;}});var _6a0=_660("Sage.Utility.Activity.LeaderCell",dojox.grid.cells.Cell,{format:function(_6a1,_6a2){if(!_6a2){return this.defaultValue;}var _6a3=(_6a2.hasOwnProperty("Activity")&&typeof _6a2["Activity"]==="object")?_6a2.Activity:null;var _6a4;if(_6a3){_6a4=_65d.getValue(_6a3,"Leader");}else{_6a4=(_6a2.hasOwnProperty("Leader")&&typeof _6a2["Leader"]==="object")?_6a2.Leader:_6a2;}var _6a5=_65d.getValue(_6a4,"$descriptor");return _6a5;}});var _6a6=_660("Sage.Utility.Activity.CompleteCell",dojox.grid.cells.Cell,{format:function(_6a7,_6a8){if(!_6a8){return this.defaultValue;}var key=_65d.getValue(_6a8,"$key");if(_663(key)){var _6a9=(_6a8.hasOwnProperty("Activity")&&typeof _6a8["Activity"]==="object")?_6a8.Activity:_6a8;return _65e.substitute("<a href=\"javascript:Sage.Link.completeActivity('${0}', ${1})\">${2}</a>",[key,_65d.getValue(_6a9,"Recurring"),_65f.Complete]);}return"";}});Sage.namespace("Utility.Activity");Sage.Utility.Activity={timelessText:"timeless",_imageMap:{small:{"atNote":"images/icons/note_16x16.gif","atPhoneCall":"images/icons/Call_16x16.gif","atToDo":"images/icons/To_Do_16x16.gif","atAppointment":"images/icons/Meeting_16x16.gif","atPersonal":"images/icons/Personal_16x16.gif","atLiterature":"images/icons/Literature_16x16.png","atDoc":"images/icons/mailletter_16x16.png","atFax":"images/icons/fax_16x16.gif","atEmail":"images/icons/mailletter_16x16.png"},medium:{"atNote":"images/icons/Note_24x24.gif","atPhoneCall":"images/icons/Call_24x24.gif","atToDo":"images/icons/To_Do_24x24.gif","atAppointment":"images/icons/Meeting_24x24.gif","atPersonal":"images/icons/Personal_24x24.gif","atLiterature":"images/icons/Literature_24x24.png","atDoc":"images/icons/mailletter_24x24.gif","atFax":"images/icons/fax_24x24.gif","atEmail":"images/icons/mailletter_24x24.gif"},large:{"atNote":"images/icons/Note_24x24.gif","atPhoneCall":"images/icons/Call_32x32.gif","atToDo":"images/icons/To_Do_32x32.gif","atAppointment":"images/icons/Meeting_32x32.gif","atPersonal":"images/icons/Personal_32x32.gif","atLiterature":"images/icons/Literature_32x32.png","atDoc":"images/icons/mailletter_32x32.gif","atFax":"images/icons/fax_32x32.gif","atEmail":"images/icons/mailletter_32x32.gif"}},_iconClassMap:{small:{"atNote":"icon_note_16x16","atPhoneCall":"icon_Call_16x16","atToDo":"icon_To_Do_16x16","atAppointment":"icon_Meeting_16x16","atPersonal":"icon_Personal_16x16","atLiterature":"icon_Literature_16x16","atDoc":"icon_mailletter_16x16","atFax":"icon_fax_16x16","atEMail":"icon_mailletter_16x16"},medium:{"atNote":"icon_Note_24x24","atPhoneCall":"icon_Call_24x24","atToDo":"icon_To_Do_24x24","atAppointment":"icon_Meeting_24x24","atPersonal":"icon_Personal_24x24","atLiterature":"icon_Literature_24x24","atDoc":"icon_mailletter_24x24","atFax":"icon_fax_24x24","atEmail":"icon_mailletter_24x24"},large:{"atNote":"icon_Note_24x24","atPhoneCall":"icon_Call_32x32","atToDo":"icon_To_Do_32x32","atAppointment":"icon_Meeting_32x32","atPersonal":"icon_Personal_32x32","atLiterature":"icon_Literature_32x32","atDoc":"icon_mailletter_32x32","atFax":"icon_fax_32x32","atEmail":"icon_mailletter_32x32"}},_picklistMap:{"Regarding":{"atNote":"Note Regarding","atPhoneCall":"Phone Call Regarding","atToDo":"To Do Regarding","atAppointment":"Meeting Regarding","atEmail":"To Do Regarding","atPersonal":"Personal Activity Regarding","atLiterature":"To Do Regarding"},"Category":{"atNote":"Note Category Codes","atPhoneCall":"Phone Call Category Codes","atToDo":"To Do Category Codes","atAppointment":"Meeting Category Codes","atEmail":"To Do Category Codes","atPersonal":"","atLiterature":"To Do Category Codes"},"Result":{"atNote":"Meeting Result Codes","atPhoneCall":"Phone Call Result Codes","atToDo":"To Do Result Codes","atAppointment":"Meeting Result Codes","atEmail":"To Do Result Codes","atPersonal":"Personal Activity Result Codes","atLiterature":"To Do Result Codes"}},_notMyPersonalActivityMixin:{"AccountId":"","AccountName":"","Category":_65f.Personal,"ContactId":"","ContactName":"","Description":_65f.Personal,"LeadId":"","LeadName":"","LongNotes":"","Notes":"","OpportunityId":"","OpportunityName":"","PhoneNumber":"","Priority":"","TicketId":"","TicketNumber":"","Location":""},secureActivityData:function(_6aa){if((_6aa.Type==262162)||(_6aa.Type=="atPersonal")){var _6ab;var _6ac=Sage.Services.getService("ClientContextService");if(_6ac){if(_6ac.containsKey("userID")){_6ab=_6ac.getValue("userID");}}if(_6ab===_6aa.UserId){return;}if(_6aa.Leader){if(_6ab===_6aa.Leader.$key){return;}}dojo.mixin(_6aa,Sage.Utility.Activity._notMyPersonalActivityMixin);}},getActivityImage:function(type,size){size=Sage.Utility.Activity._verifySize(size);type=type||"atAppointment";return Sage.Utility.Activity._imageMap[size][type]||Sage.Utility.Activity._imageMap[size]["atAppointment"];},_verifySize:function(size){size=size||"small";size=size.toLowerCase();if(size!=="small"&&size!=="medium"&&size!=="large"){size="small";}return size;},getActivityImageClass:function(type,size){size=Sage.Utility.Activity._verifySize(size);type=type||"atAppointment";return Sage.Utility.Activity._iconClassMap[size][type]||Sage.Utility.Activity._iconClassMap[size]["atAppointment"];},getActivityTypeName:function(type){switch(type){case"atPhoneCall":return _65f.PhoneCall||"Phone Call";case"atToDo":return _65f.ToDo||"To Do";case"atAppointment":return _65f.Meeting||"Meeting";case"atPersonal":return _65f.Personal||"Personal Activity";case"atLiterature":return _65f.Literature||"Literature";case"atFax":return _65f.Fax||"Fax";case"atLetter":return _65f.Letter||"Letter";case"atNote":return _65f.Note||"Note";case"atEMail":return _65f.Email||"E-mail";case"atDoc":return _65f.Document||"Document";case"atDatabaseChange":return _65f.DatabaseChange||"Database Change";case"atInternal":return _65f.Event||"Event";case"atSchedule":return _65f.ScheduledEvent||"Scheduled Event";default:return type;}},getActivityTypeNameFromEnumValue:function(_6ad){switch(_6ad){case 262146:return _65f.PhoneCall||"Phone Call";case 262147:return _65f.ToDo||"To Do";case 262145:return _65f.Meeting||"Meeting";case 262162:return _65f.Personal||"Personal Activity";case 262163:return _65f.Literature||"Literature";case 262155:return _65f.Fax||"Fax";case 262148:return _65f.Note||"Note";case 262154:return _65f.Email||"E-mail";case 262153:return _65f.Document||"Document";case 262156:return _65f.DatabaseChange||"Database Change";case 0:return _65f.Event||"Event";case 1:return _65f.ScheduledEvent||"Scheduled Event";default:return _6ad;}},getActivityTypeCodeFromEnumValue:function(_6ae){switch(_6ae){case 262146:return"atPhoneCall";case 262147:return"atToDo";case 262145:return"atAppointment";case 262162:return"atPersonal";case 262163:return"atLiterature";case 262155:return"atFax";case 262148:return"atNote";case 262154:return"atEMail";case 262153:return"atDoc";case 262156:return"atDatabaseChange";case 0:return"atInternal";case 1:return"atSchedule";default:return _6ae;}},getActivityTypeEnumValue:function(name){switch(name){case"atPhoneCall":return"262146";case"atToDo":return"262147";case"atAppointment":return"262145";case"atPersonal":return"262162";case"atLiterature":return"262163";case"atFax":return"262155";case"atNote":return"262148";case"atEMail":return"262154";case"atDoc":return"262153";case"atDatabaseChange":return"262156";case"atSchedule":return"1";case"atInternal":return"0";default:return name;}},getActivityTypeEnumCode:function(type){switch(type){case 262146:return"atPhoneCall";case 262147:return"atToDo";case"atAppointment":case 262145:return"atAppointment";case 262162:return"atPersonal";case"atLiterature":return"atLiterature";case"atFax":return"atFax";case"atLetter":return"atLetter";case"atNote":return"atNote";case"atEMail":return"atEMail";default:return type;}},getConfirmationTypeEnumCode:function(type){switch(type){case 0:return"New";case 1:return"Change";case 2:return"Deleted";case 3:return"Confirm";case 4:return"Decline";case 5:return"Unknown";case 6:return"Leader";default:return type;}},getConfirmationDisplayName:function(type){switch(type){case"New":return _65f.New||"New";case"Change":return _65f.Change||"Change";case"Deleted":return _65f.Deleted||"Deleted";case"Confirm":return _65f.Confirm||"Confirm";case"Decline":return _65f.Decline||"Decline";case"Unknown":return _65f.Unknown||"Unknown";case"Leader":return _65f.Leader||"Leader";default:return type;}},getActivityPicklistName:function(_6af,_6b0){_6af=_6af||"Regarding";if(!Sage.Utility.Activity._picklistMap.hasOwnProperty(_6af)){_6af="Regarding";}return Sage.Utility.Activity._picklistMap[_6af][_6b0]||Sage.Utility.Activity._picklistMap[_6af]["atToDo"];},formatActivityStartDate:function(_6b1,_6b2){if(!_6b1){return"";}if(Sage.Utility.Convert.isDateString(_6b1)){_6b1=Sage.Utility.Convert.toDateFromString(_6b1);}if(typeof _6b2==="undefined"){_6b2=Sage.Utility.Activity.isDateFiveSecondRuleTimeless(_6b1);}if(!_6b2){return _65c.format(_6b1,{selector:"datetime",fullYear:true});}else{var _6b3=new Date(_6b1.getUTCFullYear(),_6b1.getUTCMonth(),_6b1.getUTCDate());return _65c.format(_6b3,{selector:"date",fullYear:true})+" "+this.timelessText;}},getActivityEndDate:function(_6b4,_6b5,_6b6){if(!_6b4){return false;}if(Sage.Utility.Convert.isDateString(_6b4)){_6b4=Sage.Utility.Convert.toDateFromString(_6b4);}if(typeof _6b6==="undefined"){_6b6=Sage.Utility.Activity.isDateFiveSecondRuleTimeless(_6b4);}if(!_6b6){return dojo.date.add(_6b4,"minute",_6b5);}else{return new Date(_6b4.getUTCFullYear(),_6b4.getUTCMonth(),_6b4.getUTCDate(),0,0,5);}},formatActivityStartDateForCalendar:function(_6b7,_6b8,_6b9){if(!_6b7){return"";}if(Sage.Utility.Convert.isDateString(_6b7)){_6b7=Sage.Utility.Convert.toDateFromString(_6b7);}var _6ba=new Date(_6b7.getFullYear(),_6b7.getMonth(),_6b7.getDate(),_6b7.getHours(),_6b7.getMinutes());if(_6b9){_6ba=new Date(_6b7.getUTCFullYear(),_6b7.getUTCMonth(),_6b7.getUTCDate(),0,0,5);}if(_6b8){return _65c.format(_6ba,{selector:"date",datePattern:_6b8});}else{return _65c.format(_6ba,{selector:"date",datePattern:"MM/d/yy H:mm"});}},formatActivityEndDateForCalendar:function(_6bb,_6bc){if(!_6bb){return"";}if(Sage.Utility.Convert.isDateString(_6bb)){_6bb=Sage.Utility.Convert.toDateFromString(_6bb);}var _6bd=new Date(_6bb.getFullYear(),_6bb.getMonth(),_6bb.getDate(),_6bb.getHours(),_6bb.getMinutes());var _6be=dojo.date.add(_6bd,"minute",_6bc);if(dojo.date.compare(_6be,_6bd,"date")>0){return _65c.format(_6bd,{selector:"date",datePattern:"MM/d/yy 24:00"});}return _65c.format(_6be,{selector:"date",datePattern:"MM/d/yy H:mm"});},formatEventDateForCalendar:function(_6bf,_6c0){if(!_6bf){return"";}if(Sage.Utility.Convert.isDateString(_6bf)){_6bf=Sage.Utility.Convert.toDateFromString(_6bf);}var _6c1=new Date(_6bf.getFullYear(),_6bf.getMonth(),_6bf.getDate(),_6bf.getHours(),_6bf.getMinutes());if(_6c0){return _65c.format(_6c1,{selector:"date",datePattern:_6c0});}else{return _65c.format(_6c1,{selector:"date",datePattern:"MM/d/yy H:mm"});}},formatEventDate:function(_6c2){if(!_6c2){return"";}if(Sage.Utility.Convert.isDateString(_6c2)){_6c2=Sage.Utility.Convert.toDateFromString(_6c2);}return _65c.format(_6c2,{selector:"date",fullYear:true});},formatDateAdd:function(dt,mode,_6c3){if(!dt){return"";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _6c4=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());_6c4=dojo.date.add(_6c4,mode,_6c3);return _65c.format(_6c4,{selector:"date",fullYear:true});},formatShortDate:function(dt){if(!dt){return"";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _6c5=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());return _65c.format(_6c5,{selector:"date",formatLength:"short",fullYear:true});},formatLongDate:function(dt){if(!dt){return"";}if(Sage.Utility.Convert.isDateString(dt)){dt=Sage.Utility.Convert.toDateFromString(dt);}var _6c6=new Date(dt.getFullYear(),dt.getMonth(),dt.getDate(),dt.getHours(),dt.getMinutes());return _65c.format(_6c6,{selector:"date",formatLength:"long",fullYear:true});},roundDateToNextQuarterHour:function(dt){dt.setSeconds(0);var _6c7=dt.getMinutes();if(_6c7<15){dt.setMinutes(15);}else{if(_6c7<30){dt.setMinutes(30);}else{if(_6c7<45){dt.setMinutes(45);}else{dt.setMinutes(0);dt=dojo.date.add(dt,"hour",1);}}}return dt;},isDateFiveSecondRuleTimeless:function(d){if(!d){return false;}return((d.getUTCHours()===0)&&(d.getUTCMinutes()===0)&&(d.getUTCSeconds()===5));},formatDuration:function(_6c8,_6c9){if(_6c9){return"";}if(!_6c8){return"0m";}if(_6c8<60){return _6c8+"m";}if(_6c8>60){var _6ca=String(_6c8/60).split(".");var min=_6c8%60;return _6ca[0]+"h "+min+"m";}else{return"1hr";}},formatTimelessStartDate:function(_6cb){if(!_6cb){return"";}var pad=function(n){return n<10?"0"+n:n;};return _6cb.getUTCFullYear()+"-"+pad(_6cb.getUTCMonth()+1)+"-"+pad(_6cb.getUTCDate())+"T00:00:00Z";},formatTimelessEndDate:function(_6cc,mode,_6cd){if(!_6cc){return"";}var _6ce=new Date(_6cc.getFullYear(),_6cc.getMonth(),_6cc.getDate());if(mode&&_6cd){_6ce=dojo.date.add(_6ce,mode,_6cd);}var pad=function(n){return n<10?"0"+n:n;};var _6cf=_6ce.getUTCFullYear();var _6d0=_6ce.getUTCMonth()+1;var _6d1=_6ce.getUTCDate();return _6cf+"-"+pad(_6d0)+"-"+pad(_6d1)+"T23:59:59Z";},getNthWeekOfMonth:function(d){var _6d2=new Date(d.getFullYear(),d.getMonth(),d.getDate());var _6d3=_6d2.getMonth();for(var i=1;i<7;i++){_6d2=dojo.date.add(_6d2,"week",-1);if(_6d3!==_6d2.getMonth()){return i;}}return 1;},setDateToNthWeekDay:function(d,_6d4,_6d5){var i,_6d6=new Date(d.getFullYear(),d.getMonth(),d.getDate());if(_6d4===5){_6d6.setDate(dojo.date.getDaysInMonth(_6d6));for(i=0;i<7;i++){if(_6d6.getDay()===_6d5){break;}_6d6=dojo.date.add(_6d6,"day",-1);}}else{_6d6.setDate(1);for(i=0;i<7;i++){if(_6d6.getDay()===_6d5){break;}_6d6=dojo.date.add(_6d6,"day",1);}_6d6=dojo.date.add(_6d6,"week",_6d4-1);}return _6d6;},isValidId:function(id){var _6d7=false;if(id){if(id.trim()!==""){_6d7=true;}}return _6d7;},getConfirmStatusName:function(type){if(!type){return _65f.Unknown||"Unknown";}switch(type.toUpperCase().trim()){case"CHANGE":return _65f.confirmTypeChanged||"Changed";case"CONFIRM":return _65f.confirmTypeConfirmed||"Confirmed";case"DELETED":return _65f.confirmTypeDeleted||"Deleted";case"LEADER":return _65f.Leader||"Leader";case"NEW":return _65f.New||"New";default:return type;}},isReocurringId:function(id){if(id.charAt(12)===";"){return true;}return false;},findFailedRequestMessage:function(_6d8,def){if(_6d8.responseText){var rsp=eval(_6d8.responseText);if(dojo.isArray(rsp)){if(rsp[0]){return rsp[0].message||def;}}}return def;},removeMember:function(_6d9,_6da){var _6db=dijit.byId(_6d9);if(_6db){var args={memberId:_6da};_6db._removeMember(args);}},getActivityEditLink:function(_6dc){var key=_6dc.id;var _6dd='<a href="${0}" >${1}</a>';var _6de=Sage.Utility.Activity._getReccurenceFlag(_6dc);var desc=_6dc.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_6dc.Type));var href="javascript:Sage.Link.editActivity('"+key+"', "+_6de+")";return _65e.substitute(_6dd,[href,desc]);},getActivitySummaryHeader:function(_6df){var key=_6df.id;var _6e0='<a href="${0}" >${1}</a>';var _6e1="";if(_6df.Alarm){_6e1+='<div class="Global_Images icon24x24 icon_Alarm_24x24" > </div>&nbsp;';}if((Sage.Utility.Activity.isReocurringId(_6df.id))||(_6df.Recurring)){_6e1+='<div class="Global_Images icon16x16 icon_recurring" > </div>&nbsp;';}_6e1+='<div class="Global_Images icon24x24 '+Sage.Utility.Activity.getActivityImageClass(_6df.Type,"medium")+'"> </div>&nbsp;';var _6e2=Sage.Utility.Activity._getReccurenceFlag(_6df);var desc=_6df.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_6df.Type));var href="javascript:Sage.Link.editActivity('"+key+"', "+_6e2+")";_6e1+=_65e.substitute(_6e0,[href,desc]);return _6e1;},getUserActivitySummaryHeader:function(_6e3){var _6e4=_6e3.Activity;var _6e5="";if(_6e3.Status==="asUnconfirmed"){_6e5+='<div class="Global_Images icon16x16 icon_unconfirmedActivity16x16" > </div>';}if(_6e4.Alarm){_6e5+='<div class="Global_Images icon24x24 icon_Alarm_24x24" > </div>&nbsp;';}if((Sage.Utility.Activity.isReocurringId(_6e4.$key))||(_6e4.Recurring)){_6e5+='<div class="Global_Images icon16x16 icon_recurring" > </div>&nbsp;';}_6e5+='<div class="Global_Images icon24x24 '+Sage.Utility.Activity.getActivityImageClass(_6e4.Type,"medium")+'"> </div>&nbsp;';var _6e6=Sage.Utility.Activity._getReccurenceFlag(_6e4);var _6e7='<a href="${0}" >${1}</a>';var desc=_6e4.Description||Sage.Utility.Activity.getActivityTypeName(Sage.Utility.Activity.getActivityTypeEnumCode(_6e4.Type));var href="javascript:Sage.Link.editActivity('"+_6e4.$key+"', "+_6e6+")";if(_6e3.Status==="asUnconfirmed"){href="javascript:Sage.Link.confirmActivityFor('"+_6e4.$key+"', "+_6e3.User.$key+")";}_6e5+=_65e.substitute(_6e7,[href,desc]);return _6e5;},getActivityCompleteHref:function(_6e8){var key=_6e8.$key;var _6e9=Sage.Utility.Activity._getReccurenceFlag(_6e8);var href="javascript:Sage.Link.completeActivity('"+key+"', "+_6e9+")";return href;},_getReccurenceFlag:function(_6ea){if(_6ea.RecurrenceState){if((_6ea.Recurring===true)&&(_6ea.RecurrenceState==="rstMaster")){return false;}if((_6ea.Recurring===true)&&((_6ea.RecurIterations)<0)){return false;}if(_6ea.RecurrenceState==="rstOccurrence"){return true;}}else{if(_6ea.Recurring===true){if((_6ea.RecurIterations)<0){return false;}return true;}return false;}return false;},getCurrentActivityId:function(){var _6eb=Sage.Services.getService("ClientEntityContext");var _6ec=_6eb.getContext();var _6ed=null;if(_6ec&&_6ec.EntityTableName=="ACTIVITY"){_6ed=_6ec.EntityId;}return _6ed;},_getContactData:function(_6ee,_6ef,_6f0){if(!this._contactStore){this._contactStore=new _662({include:["$descriptors","Address"],resourceKind:"contacts",service:_661.getSDataService("dynamic")});}this._contactStore.fetch({predicate:"'"+_6ee+"'",onComplete:function(_6f1){_6ef.call(_6f0,_6f1);},onError:function(){_6ef.call(_6f0,null);},scope:this});},_getLeadData:function(_6f2,_6f3,_6f4){if(!this._leadStore){this._leadStore=new _662({include:["$descriptors","Address"],resourceKind:"leads",service:_661.getSDataService("dynamic")});}this._leadStore.fetch({predicate:"'"+_6f2+"'",onComplete:function(_6f5){_6f3.call(_6f4,_6f5);},onError:function(){_6f3.call(_6f4,null);},scope:this});},activityTypeCell:_665,activityAlarmCell:_674,activityRecurringCell:_676,activityAttachCell:_67c,activityConfirmStatusCell:_681,activityDurationCell:_685,activityNameCell:_68c,activityNameTypeCell:_693,activityAccountCell:_699,activityCompleteCell:_6a6,historyTypeCell:_66f,activityLeaderCell:_6a0};return Sage.Utility.Activity;});},"url:Sage/UI/templates/JobSchedulingWidget.html":'<div>\r\n    <div dojoAttachPoint="divJobSchedulingWidget">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <label>${lblCreateSchedule}:</label>\r\n                </td>\r\n            </tr>\r\n            <tr style="padding-left: 10px">\r\n                <td>\r\n                    <label style="padding-left: 10px">${lblEveryText}</label>&nbsp;\r\n                    <div dojoAttachPoint="divMinutesHours" class="display-none" style="display: -moz-inline-box; display: inline-block">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboMinutesHours"></select>\r\n                    </div>\r\n                    <select dojoType="dijit.form.Select" dojoAttachPoint="cboFrequency" dojoAttachEvent="onChange:_onFrequencyChange">\r\n                        <option value="minutes">${lblMinutesFrequency}</option>\r\n                        <option value="hourly">${lblHourlyFrequency}</option>\r\n                        <option value="daily">${lblDailyFrequency}</option>\r\n                        <option value="weekday">${lblWeekDayFrequency}</option>\r\n                        <option value="weekly">${lblWeeklyFrequency}</option>\r\n                        <option value="monthly">${lblMonthlyFrequency}</option>\r\n                        <option value="yearly" selected="selected" disabled="disabled">${lblYearlyFrequency}</option>\r\n                    </select>\r\n                    <label dojoAttachPoint="lblOnText" class="display-none">${lblOnText}</label>&nbsp;\r\n                    <label dojoAttachPoint="lblOnTheText" class="display-none">${lblOnTheText}</label>&nbsp;\r\n                    <div dojoAttachPoint="divMonthDay" style="display: -moz-inline-box; display: inline-block" class="display-none">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboMonthDay">\r\n                            <option value="1" selected="selected">${lblFirstDay}</option>\r\n                            <option value="2">${lblSecondDay}</option>\r\n                            <option value="3">${lblThirdDay}</option>\r\n                            <option value="4">${lblFourthDay}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <div dojoAttachPoint="divDay" style="display: -moz-inline-box; display: inline-block" class="display-none">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboDay">\r\n                            <option value="SUN">${lblSunday}</option>\r\n                            <option value="MON" selected="selected">${lblMonday}</option>\r\n                            <option value="TUE">${lblTuesday}</option>\r\n                            <option value="WED">${lblWednesday}</option>\r\n                            <option value="THU">${lblThursday}</option>\r\n                            <option value="FRI">${lblFriday}</option>\r\n                            <option value="SAT">${lblSaturday}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint="lblAtText">${lblAtText}</label>&nbsp;&nbsp;\r\n                    <div dojoAttachPoint="divMinutesPastHour" class="display-none" style="display: -moz-inline-box; display: inline-block">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboMinutesPastHour"></select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint="lblMinutesPastHour" class="display-none">${lblMinutesPastHour}</label>&nbsp;\r\n                    <div dojoAttachPoint="divRunAtTime" style="display: -moz-inline-box; display: inline-block">\r\n                        <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtRunAtTime" displayDate="false" displayTime="true" label="${lblAtText}" required="true"></div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint="rowRunFromDate">\r\n                <td>\r\n                    <label style="padding-left: 10px">${lblFromTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtRunFromDate" displayDate="true" label="${lblFromTimeText}" style="width: 140px"></div>&nbsp;\r\n                    <label>${lblToTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtRunToDate" displayDate="true" label="${lblToTimeText}" style="width: 140px"></div>&nbsp;\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint="rowCronExpression">\r\n                <td>\r\n                    <label style="padding-left: 10px">${lblCronExpressionText}</label>&nbsp;\r\n                    <div data-dojo-type="dijit.form.TextBox" dojoAttachPoint="txtCronExpression" style="width: 375px"></div>&nbsp\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>',"Sage/MainView/ReportManager":function(){define("Sage/MainView/ReportManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/MainView/ReportMgr/ReportManagerGroupContextService","dojo/_base/declare","Sage/MainView/ReportMgr/ReportManagerActions","Sage/MainView/ReportMgr/ReportWizardController"],function(_6f6,_6f7,_6f8,_6f9,_6fa){var _6fb=_6fa("Sage.MainView.ReportManager",_6f6,{_currentTabId:false,_currentTabDescription:false,_mainViewName:"ReportManager",store:false,constructor:function(_6fc){var _6fd=Sage.Services.getService("ClientGroupContext");if(!_6fd||_6fd.declaredClass!=="Sage.MainView.ReportMgr.ReportManagerGroupContextService"){_6fd=new _6f9();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",_6fd);}var ctx=_6fd.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");},_getListPanelConfig:function(){var _6fe=Sage.Services.getService("ClientGroupContext");if(_6fe){this.listPanelConfiguration=_6fe.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}return this.listPanelConfiguration;},requestConfiguration:function(_6ff){if(_6ff.success){_6ff.success.call(_6ff.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_700){if(_700.success){_700.success.call(_700.scope||this,this.titlePaneConfiguration,this);}},_getTabsConfig:function(){var _701={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _701;},_getStaticTabs:function(){var _702=Sage.Services.getService("ClientGroupContext");var _703=_702.getStaticTabs();return _703;},_onTabSelected:function(tab){var _704=Sage.Services.getService("ClientGroupContext");if(_704){var ctx=_704.getContext();var id=tab.id||tab;if(ctx.CurrentGroupID===id){return;}_704.setCurrentGroup(id,tab.title);}},_onCurrentGroupChanged:function(args){var _705=args.current;this._currentTabId=_705.CurrentGroupID;this._currentTabDescription=_705.CurrentName;if(dijit.byId("GroupTabs").selectedChildWidget.id!==_705.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_705.CurrentGroupID);}},_getMenuConfig:function(){return false;}});return _6fb;});},"Sage/_ConfigurationProvider":function(){define("Sage/_ConfigurationProvider",["dojo/_base/declare"],function(_706){var _707=_706("Sage._ConfigurationProvider",null,{_connects:null,_subscribes:null,constructor:function(_708){dojo.mixin(this,_708);this._connects=[];this._subscribes=[];},"set":function(name,_709){this["_"+name]=_709;},"get":function(name){return this["_"+name];},requestConfiguration:function(_70a){},onConfigurationChange:function(){},destroy:function(){dojo.forEach(this._connects,function(_70b){dojo.disconnect(_70b);});dojo.forEach(this._subscribes,function(_70c){dojo.unsubscribe(_70c);});this.uninitialize();},uninitialize:function(){}});var _70d=_706("Sage.StaticConfigurationProvider",[_707],{createConfiguration:function(){var _70e={};for(var name in this){if(this.hasOwnProperty(name)&&!/^_/.test(name)){_70e[name]=this[name];}}return _70e;},requestConfiguration:function(_70f){if(_70f.success){_70f.success.call(_70f.scope||this,this.createConfiguration(_70f),_70f,this);}}});return _707;});},"Sage/Utility/File/nls/AttachmentPropertiesEditForm":function(){define("Sage/Utility/File/nls/AttachmentPropertiesEditForm",["Sage/LanguageList","dojo/_base/lang"],function(_710,lang){var nls={root:{fileText:"File",descriptionText:"Description",sizeText:"Size",attachDateText:"Attached Date",attachedByText:"Attached By",uploadFileText:"Select Different File...",editText:"Edit Attachment",okText:"OK",cancelText:"Cancel",browseText:"Browse",urlText:"URL",requestFailedMsg:"The requested operation could not be completed, please try again later."}};return lang.mixin(_710,nls);});},"Sage/QuickForms/Design/Editors/NumericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NumericBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NumericBasicPropertyEditor"],function(_711,lang,_712,_713,_714,_715,_716,_717,_718,_719,_71a,_71b){return _711("Sage.QuickForms.Design.Editors.NumericBasicPropertyEditor",[_712,_719,_718],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_71b);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(_71c){if(this.isSuspended()){return;}this._designer.set("caption",_71c);},_onCaptionAlignmentChange:function(_71d){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_71d);},_onIsReadOnlyChange:function(_71e){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_71e);},_onToolTipChange:function(_71f){if(this.isSuspended()){return;}this._designer.set("toolTip",_71f);}});});},"Sage/Data/SingleEntrySDataStore":function(){define("Sage/Data/SingleEntrySDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare"],function(_720,_721,_722){var _723=_722("Sage.Data.SingleEntrySDataStore",_720,{_entity:false,_request:false,_okToCache:true,postMixInProperties:function(){},getFeed:function(_724){},fetch:function(_725){if(_725.queryOptions&&_725.queryOptions.currentEntity&&this._entity){this.returnCollectionProperty(_725,_725.queryOptions.property);return;}this.verifyService();var _726=this._getRequest();if(_725.predicate){if(this._entity&&(_725.predicate===this._entity.$key)&&this._okToCache){if(_725.onComplete){_725.onComplete.call(_725.scope||this,this._entity,_725);return;}}_726.setResourceSelector(_725.predicate);}if(this.select&&this.select.length>0){_726.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_726.setQueryArg("include",this.include.join(","));}if(this.predicate&&this.predicate.length>0){_726.setResourceSelector(this.predicate);}if(_725.beforeRequest){_725.beforeRequest.call(_725.scope||this,_726);}_726.read({success:dojo.hitch(this,this.onSuccess,_725),failure:dojo.hitch(this,this.onFailure,_725)});},save:function(_727){if(this._request&&this._entity){this._okToCache=false;this._request.update(this._entity,_727);}},setValue:function(item,_728,_729){var _72a=item||this._entity;if(_72a){var _72b=this.getValue(_72a,_728,"");_721.setValue(_72a,_728,_729);this.onSet(_72a,_728,_72b,_729);}},getCurrentEntity:function(){return this._entity;},newItem:function(args){var _72c=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);_72c.setResourceKind(this.resourceKind);_72c.read({success:function(_72d){this._entity=_72d;if((args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,_72d);}},failure:function(err){if(args.onError){args.onError.call(args.scope||this,err);}},scope:this});},saveNewEntity:function(_72e,_72f,_730,_731,_732){if(!_72e){_72e=this._entity;}var _733=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_733.setResourceKind(this.resourceKind);if(_732){_732.call(_731||this,_733,_72e);}_733.create(_72e,{success:_72f||function(_734){if(typeof console!=="undefined"){}},failure:_730||function(_735,o){if(typeof console!=="undefined"){}},scope:_731||this});},deleteEntity:function(_736,_737,_738,_739){_736=_736||this._entity;if(_736){var _73a=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_73a.setResourceKind(this.resourceKind);_73a.setResourceSelector("'"+_736["$key"]+"'");_73a["delete"](_736,{success:_737||function(_73b){if(typeof console!=="undefined"){}},failure:_738||function(_73c){if(typeof console!=="undefined"){}},scope:_739||this});}},clearCache:function(){this._entity=false;},_getRequest:function(){if(!this._request){var req=new Sage.SData.Client.SDataSingleResourceRequest(this.service);req.setResourceKind(this.resourceKind);this._request=req;}return this._request;},returnCollectionProperty:function(_73d,_73e){if(this._entity&&this._entity.hasOwnProperty(_73e)){var list=this._entity[_73e].$resources;if(typeof list!=="unknown"){if(_73d.onBegin){_73d.onBegin.call(_73d.scope||this,list.length,_73d);}if(_73d.onComplete){_73d.onComplete.call(_73d.scope||this,list,_73d);}}}},onSuccess:function(_73f,data){if(data){this._okToCache=true;this._entity=data;if(_73f.onComplete){_73f.onComplete.call(_73f.scope||this,data,_73f);}}else{if(_73f.onError){_73f.onError.call(_73f.scope||this,"invalid feed",_73f);}}},onFailure:function(_740,_741,_742){this._entity=false;if(_740.onError){_740.onError.call(_740.scope||this,_741.responseText,_740);}},onSet:function(item,_743,_744,_745){}});return _723;});},"Sage/MainView/JobMgr/FilterConfigurationProvider":function(){define("Sage/MainView/JobMgr/FilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Utility","Sage/Data/SDataStore","Sage/MainView/JobMgr/JobManagerGroupContextService","dijit/registry","dojo/_base/declare","Sage/Utility/Filters","dojo/_base/lang","dojo/json"],function(_746,_747,_748,_749,_74a,_74b,_74c,_74d,lang,json){var _74e=_74c("Sage.MainView.JobMgr.FilterConfigurationProvider",[_747,_746],{_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_74f){this.inherited(arguments);if(this.groupContextService.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){Sage.Services.removeService("ClientGroupContext");this.groupContextService=new GroupManagerGroupContextService();Sage.Services.addService("ClientGroupContext",this.groupContextService);}this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(_750,_751){var _752=this.groupContextService.getCurrentListConfig();this._configuration=_752.getFilterConfig(this.metaDataService,_750,_751);if(!this._configuration){this._configuration={};}this._configuration.getFilterManager=function(){var _753=_74b.byId("list");return _753&&_753.get("filterManager");};this._hasLayoutConfiguration=true;},requestConfiguration:function(_754){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;this._onRequestConfigurationSuccess(_754,null);this._getHiddenFilters(_754);},_onRequestConfigurationSuccess:function(_755,_756){this._createConfiguration(_756,_755);this._callOptionsSuccess(_755);},_onRequestConfigurationFailure:function(_757,_758){if(_757.failure){_757.failure.call(_757.scope||this,_758,_757,this);}},getFilterFormatter:function(_759){if(_759){}return false;},ModifyFilterQuery:function(_75a,_75b){return _75b;},_getHiddenFilters:function(_75c){var key=this._getHiddenFiltersKey();if(key){_74d.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_75c||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_74d.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_75d,_75e){if(_75e&&_75e.response&&_75e.response.value){this._configuration._hiddenFilters=json.parse(_75e.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_75d);},_callOptionsSuccess:function(_75f){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_75f.success){_75f.success.call(_75f.scope||this,this._configuration,_75f,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _74e;});},"Sage/UI/SLXPreviewGrid/main":function(){define("Sage/UI/SLXPreviewGrid/main",["Sage/UI/SLXPreviewGrid/Grid","Sage/UI/SLXPreviewGrid/FilterPanel","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/Text"],function(){});},"Sage/Utility/Filters":function(){define("Sage/Utility/Filters",["dojo/_base/lang","Sage/Data/SDataServiceRegistry","dojo/json"],function(lang,_760,json){Sage.namespace("Utility.Filters");lang.mixin(Sage.Utility.Filters,{getHiddenFiltersKey:function(){var _761=Sage.Services.getService("ClientGroupContext"),_762=_761&&_761.getContext(),_763="hidden_filters_",_764=_762&&_762.CurrentGroupID,key="";if(_764){_764=_764.toLowerCase();_764=_764.replace(/ /g,"_").replace(/'/g,"_");key=_763+_764;}return key;},setHiddenFilters:function(key,_765){var _766,_767,_768;_766=_760.getSDataService("system");_767={"$name":"setHiddenFilters","request":{"key":key,"value":_765}};_768=new Sage.SData.Client.SDataServiceOperationRequest(_766);_768.setOperationName("setHiddenFilters");_768.execute(_767,{});sessionStorage.removeItem(key);},getHiddenFilters:function(key,_769,_76a){var _76b,_76c,_76d,data;data=sessionStorage.getItem(key);if(data===null){_76b=_760.getSDataService("system");_76d={"$name":"getHiddenFilters","request":{"key":key}};_76c=new Sage.SData.Client.SDataServiceOperationRequest(_76b).setOperationName("getHiddenFilters");_76c.execute(_76d,{success:lang.hitch(this,this._getHiddenFiltersSuccess,_769,key),failure:_76a});}else{_769.call(this,json.parse(data));}},_getHiddenFiltersSuccess:function(_76e,key,data){if(_76e){sessionStorage.setItem(key,json.stringify(data));_76e.call(this,data);}},resolveDataType:function(_76f){switch(_76f){case"47f90249-e4c8-4564-9ae6-e1fa9904f8b8":case"6b0b3d51-0728-4b67-9473-52836a81da53":case"2596d57d-89d6-4b72-9036-b18c64c5324c":case"f37c635c-9fbf-40d8-98d5-750a54a3cca1":return"numeric";case"ccc0f01d-7ba5-408e-8526-a3f942354b3a":case"76c537a8-8b08-4b35-84cf-fa95c6c133b0":case"b71918bf-fac1-4b62-9ed5-0b0294bc9900":case"517d5e69-9efa-4d0a-8e7a-1c7691f921ba":return"string";case"8edd8fce-2be5-4d3d-bedd-ea667e78a8af":return"enum";case"1f08f2eb-87c8-443b-a7c2-a51f590923f5":return"date";case"30053f5a-8d40-4db1-b185-1e4128eb26cc":return"key";case"92432b4d-8206-4a96-ba7b-e4cbd374f148":case"95ca9d52-6f0b-4a96-bd40-43583f41faf8":return"boolean";case"f4ca6023-9f5f-4e41-8571-50ba94e8f233":return"binary";default:return"unknown";}},resolveDataTypeQB:function(_770){var _771;switch(_770){case"47f90249-e4c8-4564-9ae6-e1fa9904f8b8":case"6b0b3d51-0728-4b67-9473-52836a81da53":_771="Integer";break;case"2596d57d-89d6-4b72-9036-b18c64c5324c":case"f37c635c-9fbf-40d8-98d5-750a54a3cca1":_771="Decimal";break;case"ccc0f01d-7ba5-408e-8526-a3f942354b3a":case"76c537a8-8b08-4b35-84cf-fa95c6c133b0":case"b71918bf-fac1-4b62-9ed5-0b0294bc9900":case"517d5e69-9efa-4d0a-8e7a-1c7691f921ba":_771="String";break;case"1f08f2eb-87c8-443b-a7c2-a51f590923f5":_771="Date/Time";break;case"f4ca6023-9f5f-4e41-8571-50ba94e8f233":_771="Memo/Blob";break;default:_771="String";}return _771;}});return Sage.Utility.Filters;});},"Sage/MainView/ActivityMgr/ConfirmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/ConfirmListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/ConfirmListPanelConfig"],function(_772,_773,_774,_775,_776,_777,_778,_779){var _77a=_778("Sage.MainView.ActivityMgr.ConfirmListPanelConfig",[_772],{constructor:function(){this._nlsResources=_779;this._listId="confirmations";this._resourceKind="UserNotifications";this.entityName="UserNotification";this._contextMenu="ConfimationListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/userNotification/change",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);},_onListRefresh:function(_77b){var _77c=Sage.Services.getService("ActivityService");_77c.refreshList("confirmations");},_getSelect:function(){var _77d=["$key","Type","ActivityId","Activity/Type","Activity/StartDate","Activity/Description","FromUserId","ToUserId","FromUser/UserInfo/UserName","ToUser/UserInfo/UserName"];return _77d;},_getInclude:function(){var _77e=["UserInfo"];return _77e;},_getSort:function(){var sort=[{attribute:"Activity.StartDate",descending:true}];return sort;},_getWhere:function(){var _77f=(this._currentUserId)?dojo.string.substitute('ToUser.Id eq "${0}" ',[this._currentUserId]):"";return _77f;},_getStructure:function(){var _780=this._nlsResources.colNameType||"Activity Type";var _781=this._nlsResources.colNameNotification||"Notification";var _782=this._nlsResources.colNameStartDate||"Start Date";var _783=this._nlsResources.colNameRegarding||"Regarding";var _784=this._nlsResources.colNameFromUser||"From";var _785=this._nlsResources.colNameToUser||"To User";var _786=_778("Sage.MainView.ActivityMgr.ConfirmListPanelConfig.ActivityConfirmCell",dojox.grid.cells.Cell,{format:function(_787,_788){var key=_773.getValue(_788,"$key");var type=_773.getValue(_788,"Type");var _789=_773.getValue(_788,"ActivityId");var _78a=_773.getValue(_788,"ToUserId");var _78b=_774.getConfirmStatusName(type);var html="<a href='javascript:Sage.Link.editConfirmation(\""+key+"\")' >"+_78b+"</a>";return html;}});var _78c=_778("Sage.MainView.ActivityMgr.ConfirmListPanelConfig.ActivityTypeCell",dojox.grid.cells.Cell,{format:function(_78d,_78e){var type=this.get(_78d,_78e);var html="<div><div class='Global_Images icon16x16 "+_774.getActivityImageClass(type,"small")+"'></div>&nbsp"+_774.getActivityTypeName(type)+"</div>";return html;}});var _78f=[{field:"Type",name:_781,type:_786,width:"90px"},{field:"Activity.Type",name:_780,type:_78c,width:"90px"},{field:"Activity.StartDate",name:_782,type:_777,timelessField:"Timeless",width:"150px"},{field:"Activity.Description",name:_783,width:"300px"},{field:"FromUser.UserInfo.UserName",name:_784,width:"100px"},{field:"ToUser.UserInfo.UserName",name:_785,width:"100px"}];return _78f;},_getDetailConfig:function(){var _790=this._getFormatterScope();var _791={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"ConfirmationDetailSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/ConfirmationDetailSummary.html",postProcessCallBack:false};return _791;},_getFormatterScope:function(){var _792=new _775({requestConfiguration:{mashupName:"ActivityManager",queryName:"ConfirmationListSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/ConfirmationListSummary.html"});return _792;},_getToolBars:function(){var _793={items:[]};return _793;}});return _77a;});},"Sage/QuickForms/Design/HiddenControlDesigner":function(){define("Sage/QuickForms/Design/HiddenControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/NonVisibleAdvancedPropertyEditor","dojo/i18n!./nls/HiddenControlDesigner"],function(_794,_795,lang,_796,_797,_798,_799,_79a,_79b){return _794("Sage.QuickForms.Design.HiddenControlDesigner",[_797,_798,_796,_799],{designSupport:{visible:false},editors:[_79a],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div data-dojo-attach-point="containerNode">','<span data-dojo-attach-point="designCaptionNode"></span>',"</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"Hidden_Text_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFHidden, Sage.Platform.QuickForms.QFControls",displayNameText:"Hidden Text",constructor:function(){lang.mixin(this,_79b);},_setControlIdAttr:function(_79c){this.inherited(arguments);this.set("designCaption",_79c);},startup:function(){this.inherited(arguments);this.set("designCaption",this.get("controlId"));}});});},"Sage/MainView/Lead/UpdateLeads":function(){define("Sage/MainView/Lead/UpdateLeads",["dojo/_base/declare","dojo/i18n!./nls/UpdateLeads","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","Sage/Utility/Jobs","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer","dojo/i18n!./nls/UpdateLeads"],function(_79d,_79e,_79f,_7a0,_7a1,_7a2,_7a3,_7a4,_7a5,jobs){var _7a6=_79d("Sage.MainView.Lead.UpdateLeads",[_7a2,_7a3],{id:"dlgUpdateMultipleLeads",_dialog:false,_selectionInfo:false,_updateableProperties:false,selectedFieldIndex:1,lup_Owner:false,lup_AcctMgr:false,widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>",'<div data-dojo-type="dijit.Dialog" title="{%= $.updateMultipleLeads_Caption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onCancel:_close">','<div data-dojo-type="dijit.form.Form" id="{%= $.id %}_frmUpdateMultipleLeads">','<table cellspacing="20">',"<tr>","<td>","<label>{%= $.update_Property_Caption %}</label>","</td>","<td>",'<select title="{%= $.update_Property_Caption %}" labelWidth="20" name="{%= $.id %}_PropertyName" dojoAttachPoint="propertyNameSelect" dojoAttachEvent="onChange:_propertyChanged" data-dojo-type="dijit.form.Select" style="width:150px">',"{% for (var i=0; i < $._updateableProperties.length;i++) { %}",'<option value="{%= $._updateableProperties[i].propertyName %}" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>',"{% } %}","</select>","</td>","<td>",'<div id="divUpdateLeadsTolbl" dojoAttachPoint="divUpdateLeadsTolbl">',"<label>{%= $.update_To_Caption %}</label>","</div>","</td>","<td>",'<div dojoAttachPoint="divOwnerContainer" baseClass="lookup-container">','<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.lookupOwnerText %}" dojoAttachPoint="assignOwner_Container" class="removePadding"></div>',"</div>",'<div dojoAttachPoint="divAcctMgrContainer" baseClass="lookup-container" class="display-none">','<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.update_To_Caption %}" id="{%= $.id %}_luAccountMgr" dojoAttachPoint="accountMgr_Container" allowClearingResult="false" class="removePadding"></div>',"</div>","</td>","</tr>","</table>",'<div class="button-bar" align="right">','<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.ok_Text %}</div>','<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_close">{%= $.btnCancel_Caption %}</div>',"</div>","</div>","</div>","</div>"]),constructor:function(_7a7){this._selectionInfo=_7a7;dojo.mixin(this,_79e);if(!this._updateableProperties){this._updateableProperties=[{propertyName:"",propertyDisplayName:""}];this.loadUpdateableProperties("Owner",this.updateProp_Owner);this.loadUpdateableProperties("AcctMgr",this.updateProp_AcctMgr);}},loadUpdateableProperties:function(_7a8,_7a9){var _7aa={propertyName:_7a8,propertyDisplayName:_7a9};this._updateableProperties.push(_7aa);},show:function(){if(!this.lup_Owner){this.createOwnerLookup();}if(!this.lup_AcctMgr){this.createAcctMgrLookup();}this._dialog.show();if(!this._dialog.helpIcon){_7a0.mixin(this._dialog,new _79f());this._dialog.createHelpIconByTopic("updateleads");}},_propertyChanged:function(){if(this.propertyNameSelect){this.setDisplayProperty(this.divAcctMgrContainer,(this.propertyNameSelect.value=="AcctMgr"));this.setDisplayProperty(this.divOwnerContainer,(this.propertyNameSelect.value=="Owner"));}},setDisplayProperty:function(_7ab,_7ac){if(_7ab&&_7ac){dojo.removeClass(_7ab,"display-none");}else{if(_7ab){dojo.addClass(_7ab,"display-none");}}},createOwnerLookup:function(){this.assignOwnerLookupConfig={id:"_assignOwner",structure:[{defaultCell:{sortable:true,width:"150px",editable:false,styles:"text-align: left;",propertyType:"System.String",excludeFromFilters:false,useAsResult:false,pickListName:null,defaultValue:""},cells:[{name:this.lookupDescriptionColText,field:"Description"},{name:this.lookupTypeColText,field:"Type",PropertyType:"Sage.Entity.Interfaces.OwnerType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"ownerViews",sort:[{attribute:"Description"}]},isModal:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOwnerText,dialogButtonText:this.ok_Text};this.lup_Owner=new _7a5({id:"lu_AssignOwner",config:this.assignOwnerLookupConfig,style:"width:100%"});dojo.place(this.lup_Owner.domNode,this.assignOwner_Container.domNode,"only");},createAcctMgrLookup:function(){this.accountMgrLookupConfig={id:"_acctMgr",structure:[{defaultCell:{sortable:true,width:"150px",editable:false,styles:"text-align: left;",propertyType:"System.String",excludeFromFilters:false,useAsResult:false,pickListName:null,defaultValue:""},cells:[{name:this.lookupNameColText,field:"UserInfo.UserName"},{name:this.lookupTitleColText,field:"UserInfo.Title"},{name:this.lookupDepartmentColText,field:"UserInfo.Department"},{name:this.lookupRegionColText,field:"UserInfo.Region"},{name:this.lookupTypeColText,field:"Type",propertyType:"Sage.Entity.Interfaces.UserType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.UserName"}]},isModal:true,initialLookup:true,preFilters:[{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"5"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"6"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"7"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"8"}],returnPrimaryKey:true,dialogTitle:this.lookupActMgrText,dialogButtonText:this.okText};this.lup_AcctMgr=new _7a5({id:"lu_AcctMgr",config:this.accountMgrLookupConfig,style:"width:100%"});dojo.place(this.lup_AcctMgr.domNode,this.accountMgr_Container.domNode,"only");},_okClick:function(){var _7ad=this.getPropertySelectionValue();var self=this;if(!_7ad&&!_7ad.value){_7a4.showError(this.errorUnspecifiedValue);return;}var _7ae=[{"name":"EntityName","value":"Lead"},{"name":"PropertyNames","value":_7ad.name},{"name":"PropertyValues","value":_7ad.value},{"name":"SelectedIds","value":(this._selectionInfo.selectionCount>0)?this._selectionInfo.selectedIds.join(",")||"":""},{"name":"GroupId","value":(this._selectionInfo.selectionCount===0)?this.getCurrentGroupId()||"":""}];var _7af={closable:true,title:this.updateLeadsTitle,key:"Sage.SalesLogix.BusinessRules.Jobs.UpdateEntityJob",parameters:_7ae,success:function(_7b0){},failure:function(_7b1){},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_7af);self._close();},getCurrentGroupId:function(){var _7b2=Sage.Services.getService("ClientGroupContext");if(_7b2){var _7b3=_7b2.getContext();return _7b3.CurrentGroupID;}return"";},getPropertySelectionValue:function(){if(this.propertyNameSelect){switch(this.propertyNameSelect.value){case"AcctMgr":if(this.lup_AcctMgr.selectedObject){return{name:"AccountManager",value:this.lup_AcctMgr.selectedObject.$key};}return false;case"Owner":if(this.lup_Owner.selectedObject){return{name:"Owner",value:this.lup_Owner.selectedObject.$key};}return false;}}return false;},_close:function(){this._dialog.hide();}});return _7a6;});},"Sage/Services/ClientBindingManagerService":function(){define("Sage/Services/ClientBindingManagerService",["dojo/_base/declare"],function(_7b4){var _7b5=_7b4("Sage.Services.ClientBindingManagerService",null,{constructor:function(){this._listeners[this.ON_SAVE]=[];this.inherited(arguments);},_WatchChanges:true,_PageExitWarningMessage:"",_ShowWarningOnPageExit:false,_SkipCheck:false,_CurrentEntityIsDirty:false,_SaveBtnID:"",_MsgDisplayID:"",_entityTransactionID:"",_IgnoreDirtyFlag:false,_DirtyAjaxItems:[],_listeners:{},_init:function(){this.positionDirtyDataMessage();dojo.subscribe("Sage/events/markDirty",this,"markDirty");},positionDirtyDataMessage:function(){var _7b6=dojo.query("#PageTitle");var _7b7=dojo.query(".dirtyDataMessage");if(_7b6&&_7b6.length>0&&_7b7&&_7b7.length>0){dojo.place(_7b7[0],_7b6[0],"after");dojo.style(_7b7[0],"top",dojo.marginBox(_7b6[0]).t+"px");dojo.style(_7b7[0],"left",dojo.marginBox(_7b6[0]).w+"px");}},addListener:function(_7b8,_7b9,_7ba){this._listeners[_7b8]=this._listeners[_7b8]||[];this._listeners[_7b8].push({listener:_7b9,scope:_7ba});},removeListener:function(_7bb,_7bc){this._listeners[_7bb]=this._listeners[_7bb]||[];for(var i=0;i<this._listeners[_7bb].length;i++){if(this._listeners[_7bb][i].listener==_7bc){break;}}this._listeners[_7bb].splice(i,1);},onSave:function(){for(var i=0;i<this._listeners[this.ON_SAVE].length;i++){var fn=this._listeners[this.ON_SAVE][i].listener;var _7bd=this._listeners[this.ON_SAVE][i].scope||this;if(typeof fn==="function"){fn.call(_7bd);}}},SetShowWarningOnPageExit:function(_7be){this._ShowWarningOnPageExit=(_7be);if(this._ShowWarningOnPageExit){window.onbeforeunload=this.onExit;}},onExit:function(e){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(mgr._ShowWarningOnPageExit){if(mgr._SkipCheck){return;}var hdd=mgr.hasDirtyData();if(hdd&&(mgr._IgnoreDirtyFlag===false)||Sage.Utility.getModeId()==="insert"){window.setTimeout(function(){Sage.Utility.hideRequestIndicator(null,{});},1000);if(window.event){window.event.returnValue=mgr._PageExitWarningMessage;}else{return mgr._PageExitWarningMessage;}}}}return;},canChangeEntityContext:function(){if((this._WatchChanges)&&(this.hasDirtyData())&&(this._ShowWarningOnPageExit)){if(confirm(this._PageExitWarningMessage)){this.clearDirtyStatus();return true;}else{return false;}}return true;},hasDirtyData:function(){return(this._CurrentEntityIsDirty||(this._DirtyAjaxItems&&this._DirtyAjaxItems.length>0));},markDirty:function(e){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(mgr._WatchChanges){mgr._CurrentEntityIsDirty=true;if(mgr._IgnoreDirtyFlag===false){dojo.style(dojo.byId(mgr._MsgDisplayID),"display","inline");}}}},addDirtyAjaxItem:function(_7bf){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){var len=this._DirtyAjaxItems.length;for(var i=0;i<len;i++){if(this._DirtyAjaxItems[i]===_7bf){return;}}this._DirtyAjaxItems.push(_7bf);if(this._WatchChanges){if(this._IgnoreDirtyFlag===false){dojo.style(dojo.byId(mgr._MsgDisplayID),"display","inline");}}}},clearDirtyAjaxItem:function(_7c0){var len=this._DirtyAjaxItems.length;for(var i=0;i<len;i++){if(this._DirtyAjaxItems[i]===_7c0){this._DirtyAjaxItems.splice(i,1);}}if(!this.hasDirtyData()){$("#"+this._MsgDisplayID).hide();}},clearDirtyStatus:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._CurrentEntityIsDirty=false;$("#"+mgr._MsgDisplayID).hide();}},notifyIsSaving:function(){if(Sage.Utility.Validate._isValid){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){Sys.WebForms.PageRequestManager.getInstance().add_endRequest(mgr.handleEndSaveRequest);mgr.clearDirtyStatus();if(Sage.Utility.getModeId()==="insert"){mgr._SkipCheck=true;}mgr.onSave();}}},handleEndSaveRequest:function(_7c1,args){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){if(!args.get_error()){mgr.clearDirtyStatus();}else{mgr.markDirty();}Sys.WebForms.PageRequestManager.getInstance().remove_endRequest(mgr.handleEndSaveRequest);}},saveForm:function(){var btn=dojo.byId(this._SaveBtnID);if(btn){if((btn.tagName.toLowerCase()==="input")&&(btn.type==="image")){this.notifyIsSaving();Sys.WebForms.PageRequestManager.getInstance()._doPostBack(btn.name,null);}else{if(btn.onClick){this.notifyIsSaving();btn.onClick();}}}},registerResetBtn:function(_7c2){if(_7c2){var btn=dojo.byId(_7c2);if(btn){$addHandler(btn,"click",this.resetCurrentEntity);}}},registerSaveBtn:function(_7c3,_7c4){if(_7c3){var btn=dojo.byId(_7c3);if(btn){dojo.connect(btn,"onclick",function(){Sage.Utility.Validate.onWorkSpaceSave(_7c4);});$addHandler(btn,"click",this.notifyIsSaving);if(this._SaveBtnID===""){this._SaveBtnID=_7c3;}}}},registerDialogCancelBtn:function(_7c5){if(_7c5){var btn=dojo.byId(_7c5);if(btn){$addHandler(btn,"click",this.rollbackCurrentTransaction);}}},registerBoundControls:function(_7c6){if((this._WatchChanges)&&(_7c6)){var _7c7=_7c6.split(",");var elem;for(var i=0;i<_7c7.length;i++){if(dojo.byId(_7c7[i])){elem=dojo.byId(_7c7[i]);}else{if(dijit.byId(_7c7[i])){elem=dijit.byId(_7c7[i]).focusNode;}}if(elem){if(elem.attributes["slxcompositecontrol"]){this.findChildControls(elem);}else{this.attachChangeHandler(elem);}}}}this.findWarningExceptions();},findChildControls:function(elem){if((elem)&&(elem.attributes)&&(elem.attributes["slxchangehook"])&&(!elem.attributes["slxcompositecontrol"])){this.attachChangeHandler(elem);}else{if(elem.childNodes){for(var n=0;n<elem.childNodes.length;n++){this.findChildControls(elem.childNodes[n]);}}}},setDijitControlFocus:function(_7c8){var _7c9=dijit.byId(_7c8);if(_7c9){_7c9.focus();if(_7c9.select){_7c9.select();}return true;}},setControlFocus:function(_7ca){var _7cb=function(elem){if((typeof(elem.select)=="function")||(typeof(elem.select)=="object")){elem.select();try{elem.focus();}catch(ex){return false;}return true;}return false;};var elem=$("#"+_7ca)[0];if(elem){if(_7cb(elem)){return;}elem=$("#"+_7ca+" TEXTAREA")[0];if((elem)&&(_7cb(elem))){return;}elem=$("#"+_7ca+" INPUT")[0];if(elem){if(dojo.hasClass(elem,"dijitArrowButtonInner")){if(this.setDijitControlFocus(_7ca+"-SingleSelectPickList-Combo")){return;}}else{if(dojo.hasClass(elem,"dijitValidationInner")){elem=$("#"+_7ca+" INPUT")[1];if((elem)&&(_7cb(elem))){return;}}else{if(dojo.style(elem,"display")=="none"&&elem.classList.length===0){elem=$("#"+_7ca+" INPUT")[3];if((elem)&&(_7cb(elem))){return;}}}}if(_7cb(elem)){return;}}elem=$("#"+_7ca+" SELECT")[0];if((elem)&&(_7cb(elem))){return;}}},attachChangeHandler:function(elem){if(elem){if((elem.tagName==="A")||((elem.tagName==="INPUT")&&((elem.type==="button")||(elem.type==="image")||(elem.type==="submit")))){this.registerChildPostBackWarningExceptions(elem);}else{try{elem._events=elem._events||{change:[]};$removeHandler(elem,"change",this.markDirty);}catch(e){console.error(e);}$addHandler(elem,"change",this.markDirty);}}},registerPostBackWarningExceptions:function(elem){if(elem){var _7cc=$("a,input[type='INPUT'],input[type='BUTTON'],input[type='IMAGE'],input[type='SUBMIT']",elem).get();for(var i=0;i<_7cc.length;i++){this.registerChildPostBackWarningExceptions(_7cc[i]);}}},findWarningExceptions:function(){var _7cd=$("span[slxcompositecontrol], div[slxcompositecontrol]").get();for(var i=0;i<_7cd.length;i++){this.registerPostBackWarningExceptions(_7cd[i]);}},registerChildPostBackWarningExceptions:function(elem){if(elem){if($(elem).hasClass("leavesPage")){return;}if((elem.tagName=="A")||((elem.tagName=="INPUT")&&((elem.type=="button")||(elem.type=="image")||(elem.type=="submit")))){try{$removeHandler(elem,"click",this.skipWarning);}catch(e){}$addHandler(elem,"click",this.skipWarning);}}},turnOffWarnings:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;var x=window.setTimeout(function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;}},500);}},resumeWarning:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=false;}},skipWarning:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=true;var x=window.setTimeout(function(){var mgr=Sage.Services.getService("ClientBindingManagerService");if(mgr){mgr._SkipCheck=false;}},500);}},resetCurrentEntity:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");mgr.doFormReset();if(mgr){var _7ce=Sage.Services.getService("ClientContextService");if(_7ce){if(_7ce.containsKey("ResetCurrentEntity")){_7ce.setValue("ResetCurrentEntity","true");}else{_7ce.add("ResetCurrentEntity","true");}}mgr.clearDirtyStatus();}},rollbackCurrentTransaction:function(){var mgr=Sage.Services.getService("ClientBindingManagerService");mgr.doSectionReset("dialog");if(mgr){var _7cf=Sage.Services.getService("ClientContextService");if(_7cf){if(_7cf.containsKey("RollbackEntityTransaction")){_7cf.setValue("RollbackEntityTransaction",mgr._entityTransactionID);}else{_7cf.add("RollbackEntityTransaction",mgr._entityTransactionID);}}}},doFormReset:function(){document.forms[0].reset();},doSectionReset:function(_7d0){function _7d1(_7d2,_7d3){if((_7d2=="main")&&(document.getElementById("MainContent"))){return document.getElementById("MainContent").getElementsByTagName(_7d3);}else{if((_7d2=="tabs")&&(document.getElementById("TabControl"))){return document.getElementById("TabControl").getElementsByTagName(_7d3);}else{if(document.getElementById("DialogWorkspace_content")){return document.getElementById("DialogWorkspace_content").getElementsByTagName(_7d3);}}}return[];}var elem;var _7d4=_7d1(_7d0,"INPUT");var i;if(_7d4.length>0){for(i=0;i<_7d4.length;i++){elem=_7d4[i];if((elem.type==="checkbox")||(elem.type==="radio")){if(elem.checked!=elem.defaultChecked){elem.checked=elem.defaultChecked;}}else{if(elem.value!=elem.defaultValue){elem.value=elem.defaultValue;}}}_7d4=_7d1(_7d0,"TEXTAREA");for(i=0;i<_7d4.length;i++){elem=_7d4[i];if(elem.value!=elem.defaultValue){elem.value=elem.defaultValue;}}_7d4=_7d1(_7d0,"SELECT");for(i=0;i<_7d4.length;i++){elem=_7d4[i];for(var k=0;k<elem.options.length;k++){elem.options[k].selected=elem.options[k].defaultSelected;}}}else{document.forms[0].reset();}},setCurrentTransaction:function(_7d5){this._entityTransactionID=_7d5;},clearReset:function(){if(Sage.Services){var _7d6=Sage.Services.getService("ClientContextService");if(_7d6){if(_7d6.containsKey("ResetCurrentEntity")){_7d6.remove("ResetCurrentEntity");}if(_7d6.containsKey("RollbackEntityTransaction")){_7d6.remove("RollbackEntityTransaction");}}}}});if(!Sage.Services.hasService("ClientBindingManagerService")){Sage.Services.addService("ClientBindingManagerService",new Sage.Services.ClientBindingManagerService());}return _7b5;});},"Sage/TaskPane/SecurityManagerTasksTasklet":function(){define("Sage/TaskPane/SecurityManagerTasksTasklet",["dojo/i18n!./nls/SecurityManagerTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/SecurityMgr/SecurityProfile","dojo/_base/declare"],function(_7d7,_7d8,_7d9,_7da,_7db){var _7dc=_7db("Sage.TaskPane.SecurityManagerTasksTasklet",[_7d8,_7d9],{addSecurityProfileTitle:"Add Profile",editSecurityProfileTitle:"Edit Profile",taskItems:[],constructor:function(){dojo.mixin(this,_7d7);this.taskItems=[{taskId:"AddSecurityProfile",type:"Link",displayName:this.addSecurityProfileTitle,clientAction:"securityManagerTasksActions.addSecurityProfile();",securedAction:"Entities/SecurityManager/AddProfile"},{taskId:"EditSecurityProfile",type:"Link",displayName:this.editSecurityProfileTitle,clientAction:"securityManagerTasksActions.editSecurityProfile();",securedAction:"Entities/SecurityManager/EditProfile"}];},addSecurityProfile:function(){var _7dd=this.getStore();_7dd.newItem({onComplete:this.receiveNewProfileToEdit,scope:this});},getStore:function(){if(this.store){return this.store;}var _7de=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new Sage.Data.SingleEntrySDataStore({service:_7de,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"]});return this.store;},receiveNewProfileToEdit:function(_7df){this.receiveProfileToEdit(_7df,true);},receiveProfileToEdit:function(_7e0,_7e1){this._isNew=(_7e1===true);var dlg=dijit.byId("secProfileDlg");if(dlg){dlg.show();var _7e2=dijit.byId("secDlg_Description");var type=dijit.byId("secDlg_Type");if(_7e0.profileDescription){_7e2.set("value",_7e0.profileDescription);}if(_7e0.profileType){type.set("value",_7e0.profileType);}else{type.set("value","UserDefined");}}},addSecurityProfileActionItem:function(_7e3){return function(){var _7e4=new _7da(_7e3);_7e4.show();};},editSecurityProfile:function(){var _7e5;var _7e6=Sage.Services.getService("ClientGroupContext");if(_7e6){var ctx=_7e6.getContext();_7e5=ctx.CurrentGroupID;var st=this.getStore();st.fetch({predicate:'"'+_7e5+'"',onComplete:this.receiveProfileToEdit,scope:this});}},save:function(_7e7){if(this.store){var _7e8=dijit.byId("secDlg_Description");var _7e9=dijit.byId("secDlg_Type");this.store.setValue(false,"profileDescription",_7e8.value);this.store.setValue(false,"profileType",_7e9.value);if(this._isNew){this.store.saveNewEntity(false,_7e7.success,_7e7.failure,this);}else{this.store.save(_7e7);}}},saveAndClose:function(){this.save({success:function(_7ea){var dlg=dijit.byId("secProfileDlg");dlg.hide();if(this._isNew){var _7eb=new dijit.layout.ContentPane();_7eb.id=_7ea["$key"];_7eb.title=_7ea.profileDescription;var _7ec=dijit.byId("GroupTabs");_7ec.addChild(_7eb);_7ec.selectChild(_7eb);}else{var _7ed=dijit.byId(_7ea["$key"]);_7ed.set("title",_7ea.profileDescription);}},failure:function(err){alert("The profile could not be saved: "+err);}});}});return _7dc;});},"Sage/UI/Alarms/UnconfirmedPane":function(){define("Sage/UI/Alarms/UnconfirmedPane",["dijit/form/Button","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/UnconfirmedAlarm","Sage/Link","dojo/i18n","dojo/i18n!./nls/UnconfirmedPane","dojo/_base/declare"],function(_7ee,_7ef,_7f0,link,i18n,_7f1,_7f2){var _7f3=_7f2("Sage.UI.Alarms.UnconfirmedPane",_7ef,{showConfirmationsText:"Show Confirmations",showCalendarText:"Show Calendar",acceptText:"Accept",declineText:"Decline",_acceptButton:false,templateString:["<div>",'<div class="alarm-items-contents" dojoAttachPoint="_alertContents"></div>','<div class="alarm-snoozebar" dojoAttachPoint="_confButtonBar">','<table style="width:100%">',"<tr>",'<td class="leftTools"><a href="Calendar.aspx" title="${showCalendarText}">${showCalendarText}</a>','<td class="leftTools"><a href="javascript: Sage.Link.toActivityListView(\'confirmations\')" title="${showConfirmationsText}">${showConfirmationsText}</a></td>','<td class="rightTools">','<button data-dojo-type="dijit.form.Button" type="button" dojoAttachEvent="onClick:_acceptSelected" dojoAttachPoint="_acceptButton">${acceptText}</button>','<button data-dojo-type="dijit.form.Button" type="button" dojoAttachEvent="onClick:_declineSelected">${declineText}</button>',"</td>","</tr>","</table>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_7f1);},onShow:function(){this._acceptButton.focus();},_addAlert:function(_7f4){var _7f5=new _7f0({userNotification:_7f4,selected:this.selectedAlerts.hasOwnProperty(_7f4["$key"])});this.alertWidgets.push(_7f5);dojo.place(_7f5.domNode,this._alertContents);},_acceptSelected:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var _7f6=Sage.Services.getService("ActivityService");_7f6.acceptConfirmation({notification:wid.userNotification,success:this.onPostSuccess,failure:function(){this._alertChanged(this.alertWidgets.length);},scope:this});this.alertWidgets.splice(i,1);wid.destroy();}}},_declineSelected:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var _7f7=Sage.Services.getService("ActivityService");_7f7.declineConfirmation({notification:wid.userNotification,success:this.onPostSuccess,failure:function(){this._alertChanged(this.alertWidgets.length);},scope:this});this.alertWidgets.splice(i,1);wid.destroy();}}},getUnhandledAlertCount:function(){return this.alertWidgets.length;},onPostSuccess:function(){this._alertChanged(this.alertWidgets.length);}});return _7f3;});},"Sage/MainView/ActivityMgr/AlarmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/AlarmListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","dijit/form/FilteringSelect","Sage/MainView/ActivityMgr/SnoozeButton","Sage/MainView/ActivityMgr/SnoozeOptions","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(_7f8,_7f9,_7fa,_7fb,_7fc,_7fd,_7fe,_7ff,_800,_801,_802,_803,_804){var _805=_803("Sage.MainView.ActivityMgr.AlarmListPanelConfig",[_7f8],{constructor:function(){this._nlsResources=_804;this._listId="alarms";this._resourceKind="userActivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_802.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;this.rebuildOnRefresh=true,dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);},_onListRefresh:function(_806){var _807=Sage.Services.getService("ActivityService");_807.refreshList("alarms");},_getSelect:function(){var _808=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/AlarmTime","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status"];return _808;},_getInclude:function(){var _809=["Activity","$descriptors"];return _809;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var _80a;_80a=dojo.string.substitute("(User.Id eq '${0}' and Status ne 'asDeclned') and ((Alarm eq true and AlarmTime ne null and AlarmTime lt '${1}') or (Alarm eq null and AlarmTime eq null and Activity.Alarm eq true and Activity.AlarmTime lt '${1}'))",[this._currentUserId,Sage.Utility.Convert.toIsoStringFromDate(new Date())]);return _80a;},_getStructure:function(){var _80b="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _80c="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _80d="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _80e=this._nlsResources.colNameType||"Activity Type";var _80f=this._nlsResources.colNameStartDate||"Start Date";var _810=this._nlsResources.colNameDuration||"Duration";var _811=this._nlsResources.colNameContact||"Name";var _812=this._nlsResources.colNameAccount||"Account/Company";var _813=this._nlsResources.colNameRegarding||"Regarding";var _814=this._nlsResources.colNamePriority||"Priority";var _815=this._nlsResources.colNameUserId||"Leader";var _816=this._nlsResources.colNameTypeName||"Type";var _817=[{field:"Status",name:_80d,type:_7fa.activityConfirmStatusCell,width:"20px"},{field:"Activity.Attachment",name:_80b,type:_7fa.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_80c,type:_7fa.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_80e,type:_7fa.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_80f,type:_7fe,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_810,type:_7fa.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_816,type:_7fa.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_811,type:_7fa.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_812,type:_7fa.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_813,width:"100px"},{field:"Activity.Priority",name:_814,width:"40px"},{field:"Activity.Leader",name:_815,type:_7fa.activityLeaderCell,width:"200px"}];return _817;},_getSummaryConfig:function(){var _818=new _7fd({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _819=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _81a=this._getFormatterScope();var _81b={structure:_819,layout:"layout",store:_818,rowHeight:170,rowsPerPage:10,formatterScope:_81a};return _81b;},_getDetailConfig:function(){var _81c=this._getFormatterScope();var _81d=this._getSummaryDetailRequestConfig();var _81e={resourceKind:this._resourceKind,requestConfiguration:_81d,templateLocation:"MainView/ActivityMgr/Templates/UserActivityDetailSummary.html"};return _81e;},_getSummaryListRequestConfig:function(){var _81f={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _81f;},_getSummaryDetailRequestConfig:function(){var _820={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _820;},_getFormatterScope:function(){var _821=this._getSummaryListRequestConfig();var _822=new _7fc({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_821});return _822;},_getToolBars:function(){var _823={items:[{custom:true,imageClass:"icon_SnoozeAlarm_16x16",tooltip:this._nlsResources.SnoozeAlarm||"Snooze Alarm",onClick:function(){var _824=new _801();_824.show();}},{custom:true,imageClass:"icon_DismissAlarm_16x16",tooltip:this._nlsResources.DismissAlarm||"Dismiss Alarm",onClick:function(){var _825=Sage.Services.getService("ActivityService");_825.dismissAlarm();}}]};this.updateToolBar=true;return _823;},getTimelessProperty:function(_826){return"Activity.Timeless";}});return _805;});},"Sage/UI/Alarms/nls/AlarmPane":function(){define("Sage/UI/Alarms/nls/AlarmPane",["Sage/LanguageList","dojo/_base/lang"],function(_827,lang){var nls={root:{dismissAllText:"Dismiss all",dismissText:"Dismiss",fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",showCalendarText:"Show Calendar"}};return lang.mixin(_827,nls);});},"Sage/UI/Filters/LookupFilter":function(){define("Sage/UI/Filters/LookupFilter",["dijit/_Widget","dijit/_Contained","dojo/NodeList-traverse","Sage/_Templated","Sage/_ActionMixin","dojo/string","dojo/_base/lang","dojo/_base/array","dijit/form/Select","dijit/form/TextBox","dojo/on","dojo/i18n!../nls/ConditionManager","dojo/_base/declare"],function(_828,_829,_82a,_82b,_82c,_82d,lang,_82e,_82f,_830,on,_831,_832){var _833=_832("Sage.UI.Filters.LookupFilter",[_828,_829,_82c,_82b],{widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="filter-type-checkbox filter-collapsed">','<h3 data-action="toggleExpand" data-dojo-attach-point="filterNameNode">{%: $.filter.displayName || $.filter.filterName %}',"</h3>",'<ul class="filter-list" data-dojo-attach-point="listNode">','<select class="lookup-filter-operators" data-dojo-attach-point="operators" data-dojo-type="dijit.form.Select"></select><br/>','<input class="filter-lookup-input" data-dojo-attach-point="textInput" data-dojo-type="dijit.form.TextBox" />',"</ul>","</div>"]),_loaded:false,_filterGroup:"default",appliedValues:null,_hasApplied:false,operatorsMapping:{"Equal":_831.equalTo,"NotEqual":_831.notEqualTo,"LessThan":_831.lessThan,"LessThanEqual":_831.equalOrLessThan,"GreaterThan":_831.greaterThan,"GreaterThanEqual":_831.equalOrGreaterThan,"StartsWith":_831.startingWith,"EndsWith":_831.endsWith,"Contains":_831.contains},filter:null,store:null,_autoSearchHandle:null,_autoSearchDelay:1000,_selectedOp:"Contains",postMixInProperties:function(){this.inherited(arguments);if(this.appliedValues){setTimeout(lang.hitch(this,this.toggleExpand),500);}},postCreate:function(){this.inherited(arguments);this.textInput.on("keyDown",lang.hitch(this,this._onInputKeyDown));if(this.appliedValues){this.textInput.set("value",this.appliedValues.value.value);this._selectedOp=this.appliedValues.value.operator;this._hasApplied=true;}this.resolveDeferred();},_setupAutoSearch:function(){if(this._autoSearchHandle>0){window.clearTimeout(this._autoSearchHandle);}this._autoSearchHandle=setTimeout(lang.hitch(this,function(){this.doSearch();}),this._autoSearchDelay);},uninitialize:function(){this.inherited(arguments);},toggleExpand:function(_834,evt,el){var ops=this.filter&&this.filter.details&&this.filter.details.userLookupFilter&&this.filter.details.userLookupFilter.operators;if(this.domNode){dojo.toggleClass(this.domNode,"filter-collapsed");}if(this.operators){if(!this._loaded){this._loaded=true;_82e.forEach(ops,lang.hitch(this,function(op){var _835;_835=false;if(op===this._selectedOp){_835=true;}this.operators.addOption({disabled:false,label:this.operatorsMapping[op],selected:_835,value:op});}));this.operators.set("value",this._selectedOp);}}},_onInputKeyDown:function(_836){if(_836.keyCode===13||_836.keyCode===0){this.doSearch();}else{this._setupAutoSearch();}},doSearch:function(){var _837,name=this.filter.filterName,_838=this;_837={operator:this.operators.get("value"),value:this.textInput.get("value")};this.onSelectionChange(name,_837,_838);},onSelectionChange:function(name,_839,_83a){dojo.publish(_82d.substitute("/ui/filters/${0}/change",[this._filterGroup]),[this.filter,name,_839,_83a]);},resolveDeferred:function(){if(this.deferred){this.deferred=this.deferred.resolve();}}});return _833;});},"Sage/UI/MenuBarItem":function(){require({cache:{"url:Sage/templates/MenuBarItem.html":'<div class="dijitReset dijitInline dijitMenuItem" data-dojo-attach-point="focusNode" waiRole="menuitem" tabIndex="-1"\r\n    data-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\r\n    <span>\r\n    <img src="${_blankGif}" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\r\n    <div class="dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}" data-dojo-attach-point="iconNodeSprite"></div>\r\n    <span class="dijitMenuItemLabel" data-dojo-attach-point="containerNode"></span>\n    </span>\n</div>\n'}});define("Sage/UI/MenuBarItem",["Sage/UI/MenuItem","dojo/text!../templates/MenuBarItem.html","dojo/_base/declare"],function(_83b,_83c,_83d){var _83e=_83d("Sage.UI.MenuBarItem",_83b,{iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"noIcon",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},templateString:_83c});return _83e;});},"Sage/MainView/ReportMgr/Crystal/DateRangeParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/DateRangeParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        <div style="padding-top: 5px;">\r\n            <center>\r\n                <table cellspacing="10">\r\n                    <tr>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtFrom) %}</label>\r\n                        </td>                        \r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtTo) %}</label>\r\n                        </td>                                               \r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtFromRange" displayDate="true" displayTime="false" label="From:" required="true" style="width:250px"></div>\r\n                        </td>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtToRange" displayDate="true" displayTime="false" label="To:" required="true" style="width:250px"></div>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td>\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkIncludeFromRange" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkNoLowerValue" dojoAttachEvent="onChange:_chkNoLowerValue_OnCheck" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoLowerValue) %}</label>\r\n                        </td>                                               \r\n                        <td>\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkIncludeToRange" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkNoUpperValue" dojoAttachEvent="onChange:_chkNoUpperValue_OnCheck" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoUpperValue) %}</label>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div>\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/DateRangeParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/DateRangeParameterEditor","dojo/text!./templates/DateRangeParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/Reporting/Enumerations","Sage/Utility","Sage/UI/Controls/DateTimePicker","dijit/form/CheckBox"],function(_83f,_840,_841,_842,_843,_844,_845,_846,_847,_848,_849){var _84a=_847.makeTemplateFromString(_842);var _84b=_83f("Sage.MainView.ReportMgr.Crystal.DateRangeParameterEditor",[_843],{_nlsResources:_841,widgetTemplate:_84a,value:null,_setValueAttr:function(_84c){this._set("value",_84c);},_getValueAttr:function(){this._promptParameter.currentValues=[];var _84d=this._getParameterValue();this._promptParameter.currentValues.push(_84d);return this._promptParameter;},constructor:function(_84e){},startup:function(){this.inherited(arguments);this.chkIncludeFromRange.set("checked",true);this.chkIncludeToRange.set("checked",true);_844.setDomNodeVisible(this.divValidationMessage,false);if(this._promptParameter.currentValues.length===1){if(this._promptParameter.currentValues[0].rangeValue){var _84f=this._promptParameter.currentValues[0];var _850=_84f.rangeValue.beginValue;_850=_850?_847.Convert.toDateFromString(_850):null;this.dtFromRange.set("value",_850);this.chkIncludeFromRange.set("checked",(_84f.rangeValue.lowerBoundType===_846.SlxRangeBoundType.BoundInclusive));this.chkNoLowerValue.set("checked",(_850===null));_850=_84f.rangeValue.endValue;_850=_850?_847.Convert.toDateFromString(_850):null;this.dtToRange.set("value",_850);this.chkIncludeToRange.set("checked",(_84f.rangeValue.upperBoundType===_846.SlxRangeBoundType.BoundInclusive));this.chkNoUpperValue.set("checked",(_850===null));}}this._initializeMessages();},isValid:function(){var _851=this._requiredFieldsCompleted();if(_851===""){_851=this._valuesWithinMinMaxRange();}this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(_851);_844.setDomNodeVisible(this.divValidationMessage,(_851!==""));return(_851==="");},_initializeMessages:function(){var _852="";if(this._minimum&&!this._maximum){_852=dojo.replace(_841.txtPleaseSpecifyDateLesser,[_845.getDateOnlyFormattedDate(this._minimum)]);}if(!this._minimum&&this._maximum){_852=dojo.replace(_841.txtPleaseSpecifyDateGreater,[_845.getDateOnlyFormattedDate(this._maximum)]);}if(this._minimum&&this._maximum){_852=dojo.replace(_841.txtPleaseSpecifyDateBetween,[_845.getDateOnlyFormattedDate(this._minimum),_845.getDateOnlyFormattedDate(this._maximum)]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_852);_844.setDomNodeVisible(this.divMinMaxMessage,(_852!==""));},_requiredFieldsCompleted:function(){var _853="";if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.dtFromRange.focusNode.value===""&&!this.chkNoLowerValue.checked){_853=_841.txtPleaseSpecifyFromValue;return _853;}if(this.dtToRange.focusNode.value===""&&!this.chkNoUpperValue.checked){_853=_841.txtPleaseSpecifyToValue;return _853;}}else{return"";}return"";},_valuesWithinMinMaxRange:function(){var _854=this.dtFromRange.get("value");var _855=this.dtToRange.get("value");var _856="";if(this._minimum&&!this.chkNoLowerValue.checked&&(_854<this._minimum)){_856=dojo.replace(_841.txtPleaseSpecifyDateGreater,[_845.getDateOnlyFormattedDate(this._minimum)]);return _856;}if(this._minimum&&!this.chkNoUpperValue.checked&&(_855<this._minimum)){_856=dojo.replace(_841.txtPleaseSpecifyDateGreater,[_845.getDateOnlyFormattedDate(this._minimum)]);return _856;}if(this._maximum&&!this.chkNoUpperValue.checked&&(_855>this._maximum)){_856=dojo.replace(_841.txtPleaseSpecifyDateLesser,[_845.getDateOnlyFormattedDate(this._maximum)]);return _856;}if(this._maximum&&!this.chkNoLowerValue.checked&&(_854>this._maximum)){_856=dojo.replace(_841.txtPleaseSpecifyDateLesser,[_845.getDateOnlyFormattedDate(this._maximum)]);return _856;}if(!this.chkNoLowerValue.checked&&!this.chkNoUpperValue.checked){if(_854>_855){_856=_841.txtFromMustBeLessThanOrEqualToTo;return _856;}}return"";},_getParameterValue:function(){var _857=this.chkNoUpperValue.checked?_846.SlxRangeBoundType.NoBound:this.chkIncludeToRange.checked?_846.SlxRangeBoundType.BoundInclusive:_846.SlxRangeBoundType.BoundExclusive;var _858="DateTime";var _859=this.chkNoLowerValue.checked?null:this.dtFromRange.get("value");if(_859){_859=_847.Convert.toIsoStringFromDate(_859);}var _85a=this.chkNoLowerValue.checked?_846.SlxRangeBoundType.NoBound:this.chkIncludeFromRange.checked?_846.SlxRangeBoundType.BoundInclusive:_846.SlxRangeBoundType.BoundExclusive;var _85b="DateTime";var _85c=this.chkNoUpperValue.checked?null:this.dtToRange.get("value");if(_85c){_85c=_847.Convert.toIsoStringFromDate(_85c);}var _85d={className:"CrystalReports.ParameterFieldRangeValue",description:null,rangeValue:{beginValue:_859,beginValueType:_858,endValue:_85c,endValueType:_85b,lowerBoundType:_85a,upperBoundType:_857}};return _85d;},_chkNoLowerValue_OnCheck:function(_85e){this.chkIncludeFromRange.setAttribute("disabled",_85e);this.chkNoUpperValue.setAttribute("disabled",_85e);},_chkNoUpperValue_OnCheck:function(_85f){this.chkIncludeToRange.setAttribute("disabled",_85f);this.chkNoLowerValue.setAttribute("disabled",_85f);}});return _84b;});},"Sage/TaskPane/ActivityManagerTasklet":function(){define("Sage/TaskPane/ActivityManagerTasklet",["dijit/_Widget","dijit/_Container","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/UI/Dialogs","Sage/Services/ActivityService","dojo/_base/declare"],function(_860,_861,_862,_863,_864,_865,_866){var _867=_866("Sage.TaskPane.ActivityManagerTasklet",[_860,_861,_863,_862],{serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:false,widgetTemplate:new Simplate(['<div class="activityTask-panel"  dojoAttachPoint="containerNode">',"</div>"]),_configuration:null,_configurationConnects:null,_configurationProvider:null,_configurationProviderType:null,_appliedSet:null,configurationProvider:null,configurationProviderType:null,autoConfigure:true,taskGroup:"default",paneContents:null,constructor:function(){},postCreate:function(){this.inherited(arguments);if(!this._configurationProvider&&this._configurationProviderType){this.set("configurationProvider",new this._configurationProviderType());}if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._configurationProvider){this._configurationProvider.destroy();}},_handleConfigurationChange:function(){this.requestConfiguration();},_setConfigurationProviderAttr:function(_868){if(this._configurationConnects){dojo.forEach(this._configurationConnects,function(_869){this.disconnect(_869);},this);}if(this._configurationProvider){this._configurationProvider.destroy();}this._configurationProvider=_868;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setConfigurationProviderTypeAttr:function(_86a){this._configurationProviderType=_86a;},_getConfigurationProviderTypeAttr:function(){return this._configurationProviderType;},requestConfiguration:function(){if(this._configurationProvider){this._configurationProvider.requestConfiguration({success:dojo.hitch(this,this._applyConfiguration)});}},_applyConfiguration:function(_86b){this._configuration=_86b;if(!this._configuration){return;}if(this.paneContents){this.paneContents.destroyRecursive();}dojo.place(this._configuration.taskPane.domNode,this.containerNode,"only");this.paneContents=this._configuration.taskPane;}});return _867;});},"Sage/TaskPane/nls/LiteratureManagementTasks":function(){define("Sage/TaskPane/nls/LiteratureManagementTasks",["Sage/LanguageList","dojo/_base/lang"],function(_86c,lang){var nls={root:{errFulFillmentCancelled:"The fulfillment of the literature request was canceled for LitReqId {0}.",errFulFillmentFailed:"The literature request could not be fulfilled for LitReqId {0}.",errMailMergeService:"The literature request(s) could not be fulfilled because the mail merge service could not be loaded. This may happen if Saleslogix Desktop Integration is not installed or is not installed properly.",errFulFillmentRequest:"The literature request(s) could not be fulfilled.",errFulFillmentRequestEx:"The following literature request(s) could not be fulfilled:",fulFillmentSuccess:"The literature request fulfillment was successful."}};return lang.mixin(_86c,nls);});},"Sage/UI/Controls/MultiTab":function(){define("Sage/UI/Controls/MultiTab",["dojo/_base/declare","dojo/dom","dojo/ready","dojo/aspect","dijit/layout/TabContainer","dijit/registry"],function(_86d,dom,_86e,_86f,_870,_871){var _872=_86d("Sage.UI.Controls.MultiTab",[_870],{region:"center",tabStrip:false,hiddenFieldId:"",destroyRecursive:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);},postCreate:function(){var _873=this.domNode.parentNode.id,_874=_871.byId(_873),that=this;_874.resize();setTimeout(function(){_874.resize();if(that.selectedChildWidget){that._showChild(that.selectedChildWidget);}},50);},startup:function(){this.hiddenFieldId=this.id+"_tabstate";var _875=dom.byId(this.hiddenFieldId);if(_875.value!==""){_871.byId(this.id).selectChild(_871.byId(_875.value));}this.inherited(arguments);}});return _872;});},"Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab",["dojo","dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Utility","Sage/Utility/Activity","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","Sage/UI/Columns/CheckBox","dijit/layout/ContentPane","dojo/_base/array","dojo/_base/lang","dojo/i18n!./nls/HistoryEditorAttendeesTab"],function(dojo,_876,_877,_878,_879,_87a,_87b,_87c,_87d,_87e,_87f,_880,lang,_881){var _882=_878("Sage.MainView.ActivityMgr.HistoryEditorAttendeesTab",[_876,_877],{histEditor:null,lup_Contact:null,lup_ContactConfig:null,lup_Lead:null,lup_LeadConfig:null,widgetsInTemplate:true,_timeZones:[],constructor:function(){lang.mixin(this,_881);var self=this;if(this._timeZones.length==0){Sage.Utility.getTimeZones(function(_883){self._timeZones=_883;});}},widgetTemplate:new Simplate(["<div>",'<div id="{%= $.id %}_hisAttendeesGridPlaceholder" dojoAttachPoint="_histAttendeesGridPlaceholder" style="width:100%;height:100%"></div>',"</div>"]),_newItems:[],startup:function(){this._newItems=[];if(!this.histEditor){return;}this._buildGrid();dojo.connect(this.histEditor,"onHide",this,this._dialogHide);dojo.subscribe("/entity/history/create",this,this._historySaved);dojo.subscribe("/entity/history/change",this,this._historySaved);},_getTimeZoneDisplayName:function(_884){var _885=_884;if(this._timeZones&&this._timeZones.length>0){var obj=this._timeZones.filter(function(val){return val.Keyname===_884;});if(obj&&obj[0]){_885=obj[0].Displayname;}}return _885;},_buildGrid:function(){var self=this;_878("Sage.Extensions.Activity.primaryContactCheckBox",dojox.grid.cells.Bool,{format:function(_886,_887){var _888=Sage.Utility.getValue(_887,"IsPrimary");var _889='<input type="checkbox" disabled="disabled" />';if(_888){_889='<input type="checkbox" checked="checked" disabled="disabled" />';}return _889;}});_878("Sage.Extensions.Activity.isAttendeeCheckBox",dojox.grid.cells.Bool,{format:function(_88a,_88b){var _88c=Sage.Utility.getValue(_88b,"IsAttendee");var _88d='<input type="checkbox" disabled="disabled" />';if(_88c){_88d='<input type="checkbox" checked="checked" disabled="disabled" />';}return _88d;}});_878("Sage.Extensions.Activity.AttendeeStatus",dojox.grid.cells.Select,{format:function(_88e,_88f){var _890=Sage.Utility.getValue(_88f,"IsAttendee");if(_890){return this.inherited(arguments);}else{return"";}}});var _891=function(data,_892){_880.forEach(data,function(item,i){if(item["TimeZone"]){item["TimeZone"]=self._getTimeZoneDisplayName(item["TimeZone"]);}});};var _893=[{field:"Name",name:this.header_Name,width:"180px"},{field:"AccountName",name:this.header_AccountName,width:"180px"},{field:"EntityType",name:this.header_Type,width:"60px"},{field:"IsPrimary",name:this.header_Primary,width:"40px",type:Sage.Extensions.Activity.primaryContactCheckBox},{field:"IsAttendee",name:this.header_Attendee,width:"40px",type:Sage.Extensions.Activity.isAttendeeCheckBox},{field:"Status",name:this.header_Status,width:"100px",type:Sage.Extensions.Activity.AttendeeStatus,options:["Attended","Not Attended","Declined"],values:["T","F","D"],editable:true},{field:"RoleName",name:this.header_RoleName},{field:"PhoneNumber",name:this.header_Phone,width:"80px"},{field:"Email",name:this.header_Email,width:"150px"},{field:"TimeZone",name:this.header_TimeZone,width:"150px"}];var _894={columns:_893,storeOptions:{service:_879.getSDataService("dynamic"),resourceKind:"historyAttendees",select:["EntityType","EntityId","IsPrimary","IsAttendee","Name","Description","Notes","Status"],sort:[{attribute:"Name"}],newItemParentReferenceProperty:"History",onComplete:_891},slxContext:{"workspace":"",tabId:""},contextualCondition:function(){return"HistoryId eq '"+_87a.getCurrentEntityId()+"' and ((SLXUserAssociationId in ('',null) and EntityType eq 'User') or (EntityType in ('Contact','Lead')))";},id:this.id+"_histAttendees",rowsPerPage:40};var _895=_87a.getCurrentEntityId();if(!_895){_894.storeOptions["isInsertMode"]=true;}var grid=new _87c.Grid(_894,this._histAttendeesGridPlaceholder);grid.setSortColumn("Name");this._grid=grid._grid;dojo.connect(this._grid,"markDirty",function(){var _896=dojo.byId(this.dirtyDataMsgID);if(_896){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}var _897=Sage.Services.getService("ClientBindingManagerService");if(_897){_897.clearDirtyAjaxItem(this.id);}});grid.startup();},_dialogHide:function(){this._newItems=[];this._grid.store.clearCache();},_tabfShow:function(){if(this._grid&&!this.gridRefreshed){this._grid.refresh();this.gridRefreshed=true;}},_tabShowdd:function(){if(this._grid&&!this.gridRefreshed){var _898=this._grid.get("mode");var _899=_87a.getCurrentEntityId();if((!_899&&_898!=="insert")||(_899&&_898==="insert")){this._grid.set("mode",(!_899)?"insert":"");}this._grid.refresh();this.gridRefreshed=true;}},_tabShow:function(){if(this._grid){var _89a=this._grid.get("mode");var _89b=_87a.getCurrentEntityId();if((!_89b&&_89a!=="insert")||(_89b&&_89a==="insert")){this._grid.set("mode",(!_89b)?"insert":"");}this._grid.refresh();}},_historySaved:function(_89c){this._grid.saveChanges();},_addHistoryAttendee:function(_89d){if(!_89d.ContactId&&!_89d.LeadId){return;}var _89e=null;if(_89d.ContactId){_87b._getContactData(_89d.ContactId,function(data){if(data){_89e=this._setHistoryAttendeeEntityFromContactLead("Contact",data);_89e.History={"$key":_89d.$key};this._saveHistoryAttendee(_89e);}},this);}else{if(_89d.LeadId){_87b._getLeadData(_89d.LeadId,function(data){if(data){_89e=this._setHistoryAttendeeEntityFromContactLead("Lead",data);_89e.History={"$key":_89d.$key};this._saveHistoryAttendee(_89e);}},this);}}},_saveHistoryAttendee:function(_89f){var req=new Sage.SData.Client.SDataSingleResourceRequest(_879.getSDataService("dynamic")).setResourceKind("historyAttendees").create(_89f,{success:function(){},failure:function(){},scope:this});},_setHistoryAttendeeEntityFromContactLead:function(type,_8a0){var _8a1=false;if(_8a0&&_8a0.$key){_8a1={};_8a1.EntityType=type;_8a1.EntityId=_8a0.$key;_8a1.$key=_8a0.$key;_8a1.IsPrimary=true;_8a1.Name=_8a0.$descriptor;_8a1.$descriptor=_8a0.$descriptor;_8a1.Account=null;_8a1.AccountName=_8a0.AccountName||_8a0.Company;if(type=="Lead"){_8a1.Company=_8a0.Company;_8a1.LeadFullName=_8a0.$descriptor;}_8a1.Company=_8a0.Company;_8a1.Email=_8a0.Email;_8a1.Description="";_8a1.Notes="";if(_8a0.Address){_8a1.TimeZone=_8a0.Address.TimeZone;}_8a1.PhoneNumber=_8a0.WorkPhone;_8a1.RoleName="";_8a1.general=false;}return _8a1;}});return _882;});},"Sage/QuickForms/Design/Editors/DateTimePickerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DateTimePickerBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DateTimePickerBasicPropertyEditor"],function(_8a2,lang,_8a3,_8a4,_8a5,_8a6,_8a7,_8a8,_8a9,_8aa,_8ab,_8ac){return _8a2("Sage.QuickForms.Design.Editors.DateTimePickerBasicPropertyEditor",[_8a3,_8aa,_8a9],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.displayDateTooltipText %}">',"<label>{%= $.displayDateText %}</label>",'<div data-dojo-attach-point="_displayDate" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onDisplayDateChange"></div>',"</div>",'<div class="editor-field" title="{%= $.displayTimeTooltipText %}">',"<label>{%= $.displayTimeText %}</label>",'<div data-dojo-attach-point="_displayTime" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onDisplayTimeChange"></div>',"</div>",'<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_displayDate:null,_displayTime:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",displayDateText:"Display Date:",displayDateTooltipText:"Display the date portion.",displayTimeText:"Display Time:",displayTimeTooltipText:"Display the time portion.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_8ac);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._displayDate.set("value",this._designer.get("displayDate"));this._displayTime.set("value",this._designer.get("displayTime"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(_8ad){if(this.isSuspended()){return;}this._designer.set("caption",_8ad);},_onCaptionAlignmentChange:function(_8ae){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_8ae);},_onDisplayDateChange:function(_8af){if(this.isSuspended()){return;}this._designer.set("displayDate",_8af);},_onDisplayTimeChange:function(_8b0){if(this.isSuspended()){return;}this._designer.set("displayTime",_8b0);},_onIsReadOnlyChange:function(_8b1){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_8b1);},_onToolTipChange:function(_8b2){if(this.isSuspended()){return;}this._designer.set("toolTip",_8b2);}});});},"Sage/TaskPane/LiteratureManagementTasks":function(){define("Sage/TaskPane/LiteratureManagementTasks",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/Dialogs","dojo/i18n!./nls/LiteratureManagementTasks","dojo/_base/declare"],function(_8b3,_8b4,_8b5,_8b6){var _8b7=_8b6("Sage.TaskPane.LiteratureManagementTasks",_8b3,{nlsLitManagementResources:_8b5,selectionInfo:false,fulfillLiteratureTask:function(){this.selectionInfo=this.getSelectionInfo();if(this.verifySelection(this.selectionInfo)){this.saveSelections(this.actionItem,this.selectionInfo);return this.doFulfillment();}else{_8b4.showWarning(this.selectRecords,this.selectRecordsTitle);return false;}},validateLiteratureTask:function(){this.selectionInfo=this.getSelectionInfo();if(this.selectionInfo!==null){this.saveSelections(this.actionItem,this.selectionInfo);return true;}else{return false;}},doFulfillment:function(){var _8b8=0;var _8b9=this.selectionInfo.selectionCount;var _8ba=[];var _8bb=[];var sId=dojo.string.substitute("${0}_hfLastFulfilledIds",[this.clientId]);var _8bc=$get(sId);if(_8bc){_8bc.value="";}var self=this;require(["Sage/MailMerge/Helper","Sage/MailMerge/Service"],function(_8bd,_8be){var _8bf=_8bd.GetMailMergeService();var i;if(_8bf){for(i=0;i<_8b9;i++){var _8c0;var _8c1=self.selectionInfo.selections[i].id;var _8c2=_8bf.FulfillLitRequest(_8c1);if(dojo.isArray(_8c2)){var _8c3=_8c2[LitReqResult.lrSuccess];if(_8c3){_8b8++;_8bb.push(_8c1);continue;}var _8c4=_8c2[LitReqResult.lrCanceled];if(_8c4){_8c0=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentCancelled,[_8c1]);}else{_8c0=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_8c1]);_8c0+=dojo.string.substitute(" ${0}",[_8c2[LitReqResult.lrError]]);}}else{_8c0=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_8c1]);}if(_8c0===""){_8c0=dojo.string.substitute(self.nlsLitManagementResources.errFulFillmentFailed,[_8c1]);}_8ba.push(_8c0);}}else{_8b4.showError(self.nlsLitManagementResources.errMailMergeService);return false;}if(_8bc){_8bc.value=_8bb.join();}if(_8b8==_8b9){_8b4.showInfo(self.nlsLitManagementResources.fulFillmentSuccess);return true;}else{var _8c5=self.nlsLitManagementResources.errFulFillmentRequest;if(dojo.isArray(_8ba)&&_8ba.length>0){_8c5=self.nlsLitManagementResources.errFulFillmentRequestEx;for(i=0;i<_8ba.length;i++){_8c5+=dojo.string.substitute(" [${0}] ${1}",i+1,[_8ba[i]]);}}_8b4.showError(_8c5);return false;}});},refreshList:function(){var _8c6=dijit.byId("list");if(_8c6){_8c6.refreshGrid();}},printLabels:function(_8c7,_8c8){var _8c9=Sage.Services.getService("ReportingService");if(_8c9){_8c9.showReport(_8c7,"CONTACT",_8c8);}},actionItem:function(){}});return _8b7;});},"Sage/UI/Dashboard/nls/DashboardWidget":function(){define("Sage/UI/Dashboard/nls/DashboardWidget",["Sage/LanguageList","dojo/_base/lang"],function(_8ca,lang){var nls={root:{noQueryDataText:"The server has no data for query ",initializingText:"Initializing"}};return lang.mixin(_8ca,nls);});},"Sage/QuickForms/Design/Editors/_PropertyEditor":function(){define("Sage/QuickForms/Design/Editors/_PropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-class","../PropertyValueError","dojo/i18n!./nls/_PropertyEditor"],function(_8cb,lang,_8cc,_8cd,_8ce,_8cf){return _8cb("Sage.QuickForms.Design.Editors._PropertyEditor",null,{_designer:null,_suspended:false,titleText:"Properties",_setTitleTextAttr:function(_8d0){this.set("title",_8d0);},designer:null,constructor:function(){lang.mixin(this,_8cf);},buildRendering:function(){this.inherited(arguments);_8cd.add(this.domNode,"design-property-editor");},suspend:function(){this._suspended=true;},resume:function(){this._suspended=false;},isSuspended:function(){return this._suspended;},setup:function(_8d1){},_setDesignerAttr:function(_8d2){this.suspend();this._designer=_8d2;this.setup(_8d2);setTimeout(lang.hitch(this,this.resume),0);},_getDesignerAttr:function(){return this._designer;}});});},"Sage/QuickForms/Design/Editors/nls/NumericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NumericAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_8d3,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",formatTypeText:"Format Type:",formatTypeTooltipText:"Type of format to use when converting number to string.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",strictText:"Strict:",strictTooltipText:"Pads display of number with trailing zeros as necessary.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",numberFormatText:{Number:"Number",Percent:"Percent",Decimal:"Decimal",Scientific:"Scientific"},labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_8d3,nls);});},"Sage/Services/ActivityActionProcessor":function(){define("Sage/Services/ActivityActionProcessor",["dojo/i18n","Sage/UI/Dialogs","dijit/_Widget","Sage/_Templated","dojo/i18n!./nls/ActivityActionProcessor","dojo/_base/declare"],function(i18n,_8d4,_8d5,_8d6,_8d7,_8d8){var _8d9=_8d8("Sage.Services.ActivityActionProcessor",[_8d5,_8d6],{_dialog:false,_currentUserId:null,_action:false,_processing:false,_selectionContext:false,btnOkayText:"OK",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",processingText:"Processing request please wait...",failureText:"I'm sorry, the action was not successful an error occurred.",titleText:"Process",widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>",'<div data-dojo-type="dijit.Dialog" id="activityProcessActionDialog" title="{%= $.titleText%}" dojoAttachPoint="_dialog" style="width:400px">','<div class="activityProcess-dialog">','<div data-dojo-type="dijit.layout.ContentPane" id="{%= $.id%}_cp_envet_General" title="" dojoAttachPoint="cp_General">','<div data-dojo-type="dojox.layout.TableContainer" orientation="horiz" cols="1" class="controlPropForm" labelWidth="140">','<div id="{%= $.id%}_div_actionMessage"  name="div_actionMessage" dojoAttachPoint="div_actionMessage"></div>',"</div>","</div>",'<table class="button-bar"><tr><td class="alignright valignbottom">','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.btnOkayText %}</div>','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $. btnCancelText %}</div>','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_Close" name="btn_Close" dojoAttachPoint="btn_Close" dojoAttachEvent="onClick:_closeClick">{%= $. btnCloseText %}</div>',"</td><tr></table>","</div>","</div>","</div>"]),constructor:function(){this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";dojo.mixin(this,_8d7);},destroy:function(){this.inherited(arguments);},start:function(_8da){this._processing=false;if(this._selectionContext.count<1){return;}if(!_8da){this._setDisplay();this.show();}else{this._execute();}},show:function(){this._dialog.show();},hide:function(){this._action=null;this._dialog.hide();},resize:function(){},_setDisplay:function(){dojo.style(this.btn_Close.domNode,"visibility","hidden");dojo.style(this.btn_OK.domNode,"visibility","visible");dojo.style(this.btn_Cancel.domNode,"visibility","visible");if(this._selectionContext){this.div_actionMessage.innerHTML=this._action.message;this._dialog.set("title",this._action.description);}},_setActionAttr:function(_8db){this._action=_8db;},_getActionAttr:function(){return this._action;},_setSelectionContextAttr:function(_8dc){this._selectionContext=_8dc;},_getSelectionContextAttr:function(){return this._selectionContextInfo;},_execute:function(){if(this._processing){return;}var me=this;this.div_actionMessage.innerHTML=this.processingText;this._processing=true;dojo.style(this.btn_Close.domNode,"visibility","visible");dojo.style(this.btn_OK.domNode,"visibility","hidden");dojo.style(this.btn_Cancel.domNode,"visibility","hidden");if(this._action){this._action.execute({scope:this,success:function(_8dd,_8de){_8de.hide();_8de.onActionComplete(_8dd);},failure:function(_8df,_8e0){_8e0.onActionComplete(_8df);Sage.UI.Dialogs.showError(me.failureText);}});}},_okClick:function(){this._execute();},_cancelClick:function(){this.hide();},_closeClick:function(){this.hide();},onActionComplete:function(_8e1){}});return _8d9;});},"Sage/MainView/IntegrationContract/nls/CustomerPaymentsRTDV":function(){define("Sage/MainView/IntegrationContract/nls/CustomerPaymentsRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_8e2,lang){var nls={root:{dialogCaption:"Payment Details",loadingText:"loading...",lblReferenceCaption:"Receipt Number:",lblDateCaption:"Payment Date:",lblProcessDateCaption:"Process Date:",lblNameCaption:"Name:",lblTypeCaption:"Type:",lblStatusCaption:"Status:",lblCurrencyCaption:"Currency:",lblTenderTypeCaption:"Tender Type:",lblTenderReferenceCaption:"Tender Reference:",lblNetTotalCaption:"Net Total:",lblDiscountsCaption:"Discounts:",lblChargesCaption:"Charges:",lblTaxesCaption:"Taxes:",lblGrossTotalCaption:"Payment Amount:",lblSourceCaption:"Source:",lblTaxCodeCaption:"Tax Code:",grdPayments_Reference:"Receipt Number",grdPayments_Date:"Payment Date",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_GrossTotal:"Payment Amount",grdPayments_Currency:"Currency",btnCloseCaption:"Close"}};return lang.mixin(_8e2,nls);});},"Sage/UI/Filters/nls/FilterPanel":function(){define("Sage/UI/Filters/nls/FilterPanel",["Sage/LanguageList","dojo/_base/lang"],function(_8e3,lang){var nls={root:{editText:"Edit Filters",noneText:"No filters selected",clearText:"Clear All"}};return lang.mixin(_8e3,nls);});},"Sage/Data/SDataSummaryViewDataManager":function(){define("Sage/Data/SDataSummaryViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_8e4,_8e5,_8e6,lang){var _8e7=_8e6("Sage.Data.SDataSummaryRequestQueue",null,{select:[],resourceKind:"",fetching:false,serviceName:"dynamic",include:[],service:null,useBatchRequest:false,expandRecurrences:null,constructor:function(_8e8){lang.mixin(this,_8e8);this.requestHash={};this.fetching=false;},add:function(_8e9,_8ea){var _8eb=this.requestHash[_8e9];if((_8eb)&&(_8eb.id!==_8ea.id)){if(!_8eb.duplicates){_8eb.duplicates=[];}var _8ec=false;for(var i=0;i<_8eb.duplicates.length;i++){if(_8eb.duplicates[i].context.id===_8ea.id){_8ec=true;}}if(!_8ec){_8eb.duplicates.push({id:_8ea.id,context:_8ea});}}else{this.requestHash[_8e9]=_8ea;}},send:function(_8ed,_8ee){this.fetching=true;this.service=_8e4.getSDataService(this.serviceName);var _8ef=this;if(this.useBatchRequest){var _8f0=new Sage.SData.Client.SDataBatchRequest(this.service);_8f0.setResourceKind(this.resourceKind);_8f0.setQueryArg("select",this.select.join(","));_8f0.setQueryArg("include",this.include.join(","));_8f0.using(function(){for(var bid in _8ef.requestHash){var _8f1=new Sage.SData.Client.SDataSingleResourceRequest(_8ef.service);_8f1.setResourceKind(_8ef.resourceKind);_8f1.setResourceSelector("'"+bid+"'");if(_8ef.expandRecurrences!==null){_8f1.uri.queryArgs["_expandRecurrences"]=_8ef.expandRecurrences;}_8f1.setQueryArg("include",_8ef.include.join(","));_8f1.read();}});_8f0.commit({success:lang.hitch(_8ee,_8ed,_8ef),failure:lang.hitch(this,this.requestFailed,_8ef)});}else{var _8f2=[];for(var id in this.requestHash){_8f2.push("'"+id+"'");}var _8f3=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);var _8f4="Id in ("+_8f2.join(",")+")";_8f3.setResourceKind(this.resourceKind);_8f3.setQueryArg("select",this.select.join(","));_8f3.setQueryArg("where",_8f4);_8f3.setQueryArg("include",this.include.join(","));_8f3.read({success:lang.hitch(_8ee,_8ed,_8ef),failure:lang.hitch(this,this.requestFailed,_8ef)});}},requestFailed:function(a,b,c){}});var _8f5=_8e6("Sage.Data.SDataSummaryViewDataManager",null,{keyField:"$key",constructor:function(){this._createNewQueue();},_createNewQueue:function(){this.queue=new _8e7();this.requestTimeout=false;},requestData:function(_8f6,_8f7,_8f8){if(this.queue.fetching){this.oldQueue=this.queue;this._createNewQueue();}if(_8f8.keyField){this.keyField=_8f8.keyField;}this.queue.select=_8f8.select;this.queue.resourceKind=_8f8.resourceKind;this.queue.serviceName=_8f8.serviceName;this.queue.include=_8f8.include;this.queue.useBatchRequest=_8f8.useBatchRequest;if(_8f8.expandRecurrences!==null){this.queue.expandRecurrences=_8f8.expandRecurrences;}this.queue.add(_8f6,_8f7);if(this.requestTimeout){window.clearTimeout(this.requestTimeout);}var q=this.queue;var self=this;this.requestTimeout=window.setTimeout(function(){q.send(self.receiveData,self);},250);},requestDataNoWait:function(_8f9,_8fa,_8fb){var _8fc=new _8e7();if(_8fb.keyField){this.keyField=_8fb.keyField;}_8fc.select=_8fb.select;_8fc.resourceKind=_8fb.resourceKind;_8fc.serviceName=_8fb.serviceName;_8fc.include=_8fb.include;_8fc.useBatchRequest=_8fb.useBatchRequest;if(_8fb.expandRecurrences!==null){_8fc.expandRecurrences=_8fb.expandRecurrences;}_8fc.add(_8f9,_8fa);_8fc.send(this.receiveData,this);},receiveData:function(_8fd,data){var i;for(i=0;i<data.$resources.length;i++){var _8fe=data.$resources[i];var id=_8fe.id;if(!id){id=_8fe[this.keyField];_8fe.id=id;}var _8ff=_8fd.requestHash[_8fe.id];if(_8ff){if(_8ff.duplicates){try{if(!_8ff.applied){_8ff.applied=true;_8ff.set("entity",_8fe);var j;for(j=0;j<_8ff.duplicates.length;j++){try{if(!_8ff.duplicates[j].context.applied){_8ff.duplicates[j].context.applied=true;_8ff.duplicates[j].context.set("entity",_8fe);}}catch(err){console.error(err);}}}}catch(err){console.error(err);}}else{try{if(!_8ff.applied){_8ff.applied=true;_8ff.set("entity",_8fe);}}catch(err){console.error(err);}}}}}});return _8f5;});},"Sage/TaskPane/nls/_BaseTaskPaneTasklet":function(){define("Sage/TaskPane/nls/_BaseTaskPaneTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_900,lang){var nls={root:{selectRecordsTitle:"Invalid Selection",selectRecords:"Please select a record before continuing.",selectSingleRecord:"Please select a single record before continuing.",noRecordsSelectedProcessAll:"No records selected. The full group, ${0} record(s), will be processed.  Proceed?",invalidSelectionTitle:"Invalid Selection",errorSelectionInfo:"There was an error retrieving information about the selected records.",errorNoData:"No data available.",yesButtonText:"Yes",noButtonText:"No",salesLogixPageTitle:"Saleslogix",okButtonText:"OK",cancelButtonText:"Cancel"}};return lang.mixin(_900,nls);});},"Sage/MainView/ReportMgr/nls/ReportManagerFormatter":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerFormatter",["Sage/LanguageList","dojo/_base/lang"],function(_901,lang){var nls={root:{txtTrue:"True",txtFalse:"False"}};return lang.mixin(_901,nls);});},"Sage/UI/nls/OwnerType":function(){define("Sage/UI/nls/OwnerType",["Sage/LanguageList","dojo/_base/lang"],function(_902,lang){var nls={root:{teamText:"Team",departmentText:"Department",systemText:"System",userText:"User"}};return lang.mixin(_902,nls);});},"Sage/QuickForms/Design/PropertyEditorContainer":function(){define("Sage/QuickForms/Design/PropertyEditorContainer",["dojo/string","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dijit/layout/TabContainer","dijit/layout/BorderContainer","Sage/_EventMapMixin","Sage/_Templated","Sage/Utility","./ControlDesigner","./Help","dojo/i18n!./nls/PropertyEditorContainer"],function(_903,_904,_905,lang,_906,_907,_908,_909,_90a,_90b,_90c,_90d,Help,_90e){return _904("Sage.QuickForms.Design.PropertyEditorContainer",[_909,_90b],{widgetsInTemplate:true,contentTemplate:new Simplate(['<div class="design-editor-container-toolbar" data-dojo-type="dijit.Toolbar" data-dojo-props="region: \'top\', align: \'right\', splitter: false">','<span class="design-editor-title" data-dojo-attach-point="titleNode"></span>','<div data-dojo-type="Sage.UI.ImageButton" icon="images/icons/Help_16x16.png" tooltip="{%: $.helpText %}" data-dojo-attach-event="onClick:help" class="design-panel-help"></div>',"</div>",'<div data-dojo-type="dijit.layout.TabContainer" data-dojo-attach-point="editorTabContainer" data-dojo-props="region: \'center\'"></div>']),_setTitleAttr:{node:"titleNode",type:"innerText"},_designGroup:null,_designGroupTopics:null,_designer:null,_designerSource:null,editorTabContainer:null,titleNode:null,helpTopicName:"webFormDesigner",helpSubSystemName:"WebForms",designGroup:"default",specificTitleFormatText:"${0} Properties (${1})",genericTitleFormatText:"${0} Properties",constructor:function(){lang.mixin(this,_90e);},_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(_90f){if(this._designGroupTopics){_905.forEach(this._designGroupTopics,function(_910){this.unsubscribe(_910);},this);}this._designGroup=_90f;this._designGroupTopics=[this.subscribe(_903.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected),this.subscribe(_903.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),this._onDesignerMoved)];},help:function(){if(this._designer){Help.open(this._designer.helpTopicName,this.helpSubSystemName);}else{Help.open(this.helpTopicName,this.helpSubSystemName);}},buildRendering:function(){this.inherited(arguments);_906.add(this.domNode,"design-editor-container");},uninitialize:function(){this.inherited(arguments);},clear:function(){_905.forEach(this.editorTabContainer.getChildren(),function(_911){this.editorTabContainer.removeChild(_911);_911.destroyRecursive(false);},this);this._designer=null;this.set("title","");this.layout();},_setDesignerAttr:function(_912,_913){if(_912===this._designer){return;}var _914=this.editorTabContainer.selectedChildWidget&&this.editorTabContainer.selectedChildWidget.constructor,_915;this.clear();_905.forEach(_912.editors,function(_916){var _917=new _916({});this.editorTabContainer.addChild(_917);if(_916===_914){_915=_917;}},this);if(_912.get("controlId")){this.set("title",_903.substitute(this.specificTitleFormatText,[_912.displayNameText,_912.get("controlId")]));}else{this.set("title",_903.substitute(this.genericTitleFormatText,[_912.displayNameText]));}this._designer=_912;this._designerSource=_913;if(_915){this.editorTabContainer.selectChild(_915);}this.layout();_905.forEach(this.editorTabContainer.getChildren(),function(_918){_918.set("designer",this._designer);},this);},_getDesignerAttr:function(){return this._designer;},_onDesignerSelected:function(_919,_91a,_91b){if(_919&&_919.editors){this.set("designer",_919,_91b);}else{this.clear();}},_onDesignerMoved:function(_91c,_91d){if(_91c!==this._designer){return;}_905.forEach(this.editorTabContainer.getChildren(),function(_91e){_91e.set("designer",this._designer);},this);}});});},"Sage/UI/Columns/ActivityType":function(){define("Sage/UI/Columns/ActivityType",["dojox/grid/cells/_base","Sage/Utility","Sage/Utility/Activity","dojo/string","dojo/_base/declare"],function(_91f,util,_920,_921,_922){var _923=_922("Sage.UI.Columns.ActivityType",_91f,{keyField:false,format:function(_924,_925){var type=this.get(_924,_925);if(!type){return this.defaultValue;}var key=util.getValue(_925,this.keyField||"$key");var fmt='<div class="Global_Images icon16x16 ${0}"></div>&nbsp;<a href="javascript:Sage.Link.editActivity(\'${1}\')">${2}</a>';return _921.substitute(fmt,[_920.getActivityImageClass(type,"small"),key,_920.getActivityTypeName(type)]);}});return _923;});},"Sage/MainView/ActivityMgr/AttendeeLookup/LookupService":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/LookupService",["Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig","Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig","dojo/_base/declare"],function(_926,_927,_928){var _929=_928("Sage.MainView.ActivityMgr.AttendeeLookup.LookupService",null,{_lookupConfigs:null,constructor:function(){},_initLookupConfigs:function(){this._lookupConfigs=[{lookupName:"Contact",lookupDisplayName:"Contact",configProviderType:_926,instance:false},{lookupName:"Lead",lookupDisplayName:"Lead Loookup",configProviderType:_927,instance:false}];},getLookupConfigs:function(){if(this._lookupConfigs){return this._lookupConfigs;}this._initLookupConfigs();return this._lookupConfigs;},getLookupConfig:function(_92a){var _92b=this.getLookupConfigs();for(var i=0;i<_92b.length;i++){if(_92b[i].lookupName.toUpperCase()===_92a.toUpperCase()){return _92b[i];}}return null;},AddLookupConfig:function(_92c){var _92d=this.getLookupConfig(_92c.lookupName);if(_92d){_92d.configuration=_92c;}else{var _92e={lookupName:_92c.lookupName,lookupDisplayName:_92c.lookupDisplayName,configProviderType:_92c,instance:false};var _92f=this.getLookupConfigs();_92f.push(_92e);}},RemoveLookupConfig:function(_930){},getLookupConfigInstance:function(_931){var _932=this.getLookupConfig(_931);if(_932){if(!_932.instance){_932.instance=new _932.configProviderType();return _932.instance;}else{_932.instance.rebuild();return _932.instance;}}},getLookupInstance:function(_933,uiid){var _934=this.getLookupConfigInstance(_933);var _935=null;if(_934){_935=_934.getLookupInstance(uiid);}return _935;}});if(!Sage.Services.hasService("LookupService")){Sage.Services.addService("LookupService",new _929());}else{var srvc=Sage.Services.getService("LookupService");if(actSvc.declaredClass!=="Sage.MainView.ActivityMgr.AttendeeLookup.LookupService"){Sage.Services.removeService("LookupService");Sage.Services.addService("LookupService",new _929()());}}return _929();});},"Sage/TaskPane/nls/LeadTasksTasklet":function(){define("Sage/TaskPane/nls/LeadTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_936,lang){var nls={root:{updateLeadsTitle:"Update Leads",deleteLeadsTitle:"Delete Leads",deleteJobError:"Sorry an error occurred during the delete lead job: ${0}",confirmDeleteLeads:"Are you sure you want to delete the selected records?"}};return lang.mixin(_936,nls);});},"url:Sage/templates/ToggleButton.html":'<span class="dijit dijitReset dijitInline" role="presentation"\r\t><span class="dijitReset dijitInline dijitButtonNode"\r\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\r\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\t\t\trole="button" aria-labelledby="${id}_label"\r\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\r\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\t\t\t\tid="${id}_label"\r\t\t\t\tdata-dojo-attach-point="containerNode"\r\t\t\t></span\r\t\t></span\r\t></span\r\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\r/></span>\r',"Sage/UI/Dashboard/DashboardWidgetCell":function(){define("Sage/UI/Dashboard/DashboardWidgetCell",["dojo/i18n","dojo/i18n!./nls/DashboardWidgetCell","Sage/UI/WidgetEditor","Sage/UI/Dashboard/DashboardWidget","dojox/data/dom","dojox/widget/Portlet","dojo/_base/declare"],function(i18n,_937,_938,_939,dom,_93a,_93b){var _93c=_93b("Sage.UI.Dashboard.DashboardWidgetCell",[_93a],{onClose:function(evt){var pg=dijit.byId(this._parentId);pg._childWidgets.removeByAttr("id",this.id);dojo.publish("/ui/dashboard/pageSave",[pg._page]);this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.redrawOnShow){this.redrawOnShow=false;this.refresh(true);}},onHide:function(){this.redrawOnShow=true;this.inherited(arguments);},onDownloadEnd:function(data){if(data){var doc=data.documentElement;for(var i=0,len=doc.childNodes.length;i<len;i++){if(doc.childNodes[i].tagName==="Content"){var _93d=dom.textContent(doc.childNodes[i]);Sage.UI.WidgetDefinitions[this.widgetOptions.name]=dojo.fromJson(_93d);this.widgetDefined=true;dojo.publish("/ui/widget/defined");this._widgetInit();}}}else{}},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardWidgetCell"));if(this._page>=0){this.preload=true;}this.href="slxdata.ashx/slx/crm/-/dashboard/widget";this.ioArgs={handleAs:"xml",content:{name:this.widgetOptions.name,family:this.widgetOptions.family||"system"}};this._drawLegend();this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.subscribe("/ui/widget/dropped",function(id,p,c,i){if(id===this.id){return;}if(p!==this._page){return;}if(c!==this.column){return;}if(i>this.index){return;}this._indexUp();});this.connect(this.containerNode,"onmousedown",function(evt){if(dojo.hasClass(evt.target,"dojoxGridScrollbox")){dojo.stopEvent(evt);return false;}return true;});this.arrowNode.title=this.minimizeTooltipText;},refresh:function(_93e){if(_93e){var _93f=this._dashboardWidget;if(_93f){dojo.disconnect(_93f._winResize);dojo.unsubscribe(_93f.dropSub);}this.destroyDescendants();this._removeIcons();}this.inherited(arguments);this._drawLegend();},_drawLegend:function(){if(this.widgetOptions.showLegend==="true"){this.chartWidth="67";this.legendDisplay="block";}else{this.chartWidth="100";this.legendDisplay="none";}},_redrawCharts:function(){if(this._dashboardWidget&&this._dashboardWidget.definition&&this._dashboardWidget.definition.declaredClass==="Sage.UI.Dashboard.ChartingWidget"){this.refresh(true);}},_createIcon:function(_940,_941,fn){var _942="";if(_940==="dojoxPortletSettingsIcon"){_942=this.settingsTooltipText;}else{if(_940==="dojoxCloseNode"){_942=this.closeTooltipText;}}if(!this._tbarIcons){this._tbarIcons=[];}var icon=dojo.create("div",{"class":"dojoxPortletIcon "+_940,"waiRole":"presentation","title":_942});if(this.isNew){if(_940==="dojoxPortletSettingsIcon"||this._tbarIcons.length<1){dojo.place(icon,this.arrowNode,"before");}else{dojo.place(icon,this._tbarIcons[0],"before");}}else{if(this._tbarIcons.length==1&&_940==="dojoxPortletSettingsIcon"){try{dojo.place(icon,this._tbarIcons[0],"replace");}catch(e){dojo.place(icon,this.arrowNode,"before");}}else{dojo.place(icon,this.arrowNode,"before");}}if(_941){this.iconMouseOverEvent=this.connect(icon,"onmouseover",function(){dojo.addClass(icon,_941);});this.iconMouseOutEvent=this.connect(icon,"onmouseout",function(){dojo.removeClass(icon,_941);});}if(_940==="dojoxPortletSettingsIcon"){if(this._tbarIcons.length==1){this._tbarIcons[0]=icon;}else{this._tbarIcons.push(icon);}this.iconClickEvent=this.connect(icon,"onclick",fn);}else{this.connect(icon,"onclick",fn);}return icon;},_removeIcons:function(){this.disconnect(this.iconClickEvent);this.disconnect(this.iconMouseOverEvent);this.disconnect(this.iconMouseOutEvent);if(this._tbarIcons.length>0){dojo.empty(this._tbarIcons[0]);}},_editorAdded:function(){var _943=this.getChildren();this._placeSettingsWidgets();dojo.forEach(_943,function(_944){try{if(!_944.started&&!_944._started){_944.startup();}}catch(e){}});},_load:function(){if(!this.preventRender){this._setContent(this.onDownloadStart(),true);if(!Sage.UI.WidgetDefinitions[this.widgetOptions.name]&&!this.requestPending){this.requestPending=true;var that=this;var _945={preventCache:false,url:this.href};if(dojo.isObject(this.ioArgs)){dojo.mixin(_945,this.ioArgs);}var hand=(this._xhrDfd=(this.ioMethod||dojo.xhrGet)(_945));hand.addCallback(function(data){try{that._isDownloaded=true;that.requestPending=false;that._setContent(that.processingData||"",true);that.onDownloadEnd(data);}catch(err){that._onError("Content",err);}delete that._xhrDfd;});hand.addErrback(function(err){if(!hand.canceled){that._onError("Download",err);}delete that._xhrDfd;return err;});delete this._hrefChanged;}else{if(this.requestPending){this._waitForDefinition();}else{this.widgetDefined=true;this._widgetInit();}}}},_setColumn:function(n){this.column=n;},_setIndex:function(n){this.index=n;},_indexUp:function(){this.index+=1;},_waitForDefinition:function(){this.subscription=this.subscribe("/ui/widget/defined",this,function(){this.widgetDefined=true;this._widgetInit();});},_widgetInit:function(){if(this.widgetDefined&&!this._Widget){this._dashboardWidget=new _939({options:this.widgetOptions,parentCell:this});}}});return _93c;});},"Sage/UI/Dashboard/Dashboard":function(){define("Sage/UI/Dashboard/Dashboard",["dojo/i18n","dijit/layout/ContentPane","dijit/layout/TabContainer","Sage/UI/Dashboard/DashboardTabController","Sage/UI/Dashboard/DashboardPage","Sage/Utility","dijit/Menu","dijit/MenuItem","dojo/_base/declare","dojo/i18n!./nls/DashboardTabController","dojo/i18n!./nls/Dashboard"],function(i18n,_946,_947,_948,_949,_94a,menu,_94b,_94c){var _94d=_94c("Sage.UI.Dashboard.Dashboard",_947,{controllerWidget:"Sage.UI.Dashboard.DashboardTabController",_stTableOuter:new Simplate(['<div id="stTable" class="show-tab-table"><table>',"{%= $.content %}",'</table><div class="button-bar alignright"><button data-dojo-type="dijit.form.Button" type="button"',' id="btnSTOk" title="{%= $.buttonOk %}">{%= $.buttonOk %}</button>',"</div></div>"]),_stTableInner:new Simplate(['<tr id="row_{%= $.id %}"><td><button data-dojo-type="dijit.form.Button"','type="button" id="btn_{%= $.id %}" class="btn-show-tab">{%= $.showText %}</button></td>',"<td><span>{%= $.title %}</span></td></tr>"]),_copyNameForm:new Simplate(['<div id="copyNameForm"><table width="100%">','<tr><td>{%= $.titleText %}</td><td><div data-dojo-type="dijit.form.ValidationTextBox" id="txtCopyName"',' regExp="[^<>;]*" value="" required="true" invalidMessage="{%= $.invalidMessage %}"></div></td></tr>','<tr><td colspan="2" align="right"><div class="button-bar"><button data-dojo-type="dijit.form.Button" type="button"',' id="btnCNOK" title="{%= $.buttonOk %}">{%= $.buttonOk %}</button>','<button data-dojo-type="dijit.form.Button" type="button"',' id="btnCNCancel" title="{%= $.buttonCancel %}" >{%= $.buttonCancel %}</button>',"</div></td></tr></table></div>"]),resources:{},addRemovePageContextMenu:function(){var _94e=true;for(var i=0;i<this._childPages.length;i++){if(!this._childPages[i]._beingDestroyed){var _94f=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);_94e=false;if(_94f&&_94f.tabContent.style.display=="none"){_94e=true;}else{break;}}}if(_94e){if(this._contextMenu){this._contextMenu.destroyRecursive();}this._contextMenu=new menu({id:this.id+"_ContextMenu",dir:this.dir,targetNodeIds:[this.domNode]});this._contextMenu.addChild(new _94b({label:this.newTabText,dir:this.dir,onClick:function(){var db=dijit.byId("Dashboard");db._createPage(true,db.newTabText);}}));this._contextMenu.addChild(new _94b({label:this.showTabText,dir:this.dir,onClick:dojo.hitch(this,function(){var d=dijit.byId("Dashboard");d._showTabMenu();})}));this.selectShownTab=true;}else{if(this._contextMenu){this._contextMenu.destroyRecursive();this.selectShownTab=false;}}},postCreate:function(){if(!Sage.UI.WidgetDefinitions){Sage.UI.WidgetDefinitions={};}this._getUserOptions();this.subscribe("/ui/dashboard/pageDelete",function(pg){this.closeChild(pg);this._deletePage(pg);this.addRemovePageContextMenu();});this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","Dashboard"));dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this.resources,i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition"));dojo.mixin(this,i18n.getLocalization("dijit","common"));this.inherited(arguments);},_childPages:[],_createPage:function(ans,name){if(!ans){return;}var obj={closable:true,onClose:function(){return true;},name:name,title:name,family:"System",acceptTypes:["Portlet"],hasResizableColumns:false,_columns:[],_page:this._childPages.length,_parentId:this.id,permission:true,_childWidgets:[]};var _950=new _949(obj);this._childPages.push(_950);this.addChild(this._childPages[this._childPages.length-1]);this.selectChild(this._childPages[this._childPages.length-1]);_950.isNew=true;_950._editOptionsMenu();},_showPage:function(_951){var _952=Sage.UI.DataStore.Dashboard.userOptions.hidden,pg=_952[_951],_953=false,len;for(var i=0;i<this._childPages.length;i++){if(this._childPages[i].title==pg){var _954=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);if(_954){dojo.style(_954.tabContent,"display","block");_953=true;if(this.selectShownTab){this.selectChild(this._childPages[i]);this._showChild(this._childPages[i]);}break;}}}if(!_953){var _955=function(){return true;};for(i=0,len=this.info.userPages.length;i<len;i++){var ttl=Sage.Utility.htmlDecode(this.pages[i]["@title"]);var _956=ttl;while(_956.indexOf(" ")!==-1){_956=_956.replace(" ","_");}_956=_956.replace(/'/g,"_").replace(/"/g,"_");if(ttl==pg){var _957;if(this.pages[i]["@colWidths"]){_957=this.pages[i]["@colWidths"].split(",").length;}var _958=this.info.permissions[_956];this.pages[i].Columns.Column=_94a.Convert.toArrayFromObject(this.pages[i].Columns.Column);this._childPages.push(new _949({id:_956,closable:true,onClose:_955,name:ttl,title:this.resources[_956]||ttl,family:this.pages[i]["@family"]||"System",nbZones:_957||1,acceptTypes:["Portlet"],hasResizableColumns:false,firstButNotDefault:false,colWidths:this.pages[i]["@colWidths"],_columns:this.pages[i].Columns.Column,_page:i,_parentId:this.id,permission:_958,_childWidgets:[]}));if(this.pages[i]["@colWidths"]){this._childPages[this._childPages.length-1]._colWidths=this.pages[i]["@colWidths"];}this.addChild(this._childPages[this._childPages.length-1]);if(this.selectShownTab){this.selectChild(this._childPages[this._childPages.length-1]);}break;}}}if(_951 in _952){delete _952[_951];this._updateUserOptions();}},_copyPageContent:function(pg,_959){var page=pg.Dashboard;var len=this._childPages.length;var ttl=_959?_959:page["@title"];var _95a=page["@id"];while(_95a.indexOf(" ")!==-1){_95a=_95a.replace(" ","_");}var _95b;if(page["@colWidths"]){_95b=page["@colWidths"].split(",").length;}var _95c=false;if(_959){_95c=true;}else{if(page["@permission"]){_95c=page["@permission"];}}this._childPages.push(new _949({closable:true,onClose:function(){return true;},name:ttl,title:ttl,family:page["@family"]||"System",nbZones:_95b||1,acceptTypes:["Portlet"],hasResizableColumns:false,colWidths:page["@colWidths"],_columns:page.Columns.Column,_page:len,_parentId:this.id,permission:_95c,_childWidgets:[]}));if(page["@colWidths"]){this._childPages[len]._colWidths=page["@colWidths"];}this.addChild(this._childPages[len]);this._childPages[len]._init();this._childPages[len].copyNotDrawn=true;var uo=Sage.UI.DataStore.Dashboard.userOptions;if(uo.hidden&&_95a in uo.hidden){delete uo.hidden[_95a];this._updateUserOptions();}this._childPages[len]._save();},_copyPage:function(pg){var d=new dijit.Dialog({title:this.copyTabText,style:"width:250px"});d.set("content",this._copyNameForm.apply({titleText:this.titleText,buttonOk:this.okButton,buttonCancel:this.buttonCancel,invalidMessage:this.invalidMessage}));var _95d=function(){dojo.disconnect(_95e);dojo.disconnect(ok);dojo.disconnect(_95f);d.destroyRecursive();};var ok=dojo.connect(dijit.byId("btnCNOK"),"onClick",this,function(){var _960=dijit.byId("txtCopyName");if(!_960.isValid()||!this._isTitleUnique(_960.value)){return false;}if(!pg.pageRendered){pg.copyNotDrawn=true;pg._init();}var ttl=_960.value;var _961=pg._copy();this._copyPageContent(_961,ttl);d.hide();});var _95f=dojo.connect(dijit.byId("btnCNCancel"),"onClick",this,function(){d.hide();});var _95e=dojo.connect(d,"hide",this,_95d);d.show();},_createPages:function(){this.pages={};var def=this.info.userOptions.defaultTab;var uo=Sage.UI.DataStore.Dashboard.userOptions;var _962;var _963=0;var _964=function(){return true;};for(var i=0,len=this.info.userPages.length;i<len;i++){var page=dojo.fromJson(this.info.userPages[i]);this.pages[i]=page.Dashboard;var ttl=Sage.Utility.htmlDecode(this.pages[i]["@title"]);var _965=ttl;while(_965.indexOf(" ")!==-1){_965=_965.replace(" ","_");}_965=_965.replace(/'/g,"_").replace(/"/g,"_");if(!uo.hidden||!uo.hidden[_965]){var _966;if(this.pages[i]["@colWidths"]){_966=this.pages[i]["@colWidths"].split(",").length;}else{this.pages[i]["@colWidths"]=0;_966=1;}var _967=this.info.permissions[_965];this.pages[i].Columns.Column=_94a.Convert.toArrayFromObject(this.pages[i].Columns.Column);this._childPages.push(new _949({id:_965,closable:true,onClose:_964,name:ttl,title:this.resources[_965]||ttl,family:this.pages[i]["@family"]||"System",nbZones:_966||1,acceptTypes:["Portlet"],hasResizableColumns:false,firstButNotDefault:i===0&&ttl!==def,colWidths:this.pages[i]["@colWidths"],_columns:this.pages[i].Columns.Column,_page:i,_parentId:this.id,permission:_967,_childWidgets:[]}));if(this.pages[i]["@colWidths"]){this._childPages[_963]._colWidths=this.pages[i]["@colWidths"];}this.addChild(this._childPages[_963]);if(ttl===def){_962=_963;}_963++;}}if(_962){this._childPages[_962].selected=true;this._childPages[_962]._init();}else{if(this._childPages.length>0){this._childPages[0].selected=true;this._childPages[0]._init();}}this.addRemovePageContextMenu();},_deletePage:function(pg,_968){var uo=Sage.UI.DataStore.Dashboard.userOptions;if(pg.title===uo.defaultTab){uo.defaultTab="";if(!_968){this._updateUserOptions();}}var vURL="SLXGroupBuilder.aspx?method=GetGroupIdFromNameFamilyAndType&name="+pg.name+"&family=System&type=36";dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_969){}),load:dojo.hitch(this,function(_96a){Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"DeleteGroup&gid="+_96a,"text",function(){},function(req){});})});},_hidePage:function(pg){var uo=Sage.UI.DataStore.Dashboard.userOptions;var _96b=dijit.byId("Dashboard_tablist_"+pg.id);dojo.style(_96b.tabContent,"display","none");if(this.selectedChildWidget==pg){this.selectFirstVisible();}if(!uo.hidden){uo.hidden={};}uo.hidden[pg.id]=pg._hide();this._updateUserOptions();this.addRemovePageContextMenu();},_showTabMenu:function(){var _96c=Sage.UI.DataStore.Dashboard.userOptions.hidden;var _96d=[];var id;if(_96c&&Sage.Utility.size(_96c)){for(id in _96c){_96d.push(this._stTableInner.apply({title:_96c[id],id:id,buttonCancel:this.buttonCancel,showText:this.showText}));}}var d=new dijit.Dialog({title:this.showTabText,style:"width:350px"});d.set("content",this._stTableOuter.apply({content:_96d.join(""),buttonOk:this.buttonOk}));d.show();var _96e=[];if(_96c){for(id in _96c){var _96f=dijit.byId("btn_"+id);_96e.push(dojo.connect(_96f,"onClick",_96f,function(){var db=dijit.byId("Dashboard"),_970=this.id.replace("btn_",""),_971=dojo.byId("row_"+_970);db._showPage(_970);db.addRemovePageContextMenu();dojo.style(_971,"display","none");}));}}var ok=dojo.connect(dijit.byId("btnSTOk"),"onClick",null,function(){d.hide();});var _972=dojo.connect(d,"hide",null,function(){dojo.disconnect(ok);dojo.disconnect(_972);dojo.forEach(_96e,dojo.disconnect);d.destroyRecursive();});},_isTitleUnique:function(_973,_974){var _975=true;var _976=this._childPages;var _977="";if(_974){_977=_974;}for(var i=0;i<_976.length;i++){if(_976[i].id!=_977&&!_976[i]._destroyed&&_976[i].title===_973){_975=false;var opts={title:this.warningText,query:this.invalidDuplicateMessage,yesText:this.okButton,style:{width:"300px"}};Sage.UI.Dialogs.raiseQueryDialogExt(opts);break;}}return _975;},selectFirstVisible:function(){var _978=false;for(var i=0;i<this._childPages.length;i++){var _979=dijit.byId("Dashboard_tablist_"+this._childPages[i].id);if(_979&&_979.tabContent.style.display!="none"){_978=true;this.selectChild(this._childPages[i]);break;}}if(!_978){try{this.selectChild();}catch(err){}}},selectChild:function(_97a){this.inherited(arguments);if(_97a._init){_97a._init();}if(_97a.copyNotDrawn){_97a.copyNotDrawn=false;_97a._redrawWidgets();}},_getUserOptions:function(){if(Sage.UI.DataStore.Dashboard){this.info=Sage.UI.DataStore.Dashboard;this._createPages();}else{this.subscribe("/ui/dashboard/info",function(info){this.info=info;this._createPages();});}},_updateUserOptions:function(){var uo=Sage.UI.DataStore.Dashboard.userOptions;var uri="slxdata.ashx/slx/crm/-/dashboard/useroption?name=Options&category=Dashboard";var def=dojo.xhrPut({url:uri,handleAs:"text",postData:dojo.toJson(uo),load:function(data){},error:function(_97b){}});}});return _94d;});},"Sage/UI/NumberTextBox":function(){define("Sage/UI/NumberTextBox",["dijit/form/NumberTextBox","dijit/form/ValidationTextBox","dojo/number","Sage/Utility","dojo/_base/declare"],function(_97c,_97d,_97e,_97f,_980){var _981=_980("Sage.UI.NumberTextBox",_97c,{shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",maxLength:"",formatType:"",attributeMap:{hotKey:{node:"textbox",type:"attribute",attribute:"accessKey"},maxLength:{node:"textbox",type:"attribute",attribute:"maxLength"}},textAlign:"",_getValueAttr:function(){var _982=this.inherited(arguments);if((typeof _982==="undefined"||isNaN(_982))&&this.textbox.value!==""){_982=this.getTextBoxValue();}return _982;},_setValueAttr:function(v){this.constraints["locale"]=Sys.CultureInfo.CurrentCulture.name;this.inherited(arguments);},_onFocus:function(){this.onFocusFiring=true;this.inherited(arguments);if(this.constraints.type==="percent"){var _983=Math.round(this.value*10000)/100;this.textbox.value=_97e.format(_983,{locale:Sys.CultureInfo.CurrentCulture.name});}this.onFocusFiring=false;},_onBlur:function(){this.onBlurFiring=true;if(this.formatType==="Percent"||this.constraints.type==="percent"){if(this.textbox.value.indexOf(Sys.CultureInfo.CurrentCulture.numberFormat.PercentSymbol)===-1){var _984=this.getTextBoxValue();var _985=_984/100;this.set("displayedValue",_97e.format(_985,{locale:Sys.CultureInfo.CurrentCulture.name}));}}this.onBlurFiring=false;this.inherited(arguments);},_sageUINumberTextBox_IsValid:function(){if(this.formatType!=="Percent"||this.constraints.type!=="percent"){if(dojo.isIE){if(this.oldValue!==this.textbox.value){var trim=this._restrictDD();if(trim!==this.textbox.value){this.textbox.value=trim;}}this.oldValue=this.textbox.value;}else{this.textbox.value=this._restrictDD();}}this.inherited(arguments);},_restrictDD:function(){var _986=this.textbox.value;if(this.onBlurFiring||this.onFocusFiring){return _986;}if(this.constraints.places){_986=_97f.restrictDecimalDigit(this.textbox.value,this.constraints.places);}return _986;},_sageUINumberTextBox_KeyPress:function(e){var type=this.constraints.type;if(!_97f.restrictToNumberOnKeyPress(e,type)){dojo.stopEvent(e);}},_sageUINumberTextBox_OnFocus:function(e){dojo.setSelectable(this.domNode,true);},startup:function(){this.inherited(arguments);var self=this;dojo.style(self.focusNode,"textAlign",self.textAlign);self.value=self.value||0;self.onBlurFiring=false;self.onFocusFiring=false;this.connect(self,"isValid",self._sageUINumberTextBox_IsValid);this.connect(self,"onKeyPress",self._sageUINumberTextBox_KeyPress,true);this.connect(self,"onFocus",self._sageUINumberTextBox_OnFocus,true);if(!this.ignorechange){this.connect(self,"onChange",self.valueChanged);}},valueChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}},getTextBoxValue:function(){var _987=0;var _988=this.textbox.value;if(_988.lastIndexOf(Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator)===_988.length-1){_988=_988.slice(0,_988.length-1);}_987=_97e.parse(_988,{locale:Sys.CultureInfo.CurrentCulture.name});if(isNaN(_987)){_987=this.value;}return _987;}});return _981;});},"Sage/UI/_DetailPane":function(){define("Sage/UI/_DetailPane",["dijit/_Widget","dojo/_base/declare"],function(_989,_98a){var _98b=_98a("Sage.UI._DetailPane",[_989],{constructor:function(){},_applyConfiguration:function(_98c){this._configuration=_98c;},_setConfigurationAttr:function(_98d){this._applyConfiguration(_98d);},_setOwnerAttr:function(_98e){if(this._owner===_98e){return;}if(this._owner){throw new Error("Sage.UI._DetailPane can only be bound to a single Sage.UI.ListPanel.");}this._owner=_98e;this.connect(this._owner,"onRowClick",this._onRowClick);this.connect(this._owner,"onSelected",this._onSelected);},_getOwnerAttr:function(){return this._owner;},_onRowClick:function(_98f,row,grid){},_onSelected:function(_990,row,grid){}});return _98b;});},"url:Sage/MainView/ReportMgr/Common/templates/ExportOptionsDialog.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" title="{%= $._getDialogTitle() %}" dojoattachpoint="_dialog" dojoattachevent="onCancel:_dialog_OnCancel" style="width: 600px">\r\n        <div data-dojo-type="dijit.form.Form">\r\n            <div style="overflow:auto">\r\n                <div dojoattachpoint="containerDiv" id="containerDiv" style="height:350px; overflow:auto">\r\n                    <table cellspacing="10">\r\n                        <tr dojoAttachpoint="trScheduleDescription">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtScheduleDescription_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <input type="text" dojoAttachPoint="txtScheduleDescription" required="true" dojoType="dijit.form.TextBox" style="width:300px" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtOutputFormat_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType="dijit.form.Select" dojoAttachPoint="cmbOutputFormat" sortByLabel="false" style="width:300px" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint="trRunAsUserId">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtRunAs_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <div dojoType="dijit.layout.ContentPane" label="{%= $._nlsResources.txtRunAs_Caption %}" dojoAttachPoint="container_lkpRunAsUserId" style="padding: 0 !important;"></div>                            \r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint="trSchedulingWidget">                            \r\n                            <td colspan="2">\r\n                                <div data-dojo-type="Sage.UI.JobSchedulingWidget" id="jobSchedulingWidget" data-dojo-attach-point="jobSchedulingWidget"></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align="right" style="margin-top:10px">\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdBack" dojoAttachEvent="onClick:_cmdBack_OnClick" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdNext" dojoAttachEvent="onClick:_cmdNext_OnClick">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',"Sage/Services/CalendarSecurityService":function(){define("Sage/Services/CalendarSecurityService",["Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/_base/declare"],function(_991,_992,_993){var _994=_993("Sage.Services.CalendarSecurityService",null,{_rawList:[],_accessList:{},_dataAvailable:false,constructor:function(opts){this._dataAvailable=false;this._loading=false;},_waiting:[],hasAccess:function(_995,_996,_997,_998){if(this._dataAvailable){var item=this._accessList[_995];var _999=false;if(item){_999=item[_996];}if(_997){_997.call(_998||this,_999);}}else{this._waiting.push(dojo.connect(this,"onDataAvailable",this,function(){this.hasAccess(_995,_996,_997,_998);}));if(!this._loading){this._loadData();}}},getListByAccessLevel:function(_99a,_99b,_99c,_99d,_99e){var _99f=_99d||"userid";var _9a0=_99e||"name";if(this._dataAvailable){var list=[];for(var i=0;i<this._rawList.length;i++){var item=this._rawList[i];if(_99a==="view"||item[_99a]){var obj={};obj[_99f]=item["accessUserId"];obj[_9a0]=item["accessUserName"];list.push(obj);}}_99b.call(_99c||this,list);}else{this._waiting.push(dojo.connect(this,"onDataAvailable",this,function(){this.getListByAccessLevel(_99a,_99b,_99c,_99d,_99e);}));if(!this._loading){this._loadData();}}},_loadData:function(){this._loading=true;var svc=_991.getSDataService("mashups",false,true,true);var uid=_992.getClientContextByKey("userID")||"";var _9a1=new Sage.SData.Client.SDataNamedQueryRequest(svc);_9a1.setApplicationName("$app");_9a1.setResourceKind("mashups");_9a1.uri.setCollectionPredicate("'UserCalendarQueries'");_9a1.setQueryName("execute");_9a1.setQueryArg("_resultName","UserHasAccessToTheseCalendars");_9a1.setQueryArg("_userId",uid);_9a1.read({success:this._dataReceived,failure:function(){},scope:this});},_dataReceived:function(data){this._rawList=data["$resources"];var i;for(i=0;i<this._rawList.length;i++){var item=this._rawList[i];this._accessList[item["accessUserId"]]={"name":item["accessUserName"],"userid":item["accessUserId"],"allowAdd":item["allowAdd"],"allowDelete":item["allowDelete"],"allowEdit":item["allowEdit"],"allowSync":item["allowSync"]};}this._dataAvailable=true;this._loading=false;this.onDataAvailable();for(i=0;i<this._waiting.length;i++){dojo.disconnect(this._waiting[i]);}this._waiting=[];},onDataAvailable:function(){}});Sage.Services.addService("CalendarSecurityService",new _994());});},"Sage/UI/Filters/FilterPanel":function(){define("Sage/UI/Filters/FilterPanel",["dijit/_Widget","dijit/_Container","Sage/_Templated","Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/UI/Filters/CheckBoxFilter","Sage/UI/Filters/LookupFilter","Sage/UI/Filters/EditFilters","dojo/_base/declare","dojo/i18n","dojo/_base/array","dojo/_base/lang","dojo/query","dojo/on","dojo/i18n!./nls/FilterPanel","dojo/has","dojo/_base/sniff","dojo/ready","dojo/json","dojo/DeferredList","dojo/_base/Deferred","dojo/string"],function(_9a2,_9a3,_9a4,_9a5,_9a6,_9a7,_9a8,_9a9,_9aa,i18n,_9ab,lang,_9ac,on,nls,has,_9ad,_9ae,json,_9af,_9b0,_9b1){var _9b2=_9aa("Sage.UI.Filters.FilterPanel",[_9a2,_9a3,_9a5,_9a4],{serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"}},knownFilterTypes:{"checkedList":_9a7,"comboWithArgument":_9a8},widgetsInTemplate:false,widgetTemplate:new Simplate(['<div class="filter-panel" data-dojo-attach-point="containerNode">','<div class="filter-edit"><a href="#" data-dojo-attach-point="clearAllFiltersNode">{%= $.clearText %}</a> | <a href="#" data-dojo-attach-point="editFiltersNode">{%= $.editText %}</a></div>','<div class="filter-summary" data-dojo-attach-point="filterSummaryNode">{%= $.noneText %}</div>',"</div>"]),_filterGroup:null,_filterSubscriptions:null,_configuration:null,_configurationConnects:null,_configurationProvider:null,_configurationProviderType:null,_appliedSet:null,configurationProvider:null,configurationProviderType:null,autoConfigure:true,store:null,filterGroup:"default",filterManager:null,_appliedFilters:null,_isApplyingConfig:false,_isFirstLoad:true,_editFilters:null,_editFiltersHandle:null,_isFetchingData:false,editText:"Edit Filters",noneText:"No filters selected.",clearText:"Clear All",constructor:function(){var _9b3=Sage.Utility.getValue(window,"Sage.UI.DataStore.Filters");if(_9b3&&_9b3[this.filterGroup]){this._appliedSet=_9b3[this.filterGroup].applied;}if(nls){this.editText=nls.editText;this.noneText=nls.noneText;this.clearText=nls.clearText;}this._appliedFilters=[];dojo.subscribe("/group/context/changed",lang.hitch(this,function(){this._isFirstLoad=true;}));},postCreate:function(){this.inherited(arguments);this.startup();},startup:function(){this.inherited(arguments);if(!this._configurationProvider&&this._configurationProviderType){this.set("configurationProvider",new this._configurationProviderType());}if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._editFilters){this._editFilters.destroy();this._editFiltersHandle.remove();}if(this._configurationProvider){this._configurationProvider.destroy();}},_setFilterGroupAttr:function(_9b4){if(this._filterSubscriptions){dojo.forEach(this._filterSubscriptions,function(_9b5){this.unsubscribe(_9b5);},this);}this._filterGroup=_9b4;this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(_9b1.substitute("/ui/filters/${0}/apply",[this._filterGroup]),lang.hitch(this,this._onApply)));this._filterSubscriptions.push(this.subscribe(_9b1.substitute("/ui/filters/${0}/change",[this._filterGroup]),lang.hitch(this,this._onChange)));},_getFilterGroupAttr:function(){return this._filterGroup;},_onChange:function(_9b6,name,_9b7,_9b8){var _9b9=false,_9ba,_9bb=false;if((_9b6.details.lookupFilter)||(_9b6.details.userLookupFilter)){_9bb=true;if(_9b7!==null){if(_9b7.hasOwnProperty("value")){if((_9b7.value===null)||(_9b7.value==="")){_9b9=true;}}else{if((_9b7===null)||(_9b7==="")){_9b9=true;}}}}_9ab.forEach(this._appliedFilters,function(_9bc,i){var _9bd=false;if(_9bc.filterName===_9b6.filterName){_9ba=this._appliedFilters[i];_9bd=_9ab.some(_9ba.items,function(item){return item===name;});if(_9bd){if(_9bb){if(_9b7===null){}else{if((_9b7.value===null)||(_9b7.value==="")){_9ba.items=[];this._appliedFilters.splice(i,1);}}}else{_9ab.forEach(_9ba.items,function(item,x){if(item===name){_9ba.items.splice(x,1);}},this);}}else{_9ba.items.push(name);}_9b9=true;}},this);if(!_9b9){this._appliedFilters.push({"filterName":_9b6.filterName,"displayName":_9b6.$descriptor||_9b6.displayName,items:[name]});}this._updateFilterSummary();},_updateFilterSummary:function(){var _9be=[];_9ab.forEach(_9ab.filter(this._appliedFilters,function(_9bf){return(typeof _9bf.displayName!=="undefined"&&_9bf.displayName!=="")&&(_9bf.items&&_9bf.items.length>0);}),function(_9c0){_9be.push(_9c0.displayName+" ("+_9c0.items.length+")");},this);if(_9be.length===0){this.filterSummaryNode.innerHTML=this.noneText;}else{this.filterSummaryNode.innerHTML=_9be.join(", ");}},_onApply:function(_9c1,_9c2,_9c3){var key,_9c4,_9c5,_9c6;if(_9c3&&this._configuration){var _9c7=_9c3.getContext();if(_9c7.CurrentGroupID.toUpperCase()!==this._configuration.groupId.toUpperCase()){return;}}this._appliedFilters=[];this._appliedSet=_9c1;var _9c8=false;for(key in this._appliedSet){if(this._appliedSet.hasOwnProperty(key)){_9c8=true;_9c6=_9c2[key];_9c4=this._appliedSet[key];if(_9c6.details.lookupFilter){if(_9c4.hasOwnProperty("value")){this._onChange(_9c6,_9c6.filterName,_9c4.value);}}else{for(_9c5 in _9c4){if(_9c4.hasOwnProperty(_9c5)){this._onChange(_9c6,_9c5);}}}}}if((this._configuration)){this.requestData();}},_handleConfigurationChange:function(){this.requestConfiguration();},_setConfigurationProviderAttr:function(_9c9){if(this._configurationConnects){dojo.forEach(this._configurationConnects,function(_9ca){this.disconnect(_9ca);},this);}if(this._configurationProvider&&this._configurationProvider!==_9c9){this._configurationProvider.destroy();}this._configurationProvider=_9c9;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setConfigurationProviderTypeAttr:function(_9cb){this._configurationProviderType=_9cb;},_getConfigurationProviderTypeAttr:function(){return this._configurationProviderType;},requestConfiguration:function(){if(this._configurationProvider&&!this._isApplyingConfig){this._isApplyingConfig=true;this._configurationProvider.requestConfiguration({success:lang.hitch(this,this._applyConfiguration)});}},_applyConfiguration:function(_9cc){this._configuration=_9cc;this.store=_9cc.store;this.filterManager=_9cc.getFilterManager();if(this._editFilters){this._editFilters.destroy();this._editFiltersHandle.remove();}this._editFilters=new _9a9({store:this.store,filterPanel:this});this._editFiltersHandle=on(this.editFiltersNode,"click",lang.hitch(this,function(){this._editFilters.showDialog();}));on(this.clearAllFiltersNode,"click",lang.hitch(this,this._clearAllFilters));this._appliedSet={};this._appliedFilters=[];this._updateFilterSummary();if(this._appliedSet){this.requestData(function(){var _9cd=Sage.Services.getService("ClientGroupContext");_9cd.publishFiltersApplied();});}this._ensureApplyFilterWasPublished();},_ensureApplyFilterWasPublished:function(){var _9ce,_9cf;_9ce=Sage.Services.getService("ClientGroupContext");_9cf=_9ce&&_9ce.getContext();if(_9cf&&_9cf.AppliedFilterInfo){_9ce.publishFiltersApplied(_9cf.AppliedFilterInfo);}},_clearAllFilters:function(){var q=_9ac("li.filter-selected",this.containerNode),evt;_9ab.forEach(q,function(node){if(node.click){node.click();}else{evt=document.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);node.dispatchEvent(evt);}});q=_9ac(".filter-lookup-input input",this.containerNode);_9ab.forEach(q,function(node){if(node.value){node.value="";if(has("ie")<9){node.fireEvent("onkeydown");}else{evt=document.createEvent("KeyboardEvent");if(evt.initKeyEvent){evt.initKeyEvent("keydown",true,true,null,false,false,false,false,13,0);}else{evt.initKeyboardEvent("keydown",true,true,null,13,null,null,1,null);}node.dispatchEvent(evt);}}});},refreshFilters:function(_9d0){this._refreshing=true;if(_9d0!==true){this._clearAllFilters();}this.requestConfiguration();},requestData:function(_9d1){if(this._isFetchingData){return;}this._isFetchingData=true;this.destroyDescendants();var _9d2,_9d3,_9d4,_9d5,data;_9d3=Sage.Services.getService("ClientGroupContext");_9d4=_9d3&&_9d3.getContext();_9d2=_9b1.substitute("METADATA_FILTERS_${0}_${1}",[_9d4.CurrentEntity,_9d4.CurrentGroupID]);_9d5=sessionStorage.getItem(_9d2);if(_9d5){data=json.parse(_9d5);this._iterateFetchedItems(data);if(_9d1){_9d1();}}else{this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete,_9d2,_9d1)});}},onRequestDataFailure:function(_9d6){},_onFetchError:function(){this._isFetchingData=false;},_onFetchItem:function(_9d7){var data=this._configuration._hiddenFilters||{},_9d8=Sage.Services.getService("ClientGroupContext"),_9d9=_9d8&&_9d8.getContext(),prop=_9d9.CurrentEntity+"_"+_9d7.filterName,_9da=false,type=_9d7.filterType,_9db=false,_9dc=new _9b0(),_9dd=false;if(data[prop]){_9da=data[prop].hidden;_9db=data[prop].expanded;}if(this.knownFilterTypes[type]){if(_9da===false||typeof _9da==="undefined"||_9da===null){this.addChild(new this.knownFilterTypes[type]({configurationProvider:this._configurationProvider,filter:_9d7,store:this._configuration.createStoreForFilter(_9d7),appliedValues:this._appliedSet&&this._appliedSet[_9d7.$key],parent:this,groupId:_9d9.CurrentGroupID,expanded:_9db,deferred:_9dc}));_9dd=true;}}if(!_9dd){_9dc.resolve();}return _9dc;},_onFetchComplete:function(_9de,_9df,_9e0){sessionStorage.setItem(_9de,json.stringify(_9e0));this._iterateFetchedItems(_9e0);if(_9df){_9df();}},_iterateFetchedItems:function(_9e1){if(!_9e1||!_9e1.length){return;}var i,_9e2,_9e3;_9e2=_9e1.length;_9e3=[];for(i=0;i<_9e2;i++){_9e3[i]=this._onFetchItem(_9e1[i]);}_9e3=new _9af(_9e3);_9e3.then(lang.hitch(this,function(){this._isFetchingData=false;this._isApplyingConfig=false;if(this._isFirstLoad){this._isFirstLoad=false;this.requestData(function(){var _9e4=Sage.Services.getService("ClientGroupContext");_9e4.publishFiltersApplied();});}}));}});return _9b2;});},"url:Sage/MainView/Lead/templates/LeadDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Lead.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svCompany_Caption || \"Company:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountname %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","Sage/MainView/ActivityMgr/ActivityGroupContextService":function(){define("Sage/MainView/ActivityMgr/ActivityGroupContextService",["Sage/Groups/BaseGroupContextService","Sage/Services/ActivityService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/ActivityMgr/ActivityListPanelConfig","Sage/MainView/ActivityMgr/AlarmListPanelConfig","Sage/MainView/ActivityMgr/AllOpenListPanelConfig","Sage/MainView/ActivityMgr/ConfirmListPanelConfig","Sage/MainView/ActivityMgr/EventListPanelConfig","Sage/MainView/ActivityMgr/LitRequestListPanelConfig","Sage/MainView/ActivityMgr/PastDueListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/ActivityGroupContextService"],function(_9e5,_9e6,_9e7,_9e8,lang,_9e9,_9ea,_9eb,_9ec,_9ed,_9ee,_9ef,_9f0,_9f1,_9f2){var _9f3=_9f1("Sage.MainView.ActivityMgr.ActivityGroupContextService",_9e5,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_currentListConfiguration:false,groupConfigTypes:[{key:"activities",descriptor:_9f2.activityTabDisplayName,keyField:"$key",configProviderType:_9e9},{key:"allopen",descriptor:_9f2.allOpenTabDisplayName,keyField:"$key",configProviderType:_9eb},{key:"pastdue",descriptor:_9f2.pastDueTabDisplayName,keyField:"$key",isCompostie:true,configProviderType:_9ef},{key:"alarms",descriptor:_9f2.alarmTabDisplayName,keyField:"$key",isCompostie:true,configProviderType:_9ea},{key:"events",descriptor:_9f2.eventTabDisplayName,keyField:"$key",configProviderType:_9ed},{key:"confirmations",descriptor:_9f2.confirmTabDisplayName,keyField:"$key",configProviderType:_9ec},{key:"literature",descriptor:_9f2.litTabDisplayName,keyField:"$key",configProviderType:_9ee}],_configsHash:false,_LOCALSTORE_NAMESPACE:"Sage-ActivityManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _9f4=this._getDefaultTabId();this.setContext(_9f4,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_9e7.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},buildCurrentEntityContext:function(){var _9f5=this._currentContext.CurrentGroupID;if(!_9f5){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_9f5);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_9f5);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var _9f6=this._currentContext.CurrentGroupID;var _9f7=(this.configsHash.hasOwnProperty(_9f6))?this.configsHash[_9f6]:this.configsHash["activities"];if(!_9f7.instance){_9f7.instance=new _9f7.configProviderType();this.onTabConfigCreated(_9f7.instance);}else{_9f7.instance.rebuild();}this._currentListConfiguration=_9f7.instance;return;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(_9f8){this._ensureConfigsHash();var _9f9="$key";if(this.configsHash[_9f8]){_9f9=this.configsHash[_9f8]["keyField"]||"$key";}return _9f9;},getGroupName:function(_9fa){this._ensureConfigsHash();var name="default";if(this.configsHash[_9fa]){name=this.configsHash[_9fa]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_9fb){this._clearFilterManager();var self=this;this._onDefaultFilterLoad(function(){var _9fc=self.getContext();dojo.publish("/group/context/changed",[_9fb,self]);self._saveToLocalStorage(self._STORE_KEY_LASTAB,_9fc.CurrentGroupID);});},_clearFilterManager:function(){var _9fd={};var _9fe={};dojo.publish("/ui/filters/default/apply",[_9fd,_9fe,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_9ff){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_9ff){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_9ff;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_a00){var _a01=this.getContext(),_a02=_9e8.getSDataService("system"),_a03,_a04={"$name":"getEntityFilters","request":{"entityName":_a01.CurrentEntity,"key":_a01.CurrentGroupID}};_a03=new Sage.SData.Client.SDataServiceOperationRequest(_a02).setOperationName("getEntityFilters");_a03.execute(_a04,{success:lang.hitch(this,function(_a05){try{if(_a05.response.appliedFilterInfo){this._currentContext.AppliedFilterInfo.applied=_a05.response.appliedFilterInfo.applied;this._currentContext.AppliedFilterInfo.definitionSet=_a05.response.appliedFilterInfo.definitionSet;if(_a00){_a00();}}}catch(err){console.error(err);}}),failure:function(_a06){console.error(_a06);},async:false});},_onDefaultFilterRefresh:function(_a07,_a08,_a09){var _a0a=this.getContext(),_a0b=_9e8.getSDataService("system"),_a0c={"$name":"applyFilterToEntity","request":{"entityName":_a0a.CurrentEntity,"filter":dojo.toJson(_a09.createValueSet()),"key":_a0a.CurrentGroupID}},_a0d=new Sage.SData.Client.SDataServiceOperationRequest(_a0b).setOperationName("applyFilterToEntity");_a0d.execute(_a0c,{});},getStaticTabs:function(){return this.groupConfigTypes;},_saveToLocalStorage:function(key,_a0e,_a0f){this._saveToSessionStorage(key,_a0e,_a0f);return;},_getFromLocalStorage:function(key,_a10){return this._getFromSessionStorage(key,_a10);},_getFromSessionStorage:function(key,_a11){if(!_a11){_a11=this._LOCALSTORE_NAMESPACE;}var _a12=_a11+"_"+key;return sessionStorage.getItem(_a12);},_saveToSessionStorage:function(key,_a13,_a14){if(!_a14){_a14=this._LOCALSTORE_NAMESPACE;}var _a15=_a14+"_"+key;sessionStorage.setItem(_a15,_a13);},_getDefaultTabId:function(){var _a16="activities",_a17=this._getUrlTabId(),_a18;if(_a17){_a17=this._validateTabId(_a17);if(_a17){return _a17;}}var _a19=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_a19){_a16=_a19;}else{_a18=Sage.Services.getService("ActivityService");if(_a18){_a16=_a18.getDefaultActivityManagerTabId();}}if(!this._configsHash){for(var i=0;i<this.groupConfigTypes;i++){if(_a16===this.groupConfigTypes[i]["key"]){return _a16;}}}return _a16;},_getUrlTabId:function(){var _a1a=false,_a1b="[\\?&]tabId=([^%#]*)",_a1c=new RegExp(_a1b),_a1d=_a1c.exec(window.location.href);if(_a1d!==null){_a1a=_a1d[1];}return _a1a;},_validateTabId:function(_a1e){if(_a1e){for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];if(cfg.key.toUpperCase()===_a1e.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_a1f){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _9f3());}else{var _a20=Sage.Services.getService("ClientGroupContext");if(_a20.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){_a20.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _9f3());}}return _9f3;});},"Sage/MainView/ActivityMgr/nls/SnoozeOptions":function(){define("Sage/MainView/ActivityMgr/nls/SnoozeOptions",["Sage/LanguageList","dojo/_base/lang"],function(_a21,lang){var nls={root:{fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",snoozeTitle:"Snooze Alarms"}};return lang.mixin(_a21,nls);});},"url:Sage/UI/Controls/templates/AddressEdit.html":'<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table style="width:100%;height:100%;">\r\n                {% for (var i = 0; i < $.fields.length; i++) { %}\r\n                {% if ($.fields[i].visible) { %}\r\n                    <tr>\r\n                        <td><label>{%= $.fields[i].fieldLabel %}</label></td>\r\n                        <td style="width: 150px;">\r\n                            {% if ($.fields[i].xtype === \'picklistcombo\') { %}\r\n                            <select data-dojo-type="Sage.UI.Controls.DropDownSelectPickList"\r\n                                dojoAttachPoint="_valueBox"\r\n                                pickListName="{%= $.fields[i].pickList.pickListName %}"\r\n                                storeMode="text"\r\n                                style="width: 100%;"\r\n                                value="{%= $.fields[i].value %}"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === \'checkbox\') { %}\r\n                                <input data-dojo-type="Sage.UI.Controls.CheckBox"\r\n                                       checked="{%= $.fields[i].value %}"\r\n                                       disabled="{%= $.fields[i].disabled %}"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === \'textfield\') { %}\r\n                                <input data-dojo-type="Sage.UI.Controls.TextBox"\r\n                                style="width: 100%;" type="text"\r\n                                value="{%= $.fields[i].value %}"\r\n                           {% } %}\r\n                                id="{%= $.id %}-{%= $.fields[i].name %}"\r\n                                name="{%= $.fields[i].formClientId %}"\r\n                                shouldPublishMarkDirty="false"\r\n                                onChange="dijit.byId(\'{%= $.id %}\').editorChange();"\r\n                                textAlign="{%= $.fields[i].textAlign %}" data-dojo-attach-point="focusNode"\r\n                                maxLength="{%= $.fields[i].maxLength %}" />\r\n                        </td>\r\n                   </tr>\r\n                {% } %}          \r\n                {% } %}            \r\n        </table>                    \r\n        <div class="button-bar alignright" style="clear: both">\r\n            <button id="{%= $.id %}-OKButton" data-dojo-type="dijit.form.Button" type="submit" onClick="dijit.byId(\'{%= $.id %}\')._okClicked();">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id="{%= $.id %}-CancelButton" data-dojo-type="dijit.form.Button" type="button" onClick="dijit.byId(\'{%= $.id %}\')._cancelClicked();">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>',"Sage/QuickForms/Design/Editors/nls/OwnerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/OwnerAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_a22,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_a22,nls);});},"Sage/Groups/main":function(){define("Sage/Groups/main",["Sage/Groups/GroupNavigator","Sage/Groups/GroupContextService","Sage/Groups/GroupLookup","Sage/Groups/GroupManager"],function(){});},"Sage/Utility/Jobs":function(){define("Sage/Utility/Jobs",["Sage/Utility","dijit/registry","dojo/date/locale","dojo/string","dojo/_base/declare","Sage/UI/Dialogs","dojo/i18n!./nls/Jobs","dijit/ProgressBar","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/_base/array"],function(_a23,_a24,_a25,_a26,_a27,_a28,_a29,_a2a,_a2b,lang,_a2c){Sage.namespace("Utility.Jobs");lang.mixin(Sage.Utility.Jobs,{_intervalId:null,_triggerId:null,_jobService:null,_options:null,_pollIntervalInSeconds:5,progressDialog:false,progressBar:false,triggerJobAndDisplayProgressDialog:function(_a2d){var self=this;self._reset();if(!this._validateOptions(_a2d)){return;}self._options={key:_a2d.key,closable:(typeof _a2d.closable==="boolean")?_a2d.closable:true,infoMessage:(typeof _a2d.infoMessage==="string")?_a2d.infoMessage:"",title:(typeof _a2d.title==="string")?_a2d.title:_a29.defaultProgressDialogTitle,showDismissButton:(typeof _a2d.showDismissButton==="boolean")?_a2d.showDismissButton:true,width:(typeof _a2d.width==="number")?_a2d.width:400,indeterminate:(typeof _a2d.indeterminate==="boolean")?_a2d.indeterminate:false,maximum:(typeof _a2d.maximum==="number")?_a2d.maximum:100,showCompleteNotification:(typeof _a2d.showCompleteNotification==="boolean")?_a2d.showCompleteNotification:false,showErrorNotification:(typeof _a2d.showErrorNotification==="boolean")?_a2d.showErrorNotification:true,failure:_a2d.failure,complete:_a2d.complete,ensureZeroFilters:_a2d.ensureZeroFilters===true?true:false};if(self._options.ensureZeroFilters&&self._getAppliedFilterCount()>0){_a28.showError(_a29.filtersAppliedError,self._options.dialogTitle);return;}var _a2e={descriptor:_a2d.descriptor,key:_a2d.key,parameters:_a2d.parameters,success:function(_a2f){self._showProgressDialog(_a2f.response?_a2f.response.triggerId:_a2f.$key);},failure:function(xhr){var _a30=self._getErrorMessage(xhr);if(self._options.showErrorNotification){_a28.showError(_a30,self._options.dialogTitle);}if(self._options.failure){self._options.failure(_a30);}}};this._jobService=Sage.Services.getService("JobService");this._jobService.scheduleJob(_a2e);dojo.publish("/job/execution/changed",[self]);},_getAppliedFilterCount:function(){var list=_a24.byId("list");return list&&list.getAppliedFilterCount();},formatElapsedTime:function(_a31){if(!_a31){_a31="00:00:00.00000";}var _a32=_a31.split(".");return _a32[0];},formatJobDescription:function(job){return !job?"":job.$descriptor;},formatDate:function(_a33){if(!_a33){return"";}var _a34=new Date(parseInt(_a33.substr(6)));return _a25.format(_a34,{selector:"datetime",fullYear:true});},formatUser:function(user){return user?user.$descriptor:"";},formatRepeatCount:function(_a35){if(_a35===-1){return _a29.repeatIndefinitely;}return _a35;},getTriggerDescription:function(_a36){if(_a36){if(_a36.$descriptor){return _a36.$descriptor;}else{return _a36.$key;}}return"";},formatProgress:function(_a37){if(!_a37||typeof _a37!=="number"){_a37=0;}var _a38=new _a2a({indeterminate:false,maximum:100,value:_a37});return _a38;},_validateOptions:function(_a39){if(!_a39){return false;}if(typeof _a39.key!=="string"){return false;}return true;},_reset:function(){this._intervalId=null;this._options=null;this._triggerId=null;},_getErrorMessage:function(xhr){var _a3a=_a26.substitute(_a29.errorMessage,[this._options.key,xhr.status,xhr.statusText]);return _a3a;},_getUnexpectedErrorMessage:function(){var _a3b=_a26.substitute(_a29.unexpectedErrorMessage,[this._options.key]);return _a3b;},getParameterRunAsUser:function(_a3c){if(_a3c){var _a3d=this._getParameterValue(_a3c,"RunAsUserId");return _a23.getUserName(_a3d);}return"";},_getParameterValue:function(_a3e,name){var _a3f="";if(_a3e){_a2c.some(_a3e,function(_a40,i){if(_a40.name===name){_a3f=_a40.value;return true;}});}return _a3f;},_updateProgressDialog:function(_a41){if(this.progressBar){if(_a41&&typeof _a41.progress==="number"){this.progressBar.update({progress:_a41.progress});}if(_a41&&typeof _a41.title==="string"){this.progressBar.update({title:_a41.title});}if(_a41&&typeof _a41.infoMessage==="string"){var _a42=dojo.byId("progressDialogMessageDiv");if(_a42){_a42.innerHTML=_a41.infoMessage;}}}},_showProgressDialog:function(_a43){var self=this;self._triggerId=_a43;var _a44=self._options;this.progressDialog=new dijit.Dialog({title:_a44.title,style:dojo.string.substitute("width: ${0}px;",[_a44.width]),closable:_a44.closable});var _a45=new dojo.create("div",{innerHTML:_a44.infoMessage,style:"text-align: left; margin-top: 5px; margin-bottom: 10px",id:"progressDialogMessageDiv"});this.progressDialog.containerNode.appendChild(_a45);var _a46=new dojo.create("div",{style:"text-align: left; margin-top: 5px; margin-bottom: 10px",id:"progressDialogLinkDiv","class":"display-none"});this.progressDialog.containerNode.appendChild(_a46);this.progressBar=new dijit.ProgressBar({style:"margin-top: 10px; margin-bottom: 20px",indeterminate:_a44.indeterminate,maximum:_a44.maximum,progress:0});this.progressDialog.containerNode.appendChild(this.progressBar.domNode);if(_a44.showDismissButton){var _a47=new dijit.form.Button({label:_a29.cancelButtonCaption,id:"progressDialogCancelButton",style:"margin-right: 3px;",dojoType:"dijit.form.Button",onClick:function(_a48){self._cancelJob();}});var _a49=new dijit.form.Button({label:_a29.closeButtonCaption,id:"progressDialogCloseButton",onClick:function(_a4a){self._closeProgressDialog();}});var _a4b=new dojo.create("div",{id:"progressDialogButtonDiv",style:"text-align: center;"});_a4b.appendChild(_a47.domNode);_a4b.appendChild(_a49.domNode);this.progressDialog.containerNode.appendChild(_a4b);}this.progressDialog.show();if(!this.progressDialog.helpIcon){lang.mixin(this.progressDialog,new _a2b());this.progressDialog.createHelpIconByTopic("jobsProgressDialog");}this._intervalId=setInterval(function(){Sage.Utility.Jobs._updateProgress();},this._pollIntervalInSeconds*1000);},_cancelJob:function(){clearInterval(this._intervalId);if(!this.jobService){this._jobService=Sage.Services.getService("JobService");}this._jobService.interruptExecution(this._options);this._closeProgressDialog();},_closeProgressDialog:function(){clearInterval(this._intervalId);if(this.progressDialog){this.progressDialog.hide();this.progressDialog.destroyDescendants();}},_updateProgress:function(){var self=this;var _a4c=Sage.Services.getService("JobService");var _a4d={triggerId:this._triggerId,success:function(_a4e){_a4d={progress:_a4e.progress};self._updateProgressDialog(_a4d);var _a4f=dijit.byId("progressDialogCancelButton");if(_a4e.status==="Complete"){clearInterval(self._intervalId);var _a50=dojo.byId("progressDialogMessageDiv");if(_a50){_a50.innerHTML=_a29.jobCompletedSuccessfully;}var _a51=dojo.byId("progressDialogLinkDiv");if(_a51&&_a4e.result){var _a52=_a4e.result.split("://");if(_a52.length>1){dojo.removeClass(_a51,"display-none");_a51.innerHTML=_a26.substitute('<a onclick="Sage.Utility.Jobs._closeProgressDialog();" href="javascript: Sage.Utility.File.Attachment.getAttachment(\'${1}\');" title="${0}">${0}</a>',[_a4e.trigger?_a4e.trigger.$descriptor:"",_a52[1]]);}}if(_a4f){_a4f.destroyRecursive();}if(self._options.showCompleteNotification){_a28.showInfo(_a29.jobCompletedSuccessfully,self._options.title);}if(self._options.complete){self._options.complete(_a4e);}dojo.publish("/job/execution/changed",[self]);}if(_a4e.status==="Error"){clearInterval(self._intervalId);_a28.closeProgressBar();if(self._options.showErrorNotification){var _a53=_a4e.statusText?self._getErrorMessage(_a4e):self._getUnexpectedErrorMessage();_a28.showError(_a53,self._options.title);}if(self._options.failure){self._options.failure(_a4e);}if(_a4f){_a4f.destroyRecursive();}}},failure:function(_a54){clearInterval(self._intervalId);_a28.closeProgressBar();if(self._options.showErrorNotification){var _a55=_a54.statusText?self._getErrorMessage(_a54):self._getUnexpectedErrorMessage();_a28.showError(_a55,self._options.title);}if(self._options.failure){self._options.failure(_a54);}var _a56=dijit.byId("progressDialogCancelButton");if(_a56){_a56.destroyRecursive();}}};_a4c.getExecution(_a4d);},refreshList:function(_a57){try{var _a58=dijit.byId("list");if(_a58){var _a59=Sage.Services.getService("ClientGroupContext");if(_a59){var ctx=_a59.getContext();if(_a57===ctx.CurrentGroupID){_a58.refreshView(_a57);}}}}catch(e){}},getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _a5a=svc.getContext();return _a5a.CurrentGroupID;}});return Sage.Utility.Jobs;});},"Sage/QuickForms/Design/Editors/nls/NonVisibleAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NonVisibleAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_a5b,lang){var nls={root:{titleText:"Advanced",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type."}};return lang.mixin(_a5b,nls);});},"Sage/MainView/IntegrationContract/nls/InvoiceRTDV":function(){define("Sage/MainView/IntegrationContract/nls/InvoiceRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_a5c,lang){var nls={root:{dialogCaption:"Invoice Details",loadingText:"loading...",lblInvoiceCaption:"Invoice:",lblNetTotalCaption:"Invoice Amount:",lblInvoiceDateCaption:"Invoice Date:",lblInvoiceDiscountAmountCaption:"Discount:",lblDueDateCaption:"Due Date:",lblInvoiceDiscountPercentCaption:"Discount Percent:",lblCustomerPOCaption:"Customer PO:",lblCarrierTotalPriceCaption:"Shipping:",lblSettlementDiscountPercentCaption:"Settlement Discount Percent:",lblTaxCaption:"Tax:",lblSettlementDiscountTermsCaption:"Payment Terms:",lblNotesCaption:"Comments:",lblOperatingCompanyCurrencyCaption:"Operating Company Currency:",lblCostTotalCaption:"Total Cost:",lblOperatingCompanyCurrencyExchangeRateDateCaption:"Exchange Rate Date:",lblProfitTotalCaption:"Profit Total:",lblOperatingCompanyCurrencyExchangeRateCaption:"Exchange Rate:",lblPriceListCaption:"Price List:",lblOCCurrencyCaption:"Operating Company Currency:",lblCurrencyCaption:"Currency:",lblSalesPersonCaption:"Sales Person:",detailsTabTitle:"Details",addressTabTitle:"Addresses",invoiceLinesTabTitle:"Invoice Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdInvoice_Name:"Invoice #",grdInvoice_Date:"Invoice Date",grdInvoice_Amount:"Invoice Amount",grdInvoice_PO:"Customer PO",grdInvoice_PaymentTerms:"Payment Terms",grdInvoice_NetTotal:"Net Total",grdInvoice_Tax:"Tax",grdAddress_Name:"Description",grdAddress_address1:"Address 1",grdAddress_address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Postal Code",grdItems_ActualPrice:"Actual Price",grdItems_ChargesTotal:"Charges Total",grdItems_Commodity:"Commodity",grdItems_CommodityDimension:"Dimension",grdItems_CommodityVariant:"Variant",grdItems_DiscountTotal:"Discount Total",grdItems_GrossTotal:"Gross Total",grdItems_InitialPrice:"Initial Price",grdItems_Line:"Line Number",grdItems_NetTotal:"Net Total",grdItems_Quantity:"Quantity",grdItems_Status:"Status",grdItems_TaxTotal:"Tax Total",grdItems_Type:"Line Type",grdItems_UnitOfMeasure:"Unit",grdPayments_Charges:"Charges",grdPayments_Currency:"Currency",grdPayments_Date:"Date",grdPayments_Discounts:"Discounts",grdPayments_GrossTotal:"Gross Total",grdPayments_Name:"Name",grdPayments_NetTotal:"Net Total",grdPayments_ProcessDate:"Date Processed",grdPayments_Status:"Status",grdPayments_Tax:"Taxes",grdPayments_TenderReference:"Tender Reference",grdPayments_TenderType:"Tender Type",grdPayments_Type:"Type",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_ExceptionReason:"Exception Reason",grdDeliveries_Method:"Method",grdDeliveries_Number:"Number",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_Status:"Status",grdDeliveries_Type:"Type",btnCloseCaption:"Close"}};return lang.mixin(_a5c,nls);});},"Sage/UI/ToggleButton":function(){require({cache:{"url:Sage/templates/ToggleButton.html":'<span class="dijit dijitReset dijitInline" role="presentation"\r\t><span class="dijitReset dijitInline dijitButtonNode"\r\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\r\t\t><span class="dijitReset dijitStretch dijitButtonContents"\r\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\t\t\trole="button" aria-labelledby="${id}_label"\r\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\r\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\t\t\t\tid="${id}_label"\r\t\t\t\tdata-dojo-attach-point="containerNode"\r\t\t\t></span\r\t\t></span\r\t></span\r\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\r/></span>\r'}});define("Sage/UI/ToggleButton",["dijit/form/Button","dijit/_Widget","dojo/text","dojo/text!../templates/ToggleButton.html","dojo/_base/declare"],function(_a5d,_a5e,text,_a5f,_a60){var _a61=_a60("Sage.UI.ToggleButton",_a5d,{templateString:_a5f,__setValueAttr:{node:"valueNode",type:"attribute",attribute:"value"},getValue:function(){return this.get("label");},setValue:function(val){this.set("label",val);},_onButtonClick:function(e){}});return _a61;});},"Sage/UI/nls/SDataLookup":function(){define("Sage/UI/nls/SDataLookup",["Sage/LanguageList","dojo/_base/lang"],function(_a62,lang){var nls={root:{closeText:"Close",cancelText:"Cancel",loadingText:"Loading...",noDataText:"No records returned"}};return lang.mixin(_a62,nls);});},"Sage/QuickForms/Design/nls/RowDesigner":function(){define("Sage/QuickForms/Design/nls/RowDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_a63,lang){var nls={root:{displayNameText:"Row"}};return lang.mixin(_a63,nls);});},"Sage/MainView/ActivityMgr/ActivityListPanelConfig":function(){define("Sage/MainView/ActivityMgr/ActivityListPanelConfig",["dojo/i18n","Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(i18n,_a64,_a65,_a66,_a67,_a68,_a69,_a6a,_a6b,_a6c,_a6d){var _a6e=_a6c("Sage.MainView.ActivityMgr.ActivityListPanelConfig",[_a64],{constructor:function(){this._nlsResources=_a6d;this._listId="Activities";this._resourceKind="userActivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_a6b.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);dojo.subscribe("/entity/activityAttendees/updated",this._onListRefresh);},_onListRefresh:function(_a6f){var _a70=Sage.Services.getService("ActivityService");_a70.refreshList("activities");},_getSelect:function(){var _a71=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status","Activity/Details/AttendeeCount"];return _a71;},_getInclude:function(){var _a72=["Activity","$descriptors"];return _a72;},_getSort:function(){var sort=[{attribute:"Activity.StartDate",descending:true}];return sort;},_getWhere:function(){var _a73=(this._currentUserId)?dojo.string.substitute('(User.Id eq "${0}") and (Status ne "asDeclned" ) and (Activity.Type ne "atLiterature" ) ',[this._currentUserId]):"";return _a73;},_getStructure:function(){var _a74="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _a75="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _a76="<img src='images/icons/Alarm_16x16.gif' title='"+this._nlsResources.colNameAlarm+"' alt='"+this._nlsResources.colNameAlarm+"' />";var _a77="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _a78=this._nlsResources.colNameType||"Activity Type";var _a79=this._nlsResources.colNameStartDate||"Start Date";var _a7a=this._nlsResources.colNameDuration||"Duration";var _a7b=this._nlsResources.colNameAccount||"Account/Company";var _a7c=this._nlsResources.colNameRegarding||"Regarding";var _a7d=this._nlsResources.colNamePriority||"Priority";var _a7e=this._nlsResources.colNameUserId||"Leader";var _a7f=this._nlsResources.colNameTypeName||"Type";var _a80=this._nlsResources.colNameContactName||"Name";var _a81=this._nlsResources.colNameAssociationCount||"Participant Count";var _a82=[{field:"Status",name:_a77,type:_a65.activityConfirmStatusCell,width:"20px"},{field:"Alarm",name:_a76,type:_a65.activityAlarmCell,width:"20px"},{field:"Activity.Attachment",name:_a74,type:_a65.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_a75,type:_a65.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_a78,type:_a65.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_a79,type:_a6a,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_a7a,type:_a65.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_a7f,type:_a65.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_a80,type:_a65.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_a7b,type:_a65.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_a7c,width:"100px"},{field:"Activity.Priority",name:_a7d,width:"40px"},{field:"Activity.Leader",name:_a7e,type:_a65.activityLeaderCell,width:"200px"},{field:"Activity.Details.AttendeeCount",name:_a81,width:"90px"}];return _a82;},_getSummaryConfig:function(){var _a83=new _a69({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _a84=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _a85=this._getFormatterScope();var _a86={structure:_a84,layout:"layout",store:_a83,rowHeight:170,rowsPerPage:10,formatterScope:_a85};return _a86;},_getDetailConfig:function(){var _a87=this._getFormatterScope();var _a88=this._getSummaryDetailRequestConfig();var _a89={resourceKind:this._resourceKind,requestConfiguration:_a88,templateLocation:"MainView/ActivityMgr/Templates/UserActivityDetailSummary.html"};return _a89;},_getSummaryListRequestConfig:function(){var _a8a={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _a8a;},_getSummaryDetailRequestConfig:function(){var _a8b={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","User","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber","Activity/Details/AttendeeCount"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _a8b;},_getFormatterScope:function(){var _a8c=this._getSummaryListRequestConfig();var _a8d=new _a67({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_a8c});return _a8d;},_getToolBars:function(){var _a8e={items:[]};return _a8e;},getTimelessProperty:function(_a8f){return"Activity.Timeless";}});return _a6e;});},"Sage/Utility/_LocalStorageMixin":function(){define("Sage/Utility/_LocalStorageMixin",["dojo/_base/declare","dojox/storage/LocalStorageProvider"],function(_a90,_a91){return _a90("Sage.Utility._LocalStorageMixin",null,{localStorageProvider:null,_setLocalStorageProviderAttr:function(_a92){this.localStorageProvider=_a92;},_getLocalStorageProviderAttr:function(){this._ensureProvider();return this.localStorageProvider;},_ensureProvider:function(){var _a93;if(!this.localStorageProvider){_a93=new _a91();_a93.initialize();this._setLocalStorageProviderAttr(_a93);}},saveToLocalStorage:function(key,_a94,ns){var _a95=this._getLocalStorageProviderAttr(),_a96=ns,_a97=key;if(!_a95.isValidKey(key)){_a97=this._stripBadValues(key);}if(!_a95.isValidNamespace(ns)){_a96=this._stripBadValues(ns);}_a95.put(_a97,_a94,function(_a98,key,_a99){if(_a98===_a95.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_a99);}},_a96);var mod=new Date(Date.now());_a95.put(_a97+"_modified_at",mod,function(_a9a,key,_a9b){if(_a9a===_a95.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_a9b);}},_a96);_a95.put("modified_at",mod,function(_a9c,key,_a9d){if(_a9c===_a95.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_a9d);}},_a96);},getFromLocalStorage:function(key,ns){var _a9e=this._getLocalStorageProviderAttr(),_a9f=ns,_aa0=key;if(!_a9e.isValidKey(key)){_aa0=this._stripBadValues(key);}if(!_a9e.isValidNamespace(ns)){_a9f=this._stripBadValues(ns);}return _a9e.get(_aa0,_a9f);},getKeys:function(ns){var _aa1=this._getLocalStorageProviderAttr();return _aa1.getKeys(ns);},clear:function(ns){var _aa2=this._getLocalStorageProviderAttr();if(ns){_aa2.clear(ns);}else{_aa2.clear();}},_stripBadValues:function(key){return key.replace(/[^A-Za-z0-9]/g,"-");}});});},"url:Sage/MainView/IntegrationContract/templates/SalesOrderRTDV.html":'[\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="{%= $.id%}_salesOrderDetailsDialog" title="{%= $.dialogCaption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:hideDetailsDialog">\',\r\n        \'<div dojoAttachPoint="loadingContainer">\',\r\n            \'<br />\',\r\n            \'<label class="wizardsectiontitle boldText padBottom" style="padding-left:20px">{%= $.loadingText %}</label>\',\r\n            \'<br />\',\r\n            \'<br />\',\r\n        \'</div>\',\r\n        \'<table cellspacing="5" dojoAttachPoint="salesOrderDetails" border="0" width="100%" class="display-none">\',\n            \'<div>\',\r\n                \'<tr>\',\n\t\t\t        \'<td>\',\r\n\t\t\t             \'<label for="SalesOrder_reference">{%= $.lblSalesOrderCaption %}</label>\',\r\n\t\t\t        \'</td>\',\r\n                    \'<td>\',\r\n                        \'<input type="text" id="{%= $.id%}_reference" name="reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesOrder_status">{%= $.lblStatusCaption %}</label>\',\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_status" name="status" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesOrder_grossTotal">{%= $.lblGrossTotalCaption %}</label>\',\r\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_grossTotal" name="grossTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</div>\',\r\n        \'</table>\',\r\n        \'<div style="height:370px;width:800px" dojoAttachPoint="tabContentDetails" class="display-none">\',\r\n            \'<div id="{%= $.id%}_salesOrderContainer" dojoAttachPoint="salesOrderContainer" dojoType="dijit.layout.TabContainer" style="width:100%;height:100%;">\',\r\n                \'<div id="{%= $.id%}_salesOrderContent" dojoAttachPoint="salesOrderContent" dojoType="dijit.layout.ContentPane" title="{%= $.detailsTabTitle %}" selected="true" style="width:100%;height:100%;">\',\r\n                    \'<div id="{%= $.id%}_divDetails">\',\r\n                        \'<table cellspacing="5">\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<tr>\',\r\n                                \'<td>\',\r\n                                    \'<label for="SalesOrder_OrderDate">{%= $.lblOrderDateCaption %}</label>\',\r\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_OrderDate" name="date" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<label for="SalesOrder_TaxTotal">{%= $.lblTaxTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_TaxTotal" name="taxTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\r\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesOrder_HoldStatus">{%= $.lblHoldStatusCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_HoldStatus" name="statusFlagText" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Currency">{%= $.lblCurrencyCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Currency" name="currency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Type">{%= $.lblTypeCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Type" name="type" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesOrder_CostTotal">{%= $.lblCostTotalCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_CostTotal" name="costTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_PONumber">{%= $.lblPONumberCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PONumber" name="customerReference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_ProfitTotal">{%= $.lblProfitTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ProfitTotal" name="profitTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Quotation">{%= $.lblQuotationCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Quotation" name="quotation.reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_InvoiceStatus">{%= $.lblInvoiceStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_InvoiceStatus" name="invoiceStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Contact">{%= $.lblContactCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Contact" name="buyerContact.fullName" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DeliveryDate">{%= $.lblDeliveryDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryDate" name="deliveryDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_PriceList">{%= $.lblPriceListCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PriceList" name="pricelist.name" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DueDate">{%= $.lblDueDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DueDate" name="dueDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_NetTotal">{%= $.lblNetTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_NetTotal" name="netTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Carrier">{%= $.lblCarrierCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Carrier" name="carrierCompany" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DiscountTotal">{%= $.lblDiscountTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DiscountTotal" name="discountTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_AllocationStatus">{%= $.lblAllocationStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_AllocationStatus" name="allocationStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DeliveryStatus">{%= $.lblDeliveryStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryStatus" name="deliveryStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_ChargesTotal">{%= $.lblChargesTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ChargesTotal" name="chargesTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                        \'</table>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soAddressesContent" dojoType="dijit.layout.ContentPane" title="{%= $.addressTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesOrderAddresses" dojoAttachPoint="sdgrdSalesOrderAddresses" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesOrderAddresses_Grid" dojoAttachPoint="sdgrdSalesOrderAddresses_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soSalesPersonsContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesPersonsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_SalesPersons" dojoAttachEvent="onShow:initSalesPersons">\',\r\n                    \'<div id="sdgrdSalesPersons" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesPersons_Grid" dojoAttachPoint="sdgrdSalesPersons_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soLinesContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesOrderLinesTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesOrderLines" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesOrderLines_Grid" dojoAttachPoint="sdgrdSalesOrderLines_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soPaymentsContent" dojoType="dijit.layout.ContentPane" title="{%= $.paymentsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Payments" dojoAttachEvent="onShow:initPayments">\',\r\n                    \'<div id="sdgrdSOPayments" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSOPayments_Grid" dojoAttachPoint="sdgrdSOPayments_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soDeliveriesContent" dojoType="dijit.layout.ContentPane" title="{%= $.deliveriesTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Deliveries" dojoAttachEvent="onShow:initDeliveries">\',\r\n                    \'<div id="sdgrdSODeliveries" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSODeliveries_Grid" dojoAttachPoint="sdgrdSODeliveries_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n        \'<div class="button-bar alignright">\',\r\n            \'<button dojoType="dijit.form.Button" id="{%= $.id%}_soBtnClose" type="button" dojoAttachEvent="onClick:hideDetailsDialog">{%= $.btnCloseCaption %}</button>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]',"Sage/UI/SummaryContents":function(){define("Sage/UI/SummaryContents",["dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/_base/declare"],function(_aa3,_aa4,lang,_aa5){var _aa6=_aa5("Sage.UI.SummaryContents",[_aa3,_aa4],{widgetsInTemplate:true,templateLocation:"",templateString:"",widgetTemplate:"",constructor:function(_aa7){var _aa8=["Sage"];var _aa9=_aa7.templateLocation.split("/");for(var i=0;i<_aa9.length-1;i++){_aa8.push(_aa9[i]);}var path="dojo/i18n!"+_aa8.join("/")+"/nls/"+_aa9[_aa9.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));this.templateString=dojo["cache"]("Sage",_aa7.templateLocation||this.templateLocation);var _aaa=eval(this.templateString);this.widgetTemplate=new Simplate(_aaa);}});return _aa6;});},"Sage/TaskPane/nls/OpportunityTasksTasklet":function(){define("Sage/TaskPane/nls/OpportunityTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_aab,lang){var nls={root:{updateOpportunitiesTitle:"Update Opportunities",opportunityStatisticsTitle:"Opportunity Statistics"}};return lang.mixin(_aab,nls);});},"Sage/UI/Filters/nls/CheckBoxFilter":function(){define("Sage/UI/Filters/nls/CheckBoxFilter",["Sage/LanguageList","dojo/_base/lang"],function(_aac,lang){var nls={root:{loadingText:"Loading...",moreText:"Edit Items",clearText:"Clear",emptyText:"(Blank)",nullText:"(Null)",ofText:"/"}};return lang.mixin(_aac,nls);});},"Sage/UI/Alarms/UnconfirmedAlarm":function(){define("Sage/UI/Alarms/UnconfirmedAlarm",["Sage/_Templated","dijit/_Widget","dijit/form/CheckBox","Sage/Utility/Activity","Sage/UI/Alarms/AlarmCountDown","Sage/Link","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n","dojo/i18n!./nls/ActivityAlarm","dojo/_base/declare"],function(_aad,_aae,_aaf,_ab0,_ab1,link,_ab2,i18n,_ab3,_ab4){var _ab5=_ab4("Sage.UI.Alarms.UnconfirmedAlarm",[_aae,_aad],{widgetsInTemplate:true,userNotification:null,selected:false,key:"",_tooltips:[],widgetTemplate:new Simplate(['<div class="alarm-item">','<table style="width:100%" dojoAttachPoint="_item" dojoAttachEvent="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">','<col width="50px" />','<col width="50%" />','<col width="50%" />',"<tr>",'{% var imageClass = Sage.Utility.Activity.getActivityImageClass($.userNotification.Activity.Type, "medium"); %}','<td class="alarm-icon">','<div class="dijitIcon dijitMenuItemIcon Global_Images icon24x24 {%= imageClass %}" title="{%= $.cleanText($.userNotification.Activity.Description) %}"></div>','<input type="checkbox" data-dojo-type="dijit.form.CheckBox" size="30px" dojoAttachPoint="_checkbox" />',"</td>",'<td class="alarm-content">',"{% var desc = $.userNotification.Activity.Description;if (!desc) { desc = Sage.Utility.Activity.getActivityTypeName($.userNotification.Activity.Type); } %}",'<div class="alarm-description">','{% if ($.userNotification.Activity.Recurring) { %}<div class="Global_Images icon16x16 icon_recurring" title="{%= $.recurringText %}" > </div>&nbsp;&nbsp;{% } %}',"<a href=\"javascript:Sage.Link.editConfirmation('{%= $.userNotification.$key %}')\">{%= desc %}</a>","</div>","<div>{%= Sage.Utility.Activity.formatActivityStartDate($.userNotification.Activity.StartDate) %}</div>","<div>{%= $.leaderText %}: {%= $.userNotification.Activity.Leader.$descriptor %}</div>",'{% if (($.userNotification.Activity.LeadId) && ($.userNotification.Activity.LeadId.trim() !== "")) { %}','<div id="{%= $.userNotification.Activity.$key %}_lead" dojoAttachPoint="_leadnode">','{%= $.leadText %}: <a href="Lead.aspx?entityid={%= $.userNotification.Activity.LeadId %}">{%= $.userNotification.Activity.LeadName %}</a>',"</div>",'{% if ($.userNotification.Activity.AccountName !== "") { %}',"<div>{%= $.companyText %}: {%= $.userNotification.Activity.AccountName %}</div>","{% } %}","{% } else { %}",'{% if ($.userNotification.Activity.ContactName !== "") { %}','<div id="{%= $.userNotification.Activity.$key %}_con" dojoAttachPoint="_connode">','{%= $.contactText %}: <a href="Contact.aspx?entityid={%= $.userNotification.Activity.ContactId %}">{%= $.userNotification.Activity.ContactName %}</a>',"</div>","{% } %}",'{% if ($.userNotification.Activity.AccountName !== "") { %}','<div id="{%= $.userNotification.Activity.$key %}_acc" dojoAttachPoint="_accnode">','{%= $.accountText %}: <a href="Account.aspx?entityid={%= $.userNotification.Activity.AcountId %}">{%= $.userNotification.Activity.AccountName %}</a>',"</div>","{% } %}","{% } %}",'</td><td class="alarm-content">',"{% if ($.userNotification.Activity.Location) { %}",'<div id="{%= $.userNotification.Activity.$key %}_Location" dojoAttachPoint="_location">',"{%= $.locationText %}: {%= $.userNotification.Activity.Location %}&nbsp;","</div>","{% } %}","{% if ($.userNotification.Activity.OpportunityName) { %}",'<div id="{%= $.userNotification.Activity.$key %}_opp" dojoAttachPoint="_oppnode">','{%= $.opportunityText %}: <a href="Opportunity.aspx?entityid={%= $.userNotification.Activity.OpportunityId %}">{%= $.userNotification.Activity.OpportunityName %}</a>',"</div>","{% } %}","{% if ($.userNotification.Activity.TicketNumber) { %}",'<div id="{%= $.userNotification.Activity.$key %}_tick" dojoAttachPoint="_ticknode">','{%= $.ticketText %}: <a href="Ticket.aspx?entityid={%= $.userNotification.Activity.TicketId %}">{%= $.userNotification.Activity.TicketNumber %}</a>',"</div>","{% } %}","</td>","</tr>","</table>","</div>"]),constructor:function(){dojo.mixin(this,_ab3);},postCreate:function(){this.inherited(arguments);this._checkbox.set("checked",this.selected);this._setupTooltips();},_setuserNotificationAttr:function(un){this.userNotification=un;this.key=un["$key"];},_setupTooltips:function(){if(this.userNotification.Activity.AccountName!==""){this._tooltips.push(new _ab2({connectId:this._accnode,position:["below"],entityName:"accounts",entityId:this.userNotification.Activity.AccountId}));}if(this.userNotification.Activity.ContactName!==""){this._tooltips.push(new _ab2({connectId:this._connode,position:["below"],entityName:"contacts",entityId:this.userNotification.Activity.ContactId}));}if(this.userNotification.Activity.LeadName!==""){this._tooltips.push(new _ab2({connectId:this._leadnode,position:["below"],entityName:"leads",entityId:this.userNotification.Activity.LeadId}));}},closeTooltips:function(){for(var i=0;i<this._tooltips.length;i++){this._tooltips[i].close();}},cleanText:function(str){if(!str){return"";}var _ab6=new RegExp('[/:"*?<>|\r\n\'"`]+',"g");return str.replace(_ab6,"");},_onHover:function(){dojo.addClass(this.domNode,"alarm-item-hover");},_onUnhover:function(){dojo.removeClass(this.domNode,"alarm-item-hover");},_onClick:function(){this.selected=!this.selected;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_setSelectedAttr:function(_ab7){this.selected=_ab7;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_getSelectedAttr:function(){return this.selected;},_setSelectedStyle:function(){if(this.selected){dojo.addClass(this.domNode,"alarm-item-selected");}else{dojo.removeClass(this.domNode,"alarm-item-selected");}}});return _ab5;});},"Sage/Utility/File/nls/LibraryDocument":function(){define("Sage/Utility/File/nls/LibraryDocument",["Sage/LanguageList","dojo/_base/lang"],function(_ab8,lang){var nls={root:{failureNumber:"Failure #${0}: ",percentComplete:"Uploading, please wait...",uploadError:"There was an error attempting to upload one or more files (failed: ${0}; succeeded: ${1}).",invalidContext:"The file(s) cannot be uploaded outside of the Sales Library.",unknownError:"An unknown error occurred uploading a file."}};return lang.mixin(_ab8,nls);});},"Sage/UI/Controls/EntityInfoToolTip":function(){define("Sage/UI/Controls/EntityInfoToolTip",["dijit/Tooltip","Sage/Data/SingleEntrySDataStore","Sage/Utility","dojo/string","dojo/html","dojo/i18n!./nls/EntityInfoToolTip","dojo/_base/lang","dojo/_base/declare"],function(_ab9,_aba,util,_abb,_abc,_abd,lang,_abe){var _abf=_abe("Sage.UI.Controls.EntityInfoToolTip",_ab9,{entityName:"",entityId:"",dataProps:[],include:[],_store:null,_storeOptions:null,constructor:function(_ac0){lang.mixin(this,_abd);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.label="Loading...";},open:function(_ac1){if(!this.entityId||this.entityId.trim()===""){this.set("label",this.noInfoText);}else{if(!this._store){if(this.dataProps.length<1){this.dataProps=this._findPredefined(this.entityName);}if(this.dataProps.length<1){this.set("label",this.errorText);return;}this._setupStore();this._fetchData(_ac1);}}this.inherited(arguments);},_setDataPropsAttr:function(_ac2){this._store=false;this.set("label",this.loadingText);this.dataProps=_ac2;},_getDataPropsAttr:function(){return this.dataProps;},_setEntityIdAttr:function(_ac3){this._store=false;this.set("label",(_ac3==="")?this.noInfoText:this.loadingText);this.entityId=_ac3;},_getEntityIdAttr:function(){return this.entityId;},_setupStore:function(){var _ac4=[],sel="",_ac5=[],_ac6={};for(var i=0;i<this.dataProps.length;i++){sel=this.dataProps[i].property;if(sel.indexOf(".")>0){var _ac7=sel.split("."),inc="";for(var p=0;p<_ac7.length-1;p++){inc+=_ac7[p];if(!_ac6[inc]){_ac5.push(inc);_ac6[inc]=true;}inc+="/";}sel=sel.replace(/\./g,"/");}_ac4.push(sel);}var self=this;var _ac8={include:dojo.isArray(this.include)?this.include:[],select:_ac4,resourceKind:self.entityName};if(_ac5.length>0){_ac8["include"]=_ac5;}var _ac9=new _aba(_ac8);self._storeOptions=_ac8;self._store=_ac9;},_fetchData:function(_aca){var t=_aca;this._store.fetch({predicate:'"'+this.entityId+'"',onComplete:function(data){this.displayResults(data,t);},onError:function(e){this.set("label",this.errorText);},scope:this});},displayResults:function(data,_acb){var html='<table class="propertyTip">';for(var i=0;i<this.dataProps.length;i++){var dp=this.dataProps[i];var val=util.getValue(data,dp.property);if(val){html+=_abb.substitute('<tr><td class="caption">${0}</td><td class="value">${1}</td></tr>',[dp.label,val]);}}html+="</table>";this.set("label",html);this.close();this.open(_acb);},_findPredefined:function(_acc){switch(_acc){case"accounts":return[{label:this.mainText||"Main Phone:",property:"MainPhone"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.tollFreeText||"Toll Free",property:"TollFree"},{label:this.urlText||"Web URL",property:"WebAddress"}];case"contacts":return[{label:this.workText||"Work:",property:"WorkPhone"},{label:this.mobileText||"Mobile:",property:"Mobile"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.emailText||"Email:",property:"Email"}];case"leads":return[{label:this.workText||"Work:",property:"WorkPhone"},{label:this.mobileText||"Mobile:",property:"Mobile"},{label:this.faxText||"Fax:",property:"Fax"},{label:this.emailText||"Email:",property:"Email"}];case"tickets":return[{label:this.contactNameText||"Contact:",property:"Contact.Name"},{label:this.phoneText||"Phone:",property:"Contact.WorkPhone"},{label:this.emailText||"Email:",property:"Contact.Email"}];case"opportunities":return[{label:this.accountText||"Account:",property:"Account.AccountName"},{label:this.mainText||"Main Phone:",property:"Account.MainPhone"}];}return[];}});return _abf;});},"Sage/QuickForms/Design/Editors/TextBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/TextBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/TextBoxBasicPropertyEditor"],function(_acd,lang,_ace,_acf,_ad0,_ad1,_ad2,_ad3,_ad4,_ad5,_ad6,_ad7){return _acd("Sage.QuickForms.Design.Editors.TextBoxBasicPropertyEditor",[_acf,_ad5,_ad4],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.linesTooltipText %}">',"<label>{%= $.linesText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_lines" data-dojo-props="constraints:{min:0,max:1000,places:0}" data-dojo-attach-event="onChange:_onLinesChange"></div>',"</div>",'<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_lines:null,_isReadOnly:null,_tooltip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",linesText:"Lines:",linesTooltipText:"Number of lines of text displayed.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_ad7);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._lines.set("value",this._designer.get("lines"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));var D=Sage.QuickForms.Design,_ad8=this._designer;if(_ad8 instanceof D.PhoneControlDesigner||_ad8 instanceof D.UrlControlDesigner||_ad8 instanceof D.EmailControlDesigner){_ace.set(this._lines.domNode.parentNode,"display","none");}},_onCaptionChange:function(_ad9){if(this.isSuspended()){return;}this._designer.set("caption",_ad9);},_onCaptionAlignmentChange:function(_ada){if(this.isSuspended()){return;}this._designer.set("captionAlignment",_ada);},_onLinesChange:function(_adb){if(this.isSuspended()||!this._lines.isValid()){return;}this._designer.set("lines",_adb);},_onIsReadOnlyChange:function(_adc){if(this.isSuspended()){return;}this._designer.set("isReadOnly",_adc);},_onToolTipChange:function(_add){if(this.isSuspended()){return;}this._designer.set("toolTip",_add);}});});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/SpeedSearchLookup":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/SpeedSearchLookup",["Sage/LanguageList","dojo/_base/lang"],function(_ade,lang){var nls={root:{dialogTitle:"Lookup Participants",okText:"Add Selected",cancelText:"Close",noDataText:"No records match the selection criteria",srchBtnCaption:"Search",colName:"Name",colType:"Type",colAccount:"Company/Account",colTitle:"Title",colEmail:"Email",colWorkPhone:"Work Phone"}};return lang.mixin(_ade,nls);});},"Sage/MainView/ReportMgr/Crystal/MultiselectStringParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectStringParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint="divMultipleValues" style="padding-top: 5px;">\r\n            <center>\r\n                <table cellspacing="10">\r\n                    <tr>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msAvailableValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAdd" dojoAttachEvent="onClick:_cmdAdd_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdRemove" dojoAttachEvent="onClick:_cmdRemove_OnClick" >{%= Sage.Utility.htmlEncode("<") %}</div>\r\n                        </td>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msSelectedValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px; padding-left: 10px">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <input data-dojo-type="dijit.form.TextBox" type="text" dojoAttachPoint="txtCustomValue" style="width:150px" />\r\n            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAddCustom" dojoAttachEvent="onClick:_cmdAddCustom_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/MultiselectStringParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/MultiselectStringParameterEditor","dojo/text!./templates/MultiselectStringParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","dijit/form/MultiSelect","dijit/form/TextBox","Sage/Utility"],function(_adf,_ae0,_ae1,_ae2,_ae3,_ae4,_ae5,_ae6,_ae7,_ae8,_ae9){var _aea=_ae9.makeTemplateFromString(_ae2);var _aeb=_adf("Sage.MainView.ReportMgr.Crystal.MultiselectStringParameterEditor",[_ae3],{_nlsResources:_ae1,widgetTemplate:_aea,value:null,_setValueAttr:function(_aec){this._set("value",_aec);},_getValueAttr:function(){var self=this;this._promptParameter.currentValues=[];var _aed=null;_ae0.forEach(this.msSelectedValuesWidget.domNode,function(_aee,i){var _aef=_aee.value;if(!isNaN(_aef)&&_aef!==""){_aed=self._getOriginalParameterValue(_aef);self._promptParameter.currentValues.push(_aed);}else{var _af0=_aee.innerHTML;_aed=self._getParameterValue(_af0);self._promptParameter.currentValues.push(_aed);}});return this._promptParameter;},constructor:function(_af1){},startup:function(){this.inherited(arguments);_ae4.setDomNodeVisible(this.divValidationMessage,false);_ae4.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);this._initializeValuesMultiselect();this._initializeMessages();},isValid:function(){var msg="";var _af2=true;if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.msSelectedValuesWidget.domNode.length===0){msg=_ae1.txtPleaseSpecifyValue;_af2=false;}}this._showValidationMessage(msg);return _af2;},_cmdAddCustom_OnClick:function(){var _af3=this.txtCustomValue.get("value");if(_af3&&_af3!==""){if(this._valueWithinMinMaxLength(_af3)){var _af4=dojo.doc.createElement("option");_af4.innerHTML=_af3;_af4.value=_af3;this.msSelectedValuesWidget.containerNode.appendChild(_af4);this._showValidationMessage("");}else{this._showValidationMessage(this._getMinMaxLengthValidationMessage(_af3));}}else{this._showValidationMessage(_ae1.txtPleaseSpecifyValue);}},_cmdAdd_OnClick:function(){this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);},_cmdRemove_OnClick:function(){_ae0.forEach(this.msSelectedValuesWidget.domNode,function(_af5,i){if(_af5.selected&&(isNaN(_af5.value)||_af5.value==="")){dojo.destroy(_af5);}});this.msAvailableValuesWidget.addSelected(this.msSelectedValuesWidget);},_initializeMessages:function(){var _af6=null;if(this._minimum&&!this._maximum){_af6=dojo.replace(_ae1.txtTheMinimumLengthForThisField,[this._minimum]);}if(!this._minimum&&this._maximum){_af6=dojo.replace(_ae1.txtTheMaximumLengthForThisField,[this._maximum]);}if(this._minimum&&this._maximum){_af6=dojo.replace(_ae1.txtTheValueMustBeBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_af6);_ae4.setDomNodeVisible(this.divMinMaxMessage,(_af6!==null));},_valueWithinMinMaxLength:function(_af7){if(this._minimum&&(_af7.length<this._minimum)){return false;}if(this._maximum&&(_af7.length>this._maximum)){return false;}return true;},_getMinMaxLengthValidationMessage:function(_af8){var _af9="";if(this._minimum&&(_af8.length<this._minimum)){_af9=dojo.replace(_ae1.txtTheMinimumLengthForThisField,[this._minimum]);return _af9;}if(this._maximum&&(_af8.length>this._maximum)){_af9=dojo.replace(_ae1.txtTheMaximumLengthForThisField,[this._maximum]);return _af9;}return"";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_ae4.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getParameterValue:function(_afa){var _afb={className:"CrystalReports.ParameterFieldDiscreteValue",computedText:'"'+_afa+'"',description:_afa,displayText:_afa,discreteValue:{actualValue:_afa,actualValueType:"String",value:_afa,valueType:"String"},rangeValue:{beginValue:null,beginValueType:"Empty",endValue:null,endValueType:"Empty",lowerBoundType:"NoBound",upperBoundType:"NoBound"}};return _afb;},_initializeValuesMultiselect:function(){var self=this;_ae0.forEach(this._values,function(_afc,i){var _afd=dojo.doc.createElement("option");_afd.innerHTML=_afc.description;_afd.value=_afc._id;_ae0.some(self._initialIds,function(_afe,i){if(_afc._id===_afe){_afd.selected=true;return true;}});self.msAvailableValues.appendChild(_afd);});this.msAvailableValuesWidget=new dijit.form.MultiSelect({},this.msAvailableValues);dojo.setStyle(this.msAvailableValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget=new dijit.form.MultiSelect({},this.msSelectedValues);dojo.setStyle(this.msSelectedValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);_ae0.forEach(this._initialCustomValues,function(_aff,i){var _b00=_aff.value;var _b01=dojo.doc.createElement("option");_b01.innerHTML=_b00;_b01.value=_b00;_b01.selected=true;self.msSelectedValuesWidget.containerNode.appendChild(_b01);});}});return _aeb;});},"Sage/QuickForms/Design/Editors/DataGridAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DataGridAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DataGridAdvancedPropertyEditor"],function(_b02,lang,_b03,_b04,_b05,_b06,_b07,_b08,_b09,_b0a,_b0b){return _b02("Sage.QuickForms.Design.Editors.DataGridAdvancedPropertyEditor",[_b03,_b09,_b08],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.renderVerticalTooltipText %}">',"<label>{%= $.renderVerticalText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_renderVertical" data-dojo-attach-event="onChange:_onRenderVerticalChange"></div>',"</div>",'<div class="editor-field" style="display:none;" title="{%= $.showSortIconTooltipText %}">',"<label>{%= $.showSortIconText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_showSortIcon" data-dojo-attach-event="onChange:_onShowSortIconChange"></div>',"</div>",'<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.emptyTableRowTooltipText %}">',"<label>{%= $.emptyTableRowText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_emptyTableRowString" data-dojo-attach-event="onChange:_onEmptyTableRowStringChange"></div>',"</div>",'<div class="editor-field" title="{%= $.expandableRowsTooltipText %}">',"<label>{%= $.expandableRowsText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_expandableRows" data-dojo-attach-event="onChange:_onExpandableRowsChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.dataSourceTooltipText %}">',"<label>{%= $.dataSourceText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_dataSource" data-dojo-attach-event="onChange:_onDataSourceChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlId:null,_controlType:null,_dataSource:null,_emptyTableRowString:null,_expandableRows:null,_renderVertical:null,_showSortIcon:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",emptyTableRowText:"Empty Table Row Text:",emptyTableRowTooltipText:"Text to display if grid shows no data.",expandableRowsText:"Expandable Rows:",expandableRowsTooltipText:"Allows user to expand grid rows to show more text.",renderVerticalText:"Render Vertically:",renderVerticalTooltipText:"Show grid rows as columns.",showSortIconText:"Show Sort Icon:",showSortIconTooltipText:"Show sort icon on columns that are sortable.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",constructor:function(){lang.mixin(this,_b0b);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._dataSource.set("value",this._designer.get("dataSource"));this._emptyTableRowString.set("value",this._designer.get("emptyTableRowText"));this._expandableRows.set("value",this._designer.get("expandableRows"));this._renderVertical.set("value",this._designer.get("renderVertical"));this._showSortIcon.set("value",this._designer.get("showSortIcon"));this._visible.set("value",this._designer.get("visible"));},_onControlTypeChange:function(_b0c){},_onControlIdChange:function(_b0d){},_onDataSourceChange:function(_b0e){},_onEmptyTableRowStringChange:function(_b0f){if(this.isSuspended()){return;}this._designer.set("emptyTableRowText",_b0f);},_onExpandableRowsChange:function(_b10){if(this.isSuspended()){return;}this._designer.set("expandableRows",_b10);},_onRenderVerticalChange:function(_b11){if(this.isSuspended()){return;}this._designer.set("renderVertical",_b11);},_onShowSortIconChange:function(_b12){if(this.isSuspended()){return;}this._designer.set("showSortIcon",_b12);},_onVisibleChange:function(_b13){if(this.isSuspended()){return;}this._designer.set("visible",_b13);}});});},"Sage/UI/Alarms/AlertPane":function(){define("Sage/UI/Alarms/AlertPane",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dojo/_base/declare"],function(_b14,_b15,_b16,_b17){var _b18=_b17("Sage.UI.Alarms.AlertPane",[_b16,_b14,_b15],{widgetsInTemplate:true,constructor:function(){this.alertItems=[];this.alertWidgets=[];this.store=null;this._drawn=false;this.selectedAlerts={};},onShow:function(){},_hasDifferentItems:function(_b19){if(_b19.length!==this.alertWidgets.length){return true;}if(this.alertItems.length===_b19.length){for(var i=0;i<_b19.length;i++){if(this.alertItems[i]["$key"]!==_b19[i]["$key"]){return true;}}return false;}return true;},_setAlertItemsAttr:function(_b1a,_b1b){if(!this._hasDifferentItems(_b1a)){return;}this.alertItems=_b1a;this._drawn=false;this.selectedAlerts={};var len=this.alertWidgets.length;for(var i=0;i<len;i++){var wid=this.alertWidgets.pop();if(wid.selected){this.selectedAlerts[wid.key]=1;}wid.destroy();}if(len===0&&this.alertItems.length>0){this.selectedAlerts[this.alertItems[0]["$key"]]=1;}this._drawAlerts();this._alertChanged(this.alertWidgets.length);},_ensureOneSelected:function(){var len=this.alertWidgets.length-1;for(var i=0;i<len;i++){if(this.alertWidgets[i].get("selected")){return;}}if(this.alertWidgets.length>0){this.alertWidgets[0].set("selected",true);}},_drawAlerts:function(){if(this._drawn){return;}dojo.html.set(this._alertContents,"");if(this.alertItems){for(var i=0;i<this.alertItems.length;i++){this._addAlert(this.alertItems[i]);}this._drawn=true;}},getUnhandledAlertCount:function(){return this.alertWidgets.length;},_addAlert:function(_b1c){},closeTooltips:function(){for(var i=0;i<this.alertWidgets.length;i++){this.alertWidgets[i].closeTooltips();}},_alertChanged:function(_b1d){this._ensureOneSelected();this.onAlertChanged(_b1d);},onAlertChanged:function(_b1e){}});return _b18;});},"Sage/TaskPane/SecuredActionTasklet":function(){define("Sage/TaskPane/SecuredActionTasklet",["dojo/i18n!./nls/SecuredActionTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Utility","dojo/_base/declare"],function(_b1f,_b20,_b21,_b22,_b23){var _b24=_b23("Sage.TaskPane.SecuredActionTasklet",[_b20,_b21],{addToRoleTitle:"Add To Role",taskItems:[],constructor:function(){dojo.mixin(this,_b1f);this.taskItems=[{taskId:"AddToRole",type:"Link",displayName:this.addToRoleTitle,clientAction:"securedActionTaskletActions.addSecuredActionToRole();",securedAction:"Entities/SecuredAction/Add"}];},addSecuredActionToRole:function(){if(_b22.getModeId()==="detail"){dojo.byId([this.clientId,"_tskAddSecuredActionsToRole"].join("")).click();}else{this.prepareSelectedRecords(this.actionItem(this));}},actionItem:function(self){return function(){dojo.byId([self.clientId,"_tskAddSecuredActionsToRole"].join("")).click();};}});return _b24;});},"Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter",["dojo/_base/declare","dojo/i18n!./nls/CrystalReportsFormatter","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/date/locale","dojo/string"],function(_b25,_b26,_b27,_b28,_b29,_b2a){Sage.namespace("Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter");dojo.mixin(Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter,{formatConditionType:function(_b2b){return _b27.getReportConditionTypeCaption(_b2b);},formatOperator:function(_b2c){return _b27.getReportConditionOperatorCaption(_b2c);},formatEditCondition:function(_b2d,_b2e,cell){return"<a href=javascript:dijit.byId('dlgCrystalReportConditions')._editCondition("+_b2e+")>"+_b26.txtEdit+"</a>";},formatDeleteCondition:function(item){return"<a href=javascript:dijit.byId('dlgCrystalReportConditions')._deleteCondition("+item._id+")>"+_b26.txtDelete+"</a>";},formatConditionValue:function(item){var _b2f=null;var _b30=null;var _b31=null;switch(String(item.conditionType)){case String(_b27.ReportConditionType.Group):var _b32=_b28.getGroup(item.tag);var _b33=_b32?_b32.$descriptor:"";return _b33;case String(_b27.ReportConditionType.DateRange):if(item.operator===_b27.ReportConditionOperator.IsInTheRange){_b30=_b29.format(item.fromRange,{selector:"datetime",fullYear:true});_b31=_b29.format(item.toRange,{selector:"datetime",fullYear:true});_b2f=_b2a.substitute(_b26.txtRangeValue,[_b30,_b31]);return _b2f;}else{return item.value;}break;case String(_b27.ReportConditionType.User):return item.value;case String(_b27.ReportConditionType.Query):var _b34=item.operator;switch(item.dataType){case _b27.FieldDataTypes.Numeric:if(_b34==_b27.ReportConditionOperator.IsInTheRange){_b2f=_b2a.substitute(_b26.txtRangeValue,[item.fromRange,item.toRange]);return _b2f;}else{return item.value;}break;case _b27.FieldDataTypes.DateTime:if(_b34==_b27.ReportConditionOperator.IsInTheRange){_b30=_b29.format(item.fromRange,{selector:"datetime",fullYear:true});_b31=_b29.format(item.toRange,{selector:"datetime",fullYear:true});_b2f=_b2a.substitute(_b26.txtRangeValue,[_b30,_b31]);return _b2f;}else{var _b35=_b29.format(item.value,{selector:"datetime",fullYear:true});return _b35;}break;case _b27.FieldDataTypes.String:return item.value;default:console.error("Unsupported field type: "+item.dataType);}break;default:console.error("Unsupported condition type: "+item.conditionType);}}});return Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter;});},"Sage/QuickForms/Design/DesignPanel":function(){define("Sage/QuickForms/Design/DesignPanel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/string","dojo/topic","dojo/dom-construct","dojo/dom-class","dojo/dom-attr","dijit/layout/BorderContainer","dijit/layout/ContentPane","dijit/form/Select","Sage/Services/_ServiceMixin","Sage/_Templated","Sage/Utility","Sage/UI/ImageButton","./Help","./DesignSurface","./FormDesigner","./NonVisibleControlContainer","./PropertyEditorContainer","dojo/i18n!./nls/DesignPanel"],function(_b36,_b37,lang,json,_b38,_b39,_b3a,_b3b,_b3c,_b3d,_b3e,_b3f,_b40,_b41,_b42,_b43,Help,_b44,_b45,_b46,_b47,_b48){return _b36("Sage.QuickForms.Design.DesignPanel",[_b3d,_b40,_b41],{serviceMap:{"dataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:true,contentTemplate:new Simplate(['<div class="design-panel-toolbar" data-dojo-type="dijit.Toolbar" data-dojo-props="region: \'top\', align: \'right\', splitter: false">','<span class="design-panel-culture-label">{%: $.cultureText %}</span><div class="design-panel-culture" data-dojo-type="dijit.form.Select" data-dojo-attach-point="_cultureSelect" data-dojo-attach-event="onChange:_onCultureChange"></div>','<div data-dojo-type="Sage.UI.ImageButton" icon="images/icons/Save_16x16.gif" tooltip="{%: $.saveText %}" data-dojo-attach-point="saveIcon" data-dojo-attach-event="onClick:save" class="design-panel-save"></div>','<div data-dojo-type="Sage.UI.ImageButton" icon="images/icons/Help_16x16.png" tooltip="{%: $.helpText %}" data-dojo-attach-event="onClick:help" class="design-panel-help"></div>',"</div>",'<div class="design-panel-surface" data-dojo-type="Sage.QuickForms.Design.DesignSurface"  data-dojo-attach-point="designSurface" data-dojo-props="region: \'center\'"></div>','<div class="design-panel-hidden" data-dojo-type="Sage.QuickForms.Design.NonVisibleControlContainer" data-dojo-attach-point="nonVisibleContainer" data-dojo-props="region: \'bottom\', layoutPriority:2, splitter: true"></div>','<div class="design-panel-editor" data-dojo-type="Sage.QuickForms.Design.PropertyEditorContainer" data-dojo-attach-point="editorContainer" data-dojo-props="region: \'bottom\', layoutPriority:1, splitter: true"></div>']),loadingTemplate:new Simplate(['<div class="design-panel-loading-indicator"><span>{%: $.loadingText %}</span></div>']),savingTemplate:new Simplate(['<div class="design-panel-saving-indicator"><span>{%: $.savingText %}</span></div>']),_designGroup:null,_designGroupTopics:null,_cultureSelect:null,_previousName:null,_previousEntry:null,currentCulture:"iv",designSurface:null,nonVisibleContainer:null,editorContainer:null,form:null,formDirty:false,helpTopicName:"Working_with_forms",helpSubSystemName:"WebForms",designGroup:"default",_saveMode:false,cultureList:["iv","de-DE","fr-FR","it-IT","ru-RU"],cultureListText:{"iv":"[invariant]","de_DE":"de-DE","fr_FR":"fr-FR","it_IT":"it-IT","ru_RU":"ru-RU"},helpText:"Help",saveText:"Save",cultureText:"Culture:",loadingText:"Loading...",savingText:"Saving...",saveErrorText:"An error occurred saving the form.",readErrorText:"Could not load the requested form.",cultureReloadConfirmText:"You have unsaved changes.  Are you sure you want to reload the form with a different culture?",constructor:function(){lang.mixin(this,_b48);},_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(_b49){if(this._designGroupTopics){_b37.forEach(this._designGroupTopics,function(_b4a){this.unsubscribe(_b4a);},this);}this._designGroup=_b49;this._designGroupTopics=[this.subscribe("/quickforms/design/designerModified",this._onDesignerModified)];},_ignoreModifiedOn:{"focused":true},_onDesignerModified:function(_b4b,name,_b4c,_b4d,_b4e){if(!this._ignoreModifiedOn[name]&&_b4b.get("form")===this.form){this.formDirty=true;}},buildRendering:function(){this.inherited(arguments);_b3b.add(this.domNode,"design-panel");_b3a.place(this.loadingTemplate.apply(this),this.designSurface.domNode);_b3a.place(this.savingTemplate.apply(this),this.designSurface.domNode);},startup:function(){this.inherited(arguments);_b37.forEach(this.cultureList,function(item){this._cultureSelect.addOption({value:item,label:this.cultureListText[item.replace("-","_")]||item,selected:item==this.currentCulture});},this);},_onCultureChange:function(_b4f){if(this.currentCulture===_b4f){return;}if(this.form&&this.formDirty){if(!confirm(this.cultureReloadConfirmText)){this._cultureSelect._onChangeActive=false;this._cultureSelect.set("value",this.currentCulture);this._cultureSelect._onChangeActive=true;return;}}this.currentCulture=_b4f;if(this._previousName){this.read(this._previousName);}else{if(this._previousEntry){this.load(this._previousEntry);}}},help:function(){Help.open(this.helpTopicName,this.helpSubSystemName);},save:function(){if(this._saveMode){return;}this._saveMode=true;var _b50=new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("forms").setResourceSelector(_b38.substitute('"${0}"',[this.form.get("name")])).setQueryArg("language",this.currentCulture!="iv"?this.currentCulture:"");var _b51=lang.clone(this.form.get("entry"));_b51["$etag"]=_b51["etag"];delete _b51["etag"];delete _b51["ifMatch"];delete _b51["httpStatus"];this._showSavingIndicator();_b50.update(_b51,{success:lang.hitch(this,this._onSaveFormSuccess,this.form),failure:lang.hitch(this,this._onSaveFormFailure,this.form)});},_onSaveFormSuccess:function(form,_b52){this._hideSavingIndicator();this._saveMode=false;form.set("etag",_b52["etag"]);this.formDirty=false;},_onSaveFormFailure:function(form,xhr){this._hideSavingIndicator();this._saveMode=false;alert(this.saveErrorText);},_showLoadingIndicator:function(){_b3b.add(this.domNode,"design-panel-loading");},_showSavingIndicator:function(){_b3c.set(this.saveIcon,"disabled",true);_b3b.add(this.domNode,"design-panel-saving");},_hideLoadingIndicator:function(){_b3b.remove(this.domNode,"design-panel-loading");},_hideSavingIndicator:function(){_b3b.remove(this.domNode,"design-panel-saving");_b3c.set(this.saveIcon,"disabled",false);},read:function(form){this.clear();this._previousName=form;this._previousEntry=null;var _b53=new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("forms").setResourceSelector(_b38.substitute('"${0}"',[form])).setQueryArg("language",this.currentCulture!="iv"?this.currentCulture:"");this._showLoadingIndicator();_b53.read({success:lang.hitch(this,this._onRequestFormSuccess),failure:lang.hitch(this,this._onRequestFormFailure)});},_onRequestFormSuccess:function(_b54){this._hideLoadingIndicator();this._apply(_b54);},_onRequestFormFailure:function(xhr){this._hideLoadingIndicator();alert(this.readErrorText);},clear:function(){_b39.publish(_b38.substitute("/quickforms/design/${0}/clear",[this._designGroup]),this);this.designSurface.clear();this.nonVisibleContainer.clear();this.editorContainer.clear();if(this.form){this.form.destroy();}this.form=null;this.formDirty=false;},load:function(_b55){this.clear();this._previousName=null;this._previousEntry=_b55;this._apply(_b55);},_apply:function(_b56){this.original=_b56;this.form=new _b45({entry:lang.clone(_b56)});this.designSurface.set("form",this.form);_b37.forEach(this.form.get("controls"),function(_b57){if(_b57.designSupport&&_b57.designSupport.visible){this.designSurface.addChild(_b57);}else{this.nonVisibleContainer.addChild(_b57);}},this);this.designSurface.layout();this.nonVisibleContainer.layout();_b39.publish(_b38.substitute("/quickforms/design/${0}/load",[this._designGroup]),_b56,this);_b39.publish(_b38.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this.form,false,this);}});});},"Sage/Services/SelectionContextService":function(){define("Sage/Services/SelectionContextService",["dojo/_base/declare"],function(_b58){var _b59=_b58("Sage.Services.SelectionContextService",null,{_url:"",constructor:function(){this._url="slxdata.ashx/slx/crm/-/SelectionService";},getSelectionInfo:function(key,_b5a){if(typeof key==="undefined"||key===null){key="";}dojo.xhrGet({url:this._url,handleAs:"json",load:function(data){_b5a(data);},error:function(_b5b,_b5c,_b5d){}});},getSelectedIds:function(_b5e,_b5f){dojo.xhrGet({url:this._url,handleAs:"json",load:function(data){_b5f(data);},error:function(_b60,_b61,_b62){}});},setSelectionContext:function(key,_b63,_b64){dojo.xhrPost({url:dojo.string.substitute("${0}/SetSelectionContext?key=${1}",[this._url,key]),handleAs:"json",load:function(data){_b64(data);},error:function(_b65,_b66,_b67){_b64(_b67);},postData:dojo.toJson(_b63)});}});Sage.Services.addService("SelectionContextService",new Sage.Services.SelectionContextService());return _b59;});},"Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig":function(){define("Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig",[],function(){return{};});},"Sage/UI/_DialogLoadingMixin":function(){define("Sage/UI/_DialogLoadingMixin",["dojo/_base/declare","dojox/widget/Standby"],function(_b68,_b69){return _b68("Sage.UI._DialogLoadingMixin",null,{_standby:false,showLoading:function(){if(!this._standby&&this.domNode){var _b6a=this.domNode;if(this.containerNode){_b6a=this.containerNode;}this._standby=new _b69({target:_b6a,color:"white",image:"images/loader_lg.gif",duration:50});document.body.appendChild(this._standby.domNode);this._standby.startup();}var self=this;window.setTimeout(function(){self._standby.show();},0);},hideLoading:function(){var self=this;window.setTimeout(function(){if(self._standby){self._standby.hide();}},1);}});});},"Sage/MainView/JobMgr/SDataSummaryFormatterScope":function(){define("Sage/MainView/JobMgr/SDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/JobMgr/SDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_b6b,i18n,_b6c,_b6d,_b6e,_b6f){var _b70=_b6f("Sage.MainView.JobMgr.SDataSummaryFormatterScope",[_b6c],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _b6d(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _b70;});},"Sage/UI/nls/ConditionManager":function(){define("Sage/UI/nls/ConditionManager",["Sage/LanguageList","dojo/_base/lang"],function(_b71,lang){var nls={root:{addimgalttext:"Add Condition",hideimgalttext:"Remove Condition",addrowlabel:"Lookup by:",hiderowlabel:"And:",srchBtnCaption:"Search",errorOperatorRequiresValue:"The operator requires a value",startingWith:"Starting With",endsWith:"Ends With",contains:"Contains",equalTo:"Equal to",notEqualTo:"Not Equal to",equalOrLessThan:"Equal or Less than",equalOrGreaterThan:"Equal or Greater than",lessThan:"Less than",greaterThan:"Greater than"}};return lang.mixin(_b71,nls);});},"Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase":function(){define("Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase",["dojo/_base/declare","dojo/_base/array","dojo/number","dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/Reporting/Enumerations"],function(_b72,_b73,_b74,_b75,_b76,_b77,_b78){var _b79=_b72("Sage.MainView.ReportMgr.Crystal._ParameterEditorBase",[_b75,_b76],{widgetsInTemplate:true,_promptParameter:null,_multiSelect:false,_mode:"Discrete",_values:null,_initialValues:null,_initialCustomValues:null,_initialIds:null,_allowCustomValues:false,_minimum:null,_maximum:null,constructor:function(_b7a){this._values=[];this._initialValues=[];this._initialCustomValues=[];this._initialIds=[];this._promptParameter=_b7a;this._initializeParameterProperties();},isValid:function(){return true;},_initializeParameterProperties:function(){var self=this;this._allowCustomValues=this._promptParameter.allowCustomCurrentValues;this._multiSelect=this._promptParameter.allowMultiValue;this._mode=this._promptParameter.valueRangeKind;var _b7b=(this._promptParameter.defaultValueDisplayType=="DescriptionAndValue");var _b7c=0;if(this._promptParameter.defaultValues){_b73.forEach(this._promptParameter.defaultValues,function(_b7d,i){var _b7e=_b7c+"";_b7d._id=_b7e;var _b7f=(_b7d.className==="CrystalReports.ParameterFieldDiscreteValue")?_b7d.discreteValue.actualValue:_b7d.rangeValue;var _b80=(_b7d.className==="CrystalReports.ParameterFieldDiscreteValue")?_b7d.description:"Range";var _b81=(_b7d.className==="CrystalReports.ParameterFieldDiscreteValue")?"Discrete":"Range";if(_b7b&&dojo.isString(_b80)){_b80=_b7f+" - "+_b80;}if(!dojo.isString(_b80)){_b80=_b7f;}var _b82={_id:_b7e,value:_b7f,description:_b80,parameterClass:_b81};self._values.push(_b82);_b7c++;});}var _b83=this._promptParameter.currentValues.length>0?this._promptParameter.currentValues:this._promptParameter.initialValues;if(_b83){_b73.forEach(_b83,function(_b84,i){var _b85=(_b84.className==="CrystalReports.ParameterFieldDiscreteValue")?_b84.discreteValue.actualValue:_b84.rangeValue;var _b86=(_b84.className==="CrystalReports.ParameterFieldDiscreteValue")?_b84.description:"Range";var _b87=(_b84.className==="CrystalReports.ParameterFieldDiscreteValue")?"Discrete":"Range";var _b88={value:_b85,description:_b86,parameterClass:_b87};self._initialValues.push(_b88);});}if(this._initialValues.length>0){_b73.forEach(this._initialValues,function(_b89,i){var _b8a=false;_b73.some(self._values,function(_b8b,i){if(_b8b.value===_b89.value){self._initialIds.push(_b8b._id);_b8a=true;return true;}});if(!_b8a){self._initialCustomValues.push(_b89);}});}switch(this._promptParameter.parameterValueKind){case _b78.SlxParameterValueKind.DateParameter:if(this._promptParameter.minimumValue&&this._promptParameter.minimumValue.discreteValue){this._minimum=_b77.Convert.toDateFromString(this._getDateOnlyIsoString(this._promptParameter.minimumValue.discreteValue.actualValue));}if(this._promptParameter.maximumValue&&this._promptParameter.maximumValue.discreteValue){this._maximum=_b77.Convert.toDateFromString(this._getDateOnlyIsoString(this._promptParameter.maximumValue.discreteValue.actualValue));}break;case _b78.SlxParameterValueKind.NumberParameter:case _b78.SlxParameterValueKind.StringParameter:if(this._promptParameter.minimumValue&&this._promptParameter.minimumValue.discreteValue){this._minimum=_b74.parse(this._promptParameter.minimumValue.discreteValue.actualValue);}if(this._promptParameter.maximumValue&&this._promptParameter.maximumValue.discreteValue){this._maximum=_b74.parse(this._promptParameter.maximumValue.discreteValue.actualValue);}break;}},_getOriginalParameterValue:function(_b8c){var _b8d=null;_b73.some(this._promptParameter.defaultValues,function(_b8e,i){if(_b8e._id==_b8c){_b8d=dojo.clone(_b8e);delete _b8d._id;return true;}});return _b8d;},_getValue:function(_b8f){var _b90=null;_b73.some(this._values,function(_b91,i){if(_b91._id==_b8f){_b90=dojo.clone(_b91);return true;}});return _b90;},_getSelectionMode:function(){var _b92="";if(this._multiSelect){_b92="MultiSelect";}else{_b92="SingleSelect";}if(this._allowCustomValues){_b92=_b92+"WithCustom";}else{_b92=_b92+"NoCustom";}return _b92;},_getDateOnlyIsoString:function(_b93){var _b94=null;if(_b93.indexOf("T")!==-1){_b94=_b93.split("T")[0];}return _b94;}});return _b79;});},"Sage/MainView/JobMgr/ExecutionsListPanelConfig":function(){define("Sage/MainView/JobMgr/ExecutionsListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/ExecutionsListPanelConfig","dojo/_base/lang","Sage/Utility/Jobs","dijit/ProgressBar"],function(_b95,_b96,_b97,_b98,_b99,_b9a){var _b9b=_b97("Sage.MainView.JobMgr.ExecutionsListPanelConfig",[_b95],{constructor:function(){_b99.mixin(this,_b98);this._listId="Executions";this._resourceKind="executions";this.entityName="Execution";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="ExecutionsListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){var _b9c=[{field:"job",name:this.colNameJobName,width:"75px",formatter:_b9a.formatJobDescription},{field:"user",name:this.colNameUser,width:"50px",formatter:_b9a.formatUser},{field:"phase",name:this.colNamePhase,width:"50px"},{field:"phaseDetail",name:this.colNamePhaseDetail,width:"50px"},{field:"progress",name:this.colNameProgress,width:"50px",formatter:_b9a.formatProgress},{field:"elapsed",name:this.colNameElapsed,width:"50px",formatter:_b9a.formatElapsedTime},{field:"status",name:this.colNameStatus,width:"50px"},{field:"result",name:this.colNameResult,width:"50px"}];return _b9c;},_getSelect:function(){var _b9d=["$key","job","trigger","user","phase","phaseDetail","progress","elapsed","status","result"];return _b9d;},_getWhere:function(){return"";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getInclude:function(){var _b9e=["$descriptors"];return _b9e;},_getSummaryListRequestConfig:function(){var _b9f={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _b9f;},_getFormatterScope:function(){var _ba0=this._getSummaryListRequestConfig();var _ba1=new _b96({templateLocation:"MainView/JobMgr/templates/ExecutionsListSummary.html",resetDataManager:true,requestConfiguration:_ba0});return _ba1;},_getSummaryDetailRequestConfig:function(){var _ba2={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","phase","phaseDetail","progress","elapsed","status","result"],include:["$descriptors"],useBatchRequest:false};return _ba2;},_getDetailConfig:function(){var _ba3=this._getFormatterScope();var _ba4=this._getSummaryDetailRequestConfig();var _ba5={resourceKind:this._resourceKind,requestConfiguration:_ba4,templateLocation:"MainView/JobMgr/Templates/ExecutionDetailSummary.html"};return _ba5;},_getToolBars:function(){var _ba6={items:[]};return _ba6;},_getResult:function(){return this._nlsResources.loadingText;}});return _b9b;});},"Sage/UI/Dashboard/nls/WidgetDefinition":function(){define("Sage/UI/Dashboard/nls/WidgetDefinition",["Sage/LanguageList","dojo/_base/lang"],function(_ba7,lang){var nls={root:{defaultWidgetText:"Edit Widget Settings",settingsText:"Settings",viewGroupText:"View Group",Bar_Chart:"Bar Chart",Column_Chart:"Column Chart",Group_List:"Group List",Pie_Chart:"Pie Chart",Funnel_Chart:"Funnel Chart",Line_Chart:"Line Chart",SData_Feed:"SData Feed",Web_Feed:"Web Feed",Website:"Website",Default:"Default",Links:"Link",Recently_Viewed:"Recently Viewed",Todays_Activities:"Today's Activities",Today_s_Activities:"Today's Activities",Welcome:"Welcome",Closing_Opportunities:"Closing Opportunities",Quick_Actions:"Quick Actions",Do_You_Know___:"Do You Know...",All_Leads:"All Leads",My_Notes:"My Notes",Open_Opportunities:"Open Opportunities",My_Top_Opportunities:"My Top Opportunities",My_Pipeline:"My Pipeline",Recent_Lead_Creation_History:"Recent Lead Creation History",My_Activity_trend:"My Activity trend",My_Completed_Activities_by_Type:"My Completed Activities by Type",Active_Campaigns:"Active Campaigns",All_Open_Opportunities:"All Open Opportunities",Top_Opportunities:"Top Opportunities",Open_Defect_Distribution:"Open Defect Distribution",My_Dashboard:"My Dashboard",Sales:"Sales",Group_List_Description:"Displays a list of group records by entity. For example, a group of active campaigns.",Welcome_Description:"Displays an introduction to Saleslogix with a link to the help topic Introducing Saleslogix for Web.",Line_Chart_Description:"Displays data as a series of data points connected by a line. Useful when the data represents many groups or categories.",Bar_Chart_Description:"Displays data as a set of horizontal bars. Useful for comparing several sets of data.",Column_Chart_Description:"Displays data as a set of vertical bars grouped by category. Useful for showing data changes over a period of time or for illustrating comparisons among items.",Funnel_Chart_Description:"Displays data as progressive proportions in a funnel shape. The data is represented as portions of 100%, and there are no axes.",Pie_Chart_Description:"Displays data as proportions of the whole. Each value is calculated as a percentage of the total. This chart has no axes.",Recently_Viewed_Description:"Displays links to recently viewed records with an icon that identifies the type. For example, Account or Contact.",Todays_Activities_Description:"Displays links to your activities for today.",Links_Description:"Displays links you create. For example, to a detail view in Saleslogix or to an external Web site.",SData_Feed_Description:"Displays a web feed using SData (Sage Data) feeds. For example, a feed from your accounting integration or Saleslogix database.",Web_Feed_Description:"Displays RSS or Atom Feed information.",Website_Description:"Displays a website of your choice."}};return lang.mixin(_ba7,nls);});},"Sage/UI/SummaryDetailPane":function(){define("Sage/UI/SummaryDetailPane",["Sage/UI/_DetailPane","Sage/_Templated","Sage/UI/SummaryContainer","dojo/_base/declare"],function(_ba8,_ba9,_baa,_bab){var _bac=_bab("Sage.UI.SummaryDetailPane",[_ba8,_ba9],{widgetsInTemplate:false,contentNode:null,paneContents:null,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(['<div class="EntityCard">','<div dojoAttachPoint="contentNode"></div>',"</div>"]),clear:function(){if(this.paneContents){this.paneContents.destroyRecursive();}},_onSelected:function(_bad,row,grid){if(!this._configuration){return;}if(this.paneContents){this.paneContents.destroyRecursive();}var _bae=Sage.Services.getService("ClientGroupContext");var _baf=_bae.getContext();var _bb0=_baf.CurrentTableKeyField;if(_bb0&&this._configuration.requestConfiguration){if(this._configuration.keyField){_bb0=this._configuration.keyField;}var _bb1=this._getKeyValue(row,_bb0);var _bb2=Sage.Services.getService("SummaryViewDataManager");var pane=new _baa({id:"det_"+_bb1,templateLocation:this._configuration.templateLocation});pane.postProcessCallBack=this._configuration.postProcessCallBack;dojo.place(pane.domNode,this.contentNode,"only");this.paneContents=pane;_bb2.requestDataNoWait(_bb1,pane,this._configuration.requestConfiguration);}else{this.set("content","Please check the configuration for this panel.");}},_getKeyValue:function(data,_bb3){var _bb4=_bb3.split(".");if(_bb4.length<2){return data[_bb3];}else{return this._getKeyValue(data[_bb4[0]],_bb4[1]);}}});return _bac;});},"Sage/Utility/File/AddURLAttachment":function(){define("Sage/Utility/File/AddURLAttachment",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility/File","Sage/Utility","Sage/Utility/File/Attachment","Sage/UI/Dialogs","dojo/i18n","dojo/i18n!./nls/AddURLAttachment","dojo/_base/declare"],function(_bb5,_bb6,_bb7,_bb8,_bb9,_bba,_bbb,_bbc,_bbd,_bbe,_bbf,_bc0,_bc1,i18n,_bc2,_bc3){var _bc4=_bc3("Sage.Utility.File.AddURLAttachment",[_bb5,_bb6],{descriptionText:"Description",urlText:"URL",titleText:"Add URL Attachment",okText:"OK",cancelText:"Cancel",requestFailedMsg:"The requested operation could not be completed, please try again later.",urlBlankMsg:"The URL or description property cannot be blank.",attachmentId:"",attachment:false,widgetsInTemplate:true,_bindingMgr:false,_store:false,id:"",widgetTemplate:new Simplate(["<div>",'<div dojoType="dijit.Dialog" id="addUrlAttachDialog" title="{%= $.titleText %}" dojoAttachPoint="_dialog">','<div  class="attachment-properties-form">','<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160" >','<div dojoType="dijit.form.TextBox" label="{%= $.urlText %}" id="{%= $.id %}_tb_Url" dojoAttachPoint="tb_Url" ></div>','<div dojoType="dijit.form.TextBox" label="{%= $.descriptionText %}" name="description" id="{%= $.id %}_tb_Description" dojoAttachPoint="tb_Description" maxlength="128" ></div>',"</div>",'<div class="general-dialog-actions">','<div dojoType="dijit.form.Button" id="{%= $.id %}_btnOK" name="_btnOK" dojoAttachPoint="_btnOK" dojoAttachEvent="onClick:_okClick" >{%= $.okText %}</div>','<div dojoType="dijit.form.Button" id="{%= $.id %}_btnCancel" name="_btnCancel" dojoAttachPoint="_btnCancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>',"</div>","</div>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","AddURLAttachment"));this.inherited(arguments);},show:function(){this._dialog.show();if(!this._dialog._standby){_bba.mixin(this._dialog,new _bb9());}this._loadData();},hide:function(){this.attachmentId="";this.attachment=false;if(this._dialog._standby){this._dialog.hideLoading();}this._dialog.hide();},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}if(!this._store){this._store=new _bbb({include:[],resourceKind:"attachments",service:_bbc.getService("system")});}this._store.newItem({onComplete:this._receiveAttachment,onError:this._requestFail,scope:this});},_receiveAttachment:function(_bc5){if(this._dialog._standby){this._dialog.hideLoading();}this.attachment=_bc5;_bc0.getKnownRelationships(this._receiveRelationships,this);},_ensureBindings:function(){if(!this._bindingMgr){this._bindingMgr=new _bbd({defaultBinding:{boundEntity:this.attachment},items:[{boundWidget:this.tb_Description,entityProperty:"description"},{boundWidget:this.tb_Url,entityProperty:"url",onChange:dojo.hitch(this,this._urlChange)}]});}},_bind:function(){if(!this._bindingMgr.boundEntity||(this.attachment.$key!==this._bindingMgr.boundEntity.$key)){this._bindingMgr.setBoundEntity(this.attachment);}else{this._bindingMgr.bind();}if(this._dialog._standby){this._dialog.hideLoading();}},_receiveRelationships:function(rels){this.attachment=_bba.mixin(this.attachment,rels);this.attachment.user={"$key":_bbf.getClientContextByKey("userID")||""};this.attachment.attachDate=_bbf.Convert.toIsoStringFromDate(new Date());this._ensureBindings();this._bind();},_urlChange:function(){var desc=this.tb_Description.get("value");if(!desc){var _bc6=this.tb_Url.get("value");if(_bc6){var r=new RegExp(/\.([\w]*)/);var _bc7=r.exec(_bc6);if(_bc7.length>1){this.tb_Description.set("value",_bc7[1]);}}}},_cancelClick:function(){this.hide();},_okClick:function(){if(this._dialog._standby){this._dialog.showLoading();}if((this.attachment.url===null)||(this.attachment.url.trim()==="")){_bc1.showError(this.urlBlankMsg);return;}if((this.attachment.description===null)||(this.attachment.description.trim()==="")){_bc1.showError(this.urlBlankMsg);return;}this._saveAndHide();},_saveAndHide:function(){if(this._dialog._standby){this._dialog.showLoading();}var self=this;window.setTimeout(function(){var _bc8=self.attachment;self._store.saveNewEntity(_bc8,function(_bc9){dojo.publish("/entity/attachment/create",_bc9);this.hide();},self._requestFail,self);},10);},_requestFail:function(req){_bc1.showError(this.requestFailedMsg);this.hide();}});return _bc4;});},"Sage/QuickForms/Design/Editors/ColumnBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ColumnBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojox/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ColumnBasicPropertyEditor"],function(_bca,lang,_bcb,_bcc,_bcd,_bce,_bcf,_bd0,_bd1,_bd2,_bd3){return _bca("Sage.QuickForms.Design.Editors.ColumnBasicPropertyEditor",[_bcb,_bd1,_bd0],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.indexTooltipText %}">',"<label>{%= $.indexText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_index" data-dojo-attach-event="onChange:_onIndexChange" data-dojo-props="disabled:true"></div>',"</div>",'<div class="editor-field" title="{%= $.widthTooltipText %}">',"<label>{%= $.widthText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_width" data-dojo-attach-event="onChange:_onWidthChange" required="true" data-dojo-props="constraints:{min:0}"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.sizeTypeTooltipText %}">',"<label>{%= $.sizeTypeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_sizeType" data-dojo-attach-event="onChange:_onSizeTypeChange">',"{% for (var type in $.rowSizeTypeText) { %}",'<span value="{%= type %}">{%= $.rowSizeTypeText[type] %}</span>',"{% } %}","</div>","</div>","</div>","</fieldset>"]),_index:null,_width:null,_sizeType:null,titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",widthText:"Width:",widthTooltipText:"Width of this column of controls.",sizeTypeText:"Size Type:",sizeTypeTooltipText:"Method of sizing: Absolute, AutoSize, or Percent.",rowSizeTypeText:{"Absolute":"Absolute","Percent":"Percent","AutoSize":"AutoSize"},constructor:function(){lang.mixin(this,_bd3);},setup:function(){this.inherited(arguments);this._index.set("value",this._designer.get("index"));this._width.set("value",this._designer.get("width"));this._sizeType.set("value",this._designer.get("sizeType"));},_onWidthChange:function(_bd4){if(this.isSuspended()){return;}this._designer.set("width",_bd4);},_onSizeTypeChange:function(_bd5){if(this.isSuspended()){return;}this._designer.set("sizeType",_bd5);},_onIndexChange:function(_bd6){if(this.isSuspended()){return;}this._designer.set("index",_bd6);}});});},"Sage/UI/nls/SearchConditionWidget":function(){define("Sage/UI/nls/SearchConditionWidget",["Sage/LanguageList","dojo/_base/lang"],function(_bd7,lang){var nls={root:{trueText:"True",falseText:"False",networkText:"Network",remoteText:"Remote",webText:"Web",webViewerText:"Web Viewer",concurrentText:"Concurrent",retiredText:"Retired",templateText:"Template",addonText:"Addon",adminText:"Admin",userText:"User",teamText:"Team",departmentText:"Department",systemText:"System"}};return lang.mixin(_bd7,nls);});},"Sage/QuickForms/Design/UserControlDesigner":function(){define("Sage/QuickForms/Design/UserControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/UserBasicPropertyEditor","./Editors/UserAdvancedPropertyEditor","dojo/i18n!./nls/UserControlDesigner"],function(_bd8,_bd9,lang,_bda,_bdb,_bdc,_bdd,_bde,_bdf,_be0,_be1){return _bd8("Sage.QuickForms.Design.UserControlDesigner",[_bdb,_bdc,_bda,_bdd],{designSupport:{visible:true},editors:[_bdf,_be0,_bde],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="{%= $.fieldClass %}-icon"></div>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-user",helpTopicName:"User_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXUser, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"User",constructor:function(){lang.mixin(this,_be1);},_setCaptionAttr:function(_be2){this.inherited(arguments);this.set("designCaption",_be2);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_be3){return(_be3["ControlItemName"]=="LookupResultValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(_be4){lang.setObject("ControlLabelPlacement",_be4,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(_be5){lang.setObject("Required",_be5,this.entry);},_getLookupBindingModeAttr:function(){return lang.getObject("LookupBindingMode",false,this.entry);},_setLookupBindingModeAttr:function(_be6){lang.setObject("LookupBindingMode",_be6,this.entry);},setupFor:function(_be7){this.inherited(arguments);this.set("lookupBindingMode","Object");this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"LookupResultValue",DataItemName:_be7.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:"null"}]);this.set("designBinding",_be7.propertyPath||"");},startup:function(){this.inherited(arguments);var _be8=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_be8&&_be8["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/SearchConditionWidget":function(){define("Sage/UI/SearchConditionWidget",["dojo/parser","dojo/i18n","dojo/_base/lang","dojo/has","dojo/_base/array","dijit/_Widget","dijit/form/Button","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/DateTextBox","Sage/_Templated","Sage/UI/ImageButton","Sage/UI/Controls/DropDownSelectPickList","Sage/UI/Controls/DropDownSelectUser","Sage/UI/Controls/Phone","dojo/i18n!./nls/SearchConditionWidget","dojo/_base/declare"],function(_be9,i18n,lang,has,_bea,_beb,_bec,_bed,_bee,_bef,_bf0,_bf1,_bf2,_bf3,_bf4,_bf5,_bf6,_bf7){var _bf8=_bf7("Sage.UI.SearchConditionWidget",[_beb,_bf1],{widgetsInTemplate:true,isFirstCondition:false,conditionManager:false,label:"",defaultOperator:null,defaultField:null,defaultValue:null,id:"",_valueBox:null,visible:true,_loaded:false,trueText:"true",falseText:"false",networkText:"Network",remoteText:"Remote",webText:"Web",webViewerText:"Web Viewer",concurrentText:"Concurrent",retiredText:"Retired",templateText:"Template",addonText:"Addon",adminText:"Admin",userText:"User",teamText:"Team",departmentText:"Department",systemText:"System",propertyTypeHandler:{},widgetTemplate:new Simplate(['<div id="{%= $.id %}" class="lookup-condition-row" dojoAttachPoint="_conditionRow">','<label class="slxlabel lookupLabel">',"{%= $.label %}","</label>",'<select id="{%= $.id %}_fieldName" name="{%= $.id %}_fieldName" dojoAttachPoint="_fieldNameSelect" data-dojo-type="dijit.form.Select" style="width:150px">',"{% for (var i=0; i < $.conditionManager.fields.length;i++) { %}",'<option id="{%= $.id %}_fieldOption{%= i %}" value="{%= $.conditionManager.fields[i][$.conditionManager.fieldNameProperty] %}">{%= $.conditionManager.fields[i][$.conditionManager.fieldDisplayNameProperty] %}</option>',"{% } %}","</select>",'<select id="{%= $.id %}_operators" name="{%= $.id %}_operators" dojoAttachPoint="_operatorSelect" data-dojo-type="dijit.form.Select" style="width:130px">',"</select>",'<div style="display: inline;" class="searchConditionInput" dojoAttachPoint="_inputWidgetPlaceHolder"></div>','<div class="conditionButton">',"{% if ( $.isFirstCondition ) { %}",'<div id="{%= $.id %}-AddImageButton" data-dojo-type="Sage.UI.ImageButton" icon="{%= $.conditionManager.addimgurl %}" tooltip="{%= $.conditionManager.addimgalttext %}" dojoAttachPoint="_addConditionButton" dojoAttachEvent="onClick:_addLookupCondition"></div>',"{% } else { %}",'<div id="{%= $.id %}-RemoveImageButton" data-dojo-type="Sage.UI.ImageButton" icon="{%= $.conditionManager.hideimgurl %}" tooltip="{%= $.conditionManager.hideimgalttext %}" dojoAttachPoint="_removeConditionButton" dojoAttachEvent="onClick:_removeLookupCondition"></div>',"{% } %}","</div>","</div>"]),constructor:function(_bf9){if(_bf6){this.trueText=_bf6.trueText;this.falseText=_bf6.falseText;this.networkText=_bf6.networkText;this.remoteText=_bf6.remoteText;this.webText=_bf6.webText;this.webViewerText=_bf6.webViewerText;this.concurrentText=_bf6.concurrentText;this.retiredText=_bf6.retiredText;this.templateText=_bf6.templateText;this.addonText=_bf6.addonText;this.adminText=_bf6.adminText;this.userText=_bf6.userText;this.teamText=_bf6.teamText;this.departmentText=_bf6.departmentText;this.systemText=_bf6.systemText;}this.registerTypeHandlers();},registerTypeHandlers:function(){this.propertyTypeHandler["default"]={getValue:function(){var _bfa=this._valueBox.get("value");return _bfa;},getTemplate:function(){return['<input id="{%= $.id %}-TextValue" data-dojo-type="dijit.form.TextBox" dojoAttachPoint="_valueBox" />'];}};this.propertyTypeHandler["System.Boolean"]={getValue:function(){var _bfb;if(this._valueBox.value==="true"){_bfb=true;}else{_bfb=false;}return _bfb;},getTemplate:function(){return['<select id="{%= $.id %}-SelectValue" class="dijitDropDown" data-dojo-type="dijit.form.Select" dojoAttachPoint="_valueBox">','<option id="{%= $.id %}-BooleanOptionTrue" value="true">{%= $.trueText %}</option>','<option id="{%= $.id %}-BooleanOptionFalse" value="false">{%= $.falseText %}</option>',"</select>"];}};this.propertyTypeHandler["Boolean"]={getValue:function(){var _bfc;if(this._valueBox.value==="true"){_bfc="T";}else{_bfc="F";}return _bfc;},getTemplate:function(){return lang.hitch(this,this.propertyTypeHandler["System.Boolean"].getTemplate)();}};this.propertyTypeHandler["SalesLogix.PickList"]={getValue:function(){return lang.hitch(this,this.propertyTypeHandler["default"].getValue)();},getTemplate:function(){return['<select id="{%= $.id %}-PickValue" class="dijitDropDown" ','data-dojo-type="Sage.UI.Controls.DropDownSelectPickList" ','dojoAttachPoint="_valueBox" ','pickListName="{%= $.pickListName %}" ','storeMode="{%= $.pickListStorageMode %}" ','style="display: inline-block"',"/>"];}};this.propertyTypeHandler["System.DateTime"]={getValue:function(){var _bfd=this._valueBox.value;return _bfd;},getTemplate:function(){return['<input data-dojo-type="dijit.form.DateTextBox" id="{%= $.id %}-Date" dojoAttachPoint="_valueBox"',"/>"];}};this.propertyTypeHandler["DateTime"]=this.propertyTypeHandler["System.DateTime"];this.propertyTypeHandler["Fixed"]={getValue:function(){var _bfe=this._valueBox.get("value");return _bfe;},getTemplate:function(){return['<input id="{%= $.id %}-NumericValue" data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_valueBox" constraints="{ type: \'decimal\' }" value="0" name="{%= $.id %}-NumberValue" />'];}};this.propertyTypeHandler["Integer"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Positive Integer"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Percent"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Currency"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Int32"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Double"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Decimal"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["System.Int16"]=this.propertyTypeHandler["Fixed"];this.propertyTypeHandler["Phone"]={getValue:function(){var _bff=this._valueBox.get("unformattedValue");return _bff;},getTemplate:function(){return['<input id="{%= $.id %}-PhoneValue" data-dojo-type="Sage.UI.Controls.Phone" shouldPublishMarkDirty="false" dojoAttachPoint="_valueBox" />'];}};this.propertyTypeHandler["User"]={getValue:function(){var _c00=this._valueBox.get("value");return _c00;},getTemplate:function(){return['<select id="{%= $.id %}-UserValue" ','data-dojo-type="Sage.UI.Controls.DropDownSelectUser" ','dojoAttachPoint="_valueBox" ','style="display: inline-block;" ',"></select>"];}};this.propertyTypeHandler["Sage.Entity.Interfaces.UserType"]={getValue:function(){var _c01=parseInt(this._valueBox.get("value"),10);return _c01;},getTemplate:function(){return['<select id="{%= $.id %}-UserTypeValue" class="dijitDropDown" data-dojo-type="dijit.form.Select" dojoAttachPoint="_valueBox">','<option id="{%= $.id %}-UserTypeOption0" value="0">{%= $.networkText %}</option>','<option id="{%= $.id %}-UserTypeOption1" value="1">{%= $.remoteText %}</option>','<option id="{%= $.id %}-UserTypeOption2" value="2">{%= $.webText %}</option>','<option id="{%= $.id %}-UserTypeOption3" value="3">{%= $.webViewerText %}</option>','<option id="{%= $.id %}-UserTypeOption4" value="4">{%= $.concurrentText %}</option>','<option id="{%= $.id %}-UserTypeOption5" value="5">{%= $.retiredText %}</option>','<option id="{%= $.id %}-UserTypeOption6" value="6">{%= $.templateText %}</option>','<option id="{%= $.id %}-UserTypeOption7" value="7">{%= $.addonText %}</option>','<option id="{%= $.id %}-UserTypeOption8" value="8">{%= $.adminText %}</option>',"</select>"];}};this.propertyTypeHandler["Sage.Entity.Interfaces.OwnerType"]={getValue:function(){var _c02=parseInt(this._valueBox.get("value"),10);return _c02;},getTemplate:function(){return['<select id="{%= $.id %}-OwnerTypeValue" class="dijitDropDown" data-dojo-type="dijit.form.Select" dojoAttachPoint="_valueBox">','<option id="{%= $.id %}-OwnerTypeOption0" value="1">{%= $.userText %}</option>','<option id="{%= $.id %}-OwnerTypeOption1" value="2">{%= $.teamText %}</option>','<option id="{%= $.id %}-OwnerTypeOption2" value="3">{%= $.departmentText %}</option>','<option id="{%= $.id %}-OwnerTypeOption3" value="0">{%= $.systemText %}</option>',"</select>"];}};this.propertyTypeHandler["Owner"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["None"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["System.String"]=this.propertyTypeHandler["default"];this.propertyTypeHandler["defaultOperators"]=this.propertyTypeHandler["default"];},postCreate:function(){this.refreshDefaults();if(!this.visible){dojo.style(this._conditionRow,"display","none");}this._fieldNameSelect.on("change",lang.hitch(this,this._fieldChanged));this.inherited(arguments);},getCondition:function(){var _c03=false;if(this.isValidCondition()){_c03={fieldname:this._fieldNameSelect.get("value"),operator:this._operatorSelect.get("value"),val:this._getFieldValue()};}return _c03;},isValidCondition:function(){var val=this._getFieldValue(),_c04=false;if(typeof val==="string"){_c04=(val.trim()!=="");}else{_c04=(val!==null&&val!==undefined);}return _c04;},_getFieldValue:function(){var _c05=this._fieldNameSelect.get("value"),_c06=this._operatorSelect.get("value"),_c07=this._getField(_c05),_c08,_c09,_c0a;if(_c07){_c09=this._getFieldPropertyTypeValue(_c07);_c0a=this.propertyTypeHandler[_c09];if(typeof _c0a==="undefined"){_c0a=this.propertyTypeHandler["default"];}_c08=lang.hitch(this,_c0a.getValue)();}return _c08;},_renderFieldTemplates:function(){var _c0b,_c0c,_c0d,_c0e,val=this._fieldNameSelect.get("value"),_c0f=this._getField(val),_c10,temp,_c11;if(_c0f){_c10=this._getFieldPropertyTypeValue(_c0f);_c11=this.propertyTypeHandler[_c10];if(typeof _c11==="undefined"){_c11=this.propertyTypeHandler["default"];}_c0c=lang.hitch(this,_c11.getTemplate)();_c0d=new Simplate(_c0c);temp={};dojo.mixin(temp,this);dojo.mixin(temp,{pickListName:_c0f.pickListName});dojo.mixin(temp,{pickListStorageMode:_c0f.pickListStorageMode});_c0e=_c0d.apply(temp);if(_c0e){dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.destroy();},this);this._inputWidgetPlaceHolder.innerHTML="";dojo.place(_c0e,this._inputWidgetPlaceHolder);_be9.parse(this._inputWidgetPlaceHolder);dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.startup();this._valueBox=wid;dojo.connect(this._valueBox,"onKeyDown",this,"_onKeyDown");},this);}}},uninitialize:function(){if(this._inputWidgetPlaceHolder){dojo.forEach(dijit.findWidgets(this._inputWidgetPlaceHolder),function(wid){wid.destroy();},this);}this.inherited(arguments);},_fieldChanged:function(_c12){var val=this._fieldNameSelect.get("value"),_c13=this._getField(val),_c14,_c15,len,i;if(_c13){this._renderFieldTemplates();_c14=this.conditionManager.getOperatorsByField(_c13);if(_c14){_c15=this._operatorSelect;len=_c15.options.length;for(i=len-1;i>=0;i--){_c15.removeOption(i);}for(i=0;i<_c14.length;i++){_c14[i].selected=false;}_c15.addOption(_c14);}this._setToDefaultOperator();this._setToDefaultValue();}},_onKeyDown:function(_c16){if(_c16.keyCode===13){this.conditionManager._doSearch();}},_getField:function(_c17){if(this.conditionManager.fieldsHash.hasOwnProperty(_c17)){return this.conditionManager.fieldsHash[_c17];}return false;},_getFieldPropertyTypeValue:function(_c18){if(_c18&&_c18.hasOwnProperty(this.conditionManager.fieldTypeProperty)){return _c18[this.conditionManager.fieldTypeProperty];}return null;},_addLookupCondition:function(){this.onAddLookupCondition();dojo.publish("onAddLookupCondition",this);},onAddLookupCondition:function(){},_removeLookupCondition:function(){this.onRemoveLookupCondition(this);dojo.publish("onRemoveLookupCondition",this);},onRemoveLookupCondition:function(_c19){},_setToDefaultValue:function(){if(!this._isOnDefaultField()){return;}if(this.defaultValue){this._valueBox.set("value",this.defaultValue);}},_setToDefaultField:function(){var i,_c1a;if(this.defaultField){_c1a=this._fieldNameSelect.getOptions();for(i=0;i<_c1a.length;i++){if(_c1a[i].value===this.defaultField){this._fieldNameSelect.set("value",_c1a[i].value);break;}}}},_setToDefaultOperator:function(){var _c1b,j;if(!this._isOnDefaultField()){return;}if(this.defaultOperator&&typeof this.defaultOperator==="string"){_c1b=this._operatorSelect.getOptions();for(j=0;j<_c1b.length;j++){if(_c1b[j].label===this.defaultOperator||_c1b[j].value===this.defaultOperator){this._operatorSelect.set("value",_c1b[j].value);break;}}}},_isOnDefaultField:function(){var _c1c=false,_c1d;if(this.defaultField){_c1d=this._fieldNameSelect.get("value");_c1c=(_c1d===this.defaultField);}else{_c1c=true;}return _c1c;},refreshDefaults:function(){this._setToDefaultField();this._fieldChanged();}});return _bf8;});},"Sage/MainView/ActivityMgr/FilterConfigurationProvider":function(){define("Sage/MainView/ActivityMgr/FilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Utility","Sage/Utility/Activity","Sage/Data/SDataStore","Sage/Services/ActivityService","Sage/MainView/ActivityMgr/ActivityGroupContextService","dijit/registry","dojo/_base/declare","Sage/Utility/Filters","dojo/_base/lang","dojo/json"],function(_c1e,_c1f,_c20,_c21,_c22,_c23,_c24,_c25,_c26,_c27,lang,json){var _c28=_c26("Sage.MainView.ActivityMgr.FilterConfigurationProvider",[_c1f,_c1e],{_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,_currentUserId:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_c29){this.inherited(arguments);if(this.groupContextService.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){Sage.Services.removeService("ClientGroupContext");this.groupContextService=new _c24();Sage.Services.addService("ClientGroupContext",this.groupContextService);}var _c2a=Sage.Services.getService("ClientContextService");if(_c2a){if(_c2a.containsKey("userID")){this._currentUserId=_c2a.getValue("userID");}}this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(_c2b,_c2c){var _c2d=this.groupContextService.getCurrentListConfig();this._configuration=_c2d.getFilterConfig(this.metaDataService,_c2b,_c2c);if(!this._configuration){this._configuration={};}this._configuration.getFilterManager=function(){var _c2e=_c25.byId("list");return _c2e&&_c2e.get("filterManager");};this._hasLayoutConfiguration=true;},requestConfiguration:function(_c2f){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;this._onRequestConfigurationSuccess(_c2f,null);this._getHiddenFilters(_c2f);},_onRequestConfigurationSuccess:function(_c30,_c31){this._createConfiguration(_c31,_c30);this._callOptionsSuccess(_c30);},_onRequestConfigurationFailure:function(_c32,_c33){if(_c32.failure){_c32.failure.call(_c32.scope||this,_c33,_c32,this);}},getFilterFormatter:function(_c34){if(_c34){if(_c34.filterName==="Duration"){return _c21.formatDuration;}}return false;},ModifyFilterQuery:function(_c35,_c36){var _c37=false;if(_c36){_c37=true;}if(_c35.propertyName==="Activity.Duration"){if(_c37){_c36="("+_c36+") and (Activity.Timeless ne true)";}else{_c36="(Activity.Timeless ne true)";}}else{if(_c35.propertyName==="Duration"){if(_c37){_c36="("+_c36+") and (Timeless ne true)";}else{_c36="(Timeless ne true)";}}}return _c36;},_getHiddenFilters:function(_c38){var key=this._getHiddenFiltersKey();if(key){_c27.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_c38||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_c27.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_c39,_c3a){if(_c3a&&_c3a.response&&_c3a.response.value){this._configuration._hiddenFilters=json.parse(_c3a.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_c39);},_callOptionsSuccess:function(_c3b){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_c3b.success){_c3b.success.call(_c3b.scope||this,this._configuration,_c3b,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _c28;});},"Sage/QuickForms/Design/Editors/nls/GenericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/GenericBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_c3c,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_c3c,nls);});},"Sage/MainView/JobMgr/nls/JobManagerActions":function(){define("Sage/MainView/JobMgr/nls/JobManagerActions",["Sage/LanguageList","dojo/_base/lang"],function(_c3d,lang){var nls={root:{txtInterruptExecutionMessage:"A signal has been sent to the job to cancel execution.",txtInterruptExecutionTitle:"Cancel Job",txtInterruptExecutionConfirmationMessage:"Are you sure you want to cancel execution of job ${0}?",txtYes:"Yes",txtNo:"No",completedJobMessage:"The selected job has already been completed.",jobStatusComplete:"Complete",error_NoRecordSelected:"You must select a record before continuing.",confirm_ScheduleDeletion:"Are you sure you want to delete the selected schedule?"}};return lang.mixin(_c3d,nls);});},"Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/ContactLookupConfig",["Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig","Sage/UI/SDataLookup","dojo/i18n!./nls/ContactLookupConfig","dojo/_base/declare","dojo/_base/lang"],function(_c3e,_c3f,_c40,_c41,lang){var _c42=_c41("Sage.MainView.ActivityMgr.AttendeeLookup.ContactLookupConfig",[_c3e],{constructor:function(){lang.mixin(this,_c40);this.lookupType=_c3f;this._initConfig();},_initConfig:function(){this.id="_contactLookup",this.lookupName="Contact";this.lookupDisplayName="Contact Lookup";this.entityName="Contact";this.dialogTitle=this.dialogTitleText,this.cells=null;this.cells=this.getCells();this.defaultCell={"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""};this.storeOptions={resourceKind:"contacts",select:["LastName","FirstName","Title","Type","Account/$key","Account/AccountName","ContactUser/Userid","Address/Timezone"],sort:[{attribute:"LastName"}]};this.preFilters=[];this.gridOptions={};this.query={};this.displayMode=5;this.isModal=true;this.initialLookup=false;this.seedValue="X";this.seedProperty="Account.Id";},getCells:function(){if(this.cells){return this.cells;}this.cells=[{name:this.colFirstName,field:"FirstName"},{name:this.colLastName,field:"LastName"},{name:this.colTitle,field:"Title"},{name:this.colAccount,field:"AccountName"},{name:this.colWorkPhone,field:"WorkPhone"},{name:this.colEmail,field:"Email"}];return this.cells;},doSelected:function(_c43){alert("overide the doSelect method");},getConfig:function(uiid){var _c44={id:this.id+"_base_"+uiid,btnToolTip:"",structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,displayMode:this.displayMode,storeOptions:this.storeOptions,isModal:this.isModal,initialLookup:this.initialLookup,preFilters:this.preFilters,query:this.query,seedValue:this.seedValue,seedProperty:this.seedProperty,overrideSeedValueOnSearch:true,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:this.doSelected,cancelText:this.cancelText};return _c44;},getLookupInstance:function(uiid){var _c45=this.getConfig(uiid);var _c46=new this.lookupType(_c45);return _c46;}});return _c42;});},"Sage/UI/Columns/RadioGroup":function(){define("Sage/UI/Columns/RadioGroup",["dojox/grid/cells/_base","dojo/_base/declare"],function(_c47,_c48){var _c49=_c48("Sage.UI.Columns.RadioGroup",dojox.grid.cells.AlwaysEdit,{options:null,values:null,labels:[],constructor:function(_c4a){this.values=this.values||this.options;if(this.labels&&this.labels.length>0){var _c4b=['<table style="width:100%"><tr>'];for(var i=0;i<this.labels.length;i++){_c4b.push('<td style="text-align: center;">'+this.labels[i]+"</td>");}this.name=_c4b.join("");}},formatEditing:function(_c4c,_c4d){var _c4e=['<table style="width:100%"><tr>'];for(var i=0;i<this.values.length;i++){_c4e.push(['<td style="text-align: center;">','<input type="radio"',' id="'+this.values[i]+"_"+_c4d+'"',' name="'+this.field+"_"+_c4d+'"',' value="'+this.values[i]+'"',_c4c===this.values[i]?' checked="checked" />':" />"].join(""));}_c4e.push("</tr></table>");return _c4e.join("");},doclick:function(e){if(e.target.tagName==="INPUT"){var _c4f=this.grid.edit;_c4f.applyCellEdit(e.target.value,this,e.rowIndex);}}});return _c49;});},"Sage/UI/Columns/Cell":function(){define("Sage/UI/Columns/Cell",["dojox/grid/cells","dojox/grid/cells/dijit","dojo/_base/declare"],function(_c50,_c51,_c52){var _c53=_c52("Sage.UI.Columns.Cell",_c50._Widget,{formatNode:function(_c54,_c55,_c56){if(!this.widgetClass){return _c55;}var _c57=dijit.byId(this._getControlId());if(!_c57){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_c57;if(_c57.value!==_c55||this.widget.focusNode.value!==_c55){if(this.widget.focusNode.set){this.widget.focusNode.set("value",_c55);}else{this.widget.set("value",_c55);}}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_c56);this.grid.scroller.rowHeightChanged(_c56,true);this.focus();return undefined;},setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},_getControlId:function(){this.setCurrentItems();return[this.item.$key,this.editInfo.cell.field,this.index].join("_");}});return _c53;});},"Sage/UI/Columns/UserType":function(){define("Sage/UI/Columns/UserType",["Sage/Utility","dojo/i18n!../nls/UserType","dojo/_base/declare"],function(_c58,_c59,_c5a){var _c5b=_c5a("Sage.UI.Columns.UserType",dojox.grid.cells._Base,{constructor:function(){dojo.mixin(this,_c59);this.inherited(arguments);},formatter:function(val,_c5c){var _c5d={"W":this.administratorText,"P":this.templateText,"M":this.remoteText,"T":this.webOnlyText,"R":this.retiredText,"C":this.concurrentText,"V":this.webViewerText,"N":this.networkText,"A":this.addOnUserText};return(_c5d[val]?_c58.htmlEncode(_c5d[val]):val);}});return _c5b;});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/ContactLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/ContactLookupConfig",["Sage/LanguageList","dojo/_base/lang"],function(_c5e,lang){var nls={root:{contactText:"Contact",accountText:"Account",lookupContactText:"Lookup Contact",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",dialogButtonText:"Add Selected",cancelText:"Close",colFirstName:"First Name",colLastName:"Last Name",colTitle:"Title",colAccount:"Account",colWorkPhone:"Work Phone",colEmail:"Email",dialogTitleText:"Lookup Contacts"}};return lang.mixin(_c5e,nls);});},"Sage/QuickForms/Design/nls/DataSourcePanel":function(){define("Sage/QuickForms/Design/nls/DataSourcePanel",["Sage/LanguageList","dojo/_base/lang"],function(_c5f,lang){var nls={root:{loadingText:"Loading..."}};return lang.mixin(_c5f,nls);});},"Sage/TaskPane/CommonTasksTasklet":function(){define("Sage/TaskPane/CommonTasksTasklet",["dijit/Menu","dijit/Dialog","dijit/form/Button","dijit/form/CheckBox","dijit/registry","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/MenuItem","Sage/UI/Dialogs","Sage/Utility/Email","Sage/Groups/GroupManager","dojo/_base/xhr","dojo/_base/lang","dojo/_base/declare","dojo/string","dojo/i18n!./nls/CommonTasksTasklet","dojo/dom-class","Sage/Utility/Jobs"],function(_c60,_c61,_c62,_c63,_c64,_c65,_c66,_c67,_c68,_c69,xhr,lang,_c6a,_c6b,_c6c,_c6d,jobs){var _c6e=_c6a("Sage.TaskPane.CommonTasksTasklet",_c65,{constructor:function(args){lang.mixin(this,_c6c);},removeCurrentFromGroup:function(){this.getCurrentEntity();var svc=Sage.Services.getService("ClientGroupContext"),_c6f,_c70;if(svc!==null){_c6f=svc.getContext();_c70=_c6f.FirstEntityID;if(_c70===this.currentEntityId){_c70=_c6f.NextEntityID;}if(_c70!==""){if(this.contextService){this.contextService.navigateSLXGroupEntity(_c70,this.currentEntityId);}}Sage.Groups.GroupManager.removeIds(_c6f.CurrentGroupID,_c6f.CurrentName,_c6f.CurrentFamily,[this.currentEntityId],function(){__doPostBack("MainContent","");},function(err){console.error(err);},this);}},removeSelectionsFromGroup:function(){_c69.removeSelectionsFromGroup();},saveSelectionsAsNewGroup:function(){_c69.saveSelectionsAsNewGroup();},showAdHocList:function(e){var svc=Sage.Services.getService("ClientGroupContext"),i,item,_c71;if(typeof(GroupAdHocListMenu)==="undefined"){GroupAdHocListMenu=new _c60({id:"GroupAdHocList"});GroupAdHocListMenu.addChild(new _c66({label:this.loadingText}));}svc.getAdHocGroupList(function(list){GroupAdHocListMenu.destroyDescendants();for(i=0;i<list.length;i++){item=list[i];GroupAdHocListMenu.addChild(new _c66({label:item.$descriptor||item.name,ref:_c6b.substitute("javascript:Sage.Groups.GroupManager.addSelectionsToGroup('${0}')",[item.$key]),onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;dijit.popup.close(GroupAdHocListMenu);}catch(err){}}}}));}GroupAdHocListMenu.on("blur",function(){dijit.popup.close(GroupAdHocListMenu);});GroupAdHocListMenu.startup();},this);if(!e.pageX&&!e.pageY){e.pageX=e.clientX+document.body.scrollLeft;e.pageY=e.clientY+document.body.scrollTop;}dijit.popup.open({popup:GroupAdHocListMenu,x:e.pageX||250,y:e.pageY||250});_c71=GroupAdHocListMenu.domNode.parentNode;if(_c71&&!_c6d.contains(_c71,"commonTaskAdHoc")){_c6d.add(_c71,"commonTaskAdHoc");}},exportToExcel:function(){this.prepareSelectedRecords(this.triggerExportToExcelJob(this.getSelectionInfo(),this));},triggerExportToExcelJob:function(_c72,self){return function(){var _c73=[{"name":"SelectedIds","value":(_c72.selectionCount>0)?_c72.selectedIds.join(",")||"":""},{"name":"GroupId","value":self.getCurrentGroupId()}];var _c74=self.getCurrentGroupName();var _c75=dojo.date.locale.format(new Date(),{selector:"date",datePattern:"yyyy_MM_dd_hhmm"});var user="";var _c76=Sage.Services.getService("ClientContextService");if(_c76){if(_c76.containsKey("userPrettyName")){user=_c76.getValue("userPrettyName");}}var _c77=_c6b.substitute("${0}_${1}_${2}",[_c74,user,_c75]);var _c78={descriptor:_c77,closable:true,title:self.exportToExcel_Caption,key:"Sage.SalesLogix.BusinessRules.Jobs.ExportToExcelJob",parameters:_c73,infoMessage:self.exportProcessingJobMsg,success:function(_c79){},failure:function(_c7a){_c67.showError(dojo.string.substitute(self.errorRequestingJobMgr,[_c7a.result]));},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_c78);};},TransferAccount: function () {this.getCurrentEntity();this.prepareSelectedRecords(this.promptForFileFormat1(this));},promptForFileFormat1: function () {var self = this,_c7d = "promptForFileFormat-Dialog",_c7e = dijit.byId(_c7d);if (!_c7e) {_c7e = new _c61({id: _c7d,title: "Transfer Account"});}_c7e.attr("content", this.getPromptForFileFormatTemplate1().apply({ dialogId: _c7d }));_c7e.show();},getPromptForFileFormatTemplate1: function () {return new Simplate(['<div>','<iframe id ="ie" src="smartparts/AccountOwnerChange.aspx" runat="server" width:300,height:150></iframe>','<br />','<div style="padding-right:5px; padding-bottom:5px; text-align:right;">','<button data-dojo-type="dijit.form.Button" type="submit" class="ok-button" onClick="commonTaskActions.onTransferAccountClick();">{%= commonTaskActions.exportToFile_OK %}</button>','<button data-dojo-type="dijit.form.Button" type="button" class="cancel-button" onClick="dijit.byId(\'promptForFileFormat-Dialog\').hide();">{%= commonTaskActions.exportToFile_Cancel %}</button>','</div>','</div>']);},onTransferAccountClick: function () {var childiFrame = document.getElementById("ie");var innerDoc = childiFrame.contentDocument || childiFrame.contentWindow.document;  var Usr = innerDoc.getElementById('drpusers');var User = Usr.options[Usr.selectedIndex].value; if (User == '0'){ alert('Please select User'); window.frames['ie'].dojo.getElementById('drpusers').focus(); }else{ document.cookie = "User=" + User; dojo.byId([this.clientId, '_tskTransferAccount'].join('')).click();  }},exportToFile:function(){this.getCurrentEntity();this.prepareSelectedRecords(this.fileFormatCheck(this));},fileFormatCheck:function(self){return function(){var _c7b=cookie.getCookie("formatIsSaved"),_c7c=cookie.getCookie("format");if(_c7b==="true"&&_c7c.length>0){dojo.byId([self.clientId,"_tskExportToExcel"].join("")).click();}else{self.promptForFileFormat();}};},promptForFileFormat:function(){var self=this,_c7d="promptForFileFormat-Dialog",_c7e=dijit.byId(_c7d);if(!_c7e){_c7e=new _c61({id:_c7d,title:self.exportToFile_DialogTitle});}_c7e.attr("content",this.getPromptForFileFormatTemplate().apply({dialogId:_c7d}));_c7e.show();},getPromptForFileFormatTemplate:function(){return new Simplate(["<div>",'<label style="padding-left:5px">{%= commonTaskActions.selectFileFormat %}</label>',"<br />",'<div style="padding-left:10px; padding-top:7px">','<input id="radioCSV" name="format_type" type="radio" data-dojo-type="dijit.form.RadioButton" value="csv" checked="true" />{%= commonTaskActions.exportToFile_OptionCSV %}',"</div>",'<div style="padding-left:10px; padding-top:7px">','<input id="radioTab" name="format_type" type="radio" data-dojo-type="dijit.form.RadioButton" value="tab" />{%= commonTaskActions.exportToFile_OptionTab %}',"</div>",'<div style="padding-left:11px; padding-top:7px">','<input id="exportFormatSaved" dojoAttachPoint="exportFormatSaved" data-dojo-type="dijit.form.CheckBox" value="true" />{%= commonTaskActions.exportToFile_OptionSaveFormat %}',"</div>",'<div style="padding-right:5px; padding-bottom:5px; text-align:right;">','<button data-dojo-type="dijit.form.Button" type="submit" class="ok-button" onClick="commonTaskActions.onExportToFileClick();">{%= commonTaskActions.exportToFile_OK %}</button>','<button data-dojo-type="dijit.form.Button" type="button" class="cancel-button" onClick="dijit.byId(\'promptForFileFormat-Dialog\').hide();">{%= commonTaskActions.exportToFile_Cancel %}</button>',"</div>","</div>"]);},onExportToFileClick:function(){var _c7f=dojo.byId("exportFormatSaved");var _c80;if(_c7f!==undefined&&_c7f.checked){document.cookie="formatIsSaved=true; expires=1/01/2020";}if(dojo.byId("radioCSV").checked){_c80="csv";}else{_c80="tab";}document.cookie="format="+_c80+"; expires=1/01/2020";dojo.byId([this.clientId,"_tskExportToExcel"].join("")).click();},emailSend:function(){this.getCurrentEntity();var url="slxdata.ashx/slx/crm/-/namedqueries?columnaliases=email&format=json&hql=";var sHql=this.getURL(this.currentEntityTableName);if(sHql===null){_c67.showError(this.noPrimaryEmail);return;}url=url+sHql;var self=this;dojo.xhrGet({url:url,handleAs:"json",load:function(data){self.sendEmail(data);},error:function(_c81){_c67.showError(_c81.StatusText);}});},getURL:function(_c82){var url=null;switch(_c82){case"CONTACT":url=dojo.string.substitute("select con.Email from Contact con where con.id like '${0}'",[this.currentEntityId]);break;case"ACCOUNT":url=dojo.string.substitute("select con.Email from Contact as con where con.Account.id like '${0}' and con.IsPrimary like 'T'",[this.currentEntityId]);break;case"OPPORTUNITY":url=dojo.string.substitute("select con.Email from Opportunity as opp left join opp.Contacts as oppCon left join oppCon.Contact as con where opp.id like '${0}' and oppCon.IsPrimary like 'T'",[this.currentEntityId]);break;case"LEAD":url=dojo.string.substitute("select le.Email from Lead le where le.id like '${0}'",[this.currentEntityId]);break;case"CAMPAIGN":url=dojo.string.substitute("select ufo.Email from Campaign as cam left join cam.AccountManager as usr left join usr.UserInfo as ufo where cam.id like '${0}'",[this.currentEntityId]);break;case"TICKET":url=dojo.string.substitute("select ufo.Email from User as usr left join usr.UserInfo as ufo where usr.DefaultOwner in  (select own.id from Ticket as tic left join tic.AssignedTo as own where tic.id like '${0}')",[this.currentEntityId]);break;case"DEFECT":url=dojo.string.substitute("select ufo.Email from User as usr left join usr.UserInfo as ufo where usr.DefaultOwner in (select own.id from Defect as def left join def.AssignedTo as own where def.id like '${0}')",[this.currentEntityId]);break;case"CONTRACT":url=dojo.string.substitute("select con.Email from Contract as crt left join crt.Contact as con where crt.id like '${0}'",[this.currentEntityId]);break;case"SALESORDER":url=dojo.string.substitute("select so.ShippingContact.Email from SalesOrder as so where so.Id eq '${0}'",[this.currentEntityId]);break;case"RMA":url=dojo.string.substitute("select con.Email from Return as ret left join ret.ReturnedBy as con where ret.id like '${0}'",[this.currentEntityId]);break;}return url;},sendEmail:function(_c83){if(_c83.count>0){var _c84=_c83.items[0].email;if(_c84){_c84="mailto:"+_c84;document.location.href=_c84;return;}}_c67.showError(this.noPrimaryEmail);},copyUser:function(){var _c85=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyUser",selectionInfoKey:_c85});},copyUserProfile:function(){var _c86=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyUserProfile",selectionInfoKey:_c86});},deleteUsers:function(){var _c87=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteUsers",selectionInfoKey:_c87});},addToTeam:function(){var _c88=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"AddToTeam",selectionInfoKey:_c88});},removeFromTeam:function(){var _c89=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"RemoveFromTeam",selectionInfoKey:_c89});},removeFromAllTeams:function(){var _c8a=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"RemoveFromAllTeams",selectionInfoKey:_c8a});},assignRole:function(){var _c8b=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"AssignRole",selectionInfoKey:_c8b});},replaceTeamMember:function(){var _c8c=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"ReplaceTeamMember",selectionInfoKey:_c8c});},deleteTeam:function(){var _c8d=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteTeam",selectionInfoKey:_c8d});},deleteDepartment:function(){var _c8e=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"DeleteDepartment",selectionInfoKey:_c8e});},copyTeam:function(){var _c8f=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyTeam",selectionInfoKey:_c8f});},copyDepartment:function(){var _c90=dojo.byId([commonTaskActions.clientId,"_hfSelections"].join("")).value;Sage.ClientLinkHandler.request({request:"Administration",type:"CopyDepartment",selectionInfoKey:_c90});},showDetailReport:function(){var _c91=Sage.Services.getService("ReportingService");if(_c91){_c91.showDefaultReport();}},writeEmailToGroupSelection:function(){_c68.writeEmailToGroupSelection();}});return _c6e;});},"url:Sage/MainView/ReportMgr/Crystal/templates/BooleanParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n        <div style="padding-top: 5px;">\r\n            <select dojotype="dijit.form.Select" dojoattachpoint="cmbValues" style="width: 150px">\r\n            </select>\r\n        </div>\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>',"Sage/QuickForms/Design/Editors/ComboBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ComboBoxAdvancedPropertyEditor",["dojo/string","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dojo/store/Memory","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ComboBoxAdvancedPropertyEditor"],function(_c92,_c93,lang,_c94,_c95,_c96,_c97,_c98,_c99,_c9a,_c9b,_c9c,_c9d,_c9e){return _c93("Sage.QuickForms.Design.Editors.ComboBoxAdvancedPropertyEditor",[_c95,_c9c,_c9b],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.itemGroupText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.dataSourceTooltipText %}">',"<label>{%= $.dataSourceText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_dataSource" data-dojo-attach-event="onChange:_onDataSourceChange" data-dojo-props="disabled:true"></div>',"</div>",'<div class="editor-field" title="{%= $.itemsTooltipText %}">',"<label>{%= $.itemsText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_items" data-dojo-attach-event="onChange:_onItemsChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.textFieldTooltipText %}">',"<label>{%= $.textFieldText %}</label>",'<div data-dojo-type="dijit.form.ComboBox" data-dojo-attach-point="_textField" data-dojo-attach-event="onChange:_onTextFieldChange" data-dojo-props="disabled:true"></div>',"</div>",'<div class="editor-field" title="{%= $.valueFieldTooltipText %}">',"<label>{%= $.valueFieldText %}</label>",'<div data-dojo-type="dijit.form.ComboBox" data-dojo-attach-point="_valueField" data-dojo-attach-event="onChange:_onValueFieldChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlId:null,_controlLabelPlacement:null,_controlType:null,_dataSource:null,_defaultDataBinding:null,_enabled:null,_items:null,_textField:null,_valueField:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",itemGroupText:"Items",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",itemsText:"Items:",itemsTooltipText:"Values the user can select.",textFieldText:"Text Field:",textFieldTooltipText:"The name of the data source field used to populate the visible text portion of the list items.",valueFieldText:"Value Field:",valueFieldTooltipText:"The name of the data source field used to populate the value portion of the list items.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},hasItemsText:"Set",noItemsText:"Not Set",constructor:function(){lang.mixin(this,_c9e);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._enabled.set("value",this._designer.get("enabled"));this._items.set("value",this._designer.get("hasItems")?this.hasItemsText:this.noItemsText);this._visible.set("value",this._designer.get("visible"));var _c9f=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_c9f&&_c9f["DataItemName"])||"");this.setDataSources();this._dataSource.set("value",this._designer.get("dataSource"));this._textField.set("value",this._designer.get("textField"));this._valueField.set("value",this._designer.get("valueField"));},setDataSources:function(){var _ca0=this.getDataSources(),_ca1=this._dataSource;_ca1.removeOption(_ca1.getOptions());_ca1.addOption({label:"",value:"_-1"});_ca1.addOption({label:"MainEntity",value:"MainEntity"});_c94.forEach(_ca0,function(_ca2){this.addOption(lang.mixin({label:_ca2.get("controlId"),value:_ca2.get("controlId")},_ca2.entry));},_ca1);},getDataSources:function(){var _ca3=this._designer.get("form").get("controls"),_ca4=[];_c94.forEach(_ca3,function(_ca5){if(_ca5 instanceof Sage.QuickForms.Design.DataSourceDesigner){this.push(_ca5);}},_ca4);return _ca4;},getSelectedItem:function(_ca6){var _ca7=this._dataSource;for(var i=0;i<_ca7.options.length;i++){var item=_ca7.options[i];if(item.value===_ca6){return item||null;}}return null;},updateFieldStore:function(_ca8,_ca9,_caa){if(_ca8.store.destroy){_ca8.store.destroy();}_ca8.set("store",_ca9);_ca8.set("searchAttr",_caa);_ca8.set("disabled",false);},createSDataPropertyStore:function(_cab){return new Sage.Data.SDataStore({service:Sage.Data.SDataServiceRegistry.getService("metadata"),collection:"$resources.0.properties.$resources",resourceKind:"entities",resourcePredicate:_c92.substitute("'${0}'",[_cab])});},_onControlIdChange:function(_cac){},_onControlLabelPlacementChange:function(_cad){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_cad);},_onControlTypeChange:function(_cae){},_onDefaultDataBindingChange:function(_caf){},_onDataSourceChange:function(_cb0){},_onEnabledChange:function(_cb1){if(this.isSuspended()){return;}this._designer.set("enabled",_cb1);},_onItemsChange:function(_cb2){},_onTextFieldChange:function(_cb3){if(this.isSuspended()){return;}this._designer.set("textField",_cb3);},_onValueFieldChange:function(_cb4){if(this.isSuspended()){return;}this._designer.set("valueField",_cb4);},_onVisibleChange:function(_cb5){if(this.isSuspended()){return;}this._designer.set("visible",_cb5);}});});},"Sage/UI/SLXPreviewGrid/Filter/Text":function(){define("Sage/UI/SLXPreviewGrid/Filter/Text",["dijit/form/TextBox","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/_base/declare"],function(_cb6,_cb7,_cb8){var text=_cb8("Sage.UI.SLXPreviewGrid.Filter.Text",[_cb6,_cb7],{postMixInProperties:function(){this.type="text";this.style="width: 200px";this.inherited(arguments);},reset:function(){this.set("displayedValue","");this.set("value","");}});return text;});},"Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig",["Sage/MainView/ActivityMgr/ActivityListPanelConfig","Sage/UI/Columns/SlxLink","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/ActivityListPanelConfig"],function(_cb9,_cba,_cbb,lang,_cbc){var _cbd=_cbb("Sage.Extensions.Activity.ListPanelOverrides.ActivityListPanelConfig",[_cb9],{constructor:function(){lang.mixin(this,_cbc);this._select.push("Activity/Details/AttendeeCount");this._structure.push({field:"Activity.Details.AttendeeCount",name:this.colNameAssociationCount,width:"90px"});}});return _cbd;});},"Sage/Library/nls/Manager":function(){define("Sage/Library/nls/Manager",["Sage/LanguageList","dojo/_base/lang"],function(_cbe,lang){var nls={root:{AddFiles:"Add Files",AddFolder:"Add Folder",Confirm:"Confirm",ConfirmDownload:"The file has not been downloaded. Would you like to get it the next time you synchornize?",ConfirmDownloadReorder:"The file has not been downloaded but has already been ordered. Would you like re-order the file to get it the next time you synchornize?",Created:"Created",DeleteFolder:"Delete Folder",DeleteSelectedFile:"Delete Selected File",Description:"Description",DirectoryInformationError:"There was an unexpected error attempting to retreive document directory information.",DocumentInformationError:"There was an unexpected error attempting to retreive document information.",EditFolder:"Edit Folder Name",Expires:"Expires",File:"File",FileProperties:"File Properties",Help:"Help",InvalidRoot:'Invalid root directory: "${0}" (${1}).',Library:"Library",LibraryDataError:"There was an unexpected error processing library directory data.",Never:"Never",No:"No",Revised:"Revised",Size:"Size",Yes:"Yes"}};return lang.mixin(_cbe,nls);});},"url:Sage/MainView/ReportMgr/Crystal/templates/DateRangeParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        <div style="padding-top: 5px;">\r\n            <center>\r\n                <table cellspacing="10">\r\n                    <tr>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtFrom) %}</label>\r\n                        </td>                        \r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtTo) %}</label>\r\n                        </td>                                               \r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtFromRange" displayDate="true" displayTime="false" label="From:" required="true" style="width:250px"></div>\r\n                        </td>\r\n                        <td>\r\n                            <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtToRange" displayDate="true" displayTime="false" label="To:" required="true" style="width:250px"></div>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                        <td>\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkIncludeFromRange" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkNoLowerValue" dojoAttachEvent="onChange:_chkNoLowerValue_OnCheck" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoLowerValue) %}</label>\r\n                        </td>                                               \r\n                        <td>\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkIncludeToRange" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtIncludeThisValue) %}</label>\r\n                            &nbsp;\r\n                            <input data-dojo-type="dijit.form.CheckBox" dojoAttachPoint="chkNoUpperValue" dojoAttachEvent="onChange:_chkNoUpperValue_OnCheck" />\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.txtNoUpperValue) %}</label>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div>\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>',"Sage/UI/nls/GroupsTitlePaneConfigProvider":function(){define("Sage/UI/nls/GroupsTitlePaneConfigProvider",["Sage/LanguageList","dojo/_base/lang"],function(_cbf,lang){var nls={root:{groupText:"Groups",addGroupButtonTooltip:"Add Group",groupButtonTooltip:"Manage Groups",lookupText:"Lookup",lookupResultsText:"Lookup Results",groupColumnText:"Group",visibleColumnText:"Visible"}};return lang.mixin(_cbf,nls);});},"Sage/MainView/ActivityMgr/EditEventEditor":function(){define("Sage/MainView/ActivityMgr/EditEventEditor",["dijit/_Widget","Sage/_Templated","dijit/Toolbar","dijit/layout/TabContainer","dijit/layout/ContentPane","dijit/form/Textarea","dijit/form/ComboBox","Sage/UI/TextBox","Sage/UI/Controls/DateTimePicker","Sage/UI/SDataLookup","dojox/layout/TableContainer","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","dijit/Dialog","Sage/UI/Dialogs","Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/EditEventEditor","dijit/focus","dojo/_base/lang"],function(_cc0,_cc1,_cc2,_cc3,_cc4,_cc5,_cc6,_cc7,_cc8,_cc9,_cca,_ccb,_ccc,_ccd,_cce,_ccf,_cd0,_cd1,_cd2,_cd3,_cd4,_cd5,lang){var _cd6=_cd3("Sage.MainView.ActivityMgr.EditEventEditor",[_cc0,_cc1],{eventId:null,mode:false,_dialog:false,_currentUserId:null,_eventService:false,_eventData:false,_eventStore:false,_bindingMgr:false,_eventChangeConnection:false,lup_User:false,eventDefaultValues:{},eventConnections:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>",'<div data-dojo-type="dijit.Dialog" id="eventDialog" title="" dojoAttachPoint="_dialog" >','<div class="event-dialog">','<div data-dojo-type="dijit.layout.ContentPane" id="{%= $.id%}_cp_event" title="" dojoAttachPoint="cp_Event" class="tabContent">','<div data-dojo-type="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="140">','<div data-dojo-type="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" label="{%= $.lblStartDateText %}" id="{%= $.id%}_tb_StartDate" name="tb_StartDateName" dojoAttachPoint="tb_StartDate" displayDate="true" displayTime="false"  ></div>','<div data-dojo-type="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" label="{%= $.lblEndDateText %}" id="{%= $.id%}_tb_EndDate" name="tb_EndDateName" dojoAttachPoint="tb_EndDate" displayDate="true" displayTime="false" ></div>','<select  dojoAttachPoint="tb_DayType" data-dojo-type="dijit.form.ComboBox" required="false" name="tb_DayType"  label="{%= $.lblDayTypeText %}" id="{%= $.id%}_tb_DayType" >','<option value="Active" >{%=$.eventTypeActiveText %}</option>','<option value="Business Trip" >{%=$.eventTypeBusinessTripText %}</option>','<option value="Conference" >{%=$.eventTypeConferenceText%}</option>','<option value="Holiday" selected="selected" >{%=$.eventTypeHolidayText%}</option>','<option value="Off" >{%=$.eventTypeOffText%}</option>','<option value="Trade Show" >{%=$.eventTypeTradeShowText%}</option>','<option value="Unavailable" >{%=$.eventTypeUnavailableText%}</option>','<option value="Vacation" >{%=$.eventTypeVacationText%}</option>',"</select>",'<input data-dojo-type="dijit.form.TextBox" id="{%= $.id %}_tb_Location" label="{%= $.lblLocationText %}" dojoAttachPoint="tb_Location" maxLength="255" />','<textarea data-dojo-type="dijit.form.SimpleTextarea" label="{%= $.lblDescriptionText %}" id="{%= $.id%}_tb_Description" name="tb_Description" dojoAttachPoint="tb_Description" rows="4" cols="1"  maxLength="128"  ></textarea>','<div class="event-dialog remove-padding">','<div dojoType="dijit.layout.ContentPane" label="{%= $.lblUserText %}" dojoAttachPoint="container_UserLup" class="remove-padding lookup-container"></div>',"</div>","</div>","</div>",'<div class="button-bar alignright">','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.btnOkayText %}</div>','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $. btnCancelText %}</div>',"</div>","</div>","</div>","</div>"]),constructor:function(){dojo.mixin(this,_cd4);this._eventService=_cd0.getSDataService("dynamic");this._setEventStore();this._currentUserId=_ccf.getClientContextByKey("userID")||"";},destroy:function(){if(this._eventChangeConnection){dojo.disconnect(this._eventChangeConnection);this._eventChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}if(this.lup_User){this.lup_User.destroy();}this.inherited(arguments);},show:function(_cd7){if(!this.lup_User){this._createUserLookup();}if(this.mode==="New"){this._dialog.set("title",this.titleScheduleText);}else{this._dialog.set("title",this.titleEditText);}this.eventDefaultValues=_cd7||{};this._loadData();this._dialog.set("refocus",false);this._dialog.show();if(!this._dialog.helpIcon){_cd2.mixin(this._dialog,new _cd1());this._dialog.createHelpIconByTopic("addevent");}},hide:function(){this._dialog.hide();},resize:function(){},_setModeAttr:function(mode){this.mode=mode;if(mode.indexOf("New")===0){this.mode="New";this._eventData=false;}},_setEventIdAttr:function(_cd8){if(this.eventId!==_cd8){this.eventId=_cd8;this._eventData=false;}},_getEventIdAttr:function(){return this.eventId;},_setEventStore:function(){if(!this._eventStore){this._eventStore=new _ccb({include:[],select:["StartDate","EndDate","Description","Type","Location","UserId"],resourceKind:"events",service:this._eventService});}},onChange:function(_cd9,_cda,_cdb,_cdc){},setMode:function(mode){this._mode=mode;},_loadData:function(){this._eventData=false;if(this._eventStore){if(this.mode!=="New"){this._eventStore.fetch({predicate:"'"+this.eventId+"'",onComplete:this._receivedEvent,onError:this._requestFailure,scope:this});}else{this._eventStore.newItem({onComplete:function(_cdd){_ccf.setValue(_cdd,"UserId",this._currentUserId);this._receivedEvent(_cdd);},scope:this});}}},_receivedEvent:function(_cde){if(this.mode==="New"){this._eventData=(dojo.mixin(_cde,this.eventDefaultValues));}else{this._eventData=_cde;}this._bind();},_requestFailure:function(msg,_cdf,opts){},_bind:function(){if(this._eventData){if(!this._bindingMgr){this._bindingMgr=new _ccc({defaultBinding:{boundEntity:this._eventData},items:[{boundWidget:this.tb_StartDate,entityProperty:"StartDate",dataType:"date"},{boundWidget:this.tb_EndDate,entityProperty:"EndDate",dataType:"date"},{boundWidget:this.tb_DayType,entityProperty:"Type"},{boundWidget:this.tb_Description,entityProperty:"Description"},{boundWidget:this.tb_Location,entityProperty:"Location"}]});this._eventChangeConnection=dojo.connect(this._bindingMgr,"onChange",this,"onChange");}else{if(!this._bindingMgr.boundEntity||(this._eventData["$key"]!==this._bindingMgr.boundEntity["$key"])){this._bindingMgr.setBoundEntity(this._eventData);}else{this._bindingMgr.bind();}}this._bindUserLookup();}},_bindUserLookup:function(){if(this._eventData.UserId){if(this._eventData.UserId===this._currentUserId){var _ce0={"$key":this._currentUserId,"$descriptor":_ccf.getClientContextByKey("userPrettyName")};this.lup_User.set("selectedObject",_ce0);}else{this._getUserInfoFor(this._eventData.UserId,function(user){this.lup_User.set("selectedObject",user);});}}else{this.lup_User.set("selectedObject",null);}},_getUserInfoFor:function(_ce1,_ce2){var _ce3=new Sage.SData.Client.SDataSingleResourceRequest(_cd0.getSDataService("dynamic",false,true,true));_ce3.setResourceKind("userInfo");_ce3.setResourceSelector("'"+_ce1+"'");_ce3.setQueryArg("precedence","0");_ce3.read({success:_ce2,scope:this,failure:function(){}});},_createUserLookup:function(){var _ce4={id:"_eventUser",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return"AllowAdd AND (AccessId eq '"+_ccf.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupUserText,dialogButtonText:this.btnOkayText};this.lup_User=new Sage.UI.Controls.Lookup({id:"event_lu_user",config:_ce4});this.eventConnections.push(dojo.connect(this.lup_User,"onChange",this,"_userChanged"));dojo.place(this.lup_User.domNode,this.container_UserLup.domNode,"only");},_userChanged:function(_ce5){_ccf.setValue(this._eventData,"UserId",(_ce5)?_ce5["$key"].substr(0,12):"");},datesValid:function(){var _ce6=this.tb_StartDate.value;var _ce7=this.tb_EndDate.value;_ce7=new Date(_ce7.getFullYear(),_ce7.getMonth(),_ce7.getDate(),0,0);this._eventData.EndDate=new Date(_ce7.getFullYear(),_ce7.getMonth(),_ce7.getDate(),new Date().getHours(),new Date().getMinutes(),new Date().getSeconds());this._eventData.StartDate=new Date(_ce6.getFullYear(),_ce6.getMonth(),_ce6.getDate(),new Date().getHours(),new Date().getMinutes(),new Date().getSeconds());_ce6=new Date(_ce6.getFullYear(),_ce6.getMonth(),_ce6.getDate(),0,0);if(_ce6>_ce7){_cce.showError(this.invaildDatesText);return false;}return true;},_okClick:function(){var _ce8=_cd5.curNode;if(_ce8){_ce8.blur();}setTimeout(lang.hitch(this,function(){if(!this.datesValid()){return;}if(this.mode==="New"){this._eventStore.saveNewEntity(this._eventData,this._successEventCreated,this._failedEventCreated,this);}else{this._eventStore.save({scope:this,success:this._successEventUpdated,failure:this._failedEventUpdated});}}),1);},_cancelClick:function(){this.hide();},_successEventCreated:function(_ce9){dojo.publish("/entity/event/create",[_ce9,this]);this.hide();},_failedEventCreated:function(_cea){_cce.showError(this.errorText);},_successEventUpdated:function(_ceb){dojo.publish("/entity/event/change",[_ceb,this]);this.hide();},_failedEventUpdated:function(_cec){_cce.showError(this.errorText);}});return _cd6;});},"Sage/UI/SLXPreviewGrid/Grid":function(){define("Sage/UI/SLXPreviewGrid/Grid",["Sage/UI/EditableGrid","dijit/layout/BorderContainer","dijit/form/SimpleTextarea","dijit/_Widget","dijit/_Templated","dojo/i18n!../nls/SLXPreviewGrid","dojo/_base/declare"],function(_ced,_cee,_cef,_cf0,_cf1,_cf2,_cf3){var Grid=_cf3("Sage.UI.SLXPreviewGrid.Grid",[_cf0,_cee],{filterText:"Filter",previewField:"",columns:null,tools:null,slxContext:null,dblClickAction:null,contextualConditionFunction:null,liveSplitters:true,gutters:false,gridNodeId:"",_filter:null,_grid:null,_preview:null,constructor:function(){this.connections=[];},amIInATab:function(){if(this.slxContext&&this.slxContext.workspace){return(this.slxContext.workspace.indexOf("TabWorkspace")>-1);}return false;},isMyTabVisible:function(){if(this.amIInATab()&&TabControl){return TabControl.getState().isTabVisible(this.slxContext.tabId);}return true;},postMixInProperties:function(){dojo.mixin(this,_cf2);this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(this.previewField){this._preview=this._buildPreview();}this._filter=this._buildFilter();this._grid=this._buildGrid();},startup:function(){if(this._started){return;}this.inherited(arguments);this.domNode.style.visibility="visible";if(this._preview){var _cf4=this.getSplitter("right");this.connections.push(dojo.connect(_cf4,"_stopDrag",this,function(){this._setPref("previewSize",this._preview.domNode.style.width);this.layout();}));}},getSelectedRecords:function(_cf5){var _cf6=this._grid.selection.getSelected();return dojo.map(_cf6,function(rec){var _cf7={};dojo.forEach(_cf5,function(_cf8){_cf7[_cf8]=this._grid.store.getValue(rec,_cf8);},this);return _cf7;},this);},refresh:function(){this._grid.refresh();},setSortIndex:function(_cf9,_cfa){this._grid.setSortIndex(_cf9,_cfa);},setSortColumn:function(_cfb,_cfc){var _cfd=0;for(var i=0;i<this.columns.length;i++){if(_cfb===this.columns[i].field){_cfd=i;}}this._grid.setSortIndex(_cfd,_cfc);},addAssociatedItems:function(){this._grid.addAssociatedItems.apply(this._grid,arguments);},onSelected:function(){},_buildPreview:function(){var _cfe=new _cef({style:"height:100%; overflow: auto; width: "+this._getPref("previewSize","150px"),region:"right",splitter:true,readOnly:true});this.addChild(_cfe);dojo.addClass(_cfe.domNode,"preview-grid-text");return _cfe;},_buildGrid:function(){var _cff=[];if(this._filter){_cff.push({id:this.id+"_Filter",imageClass:"icon_Filter_16x16",tooltip:this.filterText,handler:dojo.hitch(this,function(){this._filter.toggle();this.layout();})});}if(this.tools){dojo.forEach(this.tools,function(item){_cff.push(item);});}var _d00={fn:this.contextualConditionFunction||this.contextualCondition,conditions:this._filter?this._filter.getQuery():null};if(!this.storeOptions){throw ("SLXPreviewGrid configuration is missing storeOptions");}this.storeOptions.select=this.storeOptions.select||[];this.storeOptions.select.push("Id");this.storeOptions.select.push(this.previewField);var grid=new _ced({id:this.domNode.id+"_grid",gridNodeId:this.id,tabId:this.slxContext.tabId,context:this.slxContext,region:"center",columnDefaults:{editable:false},columns:this.columns,tools:_cff,contextualCondition:_d00,storeOptions:this.storeOptions,keepSelection:true});this.connections.push(dojo.connect(grid,"onSelected",this,this._updatePreviewText));this.connections.push(dojo.connect(grid.store,"onSuccess",this,this._updatePreviewText));if(this.dblClickAction){dojo.connect(grid,"onRowDblClick",this,function(e){var rec=grid.getItem(e.rowIndex);var id=grid.store.getValue(rec,"$key");this.dblClickAction(id,rec);});}if(this._filter){dojo.connect(this._filter,"onFilterApply",this,function(_d01){_d00.conditions=this._filter.getQuery();grid.refresh();});}this.addChild(grid);return grid;},destroy:function(){var len=this.connections.length;for(var i=0;i<len;i++){dojo.disconnect(this.connections.pop());}this.inherited(arguments);},resetContextualCondition:function(_d02){this.contextualConditionFunction=_d02;var _d03={fn:this.contextualConditionFunction||this.contextualCondition,conditions:this._filter?this._filter.getQuery():null};this._grid.resetContextualCondition(_d03);},_updatePreviewText:function(){if(this.previewField){var sel=this._grid.selection.getSelected();var note="";if(sel.length>0&&sel[0]){note=sel[0][this.previewField]||this._grid.store.getValue(sel[0],this.previewField);}this._preview.set("value",note);}},_buildFilter:function(){var _d04=[];dojo.forEach(this.columns,function(cc){if(cc.filterConfig){var fc=dojo.mixin(dojo.clone(cc),cc.filterConfig);if(!fc.label){fc.label=cc.name;}_d04.push(fc);}});if(_d04.length===0){return null;}var _d05=new Sage.UI.SLXPreviewGrid.FilterPanel({id:this.id+"_filterpanel",region:"top",filterConfig:_d04,style:"display: none"});this.addChild(_d05);return _d05;},_getPref:function(_d06,_d07){var _d08=window["localStorage"];var key=this.id+_d06;if(_d08&&_d08[key]){return _d08[key];}return _d07;},_setPref:function(_d09,_d0a){var _d0b=window["localStorage"];if(_d0b){_d0b[this.id+_d09]=_d0a;}}});return Grid;});},"Sage/Utility/EntityRelationships":function(){define("Sage/Utility/EntityRelationships",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility"],function(_d0c,_d0d,_d0e,_d0f,_d10,_d11){Sage.namespace("Utility.EntityRelationships");Sage.Utility.EntityRelationships={_store:false,getRelationships:function(_d12,_d13,_d14){var _d15={};if(_d12.EntityId!==""){var id=_d12.EntityId;var _d16=_d12.EntityType.split(".");var _d17=_d16[_d16.length-1];switch(_d17){case"IAccount":this._getAccountRelationships(id,_d13,_d14);return;case"IContact":this._getContactRelationships(id,_d13,_d14);return;case"IOpportunity":this._getOpportunityRelationships(id,_d13,_d14);return;case"ITicket":this._getTicketRelationships(id,_d13,_d14);return;case"ISalesOrder":this._getSalesOrderRelationships(id,_d13,_d14);return;case"IActivity":this._getActivityRelationships(id,_d13,_d14);return;case"IHistory":this._getHistoryRelationships(id,_d13,_d14);return;case"IContract":this._getContractRelationships(id,_d13,_d14);return;case"IReturn":this._getReturnRelationships(id,_d13,_d14);return;}var _d18=_d12.EntityTableName.toLowerCase()+"Id";_d15[_d18]=id;_d13.call(_d14||this,_d15);return;}_d13.call(_d14||this,{});},_getRequest:function(_d19,id){var req=new Sage.SData.Client.SDataSingleResourceRequest(_d0d.getSDataService("dynamic"));req.setResourceKind(_d19);req.setResourceSelector('"'+id+'"');req.setQueryArg("precedence","0");return req;},_getAccountRelationships:function(id,_d1a,_d1b){var req=this._getRequest("accounts",id);req.setQueryArg("include","Contacts,$descriptors");req.setQueryArg("select","Contacts/IsPrimary");req.read({success:function(acc){var obj={AccountId:_d11.getValue(acc,"$key"),AccountName:_d11.getValue(acc,"$descriptor")};var _d1c="";var _d1d="";var _d1e=acc.Contacts.$resources;if(_d1e.length>0){_d1c=_d1e[0].$key;}for(var i=0;i<_d1e.length;i++){if(_d1e[i].IsPrimary){_d1c=_d1e[i].$key;_d1d=_d11.getValue(_d1e[i],"$descriptor");}}obj["ContactId"]=_d1c;obj["ContactName"]=_d1d;_d1a.call(_d1b||this,obj);},failure:function(){_d1a.call(_d1b||this,{"AccountId":id});},scope:this});},_getContactRelationships:function(id,_d1f,_d20){var req=this._getRequest("contacts",id);req.setQueryArg("include","Account,$descriptors");req.setQueryArg("select","Account");req.read({success:function(_d21){var obj={AccountId:_d11.getValue(_d21,"Account.$key"),AccountName:_d11.getValue(_d21,"Account.$descriptor"),ContactId:_d21.$key,ContactName:_d11.getValue(_d21,"$descriptor")};_d1f.call(_d20||this,obj);},failure:function(){_d1f.call(_d20||this,{"ContactId":id});},scope:this});},_getOpportunityRelationships:function(id,_d22,_d23){var req=this._getRequest("opportunities",id);req.setQueryArg("include","Account,Contacts,$descriptors");req.setQueryArg("select","Account,Contacts/IsPrimary");req.read({success:function(opp){var obj={AccountId:_d11.getValue(opp,"Account.$key"),AccountName:_d11.getValue(opp,"Account.$descriptor"),OpportunityId:opp.$key,OpportunityName:_d11.getValue(opp,"$descriptor")};var _d24="";var _d25="";var _d26=opp.Contacts.$resources;if(_d26.length>0){_d24=_d26[0].$key;}for(var i=0;i<_d26.length;i++){if(_d26[i].IsPrimary){_d24=_d26[i].$key;_d25=_d11.getValue(_d26[i],"$descriptor");}}obj["ContactId"]=_d24;obj["ContactName"]=_d25;_d22.call(_d23||this,obj);},failure:function(){_d22.call(_d23||this,{"OpportunityId":id});},scope:this});},_getSalesOrderRelationships:function(id,_d27,_d28){var req=this._getRequest("salesorders",id);req.setQueryArg("include","Account,$descriptors");req.read({success:function(so){var obj={AccountId:_d11.getValue(so,"Account.$key"),SalesOrderId:so.$key};_d27.call(_d28||this,obj);},failure:function(){_d27.call(_d28||this,{"SalesOrderId":id});},scope:this});},_getTicketRelationships:function(id,_d29,_d2a){var req=this._getRequest("tickets",id);req.setQueryArg("include","Account,Contact,$descriptors");req.read({success:function(_d2b){var obj={AccountId:_d11.getValue(_d2b,"Account.$key"),AccountName:_d11.getValue(_d2b,"Account.$descriptor"),ContactId:_d11.getValue(_d2b,"Contact.$key"),ContactName:_d11.getValue(_d2b,"Contact.$descriptor"),TicketId:_d2b.$key,TicketNumber:_d11.getValue(_d2b,"$descriptor")};_d29.call(_d2a||this,obj);},failure:function(){_d29.call(_d2a||this,{"ticketId":id});},scope:this});},_getReturnRelationships:function(id,_d2c,_d2d){var req=this._getRequest("returns",id);req.setQueryArg("include","Account,ReturnedBy,Ticket,$descriptors");req.read({success:function(rma){var obj={ReturnId:rma.$key,ReturnNumber:_d11.getValue(rma,"$descriptor"),AccountId:_d11.getValue(rma,"Account.$key"),AccountName:_d11.getValue(rma,"Account.$descriptor"),TicketId:_d11.getValue(rma,"Ticket.$key"),TicketNumber:_d11.getValue(rma,"Ticket.$descriptor"),ContactId:_d11.getValue(rma,"ReturnedBy.$key"),ContactName:_d11.getValue(rma,"ReturnedBy.$descriptor")};_d2c.call(_d2d||this,obj);},failure:function(){_d2c.call(_d2d||this,{returnId:id});},scope:this});},_getActivityRelationships:function(id,_d2e,_d2f){var req=this._getRequest("activities",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_d30){var obj={AccountId:_d11.getValue(_d30,"AccountId"),ActivityId:_d30.$key,ContactId:_d11.getValue(_d30,"ContactId"),LeadId:_d11.getValue(_d30,"LeadId"),OpportunityId:_d11.getValue(_d30,"OpportunityId"),TicketId:_d11.getValue(_d30,"TicketId")};_d2e.call(_d2f||this,obj);},failure:function(){_d2e.call(_d2f||this,{"ActivityId":id});},scope:this});},_getHistoryRelationships:function(id,_d31,_d32){var req=this._getRequest("history",id);req.setQueryArg("select","AccountId,ContactId,LeadId,OpportunityId,TicketId");req.read({success:function(_d33){var obj={AccountId:_d11.getValue(_d33,"AccountId"),HistoryId:_d33.$key,ContactId:_d11.getValue(_d33,"ContactId"),LeadId:_d11.getValue(_d33,"LeadId"),OpportunityId:_d11.getValue(_d33,"OpportunityId"),TicketId:_d11.getValue(_d33,"TicketId")};_d31.call(_d32||this,obj);},failure:function(){_d31.call(_d32||this,{"HistoryId":id});},scope:this});},_getContractRelationships:function(id,_d34,_d35){var req=this._getRequest("contracts",id);req.setQueryArg("include","Account,Contact,$descriptors");req.read({success:function(_d36){var obj={AccountId:_d11.getValue(_d36,"Account.$key"),AccountName:_d11.getValue(_d36,"Account.$descriptor"),ContractId:_d36.$key,ContractNumber:_d11.getValue(_d36,".$descriptor"),ContactId:_d11.getValue(_d36,"Contact.$key"),ContactName:_d11.getValue(_d36,"Contact.$descriptor")};_d34.call(_d35||this,obj);},failure:function(){_d34.call(_d35||this,{"ContractId":id});},scope:this});}};return Sage.Utility.EntityRelationships;});},"Sage/QuickForms/Design/nls/NonVisibleControlContainer":function(){define("Sage/QuickForms/Design/nls/NonVisibleControlContainer",["Sage/LanguageList","dojo/_base/lang"],function(_d37,lang){var nls={root:{headerText:"Non-Visual Controls"}};return lang.mixin(_d37,nls);});},"Sage/MainView/JobMgr/SchedulesListPanelConfig":function(){define("Sage/MainView/JobMgr/SchedulesListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/SchedulesListPanelConfig","dojo/_base/lang","Sage/Utility/Jobs"],function(_d38,_d39,_d3a,_d3b,_d3c,_d3d){var _d3e=_d3a("Sage.MainView.JobMgr.SchedulesListPanelConfig",[_d38],{constructor:function(){_d3c.mixin(this,_d3b);this._listId="Schedules";this._resourceKind="triggers";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="SchedulesListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){return[{field:"$descriptor",name:this.colNameTriggerName,width:"100px"},{field:"job",name:this.colNameJobName,width:"100px",formatter:_d3d.formatJobDescription},{field:"user",name:this.colNameUser,width:"100px",formatter:_d3d.formatUser},{field:"startTimeUtc",name:this.colNameStartTimeUtc,width:"100px",formatter:_d3d.formatDate},{field:"endTimeUtc",name:this.colNameEndTimeUtc,width:"100px",formatter:_d3d.formatDate},{field:"priority",name:this.colNamePriority,width:"100px"},{field:"status",name:this.colNameStatus,width:"100px"},{field:"timesTriggered",name:this.colNameTimesTriggered,width:"100px"}];},_getSelect:function(){var _d3f=["$key","job","user","startTimeUtc","endTimeUtc","repeatCount","repeatInterval","priority","status","timesTriggered"];return _d3f;},_getWhere:function(){return"";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getInclude:function(){var _d40=["$descriptors,$key"];return _d40;},_getSummaryListRequestConfig:function(){var _d41={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false,sort:this._getSort()};return _d41;},_getFormatterScope:function(){var _d42=this._getSummaryListRequestConfig();var _d43=new _d39({templateLocation:"MainView/JobMgr/templates/SchedulesListSummary.html",resetDataManager:true,requestConfiguration:_d42});return _d43;},_getSummaryDetailRequestConfig:function(){var _d44={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description","job","user"],include:["$descriptors"],useBatchRequest:false};return _d44;},_getDetailConfig:function(){var _d45=this._getFormatterScope();var _d46=this._getSummaryDetailRequestConfig();var _d47={resourceKind:this._resourceKind,requestConfiguration:_d46,templateLocation:"MainView/JobMgr/Templates/ScheduleDetailSummary.html"};return _d47;},_getToolBars:function(){var _d48={items:[]};return _d48;}});return _d3e;});},"Sage/UI/Controls/nls/Name":function(){define("Sage/UI/Controls/nls/Name",["Sage/LanguageList","dojo/_base/lang"],function(_d49,lang){var nls={root:{okText:"OK",cancelText:"Cancel",dialogTitle:"Edit Name",prefixText:"Prefix:",nameFirstText:"First:",nameMiddleText:"Middle:",nameLastText:"Last:",suffixText:"Suffix:",buttonTooltip:"Edit"}};return lang.mixin(_d49,nls);});},"Sage/UI/GridMenuItem":function(){require({cache:{"url:Sage/templates/GridMenuItem.html":'<tr class="dijitGridMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\n\t<td class="dijitReset dijitMenuItemLabel" colspan="4" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation" style="display:none">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="display:none">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n    <td class="dijitReset dijitMenuItemIconCell" role="presentation" style="display:none">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n</tr>\n'}});define("Sage/UI/GridMenuItem",["dijit/MenuItem","dojox/grid/EnhancedGrid","dojo/text!../templates/GridMenuItem.html","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/aspect","dojo/_base/lang","dojo/topic"],function(_d4a,_d4b,_d4c,_d4d,_d4e,_d4f,_d50,lang,_d51){var _d52=_d4d("Sage.UI.GridMenuItem",_d4a,{grid:null,templateString:_d4c,startup:function(){this.inherited(arguments);_d50.after(this.getParent(),"onOpen",lang.hitch(this,this.startGrid));var h=this.gridOptions.height||this.height||"250px",w=this.gridOptions.width||this.width||"150px";_d4e.set(this.focusNode,{height:h,width:w});},startGrid:function(){if(this.grid&&this.grid.started){if(this.grid.lastScrollTop===0){this.grid.resize();}else{this.grid.setScrollTop(this.grid.lastScrollTop);}return;}else{if(typeof this.gridOptions!=="undefined"){var _d53=(this.gridOptions.hasOwnProperty("cssClass"))?this.gridOptions.cssClass:"",_d54;this.gridOptions.cssClass=_d53+" menuGrid";if(this.grid){var _d55=this.grid.layout.cells[2].hidden;if(_d55!==this.gridOptions.structure[2].hidden){if(_d55){this.gridOptions.structure[1].width="260px";}else{this.gridOptions.structure[1].width="205px";}this.gridOptions.structure[2].hidden=_d55;}this.grid.destroyRecursive();}this.grid=new _d4b(this.gridOptions);_d4f.place(this.grid.domNode,this.containerNode,"only");this.grid.canSort=function(col){if(Math.abs(col)===1){return false;}return true;};if(this.gridOptions.hasOwnProperty("_onCellClick")){this.grid.on("cellClick",lang.hitch(this.gridOptions,this.gridOptions._onCellClick));}if(this.gridOptions.hasOwnProperty("_onCanSelect")){this.grid.on("canSelect",lang.hitch(this.gridOptions,this.gridOptions._onCanSelect));}this.grid.startup();this.grid.started=true;_d54=_d50.after(this.grid,"_onFetchComplete",lang.hitch(this,function(){_d51.publish("sage/ui/groups/gridMenuStarted",this);_d54.remove();}));}}},_onClick:function(e){e.stopPropagation();}});return _d52;});},"Sage/UI/Controls/DependencyLookup":function(){define("Sage/UI/Controls/DependencyLookup",["dijit/Dialog","Sage/UI/Controls/DependControl","dojo/_base/declare"],function(_d56,_d57,_d58){var _d59=_d58("Sage.UI.Controls.DependencyLookup",null,{ClientId:"",PanelId:"",InitCall:null,LookupControls:null,CurrentIndex:0,AutoPostBack:false,panel:null,Title:"",Size:"",constructor:function(_d5a,_d5b,size,_d5c,_d5d){this.ClientId=_d5a;this.PanelId=_d5a+"_Panel";this.InitCall=_d5b;this.LookupControls=[];this.CurrentIndex=0;this.Size=size+"px";this.AutoPostBack=_d5c;this.panel=null;this.Title=_d5d;},CanShow:function(){var _d5e=false;if(Sys){var prm=Sys.WebForms.PageRequestManager.getInstance();_d5e=prm.get_isInAsyncPostBack();}if(!_d5e){return true;}else{var id=this.ClientId+"_obj";var _d5f=function(){window[id].Show("");};Sage.SyncExec.call(_d5f);return false;}},Show:function(){if(this.CanShow()){if(this.panel===null){this.panel=dijit.byId(this.PanelId+"_Dialog");var _d60=dojo.byId(this.PanelId);if(!this.panel){_d60.style.display="block";dojo.place(_d60,dojo.byId("mainform"),"last");this.panel=new _d56({id:this.PanelId+"_Dialog",content:_d60,title:this.Title||""});this.panel.startup();dojo.place(this.panel.domNode,dojo.byId("mainform"),"last");}else{this.panel.setContent(_d60);_d60.style.display="block";}if((this.CurrentIndex===0)||(this.LookupControls[i]!==undefined)){this.Init();}for(var i=0;i<this.CurrentIndex;i++){if(this.LookupControls[i]!==undefined){var text=dojo.byId(this.LookupControls[i].TextId);var _d61="";if(i>0){_d61=this.GetSeeds(i);}if((text.value!=="")||(_d61!=="")||(i===0)){this.LookupControls[i].CurrentValue=text.value;var _d62=this.LookupControls[i].ListId;var list=dojo.byId(_d62);if(list.options.length===0){this.LookupControls[i].LoadList(_d61);}}}}}this.panel.show();}},AddControl:function(_d63,_d64,_d65,type,_d66,_d67){var _d68=new _d57(_d63,_d64,_d65,type,_d66,_d67);this.LookupControls[this.CurrentIndex]=_d68;this.CurrentIndex++;},AddFilters:function(_d69,_d6a){},SelectionChanged:function(_d6b){if((_d6b+1)<this.CurrentIndex){this.LookupControls[_d6b+1].LoadList(this.GetSeeds(_d6b+1));for(var i=_d6b+2;i<this.CurrentIndex;i++){this.LookupControls[i].ClearList();}}},Ok:function(){this.panel.hide();for(var i=0;i<this.CurrentIndex;i++){var text=document.getElementById(this.LookupControls[i].TextId);var list=document.getElementById(this.LookupControls[i].ListId);if((list.selectedIndex!==undefined)&&(list.selectedIndex!=-1)){text.value=list.options[list.selectedIndex].text;}else{text.value="";}this.InvokeChangeEvent(text);}if(this.AutoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.ClientId,null);}else{document.forms(0).submit();}}},Init:function(){eval(this.InitCall);},InvokeChangeEvent:function(_d6c){if(document.createEvent){var _d6d=document.createEvent("HTMLEvents");_d6d.initEvent("change",true,true);_d6c.dispatchEvent(_d6d);}else{_d6c.fireEvent("onchange");}},GetSeeds:function(_d6e){var _d6f="";for(var i=_d6e;i>0;i--){var _d70=this.LookupControls[i-1];var _d71=this.LookupControls[i];var list=dojo.byId(_d70.ListId);if(list.selectedIndex==-1){return _d6f;}var seed=list.options[list.selectedIndex];_d6f+=_d71.SeedProperty+","+seed.text+"|";}_d6f=_d6f.substr(0,_d6f.length-1);return _d6f;},close:function(){this.panel.hide();}});return _d59;});},"Sage/UI/Columns/SlxEdit":function(){define("Sage/UI/Columns/SlxEdit",["dojo/i18n!./nls/SlxEdit","dojo/_base/declare"],function(_d72,_d73){var _d74=_d73("Sage.UI.Columns.SlxEdit",dojox.grid.cells.Cell,{field:"",entityType:"",cellValue:"",smartPart:"",appliedSecurity:"",dialogTitle:"",isCentered:true,dialogTop:0,dialogLeft:0,dialogHeight:0,dialogWidth:0,formObjectName:"",constructor:function(){dojo.mixin(this,_d72);if(!this.hidden){if(!this.appliedSecurity&&arguments.appliedSecurity){this.appliedSecurity=arguments.appliedSecurity;}if(this.appliedSecurity){var svc=Sage.Services.getService("RoleSecurityService");if(svc){this.hidden=!svc.hasAccess(this.appliedSecurity);}}}this.inherited(arguments);},format:function(_d75,_d76){if(_d76===null){return this.defaultValue;}var _d77=this.cellValue;if(this.cellValue===""&&this.field!==""){_d77=Sage.Utility.getValue(_d76,this.field);}if(this.cellValue===""&&_d77===""){_d77=this.editText;}var _d78=Sage.Utility.getValue(_d76,"$key");if(_d78.match(/[=]/)){_d78=_d78.match(/[=]\S{12}/g).join(",").replace(/=/g,"");}return String.format('<a href="{0}">{1}</a>',String.format("javascript:Sage.Utility.loadDetailsDialog( {{ entityType:'{0}', smartPart:'{1}', entityId:'{2}', dialogTitle:'{3}', isCentered:{4}, dialogTop:{5}, dialogLeft:{6}, dialogHeight:{7}, dialogWidth:{8} }} );",this.entityType,this.smartPart,_d78,this.dialogTitle,this.isCentered,this.dialogTop,this.dialogLeft,this.dialogHeight,this.dialogWidth),_d77);}});return _d74;});},"Sage/MainView/JobMgr/nls/ExecutionsListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/ExecutionsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_d79,lang){var nls={root:{loadingText:"Loading...",colNameJobName:"Type",colNameUser:"User",colNamePhase:"Phase",colNamePhaseDetail:"Phase Detail",colNameProgress:"Progress",colNameElapsed:"Elapsed Time",colNameStatus:"Status",colNameResult:"Result"}};return lang.mixin(_d79,nls);});},"Sage/Services/RoleSecurityService":function(){define("Sage/Services/RoleSecurityService",["dijit/_Widget","Sage/Data/SDataServiceRegistry","Sage/Utility/_LocalStorageMixin","dojo/_base/declare"],function(_d7a,_d7b,_d7c,_d7d){var _d7e=_d7d("Sage.Services.RoleSecurityService",[_d7a,_d7c],{_currentUserId:"",_accessListCache:false,_enabled:true,_nameSpace:"Sage_SalesLogix_RoleSecurityService",_clearCache:false,constructor:function(_d7f){this.inherited(arguments);dojo.mixin(this,_d7f);this._currentUserId=this._getCurrentUserId();},postCreate:function(_d80){this._getFromCache();},_getCurrentUserId:function(){if(!this._currentUserId){var _d81=Sage.Services.getService("ClientContextService");if(_d81){if(_d81.containsKey("userID")){this._currentUserId=_d81.getValue("userID");}}}return this._currentUserId;},_virtuald:function(){var _d82=/^\/([^\/]+)\//.exec(location.pathname);return _d82?_d82[1]:"";},hasAccess:function(_d83,_d84){var _d85=this._internalHasAccess(_d83);if(_d84){_d84(_d85);}return _d85;},_internalHasAccess:function(_d86){if(!this._enabled){return true;}if(!_d86){return true;}if(_d86.trim()===""){return true;}if(this._getCurrentUserId().trim()==="ADMIN"){return true;}var _d87=this._getAccessList();if(_d87){for(var i=0;i<_d87.length;i++){if(_d87[i]===_d86){return true;}}}return false;},_getAccessList:function(){if(this._accessListCache){return this._accessListCache.securedActions;}else{var _d88=this._getFromCache();if(_d88){return _d88.securedActions;}}return false;},_getFromCache:function(){var me=this;var _d89=this._getCurrentUserId();var _d8a=this.getFromLocalStorage(this._nameSpace,this._nameSpace);if(_d8a){for(var i=0;i<_d8a.length;i++){if(_d8a[i].userId===_d89){if(this._clearCache){this._clearCache=false;_d8a.splice(i,1);}else{this._accessListCache=_d8a[i];return _d8a[i];}}}}this._loadUserAccessList(function(_d8b){if(!_d8a){_d8a=[];}me._accessListCache=_d8b;_d8a.push(_d8b);me.saveToLocalStorage(me._nameSpace,_d8a,me._nameSpace);});return false;},_loadUserAccessList:function(_d8c){var _d8d=new Sage.SData.Client.SDataServiceOperationRequest(Sage.Data.SDataServiceRegistry.getSDataService("system")).setContractName("system").setOperationName("getCurrentUser");_d8d.execute({},{success:function(data){if(_d8c){_d8c(data.response);}},failure:function(data){},scope:this});}});if(!Sage.Services.hasService("RoleSecurityService")){Sage.Services.addService("RoleSecurityService",new Sage.Services.RoleSecurityService());}return _d7e;});},"url:Sage/MainView/IntegrationContract/templates/InvoiceRTDV.html":'[\n\'<div>\',\n    \'<div dojoType="dijit.Dialog" id="{%= $.id%}_invoiceDetailsDialog" title="{%= $.dialogCaption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:hideDetailsDialog">\',\n        \'<div dojoAttachPoint="loadingContainer">\',\r\n            \'<br />\',\r\n            \'<label class="wizardsectiontitle boldText padBottom" style="padding-left:20px">{%= $.loadingText %}</label>\',\r\n            \'<br />\',\r\n            \'<br />\',\r\n        \'</div>\',\n        \'<div dojoAttachPoint="invoiceDialogContent" class="display-none">\',\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2">\',\n                 \'<input dojoType="dijit.form.TextBox" name="reference" id="{%= $.id%}_reference" label="{%= $.lblInvoiceCaption %}" readonly="true" />\',\n                 \'<input dojoType="dijit.form.TextBox" name="grossTotal" id="{%= $.id%}_grossTotal" label="{%= $.lblNetTotalCaption %}" readonly="readonly" />\',\n            \'</div >\',\n            \'<div style="height:350px;width:800px">\',\r\n                \'<div id="{%= $.id%}_invoiceTabContainer" dojoAttachPoint="invoiceTabContainer" dojoType="dijit.layout.TabContainer" style="width:100%;height:100%;">\',\r\n                    \'<div id="{%= $.id%}_invoiceContent" dojoAttachPoint="invoiceContent" dojoType="dijit.layout.ContentPane" title="{%= $.detailsTabTitle %}" selected="true">\',\r\n                        \'<div id="{%= $.id%}_divInvoiceDetails">\',\r\n                            \'<table cellspacing="5">\',\n                                \'<col style="width:200px" />\',\r\n                                \'<col style="width:200px" />\',\n                                \'<tr>\',\n                                    \'<td>\',\r\n                                        \'<label for="Invoice_date">{%= $.lblInvoiceDateCaption %}</label>\',\r\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_invoiceDate" name="date" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="invoiceDiscountPercent">{%= $.lblInvoiceDiscountPercentCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_discountPercent" name="invoiceDiscountPercent" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\r\n                                        \'<label for="Invoice_deliveryDate">{%= $.lblDueDateCaption %}</label>\',\r\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_deliveryDate" name="deliveryDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_carrierTotalPrice">{%= $.lblCarrierTotalPriceCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_carrierTotalPrice" name="carrierTotalPrice" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_customerReference">{%= $.lblCustomerPOCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_customerReference" name="customerReference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\r\n                                        \'<label for="Invoice_taxTotal">{%= $.lblTaxCaption %}</label>\',\r\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_taxTotal" name="taxTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="settlementDiscountPercent">{%= $.lblSettlementDiscountPercentCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_settlementDiscountPercent" name="settlementDiscountPercent" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_notes">{%= $.lblNotesCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_notes" name="notes" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="settlementDiscountTerms">{%= $.lblSettlementDiscountTermsCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_settlementDiscountTerms" name="settlementDiscountTerms" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_costTotal">{%= $.lblCostTotalCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_costTotal" name="costTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="operatingCompanyCurrency">{%= $.lblOCCurrencyCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_operatingCompanyCurrency" name="operatingCompanyCurrency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_profitTotal">{%= $.lblProfitTotalCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_profitTotal" name="profitTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="operatingCompanyCurrencyExchangeRateDate">{%= $.lblOperatingCompanyCurrencyExchangeRateDateCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_operatingCompanyCurrencyExchangeRateDate" name="operatingCompanyCurrencyExchangeRateDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_priceList">{%= $.lblPriceListCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_priceList" name="pricelist.name" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_currency">{%= $.lblCurrencyCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_currency" name="currency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_salesPerson">{%= $.lblSalesPersonCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_salesPerson" name="buyerContact.fullName" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\n                                \'<tr>\',\n                                    \'<td>\',\n                                        \'<label for="Invoice_invoiceDiscountAmount">{%= $.lblInvoiceDiscountAmountCaption %}</label>\',\n                                    \'</td>\',\n                                    \'<td>\',\n                                        \'<input type="text" id="{%= $.id%}_invoiceDiscountAmount" name="invoiceDiscountAmount" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                    \'</td>\',\n                                \'</tr>\',\r\n                            \'</table>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_addressesContent" dojoType="dijit.layout.ContentPane" title="{%= $.addressTabTitle %}" style="width:100%;height:100%;">\',\r\n                        \'<div id="sdgrdInvoiceAddresses" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdInvoiceAddresses_Grid" dojoAttachPoint="sdgrdInvoiceAddresses_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_invoiceLinesContent" dojoType="dijit.layout.ContentPane" title="{%= $.invoiceLinesTabTitle %}" style="width:100%;height:100%;">\',\r\n                        \'<div id="sdgrdInvoiceLines" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdInvoiceLines_Grid" dojoAttachPoint="sdgrdInvoiceLines_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_paymentsContent" dojoType="dijit.layout.ContentPane" title="{%= $.paymentsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Payments" dojoAttachEvent="onShow:initPayments">\',\r\n                        \'<div id="sdgrdPayments" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdPayments_Grid" dojoAttachPoint="sdgrdPayments_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                    \'<div id="{%= $.id%}_deliveriesContent" dojoType="dijit.layout.ContentPane" title="{%= $.deliveriesTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Deliveries" dojoAttachEvent="onShow:initDeliveries">\',\r\n                        \'<div id="sdgrdDeliveries" style="width:100%;height:100%;">\',\r\n                            \'<div id="{%= $.id%}_sdgrdDeliveries_Grid" dojoAttachPoint="sdgrdDeliveries_Grid" style="width:100%;height:100%;"></div>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n            \'<div class="button-bar alignright">\',\r\n                 \'<button dojoType="dijit.form.Button" id="{%= $.id%}_invoiceBtnClose" type="button" dojoAttachEvent="onClick:hideDetailsDialog">{%= $.btnCloseCaption %}</button>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]',"Sage/QuickForms/Design/nls/PhoneControlDesigner":function(){define("Sage/QuickForms/Design/nls/PhoneControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_d8e,lang){var nls={root:{displayNameText:"Phone"}};return lang.mixin(_d8e,nls);});},"url:Sage/UI/Controls/templates/CopyToClipboard.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" dojoAttachPoint="dialogNode">\r\n        \r\n        <span>${helpText}</span>\r\n        <div style="width: 550px; height: 400px;">\r\n            <div data-dojo-type="dijit.layout.TabContainer" dojoAttachPoint="tabNode" style="width: 100%; height: 100%;">\r\n                <div data-dojo-type="dijit.layout.ContentPane" title="${textTab}">\r\n                    <div dojoAttachPoint="contentNode"></div>\r\n                </div>\r\n            \r\n                <div data-dojo-type="dijit.layout.ContentPane" title="${sourceTab}">\r\n                    <textarea dojoAttachPoint="textNode" data-dojo-type="dijit.form.SimpleTextarea" style="width: 100%; height: 95%;"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n        <div style="float:right;padding-bottom:8px;">\r\n            <button data-dojo-type="dijit.form.Button" type="submit" dojoAttachEvent="onClick:_closeClicked">\r\n                ${closeText}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n',"Sage/MainView/Lead/nls/UpdateLeads":function(){define("Sage/MainView/Lead/nls/UpdateLeads",["Sage/LanguageList","dojo/_base/lang"],function(_d8f,lang){var nls={root:{updateMultipleLeads_Caption:"Update Multiple Leads",labelWidth:"100",btnCancel_Caption:"Cancel",ok_Text:"OK",update_To_Caption:"To:",update_Property_Caption:"Update:",updateProp_Owner:"Owner",lookupOwnerText:"Lookup Owner:",lookupDescriptionColText:"Description",updateProp_AcctMgr:"Account Manager",lookupActMgrText:"Lookup Account Manager",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",errorUnspecifiedValue:"Please specify a value before continuing.",errorRequestingJobMgr:"An error occurred requesting the job manager.",updateLeadsTitle:"Update Leads"}};return lang.mixin(_d8f,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportParametersDialog.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" title="{%= $._getDialogTitle() %}" dojoattachpoint="_dialog" dojoattachevent="onCancel:_dialog_OnCancel" style="width: 600px">\r\n        <div data-dojo-type="dijit.form.Form">\r\n            <div style="overflow:auto">\r\n                <div dojoattachpoint="paramsContainerDiv" id="paramsContainerDiv" style="height:350px; overflow:auto">\r\n                </div>\r\n            </div>\r\n            <div align="right" style="margin-top:10px">\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdBack" dojoAttachEvent="onClick:_cmdBack_OnClick" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdNext" dojoAttachEvent="onClick:_cmdNext_OnClick">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog",["dojo/_base/declare","dojo/_base/array","dojo/text!./templates/CrystalReportParametersDialog.html","dojo/i18n!./nls/CrystalReportParametersDialog","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor","Sage/MainView/ReportMgr/Crystal/StringParameterEditor","Sage/MainView/ReportMgr/Crystal/MultiselectStringParameterEditor","Sage/MainView/ReportMgr/Crystal/DateParameterEditor","Sage/MainView/ReportMgr/Crystal/DateRangeParameterEditor","Sage/MainView/ReportMgr/Crystal/NumberParameterEditor","Sage/MainView/ReportMgr/Crystal/MultiselectNumberParameterEditor","dijit/Dialog","dijit/form/Form","Sage/Utility"],function(_d90,_d91,_d92,_d93,_d94,_d95,_d96,_d97,_d98,_d99,_d9a,_d9b,_d9c,_d9d,Form,_d9e){var _d9f=_d9e.makeTemplateFromString(_d92.replace("\n",""));var _da0=_d90("Sage.MainView.ReportMgr.Crystal.CrystalReportParametersDialog",[_d95],{id:"dlgCrystalReportParameters",widgetTemplate:_d9f,_nlsResources:_d93,_helpIconTopic:"RptscheduleWiz",_parameterWidgets:null,_parameters:null,_currentStep:_d94.CrystalReportWizardStep.Parameters,constructor:function(_da1){this._initializeWizardOptions(_da1);this._parameterWidgets=[];this._parameters=(_da1.parameters&&_da1.parameters.length>0)?_da1.parameters:_da1.reportMetadata.parameters;},destroy:function(){_d91.forEach(this._parameterWidgets,function(_da2,i){_da2.destroyRecursive();});this._dialog.destroyRecursive();this.inherited(arguments);},startup:function(){this.inherited(arguments);this._loadPromptParameters();},isValid:function(){var _da3=true;_d91.forEach(this._parameterWidgets,function(_da4,i){_da3=_da3&&_da4.isValid();});return _da3;},_loadPromptParameters:function(){var self=this;_d91.forEach(this._parameters,function(_da5,i){if(!_da5.name.toUpperCase().startsWith("PM-")){var _da6=self._getParameterEditor(_da5);if(_da6){_da6.placeAt(self.paramsContainerDiv);_da6.startup();self._parameterWidgets.push(_da6);}else{console.error("This report uses parameters that are not currently supported.");}}});},_getDialogTitle:function(){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";},_getWizardStepResult:function(){var _da7=[];_d91.forEach(this._parameterWidgets,function(_da8,i){_da7.push(_da8.get("value"));});var _da9={parameters:_da7};return _da9;},_getParameterEditor:function(_daa){switch(_daa.parameterValueKind){case _d94.SlxParameterValueKind.BooleanParameter:return new _d96(_daa);case _d94.SlxParameterValueKind.StringParameter:if(_daa.allowMultiValue){return new _d98(_daa);}else{return new _d97(_daa);}break;case _d94.SlxParameterValueKind.DateParameter:switch(_daa.valueRangeKind){case _d94.SlxParameterValueRangeKind.Range:return new _d9a(_daa);case _d94.SlxParameterValueRangeKind.Discrete:return new _d99(_daa);default:console.error("Unknown parameter type: "+_daa.parameterValueKind+"/"+_daa.valueRangeKind);}break;case _d94.SlxParameterValueKind.NumberParameter:if(_daa.allowMultiValue){return new _d9c(_daa);}else{return new _d9b(_daa);}break;default:console.error("Unknown parameter type. valueKind:"+_daa.parameterValueKind+"/rangeKind:"+_daa.valueRangeKind+"/multiValue:"+_daa.allowMultiValue);return null;}}});return _da0;});},"Sage/MainView/BindingsManager":function(){define("Sage/MainView/BindingsManager",["dijit/_Widget","dojo/_base/declare","Sage/Utility/Activity"],function(_dab,_dac,_dad){var _dae=_dac("Sage.MainView.DataBinding",_dab,{boundEntity:false,boundWidget:false,widgetEvent:"onChange",widgetProperty:"value",entityProperty:false,defaultValue:"",twoWay:true,_connection:false,bind:function(){if(this.boundWidget&&this.boundEntity&&this.entityProperty){this.boundWidget.set(this.widgetProperty,this._formatValueFromEntity(Sage.Utility.getValue(this.boundEntity,this.entityProperty,this.defaultValue)));if(this.twoWay&&!this._connection){this._connection=dojo.connect(this.boundWidget,this.widgetEvent,dojo.hitch(this,"applyWidgetChange",this.boundWidget));}}},_formatValueFromEntity:function(val){return val;},applyWidgetChange:function(_daf,_db0){if(!_db0){_db0=_daf.get(this.widgetProperty);}var _db1=Sage.Utility.getValue(this.boundEntity,this.entityProperty);var _db2=this._formatValueFromControl(_db0);if(_db1!=_db2){Sage.Utility.setValue(this.boundEntity,this.entityProperty,_db2);this.onChange(this.boundEntity,this.entityProperty,_db1,_db0);}},_formatValueFromControl:function(val){return val;},_setBoundEntityAttr:function(_db3){this.boundEntity=_db3;this.bind();},destroy:function(){dojo.disconnect(this._connection);this.inherited(arguments);},onChange:function(_db4,_db5,_db6,_db7){}});var _db8=_dac("Sage.MainView.DateDataBinding",_dae,{_formatValueFromEntity:function(val){var _db9=Sage.Utility.Convert.toDateFromString(val);if(_db9&&_dad.isDateFiveSecondRuleTimeless(_db9)){_db9=new Date(_db9.getUTCFullYear(),_db9.getUTCMonth(),_db9.getUTCDate(),0,0,5);}return _db9;},_formatValueFromControl:function(val){if(!val||!val.getUTCFullYear){val=this.boundWidget.get(this.widgetProperty);if(!val||!val.getUTCFullYear){return"";}}return Sage.Utility.Convert.toIsoStringFromDate(val);}});var _dba=_dac("Sage.MainView.BindingsManager",null,{constructor:function(opts){this._bindings=[];this._connections=[];this.boundEntity=false;this._defaultBindingOptions={boundEntity:false,boundWidget:false,widgetEvent:"onChange",widgetProperty:"value",entityProperty:false,defaultValue:"",twoWay:true,dataType:"string"};var o=opts||{};var def=dojo.mixin(this._defaultBindingOptions,o.defaultBinding||{});var bdgs=o.items||[];for(var i=0;i<bdgs.length;i++){this._addNew(dojo.mixin({},def,bdgs[i]));}},add:function(_dbb){if(_dbb instanceof Sage.MainView.DataBinding){this._connections.push(dojo.connect(_dbb,"onChange",this,"onChange"));this._bindings.push(_dbb);}},_addNew:function(_dbc){if(_dbc.dataType==="date"){this.add(new _db8(_dbc));}else{this.add(new _dae(_dbc));}},addBindings:function(_dbd){if(dojo.isArray(_dbd)){for(var i=0;i<_dbd.length;i++){this._addNew(dojo.mixin(this._defaultBindingOptions,_dbd[i]));}}else{this._addNew(dojo.mixin(this._defaultBindingOptions,_dbd));}},bind:function(){for(var i=0;i<this._bindings.length;i++){if(this._bindings[i] instanceof Sage.MainView.DataBinding){this._bindings[i].bind();}}},setBoundEntity:function(_dbe){this._entity=_dbe;for(var i=0;i<this._bindings.length;i++){if(this._bindings[i] instanceof Sage.MainView.DataBinding){this._bindings[i].set("boundEntity",_dbe);}}},destroy:function(){var i,l=this._connections.length;for(i=0;i<l;i++){dojo.disconnect(this._connections.length);}this._connections=[];l=this._bindings.length;for(i=0;i<l;i++){var item=this._bindings.pop();item.destroy();}this._bindings=[];},onChange:function(_dbf,_dc0,_dc1,_dc2){}});return _dba;});},"Sage/TaskPane/ActivityTaskPaneItem":function(){define("Sage/TaskPane/ActivityTaskPaneItem",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_dc3,_dc4,_dc5){var _dc6=_dc5("Sage.TaskPane.ActivityTaskPaneItem",[_dc3,_dc4],{securedAction:"",linkText:"",action:"",postCreate:function(){this.checkSecurityAccess();},templateString:'<a dojoAttachPoint="linkTextNode" href="#"></a>',attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{linkText:{node:"linkTextNode",type:"innerHTML"},action:{node:"linkTextNode",type:"attribute",attribute:"href"}}),_getCurrentUserId:function(){var _dc7="";var _dc8=Sage.Services.getService("ClientContextService");if(_dc8){_dc7=_dc8.getValue("userID");}return _dc7;},checkSecurityAccess:function(){if(this.securedAction.length>0){var _dc9=this._getCurrentUserId();var _dca=this.linkTextNode;var _dcb=Sage.Services.getService("RoleSecurityService");_dcb.hasAccess(this.securedAction,function(_dcc){var _dcd="none";if(_dcc){_dcd="inline";}dojo.style(_dca,{"display":_dcd});});}else{dojo.style(this.linkTextNode,{"display":"inline"});}}});return _dc6;});},"Sage/MainView/ActivityMgr/SnoozeOptions":function(){define("Sage/MainView/ActivityMgr/SnoozeOptions",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/Dialog","dijit/form/Button","dijit/form/FilteringSelect","dojo/_base/declare","dojo/i18n!./nls/SnoozeOptions"],function(_dce,_dcf,_dd0,_dd1,_dd2,_dd3,_dd4,_dd5){var _dd6=_dd4("Sage.MainView.ActivityMgr.SnoozeOptions",[_dd0,_dce,_dcf],{fiveMinText:"5 minutes",tenMinText:"10 minutes",fifteenMinText:"15 minutes",thirtyMinText:"30 minutes",oneHourText:"x1 hour",twoHourText:"2 hours",fourHourText:"4 hours",eightHourText:"8 hours",oneDayText:"1 day",twoDayText:"2 days",threeDayText:"3 days",oneWeekText:"1 week",twoWeekText:"2 weeks",snoozeText:"Snooze",snoozeByText:"Snooze by:",snoozeAllText:"Snooze All",snoozeTitle:"Snooze Alarms",widgetsInTemplate:true,templateString:["<div>",'<div data-dojo-type="dijit.Dialog" id="_snoozeDialog" title="${snoozeTitle}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:hide">','<div class="alarm-snoozebar" dojoAttachPoint="_snoozebar">',"<table>","<tr>",'<td class="snoozeText">${snoozeByText}</td>','<td class="snoozeBy">','<select name="selectSnoozeBy" dojoAttachPoint="_selSnoozeBy" data-dojo-type="dijit.form.FilteringSelect">','<option value="5" selected="selected">${fiveMinText}</option>','<option value="10" >${tenMinText}</option>','<option value="15" >${fifteenMinText}</option>','<option value="30" >${thirtyMinText}</option>','<option value="60" >${oneHourText}</option>','<option value="120" >${twoHourText}</option>','<option value="240" >${fourHourText}</option>','<option value="480" >${eightHourText}</option>','<option value="1440" >${oneDayText}</option>','<option value="2880" >${twoDayText}</option>','<option value="4320" >${threeDayText}</option>','<option value="10080" >${oneWeekText}</option>','<option value="20160" >${twoWeekText}</option>',"</select>","</td>",'<td class="snoozeActions">','<button data-dojo-type="dijit.form.Button" type="button" dojoAttachEvent="onClick:_snooze">${snoozeText}</button>',"</td>","</tr>","</table>","</div>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_dd5);},show:function(){this._showWithUserOptions();},_showWithUserOptions:function(){var _dd7=Sage.Services.getService("UserOptions");if(_dd7){_dd7.getByCategory("ActivityAlarm",this._receivedOptions,this);}},_receivedOptions:function(data){var opts=data["$resources"];for(var i=0;i<opts.length;i++){var opt=opts[i];if(opt["name"].toUpperCase()==="DEFAULTSNOOZE"){var _dd8=opt["value"];this._selSnoozeBy.setValue(_dd8);}}this._dialog.show();},hide:function(){this.destroy();},destroy:function(){this._dialog.destroyRecursive();},_snooze:function(_dd9){var _dda=Sage.Services.getService("ActivityService");var _ddb=this._getNewAlarmTimeOptions();this.hide();_dda.snooze(null,_ddb);},_snoozeAll:function(){},_getNewAlarmTime:function(){var _ddc=this._getNewAlarmTimeOptions();var _ddd=dojo.date.add(new Date(),_ddc.interval,_ddc.duration);return Sage.Utility.Convert.toIsoStringFromDate(_ddd);},_getNewAlarmTimeOptions:function(){var dur=5,_dde="minute";var _ddf=this._selSnoozeBy.get("displayedValue");var _de0=this._selSnoozeBy.get("value");switch(_de0){case this.tenMinText:dur=10;break;case this.fifteenMinText:dur=15;break;case this.thirtyMinText:dur=30;break;case this.oneHourText:dur=1;_dde="hour";break;case this.twoHourText:dur=2;_dde="hour";break;case this.fourHourText:dur=4;_dde="hour";break;case this.eightHourText:dur=8;_dde="hour";break;case this.oneDayText:dur=1;_dde="day";break;case this.twoDayText:dur=2;_dde="day";break;case this.threeDayText:dur=3;_dde="day";break;case this.oneWeekText:dur=1;_dde="week";break;case this.twoWeekText:dur=2;_dde="week";break;default:dur=_de0;}var _de1={name:_ddf,duration:dur,interval:_dde};return _de1;},_showSnooze:function(){}});return _dd6;});},"Sage/UI/Controls/PickListAsText":function(){require({cache:{"url:Sage/UI/Controls/templates/PickListAsText.html":'<div>\r\n    <span id="${id}-Span" data-dojo-attach-point="textSpan"></span>\r\n</div>\r\n'}});define("Sage/UI/Controls/PickListAsText",["dijit/_Widget","dijit/_Templated","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/Controls/PickList","dojo/text!./templates/PickListAsText.html","dojo/_base/declare"],function(_de2,_de3,_de4,_de5,_de6,_de7,_de8,_de9){var _dea=_de9("Sage.UI.Controls.PickListAsText",[_de7,_de2,_de3],{constructor:function(_deb){if(_deb.clientId){this.id=_deb.clientId+"-PickListAsText";}this.inherited(arguments);},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.textSpan.innerHTML=data;}var _dec=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_dec.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:_dec};var _ded=new _de4({data:this.storeData});var _dee=dojo.byId(this.textId);var _def=dojo.byId(this.codeId);if(_dee&&_dee.value){this.initialValue=_dee.value;this.textSpan.innerHTML=this.initialValue;}if(!this.initialCode&&_def&&_def.value){this.initialCode=_def.value;}if(this.initialCode){var _df0=this.getStoreItemById(this.initialCode);if(_df0){this.initialValue=_df0.text;this.textSpan.innerHTML=this.initialValue;}}}),function(e){console.error(e);});},getStoreItemById:function(id){var _df1=null;if(this.storeData){dojo.forEach(this.storeData.items,function(item,_df2,_df3){if(item.id===id){_df1=item;}},this);}return _df1;},_setPickListNameAttr:function(_df4){this.inherited(arguments);this._loadData();},templateString:_de8,widgetsInTemplate:true,storeData:null,initialValue:"",initialCode:"",textId:"",codeId:""});return _dea;});},"Sage/UI/WidgetEditor":function(){define("Sage/UI/WidgetEditor",["dojo/data/ItemFileReadStore","dojox/widget/Portlet","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/declare","dojo/i18n!./Dashboard/nls/WidgetDefinition","dojo/dom-style","dojo/on","dojo/_base/lang"],function(_df5,_df6,_df7,_df8,_df9,_dfa,on,lang){var _dfb=_df8("Sage.UI.WidgetEditor",[dojox.widget.PortletDialogSettings],{_grpUrl:new Simplate("slxdata.ashx/slx/crm/-/groups/context/grouplist/{%= $.grp %}"),_dimUrl:new Simplate("slxdata.ashx/slx/crm/-/analytics/dimension/{%= $.dim %}"),_metUrl:new Simplate("slxdata.ashx/slx/crm/-/analytics/metric/{%= $.met %}"),_entityUrl:"slxdata.ashx/slx/crm/-/groups/context/entityList?filter=analytics",_getStore:function(uri){return new _df5({url:uri});},_addEnt:function(str){return"Sage.Entity.Interfaces.I"+str;},_remEnt:function(str){return str.replace("Sage.Entity.Interfaces.I","");},_remAmp:function(str){return str[str.length-1]==="&"?str.slice(0,-1):str;},_pushEnt:function(val){this._entStr=dojo.string.substitute("entity=${0}&",[val]);},_pushGrp:function(val){this._grpStr=dojo.string.substitute("groupname=${0}&",[val]);},_pushDim:function(val){this._dimStr=dojo.string.substitute("dimension=${0}&",[val]);},_pushMet:function(val){this._metStr=dojo.string.substitute("metric=${0}&",[val]);},_pushLim:function(val){this._limStr=dojo.string.substitute("limit=${0}&",[val]);},_pushOth:function(val){this._othStr=dojo.string.substitute("combineother=${0}",[val]);},_checkHydrate:function(){var opts=this.portlet.widgetOptions;if(opts.groupname&&this._grpField){if(this._originalGroup){opts.groupname=this._originalGroup;}var _dfc=this._grpField;_dfc.store.fetch({query:{groupName:opts.groupname},onComplete:function(i,r){_dfc.set("value",_dfc.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalGroup=opts.groupname;}if(opts.dimension&&this._dimField){if(this._originalDimension){opts.dimension=this._originalDimension;}var df=this._dimField;df.store.fetch({query:{name:opts.dimension},onComplete:function(i,r){df.set("value",df.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalDimension=opts.dimension;}if(opts.metric&&this._metField){if(this._originalMetric){opts.metric=this._originalMetric;}var mf=this._metField;mf.store.fetch({query:{name:opts.metric},onComplete:function(i,r){mf.set("value",mf.store.getValue(i[0],"displayName"));},queryOptions:{deep:true}});this._originalMetric=opts.metric;}this._hydrateChecked=true;},_setFields:function(_dfd){switch(_dfd.id){case this.portlet.id+"_ttlField":this._ttlField=_dfd;break;case this.portlet.id+"_subField":this._subField=_dfd;break;case this.portlet.id+"_entCombo":this._entField=_dfd;on.once(this._entField._buttonNode,"click",lang.hitch(this,function(){var _dfe=dojo.byId(this.portlet.id+"_loading");_dfa.set(_dfe,"display","block");this._entField.set("store",this._getStore(this._entityUrl));this._entField.store.fetch({query:"",onComplete:function(){_dfa.set(_dfe,"display","none");window.entityField.loadAndOpenDropDown();window.entityField.focus();}});}));break;case this.portlet.id+"_grpCombo":this._grpField=_dfd;break;case this.portlet.id+"_dimCombo":this._dimField=_dfd;break;case this.portlet.id+"_metCombo":this._metField=_dfd;break;case this.portlet.id+"_goalField":this._goalField=_dfd;break;case this.portlet.id+"_xField":this._xField=_dfd;break;case this.portlet.id+"_yField":this._yField=_dfd;break;case this.portlet.id+"_numberMaximum":this._numberMaximum=_dfd;this._numberMaximum.constraints.min=1;break;case this.portlet.id+"_rdoOthY":this._rdoOthY=_dfd;break;case this.portlet.id+"_rdoOthN":this._rdoOthN=_dfd;break;case this.portlet.id+"_rdoLegY":this._rdoLegY=_dfd;break;case this.portlet.id+"_rdoLegN":this._rdoLegN=_dfd;break;case this.portlet.id+"_rdoLabY":this._rdoLabY=_dfd;break;case this.portlet.id+"_rdoLabN":this._rdoLabN=_dfd;break;case this.portlet.id+"_rdoTruY":this._rdoTruY=_dfd;break;case this.portlet.id+"_rdoTruN":this._rdoTruN=_dfd;break;case this.portlet.id+"_truncField":this._truncField=_dfd;this._truncField.constraints.min=1;break;case this.portlet.id+"_btnOK":this._btnOK=_dfd;break;case this.portlet.id+"_btnCancel":this._btnCancel=_dfd;this._btnCancel.set("style","margin-left:10px;");break;default:this[_dfd.id]=_dfd;if(!this.customOptions){this.customOptions=[];}var _dff=_dfd.id.split(this.portlet.id);if(_dff.length==2){if(_dff[1].indexOf("_")===0){_dff[1]=_dff[1].substring(1);}this.customOptions.push({id:_dfd.id,option:_dff[1]});}break;}},_validateOOTBRequired:function(){var _e00=true;if(this._entField&&!this._entField.isValid()){this._entField.set("state","Error");_e00=false;}if(this._grpField&&!this._grpField.isValid()){this._grpField.set("state","Error");_e00=false;}if(this._dimField&&!this._dimField.isValid()){this._dimField.set("state","Error");_e00=false;}if(this._metField&&!this._metField.isValid()){this._metField.set("state","Error");_e00=false;}return _e00;},toggle:function(){var that=this;var _e01=dijit.byId(that.portlet._parentId);var i,len;if(_e01.permission){if(!this._childWidgets){this._childWidgets=this.getChildren();for(i=0,len=this._childWidgets.length;i<len;i++){this._setFields(this._childWidgets[i]);}}if(!this.dialog){dojo.require("dijit.Dialog");this.dialog=new dijit.Dialog({title:this.title});this.dialog.containerNode.style.height=this.dimensions[1]+"px";if(!this.dialog.helpIcon){dojo.mixin(this.dialog,new _df7());this.dialog.createHelpIconByTopic("Using_Widgets");}dojo.body().appendChild(this.dialog.domNode);this.dialog.containerNode.appendChild(this.domNode);dojo.style(this.dialog.domNode,{"width":this.dimensions[0]+"px","height":(this.dimensions[1]+50)+"px"});dojo.style(this.domNode,"display","");}if(this.dialog.open){this._hydrateChecked=false;this.dialog.hide();}else{var opts=this.portlet.widgetOptions;this.dialog.show(this.domNode);if(opts.title&&this._ttlField){var _e02=opts.title.replace(/'/g,"_").replace(/ /g,"_");this._ttlField.set("value",_df9[_e02]||opts.title);}if(this._entField){if(this._entField&&!this._entChange){this._entChange=dojo.connect(this._entField,"onChange",this,function(arg){var _e03=this._entField.item?this._entField.item.fullName[0]:this._addEnt(arg),_e04=this._remEnt(_e03);this._pushEnt(_e03);opts.entity=_e03;opts.resource=_e04;if(this._grpField){this._grpField.set("store",this._getStore(this._grpUrl.apply({grp:_e04})));this._grpField.store.urlPreventCache=true;this._grpField.set("value","");}if(this._dimField){this._dimField.set("store",this._getStore(this._dimUrl.apply({dim:_e04})));this._dimField.set("value","");}if(this._metField){this._metField.set("store",this._getStore(this._metUrl.apply({met:_e04})));this._metField.set("value","");}this._checkHydrate();});}if(this._grpField&&!this._grpChange){this._grpChange=dojo.connect(this._grpField,"onChange",this,function(arg){if(!this._grpField.isValid()){return false;}var _e05=this._grpField.store;_e05.fetch({query:{displayName:arg},onComplete:function(i,r){var gn=_e05.getValue(i[0],"groupName");that._pushGrp(gn);opts.groupname=gn;},queryOptions:{deep:true}});});}if(this._dimField&&!this._dimChange){this._dimChange=dojo.connect(this._dimField,"onChange",this,function(arg){if(!this._dimField.isValid()){return false;}var _e06=this._dimField.store;_e06.fetch({query:{displayName:arg},onComplete:function(i,r){var n=_e06.getValue(i[0],"name");that._pushDim(n);opts.dimension=n;},queryOptions:{deep:true}});});}if(this._metField&&!this._metChange){this._metChange=dojo.connect(this._metField,"onChange",this,function(arg){if(!this._metField.isValid()){return false;}var _e07=this._metField.store;_e07.fetch({query:{displayName:arg},onComplete:function(i,r){var m=_e07.getValue(i[0],"name");that._pushMet(m);opts.metric=m;},queryOptions:{deep:true}});});}if(opts.entity){if(this._originalEntity){if(this._originalEntity===opts.entity){this._checkHydrate();}else{this._entField.set("value",this._remEnt(this._originalEntity));}}else{this._entField.set("value",this._remEnt(opts.entity));this._originalEntity=opts.entity;}}}if(this._subField){if(opts.subtitle){this._subField.set("value",opts.subtitle);}else{this._subField.set("value","");}}if(this._xField){if(opts.xAxisName){this._xField.set("value",opts.xAxisName);}else{this._xField.set("value","");}}if(this._yField){if(opts.yAxisName){this._yField.set("value",opts.yAxisName);}else{this._yField.set("value","");}}if(this._numberMaximum){if(opts.numberMaximum){this._numberMaximum.set("value",opts.numberMaximum);}else{this._numberMaximum.set("value","10");}}if(this._goalField){if(opts.goal){this._goalField.set("value",opts.goal);}else{this._goalField.set("value","");}}if(this._rdoOthY){if(!opts.combineother){this._rdoOthN.set("checked",true);}else{if(opts.combineother==="true"){this._rdoOthY.set("checked",true);}else{this._rdoOthN.set("checked",true);}}}if(this._rdoLegY){if(!opts.showLegend){this._rdoLegN.set("checked",true);}else{if(opts.showLegend==="true"){this._rdoLegY.set("checked",true);}else{this._rdoLegN.set("checked",true);}}}if(this._rdoLabY){if(!opts.showLabels){this._rdoLabN.set("checked",true);}else{if(opts.showLabels==="true"){this._rdoLabY.set("checked",true);}else{this._rdoLabN.set("checked",true);}}}if(this._rdoTruY){if(!opts.truncLabels){this._rdoTruN.set("checked",true);}else{if(opts.truncLabels==="true"){this._rdoTruY.set("checked",true);}else{this._rdoTruN.set("checked",true);}}}if(this._truncField){if(opts.truncNum){this._truncField.set("value",opts.truncNum);}else{this._truncField.set("value","");}}if(this.customOptions){for(i=0;i<this.customOptions.length;i++){var _e08=this.customOptions[i].option,_e09=this.customOptions[i].id;if(opts[_e08]){this[_e09].set("value",opts[_e08]);}}}for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowInit){this._childWidgets[i]._myEditRowInit(opts);}}if(!this._cancelClick){this._cancelClick=dojo.connect(this._btnCancel,"onClick",this,function(){for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowCancel){this._childWidgets[i]._myEditRowCancel(opts);}}this.toggle();if(this.portlet.isNew){this.portlet.onClose();this.portlet.destroy();}});}if(!this._okClick){this._okClick=dojo.connect(this._btnOK,"onClick",this,function(){var _e0a=["slxdata.ashx/slx/crm/-/analytics?"];if(this._ttlField){if(!this._ttlField.isValid()){return false;}var _e0b=this._ttlField.get("value");var _e0c=opts.title.replace(/'/g,"_").replace(/ /g,"_");if(_e0b){this.portlet.set("title",_e0b);if(_e0b!=_df9[_e0c]){opts.title=_e0b;}}}if(this._subField){var sub=this._subField.get("value");if(sub){opts.subtitle=sub;}else{opts.subtitle="";}if(!this._subField.isValid()){return false;}}if(this._xField){var xa=this._xField.get("value");if(xa){opts.xAxisName=xa;}else{opts.xAxisName="";}if(!this._xField.isValid()){return false;}}if(this._yField){var ya=this._yField.get("value");if(ya){opts.yAxisName=ya;}else{opts.yAxisName="";}if(!this._yField.isValid()){return false;}}if(this._numberMaximum){var _e0d=this._numberMaximum.get("value");if(_e0d){opts.numberMaximum=_e0d;}else{opts.numberMaximum="5";}this._pushLim(opts.numberMaximum);if(!this._numberMaximum.isValid()){return false;}}if(this._goalField){var gl=this._goalField.get("value");if(gl){opts.goal=gl;}else{opts.goal="";}if(!this._goalField.isValid()){return false;}}if(this._rdoLabY){var _e0e=this._rdoLabY.get("value");if(_e0e){opts.showLabels="true";}else{opts.showLabels="false";}}if(this._rdoTruY){var _e0f=this._rdoTruY.get("value");if(_e0f){opts.truncLabels="true";}else{opts.truncLabels="false";}}if(this._rdoOthY){var _e10=this._rdoOthY.get("value");if(_e10){opts.combineother="true";this._pushOth("true");}else{opts.combineother="false";this._pushOth("false");}}if(this._rdoLegY){var _e11=this._rdoLegY.get("value");if(_e11){opts.showLegend="true";}else{opts.showLegend="false";}}if(this._truncField){var num=this._truncField.get("value");if(num){opts.truncNum=num;}if(!this._truncField.isValid()){return false;}}if(!this._validateOOTBRequired()){return false;}if(this._grpField){if(!this._grpStr){this._grpField.store.fetch({query:{displayName:this._grpField.get("value")},onComplete:function(i,r){that._pushGrp(that._grpField.store.getValue(i[0],"groupName"));},queryOptions:{deep:true}});}}if(this._dimField){if(!this._dimStr){this._dimField.store.fetch({query:{displayName:this._dimField.get("value")},onComplete:function(i,r){that._pushDim(that._dimField.store.getValue(i[0],"name"));},queryOptions:{deep:true}});}}if(this._metField){if(!this._metStr){this._metField.store.fetch({query:{displayName:this._metField.get("value")},onComplete:function(i,r){that._pushMet(that._metField.store.getValue(i[0],"name"));},queryOptions:{deep:true}});}}if(this.customOptions){for(i=0;i<this.customOptions.length;i++){var _e12=this.customOptions[i].option,_e09=this.customOptions[i].id;opts[_e12]=this[_e09].value;}}for(i=0;i<this._childWidgets.length;i++){if(this._childWidgets[i]._myEditRowSave){this._childWidgets[i]._myEditRowSave(opts);}}if(this._dimStr){_e0a.push(this._dimStr);}if(this._metStr){_e0a.push(this._metStr);}if(this._entStr){_e0a.push(this._entStr);}if(this._grpStr){_e0a.push(this._grpStr);}if(this._limStr){_e0a.push(this._limStr);}if(this._othStr){_e0a.push(this._othStr);}opts.datasource=this._remAmp(_e0a.join(""));dojo.publish("/ui/dashboard/pageSave",[this.portlet._page]);if(this.portlet.isNew){this.portlet.isNew=false;}this.portlet.refresh(true);this.toggle();});}}}else{_e01._raisePermissionInvalidMessage();}}});return _dfb;});},"Sage/QuickForms/Design/ColumnDesigner":function(){define("Sage/QuickForms/Design/ColumnDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./Editors/ColumnBasicPropertyEditor","dojo/i18n!./nls/ColumnDesigner"],function(_e13,_e14,_e15,lang,_e16,_e17,_e18,_e19){return _e15("Sage.QuickForms.Design.ColumnDesigner",[_e17],{entry:null,editors:[_e18],helpTopicName:"Column_properties",displayNameText:"Column",constructor:function(){lang.mixin(this,_e19);},set:function(name,_e1a){var _e1b=this.inherited(arguments);var _e1c=this._getAttrNames(name),_e1d=this[_e1c.s];if(lang.isFunction(_e1d)){_e14.publish("/quickforms/design/designerModified",this,name,_e1a,_e1b,this);}return _e1b;},_getWidthAttr:function(){return lang.getObject("Width",false,this.entry);},_setWidthAttr:function(_e1e){lang.setObject("Width",_e1e,this.entry);},_getSizeTypeAttr:function(){return lang.getObject("SizeType",false,this.entry);},_setSizeTypeAttr:function(_e1f){lang.setObject("SizeType",_e1f,this.entry);}});});},"Sage/Library/nls/FileHandler":function(){define("Sage/Library/nls/FileHandler",["Sage/LanguageList","dojo/_base/lang"],function(_e20,lang){var nls={root:{AccessError:"You do not have the role security required to execute this action.",Available:"Available",Confirm:"Confirm",DeleteFileCnfmFmt:'Are you sure you want to delete the file "${0}"?',Delivered:"Delivered: Not read",DeliveredRead:"Delivered: Read",DocumentPropertiesError:"There was an unexpected error attempting to retrieve the document properties.",DocumentPropertiesUpdateError:"There was an unexpected error attempting to update document properties.",DocumentUpdateConflictError:"The file has been updated by another user, please refresh and retry.",FileDeleteError:"There was an unexpected error attempting to delete a file.",FileStatusError:"There was an unexpected error attempting to update the file status.",LogRequestError:"There was an unexpected failure attempting to log the document synchronization request.",No:"No",NoAccessMessage:"You do not have permission to add files to the Library. For more information contact your Saleslogix administrator.",Ordered:"Ordered",PleaseSelectFile:"Please select a file.",PleaseWait:"Please wait",Revised:"Revised",RevisionOrdered:"Revision Ordered",UploadError:"There was an error attempting to upload a file.",Unknown:"Unknown",Yes:"Yes"}};return lang.mixin(_e20,nls);});},"Sage/UI/Controls/DropDownSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/DropDownSelectPickList.html":'<div>\r\n    <select id="${id}-Select" data-dojo-type="Sage.UI.ComboBox" shouldPublishMarkDirty="false" dojoAttachPoint="comboBox" value="${value}" dojoAttachEvent="onBlur: _onBlur,onChange:_onChange">\r\n    </select>\r\n</div>\r\n'}});define("Sage/UI/Controls/DropDownSelectPickList",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/ComboBox","Sage/UI/Controls/PickList","dojo/_base/array","dojo/text!./templates/DropDownSelectPickList.html","dojo/_base/declare"],function(_e21,_e22,_e23,_e24,_e25,_e26,_e27,_e28,_e29,_e2a,_e2b,_e2c){var _e2d=_e2c("Sage.UI.Controls.DropDownSelectPickList",[_e29,_e23,_e21,_e22],{constructor:function(_e2e){if(_e2e.clientId){this.id=_e2e.clientId+"-DropDownSelectPickList";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);},_onChange:function(_e2f){this.onChange(_e2f);},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.comboBox.set("value",data);}var _e30=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_e30.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:_e30};var _e31=new _e25({data:this.storeData});this.comboBox.set("store",_e31);this.comboBox.set("searchAttr","text");}),function(e){console.error(e);});},uninitialize:function(){this.inherited(arguments);},_getValueAttr:function(){var _e32=this.comboBox.get("value");if(this.storeMode==="id"){_e2a.forEach(this.storeData.items,function(item){if(_e32==item.text){_e32=item.id;}},this);}return _e32;},_setPickListNameAttr:function(_e33){this.inherited(arguments);this._loadData();},value:"",templateString:_e2b,widgetsInTemplate:true,storeData:null,lastValidValue:"",onChange:function(_e34){}});return _e2d;});},"Sage/UI/SLXPreviewGrid":function(){define("Sage/UI/SLXPreviewGrid",["./SLXPreviewGrid/Grid","./SLXPreviewGrid/FilterPanel","./SLXPreviewGrid/Filter/DateRange","./SLXPreviewGrid/Filter/Text"],function(Grid,_e35,_e36,Text){return{Grid:Grid,FilterPanel:_e35,Filter:{DateRange:_e36,Text:Text}};});},"Sage/QuickForms/Design/EmailControlDesigner":function(){define("Sage/QuickForms/Design/EmailControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/EmailControlDesigner"],function(_e37,_e38,lang,_e39,_e3a,_e3b,_e3c,_e3d){return _e37("Sage.QuickForms.Design.EmailControlDesigner",[_e39],{designSupport:{visible:true},editors:[_e3b,_e3c,_e3a],widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %} design-email" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="design-email-icon"></div>',"</div>","</div>"]),helpTopicName:"Email_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXEmail, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Email",constructor:function(){lang.mixin(this,_e3d);}});});},"Sage/Utility/PickList":function(){define("Sage/Utility/PickList",["dojo/_base/lang","dojo/_base/declare","Sage/Data/SDataServiceRegistry","dojo/json","./_LocalStorageMixin","../Utility"],function(lang,_e3e,_e3f,json,_e40,util){var _e41=_e3e("Sage.Utility.PickList",[_e40],{_storageNameSpace:"PickListData",checkStaleCache:function(){var _e42=this.getFromLocalStorage("modified_at",this._storageNameSpace);var _e43=sessionStorage.getItem("PickListChangeStateCheck");if(_e42&&_e43===null){_e42=new Date(Date.parse(_e42));var _e44,_e45,_e46,data;data=sessionStorage.getItem("pickListExpireCheck");if(data===null){_e44=_e3f.getSDataService("system");_e45=new Sage.SData.Client.SDataServiceOperationRequest(_e44);_e45.setOperationName("getPickListsChangeState");_e45.execute({},{success:lang.hitch(this,function(data){if(!data||!data.response||!data.response.lastModifiedDate){return;}var _e47=util.Convert.toDateFromString(data.response.lastModifiedDate);if(this._isLocalStorageExpired(_e42,_e47)){this.clear(this._storageNameSpace);}})});sessionStorage.setItem("PickListChangeStateCheck","true");}}},_isLocalStorageExpired:function(_e48,_e49){_e48.setSeconds(0);_e49.setSeconds(0);_e48.setMilliseconds(0);_e49.setMilliseconds(0);return _e49.valueOf()>=_e48.valueOf();},});Sage.namespace("Utility.PickList");lang.mixin(Sage.Utility.PickList,new _e41());return Sage.Utility.PickList;});},"Sage/UI/Dashboard/BaseWidget":function(){define("Sage/UI/Dashboard/BaseWidget",["Sage/UI/Dashboard/BaseWidget","Sage/Utility","dojo/i18n","Sage/UI/EditorContainer","dojo/_base/declare","dojo/i18n!./nls/WidgetDefinition"],function(_e4a,util,i18n,_e4b,_e4c){var _e4d=_e4c("Sage.UI.Dashboard.BaseWidget",null,{constructor:function(def){dojo.safeMixin(this,def);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition"));this.inherited(arguments);},family:"System",prefHeight:0.33,timestamp:true,_getEditorString:function(_e4e,_e4f){var _e50=i18n.getLocalization("Sage.UI.Dashboard","WidgetDefinition");var _e51=_e50[this.name];if(_e51){_e51+=" "+_e50["settingsText"];}else{_e51=_e50["defaultWidgetText"];}_e4e._pcid=_e4f;var cont=new _e4b(_e4e);if(!cont){}if(this._editorTpl){return this._editorTpl.apply({title:_e51,id:_e4f+"_editor",content:cont.doTemplate()});}return"";}});return _e4d;});},"Sage/TaskPane/ActivityTaskConfigurationProvider":function(){define("Sage/TaskPane/ActivityTaskConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Services/ActivityService","Sage/TaskPane/ActivityTaskContents","Sage/TaskPane/ActivityTaskPaneItem","dojo/on","dojo/_base/lang","dojo/i18n!./nls/ActivityTaskConfigurationProvider","dojo/_base/declare"],function(_e52,_e53,_e54,_e55,_e56,on,lang,_e57,_e58){var _e59=_e58("Sage.TaskPane.ActivityTaskConfigurationProvider",[_e53,_e52],{serviceMap:{"groupContextService":"ClientGroupContext"},_roleSecurityService:null,_currentUserId:null,scheduleText:"Schedule",eventText:"Event",phoneCallText:"Phone Call",toDoText:"To-Do",meetingText:"Meeting",personalActivityText:"Personal Activity",deleteConfirmationText:"Delete Confirmation",acceptConfirmationText:"Accept Confirmation",declineConfirmationText:"Decline Confirmation",completeActivityText:"Complete Activity",deleteActivityText:"Delete Activity",deleteEventText:"Delete Event",scheduleEventText:"Schedule Event",scheduleRequestText:"Schedule Request",deleteRequestText:"Delete Request",recordsSelectedText:"record(s) selected",clearText:"Clear",actionNameSpace:"Sage.TaskPane.ActivityTaskPaneActions",_taskConfigs:false,constructor:function(_e5a){lang.mixin(this,_e57);this.inherited(arguments);this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));var _e5b=Sage.Services.getService("ClientContextService");if(_e5b){if(_e5b.containsKey("userID")){this._currentUserId=_e5b.getValue("userID");}}this._roleSecurityService=Sage.Services.getService("RoleSecurityService");},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(){var _e5c;var _e5d=this.groupContextService&&this.groupContextService.getContext();var _e5e=_e5d&&_e5d["CurrentGroupID"];var _e5f=this.getTaskConfiguration(_e5e);var _e60=new _e55({taskTemplate:_e5f.configuration.taskTemplate});_e60.startup();var _e61={tabId:_e5f.configuration.key,taskPane:_e60};return _e61;},getTaskConfiguration:function(key){var _e62=this.getTaskConfigurations();for(var i=0;i<_e62.length;i++){if(_e62[i].key.toUpperCase()===key.toUpperCase()){return _e62[i];}}var _e63={key:"default",configuration:this._getDefaultConfig()};return _e63;},getTaskConfigurations:function(){if(this._taskConfigs){return this._taskConfigs;}this._taskConfigs=[{key:"activities",configuration:this._getActivityConfig()},{key:"allopen",configuration:this._getActivityConfig()},{key:"pastdue",configuration:this._getPastDueConfig()},{key:"alarms",configuration:this._getAlarmConfig()},{key:"events",configuration:this._getEventConfig()},{key:"confirmations",configuration:this._getConfirmConfig()},{key:"literature",configuration:this._getLitRequestConfig()}];return this._taskConfigs;},_getTaskTemplateString:function(_e64,_e65){var ts=[];ts.push('<div class="task-pane-item-common-tasklist">');ts.push('<span id="selectionCount" class="task-pane-item-common-selectionText"> 0 </span><span id="selectionText"> '+this.recordsSelectedText+"</span><br>");ts.push('<a id="clearSelection" href="#" class="task-pane-item-common-clearselection" dojoAttachEvent="click:_clearSelection">'+this.clearText+"</a><br>");ts.push("<hr>");for(var i=0;i<_e64.length;i++){var task=_e64[i];var _e66=this.actionNameSpace;if(task.actionNameSpace){_e66=task.actionNameSpace;}if(task.template){ts.push(task.template);}else{ts.push("<li>");var _e67="";if(task.style){_e67=task.style;}ts.push(dojo.string.substitute('<div dojotype="Sage.TaskPane.ActivityTaskPaneItem" class="task-pane-item-common-tasklist" style="${4}"  linkText="${3}" securedAction="${4}" action="javascript: ${1}.${2}"></div>',[task.taskId,_e66,task.action,task.displayName,task.securedAction,_e67]));}}ts.push("</div>");return ts;},_getCommonTasks:function(){var _e68=[];return _e68;},_getCommonActivityTasks:function(){var _e69=this._getCommonTasks();_e69.push({template:"<div class='slxLabel'>"+this.scheduleText+"</div>"});_e69.push({template:"<div style='padding-left:15px;'>"});_e69.push({taskId:"SchedulePhoneCall",type:"Link",displayName:this.phoneCallText,action:"schedulePhoneCall();",securedAction:"",style:"padding-left:15px;"});_e69.push({taskId:"ScheduleMeeting",displayName:this.meetingText,action:"scheduleMeeting()",securedAction:"",style:"padding-left:15px;"});_e69.push({taskId:"ScheduleToDo",type:"Link",displayName:this.toDoText,action:"scheduleToDo();",securedAction:"",style:"padding-left:15px;"});_e69.push({taskId:"SchedulePersonal",type:"Link",displayName:this.personalActivityText,action:"schedulePerosnalActivity();",securedAction:"",style:"padding-left:15px;"});_e69.push({template:"</div>"});_e69.push({taskId:"Complete",type:"Link",displayName:this.completeActivityText,action:"completeActivity();",securedAction:""});_e69.push({taskId:"Delete",type:"Link",displayName:this.deleteActivityText,action:"deleteActivity();",securedAction:""});return _e69;},_getActivityConfig:function(_e6a,_e6b){var _e6c=this._getCommonActivityTasks();var _e6d="Activities";var _e6e=this._getTaskTemplateString(_e6c,_e6d);var _e6f=new Simplate(_e6e);var _e70={key:"activities",taskTemplate:_e6f};return _e70;},_getPastDueConfig:function(_e71,_e72){var _e73=this._getCommonActivityTasks();var _e74="Past Due";var _e75=this._getTaskTemplateString(_e73,_e74);var _e76=new Simplate(_e75);var _e77={key:"PastDue",taskTemplate:_e76};return _e77;},_getAlarmConfig:function(_e78,_e79){var _e7a="<div>Test</div>";var _e7b=this._getCommonActivityTasks();var _e7c="Alarms";var _e7d=this._getTaskTemplateString(_e7b,_e7c);var _e7e=new Simplate(_e7d);var _e7f={key:"Alarms",taskTemplate:_e7e};return _e7f;},_getLitRequestConfig:function(_e80,_e81){var _e82=this._getCommonTasks();_e82.push({taskId:"ScheduleLitRequest",displayName:this.scheduleRequestText,action:"scheduleLitRequest();",securedAction:"",style:"padding-left:15px;"});_e82.push({taskId:"DeleteRequest",displayName:this.deleteRequestText,action:"deleteLitRequest();",securedAction:""});var _e83="Litature Requests";var _e84=this._getTaskTemplateString(_e82,_e83);var _e85=new Simplate(_e84);var _e86={key:"LitRequests",taskTemplate:_e85};return _e86;},_getEventConfig:function(_e87,_e88){var _e89=this._getCommonTasks();_e89.push({taskId:"ScheduleEvent",displayName:this.scheduleEventText,action:"scheduleEvent();",securedAction:"",style:"padding-left:15px;"});_e89.push({taskId:"DeleteEvent",displayName:this.deleteEventText,action:"deleteEvent();",securedAction:""});var _e8a="Events";var _e8b=this._getTaskTemplateString(_e89,_e8a);var _e8c=new Simplate(_e8b);var _e8d={key:"Events",taskTemplate:_e8c};return _e8d;},_getConfirmConfig:function(_e8e,_e8f){var _e90=this._getCommonTasks();_e90.push({taskId:"AcceptConfirmation",displayName:this.acceptConfirmationText,action:"acceptConfirmation();",securedAction:""});_e90.push({taskId:"DeclineConfirmation",displayName:this.declineConfirmationText,action:"declineConfirmation();",securedAction:""});_e90.push({taskId:"DeleteConfirmation",displayName:this.deleteConfirmationText,action:"deleteConfirmation();",securedAction:""});var _e91="Confirmations";var _e92=this._getTaskTemplateString(_e90,_e91);var _e93=new Simplate(_e92);var _e94={key:"Confirmations",taskTemplate:_e93};return _e94;},_getDefaultConfig:function(_e95,_e96){var _e97={};var _e98="Default";var _e99=this._getTaskTemplateString(_e97,_e98);var _e9a=new Simplate(_e99);var _e9b={key:"Default",taskTemplate:_e9a};return _e9b;},buildTaskConfiguration:function(key,_e9c,_e9d){var _e9e=this._getTaskTemplateString(_e9d,_e9c);var _e9f=new Simplate(_e9e);var _ea0={key:key,taskTemplate:_e9f};return _ea0;},addTaskConfiguration:function(_ea1){var _ea2=this.getTaskConfiguration(_ea1.key);if(_ea2.key==="default"){var _ea3={key:_ea1.key,configuration:_ea1};var _ea4=this.getTaskConfigurations();_ea4.push(_ea3);}else{_ea2.configuration=_ea1;}},requestConfiguration:function(_ea5){this._onRequestConfigurationSuccess(_ea5,null);},_onRequestConfigurationSuccess:function(_ea6,_ea7){if(_ea6.success){_ea6.success.call(_ea6.scope||this,this._createConfiguration(_ea7,_ea6),_ea6,this);}this._createConfiguration(_ea7,_ea6);},_onRequestConfigurationFailure:function(_ea8,_ea9){if(_ea8.failure){_ea8.failure.call(_ea8.scope||this,_ea9,_ea8,this);}},_scheduleMeeting:function(_eaa){}});return _e59;});},"Sage/UI/nls/ListPanel":function(){define("Sage/UI/nls/ListPanel",["Sage/LanguageList","dojo/_base/lang"],function(_eab,lang){var nls={root:{listText:"List",summaryText:"Summary",detailText:"Detail",hideDetailText:"Hide Detail",unsavedDataText:"*unsaved data",helpText:"Help",refreshText:"Refresh",displayingText:"Displaying",ofText:"of",overflowText:"Your search returned a large number of results. Narrow your search by applying filters."}};return lang.mixin(_eab,nls);});},"Sage/UI/ActivityScheduler":function(){define("Sage/UI/ActivityScheduler",["dojo/i18n","dojo/date","dijit/Menu","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/UserOptions","Sage/Utility/Activity","Sage/Utility","Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg","dojo/i18n!./nls/ActivityScheduler","dojo/_base/declare","dojo/_base/lang","dojo/string"],function(i18n,_eac,_ead,_eae,_eaf,_eb0,_eb1,_eb2,_eb3,_eb4,_eb5,_eb6,_eb7){var _eb8=_eb5("Sage.UI.ActivityScheduler",null,{_weekStart:null,_scheduler:null,_schedulerId:"slxLogixScheduler",schedulerContextMenu:null,eventConnections:[],_menuItems:null,_contentWindow:null,_iFrameId:null,_userOptions:{},_schedulerLaunched:false,self:this,_recurringIcon:"../../images/icons/recurring_14x14.png",_attachmentIcon:"../../images/icons/attach_14x14.png",_alarmIcon:"../../images/icons/alarm_14x14.png",_activityCompleteIcon:"../../images/icons/completed_step_14x14.png",_userActivityData:{},_currentActivity:{},_securityAccessData:[],constructor:function(_eb9,_eba,_ebb,_ebc){_eb6.mixin(this,_eb4);this._userOptions={daystarttime:"9",dayendtime:"6",defaultactivity:"meeting",starttime:"8",endtime:"5",weekstart:"1",numevents:"3",defaultcalendarview:"month",defaultinterval:15,displaycontactaccount:"0",rememberusers:true,workweekmon:true,workweektue:true,workweekwed:true,workweekthu:true,workweekfri:true,workweeksat:false,workweeksun:false,workweek:[1,2,3,4,5],showonopportunities:false,showonregarding:false,showonphonenumber:false,showontime:false};_scheduler=_ebb.scheduler;this._schedulerId=_eba;this._menuItems=[];this._contentWindow=_ebb;this._iFrameId=_ebc;this._preloadCalendarUserOptions();var self=this;dojo.subscribe("/entity/activity/updateScheduler",function(data){self._updateSchedulerEvent(data);});dojo.subscribe("/entity/activity/clearScheduler",function(){self._clearScheduler();});dojo.subscribe("/entity/activity/addToScheduler",function(data){self._addSchedulerEvent(data);});dojo.subscribe("/entity/activity/deleteFromScheduler",function(id){if(id){if(id.indexOf("result")==-1){self._deleteSchedulerEvent(id);}}});},_loadAllEvents:function(data){setTimeout(function(){this._scheduler.parse(data,"json");},100);},_addSchedulerEvent:function(data){if(data!==null){var _ebd=dojo.clone(data);var _ebe=[];_ebe.push(_ebd);self._scheduler.parse(_ebe,"json");}},_updateSchedulerEvent:function(data){if(data!==null){var _ebf=dojo.clone(data);self._scheduler.deleteEvent(_ebf.id);var _ec0=[];_ec0.push(_ebf);self._scheduler.parse(_ec0,"json");}},_deleteSchedulerEvent:function(_ec1){_scheduler.deleteEvent(_ec1);},_setCurrentDate:function(date){_scheduler.setCurrentView(date);},_getSchedulerDate:function(){return _scheduler._date;},_launchScheduler:function(){_scheduler.init(this._schedulerId,new Date(),this._userOptions["defaultcalendarview"]);this._schedulerLaunched=true;this._userOptions["date"]=_scheduler.date;this._userOptions["weekStartDate"]=_scheduler._week_min_date;this._userOptions["weekEndDate"]=_scheduler._week_max_date;this._userOptions["workWeekStartDate"]=_scheduler._workweek_min_date;this._userOptions["workWeekEndDate"]=_scheduler._workweek_max_date;dojo.publish("/entity/activity/SchedulerCreated",[this._userOptions,this]);},_clearScheduler:function(){_scheduler.clearAll();},_clearSchedulerEvents:function(data){if(data){for(var i=0;i<data.length;i++){_scheduler.deleteEvent(data[i]);}}},_loadTimelessActivities:function(){var ar=[];ar.push(_scheduler._mode);ar.push(_scheduler._date);ar.push(self._getWeekStart());dojo.publish("/entity/activity/calendar/schedulerDateChanged",[ar,this]);},_initScheduler:function(){_scheduler.config.scroll_hour=this._userOptions["daystarttime"];_scheduler.config.workWeek=this._userOptions["workweek"];_scheduler.config.workHours=[0,this._userOptions["daystarttime"]*60,this._userOptions["dayendtime"]*60,24*60];_scheduler.config.eventsMaxCount=this._userOptions["numevents"];_scheduler.locale={date:this.scheduler_dates,labels:this.scheduler_labels};_scheduler.templates.day_scale_date=function(d){var _ec2=_scheduler.date.date_to_str("%l");return _ec2(d);};_scheduler.templates.day_date=function(dt){return _eb1.formatLongDate(dt);};_scheduler.templates.week_date=function(d1,d2){var _ec3=_scheduler.date.date_to_str("%F %d");var _ec4=_scheduler.date.date_to_str("%d, %Y");if(d1.getMonth()!=d2.getMonth()){return _eb1.formatLongDate(d1)+" &ndash; "+_eb1.formatLongDate(_scheduler.date.add(d2,-1,"day"));}else{var d3=scheduler.date.add(d2,-1,"day");return _eb1.formatLongDate(d1)+" &ndash; "+_eb1.formatLongDate(_scheduler.date.add(d2,-1,"day"));}};var _ec5=function(id){var _ec6=false;if(id){if(id.trim()!==""){_ec6=true;}}return _ec6;};var _ec7=_scheduler.date.date_to_str("%g:%i %A");var _ec8=_scheduler.date.date_to_str("%m/%d/%Y");_scheduler.templates.tooltip_text=function(_ec9,end,_eca){var type=_eca.type;var _ecb="";var _ecc=(_eca.subType===null)?"":_eca.subType.replace("at","");if(type=="event"){_ecb="<b>"+self.tooltipType+" :</b> Event<br><b>"+self.tooltipDayType+" :</b> "+_ecc;_ecb+="<br/><b>"+self.tooltipStartDate+" :</b> "+_eb1.formatEventDate(_ec9);_ecb+="<br/><b>"+self.tooltipEndDate+" :</b> "+_eb1.formatDateAdd(end,"day",-1);if(_eca.location){_ecb+="<br/><b>"+self.tooltipLocation+" :</b> "+_eca.location;}if(_eca.description){_ecb+="<br/><b>"+self.tooltipDescription+" :</b> "+_eca.description;}}else{_ecb="<b>"+self.tooltipTime+" :</b> "+_ec7(_ec9)+" - "+_ec7(end);if(_ec5(_eca.leadId)){if(_eca.leadName){_ecb+="<br/><b>"+self.tooltipLeadName+" :</b> "+_eca.leadName;}if(_eca.accountName){_ecb+="<br/><b>"+self.tooltipCompanyName+" :</b> "+_eca.accountName;}}else{if(_eca.contactName){_ecb+="<br/><b>"+self.tooltipContactName+" :</b> "+_eca.contactName;}if(_eca.accountName){_ecb+="<br/><b>"+self.tooltipAccountName+" :</b> "+_eca.accountName;}}if(_eca.phoneNumber){_ecb+="<br/><b>"+self.tooltipPhoneNumber+" :</b> "+_eca.phoneNumber;}if(_eca.location){_ecb+="<br/><b>"+self.tooltipLocation+" :</b> "+_eca.location;}if(_eca.regarding){_ecb+="<br/><b>"+self.tooltipRegarding+" :</b> "+_eca.regarding;}if(_eca.priority){_ecb+="<br/><b>"+self.tooltipPriority+" :</b> "+_eca.priority;}if(_eca.notes){_ecb+="<br/><b>"+self.tooltipNotes+" :</b> "+_eca.notes;}}return _ecb;};_scheduler.clearAll();var self=this;_scheduler.attachEvent("onTemplatesReady",function(){_scheduler.date.workweek_start=_scheduler.date.WorkWeekStart;_scheduler.templates.workweek_date=_scheduler.templates.week_date;_scheduler.templates.workweek_scale_date=_scheduler.templates.week_scale_date;_scheduler.date.add_workweek=function(date,inc){return _scheduler.date.add(date,inc*7,"day");};_scheduler.date.get_workweek_end=function(date){var _ecd=self._userOptions["workweek"][(self._userOptions["workweek"].length)-1]-self._userOptions["workweek"][0];return _scheduler.date.add(date,_ecd,"day");};});_scheduler.date.WorkWeekStart=function(date){var _ece=self._userOptions["workweek"][0];if(date===null){date=new Date();}var _ecf=date.getDay();_ecf=_ece-_ecf;var _ed0=_scheduler.date.add(date,_ecf,"day");if(_ed0>date){_ed0=_scheduler.date.add(_ed0,-7,"day");}return _scheduler.date.date_part(_ed0);};_scheduler.templates.event_title_class=function(_ed1,end,_ed2){var mode=_scheduler.getState().mode;if(mode!=="month"&&_ed2.type!=="event"){if(!_ed2.confirmed){return"pending";}}return"";};_scheduler.date.getDay=function(_ed3){var _ed4=_ed3;if(_ed3.length>1){var _ed5=[];_ed5["SUNDAY"]=0;_ed5["MONDAY"]=1;_ed5["TUESDAY"]=2;_ed5["WEDNESDAY"]=3;_ed5["THURSDAY"]=4;_ed5["FRIDAY"]=5;_ed5["SATURDAY"]=6;_ed4=_ed5[_ed3.toUpperCase()];}if(!_ed4){_ed4=1;}return _ed4;};_scheduler.templates.event_header=function(_ed6,end,ev){var html="";var _ed7=_scheduler.date.date_to_str("%g:%i %A");var _ed8=_scheduler.date.date_to_str("%g:%i");if(ev.endsAfterMidnight){end=ev.actualEndDate;}if(ev.iconSrc){html+='<img src="'+ev.iconSrc+'" style="float:left;padding-right:4px;"/>';}if(ev["recurring"]){html+='  <img src="'+self._recurringIcon+'" style="float:left;padding-right:4px;"/>';}if(_scheduler._mode==="day"){if(ev["attachment"]){html+='  <img src="'+self._attachmentIcon+'" style="float:left;padding-right:4px;"/>';}if(ev["alarm"]){html+='  <img src="'+self._alarmIcon+'" style="float:left;padding-right:4px;"/>';}}if(ev["id"].toString().indexOf("-hist")>0){html+='  <img src="'+self._activityCompleteIcon+'" style="float:left;padding-right:4px;"/>';}if(_scheduler._mode==="day"){html+=_ed7(_ed6)+"-"+_ed7(end);}else{html+=_ed8(_ed6)+"-"+_ed8(end);}return html;},_scheduler.templates.event_text=function(_ed9,end,ev){var _eda="";var _edb=_scheduler.date.date_to_str("%g:%i %A");if(ev.endsAfterMidnight){end=ev.actualEndDate;}if(_scheduler._mode!=="month"){var _edc=ev["contactId"];var _edd=ev["contactName"];var _ede=ev["leadId"];var _edf=ev["leadName"];var _ee0=ev["accountId"];var _ee1=ev["accountName"];var _ee2=ev["opportunityId"];var _ee3=ev["opportunity"];var _ee4="";var _ee5="";var _ee6=false;if(_ee6){_eda+="</br>";}if(_ec5(_ede)&&_ee1){if(_edf){_ee4="<a href=\"javascript:void(window.parent.location ='../../Lead.aspx?entityid="+_ede+"')\" >"+_edf+"</a><br>";}_ee5="<a href=\"javascript:void(window.parent.location ='../../Lead.aspx?entityid="+_ede+"')\" >"+_ee1+"</a><br>";}else{if(_ec5(_ee0)&&_ee1){_ee5="<a href=\"javascript:void(window.parent.location = '../../Account.aspx?entityid="+_ee0+"')\">"+_ee1+"</a><br>";}if(_ec5(_edc)){_ee4="<a href=\"javascript:void(window.parent.location ='../../Contact.aspx?entityid="+_edc+"')\" >"+_edd+"</a><br>";}}switch(self._userOptions["displaycontactaccount"]){case"0":_eda+=_ee4;break;case"1":_eda+=_ee5;break;case"2":_eda+=_ee4;_eda+=_ee5;break;case"3":_eda+=_ee5;_eda+=_ee4;break;case"4":_eda+="";break;}if(self._userOptions["showonopportunities"]&&_ec5(_ee2)){_eda+="<a href=\"javascript:void(window.parent.location ='../../Opportunity.aspx?entityid="+_ee2+"&modeid=Detail')\" >"+_ee3+"</a><br>";}if(self._userOptions["showonphonenumber"]&&ev["phoneNumber"]){_eda+=ev["phoneNumber"]+"<br/>";}if(self._userOptions["showonregarding"]&&ev["regarding"]){_eda+=ev["regarding"]+"<br/>";}if(self._userOptions["showontime"]){_eda+=_edb(_ed9)+"-"+_edb(end)+"<br/>";}if(ev["location"]){_eda+=ev["location"]+"<br/>";}if(ev["priority"]){_eda+=ev["priority"]+"<br/>";}if(ev["notes"]){_eda+=ev["notes"];}}else{_eda=ev.text;}return _eda;};_scheduler.date.week_start=function(date){var _ee7=self._userOptions["weekstart"];if(date===null){date=new Date();}var _ee8=date.getDay();_ee8=_ee7-_ee8;var _ee9=_scheduler.date.add(date,_ee8,"day");if(_ee9>date){_ee9=_scheduler.date.add(_ee9,-7,"day");}return _scheduler.date.date_part(_ee9);};_scheduler.date.arraySort=function(a,b){return a-b;};_scheduler.addEventNow=function(_eea,end,type){var _eeb,_eec,_eed;if(_eea===null){if(_scheduler._mode==="month"){_eeb=_eb1.roundDateToNextQuarterHour(new Date());}else{_eeb=new Date();}}else{var _eee=new Date(_eea);if(_scheduler._mode==="month"){_eee.setMinutes(new Date().getMinutes());_eee.setHours(new Date().getHours());_eeb=_eb1.roundDateToNextQuarterHour(_eee);}else{_eeb=_eee;}}_eec=end===null?_eeb:new Date(end);if(type===null||typeof type==="object"){type=self._userOptions["defaultactivity"];}if(end!==null){_eed=dojo.date.difference(_eeb,new Date(end),"minute");}else{_eed="60";}var svc=Sage.Services.getService("ActivityService");if(type=="event"){var args={StartDate:Sage.Utility.Convert.toIsoStringFromDate(_eeb),EndDate:Sage.Utility.Convert.toIsoStringFromDate(_eec)};svc.scheduleEvent(args);}else{if(type!==null){if(type.toLowerCase().indexOf("phone")>-1){type="PhoneCall";}else{if(type.toLowerCase().indexOf("meeting")>-1){type="Meeting";}else{if(type.toLowerCase().indexOf("to")>-1){type="ToDo";}else{if(type.toLowerCase().indexOf("personal")>-1){type="PersonalActivity";}else{type="Meeting";}}}}}svc.scheduleActivity({type:type,preConfigured:{StartDate:Sage.Utility.Convert.toIsoStringFromDate(_eeb),Duration:_eed}});}};_scheduler.xy.menu_width=0;_scheduler.config.details_on_dblclick=true;_scheduler.config.details_on_create=true;_scheduler.attachEvent("onClick",function(){return false;});_scheduler.showLightbox=function(_eef){if(_eef!==null&&_eef!==undefined){if(typeof _eef=="string"){var eId=_eef.replace("0:","");var _ef0=eId.split("-");if(_ef0[2]=="act"){if(_scheduler._events[_eef]&&!_scheduler._events[_eef].confirmed){Sage.Link.confirmActivityFor(_ef0[0],_ef0[1]);}else{Sage.Link.editActivity(_ef0[0],false,_ef0[1]);}}else{if(_ef0[1]=="evt"||_ef0[2]=="evt"){Sage.Link.editEvent(_ef0[0]);}else{if(_ef0[1]=="hist"||_ef0[2]=="hist"){Sage.Link.editHistory(_ef0[0]);}}}}}};_scheduler.getCalendarEventID=function(_ef1){var _ef2=_ef1;if(_ef1!==null&&_ef1!==undefined){if(typeof _ef1=="string"){_ef1=_ef1.replace("0:","");var eId=_ef1.split("-");_ef2=eId[0];}}return _ef2;};_scheduler.getCalendarEventUserID=function(_ef3){var _ef4=_ef3;if(_ef3!==null&&_ef3!==undefined){if(typeof _ef3=="string"){_ef3=_ef3.replace("0:","");var eId=_ef3.split("-");_ef4=eId[1];}}return _ef4;};_scheduler.goToActivityAssociation=function(_ef5,_ef6){var _ef7=null;if(_scheduler._events&&_scheduler._events[_ef6]){switch(_ef5){case"Contact":_ef7=_scheduler._events[_ef6].contactId;break;case"Account":_ef7=_scheduler._events[_ef6].accountId;break;case"Lead":_ef7=_scheduler._events[_ef6].leadId;break;case"Opportunity":_ef7=_scheduler._events[_ef6].opportunityId;break;case"Ticket":_ef7=_scheduler._events[_ef6].ticketId;break;}}if(_ec5(_ef7)){Sage.Link.entityDetail(_ef5,_ef7);}};_scheduler.openActivity=function(_ef8){_scheduler.showLightbox(_ef8);};_scheduler.completeActivity=function(_ef9){Sage.Link.completeActivity(_scheduler.getCalendarEventID(_ef9));};_scheduler.getMenuActivityAction=function(_efa,_efb){if(!_efa){return false;}var _efc=false;var _efd=_scheduler.getCalendarEventUserID(_efa);var _efe=_scheduler._events[_efa]["leaderUserId"];var _eff=_eb2.getClientContextByKey("userID");var _f00=_scheduler._events[_efa]["confirmed"]||false;var _f01=_scheduler._events[_efa]["allowDelete"];var _f02=_scheduler._events[_efa]["allowEdit"];switch(_efb){case"delete":if(_f01){if(_efd===_efe){_efc="delete";}else{if(_f00){_efc="declineConfirmed";}else{_efc="decline";}}}else{if(_eff===_efd){if(_eff===_efe){_efc="delete";}else{if(_f00){_efc="declineConfirmed";}else{_efc="decline";}}}else{_efc=false;}}break;case"complete":if(_f00&&_efd===_efe&&_f02){_efc=true;}break;}return _efc;};_scheduler.deleteActivity=function(_f03){var _f04=_scheduler.getCalendarEventID(_f03);Sage.Link.deleteActivity(_f04);};_scheduler.declineConfirmedUserActivity=function(_f05){var _f06=_scheduler.getCalendarEventID(_f05);var _f07=_scheduler.getCalendarEventUserID(_f05);var _f08=_scheduler._events[_f05]["leaderUserId"];_f06=_f06.indexOf(";")>0?_f06.substring(0,12):_f06;var _f09={"$key":_f06,"Leader":{"$key":_f08}};var _f0a=Sage.Services.getService("ActivityService");_f0a.declineMemberConfirmation(_f09,_f07);};_scheduler.declineActivity=function(_f0b){var _f0c=_scheduler.getCalendarEventID(_f0b);var _f0d=_scheduler.getCalendarEventUserID(_f0b);var _f0e=Sage.Services.getService("ActivityService");_f0e.confirmActivityFor(_f0c,_f0d,self._loadNotification,self);};_scheduler.deleteActivityEvent=function(_f0f){Sage.Link.deleteEvent(_scheduler.getCalendarEventID(_f0f));};_scheduler.attachEvent("onEventAdded",function(_f10,_f11){if(typeof _f10!="string"){_scheduler.addEventNow(_f11.start_date,_f11.end_date,"atAppointment");_scheduler.deleteEvent(_f10);}});_scheduler.attachEvent("onBeforeEventChanged",function(_f12,_f13,_f14){if(_f14){switch(this._mode){case"day":case"week":case"workweek":_scheduler.addEventNow(_f12.start_date,_f12.end_date,self._userOptions["defaultactivity"]);_scheduler.deleteEvent(_f12.id);break;case"month":var _f15=_f12.end_date;if(dojo.date.compare(_f12.end_date,_f12.start_date)>0){_f15=dojo.date.add(_f12.end_date,"day",-1);}_scheduler.addEventNow(_f12.start_date,_f15,"event");_scheduler.deleteEvent(_f12.id);break;}}else{if(!_f12.allowEdit){return false;}var _f16={Id:_f12.id,Text:_f12.text,StartDate:_f12.start_date,Alarm:_f12.alarm,EndDate:Sage.Utility.Convert.toIsoStringFromDate(_f12.end_date),AlarmMinutesBefore:_f12.alarmMinutesBefore||-15,Duration:dojo.date.difference(_f12.start_date,_f12.end_date,"minute")};if(typeof _f12.id=="string"){if(_f12.id&&_f12.id.indexOf("-act")>0){_f16.Id=_scheduler.getCalendarEventID(_f12.id);_f16.UserId=_scheduler.getCalendarEventUserID(_f12.id);if(_f16.AlarmMinutesBefore){_f16.AlarmTime=dojo.date.add(_f16.StartDate,"minute",_f16.AlarmMinutesBefore);_f16.AlarmTime=Sage.Utility.Convert.toIsoStringFromDate(_f16.AlarmTime);}_f16.StartDate=Sage.Utility.Convert.toIsoStringFromDate(_f16.StartDate);self._currentActivity=_f16;if(_f12.id.indexOf(";")>0){self.onEditRecurrenceActivity(_f16.Id);}else{self._updateUserActivity();}}else{if(_f12.id&&_f12.id.indexOf("-evt")>0){_f16.Id=_f12.id.replace("-evt","");_f16.EndDate=dojo.date.add(_f12.end_date,"day",-1);self._updateEvent(_f16);}}}}return true;});_scheduler.attachEvent("onViewChange",function(mode,date){var _f17={};_f17.mode=mode;_f17.date=date;_f17.weekStartDate=_scheduler._week_min_date;_f17.weekEndDate=_scheduler._week_max_date;_f17.workWeekStartDate=_scheduler._workweek_min_date;_f17.workWeekEndDate=_scheduler._workweek_max_date;dojo.publish("/entity/activity/calendar/schedulerDateChanged",[_f17,this]);});_scheduler.attachEvent("onContextMenu",function(_f18,_f19){var pos=_scheduler._mouse_coords(_f19);var _f1a=_scheduler._min_date.valueOf()+(pos.y*_scheduler.config.time_step+(_scheduler._table_view?0:pos.x)*24*60)*60000;_f1a=_scheduler._correct_shift(_f1a);self._bindContextMenu(_f18,_f1a);});var _f1b=_scheduler.date.date_to_str("%g %A");_scheduler.config.hour_size_px=(60/this._userOptions["defaultinterval"])*42;_scheduler.templates.hour_scale=function(date){var html="";for(var i=0;i<60/self._userOptions["defaultinterval"];i++){if(i===0){html+="<div style='height:21px;line-height:21px;border-bottom: 1px solid #DcDcDc;'>"+_f1b(date)+"</div>";date=_scheduler.date.add(date,self._userOptions["defaultinterval"],"minute");}else{html+="<div style='height:21px;line-height:21px;'></div>";}}return html;};_scheduler.render_event_bar=function(ev){if(this._cols[ev._sday]===0){return;}var _f1c=this._rendered_location;var x=this._colsS[ev._sday];var x2=this._colsS[ev._eday];if(x2==x){x2=this._colsS[ev._eday+1];}var hb=this.xy.bar_height;var y=this._colsS.heights[ev._sweek]+(this._colsS.height?(this.xy.month_scale_height+2):2)+(ev._sorder*hb);var d=document.createElement("DIV");var cs=ev._timed?"dhx_cal_event_clear":"dhx_cal_event_line";var cse=_scheduler.templates.event_class(ev.start_date,ev.end_date,ev);if(cse){cs=cs+" "+cse;}var _f1d=(ev.color?("background-color:"+ev.color+";"):"");var _f1e=(ev.textColor?("color:"+ev.textColor+";"):"");var html="";var _f1f=10;var _f20=(this.xy.month_scale_height+_f1f)+2;var _f21=this._colsS.heights[ev._sweek+1]-y;if(this._mode!=="month"||(this._mode==="month"&&(_f21>_f20))){var _f22=x2-x-15;if(ev["id"].toString().indexOf("-evt")===-1){x+=5;_f22=x2-x-8;}html='<div event_id="'+ev.id+'" class="'+cs+'" style="position:absolute; top:'+y+"px; left:"+x+"px; width:"+_f22+"px;"+_f1e+""+_f1d+""+(ev._text_style||"")+'" id ="'+_scheduler.uid()+'">';if(ev._timed){if(ev.iconSrc){html+='<img src="'+ev.iconSrc+'" style="float:left;padding-right:4px;"/>';}if(ev["id"].toString().indexOf("-hist")>0){html+='  <img src="'+self._activityCompleteIcon+'" style="float:left;padding-right:4px;"/>';}html+=_scheduler.templates.event_bar_date(ev.start_date,ev.end_date,ev);}html+=_scheduler.templates.event_bar_text(ev.start_date,ev.end_date,ev)+"</div>";html+="</div>";}else{if(_f21>(_f1f+2)){var uId=_scheduler.uid();html='<div style="position:absolute; top:'+y+"px; left:"+x+"px;width:"+(x2-x-5)+'px;" id ="'+uId+'">';html+='<a title="'+self.tooltipMoreActivities+'" href ="javascript:window.scheduler.setCurrentView(new Date(\''+ev.start_date+"'),'day');\">";html+='<img src="../../images/CalendarMoreArrow.png" style="float:right" />';html+="</a></div>";}else{html="<div></div>";}}d.innerHTML=html;this._rendered.push(d.firstChild);_f1c.appendChild(d.firstChild);};this.eventConnections.push(dojo.connect(document.body,"onclick",this,"_bodyClicked"));this.eventConnections.push(dojo.connect(window.parent.document.body,"onclick",this,"_bodyClicked"));this._bindContextMenu(null,new Date());},_loadNotification:function(_f23){this._notificationData=false;if(!this._notificationStore){this._notificationStore=new _eae({include:["Activity","$descriptors"],resourceKind:"userNotifications",service:_eaf.getSDataService("system")});}this._notificationStore.fetch({predicate:"'"+_f23+"'",onComplete:this._receivedNotification,onError:this._requestFailure,scope:this});},_requestFailure:function(){},_receivedNotification:function(_f24){this._notificationData=_f24;var _f25=Sage.Services.getService("ActivityService");_f25.declineConfirmation({notification:this._notificationData,success:this._successfulDeclineConfirmation,failure:this._failedAcceptDecline,scope:this});},_successfulDeclineConfirmation:function(){dojo.publish("/entity/activity/decline",[this._getActivityDataFromNotificationData(),null]);dojo.publish("/entity/userNotification/delete",[this._notificationData["$key"],this]);},_getActivityDataFromNotificationData:function(){var _f26=null;var _f27=null;if(this._notificationData){if(this._notificationData.Activity){_f26=this._notificationData.Activity.$key;}if(this._notificationData.ToUser){_f27=this._notificationData.ToUser.$key;}}var _f28={"activityId":_f26,"userId":_f27};return _f28;},onEditRecurrenceActivity:function(_f29){if(!this._editOccSeriesDlg){this._editOccSeriesDlg=new _eb3({id:"editOccSeriesQueryCalendar",mode:"edit",disableSeriesOption:"disabled"});dojo.connect(this._editOccSeriesDlg,"onSelectOccurrence",this,function(_f2a,_f2b){this._updateActivity(this._currentActivity);});}this._editOccSeriesDlg.set("activityId",_f29);this._editOccSeriesDlg.show();},_bodyClicked:function(){if(this.schedulerContextMenu&&this.schedulerContextMenu.isShowingNow){this.schedulerContextMenu._popupWrapper.style.display="none";}},_updateUserActivity:function(){var _f2c=this._currentActivity;var _f2d=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_f2d.setResourceKind("userActivities");var key=dojo.string.substitute('"ActivityId=${0};UserId=${1}"',[_f2c.Id,_f2c.UserId]);_f2d.setResourceSelector(key);this._userActivityData={$key:key,Id:_f2c.Id,StartDate:_f2c.StartDate,Alarm:_f2c.Alarm,Duration:_f2c.Duration};if(_f2c.AlarmMinutesBefore){this._userActivityData.AlarmTime=_f2c.AlarmTime;}_f2d.update(this._userActivityData,{scope:this,success:function(act){this._updateActivity();},failure:function(e){}});},_updateActivity:function(_f2e){if(!_f2e){_f2e=this._userActivityData;}_f2e.$key=_f2e.Id;var _f2f=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_f2f.setResourceKind("activities");_f2f.setResourceSelector(dojo.string.substitute('"${0}"',[_f2e.$key]));_f2f.update(_f2e,{success:function(act){var _f30=[];var i;var _f31=_f2e.$key.substring(0,12);for(i in this._scheduler._events){var evt=this._scheduler._events[i];if(evt.id.indexOf(_f31)>-1){_f30.push(evt.id);}}if(_f30){for(i=0;i<_f30.length;i++){this._scheduler.deleteEvent(_f30[i]);}}dojo.publish("/entity/activity/activityScheduler/reloadActivity",[_f31,this]);if(_f31!==act.$key){dojo.publish("/entity/activity/activityScheduler/reloadActivity",[act.$key,this]);}},failure:function(){},scope:dojo.global});},_getWeekStart:function(date){var _f32=this._userOptions["weekstart"];if(date===null){date=new Date();}var _f33=date.getDay();_f33=_f32-_f33;var _f34=_scheduler.date.add(date,_f33,"day");if(_f34>date){_f34=_scheduler.date.add(_f34,-7,"day");}return _scheduler.date.date_part(_f34);},_getWorkWeekStart:function(date){},_getMonthStart:function(date){return date.setDate(1);},_updateEvent:function(_f35){var _f36=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_f36.setResourceKind("events");_f36.setResourceSelector(dojo.string.substitute('"${0}"',[_f35.Id]));var _f37={$key:_f35.Id,StartDate:Sage.Utility.Convert.toIsoStringFromDate(_f35.StartDate),EndDate:Sage.Utility.Convert.toIsoStringFromDate(_f35.EndDate)};_f36.update(_f37,{success:function(act){},failure:function(){},scope:dojo.global});},_preloadCalendarUserOptions:function(){var _f38=Sage.Services.getService("UserOptions");if(_f38){_f38.getByCategory("Calendar",this._receivedCalendarOptions,this,this._failedCalendarOptions);}},_receivedCalendarOptions:function(data){var opts=data["$resources"];if(opts.length>0){this._userOptions["workweek"]=[];}for(var i=0;i<opts.length;i++){var opt=opts[i];switch(opt["name"].toUpperCase()){case"WEEKSTART":this._userOptions["weekstart"]=_eb0.getDay(opt["value"]);break;default:this._userOptions[opt["name"].toLowerCase()]=_eb0.getConvertedOptionValue(opt["name"],opt["value"]);break;}}if(this._userOptions["workweeksun"]){this._userOptions["workweek"].push(0);}if(this._userOptions["workweekmon"]){this._userOptions["workweek"].push(1);}if(this._userOptions["workweektue"]){this._userOptions["workweek"].push(2);}if(this._userOptions["workweekwed"]){this._userOptions["workweek"].push(3);}if(this._userOptions["workweekthu"]){this._userOptions["workweek"].push(4);}if(this._userOptions["workweekfri"]){this._userOptions["workweek"].push(5);}if(this._userOptions["workweeksat"]){this._userOptions["workweek"].push(6);}if(this._userOptions["workweek"]){this._userOptions["workweek"].sort(_eb0.arraySort);}this._initScheduler();this._launchScheduler();},_failedCalendarOptions:function(data){this._initScheduler();this._launchScheduler();},_bindContextMenu:function(_f39,_f3a){if(this.schedulerContextMenu){this.schedulerContextMenu.unBindDomNode(this._iFrameId);}this.schedulerContextMenu=new dijit.Menu({});var _f3b=null;if(_f39===null){_f3b="mnuCalendarSchedule";}else{if(_f39.indexOf("-act")>0){_f3b="mnuCalendarActivity";}else{if(_f39.indexOf("-evt")>0){_f3b="mnuCalendarEvent";}else{if(_f39.indexOf("-hist")>0){_f3b="mnuCalendarHistory";}}}}var _f3c=Sage.UI.DataStore.ContextMenus.calendar_activityContextMenu.items;var len=_f3c.length;for(var i=0;i<len;i++){var mDef=_f3c[i];if(mDef.id===_f3b){this._buildChildMenu(mDef.submenu,null,_f39,_f3a);break;}}this.schedulerContextMenu.bindDomNode(this._iFrameId);},_buildChildMenu:function(_f3d,_f3e,_f3f,_f40){var len=_f3d.length;for(var i=0;i<len;i++){var mDef=_f3d[i];if(mDef.submenu.length>0){var _f41=new dijit.Menu();this._buildChildMenu(mDef.submenu,_f41,_f3f,_f40);var _f42=new dijit.PopupMenuItem({label:mDef.text,popup:_f41});if(_f3e){_f3e.addChild(_f42);}else{this.schedulerContextMenu.addChild(_f42);}}else{var _f43=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_f43=new dijit.MenuSeparator();}else{var href=mDef.href;href=href.replace("javascript:Sage.Link.","javascript:parent.Sage.Link.");var _f44=false;var _f45=false;if(href.toUpperCase()==="DELETEACTIVITY"){_f45=_scheduler.getMenuActivityAction(_f3f,"delete");if(!_f45){_f44=true;}}else{if(href.toUpperCase()==="COMPLETEACTIVITY"){var _f46=_scheduler.getMenuActivityAction(_f3f,"complete");if(!_f46){_f44=true;}}}_f43=new Sage.UI.MenuItem({label:mDef.text||"...",icon:"Libraries/dojo/dojo/resources/blank.gif",title:mDef.tooltip||"",ref:href,deleteAction:_f45,disabled:_f44,onClick:function(){switch(this.ref.toUpperCase()){case"SCHEDULEPHONECALL":_scheduler.addEventNow(_f40,null,"PhoneCall");break;case"SCHEDULEMEETING":_scheduler.addEventNow(_f40,null,"Meeting");break;case"SCHEDULETODO":_scheduler.addEventNow(_f40,null,"ToDo");break;case"SCHEDULEPERSONALACTIVITY":_scheduler.addEventNow(_f40,null,"PersonalActivity");break;case"SCHEDULEEVENT":_scheduler.addEventNow(_f40,null,"event");break;case"OPENACTIVITY":case"OPENEVENT":case"OPENHISTORY":_scheduler.openActivity(_f3f);break;case"COMPLETEACTIVITY":_scheduler.completeActivity(_scheduler.getCalendarEventID(_f3f));break;case"DELETEACTIVITY":if(this.deleteAction==="delete"){_scheduler.deleteActivity(_f3f);}else{if(this.deleteAction==="decline"){_scheduler.declineActivity(_f3f);}else{if(this.deleteAction==="declineConfirmed"){_scheduler.declineConfirmedUserActivity(_f3f);}}}break;case"GOTOACCOUNT":_scheduler.goToActivityAssociation("Account",_f3f);break;case"GOTOCONTACT":_scheduler.goToActivityAssociation("Contact",_f3f);break;case"GOTOOPPORTUNITY":_scheduler.goToActivityAssociation("Opportunity",_f3f);break;case"GOTOTICKET":_scheduler.goToActivityAssociation("Ticket",_f3f);break;case"GOTOLEAD":_scheduler.goToActivityAssociation("Lead",_f3f);break;case"DELETEEVENT":_scheduler.deleteActivityEvent(_scheduler.getCalendarEventID(_f3f));break;}}});}if(_f3e){_f3e.addChild(_f43);}else{this.schedulerContextMenu.addChild(_f43);}}}}});return _eb8;});},"Sage/Utility/Sql":function(){define("Sage/Utility/Sql",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/i18n!./nls/Sql"],function(_f47,_f48,lang,nls){var _f49=_f48("Sage.Utility.Sql",null,{_allQuotesReg:null,_badQuotesReg:null,_closingQuotesReg:null,_normalQuotesReg:null,_openingQuotesReg:null,_selectInClauseReg:null,_closingQuotes:["'","Â´","â€™","â€™"],_openingQuotes:["'","`","â€˜","â€˜"],resources:nls,quoteType:{apostrophe:0,accent:1,curly:2,unicode:3},constructor:function(){this.inherited(arguments);this._allQuotesReg=new RegExp("['`Â´â€˜â€™â€˜â€™]");this._badQuotesReg=new RegExp("[`Â´â€˜â€™â€˜â€™]");this._closingQuotesReg=new RegExp("['Â´â€™â€™]");this._normalQuotesReg=new RegExp("'");this._openingQuotesReg=new RegExp("['`â€˜â€˜]");},fixQuoted:function(_f4a){var temp=_f4a;if(_f4a&&lang.isString(_f4a)&&_f4a.length>0){if(this._badQuotesReg.test(temp)){temp=this.removeBadOuterQuotes(temp);}if(this._normalQuotesReg.test(temp)){var ch=temp.charAt(0);if(this._normalQuotesReg.test(ch)){temp=temp.substr(1,temp.length-1);}if(temp===""){return"";}ch=temp.charAt(temp.length-1);if(this._normalQuotesReg.test(ch)){temp=temp.substr(0,temp.length-1);}}}else{return"''";}return"'"+temp+"'";},fixQuotes:function(_f4b){if(_f4b&&lang.isArray(_f4b)){_f47.forEach(_f4b,function(_f4c,idx){_f4b[idx]=this.fixQuoted(_f4c);},this);return _f4b.join(",");}return false;},fixInClause:function(_f4d){var _f4e="('')";if(_f4d&&typeof _f4d!=="undefined"&&lang.isString(_f4d)===false){if(lang.isArray(_f4d)){_f4d="'"+_f4d.toString().replace(/,/g,"','")+"'";}else{_f4d="'"+_f4d.toString()+"'";}}var temp;if(_f4d&&lang.isString(_f4d)&&lang.trim(_f4d).length>0){if(this.hasValidApostropheQuoteCount(_f4d)===false){throw new Error(this.resources.InvalidApostropheCount);}temp=_f4d.replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," ").trim();if(temp===""){return _f4e;}if(this._badQuotesReg.test(temp)){if(temp.charAt(0)==="("&&temp.charAt(temp.length-1)===")"){temp=temp.substr(1,temp.length-1);temp=temp.substr(0,temp.length-1);}if(temp===""){return _f4e;}var _f4f=temp.toUpperCase().indexOf("SELECT")===0;if(_f4f){var _f50=false;var _f51=-1;var _f52=[];for(var i=0;i<temp.length;i++){var ch=temp.charAt(i);if(_f50===false){if(this._openingQuotesReg.test(ch)){_f50=true;switch(ch){case"'":_f51=this.quoteType.apostrophe;break;case"`":_f51=this.quoteType.accent;_f52.push(i);break;case"â€˜":_f51=this.quoteType.curly;_f52.push(i);break;case"â€˜":_f51=this.quoteType.unicode;_f52.push(i);break;}}}else{if(this._closingQuotesReg.test(ch)){var _f53=this.translateQuoteType(ch);if(_f53==-1){continue;}if(_f51==_f53){_f50=false;switch(_f51){case this.quoteType.accent:case this.quoteType.curly:case this.quoteType.unicode:_f52.push(i);break;}_f51=-1;}}}}if(_f52&&lang.isArray(_f52)&&_f52.length>0){_f47.forEach(_f52,function(_f54){temp=temp.substr(0,_f54)+"'"+temp.substr(_f54+1);});}if(typeof console!=="undefined"){}if(this.hasValidApostropheQuoteCount(temp)===false){throw new Error(this.resources.InvalidApostropheCount);}return"("+temp+")";}else{var _f55=temp.split(",");_f47.forEach(_f55,function(_f56,idx){_f55[idx]=_f56.trim();});var _f57=this.fixQuotes(_f55);if(_f57){if(typeof console!=="undefined"){}if(this.hasValidApostropheQuoteCount(_f57)===false){throw new Error(this.resources.InvalidApostropheCount);}return"("+_f57+")";}if(typeof console!=="undefined"){}return _f4e;}}else{if(temp.charAt(0)!="("){if(typeof console!=="undefined"){}return"("+temp+")";}if(typeof console!=="undefined"){}return temp;}}else{if(_f4d&&lang.isString(_f4d)){temp=_f4d.replace(/\r\n/g,"").replace(/\n/g,"").replace(/\r/g,"");if(temp.length>0){if(typeof console!=="undefined"){}return"('"+temp+"')";}if(typeof console!=="undefined"){}return _f4e;}}if(typeof console!=="undefined"){}return _f4d;},hasBadOuterQuotes:function(_f58){if(_f58&&lang.isString(_f58)&&_f58.length>0){if(this._badQuotesReg.test(_f58)){var ch=_f58.charAt(0);if(this._badQuotesReg.test(ch)){return true;}ch=_f58.charAt(_f58.length-1);if(this._badQuotesReg.test(ch)){return true;}}}return false;},hasValidApostropheQuoteCount:function(_f59){if(_f59&&lang.isString(_f59)&&_f59.length>0){if(this._normalQuotesReg.test(_f59)){var _f5a=_f59.match(/'/g);if(_f5a&&lang.isArray(_f5a)&&_f5a.length>0){return(_f5a.length%2)===0;}}}return true;},removeBadOuterQuotes:function(_f5b){if(this.hasBadOuterQuotes(_f5b)){var temp=_f5b;var ch=temp.charAt(0);if(this._badQuotesReg.test(ch)){temp=temp.substr(1,temp.length-1);}if(temp===""){return"";}ch=temp.charAt(temp.length-1);if(this._badQuotesReg.test(ch)){temp=temp.substr(0,temp.length-1);}return temp;}return _f5b;},replaceQuotesAroundValues:function(_f5c){if(_f5c&&lang.isString(_f5c)&&_f5c.length>0){var temp=_f5c;_f47.forEach([/`(.*?)Â´/g,/â€˜(.*?)â€™/g,/\u2018(.*?)\u2019/g],function(reg){var _f5d=temp.match(reg);_f47.forEach(_f5d,function(_f5e){if(_f5e.length==2){temp=temp.replace(_f5e,"''");}else{var _f5f=_f5e.substr(1,_f5e.length-1);_f5f=_f5f.substr(0,_f5f.length-1);temp=temp.replace(_f5e,"'"+_f5f+"'");}});return temp;});}return _f5c;},translateQuoteType:function(ch){if(ch&&lang.isString(ch)&&ch.length==1&&this._allQuotesReg.test(ch)){switch(ch){case"'":return this.quoteType.apostrophe;case"`":case"Â´":return this.quoteType.accent;case"â€˜":case"â€™":return this.quoteType.curly;case"â€˜":case"â€™":return this.quoteType.unicode;}}return -1;}});return _f49;});},"Sage/Utility/nls/Sql":function(){define("Sage/Utility/nls/Sql",["Sage/LanguageList","dojo/_base/lang"],function(_f60,lang){var nls={root:{InvalidApostropheCount:"The number of apostrophes in the SQL IN clause is invalid."}};return lang.mixin(_f60,nls);});},"Sage/UI/Columns/DataType":function(){define("Sage/UI/Columns/DataType",["dojox/grid/cells/_base","dojo/string","dojo/_base/declare","Sage/Utility/Filters"],function(_f61,_f62,_f63,_f64){var _f65=_f63("Sage.UI.Columns.DataType",_f61,{constructor:function(){this.inherited(arguments);},formatter:function(val,_f66){var t=_f64.resolveDataTypeQB(val),_f67="string";switch(t){case"Integer":_f67="int";break;case"Decimal":_f67="float";break;case"Date/Time":_f67="date";break;case"Memo/Blob":_f67="blob";break;default:_f67="string";break;}return _f62.substitute('<img src="images/ft_${0}.gif" class="dataTypeColumnDimensions" />',[_f67]);}});return _f65;});},"Sage/QuickForms/Design/Editors/DateTimePickerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DateTimePickerAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DateTimePickerAdvancedPropertyEditor"],function(_f68,lang,_f69,_f6a,_f6b,_f6c,_f6d,_f6e,_f6f,_f70,_f71){return _f68("Sage.QuickForms.Design.Editors.DateTimePickerAdvancedPropertyEditor",[_f69,_f6f,_f6e],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.buttonToolTipTooltipText %}">',"<label>{%= $.buttonToolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_buttonToolTip" data-dojo-attach-event="onChange:_onButtonToolTipChange"></div>',"</div>",'<div class="editor-field" title="{%= $.displayModeTooltipText %}">',"<label>{%= $.displayModeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_displayMode" data-dojo-attach-event="onChange:_onDisplayModeChange">',"{% for (var mode in $.displayModeTypeText) { %}",'<span value="{%= mode %}">{%= $.displayModeTypeText[mode] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>",'<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>",'<div class="editor-field" title="{%= $.requiredTooltipText %}">',"<label>{%= $.requiredText %}</label>",'<div data-dojo-attach-point="_required" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onRequiredChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.timelessTooltipText %}">',"<label>{%= $.timelessText %}</label>",'<div data-dojo-attach-point="_timeless" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onTimelessChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_buttonToolTip:null,_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_displayMode:null,_required:null,_timeless:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",buttonToolTipText:"Button Tooltip:",buttonToolTipTooltipText:"The tooltip  to display when the user's mouse hovers over the button part of the control.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",timelessText:"Timeless:",timelessTooltipText:"Use date without time and no DST conversion.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},displayModeTypeText:{"AsControl":"As Control","AsText":"As Text","AsHyperlink":"As Hyperlink"},constructor:function(){lang.mixin(this,_f71);},setup:function(){this.inherited(arguments);this._buttonToolTip.set("value",this._designer.get("buttonToolTip"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._required.set("value",this._designer.get("required"));this._timeless.set("value",this._designer.get("timeless"));this._visible.set("value",this._designer.get("visible"));var _f72=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_f72&&_f72["DataItemName"])||"");},_onButtonToolTipChange:function(_f73){if(this.isSuspended()){return;}this._designer.set("buttonToolTip",_f73);},_onControlTypeChange:function(_f74){},_onControlIdChange:function(_f75){},_onDefaultDataBindingChange:function(_f76){},_onDisplayModeChange:function(_f77){if(this.isSuspended()){return;}this._designer.set("displayMode",_f77);},_onEnabledChange:function(_f78){if(this.isSuspended()){return;}this._designer.set("enabled",_f78);},_onControlLabelPlacementChange:function(_f79){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_f79);},_onRequiredChange:function(_f7a){if(this.isSuspended()){return;}this._designer.set("required",_f7a);},_onTimelessChange:function(_f7b){if(this.isSuspended()){return;}this._designer.set("timeless",_f7b);},_onVisibleChange:function(_f7c){if(this.isSuspended()){return;}this._designer.set("visible",_f7c);}});});},"url:Sage/templates/MenuBarItem.html":'<div class="dijitReset dijitInline dijitMenuItem" data-dojo-attach-point="focusNode" waiRole="menuitem" tabIndex="-1"\r\n    data-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\r\n    <span>\r\n    <img src="${_blankGif}" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\r\n    <div class="dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}" data-dojo-attach-point="iconNodeSprite"></div>\r\n    <span class="dijitMenuItemLabel" data-dojo-attach-point="containerNode"></span>\n    </span>\n</div>\n',"url:Sage/MainView/Opportunity/templates/OpportunityStatistics.html":" [\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" id=\"{%= $.id%}_dlgOpportunityStatistics\" title=\"{%= $.opportunityStatistics_Caption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n            '<div dojoAttachPoint=\"loadingContainer\">',\r\n                '<br />',\r\n                '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingMessge %}</label>',\r\n                '<br />',\r\n                '<br />',\r\n            '</div>',\r\n            '<table cellspacing=\"20\" dojoAttachPoint=\"statisticsContentsContainer\" class=\"display-none\">',\r\n                '<tr>',\r\n                    '<td >',\r\n                        '<label>{%= $.opportunityCount %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"opportunityCount\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.salesPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotential\" dojoAttachPoint=\"salesPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"salesPotentialAverage\" dojoAttachPoint=\"salesPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.weightedPotentialTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotential\" dojoAttachPoint=\"weightedPotentialTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"weightedPotentialAverage\" dojoAttachPoint=\"weightedPotentialAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageCloseProbability %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div dojoType=\"Sage.UI.Controls.Numeric\" constraints=\"{ places: 2, maxPlaces: 2, type: \\'percent\\' }\" dojoAttachPoint=\"closeProbability_Container\" readonly=\"readonly\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.actualAmountTotal %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmount\" dojoAttachPoint=\"actualAmountTotal_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<div id=\"actualAmountAverage\" dojoAttachPoint=\"actualAmountAverage_Container\" disabled=\"disabled\"></div>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.averageDaysOpen %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"daysOpen_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<label>{%= $.rangeEstClose %}</label>',\r\n                    '</td>',\r\n                    '<td>',\r\n                        '<label dojoAttachPoint=\"rangeEstClose_Container\"></label>',\r\n                    '</td>',\r\n                '</tr>',\r\n            '</table>',\r\n            '<div class=\"button-bar alignright\">',\r\n                '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" type=\"button\" dojoAttachEvent=\"onClick:_close\">{%= $.btnClose_Caption %}</button>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/UI/Filters/nls/EditFilters":function(){define("Sage/UI/Filters/nls/EditFilters",["Sage/LanguageList","dojo/_base/lang"],function(_f7d,lang){var nls={root:{selectAllText:"Select All",dialogTitle:"Edit Filters",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_f7d,nls);});},"Sage/UI/Controls/Numeric":function(){define("Sage/UI/Controls/Numeric",["dojo/_base/html","dijit/_Widget","Sage/_Templated","Sage/UI/NumberTextBox","dojo/currency","dojo/_base/declare","dojo/_base/sniff","dojo/has"],function(html,_f7e,_f7f,_f80,_f81,_f82,_f83,has){dojo.mixin(dijit.form.ValidationTextBox.prototype.attributeMap,{slxchangehook:"focusNode"});var _f84=_f82("Sage.UI.Controls.Numeric",[_f7e,_f7f],{displayModes:{"AsHyperlink":0,"AsControl":1,"AsText":2},modeTemplates:{"AsHyperlink":new Simplate(['<div data-dojo-type="dijit.form.Button" showLabel="true">ONE</div>']),"AsControl":new Simplate(['<input  data-dojo-type="Sage.UI.NumberTextBox" ','dojoAttachEvent="onChange:onChanged" ','constraints="{ {%= $.constraintsToString() %} }" ','formatType="{%= $.formatType %}" ','ignorechange="true" ','required="{%= $.required %}" ','id="{%= $.id %}_NumberTextBox" ','style="width:inherit;" ','textAlign="{%= $.textAlign %}" ','hotKey="{%= $.hotKey %}" ','{% if($.disabled === "disabled") { %} ','disabled="disabled" ',"{% } %}",'{% if($.readonly === "readonly") { %} ','readonly="readonly" ',"{% } %}",'name="{%= $.name %}" type="text" ','value="{%= $.value %}" required="{%= $.required %}" dojoAttachPoint="focusNode" ','maxLength="{%= $.maxLength %}">']),"AsText":new Simplate(['<div data-dojo-type="dijit.form.Button" showLabel="true">{%= $.formattedText() %}</div>'])},postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.domNode.parentNode&&this.domNode.parentNode.tagName=="SPAN"){this.domNode.parentNode.tabIndex=-1;}},constructor:function(_f85){this.constraints={};this.inherited(arguments);},widgetTemplate:new Simplate(['<div style="width:inherit;" slxcompositecontrol="true" id="{%= $.id %}" >',"{%= $.modeTemplates[$.displayMode].apply($) %}","</div>"]),value:0,autoPostBack:false,width:15,maxLength:128,style:"",enabled:true,visible:true,readonly:"",disabled:"",hotKey:"",tabIndex:0,required:false,displayMode:"AsControl",widgetsInTemplate:true,styles:"text-align: right;",constraints:null,name:"",formattedText:function(){return this.value;},formatType:"",constraintsToString:function(){var tmp=[];var prop;for(prop in this.constraints){if(this.constraints.hasOwnProperty(prop)){var _f86=this.constraints[prop];if(typeof _f86==="string"){_f86="'"+_f86+"'";}tmp.push(prop+":"+_f86);}}var _f87=tmp.join(",");return _f87;},onChanged:function(e){if(this.autoPostBack&&!has("ie")){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}}});return _f84;});},"Sage/UI/Controls/Address":function(){require({cache:{"url:Sage/UI/Controls/templates/Address.html":'<div class="address-container" id="{%= $.clientId %}" >\r\n    <!--\r\n    -- IMPORTANT: Comments in a widget template must be placed inside the root node.\r\n    Simplate template\r\n    https://github.com/mmorton/simplate\r\n    https://github.com/mmorton/simplate/blob/master/demo/index.html\r\n    Basic formatting example: {%= $.id %}\r\n    -->\r\n    <textarea id="{%= $.clientId %}_displayText" class="address-textarea" style="height:{%= $.height %};"\r\n        data-dojo-type="Sage.UI.Controls.SimpleTextarea" readonly="readonly" dragRestriction="true"  tabindex="{%= $.tabIndex %}"\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n        data-dojo-attach-event="onDblClick: showDialog, ondijitclick: showDialog"\r\n    {% } %}\r\n        slxchangehook="true" >{%= $.displayValue %}</textarea>\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n    <img alt="{%= $.imageData.imageEditAltText %}" data-dojo-attach-event="ondijitclick: showDialog" class="address-edit-button"\r\n         src="{%= $.imageData.imageEditUrl %}" title="{%= $.imageData.imageEditToolTip %}" id="{%= $.clientId %}-Button" \r\n          tabindex="{%= $.tabIndex %}" />\r\n    {% } %}\r\n    {% if ($.enabled && $.showButton) { %}\r\n    <img alt="{%= $.imageData.imageMapQuestAltText %}" data-dojo-attach-event="ondijitclick: showMap" class="address-map-button"\r\n         src="{%= $.imageData.imageMapQuestUrl %}" title="{%= $.imageData.imageMapQuestToolTip %}" id="{%= $.clientId %}-MapQuest" \r\n          tabindex="{%= $.tabIndex %}" />\r\n    {% } %}\r\n</div>',"url:Sage/UI/Controls/templates/AddressEdit.html":'<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table style="width:100%;height:100%;">\r\n                {% for (var i = 0; i < $.fields.length; i++) { %}\r\n                {% if ($.fields[i].visible) { %}\r\n                    <tr>\r\n                        <td><label>{%= $.fields[i].fieldLabel %}</label></td>\r\n                        <td style="width: 150px;">\r\n                            {% if ($.fields[i].xtype === \'picklistcombo\') { %}\r\n                            <select data-dojo-type="Sage.UI.Controls.DropDownSelectPickList"\r\n                                dojoAttachPoint="_valueBox"\r\n                                pickListName="{%= $.fields[i].pickList.pickListName %}"\r\n                                storeMode="text"\r\n                                style="width: 100%;"\r\n                                value="{%= $.fields[i].value %}"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === \'checkbox\') { %}\r\n                                <input data-dojo-type="Sage.UI.Controls.CheckBox"\r\n                                       checked="{%= $.fields[i].value %}"\r\n                                       disabled="{%= $.fields[i].disabled %}"\r\n                           {% } %}\r\n                           {% if ($.fields[i].xtype === \'textfield\') { %}\r\n                                <input data-dojo-type="Sage.UI.Controls.TextBox"\r\n                                style="width: 100%;" type="text"\r\n                                value="{%= $.fields[i].value %}"\r\n                           {% } %}\r\n                                id="{%= $.id %}-{%= $.fields[i].name %}"\r\n                                name="{%= $.fields[i].formClientId %}"\r\n                                shouldPublishMarkDirty="false"\r\n                                onChange="dijit.byId(\'{%= $.id %}\').editorChange();"\r\n                                textAlign="{%= $.fields[i].textAlign %}" data-dojo-attach-point="focusNode"\r\n                                maxLength="{%= $.fields[i].maxLength %}" />\r\n                        </td>\r\n                   </tr>\r\n                {% } %}          \r\n                {% } %}            \r\n        </table>                    \r\n        <div class="button-bar alignright" style="clear: both">\r\n            <button id="{%= $.id %}-OKButton" data-dojo-type="dijit.form.Button" type="submit" onClick="dijit.byId(\'{%= $.id %}\')._okClicked();">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id="{%= $.id %}-CancelButton" data-dojo-type="dijit.form.Button" type="button" onClick="dijit.byId(\'{%= $.id %}\')._cancelClicked();">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>'}});define("Sage/UI/Controls/Address",["dijit/_Widget","Sage/_Templated","Sage/Utility","Sage/UI/Controls/TextBox","Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","dijit/Dialog","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Address","dojo/text!./templates/Address.html","dojo/text!./templates/AddressEdit.html","dojo/_base/declare","dojo/_base/array"],function(_f88,_f89,_f8a,_f8b,_f8c,_f8d,_f8e,_f8f,_f90,_f91,_f92,_f93,_f94){var _f95=_f93("Sage.UI.Controls.Address",[_f88,_f89],{widgetTemplate:new Simplate(_f91.split("\r")),dialogContent:new Simplate(_f92.split("\r")),templateOverridePath:"",widgetsInTemplate:true,clientId:"",tabIndex:0,autoPostBack:false,readOnly:false,enabled:true,showButton:true,displayValue:"",displayValueClientId:"",height:"",imageData:{imageEditUrl:"",imageEditToolTip:"",imageEditAltText:"",imageMapQuestUrl:"",imageMapQuestToolTip:"",imageMapQuestAltText:""},fields:[],mapQuestValues:{},editorChange:function(){this.isDirty=true;},isDirty:false,name:"",constructor:function(_f96){dojo.mixin(this,_f96);_f96.id=_f96.clientId;this.resources=_f90;if(_f96.templateOverridePath&&_f96.templateOverridePath.length>0){try{this.dialogContent=new Simplate(dojo["cache"]("Sage.UI.Controls",_f96.templateOverridePath).split("\r"));}catch(e){}}this.inherited(arguments);},setAttribute:function(attr,val){this.set(attr,val);},postCreate:function(){this.inherited(arguments);this.setAttribute("tabindex","-1");},showDialog:function(){this.editDialog=dijit.byId([this.id,"-Dialog"].join(""));if(!this.editDialog){this.editDialog=new _f8e({title:this.resources.dialogTitle,id:[this.id,"-Dialog"].join(""),"class":"address-edit"});dojo.mixin(this.editDialog,new _f8f());this.editDialog.createHelpIconByTopic("accountaddresschange");}this.htmlEncodeForEditDialog();this.editDialog.set("content",this.dialogContent.apply({id:this.id,cancelText:this.resources.cancelText,okText:this.resources.okText,fields:this.fields}));this.isDirty=false;this.editDialog.show();if(this.modality==="modeless"){dojo.destroy([this.id,"-Dialog_underlay"].join(""));}},htmlEncodeForEditDialog:function(){_f94.forEach(this.fields,function(_f97,i){if(_f97.xtype==="textfield"&&_f97.value.indexOf('"')>-1){_f97.value=_f8a.htmlEncode(_f97.value);}});},showMap:function(){this.createFormItems();var _f98=this.getAddressValues();var map={"streetaddress":"addr1","city":"city","state":"state","zip":"postalcode","country":"country"};var _f99={};for(var key in map){if(_f98[map[key]]){_f99[key]=(typeof _f98[map[key]]==="object")?_f98[map[key]].text:_f98[map[key]];}}_f99.level=9;_f99.iconid=0;_f99.height=300;_f99.width=500;var _f9a=[];for(var _f9b in _f99){_f9a.push(_f9b+"="+encodeURIComponent(_f99[_f9b]));}var url="http://www.mapquest.com/cgi-bin/ia_free?"+_f9a.join("&");var _f9c="directories=no,location=no,menubar=no,pageXOffset=0px,pageYOffset=0px,scrollbars=yes,status=no,titlebar=no,toolbar=yes";window.open(url,"",_f9c);},createFormItems:function(){var _f9d=[];for(var i=0;i<this.fields.length;i++){if(this.fields[i].visible===false){continue;}this.mapQuestValues[this.fields[i].name]=this.fields[i];var f=$.extend(this.fields[i],this.fields[i].pickList,{id:this._clientId+"_field_"+this.fields[i].name,stateful:false,anchor:(this.fields[i].xtype!="checkbox")?"100%":false});if(f.maxLength>0){f.autoCreate={tag:"input",type:"text",maxlength:this.fields[i].maxLength};}f.tabIndex=i+1;_f9d.push(f);}return _f9d;},getAddressValues:function(){var _f9e={};for(var name in this.mapQuestValues){var _f9f=this.mapQuestValues[name];if(_f9f){_f9e[name]=_f9f.value;}}return _f9e;},getEditFields:function(){this.setDataFields();},setDataFields:function(){var _fa0,_fa1,_fa2;for(var i=0;i<this.fields.length;i++){_fa0=dijit.byId([this.id,"-",this.fields[i].name].join(""));_fa1=dojo.byId(this.fields[i].formClientId);_fa2=this.fields[i].xtype;if(_fa0){if(_fa2==="picklistcombo"){if(_fa1){_fa1.value=_fa0.get("value");}this.fields[i].value=_fa0.get("value");}if(_fa2==="checkbox"){if(_fa1){_fa1.checked=_fa0.get("checked");}this.fields[i].value=_fa0.get("checked");}if(_fa2==="textfield"){if(_fa1){_fa1.value=_fa0.get("value");}this.fields[i].value=_fa0.get("value");}}}},_okClicked:function(){var that=this;setTimeout((function(d){return function(){that._updateValues();};})(that),1);},_updateValues:function(){if(this.isDirty){this.getEditFields();var _fa3=dojo.byId(this.resultValueClientId);dijit.byId(this.clientId+"_displayText").set("value",Sage.Format.Address.formatAddress(this.fields,true));_fa3.value=Sage.Format.Address.formatAddress(this.fields,true);dojo.publish("Sage/events/markDirty");if(this.autoPostBack){__doPostBack(_fa3.name,"");}}},_cancelClicked:function(){this.editDialog.hide();}});return _f95;});},"Sage/QuickForms/Design/Editors/nls/FormUsagesPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormUsagesPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_fa4,lang){var nls={root:{titleText:"Usage",portalText:"Portal",viewText:"View",modesText:"Modes",descriptionText:"Description"}};return lang.mixin(_fa4,nls);});},"Sage/UI/Controls/nls/DurationSelect":function(){define("Sage/UI/Controls/nls/DurationSelect",["Sage/LanguageList","dojo/_base/lang"],function(_fa5,lang){var nls={root:{minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days"}};return lang.mixin(_fa5,nls);});},"Sage/UI/Alarms/nls/AlarmCountDown":function(){define("Sage/UI/Alarms/nls/AlarmCountDown",["Sage/LanguageList","dojo/_base/lang"],function(_fa6,lang){var nls={root:{startsInText:"Starts in",overduebyText:"Overdue by",minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days",weekText:"week",weeksText:"weeks",monthText:"month",monthsText:"months",yearText:"year",yearsText:"years",startsNowText:"Starts now"}};return lang.mixin(_fa6,nls);});},"Sage/UI/Dashboard/DashboardTabController":function(){define("Sage/UI/Dashboard/DashboardTabController",["dijit/layout/ScrollingTabController","dojo/i18n","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dojo/i18n!./nls/DashboardTabController","dojo/i18n!../nls/Boolean","dojo/_base/declare"],function(_fa7,i18n,menu,_fa8,_fa9,_faa,_fab,_fac){var _fad=_fac("dijit.layout._TabButton",dijit.layout._ScrollingTabControllerButton,{baseClass:"dijitTab",postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this,i18n.getLocalization("Sage.UI","Boolean"));},postCreate:function(){this.inherited(arguments);dojo.setSelectable(this.containerNode,false);},_setCloseButtonAttr:function(disp){var _fae=i18n.getLocalization("dijit","common");if(disp){if(this.closeNode){dojo.attr(this.closeNode,"title",_fae.itemClose);}this._closeMenu=new menu({id:this.id+"_Menu",dir:this.dir,targetNodeIds:[this.domNode]});this._closeMenu.addChild(new _fa8({label:this.newTabText,dir:this.dir,id:this._closeMenu.id+"_New",onClick:function(){var db=dijit.byId("Dashboard");db._createPage(true,db.newTabText);}}));this._closeMenu.addChild(new _fa8({label:this.addContentText,dir:this.dir,id:this._closeMenu.id+"_AddContent",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._newWidgetMenu();})}));this._closeMenu.addChild(new _fa8({label:this.editOptionsText,dir:this.dir,id:this._closeMenu.id+"_Edit",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._editOptionsMenu();})}));this._closeMenu.addChild(new _fa8({label:this.shareTabText,dir:this.dir,id:this._closeMenu.id+"_Share",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);d._releaseManager.page=d;d._releaseManager.share();})}));this._closeMenu.addChild(new _fa8({label:this.hideTabText,dir:this.dir,id:this._closeMenu.id+"_Hide",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var db=dijit.byId("Dashboard");db._hidePage(d);})}));this._closeMenu.addChild(new _fa8({label:this.copyTabText,dir:this.dir,id:this._closeMenu.id+"_Copy",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var db=dijit.byId("Dashboard");db._copyPage(d);})}));this._closeMenu.addChild(new _fa8({label:this.showTabText,dir:this.dir,id:this._closeMenu.id+"_Show",onClick:dojo.hitch(this,function(){var d=dijit.byId("Dashboard");d._showTabMenu();})}));var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);if(d.permission){this._closeMenu.addChild(new _fa8({label:this.deleteTabText,dir:this.dir,id:this._closeMenu.id+"_Delete",onClick:dojo.hitch(this,function(){var id=this.id.replace("Dashboard_tablist_","");var d=dijit.byId(id);var fn=function(ans){if(ans){if(d.permission){dojo.publish("/ui/dashboard/pageDelete",[d]);}else{var opts={title:d.resources.errorText,query:d.resources.permissionErrorText,yesText:d.resources.okButton,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);}}};var opts={title:this.deleteTabText,query:this.deleteTabConfirmText,callbackFn:fn,yesText:this.yesText,noText:this.noText,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);})}));}this._closeMenu.addChild(new _fa9());this._closeMenu.addChild(new _fa8({label:this.helpText,dir:this.dir,id:this._closeMenu.id+"_Help",onClick:dojo.hitch(this,function(){Sage.Utility.openHelp("Working_with_the_Dashboard","MCWebHelp");})}));}else{if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}}},_setLabelAttr:function(_faf){this.inherited(arguments);if(this.showLabel===false&&!this.params.title){this.iconNode.alt=dojo.trim(this.containerNode.innerText||this.containerNode.textContent||"");}},destroy:function(){if(this._closeMenu){this._closeMenu.destroyRecursive();delete this._closeMenu;}this.inherited(arguments);}});var _fb0=_fac("Sage.UI.Dashboard.DashboardTabController",_fa7,{tabPosition:"top",buttonWidget:"dijit.layout._TabButton",addChild:function(){this.inherited(arguments);if(!this.perfomedHeightResizing){this.perfomedHeightResizing=true;dojo.style(this.containerNode,"height","37px");dojo.style(this.containerNode,"top","4px");}},_rectifyRtlTabList:function(){if(0>=this.tabPosition.indexOf("-h")){return;}if(!this.pane2button){return;}var _fb1=0;for(var pane in this.pane2button){var ow=this.pane2button[pane].innerDiv.scrollWidth;_fb1=Math.max(_fb1,ow);}for(pane in this.pane2button){this.pane2button[pane].innerDiv.style.width=_fb1+"px";}}});return _fb0;});},"Sage/Utility/Validate":function(){define("Sage/Utility/Validate",[],function(){Sage.namespace("Utility.Validate");dojo.mixin(Sage.Utility.Validate,{findNestedWidgets:function(_fb2){return dojo.query("[widgetid]",_fb2).map(dijit.byNode).filter(function(wid){return wid;});},shouldSubmit:function(){if(!this._isValid){this._isValid=true;return false;}return true;},_isValid:true,_getWorkspaceNode:function(_fb3){var node;switch(_fb3){case"Sage.Platform.WebPortal.Workspaces.DialogWorkspace":node="DialogWorkspace_window";break;default:node="mainform";}return node;},onWorkSpaceSave:function(_fb4){var node=this._getWorkspaceNode(_fb4);this._isValid=this.runValidation(node);},runValidation:function(node){var _fb5=this.findNestedWidgets(dojo.byId(node)),_fb6=false;dojo.forEach(_fb5,function(_fb7){if(_fb7.validate){_fb7._hasBeenBlurred=true;var _fb8=_fb7.disabled||!_fb7.validate||_fb7.validate();if(!_fb8&&!_fb6){dojo.window.scrollIntoView(_fb7.containerNode||_fb7.domNode);_fb7.focus();_fb6=true;}}},this);if(_fb6){return false;}return true;}});});},"Sage/UI/Controls/CurrencyTextBox":function(){define("Sage/UI/Controls/CurrencyTextBox",["dijit/form/CurrencyTextBox","dojo/currency","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_fb9,_fba,_fbb,_fbc,lang){var _fbd=_fbc("Sage.UI.Controls.CurrencyTextBox",[_fb9],{shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",attributeMap:{hotKey:{node:"textbox",type:"attribute",attribute:"accessKey"}},onBlur:function(){var _fbe=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalSeparator;this.textbox.value=_fbb.maximizeDecimalDigit(this.textbox.value,this.constraints.places,_fbe);},_sageUICurrencyTextBox_IsValid:function(){if(this.constraints.places>-1){var _fbf=_fbb.restrictDecimalDigit(this.textbox.value,this.constraints.places);this.textbox.value=lang.trim(_fbf.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol,""));this.textbox.value=lang.trim(_fbf.replace(this.constraints.currency,""));}this.inherited(arguments);},postCreate:function(){this.connect(this,"isValid",this._sageUICurrencyTextBox_IsValid);this.connect(this,"onChange",this.onChanged);this.connect(this,"onBlur",this.onBlur);this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,null);}}},setAttribute:function(attr,val){this.set(attr,val);}});return _fbd;});},"Sage/Groups/BaseGroupContextService":function(){define("Sage/Groups/BaseGroupContextService",["Sage/Utility","dojo/string","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/_base/lang","dojo/_base/declare","dojo/_base/array"],function(_fc0,_fc1,_fc2,_fc3,lang,_fc4,_fc5){var _fc6=_fc4("Sage.Groups.BaseGroupContextService",null,{_adHocGroupList:null,_connects:null,_subscribes:null,_emptyContext:null,_currentRequestHandle:null,_isAdHocGroupListRetrieved:false,constructor:function(){this._connects=[];this._subscribes=[];this._adHocGroupList=[];this._emptyContext={DefaultGroupID:null,CurrentGroupID:null,CurrentTable:null,CurrentName:null,CurrentEntity:null,CurrentFamily:null};_fc3(lang.hitch(this,function(){if(!this.isContextRequired()){var _fc7=_fc0.getValue(window,"Sage.Groups._groupContext"),_fc8=_fc0.getValue(window,"Sage.UI.DataStore.Filters");if(_fc8){if(_fc7["AppliedFilterInfo"]){_fc8["default"]=this.createFilterExtendedSet(_fc7["AppliedFilterInfo"]);}}}if(this.isContextRequired()){this.requestContext();}}));},createFilterExtendedSet:function(_fc9){var _fca=_fc9["definitionSet"]||[],_fcb=_fc9["applied"]||[],_fcc={},_fcd={},_fce,_fcf,i,j,_fd0;for(i=0;i<_fca.length;i++){_fce=_fca[i];_fcf={"$key":_fce["id"],"$partial":true,"filterName":_fce["filterName"],"displayName":_fce["displayName"],"propertyName":_fce["propertyName"],"propertyDataTypeId":_fce["propertyDataTypeId"],"details":{}};if(_fce["filterType"]=="rangeFilter"){_fcf["details"]["rangeFilter"]={"characters":_fce["characters"]};}else{_fcf["details"]["distinctFilter"]={};}_fcc[_fce["id"]]=_fcf;}for(i=0;i<_fcb.length;i++){_fce=_fcb[i];_fcf={};for(j=0;j<_fce["rangeValues"].length;j++){_fd0=_fce["rangeValues"][j];_fcf[_fd0["rangeName"]]=lang.mixin({},_fd0);}for(j=0;j<_fce["distinctValues"].length;j++){_fd0=_fce["distinctValues"][j];if(typeof _fd0==="string"){_fcf[_fd0]=_fd0;}}_fcd[_fce["id"]]=_fcf;}return{"definitionSet":_fcc,"applied":_fcd};},destroy:function(){_fc5.forEach(this._connects,function(_fd1){dojo.disconnect(_fd1);});this.unsubscribeConnects();this.uninitialize();},unsubscribeConnects:function(){_fc5.forEach(this._subscribes,function(_fd2){dojo.unsubscribe(_fd2);});},uninitialize:function(){},isContextRequired:function(){var _fd3=!(Sage&&Sage.Groups&&Sage.Groups._groupContext);return _fd3;},createCompatibleContext:function(_fd4){if(_fd4["currentGroupId"]=="LOOKUPRESULTS"){_fd4["currentName"]="Lookup Results";}var _fd5={"AppliedFilterInfo":_fd4["appliedFilterInfo"],"ContainsPositionState":_fd4["containsPositionState"],"CurrentDisplayName":_fd4["currentDisplayName"],"CurrentEntity":_fd4["currentEntity"],"CurrentEntityID":_fd4["currentEntityId"],"CurrentEntityPosition":_fd4["currentEntityPosition"],"CurrentFamily":_fd4["currentFamily"],"CurrentGroupCount":_fd4["currentGroupCount"],"CurrentGroupID":_fd4["currentGroupId"],"CurrentName":_fd4["currentName"],"CurrentTable":_fd4["currentTable"],"CurrentTableKeyField":_fd4["currentTableKeyField"],"DefaultGroupID":_fd4["defaultGroupId"],"FirstEntityID":_fd4["firstEntityId"],"LastEntityID":_fd4["lastEntityId"],"LookupLayoutGroupName":_fd4["lookupLayoutGroupName"],"NextEntityID":_fd4["nextEntityId"],"PreviousEntityID":_fd4["previousEntityId"],"RetrievedOn":_fd4["retrievedOn"],"isAdhoc":_fd4["isAdHoc"]};if(!_fd4["appliedFilterInfo"]){delete _fd5.AppliedFilterInfo;}return _fd5;},_onDefaultFilterRefresh:function(_fd6,_fd7,_fd8){},getContext:function(){},setContext:function(_fd9){var _fda=Sage&&Sage.Groups;if(_fda&&_fd9){lang.mixin(_fda._groupContext,_fd9);this.onContextSet(_fda._groupContext);}},setCurrentGroup:function(_fdb,_fdc){},_onSetContextRequestSuccess:function(_fdd){var _fde=_fdd&&_fdd["response"],_fdf=_fde&&this.createCompatibleContext(_fde);if(_fdf){this.setContext(_fdf);}this.onCurrentGroupChanged({current:_fdf});},_onSetContextRequestFailure:function(_fe0,o){},onSuccessfulGroupChanged:function(data){var _fe1=this.getContext();this.setContext(data);this.onCurrentGroupChanged({current:data,previous:_fe1});},onCurrentGroupChanged:function(_fe2){},publishFiltersApplied:function(){var _fe3=this.getContext();if(_fe3.AppliedFilterInfo){_fc3(lang.hitch(this,function(){var _fe4=this.createFilterExtendedSet(_fe3.AppliedFilterInfo),_fe5=_fc0.getValue(window,"Sage.UI.DataStore.Filters");_fe5["default"]=_fe4;dojo.publish("/ui/filters/default/apply",[_fe4["applied"],_fe4["definitionSet"],this]);}));}},applyFilters:function(_fe6){var _fe7=this.getContext();if(_fe7.AppliedFilterInfo){var _fe8=this.createFilterExtendedSet(_fe7.AppliedFilterInfo),_fe9=_fc0.getValue(window,"Sage.UI.DataStore.Filters");_fe9["default"]=_fe8;if(_fe6){_fe6._onApply(_fe8["applied"],_fe8["definitionSet"],this);}}},onContextSet:function(_fea){}});return _fc6;});},"Sage/QuickForms/Design/Editors/OwnerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/OwnerAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/OwnerAdvancedPropertyEditor"],function(_feb,lang,_fec,_fed,_fee,_fef,_ff0,_ff1,_ff2,_ff3,_ff4){return _feb("Sage.QuickForms.Design.Editors.OwnerAdvancedPropertyEditor",[_fec,_ff2,_ff1],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>",'<div class="editor-field" title="{%= $.requiredTooltipText %}">',"<label>{%= $.requiredText %}</label>",'<div data-dojo-attach-point="_required" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onRequiredChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_ff4);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _ff5=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_ff5&&_ff5["DataItemName"])||"");},_onControlTypeChange:function(_ff6){},_onControlIdChange:function(_ff7){},_onDefaultDataBindingChange:function(_ff8){},_onEnabledChange:function(_ff9){if(this.isSuspended()){return;}this._designer.set("enabled",_ff9);},_onControlLabelPlacementChange:function(_ffa){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",_ffa);},_onRequiredChange:function(_ffb){if(this.isSuspended()){return;}this._designer.set("required",_ffb);},_onVisibleChange:function(_ffc){if(this.isSuspended()){return;}this._designer.set("visible",_ffc);}});});},"Sage/UI/PopupMenuBarItem":function(){define("Sage/UI/PopupMenuBarItem",["Sage/UI/MenuBarItem","Sage/UI/PopupMenuItem","dojo/_base/declare"],function(_ffd,_ffe,_fff){return _fff("Sage.UI.PopupMenuBarItem",[_ffe,_ffd],{});});},"Sage/UI/NotesHistoryList":function(){define("Sage/UI/NotesHistoryList",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","Sage/Utility/Activity","Sage/Utility/Email","Sage/Utility","Sage/UI/SLXPreviewGrid","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/UI/SLXPreviewGrid/Filter/Text","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","dojo/data/ItemFileReadStore","dijit/form/FilteringSelect","dijit/form/CheckBox","Sage/UI/Dialogs","dojo/string","dojo/date/locale","dojo/i18n!./nls/NotesHistoryList","dojo/_base/declare"],function(_1000,_1001,_1002,_1003,email,_1004,_1005,_1006,_1007,_1008,_1009,_100a,_100b,_100c,_100d,_100e,_100f,_1010,_1011){var _1012=_1011("Sage.UI.HistoryTypeFilterWidget",[_1000,_1001,_1002,_1009],{templateString:["<div>",'<div dojoAttachPoint="selectContainer"></div>','<div class="chkShowDBChanges">','<input id="chkShowDbChanges" type="checkbox" dojoType="dijit.form.CheckBox" dojoAttachPoint="chkShowDbChanges" />','<label for="chkShowDbChanges">',_1010.showDbChangesText,"</label>","</div>","</div>"].join(""),buildRendering:function(){this.inherited(arguments);var _1013=[];dojo.forEach(["atAppointment","atPhoneCall","atToDo","atNote","atPersonal","atInternal","atSchedule","atEMail","atDoc","atFax","atLiterature","atDatabaseChange"],function(item){_1013.push({name:_1003.getActivityTypeName(item),id:_1003.getActivityTypeEnumValue(item)});});var store=new _100a({data:{items:_1013,label:"name",identifier:"id"}});this._select=new _100b({store:store,required:false},this.selectContainer);},getQuery:function(){var _1014=this.chkShowDbChanges.get("checked");var type=this._select.get("value");if(type){var c='(Type eq "'+type+'"';if(_1014){c+=' or Type eq "'+_1003.getActivityTypeEnumValue("atDatabaseChange")+'"';}c+=")";return c;}else{if(!_1014){return'Type ne "'+_1003.getActivityTypeEnumValue("atDatabaseChange")+'"';}}return"";},reset:function(){this._select.set("value","");this.chkShowDbChanges.set("checked",false);},getState:function(){return{"value":this._select.get("value"),"showDBChanges":this.chkShowDbChanges.get("checked")};},applyState:function(state){if(state){this._select.set("value",state["value"]||"");this.chkShowDbChanges.set("checked",state["showDBChanges"]);}}});var _1015=_1011(Sage.UI.SLXPreviewGrid.Filter.DateRange,{getQuery:function(){var _1016=function(value,_1017){if(!value){return"";}if(value.constructor!==Date){value=Date.parse(value);}if(_1017){value.setUTCDate(value.getUTCDate()+1);}return _1004.Convert.toIsoStringFromDate(value);};var _1018=function(value,_1019){if(!value){return"";}if(value.constructor!==Date){value=Date.parse(value);}var pad=function(n){return n<10?"0"+n:n;};return[value.getFullYear(),"-",pad(value.getMonth()+1),"-",pad(value.getDate()),(_1019)?"T23:59:59Z":"T00:00:00Z"].join("");};var dFrom=this.dteFrom.get("value");var dTo=this.dteTo.get("value");var fmt;var qry="";if(!dFrom&&!dTo){return"";}if(dTo&&dFrom){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and (CompletedDate ge '${0}' and CompletedDate lt '${1}'))) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and (CompletedDate ge '${2}' and CompletedDate lt '${3}')))"].join("");qry=_100e.substitute(fmt,[_1018(dFrom),_1018(dTo,true),_1016(dFrom),_1016(dTo,true)]);}else{if(dFrom&&!dTo){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and CompletedDate ge '${0}')) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and CompletedDate ge '${1}'))"].join("");qry=_100e.substitute(fmt,[_1018(dFrom),_1016(dFrom)]);}else{if(dTo&&!dFrom){fmt=["((((Timeless eq true and CompletedDate eq OriginalDate) and CompletedDate lt '${0}')) or","(((Timeless eq false) or (Timeless eq true and CompletedDate ne OriginalDate)) and CompletedDate lt '${1}'))"].join("");qry=_100e.substitute(fmt,[_1018(dTo,true),_1016(dTo,true)]);}}}return qry;}});var _101a=_1011("Sage.UI.NotesHistoryList",[_1000],{placeholder:"",parentRelationshipName:"",workspace:"",tabId:"",connections:[],constructor:function(){this.connections=[];},startup:function(){var _101b=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_101c,cel){var _101d=[cel.grid.id,"-row",_101c].join("");var id=(_1004.getModeId()==="insert")?_101d:value;var _101e=["<div id=",id," >",id,"</ div>"].join("");return _101e;}},{field:"Type",name:_1010.typeText,type:_1003.historyTypeCell,width:"90px",filterConfig:{widgetType:_1012}},{field:"CompletedDate",name:_1010.dateTimeText,type:_1006,useFiveSecondRuleToDetermineTimeless:true,width:"100px",filterConfig:{widgetType:_1015,label:_1010.dateRangeText}},{field:"UserName",name:_1010.userText,width:"90px",filterConfig:{widgetType:_1008}}];this._addEntitySpecificColumns(_101b);_101b.push({field:"Description",name:_1010.regardingText,width:"200px",filterConfig:{widgetType:_1008}});_101b.push({field:"Result",name:_1010.resultText,width:"90px"});_101b.push({field:"Category",name:_1010.categoryText,width:"90px"});var _101f=[{id:"SendEmail",imageClass:"icon_Send_Write_email_16x16",tooltip:_1010.sendEmailText,handler:this.onSendEmailClick,scope:this},{id:"SendWord",imageClass:"icon_Document_Type_16x16",tooltip:_1010.sendToWordText,handler:this.onSendToWordClick,scope:this},{id:"NewNote",imageClass:"icon_New_Note_16x16",tooltip:_1010.addNoteText,handler:Sage.Link.newNote,scope:Sage.Link},{id:"CompleteActivity",imageClass:"icon_complete_activity_16x16",tooltip:_1010.completeAnActivityText,handler:Sage.Link.scheduleCompleteActivity,scope:Sage.Link},{id:"Help",imageClass:"icon_Help_16x16",handler:function(){_1004.openHelp("noteshistory");},tooltip:_1010.helpText}];var _1020=this.parentRelationshipName;var _1021={tools:_101f,columns:_101b,previewField:"LongNotes",storeOptions:{select:["Type","CompletedDate","UserName","AccountName","ContactName","ContactId","OpportunityName","OpportunityId","Description","LongNotes","Timeless","Result"],resourceKind:"history",sort:[{attribute:"CompletedDate",descending:"true"}]},slxContext:{workspace:this.workspace,tabId:this.tabId},contextualCondition:function(){var fmt="${0} eq '${1}'";if(_1020==="ContactId"||_1020==="LeadId"){fmt="((HistoryAttendees.EntityId eq  '${1}') or (${0} eq  '${1}' and  HistoryAttendees.IsPrimary eq true) or (${0} eq  '${1}' and  HistoryAttendees.EntityId eq null))";}return _100e.substitute(fmt,[_1020,_1004.getCurrentEntityId()]);},dblClickAction:Sage.Link.editHistory};this.onBeforeCreateGrid(_1021);var grid=new Sage.UI.SLXPreviewGrid.Grid(_1021,this.placeHolder);grid.startup();var _1022=dijit.byId("tabContent");_1022.resize();_1022.resize();this.connections.push(dojo.subscribe("/entity/history/create",this,this.onHistoryChanges));this.connections.push(dojo.subscribe("/entity/history/change",this,this.onHistoryChanges));this.connections.push(dojo.subscribe("/entity/history/delete",this,this.onHistoryChanges));dojo.connect(grid,"destroy",this,this.destroy);this._grid=grid;},onHistoryChanges:function(_1023){this._grid.refresh();},destroy:function(){for(var i=0;i<this.connections.length;i++){dojo.unsubscribe(this.connections.pop());}this.inherited(arguments);},_addEntitySpecificColumns:function(list){var _1024=Sage.Services.getService("ClientEntityContext").getContext().EntityType;switch(_1024){case"Sage.Entity.Interfaces.IAccount":case"Sage.Entity.Interfaces.IOpportunity":list.push({field:"ContactName",name:_1010.contactText,width:"100px",type:_1007,idField:"ContactId",pageName:"Contact"});break;case"Sage.Entity.Interfaces.IContact":list.push({field:"OpportunityName",name:_1010.opportunityText,width:"100px",type:_1007,idField:"OpportunityId",pageName:"Opportunity"});break;}},onSendEmailClick:function(){var notes=this._grid.getSelectedRecords(["Description","LongNotes","AccountName","ContactName","CompletedDate","UserName"]);if(notes.length===0){_100d.showWarning(_1010.pleaseSelectRecordsText);return;}var body=dojo.map(notes,function(n){var txt=_1010.accountText+": "+n.AccountName+"\n";if(n.ContactName){txt+=_1010.contactText+": "+n.ContactName+"\n";}var _1025=_1004.Convert.toDateFromString(n.CompletedDate);txt+=_1010.dateText+": ";txt+=_100f.format(_1025)+"\n";txt+=_1010.userText+": "+n.UserName+"\n";txt+=_1010.regardingText+": "+n.Description+"\n\n";txt+=_1010.notesText+":\n"+n.LongNotes;return txt;}).join("\n\n---------------------------------------------\n\n");var _1026=dojo.map(notes,function(n){return n.Description;}).join("; ");email.writeEmail("",_1026,body);},onSendToWordClick:function(){var _1027=function(){if(Sage.gears){try{var cf=Sage.gears.factory.create("com.factory");return cf.newActiveXObject("Word.Application");}catch(e){}}if(typeof ActiveXObject!="undefined"){try{return new ActiveXObject("Word.Application");}catch(e){}}return null;};var notes=this._grid.getSelectedRecords(["Description","LongNotes","AccountName","ContactName","CompletedDate","UserName","Type"]);if(notes.length===0){_100d.showWarning(_1010.pleaseSelectRecordsText);return;}var _1028=_1027();if(!_1028){_100d.showWarning(_1010.UnableToFindWordMsg);return;}var _1029=9;var _102a=0;var doc=_1028.Documents.Add();_1028.PrintPreview=true;_1028.Visible=true;_1028.ActiveWindow.ActivePane.View.SeekView=_1029;_1028.Selection.TypeText(_1010.accountText+": "+notes[0].AccountName+"            "+_1010.printedOnText+": "+_100f.format(new Date(),{selector:"date",fullYear:true}));_1028.ActiveWindow.ActivePane.View.SeekView=_102a;dojo.forEach(notes,function(note){_1028.Selection.TypeText("___________________________________________________________");_1028.Selection.TypeParagraph();_1028.Selection.TypeParagraph();if(note.ContactName){_1028.Selection.TypeText(_1010.contactText+":        ");_1028.Selection.TypeText(note.ContactName);_1028.Selection.TypeParagraph();}if(note.CompletedDate){var _102b=_1004.Convert.toDateFromString(note.CompletedDate);_1028.Selection.TypeText(_1010.dateText+":        ");_1028.Selection.TypeText(_100f.format(_102b));_1028.Selection.TypeParagraph();}if(note.UserName){_1028.Selection.TypeText(_1010.userText+":        ");_1028.Selection.TypeText(note.UserName);_1028.Selection.TypeParagraph();}_1028.Selection.TypeText(_1010.typeText+":        ");_1028.Selection.TypeText(_1003.getActivityTypeName(note.Type));_1028.Selection.TypeParagraph();if(note.Description){_1028.Selection.TypeText(_1010.regardingText+":        ");_1028.Selection.TypeText(note.Description);_1028.Selection.TypeParagraph();}if(note.LongNotes){_1028.Selection.TypeText(_1010.notesText+":        ");_1028.Selection.TypeText(note.LongNotes);_1028.Selection.TypeParagraph();}});_1028.Selection.TypeText("___________________________________________________________");_1028.Selection.TypeParagraph();_1028.Visible=true;},onBeforeCreateGrid:function(_102c){}});return _101a;});},"Sage/UI/nls/AttachmentList":function(){define("Sage/UI/nls/AttachmentList",["Sage/LanguageList","dojo/_base/lang"],function(_102d,lang){var nls={root:{attachmentText:"Attachment",userText:"User",modDateText:"Modify Date/Time",dateRangeText:"Modify Date Range",sizeText:"Size",extensionText:"File Extension",addFileText:"Add File",addUrlText:"Add URL",editText:"Edit",helpText:"Help",addGoogleText:"Add Google Document",deleteText:"Delete",request:"Request File",delivered:"Delivered",requested:"Requested",available:"Available"}};return lang.mixin(_102d,nls);});},"Sage/QuickForms/Design/Editors/nls/RowBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/RowBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_102e,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero."}};return lang.mixin(_102e,nls);});},"Sage/MainView/JobMgr/nls/RunJobDialog":function(){define("Sage/MainView/JobMgr/nls/RunJobDialog",["Sage/LanguageList","dojo/_base/lang"],function(_102f,lang){var nls={root:{dlgRunJob_Title:"Run/Schedule Job",txtJobName_Caption:"Job Name",txtTriggerDescription_Caption:"Description",cmbScheduleType_Caption:"Schedule",cmdOK_Caption:"OK",cmdCancel_Caption:"Cancel",txtInvalidNumber:"Invalid number.",contentPaneParameters_Caption:"Parameters",txtRunNow:"Run Now",txtScheduledExecution:"Scheduled Execution",colName_Caption:"Name",colValue_Caption:"Value",colDescription_Caption:"Description",txtInvalidParameterTitle:"Invalid Parameter",txtInvalidParameterMessage:"Invalid Parameter: ${0}"}};return lang.mixin(_102f,nls);});},"Sage/MainView/ReportMgr/Crystal/DateParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/DateParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divDate" style="padding-top: 5px;">\r\n            <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtDate" displayDate="true" displayTime="false" label="From:" required="true" style="width:250px"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/DateParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/DateParameterEditor","dojo/text!./templates/DateParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/Utility"],function(_1030,_1031,_1032,_1033,_1034,_1035,_1036,_1037){var _1038=_1037.makeTemplateFromString(_1033);var _1039=_1030("Sage.MainView.ReportMgr.Crystal.DateParameterEditor",[_1034],{_nlsResources:_1032,widgetTemplate:_1038,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){this._promptParameter.currentValues=[];var value=this._getParameterValue();this._promptParameter.currentValues.push(value);return this._promptParameter;},constructor:function(_103a){this._initialValues=[];},startup:function(){this.inherited(arguments);_1035.setDomNodeVisible(this.divValidationMessage,false);var self=this;_1031.forEach(this._promptParameter.initialValues,function(_103b,i){var _103c=_1037.Convert.toDateFromString(self._getDateOnlyIsoString(_103b.discreteValue.actualValue));self._initialValues.push(_103c);});if(this._initialValues&&this._initialValues.length>0){this.dtDate.set("value",this._initialValues[0]);}if(this._promptParameter.currentValues.length===1){if(this._promptParameter.currentValues[0].discreteValue){var _103d=this._promptParameter.currentValues[0];var _103e=_103d.discreteValue.actualValue;_103e=_103e?_1037.Convert.toDateFromString(_103e):null;this.dtDate.set("value",_103e);}}this._initializeMessages();},isValid:function(){var _103f=this._requiredFieldsCompleted();if(_103f===""){_103f=this._valuesWithinMinMaxRange();}this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(_103f);_1035.setDomNodeVisible(this.divValidationMessage,(_103f!==""));return(_103f==="");},_initializeMessages:function(){var _1040=null;if(this._minimum&&!this._maximum){_1040=dojo.replace(_1032.txtPleaseSpecifyDateLesser,[_1036.getDateOnlyFormattedDate(this._minimum)]);}if(!this._minimum&&this._maximum){_1040=dojo.replace(_1032.txtPleaseSpecifyDateGreater,[_1036.getDateOnlyFormattedDate(this._maximum)]);}if(this._minimum&&this._maximum){_1040=dojo.replace(_1032.txtPleaseSpecifyDateBetween,[_1036.getDateOnlyFormattedDate(this._minimum),_1036.getDateOnlyFormattedDate(this._maximum)]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_1040);_1035.setDomNodeVisible(this.divMinMaxMessage,(_1040!==""));},_requiredFieldsCompleted:function(){if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.dtDate.focusNode.value===""){var _1041=_1032.txtPleaseSpecifyValue;return _1041;}}else{return"";}return"";},_valuesWithinMinMaxRange:function(){var _1042=this.dtDate.get("value");var _1043=null;if(this._minimum&&(_1042<this._minimum)){_1043=dojo.replace(_1032.txtPleaseSpecifyDateGreater,[_1036.getDateOnlyFormattedDate(this._minimum)]);return _1043;}if(this._maximum&&(_1042>this._maximum)){_1043=dojo.replace(_1032.txtPleaseSpecifyDateLesser,[_1036.getDateOnlyFormattedDate(this._maximum)]);return _1043;}return"";},_getParameterValue:function(){var _1044=this.dtDate.get("value");var _1045={className:"CrystalReports.ParameterFieldDiscreteValue",description:null,discreteValue:{actualValue:_1037.Convert.toIsoStringFromDate(_1044),actualValueType:"DateTime",value:_1037.Convert.toIsoStringFromDate(_1044),valueType:"DateTime"}};return _1045;}});return _1039;});},"Sage/Store/SData":function(){define("Sage/Store/SData",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Deferred","dojo/store/util/QueryResults","dojo/string","dojo/json","../Utility"],function(_1046,lang,array,_1047,_1048,_1049,json,_104a){return _1046("Sage.Store.SData",null,{doDateConversion:false,where:null,select:null,include:null,orderBy:null,service:null,request:null,queryName:null,entityName:null,contractName:null,resourceKind:null,resourceProperty:null,resourcePredicate:null,executeQueryAs:null,executeGetAs:null,itemsProperty:"$resources",idProperty:"$key",labelProperty:"$descriptor",entityProperty:"$name",versionProperty:"$etag",constructor:function(props){lang.mixin(this,props);},_createEntryRequest:function(id,_104b){var _104c=_104a.expand(this,_104b.request||this.request);if(_104c){_104c=_104c.clone();}else{var _104d=_104a.expand(this,_104b.contractName||this.contractName),_104e=_104a.expand(this,_104b.resourceKind||this.resourceKind),_104f=_104a.expand(this,_104b.resourceProperty||this.resourceProperty),_1050=id?/(\s+)/.test(id)?id:_1049.substitute("'${0}'",[id]):_104a.expand(this,_104b.resourcePredicate||this.resourcePredicate);if(_104f){_104c=new Sage.SData.Client.SDataResourcePropertyRequest(this.service).setResourceProperty(_104f).setResourceSelector(_1050);}else{_104c=new Sage.SData.Client.SDataSingleResourceRequest(this.service).setResourceSelector(_1050);}if(_104d){_104c.setContractName(_104d);}if(_104e){_104c.setResourceKind(_104e);}}var _1051=_104a.expand(this,_104b.select||this.select),_1052=_104a.expand(this,_104b.include||this.include);if(_1051&&_1051.length>0){_104c.setQueryArg("select",_1051.join(","));}if(_1052&&_1052.length>0){_104c.setQueryArg("include",_1052.join(","));}return _104c;},_createFeedRequest:function(query,_1053){var _1054=_104a.expand(this,_1053.request||this.request);if(_1054){_1054=_1054.clone();}else{var _1055=_104a.expand(this,_1053.queryName||this.queryName),_1056=_104a.expand(this,_1053.contractName||this.contractName),_1057=_104a.expand(this,_1053.resourceKind||this.resourceKind),_1058=_104a.expand(this,_1053.resourceProperty||this.resourceProperty),_1059=_104a.expand(this,_1053.resourcePredicate||this.resourcePredicate);if(_1055){_1054=new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(_1055);if(_1059){_1054.getUri().setCollectionPredicate(_1059);}}else{if(_1058){_1054=new Sage.SData.Client.SDataResourcePropertyRequest(this.service).setResourceProperty(_1058).setResourceSelector(_1059);}else{_1054=new Sage.SData.Client.SDataResourceCollectionRequest(this.service);}}if(_1056){_1054.setContractName(_1056);}if(_1057){_1054.setResourceKind(_1057);}}var _105a=_104a.expand(this,_1053.select||this.select),_105b=_104a.expand(this,_1053.include||this.include),_105c=_104a.expand(this,_1053.sort||this.orderBy);if(_105a&&_105a.length>0){_1054.setQueryArg("select",_105a.join(","));}if(_105b&&_105b.length>0){_1054.setQueryArg("include",_105b.join(","));}if(_105c){if(typeof _105c==="string"){_1054.setQueryArg("orderby",_105c);}else{if(_105c.length>0){var order=[];array.forEach(_105c,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_1054.setQueryArg("orderby",order.join(","));}}}var where=_104a.expand(this,this.where),_105d=[];query=_104a.expand(this,query);if(where){_105d.push(where);}if(query){_105d.push(query);}if(_105d.length>0){_1054.setQueryArg("where","("+_105d.join(") and (")+")");}if(typeof _1053.start!=="undefined"){_1054.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,_1053.start+1);}if(typeof _1053.count!=="undefined"){_1054.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Count,_1053.count);}return _1054;},_onRequestFeedSuccess:function(_105e,feed){if(feed){var items=lang.getObject(this.itemsProperty,false,feed),total=typeof feed["$totalResults"]==="number"?feed["$totalResults"]:-1;_105e.total=total;_105e.resolve(items);}else{var error=new Error("The feed result is invalid.");_105e.reject(error);}},_onRequestEntrySuccess:function(_105f,entry){if(entry){_105f.resolve(this.doDateConversion?this._handleDateConversion(entry):entry);}else{var error=new Error("The entry result is invalid.");_105f.reject(error);}},_onRequestFailure:function(_1060,xhr,_1061){var error=new Error("An error occurred requesting: "+_1061.url);error.xhr=xhr;error.status=xhr.status;error.responseText=xhr.responseText;error.aborted=false;_1060.reject(error);},_onRequestAbort:function(_1062,xhr,_1063){var error=new Error("An error occurred requesting: "+_1063.url);error.xhr=xhr;error.status=0;error.responseText=null;error.aborted=true;_1062.reject(error);},_onCancel:function(_1064){this.store.abort(_1064.value);},_handleDateConversion:function(entry){for(var prop in entry){if(_104a.Convert.isDateString(entry[prop])){entry[prop]=_104a.Convert.toDateFromString(entry[prop]);}}return entry;},get:function(id,_1065){var _1066={},_1067=new _1047(lang.hitch(this,this._onCancel,_1066)),_1068=this._createEntryRequest(id,_1065||{});var _1069=this.executeGetAs?_1068[this.executeGetAs]:_1068.read;_1066.value=_1069.call(_1068,{success:lang.hitch(this,this._onRequestEntrySuccess,_1067),failure:lang.hitch(this,this._onRequestFailure,_1067),abort:lang.hitch(this,this._onRequestAbort,_1067)});return _1067;},getIdentity:function(_106a){return lang.getObject(this.idProperty,false,_106a);},getLabel:function(_106b){return lang.getObject(this.labelProperty,false,_106b);},getEntity:function(_106c){return lang.getObject(this.entityProperty,false,_106c);},getVersion:function(_106d){return lang.getObject(this.versionProperty,false,_106d);},put:function(_106e,_106f){_106f=_106f||{};var id=_106f.id||this.getIdentity(_106e),_1070=_106f.entity||this.entityName,_1071=_106f.version||this.getVersion(_106e),atom=!this.service.isJsonEnabled();if(id){_106e["$key"]=id;}if(_1070&&atom){_106e["$name"]=_1070;}if(_1071){_106e["$etag"]=_1071;}var _1072={},_1073=new _1047(lang.hitch(this,this._onCancel,_1072)),_1074=this._createEntryRequest(id,_106f);var _1075=_106f.overwrite?_1074.update:_1074.create;_1072.value=_1075.call(_1074,_106e,{success:lang.hitch(this,this._onTransmitEntrySuccess,_1073),failure:lang.hitch(this,this._onRequestFailure,_1073),abort:lang.hitch(this,this._onRequestAbort,_1073)});return _1073;},_onTransmitEntrySuccess:function(_1076,entry){_1076.resolve(this.doDateConversion?this._handleDateConversion(entry):entry);},add:function(_1077,_1078){_1078=_1078||{};_1078.overwrite=false;return this.put(_1077,_1078);},remove:function(id){},query:function(query,_1079){var _107a={},_107b=new _1047(lang.hitch(this,this._onCancel,_107a)),_107c=this._createFeedRequest(query,_1079||{});_107b.total=-1;var _107d=this.executeQueryAs?_107c[this.executeQueryAs]:_107c instanceof Sage.SData.Client.SDataResourcePropertyRequest?_107c.readFeed:_107c.read;_107a.value=_107d.call(_107c,{success:lang.hitch(this,this._onRequestFeedSuccess,_107b),failure:lang.hitch(this,this._onRequestFailure,_107b),abort:lang.hitch(this,this._onRequestAbort,_107b),httpMethodOverride:_1079&&_1079["httpMethodOverride"]});return _1048(_107b);},transaction:function(){},getChildren:function(_107e,_107f){},getMetadata:function(_1080){if(_1080){return{id:this.getIdentity(_1080),label:this.getLabel(_1080),entity:this.getEntity(_1080),version:this.getVersion(_1080)};}return null;}});});},"Sage/UI/Filters/EditFilters":function(){require({cache:{"url:Sage/UI/Filters/templates/EditFilters.html":'<div>\r\n    <div class="filter-dialog" data-dojo-type="dijit.Dialog" data-dojo-props="title:\'${dialogTitle}\'" data-dojo-attach-point="dialogNode">\r\n        <div class="filter-clear-all">\r\n            <input data-dojo-attach-point="checkAll" data-dojo-type="dijit.form.CheckBox" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class="filter-dialog-content" data-dojo-attach-point="contentNode">\r\n            \r\n        </div>\r\n        \r\n        <div class="button-bar alignright">\r\n            <button data-dojo-attach-point="buttonOK" data-dojo-attach-event="onClick:_onOKClick" data-dojo-type="dijit.form.Button">${okText}</button>\r\n            <button data-dojo-attach-point="buttonCancel" data-dojo-attach-event="onClick:_onCancelClick" data-dojo-type="dijit.form.Button">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/UI/Filters/EditFilters",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/form/Button","dijit/form/CheckBox","dojo/_base/declare","dojo/i18n","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","Sage/Utility/Filters","dojo/json","dojo/text!./templates/EditFilters.html","dojo/i18n!./nls/EditFilters"],function(_1081,_1082,_1083,_1084,_1085,_1086,_1087,i18n,array,lang,_1088,_1089,_108a,_108b,json,_108c){return _1087("Sage.UI.Filters.EditFilters",[_1081,_1082,_1083],{templateString:_108c,widgetsInTemplate:true,id:"editFilters",store:null,filterPanel:null,checkBoxes:null,selectAllText:"Select All",dialogTitle:"Edit Filters",okText:"OK",cancelText:"Cancel",constructor:function(){var _108d=i18n.getLocalization("Sage.UI.Filters","EditFilters");this.inherited(arguments);this.checkBoxes=[];if(_108d){this.selectAllText=_108d.selectAllText;this.okText=_108d.okText;this.cancelText=_108d.cancelText;this.dialogTitle=_108d.dialogTitle;}},postCreate:function(){this.inherited(arguments);this.checkAll.on("click",lang.hitch(this,this._onCheckAllClick));},_onCheckAllClick:function(){if(this.checkAll.checked){this._onSelectAllClick();}else{this._onClearAllClick();}},showDialog:function(){this.requestData();lang.mixin(this.dialogNode,new _108a());this.dialogNode.createHelpIconByTopic("editFilters");this.dialogNode.show();},hideDialog:function(){this.dialogNode.hide();},uninitialize:function(){this._destroyContent();this.checkAll.destroy(false);this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.dialogNode.destroy(false);this.checkBoxes=null;this.inherited(arguments);},requestData:function(){this._destroyContent();if(this.store){this.store.fetch({onItem:lang.hitch(this,this._onFetchItem),onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete)});}},_onClearAllClick:function(){array.forEach(this.checkBoxes,function(_108e){_108e.set("checked",false);});},_onSelectAllClick:function(){array.forEach(this.checkBoxes,function(_108f){_108f.set("checked",true);});},_onCancelClick:function(){this.dialogNode.hide();},_onOKClick:function(){this.dialogNode.hide();var data=this.filterPanel._configuration._hiddenFilters,key=this.filterPanel._configuration._hiddenFiltersKey,_1090=Sage.Services.getService("ClientGroupContext"),_1091=_1090&&_1090.getContext();array.forEach(this.checkBoxes,function(_1092){var prop;prop=_1091.CurrentEntity+"_"+_1092.get("label");if(data[prop]){data[prop].hidden=!_1092.get("checked");}else{data[prop]={expanded:false,hidden:!_1092.get("checked"),items:[]};}});_108b.setHiddenFilters(key,json.stringify(data));this.filterPanel.refreshFilters(false);},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_1089.findWidgets(this.contentNode),function(_1093){_1093.destroy(false);});this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onFetchItem:function(entry){var type=entry.filterType,_1094=entry.filterName,_1095=entry.displayName||entry.filterName,id=_1094+"_check",_1096=new _1086({"id":id,"label":_1094});_1088.place(_1096.domNode,this.contentNode,"last");_1088.create("br",{},_1096.domNode,"after");_1088.create("label",{"for":id,innerHTML:_1095},_1096.domNode,"after");_1096.on("click",lang.hitch(this,this._onCheckClick));this.checkBoxes.push(_1096);},_onCheckClick:function(e){if(e.target&&e.target.checked===false){this.checkAll.set("checked",false);}},_onFetchComplete:function(){this.startup();this.setupCheckState();},setupCheckState:function(){var data=this.filterPanel._configuration._hiddenFilters||{},key=_108b.getHiddenFiltersKey(),_1097=Sage.Services.getService("ClientGroupContext"),_1098=_1097&&_1097.getContext(),_1099=false;this.checkAll.set("checked",true);this._onSelectAllClick();array.forEach(this.checkBoxes,function(_109a){var prop;prop=_1098.CurrentEntity+"_"+_109a.get("label");if(data[prop]){if(data[prop].hidden){_109a.set("checked",false);_1099=true;}else{_109a.set("checked",true);}}});this.checkAll.set("checked",!_1099);}});});},"Sage/UI/Controls/DependControl":function(){define("Sage/UI/Controls/DependControl",["dojo/_base/declare"],function(_109b){var _109c=_109b("Sage.UI.Controls.DependControl",null,{BaseId:"",ListId:"",TextId:"",Type:"",DisplayProperty:"",SeedProperty:"",CurrentValue:"",constructor:function(_109d,_109e,_109f,type,_10a0,_10a1){this.BaseId=_109d;this.ListId=_109e;this.TextId=_109f;this.Type=type;this.DisplayProperty=_10a0;this.SeedProperty=_10a1;this.CurrentValue="";},LoadList:function(_10a2){var _10a3="SLXDependencyHandler.aspx";dojo.xhrGet({url:_10a3,handleAs:"text",preventCache:true,sync:true,content:{cacheid:this.BaseId,type:this.Type,displayprop:this.DisplayProperty,seeds:_10a2,currentval:this.CurrentValue},load:dojo.hitch(this,function(data){var list=dojo.byId(this.ListId);list.innerHTML="";var items=data.split("|");for(var i=0;i<items.length;i++){if(items[i]===""){continue;}var parts=items[i].split(",");var _10a4=document.createElement("OPTION");list.options.add(_10a4);if(parts[0].charAt(0)=="@"){parts[0]=parts[0].substr(1);_10a4.selected=true;}_10a4.innerHTML=parts[1];_10a4.value=parts[0];}}),error:function(error){console.error(error);}});},ClearList:function(){var list=dojo.byId(this.ListId);list.innerHTML="";}});return _109c;});},"Sage/QuickForms/Design/nls/CheckBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/CheckBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_10a5,lang){var nls={root:{displayNameText:"CheckBox"}};return lang.mixin(_10a5,nls);});},"Sage/UI/Columns/SlxLink":function(){define("Sage/UI/Columns/SlxLink",["Sage/Format","Sage/Utility","dojo/_base/declare","dojox/grid/cells/_base"],function(_10a6,_10a7,_10a8,_10a9){Sage.Region={decimalSeparator:".",numberGroupSeparator:",",numberGroupDigits:3,decimalDigits:2,currencySymbol:"$",positiveCurrencyPattern:0,negativeCurrencyPattern:0,numberNegativeSign:"-"};var _10aa=_10a8("Sage.UI.Columns.SlxLink",dojox.grid.cells.Cell,{_dataTypeChecked:null,_layout:null,_getDisplayValue:function(_10ab,_10ac,value){var _10ad=value||"";if(this._layout===null){if(_10a7.getModeId()=="list"){var oList=dijit.byId("list");if(oList&&_10a7.isDefined(oList)&&_10a7.isDefined(oList._configuration)){this._layout=oList._configuration.list.layout[this.layoutIndex];}else{return _10ad;}}else{var sTemp=this.get?this.get(_10ab,_10ac):(this.value||this.defaultValue);if(this._dataTypeChecked===null&&_10a7.isStringWithLength(sTemp)){this._dataTypeChecked=true;if(_10ae.isDateString(sTemp)){this._layout={"fieldType":"DateTime","format":"DateTime","formatString":this.displayFormatString||""};}else{return _10ad;}}else{return _10ad;}}}if(this._layout.fieldType==="DateTime"&&this._layout.format==="DateTime"){var sDate=this.get?this.get(_10ab,_10ac):(this.value||this.defaultValue);if(dojo.isString(sDate)&&_10ae.isDateString(sDate)){var _10af=_10a7.getModeId()=="list";var oDate=_10ae.toDateFromString(sDate,_10af);oDate=new Date(oDate.getUTCFullYear(),oDate.getUTCMonth(),oDate.getUTCDate());if(_10a7.isStringWithLength(this._layout.formatString)){try{return dojo.date.locale.format(oDate,{selector:"date",datePattern:this._layout.formatString});}catch(e){if(typeof console!=="undefined"){}return dojo.date.locale.format(oDate,{selector:"date",fullYear:true});}}else{return dojo.date.locale.format(oDate,{selector:"date",fullYear:true});}}}return _10ad;},displayFields:[],displayFormatString:"",idField:"",pageName:"",appliedSecurity:"",urlFields:[],urlFormatString:"",target:"",image:"",queryParams:null,getPageName:function(_10b0){if(this.pageName===""){var url=document.location.href;if(url.indexOf("?")>-1){url=url.substring(0,url.indexOf("?"));}url=url.substring(url.lastIndexOf("/")+1);this.pageName=url.replace(".aspx","");return this.pageName;}if(_10a7.getModeId()=="list"){return this.pageName;}var _10b1=_10a7.getValue(_10b0,this.property);if(_10b1!==""&&typeof _10b1==="string"){return _10b1;}else{return this.pageName;}},formatEditing:function(_10b2,_10b3){},format:function(_10b4,_10b5){if(_10b5===null){return this.defaultValue;}var _10b6,_10b7,_10b8,vals=[],_10b9="",_10ba="",_10bb="",i=this.grid.edit.info,idx=0,d=this.get?this.get(_10b4,_10b5):(this.value||this.defaultValue);if((this.displayFormatString)&&(this.displayFormatString!=="")){if(this.displayFields.length<1){vals.push(d);}for(idx;idx<this.displayFields.length;idx++){vals.push(_10a7.getValue(_10b5,this.displayFields[idx].trim()));}d=dojo.string.substitute(this.displayFormatString,vals);}if(this.target!==""){_10b9=dojo.string.substitute(' target="${0}" ',[this.target]);}if(this.queryParams){if(typeof this.queryParams==="object"){_10bb="&"+dojo.objectToQuery(this.queryParams);}else{if(typeof this.queryParams==="string"){_10bb="&"+this.queryParams;}}}d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;if(this.editable&&(this.alwaysEditing||(i.rowIndex==_10b4&&i.cell==this))){return this.formatEditing(d,_10b4);}else{_10b8=this._defaultFormat(d,[d,_10b4,this]);if(this.image!==""){_10b8=dojo.string.substitute('<img src="${0}" alt="${1}" />',[this.image.replace(/^~\//,""),_10b8]);}if(this.appliedSecurity!==""){var svc=Sage.Services.getService("RoleSecurityService");if(svc){if(!svc.hasAccess(this.appliedSecurity)){_10b8=this._getDisplayValue(_10b4,_10b5,_10b8);return _10b8;}}}if(this.idField!==""){var _10bc=this.getPageName(_10b5);_10b7=_10a7.getValue(_10b5,this.idField);if(!_10b7){var _10bd=(this.idField==="id")?"$key":this.idField.replace(/\.[iI]d/g,".$key");_10b7=_10a7.getValue(_10b5,_10bd);}if(_10b7){_10b8=this._getDisplayValue(_10b4,_10b5,_10b8);if(_10bc.toUpperCase()==="HISTORY"){return dojo.string.substitute('<a href="javascript:Sage.Link.editHistory(\'${0}\')" id="${0}" title="${1}">${1}</a>',[_10b7,_10b8]);}else{return dojo.string.substitute('<a href="${0}.aspx?entityid=${1}&modeid=Detail${2}"${3} id="${1}" title="${4}">${4}</a>',[_10bc,_10b7,_10bb,_10b9,_10b8]);}}}else{var _10be=(this.urlFormatString!=="")?this.urlFormatString:"${0}";vals=[];if(this.urlFields.length<1){vals.push(d);}for(idx=0;idx<this.urlFields.length;idx++){vals.push(_10a7.getValue(_10b5,dojo.trim(this.urlFields[idx])));}_10b8=this._getDisplayValue(_10b4,_10b5,_10b8);return dojo.string.substitute('<a href="http://${0}${1}"${2}>${3}</a>',[dojo.string.substitute(this.urlFormatString,vals),_10bb,_10b9,_10b8]);}return _10b8;}},markupFactory:function(node,cell){dojox.grid.cells.Cell.markupFactory(node,cell);var d=dojo;var _10bf=d.trim(d.attr(node,"displayFields")||"");if(_10bf){var f=_10bf.split(",");cell.displayFields=f;}cell.displayFormatString=d.trim(d.attr(node,"displayFormatString")||"");cell.idField=d.trim(d.attr(node,"idField")||"");cell.pageName=d.trim(d.attr(node,"pageName")||"");cell.appliedSecurity=d.trim(d.attr(node,"appliedSecurity")||"");cell.image=d.trim(d.attr(node,"image")||"");var _10c0=d.trim(d.attr(node,"urlFields")||"");if(_10c0){var u=_10c0.split(",");cell.urlFields=u;}cell.urlFormatString=d.trim(d.attr(node,"urlFormatString")||"");cell.target=d.trim(d.attr(node,"target")||"");if(d.hasAttr(node,"queryParams")){cell["queryParams"]=d.trim(d.attr(node,"queryParams")||"");}}});var _10ae=_10a7.Convert;return _10aa;});},"Sage/QuickForms/Design/Editors/UserBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/UserBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/UserBasicPropertyEditor"],function(_10c1,lang,_10c2,_10c3,_10c4,_10c5,_10c6,_10c7,_10c8,_10c9,_10ca,_10cb){return _10c1("Sage.QuickForms.Design.Editors.UserBasicPropertyEditor",[_10c2,_10c9,_10c8],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_10cb);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/QuickForms/Design/Editors/OwnerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/OwnerBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/OwnerBasicPropertyEditor"],function(_10cc,lang,_10cd,_10ce,_10cf,_10d0,_10d1,_10d2,_10d3,_10d4,_10d5,_10d6){return _10cc("Sage.QuickForms.Design.Editors.OwnerBasicPropertyEditor",[_10cd,_10d4,_10d3],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_10d6);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/QuickForms/Design/nls/EditableGridControlDesigner":function(){define("Sage/QuickForms/Design/nls/EditableGridControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_10d7,lang){var nls={root:{displayNameText:"Editable Grid"}};return lang.mixin(_10d7,nls);});},"Sage/QuickForms/Design/nls/HiddenControlDesigner":function(){define("Sage/QuickForms/Design/nls/HiddenControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_10d8,lang){var nls={root:{displayNameText:"Hidden Text"}};return lang.mixin(_10d8,nls);});},"Sage/UI/Dashboard/nls/DashboardWidgetCell":function(){define("Sage/UI/Dashboard/nls/DashboardWidgetCell",["Sage/LanguageList","dojo/_base/lang"],function(_10d9,lang){var nls={root:{closeTooltipText:"Close",minimizeTooltipText:"Minimize",settingsTooltipText:"Settings"}};return lang.mixin(_10d9,nls);});},"Sage/Layout/_SplitterEnhancedMixin":function(){define("Sage/Layout/_SplitterEnhancedMixin",["dojo/_base/declare","dojo/_base/connect","dojox/storage/LocalStorageProvider","dojo/dom-style","dojo/_base/sniff"],function(_10da,_10db,_10dc,_10dd,has){return _10da("Sage.Layout._SplitterEnhancedMixin",null,{postCreate:function(){this.inherited(arguments);this.storageId=this.id;},startup:function(){this.inherited(arguments);if(has("ie")){this._widthPadding=19;}if(this.splitter===true){this._addEventHandlers();this._addEventSubscribers();var dim=this._getFromLocalStorage(this.storageId);if(dim===null){dim={h:this.domNode.scrollHeight+5,w:this.domNode.scrollWidth};}this._setupStyle(dim);this.resize(dim);this._setDefaults(dim);}},splitterDblClick:null,splitterStopDrag:null,storageId:null,_defaultHeight:310,_defaultWidth:180,_widthPadding:2,_setDefaults:function(dim){if((this.region==="top"||this.region==="bottom")&&dim.h!==this.minSize){this._defaultHeight=dim.h;}if((this.region==="right"||this.region==="left")&&dim.w>this.minSize+this._widthPadding){this._defaultWidth=dim.w;}},_addEventHandlers:function(){var _10de=dijit.byId([this.id,"_splitter"].join(""));if(typeof _10de!=="undefined"){if(this.splitterStopDrag===null){this.splitterStopDrag=this.connect(_10de,"_stopDrag",function(){if(this.region==="top"){if(this.h===this.minSize){_10db.publish(["Sage/events/",this.id,"/splitterMinSize"].join(""),this);}else{_10db.publish(["Sage/events/",this.id,"/splitterMovedNotMin"].join(""),this);}}this._setDefaults({h:this.h,w:this.w});this._saveToLocalStorage(this.storageId,{h:this.h,w:this.w});});}if(this.splitterDblClick===null){this.splitterDblClick=this.connect(_10de,"onDblClick",function(){this.toggleSplitter();_10db.publish(["Sage/events/",this.id,"/splitterToggled"].join(""),this);});}}},_addEventSubscribers:function(){_10db.subscribe(["Sage/events/",this.id,"/toggleSplitter"].join(""),this,"toggleSplitter");},toggleSplitter:function(){var dim={},_10df=dijit.byId([this.id,"_splitter"].join("")),_10e0=dijit.byId("Viewport");if(typeof _10df!=="undefined"&&_10df!==null){if(this.region==="top"||this.region==="bottom"){dim=(this.h===this.minSize)?{h:this._defaultHeight,w:this.w}:{h:this.minSize,w:this.w};}if(this.region==="right"||this.region==="left"){dim=(this.w<this.minSize+this._widthPadding)?{h:this.h,w:this._defaultWidth}:{h:this.h,w:this.minSize};}if(dim.w===19){dim.w=this._defaultWidth;}this._setupStyle(dim);this.resize(dim);_10e0.resize();this._saveToLocalStorage(this.storageId,dim);}},_setupStyle:function(dim){if(!this.domNode){return;}var _10e1=false;if(this.region==="top"||this.region==="bottom"){_10e1=(dim.h===this.minSize);}if(this.region==="right"||this.region==="left"){_10e1=(dim.w<this.minSize+this._widthPadding);}if(_10e1){_10dd.set(this.domNode,"overflow","hidden");}else{_10dd.set(this.domNode,"overflow","auto");}},_saveToLocalStorage:function(key,value){var _10e2=new _10dc();_10e2.initialize();_10e2.put(key,value,function(_10e3,key,_10e4){if(_10e3===_10e2.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_10e4);}});},_getFromLocalStorage:function(key,value){var _10e5=new _10dc();_10e5.initialize();return _10e5.get(key,value);}});});},"Sage/Extensions/UI/Columns/PickListSelect":function(){define("Sage/Extensions/UI/Columns/PickListSelect",["dojo/_base/declare","dojox/grid/cells/_base","Sage/UI/Controls/PickList"],function(_10e6,_10e7,_10e8){var _10e9=_10e6("Sage.Extensions.UI.Columns.PickListSelect",dojox.grid.cells.Select,{storeData:null,pickList:null,storageMode:"id",displayMode:"AsText",constructor:function(args){this.inherited(arguments);if(this.storageMode==="id"&&this.displayMode==="AsText"){if(this.pickListName){this._loadPickList();}}},_loadPickList:function(){var _10ea=new dojo.Deferred();var _10eb={pickListName:this.pickListName,canEditText:false,itemMustExist:true,maxLength:-1,storeMode:this.storageMode,sort:false,displayMode:this.displayMode};this.pickList=new _10e8(_10eb);this.pickList.getPickListData(_10ea);_10ea.then(dojo.hitch(this,this._loadData),function(e){console.error(e);});},_loadData:function(data){var _10ec=[];var _10ed=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];_10ed.push(item.text);if(item.code){_10ec.push(item.code);}else{_10ec.push(item.text);}}this.options=_10ed;this.values=_10ec.length>0?_10ec:_10ed;}});return _10e9;});},"Sage/MainView/IntegrationContract/AdvancedSearchOptions":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/AdvancedSearchOptions.html":"[\r\n'<div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.searchOptionsHeader %}',\r\n            '<span class=\"boldtext\">{%= $.configOptions.targetAccount %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.searchOptionsText %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:136px\">{%= $.operatorText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:118px\">{%= $.searchText %}</label>',\r\n    '</div>',\r\n    '<div dojoAttachPoint=\"conditionContainer\" style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').refineSearchObject.getSelections();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/MainView/IntegrationContract/AdvancedSearchOptions",["dojo/_base/declare","dojo/i18n!./nls/AdvancedSearchOptions","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","dojo/text!./templates/AdvancedSearchOptions.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_10ee,_10ef,_10f0,_10f1,_10f2,_10f3){var _10f4=_10ee("Sage.MainView.IntegrationContract.AdvancedSearchOptions",[_10f0,_10f1],{configOptions:[],id:"",refineSearchId:"",index:0,selectedFieldIndex:0,fields:[{FieldName:"",DisplayName:""}],operators:[],selectedFilters:[],hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",widgetsInTemplate:true,constructor:function(){dojo.mixin(this,_10ef);},init:function(_10f5){this.id=_10f5.Id;this.configOptions=_10f5;},conditionTemplate:new Simplate(["<div >",'<div id="filterCondition_{%= $.index %}" class="lookup-condition-row" style="padding-left:10px">','<select id="fieldnames_{%= $.index %}" class="lookup-fieldnames-list" style="width:160px" onchange="dijit.byId(\'{%= $.refineSearchId %}\').refineSearchObject.onPropertyChange({%= $.index %});" >',"{% for (var i=0;i<$.fields.length;i++) { %}",'<option value="{%= $.fields[i].FieldName %}" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.fields[i].DisplayName %}</option>',"{% } %}","</select>",'<select id="operators_{%= $.index %}" class="lookup-operators-list" style="width:160px; margin-left:20px">',"{% for (var i=0;i<$.operators.length;i++) { %}",'<option value="{%= $.operators[i].symbol %}"  {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.operators[i].display %}</option>',"{% } %}","</select>",'<input type="text" id="searchValue_{%= $.index %}" class="search-value-list" style="width:160px;margin-left:5px" />',"{% if ($.index == 1 ) { %}",'<img id="addCondition_{%= $.index %}" src="{%= $.addimgurl %}" alt="{%= $.addImgAltText %}" style="cursor:pointer;padding:0px 5px;" onclick="dijit.byId(\'{%= $.id %}-Dialog\').refineSearchObject.addLookupCondition();" />',"{% } %}","{% if ($.index > 1 ) { %}",'<img src="{%= $.hideimgurl %}" alt="{%= $.hideImgAltText %}" style="cursor:pointer;padding:0px 5px;" onclick="dijit.byId(\'{%= $.id %}-Dialog\').refineSearchObject.removeLookupCondition({%= $.index %});" />',"{% } %}","</div>","</div>"]),onRefineSearch:function(){var _10f6=dojo.byId(this.configOptions.optionRefineSearchId);if(_10f6!=null&&_10f6.checked){this.getDefaultMatchProperties();return true;}return false;},getDefaultMatchProperties:function(){var self=this;var _10f7=dijit.byId([this.id,"-Dialog"].join(""));if(!_10f7){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/resources/getmatchproperties?resourceKind=${0}&targetMapping=${1}",[this.configOptions.resourceKind,true]),cache:false,preventCache:true,handleAs:"json",load:function(data){self.fields=data.fields;self.operators=data.operators;self.selectedFilters=data.filters;self.showDialog();},error:function(_10f8,_10f9,error){_10f2.ShowError("request: "+_10f8+" \nstatus: "+_10f9+" \nerror: "+error);}});}else{self.showDialog();}},showDialog:function(){this.index=0;var _10fa=dijit.byId([this.id,"-Dialog"].join(""));if(!_10fa){_10fa=new dijit.Dialog({title:this.dialogCaption,id:[this.id,"-Dialog"].join(""),style:["height:",300,"px;width:",600,"px;"].join(""),closable:true,loadingMessage:this.loadingText,refineSearchObject:this});var _10fb=new Simplate(eval(_10f3));_10fa.attr("content",_10fb.apply(this));}this.refineSearchId=_10fa.id;_10fa.show();this.loadMatchingFilters();dojo.style(_10fa.domNode,"zIndex",9050);},loadMatchingFilters:function(){for(var i=0;i<this.selectedFilters.length;i++){this.addLookupCondition();var field=dojo.byId(["fieldnames_",this.index].join(""));if(field!=null){field.value=this.selectedFilters[i].Property;}var _10fc=dojo.byId(["operators_",this.index].join(""));if(_10fc!=null){_10fc.value=this.selectedFilters[i].Operator;_10fc.symbol=this.selectedFilters[i].Operator;}var _10fd=dojo.byId(["searchValue_",this.index].join(""));if(_10fd!=null){_10fd.value=this.selectedFilters[i].SearchValue;}}},getSelections:function(){var _10fe=[];this.updateDisplay();var _10ff=dojo.query(".lookup-condition-row");for(var i=0;i<_10ff.length;i++){var _1100=dojo.query(".lookup-fieldnames-list",_10ff[i]);var _1101=dojo.query(".lookup-operators-list",_10ff[i]);var _1102=dojo.query(".search-value-list",_10ff[i]);var _1103={fieldName:_1100[0].value,operator:_1101[0].value,searchValue:_1102[0].value};_10fe.push(_1103);}var _1104=dojo.byId(this.configOptions.filtersId);if(_1104!=null){_1104.value=Sys.Serialization.JavaScriptSerializer.serialize(_10fe);}this.invokeClickEvent(dojo.byId(this.configOptions.refreshGridId));},updateDisplay:function(){var _1105=dojo.byId(this.configOptions.resultsMsgId);if(_1105!=null){_1105.innerHTML=this.loadingDisplay;}_1105=dojo.byId(this.configOptions.rowSearchResultsId);if(_1105!=null){_1105.style.display="none";}_1105=dojo.byId(this.configOptions.rowLinkToId);if(_1105!=null){_1105.style.display="none";}},invokeClickEvent:function(_1106){if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",true,true);_1106.dispatchEvent(e);}else{_1106.click();}},onPropertyChange:function(index){var _1107=dojo.byId(["searchValue_",index].join(""));if(_1107!=null){_1107.value="";}},addLookupCondition:function(){this.index++;var _1108=dojo.byId([this.id,"-Condition-container"].join(""));var _1109=this.conditionTemplate.apply(this);dojo.place(_1109,_1108);this.dialogResize();},dialogResize:function(){dojo.style([this.id,"-Dialog"].join(""),"height","auto");},removeLookupCondition:function(idx){dojo.query(dojo.byId(["filterCondition_",idx].join(""))).orphan();},reloadOperators:function(_110a,_110b){this.selectedFieldIndex=_110a;this.index=_110b;var _110c=this.conditionTemplate.apply(this);dojo.place(_110c,["filterCondition_",_110b].join(""),"replace");},clearTargetSelection:function(){var _110d=document.getElementsByName("TargetsGroup");if(_110d!=null){for(var i=0;i<_110d.length;i++){_110d[i].checked=false;}}},onMatchSelection:function(_110e){var _110f=document.getElementById(_110e);if(_110f!=null){_110f.checked=true;}},closeDetailsDialog:function(){}});return _10f4;});},"Sage/QuickForms/Design/Editors/GenericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/GenericBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/GenericBasicPropertyEditor"],function(_1110,lang,_1111,_1112,_1113,_1114,_1115,_1116,_1117,_1118,_1119,_111a){return _1110("Sage.QuickForms.Design.Editors.GenericBasicPropertyEditor",[_1111,_1118,_1117],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,titleText:"Basic",appearanceText:"Appearance",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_111a);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);}});});},"Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope":function(){define("Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_111b,i18n,_111c,_111d,_111e,_111f){var _1120=_111f("Sage.MainView.ReportMgr.SchedulesSDataSummaryFormatterScope",[_111c],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _111d(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _1120;});},"Sage/QuickForms/Design/Editors/nls/UserBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/UserBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1121,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1121,nls);});},"url:Sage/UI/Controls/templates/DropDownSelectUser.html":'<div>\r\n    <select data-dojo-type="Sage.UI.ComboBox" shouldPublishMarkDirty="false" dojoAttachPoint="comboBox" dojoAttachEvent="onBlur: _onBlur">\r\n    </select>\r\n</div>\r\n',"Sage/UI/nls/Dialogs":function(){define("Sage/UI/nls/Dialogs",["Sage/LanguageList","dojo/_base/lang"],function(_1122,lang){var nls={root:{yesText:"Yes",noText:"No",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_1122,nls);});},"Sage/UI/DashboardGroupListConfigurationProvider":function(){define("Sage/UI/DashboardGroupListConfigurationProvider",["Sage/UI/GroupListConfigurationProvider","dojo/string","dojo/_base/declare"],function(_1123,_1124,_1125){var _1126=_1125("Sage.UI.DashboardGroupListConfigurationProvider",[_1123],{formatPredicate:function(group){group.family=group.family&&group.family.toUpperCase();return _1124.substitute("name eq '${name}' and upper(family) eq '${family}'",group);},_createConfigurationForList:function(entry){var _1127=Sage.Services.getService("ClientGroupContext"),_1128;if(_1127){_1128=_1127.getContext();}_1128.CurrentTable="";return this.inherited(arguments);},_getListContextMenuItems:function(){return[];},_onListContext:function(e){return;}});return _1126;});},"Sage/TaskPane/nls/SecuredActionTasklet":function(){define("Sage/TaskPane/nls/SecuredActionTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1129,lang){var nls={root:{addToRoleTitle:"Add to Role"}};return lang.mixin(_1129,nls);});},"Sage/Layout/main":function(){define("Sage/Layout/main",["Sage/Layout/ContentPane","Sage/Layout/TabContainer","Sage/Layout/MainContentDetailsPane","Sage/Layout/_SplitterEnhancedMixin"],function(){});},"Sage/UI/Dashboard/nls/DashboardTabController":function(){define("Sage/UI/Dashboard/nls/DashboardTabController",["Sage/LanguageList","dojo/_base/lang"],function(_112a,lang){var nls={root:{newTabText:"New Tab",addContentText:"Add Content",editOptionsText:"Edit Options",hideTabText:"Hide Tab",closeText:"Close",copyTabText:"Copy Tab",showTabText:"Show Tab",shareTabText:"Share Tab",deleteTabText:"Delete Tab",deleteTabConfirmText:"Are you sure you want to delete this tab?",descriptionText:"Description",everyoneText:"Everyone",saveTabText:"Save Tab",helpText:"Help",addText:"Add",invalidMessage:"Invalid Character",invalidDuplicateMessage:"Title must be unique.",deleteText:"Delete",titleText:"Title:",chooseTemplateText:"Choose the template you want to use:",oneColumnText:"One column",twoColumnText:"Two columns split",fatLeftText:"Two column larger left",fatRightText:"Two column larger right",makeDefaultText:"Make default",releaseFetchErrorText:"Error fetching release list.",releaseDeleteNoneSelected:"No items selected.",releasedToText:"Released To:",typeText:"Type",addLookup:"Add",okButton:"OK",errorText:"Error",warningText:"Warning",permissionErrorText:"Error: User does not have the right to perform this action.",permissionErrorPerformCopyText:"Would you like to create a personal copy of the page?",yesText:"Yes",noText:"No"}};return lang.mixin(_112a,nls);});},"Sage/UI/PopupMenuItem":function(){define("Sage/UI/PopupMenuItem",["Sage/UI/MenuItem","dojo/_base/declare"],function(_112b,_112c){var _112d=_112c("Sage.UI.PopupMenuItem",_112b,{_fillContent:function(){if(this.srcNodeRef){var nodes=dojo.query("*",this.srcNodeRef);Sage.UI.PopupMenuItem.superclass._fillContent.call(this,nodes[0]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=dojo.query("[widgetId]",this.dropDownContainer)[0];this.popup=dijit.byNode(node);}dojo.body().appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){dojo.style(this.arrowWrapper,"visibility","");}dijit.setWaiState(this.focusNode,"haspopup","true");},destroyDescendants:function(){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive();}delete this.popup;}this.inherited(arguments);}});return _112d;});},"Sage/Library/main":function(){define("Sage/Library/main",["Sage/Library/DocumentProperties","Sage/Library/FileHandler","Sage/Library/FolderHandler","Sage/Library/Manager"],function(){});},"url:Sage/Utility/File/templates/FallbackFilePicker_Attachment.html":'[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="uploadFileDialog" title="{%= $.attachFileText %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onHide">\',\r\n        \'<iframe src="about:blank" style="width:0px;height:0px;border-width:0px;" name="{%= $._iframeId %}" id="{%= $._iframeId %}" dojoAttachPoint="_iframe" dojoAttachEvent="onload:_iframeLoad"></iframe>\',\r\n        \'<form method="post" enctype="multipart/form-data" action="{%= $._buildPostUrl() %}" target="{%= $._iframeId %}" dojoAttachPoint="_postForm" class="attachment-properties-form">\',\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160">\',\r\n                \'<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.uploadFileText %}" >\',\r\n                    \'<input name="file" multiple="false" type="file" dojoAttachEvent="onchange:_onNewFile" dojoAttachPoint="btn_FileSelect" class="uploadButton" />\',\r\n                \'</div>\',\r\n                 \'<div dojoType="dijit.form.TextBox" label="{%= $.descriptionText %}" name="description" id="{%= $.id %}_tb_Description" dojoAttachPoint="tb_Description" maxlength="128" ></div>\',\r\n                 \'<input type="hidden" dojoType="dijit.form.TextBox" name="fileName" id="{%= $.id %}_tb_realFileName" dojoAttachPoint="tb_realFileName" maxlength="255" />\',\r\n            \'</div>\',\r\n            \'<div class="general-dialog-actions" align="right">\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                \'<span>&nbsp;&nbsp</span>\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n            \'</div>\',\r\n            \'<input type="hidden" name="dataType" value="R" />\',\r\n            \'<input type="hidden" name="attachDate" dojoAttachPoint="_attachDate"/>\',\r\n            \'<input type="hidden" name="accountId" dojoAttachPoint="_accountId"/>\',\r\n            \'<input type="hidden" name="activityId" dojoAttachPoint="_activityId" />\',\r\n            \'<input type="hidden" name="contactId" dojoAttachPoint="_contactId" />\',\r\n            \'<input type="hidden" name="contractId" dojoAttachPoint="_contractId" />\',\r\n            \'<input type="hidden" name="defectId" dojoAttachPoint="_defectId" />\',\r\n            \'<input type="hidden" name="historyId" dojoAttachPoint="_historyId" />\',\r\n            \'<input type="hidden" name="leadId" dojoAttachPoint="_leadId" />\',\r\n            \'<input type="hidden" name="opportunityId" dojoAttachPoint="_opportunityId" />\',\r\n            \'<input type="hidden" name="productId" dojoAttachPoint="_productId" />\',\r\n            \'<input type="hidden" name="returnId" dojoAttachPoint="_returnId" />\',\r\n            \'<input type="hidden" name="salesOrderId" dojoAttachPoint="_salesOrderId" />\',\r\n            \'<input type="hidden" name="ticketId" dojoAttachPoint="_ticketId" />\',\r\n            \'<input type="hidden" name="userId" dojoAttachPoint="_userId" />\',\r\n        \'</form>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]',"url:Sage/MainView/ActivityMgr/AttendeeLookup/templates/SpeedSearchLookup.html":'[\r\n\'<div>\',\r\n    \'<div data-dojo-type="dijit.Dialog" id="{%= $.id %}-Dialog" title="" dojoAttachPoint="_dialog" >\', //dialog\r\n         \'<div class="event-dialog">\',\r\n        \'<div style="padding:5px;" id="{%= $.id %}-Condition-container">\',\r\n            \'<input id="Text1" type="text" style="width:85%;"  data-dojo-attach-point="_valueBox" data-dojo-attach-event="onkeypress:_onKeyPress"/>\',     \r\n            \'<button id="{%= $.id %}-Search" data-dojo-type="dijit.form.Button" type="button" dojoAttachPoint="searchButton" dojoAttachEvent="onClick:_doSearch">{%= $.srchBtnCaption %}</button>\',\r\n          \r\n        \'</div>\',    \r\n        \'<div data-dojo-attach-point="contentNode">\',  \r\n        \'<div id="{%= $.id %}-Grid-container" dojoAttachPoint="_speedSearchGrid"  style="width:auto;height:400px;"></div>\',\r\n        \'</div>\',\r\n            \'<div class="lookupButtonWrapper">\',           \r\n                \'<button data-dojo-type="dijit.form.Button" type="button" id="{%= $.id %}-GridSelectButton" \',\r\n                    \'onClick="dijit.byId(\\\'{%= $.id %}\\\').getGridSelections(); ">{%= $.okText %}\',\r\n                   \'</button>\',            \r\n                \'<button data-dojo-type="dijit.form.Button" type="button" id="{%= $.id %}-CloseButton" \',\r\n                    \'onClick="dijit.byId(\\\'{%= $.id %}-Dialog\\\').hide();">{%= $.cancelText %}</button>\',\r\n            \'</div>\',\r\n             \'</div>\',\r\n     \'</div> \', //dialog   \r\n\'</div>\'\r\n]',"Sage/UI/Controls/HelpMenu":function(){define("Sage/UI/Controls/HelpMenu",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/OrientableMenuBar","dojo/i18n!./nls/HelpMenu","dojo/_base/declare","dojo/dom-class"],function(_112e,_112f,_1130,_1131,_1132,_1133,_1134){var _1135=_1133("Sage.UI.Controls.HelpMenu",_1131,{orientation:{"BR":"TR","BL":"TL"},postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var menu=new dijit.Menu();menu.addChild(new _112f({label:_1132.webClientHelpText,imageClass:"icon_Help_16x16",title:_1132.webClientHelpText,id:"helpRoot",onClick:function(){Sage.Utility.openHelp("slxoverview");}}));menu.addChild(new _112f({label:_1132.gettingStartedText,imageClass:"icon_pdf_16x16",title:_1132.gettingStartedText,id:"helpGettingStarted",onClick:function(){window.open("help/Getting Started with Saleslogix Web Client.pdf","MCWebHelp");}}));menu.addChild(new _112f({label:_1132.quickReferenceText,imageClass:"icon_pdf_16x16",title:_1132.quickReferenceText,id:"helpQuickReference",onClick:function(){window.open("help/Saleslogix Quick Reference for the Web User.pdf","MCWebHelp");}}));menu.addChild(new _112f({label:_1132.aboutText,imageClass:"icon_Help_16x16",title:_1132.aboutText,id:"helpAbout",onClick:function(){Sage.Utility.openHelp("slxthirdparty");}}));var _1136=menu.getChildren();_1134.add(_1136[1].domNode,"hiddenHelpButton");_1134.add(_1136[2].domNode,"hiddenHelpButton");this.addChild(new _1130({label:"",iconStyle:"width: 16px",imageClass:"icon_Help_16x16",title:_1132.helpText,id:"btnHelpMenu",popup:menu}));}});return _1135;});},"Sage/Services/SystemOptions":function(){define("Sage/Services/SystemOptions",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_1137,_1138){var svc=_1138("Sage.Services.SystemOptions",null,{_systemOptions:false,_systemOptionsByName:false,notFoundrrorMsg:"A system option was requested that cannot be found.",requestFailedErrorMsg:"A request for system options has failed to return results.",get:function(_1139,_113a,_113b,scope){if(!this._systemOptions){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_1137.getSDataService("system",false,true,true));req.setResourceKind("systemoptions");req.read({success:function(_113c){this._buildHash(_113c);this._returnOption(_1139,_113a,_113b,scope);},failure:function(_113d){_113b.call(scope||this,this.requestFailedErrorMsg);},scope:this});}else{this._returnOption(_1139,_113a,_113b,scope);}},_buildHash:function(_113e){var items=_113e.$resources;this._systemOptionsByName={};dojo.forEach(items,function(item){this._systemOptionsByName[item.name]=item;},this);this._systemOptions=_113e.$resources;},_returnOption:function(_113f,_1140,_1141,scope){if(this._systemOptionsByName[_113f]){_1140.call(scope||this,this._systemOptionsByName[_113f].value);}else{_1141.call(scope||this,this.notFoundrrorMsg);}}});Sage.Services.addService("SystemOptions",new Sage.Services.SystemOptions());return svc;});},"Sage/MainView/IntegrationContract/nls/SalesOrderRTDV":function(){define("Sage/MainView/IntegrationContract/nls/SalesOrderRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_1142,lang){var nls={root:{dialogCaption:"Sales Order Details",loadingText:"loading...",lblSalesOrderCaption:"Sales Order:",lblStatusCaption:"Status:",lblGrossTotalCaption:"Order Amount:",lblOrderDateCaption:"Order Date:",lblTaxTotalCaption:"Tax Total:",lblHoldStatusCaption:"Hold Status:",lblCurrencyCaption:"Currency:",lblTypeCaption:"Type:",lblCostTotalCaption:"Total Cost:",lblPONumberCaption:"PO Number:",lblProfitTotalCaption:"Total Profit:",lblQuotationCaption:"Quotation:",lblInvoiceStatusCaption:"Invoice Status:",lblContactCaption:"Contact:",lblDeliveryDateCaption:"Delivery Date:",lblDueDateCaption:"Due Date:",lblPriceListCaption:"Price List:",lblCarrierCaption:"Carrier:",lblNetTotalCaption:"Net Total:",lblAllocationStatusCaption:"Allocation Status:",lblDiscountTotalCaption:"Discount Total:",lblDeliveryStatusCaption:"Delivery Status:",lblChargesTotalCaption:"Charges Total:",detailsTabTitle:"Details",salesPersonsTabTitle:"Sales Persons",addressTabTitle:"Addresses",salesOrderLinesTabTitle:"Sales Order Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdSalesOrder_Edit:"Edit",grdSalesOrder_OrderNumber:"Order Number",grdSalesOrder_OrderDate:"Order Date",grdSalesOrder_Status:"Status",grdSalesOrder_HoldStatus:"Hold Status",grdSalesOrder_Type:"Type",grdSalesOrder_PO:"PO Number",grdSalesOrder_NetTotal:"Net Total",grdSalesOrder_DiscountTotal:"Discount Total",grdSalesOrder_ChargesTotal:"Charges Total",grdSalesOrder_TaxTotal:"Tax Total",grdSalesOrder_GrossTotal:"Gross Total",grdSalesOrder_Currency:"Currency",grdSalesPersons_Name:"Name",grdSalesPersons_Type:"Type",grdSalesPersons_Extension:"Extension",grdSalesPersons_Relationship:"Relationship",grdAddress_Name:"Name",grdAddress_Address1:"Address 1",grdAddress_Address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Zip",grdItems_Line:"Line Number",grdItems_Type:"Type",grdItems_Commodity:"Commodity",grdItems_CommodityVariant:"Variant",grdItems_CommodityDimension:"Dimension",grdItems_UnitOfMeasure:"Unit",grdItems_Location:"Location",grdItems_PriceList:"Price List",grdItems_Quantity:"Quantity",grdItems_InitialPrice:"Initial Price",grdItems_ActualPrice:"Actual Price",grdItems_NetTotal:"Net Total",grdItems_ChargesTotal:"Charges Total",grdItems_DiscountTotal:"Discount Total",grdItems_TaxTotal:"Tax Total",grdItems_GrossTotal:"Gross Total",grdPayments_Date:"Payment Date",grdPayments_Name:"Name",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_NetTotal:"Net Total",grdPayments_Discounts:"Discounts",grdPayments_Charges:"Charges",grdPayments_Tax:"Tax",grdPayments_GrossTotal:"Gross Total",grdPayments_Currency:"Currency",grdPayments_TenderType:"Tender Type",grdPayments_TenderReference:"Tender Reference",grdPayments_ProcessDate:"Process Date",grdDeliveries_Number:"Number",grdDeliveries_Type:"Type",grdDeliveries_Status:"Status",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_Method:"Method",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_ExceptionReason:"Exception Reason",errorERPRequest:"An error occured opening accounting systems sales order detail view. ",errorERPRequestDetails:"${0}, ${1} Request: ${2}",btnCloseCaption:"Close"}};return lang.mixin(_1142,nls);});},"Sage/UI/Controls/main":function(){define("Sage/UI/Controls/main",["Sage/UI/Controls/_customSelectMixin","Sage/UI/Controls/_DialogHelpIconMixin","Sage/UI/Controls/Address","Sage/UI/Controls/CheckBox","Sage/UI/Controls/CopyToClipboard","Sage/UI/Controls/Currency","Sage/UI/Controls/CurrencyTextBox","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/DependControl","Sage/UI/Controls/DependencyLookup","Sage/UI/Controls/DropDownSelectPickList","Sage/UI/Controls/DropDownSelectUser","Sage/UI/Controls/DurationSelect","Sage/UI/Controls/Email","Sage/UI/Controls/HelpMenu","Sage/UI/Controls/LogOffButton","Sage/UI/Controls/Lookup","Sage/UI/Controls/EntityInfoToolTip","Sage/UI/Controls/MultiSelectPickList","Sage/UI/Controls/MultiTab","Sage/UI/Controls/Name","Sage/UI/Controls/Numeric","Sage/UI/Controls/Phone","Sage/UI/Controls/PickList","Sage/UI/Controls/PickListAsText","Sage/UI/Controls/Select","Sage/UI/Controls/SimpleTextarea","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/SummaryAggregate","Sage/UI/Controls/TextBox"],function(){});},"Sage/QuickForms/Design/RowDesigner":function(){define("Sage/QuickForms/Design/RowDesigner",["dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_WidgetBase","./Editors/RowBasicPropertyEditor","dojo/i18n!./nls/RowDesigner"],function(_1143,topic,_1144,lang,array,_1145,_1146,_1147){return _1144("Sage.QuickForms.Design.RowDesigner",[_1145],{entry:null,editors:[_1146],helpTopicName:"Row_properties",displayNameText:"Row",constructor:function(){lang.mixin(this,_1147);},set:function(name,value){var _1148=this.inherited(arguments);var names=this._getAttrNames(name),_1149=this[names.s];if(lang.isFunction(_1149)){topic.publish("/quickforms/design/designerModified",this,name,value,_1148,this);}return _1148;}});});},"Sage/MainView/ReportMgr/ReportManagerUtility":function(){define("Sage/MainView/ReportMgr/ReportManagerUtility",["dojo/_base/xhr","dojo/i18n!./nls/ReportManagerUtility","Sage/Reporting/Enumerations"],function(_114a,_114b,_114c){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerUtility");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerUtility,{_nlsResources:_114b,getOperators:function(_114d){switch(String(_114d)){case String(_114c.FieldDataTypes.Numeric):return[{operator:_114c.ReportConditionOperator.Is,caption:_114c.nlsResources.txtIs},{operator:_114c.ReportConditionOperator.IsNot,caption:_114c.nlsResources.txtIsNot},{operator:_114c.ReportConditionOperator.IsGreaterThan,caption:_114c.nlsResources.txtIsGreaterThan},{operator:_114c.ReportConditionOperator.IsLessThan,caption:_114c.nlsResources.txtIsLessThan},{operator:_114c.ReportConditionOperator.IsInTheRange,caption:_114c.nlsResources.txtIsInTheRange}];case String(_114c.FieldDataTypes.DateTime):return[{operator:_114c.ReportConditionOperator.Is,caption:_114c.nlsResources.txtIs},{operator:_114c.ReportConditionOperator.IsNot,caption:_114c.nlsResources.txtIsNot},{operator:_114c.ReportConditionOperator.IsAfter,caption:_114c.nlsResources.txtIsAfter},{operator:_114c.ReportConditionOperator.IsBefore,caption:_114c.nlsResources.txtIsBefore},{operator:_114c.ReportConditionOperator.IsInTheRange,caption:_114c.nlsResources.txtIsInTheRange}];case String(_114c.FieldDataTypes.String):return[{operator:_114c.ReportConditionOperator.Is,caption:_114c.nlsResources.txtIs},{operator:_114c.ReportConditionOperator.IsNot,caption:_114c.nlsResources.txtIsNot},{operator:_114c.ReportConditionOperator.Contains,caption:_114c.nlsResources.txtContains},{operator:_114c.ReportConditionOperator.StartsWith,caption:_114c.nlsResources.txtStartsWith},{operator:_114c.ReportConditionOperator.EndsWith,caption:_114c.nlsResources.txtEndsWith}];default:console.error("Unsupported field type: "+_114d);}return"";},getUser:function(_114e){var user=null;_114a("GET",{url:"slxdata.ashx/slx/dynamic/-/users('"+_114e+"')?format=json",handleAs:"json",sync:true}).then(function(data){user=data;});return user;},getGroup:function(_114f){var group=null;var url="slxdata.ashx/slx/system/-/groups";if(_114f.indexOf(":")!==-1){var _1150=_114f.split(":")[0];var name=_114f.split(":")[1];url=url+"?format=json&where=family eq '"+_1150+"' and name eq '"+name+"'";}else{url=url+"('"+_114f+"')?format=json";}_114a("GET",{url:url,handleAs:"json",sync:true}).then(function(data){if(data.$resources&&data.$resources.length===1){data=data.$resources[0];}group=data;});return group;},getEntityHistory:function(_1151){var _1152={items:[]};_114a("GET",{url:"slxdata.ashx/slxdata.ashx/slx/crm/-/entityhistory",handleAs:"json",sync:true}).then(function(data){_1152=data;});},getOutputFormats:function(_1153){switch(_1153){case _114c.ReportTypes.CrystalReport:return[{outputFormat:_114c.ReportExportFormat.Pdf,caption:_114c.nlsResources.txtPdf},{outputFormat:_114c.ReportExportFormat.Word,caption:_114c.nlsResources.txtWord},{outputFormat:_114c.ReportExportFormat.Excel,caption:_114c.nlsResources.txtExcel},{outputFormat:_114c.ReportExportFormat.Csv,caption:_114c.nlsResources.txtCsv},{outputFormat:_114c.ReportExportFormat.Xml,caption:_114c.nlsResources.txtXml}];default:console.error("Unsupported report type: "+_1153);return[];}},getCurrentEntityContext:function(){if(Sage.Services.hasService("ClientEntityContext")){var _1154=Sage.Services.getService("ClientEntityContext");if(_1154){return _1154.getContext();}}return null;},getCurrentUser:function(){var _1155=Sage.Services.getService("ClientContextService");var user=null;if(_1155){user={userID:_1155.getValue("userID"),userPrettyName:_1155.getValue("userPrettyName")};}return user;},setDomNodeVisible:function(_1156,_1157){if(_1156&&_1157){dojo.removeClass(_1156,"display-none");}else{if(_1156){dojo.addClass(_1156,"display-none");}}},refreshList:function(tabId){try{var panel=dijit.byId("list");if(panel){var _1158=Sage.Services.getService("ClientGroupContext");if(_1158){var ctx=_1158.getContext();if(tabId===ctx.CurrentGroupID){panel.refreshView(tabId);}}}}catch(e){}}});return Sage.MainView.ReportMgr.ReportManagerUtility;});},"Sage/MailMerge/MenuHelper":function(){define("Sage/MailMerge/MenuHelper",["Sage/MailMerge/Helper","dojo/_base/declare"],function(_1159,_115a){var _115b=_115a("Sage.MailMerge.MenuHelper",null,{_populateWriteMenu:function(){require(["Sage/MailMerge/Service"],function(){var _115c=_1159.GetMailMergeService();if(_115c){if(!_115c.MenuPopulated){_115c.PopulateWriteMenu();}}});},_getMenuInfo:function(){var info={toolbar:null,menu:null};var _115d=dojo.byId("ToolBar");if(typeof _115d!=="undefined"&&_115d!==null){info.toolbar=_115d;for(var i=0;i<_115d.children.length;i++){var oItem=_115d.children[i];if(oItem.id=="mnuMailMerge"){info.menu=oItem;return info;}}}return info;},attachWriteMenuPopulator:function(){var info=this._getMenuInfo();if(info.menu!==null){dojo.connect(info.menu,"onclick",this._populateWriteMenu);}},removeWriteMenu:function(){var info=this._getMenuInfo();if(info.toolbar!==null&&info.menu!==null){info.toolbar.removeChild(info.menu);}}});return _115b;});},"Sage/Workspaces/Dialog":function(){define("Sage/Workspaces/Dialog",["dojo/dom","dojo/dom-style","dojo/dom-construct","dijit/Dialog","dojo/NodeList-manipulate","dojo/_base/declare","Sage/UI/Controls/_DialogHelpIconMixin","dojo/query"],function(dom,_115e,_115f,_1160,_1161,_1162,_1163,query){return _1162("Sage.Workspaces.Dialog",[_1160,_1163],{constructor:function(_1164,_1165){this._initialized=false;this._clientId=_1164.clientId;this._stateClientId=_1164.stateClientId;this._panelClientId=_1164.panelClientId;this._contentClientId=_1164.contentClientId;this._context=null;this._dialog=null;this._dialogPanel=null;this._closedOnServerSide=false;this._dialogInfo={};this.closable=true;this._width=200;this._height=500;this._toolbarId=this._clientId+"_"+this._clientId+"_toolbar";if(this._clientId){this.statics.__instances[this._clientId]=this;this.statics.__initRequestManagerEvents();}this.inherited(arguments);},init:function(){this._context=dom.byId(this._clientId);dom.byId(this._contentClientId).style.display="";this.handleEvents();},clearState:function(){var _1166=dom.byId(this._stateClientId);_1166.value="";},disable:function(){if(!this.open){return;}this.hide();},enable:function(){if(this.open){return;}this.show();},show_:function(evt){var title,width,_1167;if(typeof evt==="string"){evt={id:evt};}evt.event="open";evt.from=evt.from||"client";title=evt.title||"";this.set("title",title);var help=evt.help;if(help){this.createHelpIcon(help.url,help.target);}width=evt.width||500;_115e.set(this.domNode,"width",width+"px");_1167=evt.height||200;query(".dijitDialogPaneContent").style({"height":_1167+"px","overflow":"auto"});var value=Sys.Serialization.JavaScriptSerializer.serialize(evt);var _1168=dom.byId(this._stateClientId);_1168.value=value;var _1169=dojo.byId(this._toolbarId);if(_1169){if(this.helpIcon){dojo.place(_1169,this.helpIcon,"before");}}},setSize:function(width,_116a){this._width=width||this._width||500;_115e.set(this.domNode,"width",this._width+"px");this._height=_116a||this._height||200;_115e.set(this.domNode,"height",this._height+"px");},fitToViewport:function(){},handleEvents:function(){var _116b=dom.byId(this._stateClientId);var value=_116b.value;var evt={};if(value){evt=eval("("+value+")");}_116b.value="";switch(evt.event){case"open":this._dialogInfo=evt;this.title=this._dialogInfo.title;this.show_(evt);this.enable();break;case"close":if(this.open){this._closedOnServerSide=false;this.hide_();this.disable();this._dialogInfo={};this._closedOnServerSide=true;}break;}},hide:function(evt){if(this._toolbarId){_115f.destroy(this._toolbarId);}if(evt&&((evt.originalTarget&&evt.originalTarget.className.indexOf("dijitDialogCloseIcon")>-1)||(evt.srcElement&&evt.srcElement.className.indexOf("dijitDialogCloseIcon")>-1))){var _116c=Sage.Services.getService("ClientBindingManagerService");if(_116c){_116c.rollbackCurrentTransaction();}dom.byId(this._stateClientId).value='{"event":"close","id":"'+this._dialogInfo.id+'"}';__doPostBack(this._stateClientId,"");}this.inherited(arguments);},hide_:function(evt){if(this._closedOnServerSide){return;}evt={event:"close",id:this._dialogInfo.id};var _116d=Sage.Services.getService("ClientBindingManagerService");if(_116d){_116d.rollbackCurrentTransaction();}var value=Sys.Serialization.JavaScriptSerializer.serialize(evt);dom.byId(this._stateClientId).value=value;__doPostBack(this._stateClientId,"");},statics:{__instances:{},__requestManagerEventsInitialized:false,__initRequestManagerEvents:function(){var self=this;if(self.__requestManagerEventsInitialized){return;}var _116e=function(a,b){if(!a||!b){return false;}else{return a.contains?(a!=b&&a.contains(b)):(!!(a.compareDocumentPosition(b)&16));}};var prm=Sys.WebForms.PageRequestManager.getInstance();prm.add_pageLoaded(function(_116f,args){var _1170=args.get_panelsUpdated();if(_1170){for(var id in self.__instances){for(var i=0;i<_1170.length;i++){var _1171=self.__instances[id];if(_116e(_1170[i],document.getElementById(_1171._stateClientId))){_1171.handleEvents();break;}}}}});prm.add_endRequest(function(_1172,args){for(var id in self.__instances){var _1173=self.__instances[id];_1173.clearState();}});self.__requestManagerEventsInitialized=true;}}});});},"Sage/QuickForms/Design/nls/UserControlDesigner":function(){define("Sage/QuickForms/Design/nls/UserControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1174,lang){var nls={root:{displayNameText:"User"}};return lang.mixin(_1174,nls);});},"Sage/MainView/ActivityMgr/EventListPanelConfig":function(){define("Sage/MainView/ActivityMgr/EventListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/EventListPanelConfig"],function(_1175,_1176,_1177,_1178,_1179,_117a,_117b,_117c){var _117d=_117b("Sage.MainView.ActivityMgr.EventListPanelConfig",[_1175],{constructor:function(){this._nlsResources=_117c;this._listId="events";this._resourceKind="events";this.entityName="Event";this._contextMenu="EventListContextMenu";this._securedAction="ActivitiesViewEvents";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/event/create",this._onListRefresh);dojo.subscribe("/entity/event/change",this._onListRefresh);dojo.subscribe("/entity/event/delete",this._onListRefresh);},_onListRefresh:function(event){var _117e=Sage.Services.getService("ActivityService");_117e.refreshList("events");},_getSelect:function(){var _117f=["$key","Type","StartDate","EndDate","Location","Description","User/UserInfo/UserName","User/UserAccessToOtherCal/OthersAccessToUserCal/Id"];return _117f;},_getSort:function(){var sort=[{attribute:"StartDate",descending:true}];return sort;},_getWhere:function(){var where=(this._currentUserId)?dojo.string.substitute('(User.UserAccessToOtherCal.OthersAccessToUserCal.Id eq "${0}")',[this._currentUserId]):"";return where;},_getStructure:function(){var _1180=this._nlsResources.colNameType||"Type";var _1181=this._nlsResources.colNameStartDate||"Start Date";var _1182=this._nlsResources.colNameEndDate||"End Date";var _1183=this._nlsResources.colNameDescription||"Description";var _1184=this._nlsResources.colNameUser||"User";var _1185=this._nlsResources.colNameLocation||"Location";_117b("Sage.MainView.ActivityMgr.EventListPanelConfig.EditEventCell",dojox.grid.cells.Cell,{format:function(_1186,_1187){var type=this.get(_1186,_1187);var key=Sage.Utility.getValue(_1187,"$key");var html="<a href='javascript:Sage.Link.editEvent(\""+key+"\")' >"+"Edit"+"</a>";return html;}});_117b("Sage.MainView.ActivityMgr.EventListPanelConfig.EventTypeCell",dojox.grid.cells.Cell,{format:function(_1188,_1189){var key=Sage.Utility.getValue(_1189,"$key");var type=Sage.Utility.getValue(_1189,"Type");var html="<a href='javascript:Sage.Link.editEvent(\""+key+"\")' >"+type+"</a>";return html;}});var _118a=[{field:"Type",name:_1180,type:Sage.MainView.ActivityMgr.EventListPanelConfig.EventTypeCell,width:"100px"},{field:"StartDate",name:_1181,type:_117a,dateOnly:true,utc:false,width:"100px"},{field:"EndDate",name:_1182,type:_117a,dateOnly:true,utc:false,width:"100px"},{field:"User.UserInfo.UserName",name:_1184,width:"120px"},{field:"Location",name:_1185,width:"200px"},{field:"Description",name:_1183,width:"300px"}];return _118a;},_getDetailConfig:function(){var _118b=this._getFormatterScope();var _118c={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"EventSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/EventSummary.html",postProcessCallBack:false};return _118c;},_getFormatterScope:function(){var _118d=new _1178({requestConfiguration:{mashupName:"ActivityManager",queryName:"EventSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/EventSummary.html"});return _118d;},_getToolBars:function(){var _118e={items:[]};return _118e;}});return _117d;});},"url:Sage/UI/Controls/templates/Address.html":'<div class="address-container" id="{%= $.clientId %}" >\r\n    <!--\r\n    -- IMPORTANT: Comments in a widget template must be placed inside the root node.\r\n    Simplate template\r\n    https://github.com/mmorton/simplate\r\n    https://github.com/mmorton/simplate/blob/master/demo/index.html\r\n    Basic formatting example: {%= $.id %}\r\n    -->\r\n    <textarea id="{%= $.clientId %}_displayText" class="address-textarea" style="height:{%= $.height %};"\r\n        data-dojo-type="Sage.UI.Controls.SimpleTextarea" readonly="readonly" dragRestriction="true"  tabindex="{%= $.tabIndex %}"\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n        data-dojo-attach-event="onDblClick: showDialog, ondijitclick: showDialog"\r\n    {% } %}\r\n        slxchangehook="true" >{%= $.displayValue %}</textarea>\r\n    {% if ($.enabled && !$.readOnly) { %}\r\n    <img alt="{%= $.imageData.imageEditAltText %}" data-dojo-attach-event="ondijitclick: showDialog" class="address-edit-button"\r\n         src="{%= $.imageData.imageEditUrl %}" title="{%= $.imageData.imageEditToolTip %}" id="{%= $.clientId %}-Button" \r\n          tabindex="{%= $.tabIndex %}" />\r\n    {% } %}\r\n    {% if ($.enabled && $.showButton) { %}\r\n    <img alt="{%= $.imageData.imageMapQuestAltText %}" data-dojo-attach-event="ondijitclick: showMap" class="address-map-button"\r\n         src="{%= $.imageData.imageMapQuestUrl %}" title="{%= $.imageData.imageMapQuestToolTip %}" id="{%= $.clientId %}-MapQuest" \r\n          tabindex="{%= $.tabIndex %}" />\r\n    {% } %}\r\n</div>',"Sage/Groups/nls/GroupNavigator":function(){define("Sage/Groups/nls/GroupNavigator",["Sage/LanguageList","dojo/_base/lang"],function(_118f,lang){var nls={root:{firstText:"Move First",previousText:"Move Previous",nextText:"Move Next",lastText:"Move Last",listText:"List View",noRecordsText:"No Records",labelFmtText:"${0} of ${1}"}};return lang.mixin(_118f,nls);});},"Sage/Utility/File/nls/AddURLAttachment":function(){define("Sage/Utility/File/nls/AddURLAttachment",["Sage/LanguageList","dojo/_base/lang"],function(_1190,lang){var nls={root:{descriptionText:"Description",urlText:"URL",titleText:"Add URL Attachment",okText:"OK",cancelText:"Cancel",requestFailedMsg:"The requested operation could not be completed, please try again later.",urlBlankMsg:"The URL or description property cannot be blank."}};return lang.mixin(_1190,nls);});},"Sage/UI/Filters/nls/EditFilterItems":function(){define("Sage/UI/Filters/nls/EditFilterItems",["Sage/LanguageList","dojo/_base/lang"],function(_1191,lang){var nls={root:{selectAllText:"Select All",findItemText:"Find Item:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Filter Items",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_1191,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsFormatter":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsFormatter",["Sage/LanguageList","dojo/_base/lang"],function(_1192,lang){var nls={root:{txtEdit:"Edit",txtDelete:"Delete",txtRangeValue:"${0} to ${1}"}};return lang.mixin(_1192,nls);});},"Sage/Utility/File/nls/DragDropWatcher":function(){define("Sage/Utility/File/nls/DragDropWatcher",["Sage/LanguageList","dojo/_base/lang"],function(_1193,lang){var nls={root:{query0:"The feature you are requesting requires the Saleslogix Desktop <br> Integration Module.",query1:"Find out more...",query2:"Would you like to install this feature now?",query3:"Note: This module can be installed at any time from the logon or options pages."}};return lang.mixin(_1193,nls);});},"Sage/QuickForms/Design/nls/DesignSurface":function(){define("Sage/QuickForms/Design/nls/DesignSurface",["Sage/LanguageList","dojo/_base/lang"],function(_1194,lang){var nls={root:{bisectionErrorText:"The placement will cause another control to be bisected.",rowBoundsErrorText:"The chosen row is out of bounds.",columnBoundsErrorText:"The chosen column is out of bounds.",rowSpanBoundsErrorText:"The chosen row span is out of bounds.",columnSpanBoundsErrorText:"The chosen column span is out of bounds.",occupiedErrorText:"There is not enough empty space for the chosen size."}};return lang.mixin(_1194,nls);});},"url:Sage/MainView/Opportunity/templates/UpdateOpportunities.html":'[\r\n\'<div>\',\r\n    \'<div data-dojo-type="dijit.Dialog" title="{%= $.updateMultipleOpps_Caption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onCancel:_close">\',\r\n        \'<div data-dojo-type="dijit.form.Form" id="{%= $.id %}_frmUpdateMultipleOpps">\',\r\n            \'<table cellspacing="20">\',\r\n                \'<tr>\',\r\n                    \'<td>\',\r\n                        \'<label>{%= $.update_Property_Caption %}</label>\',\r\n                    \'</td>\',\r\n                    \'<td>\',\r\n                        \'<select title="{%= $.update_Property_Caption %}" labelWidth="20" name="{%= $.id %}_PropertyName" dojoAttachPoint="propertyNameSelect" dojoAttachEvent="onChange:_propertyChanged" data-dojo-type="dijit.form.Select" style="width:150px">\',\r\n                            \'{% for (var i=0; i < $._updateableProperties.length;i++) { %}\',\r\n                                \'<option value="{%= $._updateableProperties[i].propertyName %}" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>\',\r\n                            \'{% } %}\',\r\n                        \'</select>\',\r\n                    \'</td>\',\r\n                    \'<td>\',\r\n                        \'<div id="divUpdateOppsTolbl" dojoAttachPoint="divUpdateOppsTolbl" class="display-none">\',\r\n                            \'<label>{%= $.update_To_Caption %}</label>\',\r\n                        \'</div>\',\r\n                    \'</td>\',\r\n                    \'<td>\',\r\n                        \'<div dojoAttachPoint="divAcctMgrContainer">\',\r\n                            \'<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.update_To_Caption %}" id="{%= $.id %}_luAccountMgr" dojoAttachPoint="accountMgr_Container" allowClearingResult="false" class="removePadding"></div>\',\r\n                        \'</div>\',\r\n                        \'<div dojoAttachPoint="divCloseProbContainer" class="display-none">\',\r\n                            \'<select id="{%= $.id %}_pkl_CloseProbability" PickListName="Opportunity Probability" label="{%= $.update_To_Caption %}" id="{%= $.id %}_pkl_CloseProbability" data-dojo-type="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pkl_CloseProbability" canEditText="false" itemMustExist="true"></select>\',\r\n                        \'</div>\',\r\n                        \'<div data-dojo-type="dojox.layout.TableContainer" dojoAttachPoint="divForecastContainer" orientation="horiz" cols="2" labelWidth="2" baseClass="display-none">\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="addToForecast" label="{%= $.addToForecast_Yes %}" value="yesForecast" id="{%= $.id %}_rdgYesForecast" dojoAttachPoint="rdoYesForecast" checked="true" />\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="addToForecast" label="{%= $.addToForecast_No %}" value="noForecast" id="{%= $.id %}_rdgNoForecast" />\',\r\n                        \'</div>\',\r\n                        \'<div data-dojo-type="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="2" dojoAttachPoint="divEstCloseContainer" baseClass="display-none">\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="estimatedClose" id="{%= $.id %}_rdgEstClose" checked="true" label="{%= $.estimatedClose_To %}" value="estimatedClose" dojoAttachPoint="rdoEstClose" dojoAttachEvent="onChange:estimatedCloseDateChange" />\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="estimatedClose" value="move" id="{%= $.id %}_rdgEstMove" label="{%= $.estimatedClose_MoveOut %}" />\',\r\n                        \'</div>\',\r\n                        \'<div dojoAttachPoint="divCommentsContainer" class="display-none">\',\r\n                            \'<textarea data-dojo-type="dijit.form.SimpleTextarea" id="{%= $.id %}_txtComments" dojoAttachPoint="txtComments" style="font-size: 85%"></textarea>\',\r\n                        \'</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n                \'<tr>\',\r\n                    \'<td></td>\',\r\n                    \'<td></td>\',\r\n                    \'<td></td>\',\r\n                    \'<td>\',\r\n                        \'<div id="divEstCloseDateContainer" class="display-none" dojoAttachPoint="divEstCloseDateContainer">\',\r\n                            \'<div data-dojo-type="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtpEstCloseDate" displayDate="true" displayTime="false" dojoAttachPoint="dtpEstCloseDate"></div>\',\r\n                        \'</div>\',\r\n                        \'<div id="divMoveEstimatedCloseContainer" class="display-none" dojoAttachPoint="divMoveEstimatedCloseContainer">\',\r\n                            \'<select data-dojo-type="dijit.form.Select" name="moveEstCloseDate" id="{%= $.id %}_moveEstCloseDateList" dojoAttachPoint="moveEstCloseDateList">\',\r\n                                \'<option value="Forward">{%= $.moveEstCloseDate_Forward %}</option>\',\r\n                                \'<option value="Backward">{%= $.moveEstCloseDate_Backward %}</option>\',\r\n                            \'</select>\',\r\n                            \'<div data-dojo-type="dijit.form.TextBox" labelWidth="20" dojoAttachPoint="daysToMove"></div>&nbsp\',\r\n                            \'<label>{%= $.estimatedClose_Days %}</label>\',\r\n                        \'</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n            \'<div class="button-bar" align="right">\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.btnOK_Caption %}</div>\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_close">{%= $.btnCancel_Caption %}</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]\r\n',"Sage/MainView/ActivityMgr/nls/ConfirmListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/ConfirmListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1195,lang){var nls={root:{colNameType:"Activity Type",colNameNotification:"Notification",colNameStartDate:"Start Date",colNameDuration:"Duration",colNameRegarding:"Regarding",colNameFromUser:"From",colNameToUser:"To User"}};return lang.mixin(_1195,nls);});},"Sage/TaskPane/TaskPaneItem":function(){define("Sage/TaskPane/TaskPaneItem",["dijit/_Widget","dijit/_TemplatedMixin","dojo/_base/declare"],function(_1196,_1197,_1198){var _1199=_1198("Sage.TaskPane.TaskPaneItem",[_1196,_1197],{securedAction:"",linkText:"",confirmMsg:"",clientAction:"",serverAction:"",currentActionIndex:-1,actions:[],selectedItemList:{},action:"",type:"",postCreate:function(_119a){this.checkSecurityAccess();},templateString:'<a dojoAttachPoint="linkTextNode" href="#"></a>',attributeMap:dojo.delegate(_1196.prototype.attributeMap,{linkText:{node:"linkTextNode",type:"innerHTML"},action:{node:"linkTextNode",type:"attribute",attribute:"href"}}),setActionList:function(){this.actions.push(this.startConfirm);this.actions.push(this.startGetSelectedItems);this.actions.push(this.startClientAction);this.actions.push(this.startServerAction);},doNextAction:function(){this.currentActionIndex++;this.actions[this.currentActionIndex].call();},startConfirm:function(){var _119b=true;if(this.confirmMsg){_119b=confirm(this.confirmMsg);}this.processConfirmResult(_119b);},processConfirmResult:function(_119c){if(_119c===true){this.doNextAction();}},startClientAction:function(){var _119d=true;if(this.clientAction){if(typeof(this.clientAction)==="function"){_119d=this.clientAction.call();}}this.processClientActionResult(_119d);},processClientActionResult:function(_119e){this.doNextAction();},startServerAction:function(){if(this.serverAction){if(this.selectedItemList.length>0){__doPostBack(this.serverAction,this.selectedItemList);}}},startGetSelectedItems:function(){var _119f={key:"selectAll"};var _11a0=Sage.Services.getService("SelectionContextService");if(_11a0){_11a0.getSelectedIds(_119f,this.processGetSelectedItemsResult);}},processGetSelectedItemsResult:function(_11a1){this.selectedItemList=_11a1;this.doNextAction();},getCurrentUserId:function(){var _11a2="";var _11a3=Sage.Services.getService("ClientContextService");if(_11a3){_11a2=_11a3.getValue("userID");}return _11a2;},checkSecurityAccess:function(){var _11a4="none";if(this.securedAction.length>0){var _11a5=Sage.Services.getService("RoleSecurityService");_11a5.hasAccess(this.securedAction,function(_11a6){if(_11a6){_11a4="inline";}});}dojo.style(this.domNode,{"display":_11a4});}});return _1199;});},"Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportWizardController",["dojo/_base/declare","dojo/_base/array","dojo/i18n!./nls/CrystalReportWizardController","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/Crystal/CrystalReportParametersDialog","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog","Sage/MainView/ReportMgr/Common/ExportOptionsDialog","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/UI/Dialogs","dojo/topic","dojo/string"],function(_11a7,_11a8,_11a9,_11aa,_11ab,_11ac,_11ad,_11ae,_11af,topic,_11b0){var _11b1=_11a7("Sage.MainView.ReportMgr.CrystalReportWizardController",null,{_reportMetadata:null,wizardOptions:null,conditionOptions:null,parameterOptions:null,scheduleOptions:null,exportOptions:null,_mode:null,_nlsResources:_11a9,_subscriptions:[],_dialogIds:["dlgCrystalReportConditions","dlgCrystalReportParameters","dlgExportOptions"],constructor:function(_11b2,_11b3){if(!_11b2){return;}this._reportMetadata=_11b2;if(!this._reportMetadata.reportFilters){this._reportMetadata.reportFilters=[];}this.wizardOptions=_11b3.wizardOptions?_11b3.wizardOptions:this._getDefaultWizardOptions();this.conditionOptions=_11b3.conditionOptions?_11b3.conditionOptions:this._getDefaultConditionOptions();this.parameterOptions=_11b3.parameterOptions?_11b3.parameterOptions:this._getDefaultParameterOptions();this.scheduleOptions=_11b3.scheduleOptions?_11b3.scheduleOptions:this._getDefaultScheduleOptions();this.exportOptions=_11b3.exportOptions?_11b3.exportOptions:this._getDefaultExportOptions();var self=this;this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/nextStep",function(_11b4,_11b5){self._nextStep(_11b4,_11b5);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/previousStep",function(_11b6,_11b7){self._previousStep(_11b6,_11b7);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/cancel",function(_11b8,_11b9){self._cancel();}));this._mode="new";if(this.scheduleOptions&&this.scheduleOptions.trigger){this._mode="edit";}},startWizard:function(){if(this._hasDynamicParameters()){_11af.showError(this._nlsResources.txtDynamicParametersMessage,this._nlsResources.txtError);return;}var _11ba=this._getNextStep(_11aa.CrystalReportWizardStep.Init);this._goToStep(_11ba,null);},_nextStep:function(_11bb,_11bc){this._processCurrentStep(_11bb,_11bc);var _11bd=this._getNextStep(_11bb);this._goToStep(_11bd);},_previousStep:function(_11be,_11bf){this._processCurrentStep(_11be,_11bf);var _11c0=this._getPreviousStep(_11be);this._goToStep(_11c0);},_cancel:function(){var self=this;setTimeout(function(){self._destroyObjects();},dijit.defaultDuration+100);},_getDefaultWizardOptions:function(){return{hiddenSteps:[]};},_getDefaultConditionOptions:function(){return{conditions:[],conditionsConnector:_11aa.ReportConditionConnector.And};},_getDefaultParameterOptions:function(){return{parameters:[]};},_getDefaultScheduleOptions:function(){return{executionType:_11aa.ExecutionType.OnDemand,trigger:null};},_getDefaultExportOptions:function(){return{outputFormat:_11aa.ReportExportFormat.Pdf,runAsUserId:null};},_hasDynamicParameters:function(){var _11c1=false;_11a8.some(this._reportMetadata.parameters,function(_11c2,i){if(_11c2.isDynamic&&!_11c2.isOptionalPrompt){_11c1=true;return true;}});return _11c1;},_isStepVisible:function(step){var _11c3=true;if(this.wizardOptions&&this.wizardOptions.hiddenSteps){_11a8.some(this.wizardOptions.hiddenSteps,function(_11c4,i){if(step===_11c4){_11c3=false;return true;}});}if(!_11c3){return false;}switch(step){case _11aa.CrystalReportWizardStep.Parameters:return !!(this._reportMetadata.parameters&&this._reportMetadata.parameters.length>0);case _11aa.CrystalReportWizardStep.Conditions:return true;case _11aa.CrystalReportWizardStep.ExportOptions:return true;default:return true;}},_processCurrentStep:function(_11c5,_11c6){switch(_11c5){case _11aa.CrystalReportWizardStep.Conditions:this.conditionOptions=_11c6;break;case _11aa.CrystalReportWizardStep.Parameters:this.parameterOptions=_11c6;break;case _11aa.CrystalReportWizardStep.ExportOptions:this.exportOptions=_11c6.exportOptions;this.scheduleOptions=_11c6.scheduleOptions;break;}},_getNextStep:function(_11c7){for(var step in _11aa.CrystalReportWizardStep){var _11c8=_11aa.CrystalReportWizardStep[step];if(_11c8>_11c7&&this._isStepVisible(_11c8)){return _11c8;}}return null;},_getPreviousStep:function(_11c9){var _11ca=[];for(var step in _11aa.CrystalReportWizardStep){var _11cb=_11aa.CrystalReportWizardStep[step];_11ca.unshift(_11cb);}var self=this;var _11cc=null;_11a8.some(_11ca,function(_11cd,i){if(_11cd<_11c9&&self._isStepVisible(_11cd)){_11cc=_11cd;return true;}});return _11cc;},_goToStep:function(step){var _11ce=this._getNextStep(step);var _11cf=(_11ce===null||_11ce===_11aa.CrystalReportWizardStep.Finish);var _11d0=this._getPreviousStep(step);var _11d1=(_11d0===null||_11d0===_11aa.CrystalReportWizardStep.Init);var _11d2;var _11d3;switch(step){case _11aa.CrystalReportWizardStep.Conditions:_11d2=dijit.byId("dlgCrystalReportConditions");if(_11d2){_11d2.show();}else{_11d3={reportMetadata:this._reportMetadata,conditionOptions:this.conditionOptions,isLastStep:_11cf,isFirstStep:_11d1};_11d2=new _11ac(_11d3);_11d2.startup();_11d2.show();}break;case _11aa.CrystalReportWizardStep.Parameters:_11d2=dijit.byId("dlgCrystalReportParameters");if(_11d2){_11d2.show();}else{_11d3={reportMetadata:this._reportMetadata,parameters:this.parameterOptions.parameters,isLastStep:_11cf,isFirstStep:_11d1};_11d2=new _11ab(_11d3);_11d2.startup();_11d2.show();}break;case _11aa.CrystalReportWizardStep.ExportOptions:_11d2=dijit.byId("dlgExportOptions");if(_11d2){_11d2.show();}else{_11d3={reportMetadata:this._reportMetadata,isLastStep:_11cf,isFirstStep:_11d1,scheduleOptions:this.scheduleOptions,exportOptions:this.exportOptions};_11d2=new _11ad(_11d3);_11d2.startup();_11d2.show();}break;case _11aa.CrystalReportWizardStep.Finish:this._finishWizard();break;}},_finishWizard:function(){this._destroyObjects();switch(this._mode){case"new":switch(this.scheduleOptions.executionType){case _11aa.ExecutionType.Scheduled:this._scheduleReport();break;case _11aa.ExecutionType.OnDemand:this._runReport();break;}break;case"edit":this._updateSchedule();break;}},_destroyObjects:function(){_11a8.forEach(this._dialogIds,function(_11d4,i){var _11d5=dijit.byId(_11d4);if(_11d5){_11d5.destroyRecursive();}});_11a8.forEach(this._subscriptions,function(_11d6,i){_11d6.remove();});},_getJobParameters:function(){var _11d7=[];_11d7.push({name:"PluginFamily",value:this._reportMetadata.family});_11d7.push({name:"PluginName",value:this._reportMetadata.name});_11d7.push({name:"TemplateName",value:this._reportMetadata.displayName});_11d7.push({name:"ReportConditions",value:this.conditionOptions.conditions});_11d7.push({name:"ConditionsConnector",value:this.conditionOptions.conditionsConnector});if(this.conditionOptions.recordSelectionFormula){_11d7.push({name:"RecordSelectionFormula",value:this.conditionOptions.recordSelectionFormula});}_11d7.push({name:"ReportParameters",value:this.parameterOptions.parameters});var _11d8=this.exportOptions.description?this.exportOptions.description:this._reportMetadata.displayName;_11d7.push({name:"ScheduleName",value:_11d8});_11d7.push({name:"OutputFormat",value:this.exportOptions.outputFormat});if(this.exportOptions.runAsUserId){_11d7.push({name:"RunAsUserId",value:this.exportOptions.runAsUserId});}return _11d7;},_getJobOptions:function(){var _11d9=this._getJobParameters();var _11da=(dojo.isString(this.exportOptions.description)&&(this.exportOptions.description!==""))?this.exportOptions.description:this._reportMetadata.displayName;var _11db=dojo.date.locale.format(new Date(),{selector:"date",datePattern:"yyyy_MM_dd_hhmm"});var user="";var usr;if(typeof this.exportOptions.runAsUserId==="string"){usr=_11ae.getUser(this.exportOptions.runAsUserId);if(usr){user=usr.UserName;}}else{usr=_11ae.getUser(_11ae.getCurrentUser().userID);if(usr){user=usr.UserName;}}var _11dc=_11b0.substitute("${0}_${1}_${2}",[_11da,user,_11db]);var _11dd={descriptor:_11dc,closable:true,reportType:_11aa.ReportTypes.CrystalReport,parameters:_11d9,title:_11da,success:function(_11de){},failure:function(_11df){}};return _11dd;},_scheduleReport:function(){var _11e0=this._getJobOptions();_11e0.cronExpression=this.scheduleOptions.cronExpression;_11e0.descriptor=this.scheduleOptions.scheduleDescription;_11e0.startTime=this.scheduleOptions.startTime;_11e0.endTime=this.scheduleOptions.endTime;_11e0.success=function(){_11af.showInfo(_11a9.txtReportSuccessfullyScheduled,_11a9.dlgScheduleReport_Title);};var _11e1=Sage.Services.getService("ReportingService");_11e1.scheduleReport(_11e0);},_runReport:function(){var _11e2=this._getJobOptions();var _11e3=Sage.Services.getService("ReportingService");_11e3.runReport(_11e2);},_updateSchedule:function(){var _11e4=this._getJobOptions();_11e4.cronExpression=this.scheduleOptions.cronExpression;_11e4.descriptor=this.scheduleOptions.scheduleDescription;_11e4.startTime=this.scheduleOptions.startTime;_11e4.endTime=this.scheduleOptions.endTime;_11e4.success=function(){_11ae.refreshList("schedules");_11af.showInfo(_11a9.txtScheduleSuccessfullyUpdated,_11a9.dlgScheduleReport_Title);};_11e4.closable=true;_11e4.key=this.scheduleOptions.trigger.$key;_11e4.descriptor=this.scheduleOptions.scheduleDescription;var _11e5=Sage.Services.getService("ReportingService");_11e5.updateSchedule(_11e4);}});return _11b1;});},"Sage/QuickForms/Design/Editors/nls/FormAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_11e6,lang){var nls={root:{titleText:"Advanced",generalText:"General",useEntityNameAsTitleText:"Use Entity Name As Title:",useEntityNameAsTitleTooltipText:"Use name of current entity in form title."}};return lang.mixin(_11e6,nls);});},"Sage/MainView/ActivityMgr/nls/EventListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/EventListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_11e7,lang){var nls={root:{colNameType:"Type",colNameStartDate:"Start Date",colNameEndDate:"End Date",colNameDescription:"Description",colNameUser:"User",colNameLocation:"Location"}};return lang.mixin(_11e7,nls);});},"url:Sage/MainView/IntegrationContract/templates/AdvancedSearchOptions.html":"[\r\n'<div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.searchOptionsHeader %}',\r\n            '<span class=\"boldtext\">{%= $.configOptions.targetAccount %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.searchOptionsText %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:136px\">{%= $.operatorText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:118px\">{%= $.searchText %}</label>',\r\n    '</div>',\r\n    '<div dojoAttachPoint=\"conditionContainer\" style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').refineSearchObject.getSelections();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').hide();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/Extensions/Activity/ListPanelOverrides/nls/AllOpenListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/nls/AllOpenListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_11e8,lang){var nls={root:{colNameAssociationCount:"Participant Count"}};return lang.mixin(_11e8,nls);});},"Sage/QuickForms/Design/GenericControlDesigner":function(){define("Sage/QuickForms/Design/GenericControlDesigner",["dojo/string","dojo/_base/declare","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/GenericBasicPropertyEditor","./Editors/GenericAdvancedPropertyEditor","dojo/i18n!./nls/GenericControlDesigner"],function(_11e9,_11ea,lang,_11eb,_11ec,_11ed,_11ee,_11ef,_11f0,_11f1,_11f2){return _11ea("Sage.QuickForms.Design.GenericControlDesigner",[_11ec,_11ed,_11eb,_11ee],{designSupport:{visible:true},editors:[_11f0,_11f1,_11ef],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div data-dojo-attach-point="containerNode">','<span data-dojo-attach-point="designCaptionNode"></span>',"</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},helpTopicName:"visual_control",displayNameText:"Unknown",constructor:function(){lang.mixin(this,_11f2);},_setControlIdAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},getFormattedType:function(){var type=lang.getObject("$type",false,this.entry)||this.displayNameText,name=(type.indexOf(", ")!==-1)?type.split(", ")[0]:type,parts=(type.indexOf(".")!==-1)?name.split("."):[name];return parts[parts.length-1];},startup:function(){this.inherited(arguments);this.displayNameText=this.getFormattedType();this.set("designCaption",this.get("controlId"));this.applyVisibility();}});});},"Sage/MainView/ActivityMgr/BaseListPanelConfig":function(){define("Sage/MainView/ActivityMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_11f3,_11f4,Menu,_11f5,_11f6,_11f7,_11f8,_11f9,_11fa){var _11fb=_11fa("Sage.MainView.ActivityMgr.BaseListPanelConfig",[_11f3],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_service:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_schedeContextMenu:false,_activityService:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){this._nlsResources=_11f8;this._service=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");this._activityService=Sage.Services.getService("ActivityService");var _11fc=Sage.Services.getService("ClientContextService");if(_11fc){if(_11fc.containsKey("userID")){this._currentUserId=_11fc.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_onListRefresh:function(event){var _11fd=Sage.Services.getService("ActivityService");_11fd.refreshList();},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _11fe={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext};return _11fe;},_getStore:function(){var store=new _11f4({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _11ff=[];return _11ff;},_getInclude:function(){var _1200=[];return _1200;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _1201=[];return _1201;},_getSummaryConfig:function(){var store=new _11f4({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _1202=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _1203=this._getFormatterScope();var _1204={structure:_1202,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_1203};return _1204;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _1205={items:[]};return _1205;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return[];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return[];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _1206=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_1206.length;for(var i=0;i<len;i++){var mDef=_1206[i];if(mDef.id===this._contextMenu){this._buildChildMenu(mDef.submenu,null);}else{if(mDef.id===this._scheduleContextMenu){var _1207=new _11f6();this._menuItems.push(_1207);var _1208=new Menu();var _1209=new _11f5({label:mDef.text,popup:_1208});this._buildChildMenu(mDef.submenu,_1208);this._menuItems.push(_1209);}}}return this._menuItems;},_getGridMenu:function(){var _120a=dijit.byId("_listContextmenu");return _120a;},_buildChildMenu:function(_120b,_120c){var len=_120b.length;for(var i=0;i<len;i++){var mDef=_120b[i];if(mDef.submenu.length>0){var _120d=new Menu();this._buildChildMenu(mDef.submenu,_120d);var _120e=new _11f5({label:mDef.text,popup:_120d});if(_120c){_120c.addChild(_120e);}else{this._menuItems.push(_120e);}}else{var _120f=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_120f=new _11f6();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_120f=new _11f7({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_120c){_120c.addChild(_120f);}else{this._menuItems.push(_120f);}}}},_onListContext:function(){},getFilterConfig:function(_1210,entry,_1211){var _1212=this._service;var _1213=_1210;var _1214=this.entityName;var _1215=this._resourceKind;var where=this._where;var _1216={};_1216["groupId"]=this._listId;_1216["store"]=new _11f4({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_1213).setResourceKind("entities").setResourceSelector('"'+_1214+'"').setResourceProperty("filters").setQueryArg("where",'filterType ne "analyticsMetric"').setQueryArg("count",20)});_1216["createStoreForFilter"]=function(_1217){return _1217&&_1217["filterName"]?new _11f4({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_1212).setResourceKind(_1215).setResourceProperty("$queries/executeMetric").setQueryArg("_filterName",_1217["filterName"]).setQueryArg("orderby","displayName").setQueryArg("_activeFilter",where)}):null;};_1216["getFilterManager"]=function(){var _1218=_11f9.byId("list");return _1218&&_1218.get("filterManager");};return _1216;},getTimelessProperty:function(_1219){return false;}});return _11fb;});},"Sage/MainView/ReportMgr/Crystal/nls/MultiselectNumberParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/MultiselectNumberParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_121a,lang){var nls={root:{txtPleaseSpecifyNumberBetween:"Please specify a numeric value between {0} and {1}.",txtPleaseSpecifyNumberLesser:"Please specify a numeric value less than or equal to {0}.",txtPleaseSpecifyNumberGreater:"Please specify a numeric value greater than or equal to {0}.",txtPleaseSpecifyValue:"Please specify a numeric value.",lblAvailableValues_Caption:"Available Values:",lblSelectedValues_Caption:"Selected Values:",lblEnterValue_Caption:"Enter a Value:"}};return lang.mixin(_121a,nls);});},"Sage/UI/Columns/CheckBox":function(){define("Sage/UI/Columns/CheckBox",["dojo/_base/declare"],function(_121b){var _121c=_121b("Sage.UI.Columns.CheckBox",dojox.grid.cells.Bool,{formatter:function(value,_121d,cel){var _121e=(value===true||value===1)?'<input type="checkbox" checked="checked" disabled="disabled" />':'<input type="checkbox" disabled="disabled" />';return _121e;}});return _121c;});},"Sage/UI/TitleContentPane":function(){define("Sage/UI/TitleContentPane",["dijit/MenuSeparator","dijit/Menu","dijit/layout/ContentPane","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuBar","dijit/MenuBarItem","Sage/UI/PopupMenuBarItem","dojox/grid/DataGrid","Sage/UI/OrientableMenuBar","Sage/UI/GridMenuItem","Sage/UI/ImageButton","Sage/Utility","Sage/Groups/GroupContextService","Sage/Data/BaseSDataStore","Sage/UI/GroupsTitlePaneConfigProvider","dojo/dom-style","dojo/_base/array","dojo/dom-class","dojo/_base/declare","dojo/_base/lang"],function(_121f,Menu,_1220,_1221,_1222,_1223,_1224,_1225,_1226,_1227,_1228,_1229,_122a,_122b,_122c,_122d,_122e,array,_122f,_1230,lang){var _1231=_1230("Sage.UI.TitleContentPane",_1220,{started:false,_configurationProvider:null,_configuration:{},_titleFmtString:"${0}",_groupMenuBar:false,_groupMenu:false,title:false,tabConnects:null,startup:function(){this.inherited(arguments);var _1232,mode=_122a.getModeId();if(typeof mode==="string"&&mode.toLowerCase()==="list"){_1232=dojo.subscribe("/listView/applyConfiguration",lang.hitch(this,function(){dojo.disconnect(_1232);this._doStartup();}));}else{this._doStartup();}},_doStartup:function(){if(this.started){return;}this.tabConnects=[];if(this._configurationProvider===null){var eCtx=Sage.Services.getService("ClientEntityContext");if(eCtx){var c=eCtx.getContext();if(c["IsGroupsBasedEntity"]){this._configurationProvider=new _122d();}}}if(this._configurationProvider!==null){var _1233=dojo.create("div",{"id":"GroupMenuSpace","class":"GroupButton"});dojo.place(_1233,this.domNode);dojo.connect(this._configurationProvider,"onTitlePaneConfigurationChange",this,"resetConfiguration");this._configurationProvider.requestTitlePaneConfiguration({scope:this,success:function(_1234){this._setConfiguration(_1234);this.started=true;}});}else{this._hideEmptyTabBar();}},_resize:function(){var tabs=dijit.byId("GroupTabs");tabs.resize();},_setConfiguration:function(_1235){this._configuration=_1235;if(this._configuration){if(this._configuration.menu){this._addMenu(this._configuration.menu);}if(this._configuration.tabs){this._showTabBar();this._addTabs(this._configuration.tabs);}else{this._hideEmptyTabBar();}if(this._configuration.titleFmtString){this._titleFmtString=this._configuration.titleFmtString;}}},resetConfiguration:function(){var tabs=dijit.byId("GroupTabs");if(tabs){array.forEach(this.tabConnects,function(_1236){dojo.disconnect(_1236);});this.tabConnects=[];try{tabs.removeChildren();}catch(err){console.error(err);}}this.started=false;this._doStartup();},_setTitleAttr:function(title){dojo.html.set(dojo.byId("PageTitleText"),dojo.string.substitute(this._titleFmtString,[title]));},_setConfigurationProviderAttr:function(_1237){this._configurationProvider=_1237;this._doStartup();this._resize();},_addMenu:function(_1238){if(_1238){if(this._groupMenu){return;}this._groupMenuBar=new _1227({id:"groupMenuBar",title:_1238.tooltip,orientation:{"BR":"TR","BL":"TL"},baseClass:"group-menu-bar"});_122f.remove(this._groupMenuBar.containerNode,"dijitMenuBar");this._groupMenu=new Menu({id:"groupMenu",style:{width:_1238.width||"350px"}});this._addItemsToMenu(this._groupMenu,_1238.items);this._groupMenuBar.addChild(new _1225({label:_1238.text||"...",icon:_1238.img||this._blankGif,imageClass:_1238.imageClass||"",baseClass:"group-menu-button",id:_1238.id||Sage.guid("groupMenuItem"),popup:this._groupMenu,style:"width:80px"}));this._groupMenuBar.placeAt("GroupsWrapper","before");this._groupMenuBar.startup();var svc=Sage.Services.getService("RoleSecurityService");if(svc.hasAccess("Entities/Group/Add")){var _1239=new _1229({id:"addGroupButton",imageClass:"icon_plus_16x16",title:_1238.addGroupTooltip,onClick:function(){Sage.Groups.GroupManager.CreateGroup();}});_1239.placeAt("GroupsWrapper","before");_1239.startup();}}},_addItemsToMenu:function(menu,items){var len=items.length,itm;for(var i=0;i<len;i++){itm=items[i];if(itm.fn){menu.addChild(itm.fn.call(itm.scope||this));}else{if(itm.items&&itm.items.length>0){var _123a=new Menu({parentMenu:menu,id:itm.id+"_submenu"});this._addItemsToMenu(_123a,itm.items);menu.addChild(new _1221({label:itm.text||"...",icon:itm.img||this._blankGif,title:itm.tooltip||"",popup:_123a,id:itm.id}));}else{if(itm.isSeparator||itm.text==="-"){menu.addChild(new _121f());}else{menu.addChild(new _1221({label:itm.text||"...",icon:itm.img||this._blankGif,title:itm.tooltip||"",id:itm.id,onClick:itm.onClick||function(){document.location=itm.href;}}));}}}}},_addTabs:function(_123b){try{var _123c={selectedTabId:"",tabKeyProperty:"$key",tabNameProperty:"$descriptor",tabGroupNameProperty:"name",tabFamilyProperty:"family",tabHiddenProperty:false};dojo.mixin(_123c,_123b);if(_123c){var tabs=dijit.byId("GroupTabs");tabs.startup();var blank=this._blankGif;var _123d=typeof _123c.onTabClose==="function";var _123e;if(_123c.staticTabs){var len=_123c.staticTabs.length;for(var i=0;i<len;i++){var t=_123c.staticTabs[i];var tabId=t[_123c.tabKeyProperty];var sTab=dijit.byId(tabId)||new _1220({id:tabId,title:t[_123c.tabNameProperty],closable:true,dataItem:t,onClose:function(){return false;}});var child=tabs.addChild(sTab);if(_123c.selectedTabId===tabId){tabs.selectChild(sTab);}var _123f=dijit.byId(dojo.string.substitute("GroupTabs_tablist_${0}_Menu",[t[_123c.tabKeyProperty]]));_123f.destroyDescendants();if(_123f&&_123c.showTabContextMenus&&t["contextMenuItems"]){_123e=t["contextMenuItems"];for(var x=0;x<_123e.length;x++){var mItem=_123e[x];if(mItem.isspacer||mItem.text===""){_123f.addChild(new _121f());}else{var href=mItem.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}('${1}','${2}','${3}');",[href,t[_123c.tabKeyProperty],t[_123c.tabNameProperty],t[_123c.tabFamilyProperty]]);}else{var _1240={"groupId":t[_123c.tabKeyProperty],"groupName":t[_123c.tabNameProperty],"family":t[_123c.tabFamilyProperty]};href=dojo.string.substitute(href,_1240);}var _1241=t[_123c.tabFamilyProperty]+"_LOOKUP_"+x;var _1242=new _1221({id:_1241,label:mItem.text||"...",icon:mItem.img||blank,title:mItem.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});_123f.addChild(_1242);}}}}}if(_123c.lookupButton){_123c.lookupButton.startup();dojo.place(_123c.lookupButton.domNode,tabs.domNode,"before");}var _1243=_122a.getClientContextByKey("userID");var _1244={onComplete:function(data){var _1245,i,_1246=[],_1247,_1248=[],tabId;for(i=0;i<data.length;i++){_1245=data[i];if(_123c.tabHiddenProperty&&_1245[_123c.tabHiddenProperty]===true){continue;}tabId=_1245[_123c.tabKeyProperty];var aTab=dijit.byId(tabId)||new _1220({id:tabId,title:_1245[_123c.tabNameProperty],closable:_123d,dataItem:_1245});_1246.push(aTab);if(_123c.selectedTabId===_1245[_123c.tabKeyProperty]){_1247=aTab;}_1248.push((function menuFunction(_1249,_124a){var tabId=_1249[_123c.tabKeyProperty];return function(){var _124b=dijit.byId(dojo.string.substitute("GroupTabs_tablist_${0}_Menu",[_1249[_123c.tabKeyProperty]])),_124c=false,_124d=false,_124e=_124a.trim()==="ADMIN";if(_1249.userId!==_124a){_124d=true;}else{_124d=false;}if(!_124b){return;}_124b.destroyDescendants();if(Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus.groupTabContextMenu){var _124f=Sage.UI.DataStore.ContextMenus.groupTabContextMenu.items;for(var mi=0;mi<_124f.length;mi++){var mItem=_124f[mi];if((mItem.id==="gtcDelete"&&_124d&&!_124e)||(mItem.id==="gtcShare"&&_124d)){_124c=true;}else{_124c=false;}if(mItem.isspacer||mItem.text===""){_124b.addChild(new _121f());}else{var href=mItem.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}('${1}','${2}','${3}');",[href,_1249[_123c.tabKeyProperty],(_1249[_123c.tabGroupNameProperty]||_1249[_123c.tabNameProperty]),_1249[_123c.tabFamilyProperty]]);}else{var _1250={"groupId":_1249[_123c.tabKeyProperty],"groupName":_1249[_123c.tabNameProperty]||_1249[_123c.tabGroupNameProperty],"family":_1249[_123c.tabFamilyProperty]};href=dojo.string.substitute(href,_1250);}_124b.addChild(new _1221({id:tabId+"_tab_"+mi,label:mItem.text||"...",icon:mItem.img||blank,title:mItem.tooltip||"",ref:href,disabled:_124c,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}}));}}}};})(_1245,_1243));}dojo.connect(tabs,"onAddChildrenComplete",this,function(start,end){for(var i=start;i<end;i++){if(_1248[i]){_1248[i].call();_1248[i]=null;}}if(_1247){tabs.selectChild(_1247);_1247=null;}});tabs.addChildren(_1246,_1247);}};dojo.mixin(_1244,_123c.fetchParams);if(_123c.store){_123c.store.fetch(_1244);}if(_123c.onTabClick){this.tabConnects.push(dojo.connect(tabs,"onClick",_123c,"onTabClick",true));}if(_123c.onTabSelect){this.tabConnects.push(dojo.connect(tabs,"selectChild",_123c,"onTabSelect"));}if(_123d){this.tabConnects.push(dojo.connect(tabs,"closeChild",_123c,"onTabClose"));}}else{this._hideEmptyTabBar();}}catch(err){console.error(err);}},_hideEmptyTabBar:function(){var tabs=dijit.byId("GroupTabs");if(tabs){if(dojo.byId("localTitle").style.display!="none"){_122e.set(this.domNode,"height","37px");}else{_122e.set(this.domNode,"display","none");}this.getParent().layout();tabs.set("style","display:none");}},_showTabBar:function(){var tabs=dijit.byId("GroupTabs");if(tabs){if(dojo.byId("localTitle").style.display!="none"){_122e.set(this.domNode,"height","67px");}else{_122e.set(this.domNode,"display","none");}tabs.domNode.style.display="block";this.getParent().layout();}}});return _1231;});},"Sage/MainView/ReportMgr/Crystal/NumberParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/NumberParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divSingleValue" style="padding-top: 5px;">\r\n            <select data-dojo-type="dijit.form.Select" dojoattachpoint="cmbValues" style="width: 150px">\r\n            </select>                    \r\n        </div>\r\n\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px;">\r\n            <input type="text" dojoType="Sage.UI.Controls.Numeric" dojoAttachPoint="txtCustomValue" style="width:150px" />            \r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/NumberParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/number","dojo/i18n!./nls/NumberParameterEditor","dojo/text!./templates/NumberParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","Sage/UI/Controls/Numeric","Sage/Utility"],function(_1251,_1252,_1253,_1254,_1255,_1256,_1257,_1258,_1259,_125a,_125b){var _125c=_125b.makeTemplateFromString(_1255);var _125d=_1251("Sage.MainView.ReportMgr.Crystal.NumberParameterEditor",[_1256],{widgetTemplate:_125c,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var self=this;this._promptParameter.currentValues=[];var _125e=this._getCurrentValue();if(_125e){var _125f=self._getParameterValue(_125e);self._promptParameter.currentValues.push(_125f);}return this._promptParameter;},constructor:function(_1260){},startup:function(){this.inherited(arguments);this.txtCustomValue.focusNode.textbox.value="";_1257.setDomNodeVisible(this.divValidationMessage,false);_1257.setDomNodeVisible(this.divSingleValue,false);_1257.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);if(this._values.length>0){_1257.setDomNodeVisible(this.divSingleValue,true);this._initializeValuesDropdown();}else{if(this._initialValues&&this._initialValues.length>0){this.txtCustomValue.focusNode.textbox.value=this._initialValues[0].value;}}this._initializeMessages();},isValid:function(){var valid=true;var msg="";if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){var _1261=this._getCurrentValue();if(_1261===null){msg=_1254.txtPleaseSpecifyValue;valid=false;}else{if(!this._valueWithinMinMaxRange(_1261)){msg=this._getMinMaxValidationMessage(_1261);valid=false;}}}else{valid=true;}this._showValidationMessage(msg);return valid;},_initializeMessages:function(){var _1262=null;if(this._minimum&&!this._maximum){_1262=dojo.replace(_1254.txtPleaseSpecifyNumberGreater,[this._minimum]);}if(!this._minimum&&this._maximum){_1262=dojo.replace(_1254.txtPleaseSpecifyNumberLesser,[this._maximum]);}if(this._minimum&&this._maximum){_1262=dojo.replace(_1254.txtPleaseSpecifyNumberBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_1262);_1257.setDomNodeVisible(this.divMinMaxMessage,(_1262!==null));},_valueWithinMinMaxRange:function(_1263){if(this._minimum&&(_1263<this._minimum)){return false;}if(this._maximum&&(_1263>this._maximum)){return false;}return true;},_getMinMaxValidationMessage:function(_1264){var _1265="";if(this._minimum&&(_1264<this._minimum)){_1265=dojo.replace(_1254.txtPleaseSpecifyNumberGreater,[this._minimum]);return _1265;}if(this._maximum&&(_1264>this._maximum)){_1265=dojo.replace(_1254.txtPleaseSpecifyNumberLesser,[this._maximum]);return _1265;}return"";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_1257.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getCurrentValue:function(){var _1266=this.txtCustomValue.focusNode.textbox.value;if(dojo.isString(_1266)&&_1266!==""){return _1253.parse(_1266);}else{var _1267=this.cmbValues.get("value");if(_1267!==null&&_1267!==""&&_1267!=="-1"){var value=this._getOriginalParameterValue(_1267);return _1253.parse(value.discreteValue.actualValue);}}return null;},_getParameterValue:function(_1268){var _1269={className:"CrystalReports.ParameterFieldDiscreteValue",description:null,discreteValue:{actualValue:_1268,actualValueType:"Int32",value:_1268,valueType:"Int32"}};return _1269;},_initializeValuesDropdown:function(){var items=dojo.clone(this._values);if(this._initialValues.length===0){items.unshift({_id:"-1",description:"..."});}var data={identifier:"_id",label:"description",items:items};var store=new _1258({data:data});this.cmbValues.setStore(store);this.cmbValues.startup();var self=this;_1252.some(this._initialIds,function(_126a,i){self.cmbValues.attr("value",_126a);return true;});}});return _125d;});},"Sage/UI/nls/ActivityScheduler":function(){define("Sage/UI/nls/ActivityScheduler",["Sage/LanguageList","dojo/_base/lang"],function(_126b,lang){var nls={root:{tooltipTime:"Time",tooltipContactName:"Contact",tooltipAccountName:"Account",tooltipCompanyName:"Company",tooltipLeadName:"Lead",tooltipPhoneNumber:"Phone",tooltipRegarding:"Regarding",tooltipPriority:"Priority",tooltipNotes:"Notes",tooltipType:"Type",tooltipDayType:"Day Type",tooltipStartDate:"Start Date",tooltipEndDate:"End Date",tooltipLocation:"Location",tooltipDescription:"Description",completedText:"(Completed)",tooltipMoreActivities:"Click for more activities",scheduler_dates:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},scheduler_labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",workweek_tab:"Work week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda"}}};return lang.mixin(_126b,nls);});},"Sage/MainView/nls/SecurityManager":function(){define("Sage/MainView/nls/SecurityManager",["Sage/LanguageList","dojo/_base/lang"],function(_126c,lang){var nls={root:{accessText:"Access",columnText:"Column",entityText:"Entity",noAccessText:"No Access",profilesText:"Profiles",propertyText:"Property",securityManagerText:"Security Manager",readOnlyText:"Read Only",readWriteText:"Read Write",resetText:"Reset",saveText:"Save",tableText:"Table"}};return lang.mixin(_126c,nls);});},"url:Sage/templates/GridMenuItem.html":'<tr class="dijitGridMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\n\t<td class="dijitReset dijitMenuItemLabel" colspan="4" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation" style="display:none">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="display:none">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n    <td class="dijitReset dijitMenuItemIconCell" role="presentation" style="display:none">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n</tr>\n',"Sage/TaskPane/nls/ActivityTaskConfigurationProvider":function(){define("Sage/TaskPane/nls/ActivityTaskConfigurationProvider",["Sage/LanguageList","dojo/_base/lang"],function(_126d,lang){var nls={root:{scheduleText:"Schedule",eventText:"Event",phoneCallText:"Phone Call",toDoText:"To-Do",meetingText:"Meeting",personalActivityText:"Personal Activity",deleteConfirmationText:"Delete Confirmation",acceptConfirmationText:"Accept Confirmation",declineConfirmationText:"Decline Confirmation",completeActivityText:"Complete Activity",deleteActivityText:"Delete Activity",deleteEventText:"Delete Event",scheduleEventText:"Schedule Event",scheduleRequestText:"Schedule Request",deleteRequestText:"Delete Request",recordsSelectedText:"record(s) selected",clearText:"Clear"}};return lang.mixin(_126d,nls);});},"Sage/Data/WritableStore":function(){define("Sage/Data/WritableStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_126e,_126f,_1270,lang){var _1271=_1270("Sage.Data.WritableStore",_126e,{isInsertMode:false,constructor:function(o){lang.mixin(this,o);this.features["dojo.data.api.Write"]=true;this.features["dojo.data.api.Notification"]=true;this.identityAttributes=["$cacheID"];this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;if(!o.hasOwnProperty("isInsertMode")){this.isInsertMode=_126f.getModeId()==="insert";}},entry:"",fetch:function(_1272){var items={};items.$resources=[];if(_1272.isRender&&this.dataCarrierId){var _1273=dojo.query([".",this.dataCarrierId].join(""));if(_1273[0].value.length>0){var _1274=dojo.fromJson(_1273[0].value);this.addItemsToCache(_1272,_1274.$resources);}}for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){items.$resources.push(this.dataCache[item]);}}this.setContext(_1272);this.verifyService();if(this.isInsertMode){var self=this;window.setTimeout(function(){self.onSuccess(_1272,items);},5);return;}var _1275=new Sage.SData.Client.SDataResourceCollectionRequest(this.service).setResourceKind(this.resourceKind).setStartIndex(_1272.start+1).setCount(_1272.count);var qry="";if(this.query){if(!_1272.query){_1272.query={};}lang.mixin(_1272.query,this.query);}if(_1272.query){if(typeof _1272.query==="function"){qry=_1272.query();}else{if(typeof _1272.query==="string"){qry=_1272.query;}else{if(typeof _1272.query==="object"){if(_1272.query.hasOwnProperty("fn")){qry=_1272.query.fn.call(_1272.query.scope||this);}if(_1272.query.hasOwnProperty("conditions")){if(typeof _1272.query.conditions==="string"){qry+=(qry.length>0)?" and "+_1272.query.conditions:_1272.query.conditions;}}}}}}_1272.evaluatedQuery=qry||"";if(qry&&qry!==""){_1275.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_1275.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_1275.setQueryArg("include",this.include.join(","));}var key=_1275.read({success:lang.hitch(this,this.onSuccess,_1272),failure:lang.hitch(this,this.onFailure,_1272)});return{abort:lang.hitch(this,this.abortRequest,key)};},onSuccess:function(_1276,feed){if(this.entry===""){this.entry=feed;}if(_1276.onBegin){_1276.onBegin.call(_1276.scope||this,feed.$resources.length,_1276);}if(_1276.onComplete){_1276.onComplete.call(_1276.scope||this,feed.$resources,_1276);}},addToCache:function(_1277,item,count){var key;count=(typeof count==="undefined")?(Math.random()*11):count;if(this.isInsertMode){item.$cacheID=new Date().getTime()+count;}key=this.getIdentity(item);this.dataCache[key]=item;},addItemsToCache:function(_1278,items){for(var i=0;i<items.length;i++){this.addToCache(_1278,items[i],i);}},clearCache:function(){this.inherited(arguments);this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_1279){var id=this.getIdentity(_1279);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_127a){return this.isItem(_127a);},loadItem:function(_127b){if(!this.isItem(_127b.item)){throw new Error("Unable to load "+_127b.item);}},getValues:function(item,_127c){if(this.isItem(item)&&(typeof _127c==="string")){return(item[_127c]||[]).slice(0);}return[];},hasAttribute:function(item,_127d){if(this.isItem(item)&&(typeof _127d==="string")){return _127d in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,scope){var id=this.getIdentity(item);if(id&&id!==""){delete this.dataCache[id];}var _127e={};_127e.scope=scope||this;var _127f=function(){if(typeof this.onResponse==="function"){this.onResponse.call(this);}};_127e.success=_127f;_127e.success.call(_127e.scope);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},newItem:function(args){var _1280=this.createTemplateRequest();if(_1280){_1280.read({success:function(entry){if((args)&&(args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,entry);}},failure:this.requestTemplateFailure,scope:this});}},createTemplateRequest:function(){var _1281=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_1281.setResourceKind(this.resourceKind);}return _1281;},requestTemplateFailure:function(){},saveNewEntity:function(_1282,_1283,_1284,scope){this.addToCache(scope,_1282);_1283();},createItem:function(item,scope){var _1285={};_1285.scope=scope||this;_1285.scope.store=this;var _1286=function(_1287){if(typeof this.onResponse==="function"){this.onResponse.call(this,_1287);}};_1285.success=_1286;this.addToCache(scope,item);_1285.success.call(_1285.scope,item);},revert:function(){this.clearDirtyDataCache();this.onDataReset();},setValue:function(item,_1288,value){var _1289=this.getValue(item,_1288,"");_126f.setValue(item,_1288,value);this.onSet(item,_1288,_1289,value);return true;},setValues:function(item,_128a,_128b){alert("not implemented - setValues");},unsetAttribute:function(item,_128c){alert("not implemented - unsetAttribute");},dataCacheToArray:function(){var _128d=[];for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){_128d.push(this.dataCache[item]);}}return _128d;},onDataChange:function(){this.clearDirtyDataCache();var _128e=dojo.query([".",this.dataCarrierId].join(""));if(_128e[0]){this.entry.$resources=this.dataCacheToArray();_128e[0].value=JSON.stringify(this.entry);}},onSet:function(item,_128f,_1290,_1291){},onNew:function(_1292,_1293){},onDelete:function(_1294){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_1295,_1296){},onItemNotSaved:function(_1297,error){}});return _1271;});},"Sage/QuickForms/Design/Editors/CurrencyAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CurrencyAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CurrencyAdvancedPropertyEditor"],function(_1298,lang,_1299,_129a,_129b,_129c,_129d,_129e,_129f,_12a0,_12a1){return _1298("Sage.QuickForms.Design.Editors.CurrencyAdvancedPropertyEditor",[_1299,_129f,_129e],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.displayModeTooltipText %}">',"<label>{%= $.displayModeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_displayMode" data-dojo-attach-event="onChange:_onDisplayModeChange">',"{% for (var type in $.displayTypeText) { %}",'<span value="{%= type %}">{%= $.displayTypeText[type] %}</span>',"{% } %}","</div>","</div>",'<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.decimalDigitsTooltipText %}">',"<label>{%= $.decimalDigitsText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_decimalDigits" data-dojo-props="constraints:{min:-1,max:100,places:0}" data-dojo-attach-event="onChange:_onDecimalDigitsChange"></div>',"</div>",'<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.maxLengthTooltipText %}">',"<label>{%= $.maxLengthText %}</label>",'<div data-dojo-attach-point="_maxLength" data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-event="onChange:_onMaxLengthChange" data-dojo-props="constraints:{min:-1,places:0}"></div>',"</div>",'<div class="editor-field" title="{%= $.requiredTooltipText %}">',"<label>{%= $.requiredText %}</label>",'<div data-dojo-attach-point="_required" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onRequiredChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.exchangeRateTypeTooltipText %}">',"<label>{%= $.exchangeRateTypeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_exchangeRateType" data-dojo-attach-event="onChange:_onExchangeRateTypeChange">',"{% for (var rate in $.exchangeTypeText) { %}",'<span value="{%= rate %}">{%= $.exchangeTypeText[rate] %}</span>',"{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlId:null,_controlLabelPlacement:null,_controlType:null,_decimalDigits:null,_defaultDataBinding:null,_displayCurrencyCode:null,_displayMode:null,_enabled:null,_exchangeRateType:null,_maxLength:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",exchangeRateTypeText:"Exchange Rate Type:",exchangeRateTypeTooltipText:"Type of exchange rate to show in currency fields.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",displayTypeText:{"AsHyperlink":"As Hyperlink","AsControl":"As Control","AsText":"As Text"},exchangeTypeText:{"BaseRate":"Base Rate","OpportunityRate":"Opportunity Rate (Deprecated)","MyRate":"My Rate","SalesOrderRate":"Sales Order Rate (Deprecated)","EntityRate":"Entity Rate"},labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_12a1);},setup:function(){this.inherited(arguments);this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._controlType.set("value",this._designer.get("controlName"));this._decimalDigits.set("value",this._designer.get("decimalDigits"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._exchangeRateType.set("value",this._designer.get("exchangeRateType"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _12a2=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_12a2&&_12a2["DataItemName"])||"");},_onControlIdChange:function(value){},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onControlTypeChange:function(value){},_onDecimalDigitsChange:function(value){if(this.isSuspended()||!this._decimalDigits.isValid()){return;}this._designer.set("decimalDigits",value);},_onDefaultDataBindingChange:function(value){},_onDisplayModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("displayMode",value);},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onExchangeRateTypeChange:function(value){if(this.isSuspended()){return;}this._designer.set("exchangeRateType",value);},_onMaxLengthChange:function(value){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/QuickForms/Design/PhoneControlDesigner":function(){define("Sage/QuickForms/Design/PhoneControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/PhoneControlDesigner"],function(_12a3,array,lang,_12a4,_12a5,_12a6,_12a7,_12a8){return _12a3("Sage.QuickForms.Design.PhoneControlDesigner",[_12a4],{designSupport:{visible:true},editors:[_12a6,_12a7,_12a5],widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %} design-phone" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="design-phone-icon"></div>',"</div>","</div>"]),helpTopicName:"Phone_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXPhone, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Phone",constructor:function(){lang.mixin(this,_12a8);}});});},"Sage/UI/Controls/nls/EntityInfoToolTip":function(){define("Sage/UI/Controls/nls/EntityInfoToolTip",["Sage/LanguageList","dojo/_base/lang"],function(_12a9,lang){var nls={root:{errorText:"Information not found.",loadingText:"Loading...",noInfoText:"No information to show.",mainText:"Main:",faxText:"Fax:",tollFreeText:"Toll Free:",urlText:"Web URL:",workText:"Work:",mobileText:"Mobile:",emailText:"Email:",contactNameText:"Name:",phoneText:"Phone:",accountText:"Account:"}};return lang.mixin(_12a9,nls);});},"Sage/MainView/ActivityMgr/ActivityEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/ActivityEditor.html":'[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="activityDialog" title="" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onDlgHide">\',\r\n        \'<div class="activity-dialog">\',  //body\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="regardingContainer">\',\r\n                \'<select id="pk_Regarding" label="{%= $.regardingText %}" id="{%= $.id %}_pk_Regarding" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Regarding" canEditText="true" itemMustExist="false" maxLength="64" ></select>\',\r\n                \'<div dojoType="dijit.form.TextBox" label="{%= $.locationText %}" id="{%= $.id %}_tb_Location" dojoAttachPoint="tb_Location" maxLength="255" ></div>\',\r\n            \'</div>\', //first tablecontainer 1 col\r\n        //Dates section for add/edit mode..................\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="dateSection_AddEdit">\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtp_startDate" dojoAttachPoint="dtp_startDate" displayDate="true" displayTime="true" label="{%= $.startTimeText %}"></div>\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DurationSelect" label="{%= $.durationText %}" id="{%= $.id %}_sel_Duration" dojoAttachPoint="sel_Duration" includeDisablingCheckbox="false" valuesAreAfterStart="true"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="{%= $.timeLessText %}" id="{%= $.id %}_cb_Timeless" dojoAttachPoint="cb_Timeless" ></div>\',\r\n                    \'<label class="checkbox-label" for="{%= $.id %}_cb_Timeless">{%= $.timeLessText %}</label>\',\r\n                \'</div>\',\r\n                \'<div dojoType="dojox.layout.TableContainer" label="{%= $.alarmText %}" cols="2" showLabels="false" class="removeExtraSpace">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" id="{%= $.id %}_cb_Alarm" dojoAttachPoint="cb_Alarm" ></div>\',\r\n                    \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DurationSelect" id="{%= $.id %}_sel_AlarmDur" dojoAttachPoint="sel_AlarmDur" valuesAreAfterStart="false" ></div>\',\r\n                \'</div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="" id="{%= $.id %}_cb_AutoRollover" dojoAttachPoint="cb_AutoRollover"></div>\',\r\n                    \'<label class="checkbox-label" for="{%= $.id %}_cb_AutoRollover">{%= $.rolloverText %}</label>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        //Dates section for complete mode...................\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="dateSection_Complete">\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtp_completedDate" dojoAttachPoint="dtp_completedDate" displayDate="true" displayTime="true" label="{%= $.completedText %}"></div>\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtp_scheduledDate" dojoAttachPoint="dtp_scheduledDate" displayDate="true" displayTime="true" label="{%= $.scheduledText %}"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="{%= $.timeLessText %}" id="{%= $.id %}_cb_TimelessComplete" dojoAttachPoint="cb_TimelessComplete" ></div>\',\r\n                    \'<label class="checkbox-label" for="{%= $.id %}_cb_TimelessComplete">{%= $.timeLessText %}</label>\',\r\n                \'</div>\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DurationSelect" label="{%= $.durationText %}" id="{%= $.id %}_sel_DurationComplete" dojoAttachPoint="sel_DurationComplete" includeDisablingCheckbox="false" valuesAreAfterStart="true"></div>\',\r\n            \'</div>\',\r\n\r\n            \'<div dojoType="dijit.layout.TabContainer" id="{%= $.id %}_tc_EditActivity"  dojoAttachPoint="tc_EditActivity" class="tab-container">\',\r\n/*  General Tab   */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_General" title="{%= $.tabNameGeneralText %}" class="tabContent remove-padding" dojoAttachPoint="cp_General">\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="resultContainer" class="bottom-border-section">\', \r\n                        \'<select shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" label="{%= $.resultText %}" id="{%= $.id %}_pl_Result"  name="pl_Result" dojoAttachPoint="pl_Result" canEditText="true" itemMustExist="false" maxLength="64"></select>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="4" labelWidth="4" baseClass="contact-lead-radios" >\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.contactText %}" value="contact" id="{%= $.id %}_rdo_Contact" dojoAttachPoint="rdo_Contact" dojoAttachEvent="onChange:_setContactLeadVisibility" checked="true" />\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.leadText %}" value="lead" id="{%= $.id %}_rdo_Lead" dojoAttachPoint="rdo_Lead" />\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="contactContainer" baseClass="bottom-border-section">\',\r\n\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_ContactLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.opportunityText %}" dojoAttachPoint="container_OppLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.accountText %}" dojoAttachPoint="container_AccountLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="container_TicketLup"  class="remove-padding lookup-container" style=\"display: none;\"></div>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="leadContainer"  baseClass="bottom-border-section" class="display-none">\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_LeadLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<input dojoType="dijit.form.TextBox" id="{%= $.id %}_tb_LeadCompanyName" label="{%= $.companyText %}" dojoAttachPoint="tb_LeadCompanyName" readonly="true" />\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" class="bottom-border-section" >\',\r\n                        \'<select label="{%= $.priorityText %}" id="{%= $.id %}_pk_Priority" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Priority" canEditText="true" itemMustExist="false" pickListName="Priorities" sort="false" maxLength="64" style="width: {%= 472 - $.labelWidth %}px;"></select>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.leaderText %}" dojoAttachPoint="container_LeaderLup" class="remove-padding lookup-container" style="width: {%= 472 - $.labelWidth %}px;"></div>\',\r\n                        \'<select label="{%= $.categoryText %}" id="{%= $.id %}_pk_Category" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Category" canEditText="true" itemMustExist="false" maxLength="64" style="width: {%= 472 - $.labelWidth %}px;"></select>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="&nbsp;" class="dijitTextBox" style="border-width:0px">&nbsp;</div>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" class="valigntop" dojoAttachPoint="notesContainer">\',\r\n                        \'<textarea dojoType="dijit.form.SimpleTextarea" id="{%= $.id %}_ta_Notes" label="{%= $.notesText %}" dojoAttachPoint="ta_Notes" class="notes-text"></textarea>\',\r\n                    \'</div>\',\r\n                \'</div>\',  // end general tab\r\n/* Availability Tab   */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Availability" title="{%= $.tabNameAvailabilityText %}" class="tabContent remove-padding" dojoAttachPoint="cp_Availability" dojoAttachEvent="onShow:_onShowAvailabilityTab">\',\r\n                    \'<div dojoType="dijit.Toolbar" region="top" splitter="false" class="right-tools" >\',  // list-panel-tbar                                  \r\n                        \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="container_ResourcesLup" class="remove-padding"></div>\',\r\n                    \'</div>\',\r\n/* Scheduler ........... */\r\n                    \'<div id="scheduler_here" class="dhx_cal_container" style="width:100%;height:230px;">\',\r\n                        \'<div class="dhx_cal_navline">\',\r\n                            \'<div class="dhx_cal_prev_timeline_button" style="right:50px;">&nbsp;</div>\',\r\n\t\t\t                \'<div class="dhx_cal_next_timeline_button" style="right:19px;">&nbsp;</div>\',\r\n//\'<div class="dhx_cal_today_button"></div>\',\r\n\t\t\t                \'<div class="dhx_cal_date"></div>\',\r\n//\'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>\',\r\n//\'<div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>\',\r\n                            \'<div class="dhx_cal_tab" name="timeline_tab" style="right:280px;"></div>\',\r\n//\'<div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>\',\r\n\t\t                \'</div>\',\r\n\t\t                \'<div class="dhx_cal_header"></div>\',\r\n\t\t                \'<div class="dhx_cal_data"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n/* Recurring Tab  */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Recurring" title="{%= $.recurringText %}" class="tabContent" dojoAttachPoint="cp_Recurring" dojoAttachEvent="onShow:_showRecurringTab">\',\r\n                    \'<div shouldPublishMarkDirty="false" dojoType="Sage.MainView.ActivityMgr.RecurringEditor" id="{%= $.id %}_recEd" labelWidth="{%= $.labelWidth - 20 %}" dojoAttachPoint="_recurringEditor"></div>\',\r\n                \'</div>\',\r\n/* Attachments Tab  */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Attachments" title="{%= $.tabNameAttachmentsText %}" class="tabContent remove-padding" dojoAttachPoint="cp_Attachments" dojoAttachEvent="onShow:_showAttachmentsTab">\',\r\n                    \'<div id="{%= $.id %}_attachmentsGridPlaceholder" dojoAttachPoint="_attachmentGridPlaceholder" style="width:100%;height:100%"></div>\',\r\n                \'</div>\',\r\n            \'</div>\',  //tab container\r\n/* Buttons       */\r\n        // Add/edit activity buttons\r\n            \'<table class="button-bar" id="add_edit_buttons" dojoAttachPoint="add_edit_buttons">\',\r\n                \'<tr>\',\r\n                    \'<td class="alignleft">\',\r\n                        \'<div class="scheduled-by-label" dojoAttachPoint="lbl_ScheduledBy"></div>\',\r\n                    \'</td><td class="alignright">\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Complete" name="btn_Complete" dojoAttachPoint="btn_Complete" dojoAttachEvent="onClick:_completeClick">{%= $.completeBtnText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Delete" name="btn_Delete" dojoAttachPoint="btn_Delete" dojoAttachEvent="onClick:_deleteClick">{%= $.deleteText %}</div>\',\r\n                        \'<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n\r\n\r\n        //complete activity buttons\r\n            \'<table class="button-bar display-none" id="complete_buttons" dojoAttachPoint="complete_buttons">\',\r\n                \'<tr>\',\r\n                    \'<col width="50%" /><col width="50%" />\',\r\n                    \'<td class="alignleft">\',\r\n                        \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" >\',\r\n                            \'<select label="{%= $.followupText %}" id="sel_Followup" dojoType="dijit.form.ComboBox" dojoAttachPoint="sel_Followup">\',\r\n                                \'<option value="none" selected="selected">{%= $.noneText %}</option>\',\r\n                                \'<option value="phone">{%= Sage.Utility.Activity.getActivityTypeName("atPhoneCall") %}</option>\',\r\n                                \'<option value="meeting">{%= Sage.Utility.Activity.getActivityTypeName("atAppointment") %}</option>\',\r\n                                \'<option value="todo">{%= Sage.Utility.Activity.getActivityTypeName("atToDo") %}</option>\',\r\n                            \'</select>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="ck_coAttachments" dojoAttachPoint="ck_coAttachments" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coAttachments">{%= $.carryOverAttachmentsText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="ck_coNotes" dojoAttachPoint="ck_coNotes" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coNotes">{%= $.carryOverNotesText %}</label>\',\r\n                            \'</div>\',\r\n                        \'</div>\',\r\n                    \'</td><td class="alignright valignbottom" rowspan="2">\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_asScheduled" name="btn_asScheduled" dojoAttachPoint="btn_asScheduled" dojoAttachEvent="onClick:_asScheduledClick">{%= $.asScheduledText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Now" name="btn_Now" dojoAttachPoint="btn_Now" dojoAttachEvent="onClick:_nowClick">{%= $.nowText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_CancelComplete" name="btn_Cancel" dojoAttachPoint="btn_CancelComplete" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n                    \'</td>\',\r\n                \'</tr><tr>\',\r\n                    \'<td class="alignleft" >\',\r\n                        \'<div class="scheduled-by-label" dojoAttachPoint="lbl_ScheduledByComp"></div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n\r\n\r\n\r\n        //Confirmations button bar...\r\n            \'<table class="button-bar display-none" id="confirmation_edit_buttons" dojoAttachPoint="confirmation_edit_buttons">\',\r\n                \'<tr>\',\r\n                    \'<td class="alignleft" style="width:{%= $.labelWidth %}px;">\',\r\n                        \'<label for="{%= $.id %}_ta_confirmationResponse" id="responseLabel" dojoAttachPoint="responseLabel">{%= $.responseText %}</label>\',\r\n                    \'</td>\',\r\n                    \'<td class="alignleft">\',\r\n                        \'<textarea dojoType="dijit.form.SimpleTextarea" id="{%= $.id %}_ta_confirmationResponse" dojoAttachPoint="ta_confirmationResponse" class="notes-text dijitTextBox" maxLength="128" ></textarea>\',\r\n                    \'</td><td class="alignright valignbottom">\',\r\n                        \'<span id="newConfButtons" dojoAttachPoint="newConfButtons">\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_accept" name="btn_accept" dojoAttachPoint="btn_accept" dojoAttachEvent="onClick:_acceptConfClick">{%= $.acceptText %}</div>\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_decline" name="btn_decline" dojoAttachPoint="btn_decline" dojoAttachEvent="onClick:_declineClick">{%= $.declineText %}</div>\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_cancelConf" name="btn_cancelConf" dojoAttachPoint="btn_cancelConf" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n                        \'</span>\',\r\n                        \'<span id="otherConfButtons" dojoAttachPoint="otherConfButtons" class="display-none">\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_deleteConf" name="btn_deleteConf" dojoAttachPoint="btn_deleteConf" dojoAttachEvent="onClick:_deleteConfClick">{%= $.deleteConfText %}</div>\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_closeConf" name="btn_closeConf" dojoAttachPoint="btn_closeConf" dojoAttachEvent="onClick:_cancelClick">{%= $.closeText %}</div>\',\r\n                        \'</span>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n        \'</div>\', //body\r\n    \'</div>\',  //dialog\r\n\'</div>\' //root node\r\n]\r\n'}});define("Sage/MainView/ActivityMgr/ActivityEditor",["dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/Utility/Activity","dojo/date","dojo/date/locale","dojo/string","Sage/UI/Dialogs","dijit/Tooltip","Sage/UI/AttachmentList","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/UI/Controls/Lookup","dojo/i18n!./nls/ActivityEditor","dojo/text!./templates/ActivityEditor.html","dojo/dom-class","Sage/Utility/UserOptions","dijit/focus","dojo/_base/lang","Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab","dijit/layout/ContentPane","dojo/on","dijit/Toolbar","dijit/layout/TabContainer","dijit/form/Textarea","dojox/layout/TableContainer","dijit/layout/BorderContainer","dijit/form/ComboBox","Sage/Services/UserOptions","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/Lookup","Sage/MainView/ActivityMgr/RecurringEditor","dijit/Dialog","Sage/UI/Controls/DurationSelect","Sage/Services/CalendarSecurityService"],function(_12aa,_12ab,_12ac,_12ad,_12ae,_12af,_12b0,_12b1,_12b2,_12b3,_12b4,_12b5,_12b6,_12b7,_12b8,_12b9,_12ba,_12bb,_12bc,_12bd,_12be,_12bf,_12c0,_12c1,_12c2,lang,_12c3,_12c4,on){var _12c5=_12ac("Sage.MainView.ActivityMgr.ActivityEditor",[_12aa,_12ab],{activityId:"",activityMemberId:"",_memberSecurityData:[],mode:"",userNotificationId:"",id:"",activityType:"",_options:{},_dialog:false,_currentUserId:null,_originalLeaderId:false,_activityService:false,_activityData:false,_activityStore:false,_currentUserActivityData:false,_tempUAData:false,_currentUserActivityStore:false,_notificationData:false,_notificationStore:false,_notificationBindingMgr:false,_historyStore:false,_deleteAttendeeConnects:[],_attendeesData:[],_newAttendeesData:[],_attendeesForRemoval:[],_userActivitiesRequestCount:0,_resourceRequestCount:0,_resourceDeleteRequestCount:0,_availabilityShowing:false,_bindingMgr:false,_uaBindingMgr:false,_activityChangeConnection:false,lup_Account:false,lup_Contact:false,lup_Opportunity:false,lup_Ticket:false,lup_Lead:false,lup_Leader:false,accountLookupConfig:{},contactLookupConfig:{},opportunityLookupConfig:{},ticketLookupConfig:{},leadLookupConfig:{},resourcesLookupConfig:{},_isBinding:false,_activitySaved:false,_userActivitiesSaved:false,_currentUserActivitySaved:false,_resourcesSaved:false,_resourcesRemoved:false,_attachmentsSaved:false,_completeAfterSaving:false,_attachmentList:false,_tempIdForAttachments:false,confirmationDisableList:["pk_Regarding","tb_Location","dtp_startDate","sel_Duration","cb_Timeless","cb_Alarm","sel_AlarmDur","cb_AutoRollover","rdo_Contact","rdo_Lead","lup_Account","lup_Contact","lup_Opportunity","lup_Ticket","lup_Lead","ta_Notes","pk_Priority","lup_Leader","pk_Category"],noEditDisableList:["pk_Regarding","tb_Location","dtp_startDate","sel_Duration","cb_Timeless","cb_AutoRollover","rdo_Contact","rdo_Lead","lup_Account","lup_Contact","lup_Opportunity","lup_Ticket","lup_Lead","pk_Priority","lup_Leader","pk_Category"],_readOnlyMode:false,_isProcessing:false,eventConnections:[],activityDefaultValues:{},widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_12bf)),constructor:function(){_12b1.mixin(this,_12be);this._preloadActivityOptions();this._activityService=_12ba.getSDataService("system");this._setupStore();this._currentUserId=_12af.getClientContextByKey("userID")||"";this._currentUserId=this._currentUserId.trim();dojo.subscribe("/entity/attachment/create",this,this._updateActivityETag);dojo.subscribe("/entity/attachment/update",this,this._updateActivityETag);dojo.subscribe("/entity/attachment/delete",this,this._updateActivityETag);},destroy:function(){if(this._activityChangeConnection){dojo.disconnect(this._activityChangeConnection);this._activityChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}if(this._uaBindingMgr){this._uaBindingMgr.destroy();}for(var i=0;i<this.eventConnections.length;i++){dojo.disconnect(this.eventConnections[i]);}this.lup_Account.destroy();this.lup_Contact.destroy();this.lup_Opportunity.destroy();this.lup_Ticket.destroy();this.lup_Lead.destroy();this.lup_Leader.destroy();this.eventConnections=[];this.inherited(arguments);},postCreate:function(){this._asScheduledTooltip=new _12b8({connectId:[this.btn_asScheduled.id],label:" ",position:["below"]});dojo.connect(this.dtp_scheduledDate,"onChange",this,function(){this._asScheduledTooltip.set("label",_12b5.format(this.dtp_scheduledDate.get("value"),{selector:"datetime",fullYear:true}));});this._nowTooltip=new _12b8({connectId:[this.btn_Now.id],label:" ",position:["below"]});dojo.connect(this.dtp_completedDate,"onChange",this,function(){this._nowTooltip.set("label",_12b5.format(this.dtp_completedDate.get("value"),{selector:"datetime",fullYear:true}));});dojo.subscribe("/entity/activityAttendee/primaryChanged",this,this.primaryChanged);dojo.subscribe("/entity/activityAttendee/add",this,this._updateActivityAttendeeETag);dojo.subscribe("/entity/activityAttendee/delete",this,this._updateActivityAttendeeETag);},primaryChanged:function(_12c6,type,_12c7){var _12c8=_12b1.clone(_12c6);_12c8["attendeeTab"]=true;_12c8["$descriptor"]=_12c8["Name"];_12c8["$key"]=_12c8["EntityId"];var self=this;if(_12c8.EntityType=="Contact"){if(!_12c8["Account"]){_12c8["Account"]={"$key":_12c8["AccountId"],"AccountName":_12c8["AccountName"]||_12c8["Company"]};}_12c8["ContactId"]=_12c8["EntityId"];if(_12c8["PrimaryChecked"]){this.rdo_Contact.set("checked",true);this.rdo_Lead.set("checked",false);this.lup_Contact.set("selectedObject",_12c8);this.attendeesTab._uncheckItem=_12c8;}else{this.lup_Contact.set("selectedObject",null);}}else{if(_12c8.EntityType=="Lead"){_12c8["Company"]=_12c8["AccountName"];_12c8["LeadFullName"]=_12c8["Name"];_12c8["LeadId"]=_12c8["EntityId"];if(_12c8["PrimaryChecked"]){this.rdo_Contact.set("checked",false);this.rdo_Lead.set("checked",true);this.lup_Lead.set("selectedObject",_12c8);this.attendeesTab._uncheckItem=_12c8;}else{this.lup_Lead.set("selectedObject",null);}}}},isFirstOpen:true,show:function(_12c9){this._isProcessing=false;this._dialog.set("refocus",false);this._dialog.show();if(this.isFirstOpen){this.isFirstOpen=false;this._ensureLookupsCreated();this.connect(this._recurringEditor,"onStartDateChanged",this._recurringStartDateChanged);this.connect(this._recurringEditor,"onRecurPeriodChanged",this._recurringPeriodChanged);this.connect(this._dialog,"onHide",this._cleanOnClose);}this.sel_AlarmDur.resetItems();this.activityDefaultValues={};if(this.mode==="New"){this.activityDefaultValues=_12c9||{};this._loadData();}if(this.mode==="CompleteUnscheduled"&&!this.historyId){this.activityDefaultValues=_12c9||{};this._loadHistory();}if(!this._dialog._standby){_12b1.mixin(this._dialog,new _12b2());if(!this._activityData&&!this._notificationData){this._dialog.showLoading();}}if(!this._dialog.helpIcon){_12b1.mixin(this._dialog,new _12b0());this._dialog.createHelpIconByTopic(this._getHelpTopicByMode());}this._availabilityShowing=false;this.tc_EditActivity.selectChild(this.cp_General);this._dialog.resize();},hide:function(){this._dialog.hide();},_onDlgHide:function(){this.onHide();},onHide:function(){this.attendeesTab._dialogHide();this._cleanOnClose();},_cleanOnClose:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this.set("activityId","");this.set("activityMemberId","");if(this._activityStore){this._activityStore.clearCache();}if(this._historyStore){this._historyStore.clearCache();}this._hideLookupTooltip(this.lup_Account);this._hideLookupTooltip(this.lup_Contact);this._hideLookupTooltip(this.lup_Opportunity);this._hideLookupTooltip(this.lup_Ticket);this._hideLookupTooltip(this.lup_Lead);this._hideLookupTooltip(this.lup_Leader);},_hideLookupTooltip:function(_12ca){if(_12ca){_12ca.hideTooltip();}},_controllOnMouseEnter:function(){},_updateActivityETag:function(_12cb){if(_12cb){this._activityData.AttachmentCount++;}else{this._activityData.AttachmentCount--;}if(this._dialog.open&&this.activityId){var req=new Sage.SData.Client.SDataSingleResourceRequest(_12ba.getSDataService("system"));req.setResourceKind("activities");req.setResourceSelector('"'+this.activityId+'"');req.setQueryArg("precedence","0");req.read({success:function(_12cc){this._activityData["$etag"]=_12cc["$etag"];},scope:this});}},_updateActivityAttendeeETag:function(count){if(this._dialog.open&&this.activityId){this.AttCount=count;var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_12ba.getSDataService("system"));req.setResourceKind("activities");req.setResourceSelector('"'+this.activityId+'"');req.setQueryArg("precedence","0");req.setQueryArg("select","details/AttendeeCount");req.read({success:function(_12cd){this._activityData["$etag"]=_12cd["$etag"];if(_12cd["Details"]){this._activityData["Details"]["AttendeeCount"]=_12cd["Details"]["AttendeeCount"];}},scope:this});}},_ensureAttendeesTab:function(){if(!this.attendeesTab||this.mode!=this.attendeesTab.editorMode||this.activityId!==this.attendeesTab._activityId){this._addAttendeesTab(this.mode);this.userNotificationId=null;}},_addAttendeesTab:function(mode){if(this.attendeesTab){dijit.byId(this.tc_EditActivity.id).removeChild(dijit.byId("attendeesTabPane"));if(dijit.byId(this.attendeesTab.lup_Lead.id)){dijit.byId(this.attendeesTab.lup_Lead.id).destroyRecursive();}if(dijit.byId(this.attendeesTab.lup_Contact.id)){dijit.byId(this.attendeesTab.lup_Contact.id).destroyRecursive();}dijit.byId("attendeesTabPane").destroyRecursive();this.attendeesTab=null;}var _12ce={editorMode:mode};var _12cf=this.attendeesTab=new _12c3(_12ce);var cp=new _12c4({id:"attendeesTabPane",title:this.tabNameParticipants,"class":"tabContent remove-padding"},_12cf.domNode);this.tc_EditActivity.addChild(cp);_12cf.actEditor=this;var _12d0=true;if((this.mode==="Confirm")||this._isOccurence()){_12d0=false;}_12cf.startup(!_12d0);var _12d1=this;on(cp,"show",function(){if(_12d0){_12cf.setToReadOnly(false);}else{_12cf.setToReadOnly(true);}_12cf._tabShow();});},_getHelpTopicByMode:function(){switch(this.mode){case"Confirm":return"confirmnotifications";case"Complete":case"CompleteUnscheduled":return"completeactivity";}return"activitydetailview";},_showCorrectButtonBar:function(mode){if(mode==="Confirm"){_12c0.add(this.add_edit_buttons,"display-none");_12c0.add(this.complete_buttons,"display-none");_12c0.remove(this.confirmation_edit_buttons,"display-none");}else{if(mode==="Complete"||mode==="CompleteUnscheduled"){_12c0.add(this.add_edit_buttons,"display-none");_12c0.add(this.confirmation_edit_buttons,"display-none");_12c0.remove(this.complete_buttons,"display-none");}else{_12c0.add(this.confirmation_edit_buttons,"display-none");_12c0.add(this.complete_buttons,"display-none");_12c0.remove(this.add_edit_buttons,"display-none");}}},_setModeAttr:function(mode){this.mode=mode;this._showCorrectButtonBar(mode);if(mode==="Confirm"){this._ensureLookupsCreated();this._bulkSetProperty(this,this.confirmationDisableList,"disabled",true);}else{this._bulkSetProperty(this,this.confirmationDisableList,"disabled",false);}if(mode.indexOf("New")===0){this.mode="New";var _12d2=mode.replace("New ","").toLowerCase();switch(_12d2){case"phonecall":case"atphonecall":this.activityType="atPhoneCall";break;case"meeting":case"atappointment":this.activityType="atAppointment";break;case"todo":case"attodo":this.activityType="atToDo";break;case"personalactivity":case"atpersonal":case"personal":this.activityType="atPersonal";break;case"letter":case"atletter":case"doc":case"atdoc":this.activityType="atDoc";break;case"fax":case"atfax":this.activityType="atFax";break;default:this.activityType="atAppointment";break;}this._activityData=false;_12c0.add(this.btn_Delete.domNode,"display-none");_12c0.add(this.btn_Complete.domNode,"display-none");this._ensureAttendeesTab();}else{_12c0.remove(this.btn_Delete.domNode,"display-none");_12c0.remove(this.btn_Complete.domNode,"display-none");}if(mode==="Complete"||mode==="CompleteUnscheduled"){_12c0.add(this.dateSection_AddEdit.domNode,"display-none");_12c0.remove(this.dateSection_Complete.domNode,"display-none");_12c0.remove(this.resultContainer.domNode,"display-none");var idx=this.tc_EditActivity.getIndexOfChild(this.cp_Recurring);if(idx>0){this.tc_EditActivity.removeChild(this.cp_Recurring);var self=this;window.setTimeout(function(){self._dialog.resize();},10);}if(this._dialog.open){this._setUI();this._completeModeManualBind();}var _12d3=this._options.followUp.defaultFollowUpType;var _12d4=(_12d3==="None")?this.noneText:_12b3.getActivityTypeName(_12d3);this.sel_Followup.set("value",_12d4);this.ck_coAttachments.set("checked",this._options.followUp.carryOverAttachments);this.ck_coNotes.set("checked",this._options.followUp.carryOverNotes);if(mode==="CompleteUnscheduled"){this._ensureAttendeesTab();}}else{_12c0.add(this.dateSection_Complete.domNode,"display-none");_12c0.remove(this.dateSection_AddEdit.domNode,"display-none");_12c0.add(this.resultContainer.domNode,"display-none");var idx=this.tc_EditActivity.getIndexOfChild(this.cp_Recurring);if(idx<0){var _12d5=this.tc_EditActivity.getIndexOfChild(this.cp_Attachments);this.tc_EditActivity.addChild(this.cp_Recurring,_12d5);var self=this;window.setTimeout(function(){self._dialog.resize();},10);}}if(this._dialog.helpIcon){this._dialog.set("helpTopic",this._getHelpTopicByMode());}},_setActivityIdAttr:function(_12d6){_12d6=_12d6||"";this.activityId=_12d6;this._activityData=false;if(_12d6!==""){this.historyId="";this._loadData();this._ensureAttendeesTab();}},_getActivityIdAttr:function(){return this.activityId;},_setActivityMemberIdAttr:function(_12d7){_12d7=_12d7||"";this.activityMemberId=_12d7;},_getActivityMemberIdAttr:function(){return this.activityMemberId;},_setUserNotificationIdAttr:function(_12d8){_12d8=_12d8||"";if(_12d8!==this.userNotificationId){this.userNotificationId=_12d8;this.set("activityId","");this._notificationData=false;this._loadNotification();}this._ensureAttendeesTab();},_getUserNotificationId:function(){return this.userNotificationId;},_setHistoryIdAttr:function(_12d9){_12d9=_12d9||"";if(this.historyId!==_12d9){this.historyId=_12d9;this._activityData=false;if(_12d9!==""){this.activityId="";this._loadHistory();}}},_getHistoryIdAttr:function(){return this.historyId;},_preloadActivityOptions:function(){this._options={atAppointment:{alarmLead:"15",duration:"60",autoRollover:false,timeless:false},atPhoneCall:{alarmLead:"15",duration:"15",autoRollover:false,timeless:false},atToDo:{alarmLead:"none",duration:"15",autoRollover:false,timeless:false},atPersonal:{alarmLead:"none",duration:"5",autoRollover:false,timeless:false},followUp:{defaultFollowUpType:"None",carryOverNotes:false,carryOverAttachments:false},calendar:{dayStartTime:"9",dayEndTime:"6"}};var _12da=Sage.Services.getService("UserOptions");if(_12da){_12da.getByCategories(["ActivityMeetingOptions","ActivityPhoneOptions","ActivityToDoOptions","ActivityPersonalOptions","Calendar"],this._receivedOptions,this);}},_receivedOptions:function(data){var _12db={"0":"None","1":"atPhoneCall","2":"atAppointment","3":"atToDo"};var opts=data["$resources"];for(var i=0;i<opts.length;i++){var opt=opts[i];var _12dc=(opt.category==="ActivityMeetingOptions")?"atAppointment":(opt.category==="ActivityPhoneOptions")?"atPhoneCall":(opt.category==="ActivityToDoOptions")?"atToDo":(opt.category==="ActivityPersonalOptions")?"atPersonal":false;if(_12dc&&this._options[_12dc]&&opt.value){switch(opt.name){case"AlarmLead":this._options[_12dc].alarmLead=(parseInt(opt.value,10)>0)?opt.value:"none";break;case"Duration":this._options[_12dc].duration=opt.value;break;case"Timeless":var tval=opt.value.substring(0,1).toUpperCase();this._options[_12dc].timeless=tval==="T";break;case"AutoRollover":var arval=opt.value.substring(0,1).toUpperCase();this._options[_12dc].autoRollover=arval==="T";break;}}else{if(opt.category==="Calendar"){switch(opt.name){case"DayStartTime":this._options.calendar.dayStartTime=_12c1.getConvertedOptionValue(opt["name"],opt["value"]);break;case"DayEndTime":this._options.calendar.dayEndTime=_12c1.getConvertedOptionValue(opt["name"],opt["value"]);break;case"DefaultFollowUpType":this._options.followUp.defaultFollowUpType=_12db[opt.value]||"None";break;case"CarryOverNotes":var nval=opt.value.substring(0,1).toUpperCase();this._options.followUp.carryOverNotes=nval==="T";break;case"CarryOverAttachments":var aval=opt.value.substring(0,1).toUpperCase();this._options.followUp.carryOverAttachments=aval==="T";}}}}},_setupStore:function(){if(!this._activityStore){this._activityStore=new _12ad({include:["$descriptors"],resourceKind:"activities",ignoreETag:true,service:this._activityService});}if(!this._currentUserActivityStore){this._currentUserActivityStore=new _12ad({include:["$descriptors"],select:["Alarm","AlarmTime","Activity/StartDate"],resourceKind:"userActivities",service:this._activityService});}if(!this._historyStore){this._historyStore=new _12ad({include:["$descriptors"],resourceKind:"history",service:_12ba.getSDataService("dynamic")});}},_resetDataProps:function(){this._activityData=false;this._currentUserActivityData=false;this._tempUAData=false;this._notificationData=false;this._attendeesData=[];this._attendeesForRemoval=[];this._newAttendeesData=[];this._userActivitiesRequestCount=0;this._resourceRequestCount=0;this._resourceDeleteRequestCount=0;this._activitySaved=false;this._userActivitiesSaved=false;this._currentUserActivitySaved=false;this._resourcesSaved=false;this._resourcesRemoved=false;this._attachmentsSaved=false;this._originalLeaderId=false;if(this._attachmentList){this._attachmentList.clearNewAttachments();}this._availabilityDataDateRange={fromDate:false,toDate:false,users:[]};},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}this._resetDataProps();if(this._activityStore){if(this.mode==="New"){this._activityStore.newItem({onComplete:function(act){Sage.Utility.setValue(act,"Type",this.activityType);this._receivedActivity(act);},onError:this._requestFailure,scope:this});}else{this._activityStore.fetch({predicate:'"'+this.activityId+'"',onComplete:this._receivedActivity,onError:this._requestFailure,scope:this});}}},_receivedActivity:function(_12dd){this._activityData=_12dd;if((this._currentUserActivityStore)&&(this.mode!=="New")&&(this.mode!="CompleteUnscheduled")){var id=this.activityId||_12dd.$key;id=(id.indexOf(";")>0)?id.substring(0,12):id;var _12de=this.activityMemberId||this._currentUserId;this._currentUserActivityStore.fetch({predicate:_12b6.substitute("'ActivityId=${0};UserId=${1}'",[id,_12de]),onComplete:this._receivedUserActivity,onError:this._noUserActivity,scope:this});}if(_12dd.AttachmentCount>0){this._activityData.Attachment=true;}this._tempIdForAttachments=false;var _12df=Sage.Services.getService("ClientEntityContext");var _12e0=(this.historyId)?{"EntityId":this.historyId,"EntityType":"Sage.Entity.Interfaces.IHistory","Description":this._activityData.$descriptor,"EntityTableName":"HISTORY"}:{"EntityId":this.activityId,"EntityType":"Sage.Entity.Interfaces.IActivity","Description":this._activityData.$descriptor,"EntityTableName":"ACTIVITY"};_12df.setTemporaryContext(_12e0);if(this.mode!=="New"&&this.mode!="CompleteUnscheduled"){this.activityType=_12dd.Type;}else{this._applyUserOptionsForNewActivity();}if(this.activityMemberId&&this.activityMemberId!==this._currentUserId&&!this._memberSecurityData[this.activityMemberId]){this._checkSecurityAccess(this._currentUserId,this.activityMemberId,function(_12e1){if(_12e1){this._memberSecurityData[this.activityMemberId]=[];this._memberSecurityData[this.activityMemberId].AllowAdd=_12e1.AllowAdd;this._memberSecurityData[this.activityMemberId].AllowEdit=_12e1.AllowEdit;this._memberSecurityData[this.activityMemberId].AllowDelete=_12e1.AllowDelete;}this._setUIForActivityType(_12dd.Type);this._bind();},this);}else{this._setUIForActivityType(_12dd.Type);this._bind();}if(this._activityData["Leader"]){this._originalLeaderId=this._activityData.Leader["$key"];}else{this._originalLeaderId=this._activityData["UserId"]||this._currentUserId;}if(this._dialog._standby){this._dialog.hideLoading();}this.attendeesTab._activityId=_12dd.$key;if(_12dd.details){this._activityData.AttendeeCount=_12dd.details.AttendeeCount;}if(this.mode=="Confirm"){this.attendeesTab._grid.refresh();}},_receivedUserActivity:function(_12e2){if(this._dialog._standby){this._dialog.hideLoading();}this._currentUserActivityData=_12e2;if(_12e2.Alarm===null){_12e2.Alarm=this._activityData.Alarm;}if(_12e2.AlarmTime===null){_12e2.AlarmTime=this._activityData.AlarmTime;}this._tempUAData={Alarm:_12e2.Alarm,AlarmTime:_12af.Convert.toDateFromString(_12e2.AlarmTime)};this._bindUserActivity();},_loadNotification:function(){if(this._dialog._standby){this._dialog.showLoading();}this._resetDataProps();if(!this._notificationStore){this._notificationStore=new _12ad({include:["Activity","$descriptors"],resourceKind:"userNotifications",service:_12ba.getSDataService("system")});}this._notificationStore.fetch({predicate:"'"+this.userNotificationId+"'",onComplete:this._receivedNotification,onError:this._requestFailure,scope:this});},_loadHistory:function(){if(this._dialog._standby){this._dialog.showLoading();}if(this._historyStore){if(!this.historyId){this._historyStore.newItem({onComplete:function(hist){this._receivedActivity(_12b1.mixin(hist,this.activityDefaultValues));this._formatHeader();},scope:this});}else{this._historyStore.fetch({predicate:this.historyId,onComplete:function(hist){this._receivedActivity(hist);this._formatHeader();},onError:this._requestFailure,scope:this});}}},_receivedNotification:function(_12e3){this._receivedActivity(_12e3.Activity||this._emptyActivity);this._notificationData=_12e3;this._formatHeader();this._bindUserNotification();if(_12e3.Type==="New"){this._setUIAsUnConfirmed();}else{_12c0.remove(this.otherConfButtons,"display-none");_12c0.add(this.newConfButtons,"display-none");if(_12e3.Type==="Confirm"||_12e3.Type==="Decline"){this.ta_confirmationResponse.set("disabled",true);_12c0.remove(this.responseLabel,"display-none");_12c0.remove(this.ta_confirmationResponse.domNode,"display-none");}else{_12c0.add(this.responseLabel,"display-none");_12c0.add(this.ta_confirmationResponse.domNode,"display-none");}if(_12e3.Type==="Change"){this._checkUserConfirmationStatus();}}},_checkUserConfirmationStatus:function(){var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system")).setResourceKind("userActivities").setResourceSelector('"'+this._notificationData.Activity["$key"]+";"+this._notificationData.ToUser["$key"]+'"');req.read({success:function(ua){if(ua.Status==="asUnconfirmed"){this._setUIAsUnConfirmed();}},failure:function(){},scope:this});},_setUIAsUnConfirmed:function(){_12c0.add(this.otherConfButtons,"display-none");_12c0.remove(this.newConfButtons,"display-none");this.ta_confirmationResponse.set("disabled",false);_12c0.remove(this.responseLabel,"display-none");_12c0.remove(this.ta_confirmationResponse.domNode,"display-none");},_applyUserOptionsForNewActivity:function(){var _12e4=_12b3.roundDateToNextQuarterHour(new Date());var _12e5="15";if(this._options[this.activityType]){var _12e6=this._options[this.activityType];_12af.setValue(this._activityData,"Duration",_12e6["duration"]||"60");_12e5=_12e6["alarmLead"];_12af.setValue(this._activityData,"Rollover",_12e6["autoRollover"]);_12af.setValue(this._activityData,"Timeless",_12e6["timeless"]);if(this._activityData.Timeless){_12e4=new Date(_12e4.getFullYear(),_12e4.getMonth(),_12e4.getDate(),0,0,5);}}_12af.setValue(this._activityData,"StartDate",_12af.Convert.toIsoStringFromDate(_12e4));this._activityData=_12b1.mixin(this._activityData,this.activityDefaultValues);if(_12e5.toLowerCase()==="none"){_12af.setValue(this._activityData,"Alarm",false);_12e5=15;}else{Sage.Utility.setValue(this._activityData,"Alarm",true);_12e5=parseInt(_12e5,10);}var d=_12af.Convert.toDateFromString(_12af.getValue(this._activityData,"StartDate"));var _12e7=this._getAlarmTime(d,_12e5,this._activityData.Timeless);_12af.setValue(this._activityData,"AlarmTime",_12af.Convert.toIsoStringFromDate(_12e7));this.sel_AlarmDur.set("startTime",d);this.sel_AlarmDur.set("timeValue",_12e7);var ldr={"$key":this._currentUserId,"$descriptor":_12af.getClientContextByKey("userPrettyName")};_12af.setValue(this._activityData,"Leader",ldr);if(this.activityDefaultValues.hasOwnProperty("carryOverAttachmentsFrom")){var self=this,_12e8=this.activityDefaultValues["carryOverAttachmentsFrom"];window.setTimeout(function(){self.doCarryOverAttachments(_12e8);},1000);}if(this.activityDefaultValues.hasOwnProperty("carryOverParticipantsFrom")){var self1=this,_12e9=this.activityDefaultValues["carryOverParticipantsFrom"];window.setTimeout(function(){self1._getHistoryAttendees(_12e8);},1000);}},_noUserActivity:function(){this._bindUserActivity();},_requestFailure:function(_12ea){if(this._dialog._standby){this._dialog.hideLoading();}_12b7.showError(this.failedLoadingDataMsg);this.hide();},_createBindings:function(){if(this._bindingMgr){this._bindingMgr.destroy();this._bindingMgr=false;}this._bindingMgr=new _12ae({defaultBinding:{boundEntity:this._activityData},items:[{boundWidget:this.tb_Location,entityProperty:"Location"},{boundWidget:this.pk_Regarding,entityProperty:"Description",onChange:dojo.hitch(this,"_descriptionChanged")},{boundWidget:this.pk_Category,entityProperty:"Category"},{boundWidget:this.pk_Priority,entityProperty:"Priority"},{boundWidget:this.ta_Notes,entityProperty:"LongNotes",onChange:dojo.hitch(this,"_notesChanged")},{boundWidget:this.dtp_startDate,dataType:"date",entityProperty:"StartDate",onChange:dojo.hitch(this,"_startDateChanged")},{boundWidget:this.sel_Duration,entityProperty:"Duration"},{boundWidget:this.sel_Duration,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.sel_AlarmDur,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_Timeless,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")},{boundWidget:this.cb_AutoRollover,entityProperty:"Rollover",widgetProperty:"checked"},{boundWidget:this.dtp_scheduledDate,dataType:"date",entityProperty:"StartDate"},{boundWidget:this.sel_DurationComplete,entityProperty:"Duration"},{boundWidget:this.sel_DurationComplete,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_TimelessComplete,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")}]});},_createUABindings:function(){this._uaBindingMgr=new _12ae({items:[{boundWidget:this.cb_Alarm,entityProperty:"Alarm",widgetProperty:"checked",onChange:dojo.hitch(this,"_alarmCheckChanged")}]});},_createNotificationBindings:function(){this._notificationBindingMgr=new _12ae({items:[{boundWidget:this.ta_confirmationResponse,entityProperty:"Notes",boundEntity:this._notificationData}]});},_bind:function(){if(this._activityData){if(!this._bindingMgr){this._createBindings();}else{if(!this._bindingMgr.boundEntity||(this._activityData["$key"]!==this._bindingMgr.boundEntity["$key"])){this._bindingMgr.setBoundEntity(this._activityData);}else{this._bindingMgr.bind();}}if(this.mode==="New"||this.mode==="CompleteUnscheduled"){this._noUserActivity();}this._manualBind();this._setUI();}},_bindUserNotification:function(){if(!this._notificationBindingMgr){this._createNotificationBindings();}else{this._notificationBindingMgr.setBoundEntity(this._notificationData);}},_isNullOrWhitespace:function(str){return(!str||str.trim()==="");},_manualBind:function(){if(this._activityData){this._isBinding=true;var act=this._activityData;var _12eb=this._isNullOrWhitespace(act.AccountId)?null:{"$key":act.AccountId,"$descriptor":act.AccountName};this.lup_Account.set("selectedObject",_12eb);var _12ec=this._isNullOrWhitespace(act.ContactId)?null:{"$key":act.ContactId,"$descriptor":act.ContactName};this.lup_Contact.set("selectedObject",_12ec);var _12ed=this._isNullOrWhitespace(act.OpportunityId)?null:{"$key":act.OpportutunityId,"$descriptor":act.OpportunityName};this.lup_Opportunity.set("selectedObject",_12ed);var _12ee=this._isNullOrWhitespace(act.TicketId)?null:{"$key":act.TicketId,"$descriptor":act.TicketNumber};this.lup_Ticket.set("selectedObject",_12ee);var _12ef=this._isNullOrWhitespace(act.LeadId)?null:{"$key":act.LeadId,"$descriptor":act.LeadName};this.lup_Lead.set("selectedObject",_12ef);this.tb_LeadCompanyName.set("value",this._isNullOrWhitespace(act.LeadId)?"":act.AccountName);this._updateLookupSeedValues(act.AccountId);this.lup_Leader.set("selectedObject",act.Leader);if(this.mode!=="Complete"){this._recurringEditor.set("activity",act);}var _12f0=Sage.Utility.Convert.toDateFromString(this._activityData.AlarmTime);this.sel_AlarmDur.set("timeValue",_12f0);this._completeModeManualBind();this._isBinding=false;if(this.mode=="New"||this.mode==="CompleteUnscheduled"){if(this._activityData){var act=this._activityData;var _12ec=this._isNullOrWhitespace(act.ContactId)?null:{"$key":act.ContactId,"$descriptor":act.ContactName};this.attendeesTab._addContactAttendee(_12ec);var _12ef=this._isNullOrWhitespace(act.LeadId)?null:{"$key":act.LeadId,"$descriptor":act.LeadName};this.attendeesTab._addLeadAttendee(_12ef);}}}},_completeModeManualBind:function(){if(this.mode==="Complete"||this.mode==="CompleteUnscheduled"){this.dtp_completedDate.set("value",new Date());this.pl_Result.set("value",this.completeText);if(this.mode==="Complete"){this.pl_Result.focus();}}},_bindUserActivity:function(){if(!this._uaBindingMgr){this._createUABindings();}this.sel_AlarmDur.set("disabled",false);var _12f1=this._getActivityStartDate();this.sel_AlarmDur.set("startTime",_12f1);var ent=(this._currentUserActivityData)?this._currentUserActivityData:this._activityData;var _12f2=_12af.Convert.toDateFromString(ent.AlarmTime);if(this._currentUserActivityData&&_12af.getValue(this._activityData,"RecurrenceState")==="rstOccurrence"){var _12f3=_12af.Convert.toDateFromString(this._currentUserActivityData.Activity.StartDate);var _12f4=_12af.Convert.toDateFromString(this._currentUserActivityData.AlarmTime);var dur=_12b4.difference(_12f3,_12f4,"minute");_12f2=_12b4.add(_12f1,"minute",dur);}this._uaBindingMgr.setBoundEntity(ent);this.sel_AlarmDur.set("timeValue",_12f2);this.sel_AlarmDur.set("disabled",!ent.Alarm||this.mode==="Confirm");},_getActivityStartDate:function(){if(this._activityData){var sDate=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate);if((this._activityData.Timeless)&&(_12b3.isDateFiveSecondRuleTimeless(sDate))){return new Date(sDate.getUTCFullYear(),sDate.getUTCMonth(),sDate.getUTCDate(),0,0,5);}return sDate;}return new Date();},_onShowAvailabilityTab:function(){if(!this._availabilityShowing){this._resetAttendeesList();this._loadAttendeesData();}else{scheduler.setCurrentView(this._getActivityStartDate(),"timeline");}},_accountChanged:function(_12f5){if(this._isBinding){return;}var newId=(_12f5)?_12f5["$key"]:"";var _12f6=(_12f5)?_12f5["$descriptor"]:"";var act=this._activityData;var _12f7=this._isNullOrWhitespace(act.ContactId);act.AccountId=newId;act.AccountName=_12f6;act.ContactId=null;act.ContactName="";act.PhoneNumber="";act.OpportunityId=null;act.OpportunityName="";act.TicketId=null;act.TicketNumber="";act.LeadId=null;act.LeadName="";this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._updateLookupSeedValues(newId);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");if(_12f7){this._setContactToCurrentAccountPrimary();}this._isBinding=false;},_contactChanged:function(_12f8){if(!this._isBinding){var act=this._activityData;if(!_12f8){act.ContactId=null;act.ContactName="";act.PhoneNumber="";return;}act.ContactId=_12f8["$key"];act.ContactName=_12f8["$descriptor"];act.PhoneNumber=Sage.Utility.getValue(_12f8,"WorkPhone");act.LeadId=null;act.LeadName="";act.AccountId=_12f8.Account["$key"];act.AccountName=_12f8.Account.AccountName;this._updateLookupSeedValues(_12f8.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_12f8.Account["$key"],"$descriptor":_12f8.Account.AccountName});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}if(_12f8&&_12f8["$key"]&&!_12f8["attendeeTab"]){if(this.attendeesTab._grid.mode!="insert"&&this._isBinding){if(!this.attendeesTab._gridStarted){this.attendeesTab.setInitialPrimaryContact(_12f8);}else{if(!this.attendeesTab._attendeeExists(_12f8["$key"])){this.attendeesTab._addContactAttendee(_12f8);}}}else{this.attendeesTab._addContactAttendee(_12f8);}}},_opportunityChanged:function(_12f9){if(this._isBinding){return;}var act=this._activityData;if(!_12f9){act.OpportunityId=null;act.OpportunityName="";return;}act.OpportunityId=_12f9["$key"];act.OpportunityName=_12f9["$descriptor"];if(this._isNullOrWhitespace(act.AccountId)||act.AccountId!==_12f9.Account["$key"]){act.AccountId=_12f9.Account["$key"];act.AccountName=_12f9.Account.AccountName;act.LeadId=null;act.LeadName="";this._updateLookupSeedValues(_12f9.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_12f9.Account["$key"],"$descriptor":_12f9.Account.AccountName});this.lup_Contact.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;this._setContactBasedOnOpportunity();}},_ticketChanged:function(_12fa){if(this._isBinding){return;}var act=this._activityData;if(!_12fa){act.TicketId=null;act.TicketNumber="";return;}act.TicketId=_12fa["$key"];act.TicketNumber=_12fa["$descriptor"];if(this._isNullOrWhitespace(act.AccountId)||act.AccountId!==_12fa.Account["$key"]){act.AccountId=_12fa.Account["$key"];act.AccountName=_12fa.Account["AccountName"];act.LeadId=null;act.LeadName="";this._updateLookupSeedValues();act.ContactId=Sage.Utility.getValue(_12fa,"Contact.$key");act.ContactName=Sage.Utility.getValue(_12fa,"Contact.NameLF");act.PhoneNumber=Sage.Utility.getValue(_12fa,"Contact.WorkPhone");this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_12fa.Account["$key"],"$descriptor":_12fa.Account["AccountName"]});this.lup_Contact.set("selectedObject",{"$key":_12fa.Contact["$key"],"$descriptor":_12fa.Contact["NameLF"]});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}},_leadChanged:function(_12fb){if(this._isBinding){return;}var act=this._activityData;if(!_12fb){act.LeadId=null;act.LeadName="";act.PhoneNumber="";this.tb_LeadCompanyName.set("value","");return;}act.ContactId=null;act.ContactName="";act.AccountId=null;act.TicketId=null;act.TicketNumber="";act.OpportunityId=null;act.OpportunityName="";this._updateLookupSeedValues();this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Account.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this._isBinding=false;act.LeadId=_12fb["$key"];act.LeadName=_12fb["LeadFullName"];act.AccountName=_12fb["Company"];act.PhoneNumber=_12fb["WorkPhone"];this.tb_LeadCompanyName.set("value",_12fb["Company"]);if(this._isBinding){return;}if(_12fb&&_12fb["$key"]&&!_12fb["attendeeTab"]){this.attendeesTab._addLeadAttendee(_12fb);}},_leaderChanged:function(_12fc){if(this._isBinding){return;}var _12fd=this._activityData.Leader["$key"]||this._activityData["UserId"];if(_12fc){var key=_12fc["$key"].substr(0,12);this._activityData.Leader={"$key":key,"$descriptor":_12fc["$descriptor"]||_12fc["Name"]};this._activityData.LeaderChanged=true;}this._updateUsersListWithNewLeader(_12fd,this._activityData.Leader);},_setContactBasedOnOpportunity:function(){if(this._isNullOrWhitespace(this._activityData.OpportunityId)){this._rebindToCurrentContact();return;}var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("opportunities");var _12fe=req.uri.pathSegments.length-1;var _12ff=req.uri.getPathSegment(_12fe);_12ff["predicate"]='"'+this._activityData.OpportunityId+'"';req.uri.setPathSegment(_12fe+1,"Contacts");req.setQueryArg("select","IsPrimary,Contact/NameLF,Contact/IsPrimary,Contact/WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.read({success:function(data){var _1300=data["$resources"];if(_1300.length<1){this._setContactToCurrentAccountPrimary();return;}var _1301=false,_1302=false,_1303=_1300[0],_1304;for(var i=0;i<_1300.length;i++){if(_1300[i]){if(_1300.IsPrimary){if(!_1301||_1300[i].Contact.IsPrimary){_1301=_1300[i];}}if(!_1302&&_1300[i].Contact.IsPrimary){_1302=_1300[i];}}}_1304=_1301||_1302||_1303;if(_1304){this._activityData.ContactId=Sage.Utility.getValue(_1304,"Contact.$key");this._activityData.ContactName=Sage.Utility.getValue(_1304,"Contact.NameLF");this._activityData.PhoneNumber=Sage.Utility.getValue(_1304,"Contact.WorkPhone");this._rebindToCurrentContact();}},failure:function(){this._rebindToCurrentContact();},scope:this});},_setContactToCurrentAccountPrimary:function(){if(this._isNullOrWhitespace(this._activityData.AccountId)){this._rebindToCurrentContact();return;}var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("accounts");var _1305=req.uri.pathSegments.length-1;var _1306=req.uri.getPathSegment(_1305);_1306["predicate"]='"'+this._activityData.AccountId+'"';req.uri.setPathSegment(_1305+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _1307=data["$resources"];if(_1307.length<1){this._rebindToCurrentContact();return;}var _1308=_1307[0];this._activityData.ContactId=Sage.Utility.getValue(_1308,"$key");this._activityData.ContactName=Sage.Utility.getValue(_1308,"NameLF");this._activityData.PhoneNumber=Sage.Utility.getValue(_1308,"WorkPhone");this._isBinding=true;this.lup_Contact.set("selectedObject",_1308);this._isBinding=false;},failure:function(){this._rebindToCurrentContact();},scope:this});},_rebindToCurrentContact:function(){this._isBinding=true;this.lup_Contact.set("selectedObject",{"$key":this._activityData.ContactId,"$descriptor":this._activityData.ContactName});this._isBinding=false;},_updateLookupSeedValues:function(_1309){var accId=_1309||this._activityData.AccountId;this.contactLookupConfig.seedValue=accId;this.opportunityLookupConfig.seedValue=accId;this.ticketLookupConfig.seedValue=accId;},_setUI:function(){this._formatHeader();this._setDisabledByTimlessValue();this._setHasAlarmUI();if(this._isNullOrWhitespace(this._activityData.LeadId)){this.rdo_Contact.set("checked",true);}else{this.rdo_Lead.set("checked",true);}this._setContactLeadVisibility();this._setScheduledByLabel();},_checkSecurityAccess:function(_130a,_130b,_130c,scope){this.accessData=false;if(!this._accessStore){this._accessStore=new _12ad({include:["$descriptors"],resourceKind:"activityresourceviews",service:_12ba.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_130b+"-"+_130a+"'",onComplete:function(_130d){_130c.call(scope,_130d);},onError:function(){_130c.call(scope,null);},scope:this});},_setUIForActivityType:function(_130e){this.pk_Regarding.set("pickListName",_12b3.getActivityPicklistName("Regarding",_130e));this.pk_Category.set("pickListName",_12b3.getActivityPicklistName("Category",_130e));this.pl_Result.set("pickListName",_12b3.getActivityPicklistName("Result",_130e));this.btn_Complete.set("disabled",!this._activityData.AllowComplete);if(this.mode!=="Confirm"){var _130f=this._activityData.AllowEdit;var _1310=this._activityData.AllowDelete;if(this.activityMemberId&&this.activityMemberId!==this._activityData.Leader.$key){_130f=false;_1310=false;}this._bulkSetProperty(this,this.noEditDisableList,"disabled",(!_130f));this.ta_Notes.set("readonly",!_130f);if((this.activityMemberId&&this._memberSecurityData[this.activityMemberId]&&this._memberSecurityData[this.activityMemberId].AllowEdit)||this.activityMemberId===this._currentUserId||this._activityData["UserId"]===this._currentUserId){this.btn_OK.set("disabled",false);}else{this.btn_OK.set("disabled",!this._activityData.AllowEdit);}this.btn_Delete.set("disabled",!_1310);}if(this.mode==="Complete"){this.btn_asScheduled.set("disabled",!this._activityData.AllowComplete);this.btn_Now.set("disabled",!this._activityData.AllowComplete);}this.pk_Category.set("disabled",(_130e==="atPersonal")||(this.mode==="Confirm")||this.pk_Category.get("disabled"));if((!this._canEdit())||(_130e==="atPersonal"||_130e==="atToDo")){_12c0.add(this.lup_Resources.domNode,"display-none");}else{_12c0.remove(this.lup_Resources.domNode,"display-none");}},_setDisabledByTimlessValue:function(){if(!this._activityData){return;}var tless=this._activityData["Timeless"];this._handleAutoRolloverState();this.dtp_startDate.set("displayTime",!tless);var _1311=this._activityData.AllowEdit;if(this.activityMemberId&&this.activityMemberId!==this._activityData.Leader.$key){_1311=false;}this.sel_Duration.set("disabled",tless||(this.mode==="Confirm")||!_1311);this.sel_DurationComplete.set("disabled",tless);this.dtp_scheduledDate.set("displayTime",!tless);},_handleAutoRolloverState:function(){var _1312=(this._activityData["Timeless"]&&!this._activityData["Recurring"]);if(_1312){this.cb_AutoRollover.set("disabled",false);}else{this.cb_AutoRollover.set("disabled",true);this.cb_AutoRollover.set("checked",false);}},_bulkSetProperty:function(ui,_1313,prop,val){for(var i=0;i<_1313.length;i++){var ctrl=ui[_1313[i]];if(ctrl){ctrl.set(prop,val);}}},_timelessChange:function(){this._setDisabledByTimlessValue();if(this.mode==="Complete"||this.mode==="CompleteUnscheduled"){if(this.cb_TimelessComplete.get("checked")){var _1314=this.dtp_scheduledDate.get("value");_1314.setHours(0);_1314.setMinutes(0);_1314.setSeconds(5);this.dtp_scheduledDate.set("value",_1314);}}else{_12af.setValue(this._activityData,"TimelessChanged",true);if(this.cb_Timeless.get("checked")){var d=this.dtp_startDate.get("value");d.setHours(0);d.setMinutes(0);d.setSeconds(5);this.dtp_startDate.set("value",d);var _1315=this._getAlarmLeadTime();var _1316=this._getAlarmTime(d,_1315,true);this.sel_AlarmDur.set("startTime",d);this.sel_AlarmDur.set("timeValue",_1316);}else{var d=this.dtp_startDate.get("value");var _1317=_12b3.roundDateToNextQuarterHour(new Date());var min=_1317.getMinutes();var hour=_1317.getHours();var _1318=new Date(d.getFullYear(),d.getMonth(),d.getDate(),hour,min);this.dtp_startDate.set("value",_1318);var _1315=this._getAlarmLeadTime();var _1316=this._getAlarmTime(_1318,_1315,false);this.sel_AlarmDur.set("startTime",_1318);this.sel_AlarmDur.set("timeValue",_1316);}}},_alarmCheckChanged:function(_1319,_131a,_131b,_131c){this._setHasAlarmUI(_131c);},_descriptionChanged:function(){this._formatHeader();},_notesChanged:function(_131d,_131e,_131f,_1320){_12af.setValue(this._activityData,"Notes",(_1320)?_1320.substr(0,255):_1320);},_startDateChanged:function(){var _1321=this.dtp_startDate.get("value");this.sel_Duration.set("startTime",_1321);this.sel_AlarmDur.set("startTime",_1321);var _1322=this._getAlarmLeadTime();var _1323=this._getAlarmTime(_1321,_1322,this.cb_Timeless.get("checked"));this.sel_AlarmDur.set("timeValue",_1323);var act=(this._currentUserActivityData)?this._currentUserActivityData:this._activityData;Sage.Utility.setValue(act,"AlarmTime",Sage.Utility.Convert.toIsoStringFromDate(this.sel_AlarmDur.get("timeValue")));if(this._availabilityShowing){scheduler.setCurrentView(_1321,"timeline");this._requestAvailability();}this._recurringEditor.set("startDate",_1321);},_getAlarmTime:function(_1324,_1325,_1326){var _1327=_12b4.add(_1324,"minute",_1325*-1);if(_1326===true){_1327=new Date(_1324.getFullYear(),_1324.getMonth(),_1324.getDate());_1327=_12b4.add(_1327,"minute",_1325*-1);}return _1327;},_getAlarmLeadTime:function(){var _1328="15";if(this._options[this.activityType]){var _1329=this._options[this.activityType];_1328=_1329["alarmLead"];}if(_1328.toLowerCase()==="none"){_1328=15;}else{_1328=parseInt(_1328,10);}return _1328;},_setHasAlarmUI:function(_132a){if(typeof _132a==="undefined"){_132a=Sage.Utility.getValue(this._currentUserActivityData||this._activityData,"Alarm");}this.sel_AlarmDur.set("disabled",!_132a||this.mode==="Confirm");},_setContactLeadVisibility:function(){var _132b=this.rdo_Contact.get("checked");_12c0.remove((_132b)?this.contactContainer.domNode:this.leadContainer.domNode,"display-none");_12c0.add((_132b)?this.leadContainer.domNode:this.contactContainer.domNode,"display-none");},_formatHeader:function(){var _132c="";var _132d=_12b3.getActivityTypeName(this._activityData["Type"]||"atAppointment");switch(this.mode){case"New":_132c=this.scheduleText;break;case"Complete":case"CompleteUnscheduled":_132c=this.completeText;break;}if(this.mode==="Confirm"){if(!this._notificationData){return;}this._getUserInfoFor(this._notificationData.FromUser["$key"],function(user){if(this._notificationData){var _132e=this._notificationData.Type;switch(_132e){case"Change":_132c=this.updatedText;break;case"Confirm":_132c=this.acceptedText;break;case"Deleted":_132c=this.deletedText;break;case"Leader":_132c=this.scheduledText;break;case"Decline":_132c=this.declinedText;break;}var _132f=(_132e==="New")?this.newConfirmationHeaderFormatText:this.otherConfimationHeaderFormatText;this._setHeader(_12b6.substitute(_132f,{activityType:_132d,actionText:_132c,user:user["UserName"]||user["$descriptor"]}));}});}else{this._setHeader(_12b6.substitute(this.dialogHeaderFormatText,{actionText:_132c,activityType:_132d,description:this._activityData["Description"]||""}));}},_setHeader:function(_1330){var html=_12b6.substitute('<div class="Global_Images icon16x16 ${0}" > </div>&nbsp;<span class="activity-dialog-title">${1}</span>',[_12b3.getActivityImageClass(this._activityData["Type"]||"atAppointment","small"),_1330]);this._dialog.titleNode.innerHTML=html;},_setScheduledByLabel:function(){var _1331=_12af.Convert.toDateFromString(_12af.getValue(this._activityData,"CreateDate"));if(!_1331||_1331.getFullYear()<1000){_1331=new Date();}var _1332=this._getActivityStartDate();var _1333=_12af.getValue(this._activityData,"CreateUser").trim();var _1334=(this.mode==="Complete"||this.mode==="CompleteUnscheduled")?this.completeScheduledByFormatText:this.scheduledByFormatText;var lbl;if(!_1333||this._currentUserId===_1333){_1333=_12af.getClientContextByKey("userPrettyName");}else{if(_1333==="PROCESS"||_1333==="ADMIN"){_1333="Administrator";}else{this._getUserInfoFor(_1333,function(user){lbl=_12b6.substitute(_1334,{user:user["$descriptor"],date:_12b5.format(_1331,{selector:"date",fullYear:true}),startDate:_12b5.format(_1332,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);dojo.html.set(this.lbl_ScheduledByComp,lbl);});return;}}lbl=_12b6.substitute(_1334,{user:_1333,date:_12b5.format(_1331,{selector:"date",fullYear:true}),startDate:_12b5.format(_1332,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);dojo.html.set(this.lbl_ScheduledByComp,lbl);},_getUserInfoFor:function(_1335,_1336){if(_1335){var _1337=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic",false,true,true));_1337.setResourceKind("userInfo");_1337.setResourceSelector("'"+_1335+"'");_1337.setQueryArg("precedence","0");_1337.read({success:_1336,scope:this,failure:function(){}});}},_showRecurringTab:function(){this._recurringEditor.onTabShow();this._recurringEditor._setReadOnly(!this._canEdit());},_showAttachmentsTab:function(){var self=this;window.setTimeout(function(){self._ensureAttachmentList();},100);},_ensureAttachmentList:function(){if(!this._attachmentList){this._attachmentList=new _12b9({workspace:"",tabId:"",placeHolder:this.id+"_attachmentsGridPlaceholder",parentRelationshipName:"activityId"});var self=this;this._attachmentList.startup(function(){if(self.cp_Attachments){self.cp_Attachments.resize();}if(self._canEdit()){self._attachmentList.setToReadOnly(false);}else{self._attachmentList.setToReadOnly(true);}});}else{if(this._canEdit()){this._attachmentList.setToReadOnly(false);}else{this._attachmentList.setToReadOnly(true);}this._attachmentList.resetEntityContext();}},_completeClick:function(){this._completeAfterSaving=true;this._saveAndClose();},_deleteClick:function(){if(this._activityData&&this._activityStore){_12b7.raiseQueryDialogExt({title:"",query:this.areYouSureText,callbackFn:function(_1338){if(_1338){this._activityStore.deleteEntity(this._activityData,this._successfulActivityDelete,this._failedActivityDelete,this);}},yesText:this.okText,noText:this.cancelText,icon:"questionIcon",scope:this});}},_asScheduledClick:function(){this._updateAttendeesAndComplete(_12b4.add(this.dtp_scheduledDate.get("value"),"minute",this._activityData.Duration));},_nowClick:function(){this._updateAttendeesAndComplete(this.dtp_completedDate.get("value"));},_updateAttendeesAndComplete:function(_1339){if (this.ta_Notes.get('value') === '') {
                alert("Please Enter Notes");
                return;
            }
			if(this.mode==="Complete"){var self=this;var _133a=this.attendeesTab._activitySaved();_133a.then(function(value){self._completeActivity(_1339);});}else{this._completeActivity(_1339);}},_completeActivity:function(_133b){if(this._isProcessing){return;}this._isProcessing=true;if(this.mode==="Complete"){var _133c={"$name":"Complete","request":{"entity":this._activityData,"userId":this._currentUserId,"result":this.pl_Result.get("value"),"resultCode":this.pl_Result.get("code"),"completeDate":_12af.Convert.toIsoStringFromDate(_133b)}};var _133d=new Sage.SData.Client.SDataServiceOperationRequest(_12ba.getSDataService("system")).setResourceKind("activities").setOperationName("Complete");_133d.execute(_133c,{success:this._successfulComplete,failure:this._failedComplete,scope:this});}else{if(this.mode==="CompleteUnscheduled"){var _133e=new _12ad({include:["$descriptors"],resourceKind:"history",service:_12ba.getSDataService("dynamic")});_12af.setValue(this._activityData,"CompletedDate",_12af.Convert.toIsoStringFromDate(_133b));_12af.setValue(this._activityData,"Result",this.pl_Result.get("value"));_12af.setValue(this._activityData,"ResultCode",this.pl_Result.get("code"));_133e.saveNewEntity(this._activityData,this._successfulComplete,this._failedComplete,this);}}},_okClick:function(){var _133f=_12c2.curNode;if(_133f){_133f.blur();}setTimeout(lang.hitch(this,function(){this._saveAndClose();}),1);},_saveAndClose:function(){
if (this.pk_Regarding.get('value') === '')
            {
                alert("Please Select Regarding...");
                return;
            }
            if (this.dtp_startDate.get('value') === '') {
                alert("Please Select Regarding...");
                return;
            }
            if (this.sel_Duration.get('value') === '') {
                alert("Please Select Regarding...");
                return;
            }
            if (this.rdo_Contact.get('value') == 'contact') {
                var act = this._activityData;
                if (act.AccountId === '' || act.AccountId === null) {
                    alert("Please Select Account...");
                    return;
                }
            }
            if (this.rdo_Lead.get('value') == 'lead') {
                var act = this._activityData;
                if (act.LeadId === '' || act.LeadId === null) {
                    alert("Please Select Lead...");
                    return;
                }
            }
			var _1340=this.sel_AlarmDur.get("timeValue");if(_1340.getSeconds()===5){_1340=new Date(_1340.getFullYear(),_1340.getMonth(),_1340.getDate(),_1340.getHours(),_1340.getMinutes(),0);}if(this.mode==="New"){if(this._attachmentList){var _1341=this._attachmentList.getNewAttachments();if(_1341.length>0){this._activityData.Attachment=true;}}this._currentUserActivitySaved=true;_12af.setValue(this._activityData,"Alarm",this.cb_Alarm.get("checked"));_12af.setValue(this._activityData,"AlarmTime",_12af.Convert.toIsoStringFromDate(_1340));this._activityStore.saveNewEntity(this._activityData,this._successfulActivitySave,this._failedActivitySave,this);}else{this._activityData.Attachment=this._activityData.AttachmentCount>0?true:false;if(this._currentUserActivityData){if(_12af.getValue(this._activityData,"RecurrenceState")==="rstOccurrence"){_12af.setValue(this._activityData,"Alarm",this.cb_Alarm.get("checked"));_12af.setValue(this._activityData,"AlarmTime",_12af.Convert.toIsoStringFromDate(_1340));this._currentUserActivitySaved=true;}else{if((this._tempUAData)&&(this._tempUAData.Alarm===this._currentUserActivityData.Alarm&&this._tempUAData.AlarmTime.getTime()===_1340.getTime())){this._currentUserActivitySaved=true;}else{delete (this._currentUserActivityData.Activity);this._currentUserActivityData.AlarmTime=_12af.Convert.toIsoStringFromDate(_1340);this._currentUserActivityStore.save({scope:this,success:this._successfulCurrentUserActivitySave,failure:this._failedUserActivitySave});}}}else{_12af.setValue(this._activityData,"AlarmTime",_12af.Convert.toIsoStringFromDate(_1340));this._currentUserActivitySaved=true;}if(this._activityData.AllowEdit){this._activityStore.save({scope:this,success:this._successfulActivitySave,failure:this._failedActivitySave});}else{this._activitySaved=true;this._userActivitiesSaved=true;this._resourcesSaved=true;this._resourcesRemoved=true;this._attachmentsSaved=true;this._hideIfComplete();}}},_successfulActivitySave:function(_1342){var self=this;var _1343=arguments;var _1344=this.attendeesTab._activitySaved(_1342);_1344.then(function(value){self._successfulActivityAttendeeSave(_1342);});},_successfulActivityAttendeeSave:function(_1345){if(this._activityData.LeaderChanged){_1345.LeaderChanged=true;}if(this._activityData.TimelessChanged){_1345.TimelessChanged=true;}this._activityData=_1345;var isNew=false;var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();if(this.activityId===""){dojo.publish("/entity/activity/create",[this._activityData,this]);isNew=true;}this.activityId=_1345["$key"];var _1346=false,_1347=false;var ldr=_1345.Leader["$key"];for(var i=0;i<this._newAttendeesData.length;i++){_1346=(_1346||(this._newAttendeesData[i]["Type"]==="User"&&this._newAttendeesData[i]["$key"]!==ldr));_1347=(_1347||this._newAttendeesData[i]["Type"]==="Resource");}if(_1346){var uareq=new Sage.SData.Client.SDataTemplateResourceRequest(_12ba.getSDataService("system"));uareq.setResourceKind("userActivities");uareq.read({success:this._onGetUserActivityTemplate,failure:this._failedUserActivitySave,scope:this});}else{this._userActivitiesSaved=true;}if(_1347){var _1348=new Sage.SData.Client.SDataTemplateResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_1348.setResourceKind("resourceSchedules");_1348.read({success:this._onGetResourceScheduleTemplate,failure:this._failedUserActivitySave,scope:this});}else{this._resourcesSaved=true;}this._attachmentsSaved=true;if(this._attachmentList){var _1349=this._attachmentList.getNewAttachments();if(_1349.length>0&&this.mode==="New"){this._saveAttachments(_1349);this._attachmentsSaved=false;}}if(this._attendeesForRemoval.length>0){this._removeResources();}else{this._resourcesRemoved=true;}if(!this._completeAfterSaving&&!isNew){dojo.publish("/entity/activity/change",[_1345,this]);}this._activitySaved=true;this._hideIfComplete();},_saveAttachments:function(_134a,_134b){this._attachmentRequests=_134a.length;for(var i=0;i<_134a.length;i++){var att=_134a[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_12ba.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");if(_134b){att.historyId=_134b;}else{att.activityId=this.activityId;}for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _134c=p.substring(0,1).toLowerCase()+p.substring(1);att[_134c]=this._activityData[p];}}req.update(att,{ignoreETag:true,success:this._successfulAttachmentSave,failure:this._failedAttachmentSave,scope:this});}},_removeAttachments:function(){if(!this._attachmentList){return;}var _134d=this._attachmentList.getNewAttachments();for(var i=0;i<_134d.length;i++){var att=_134d[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_12ba.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");req["delete"](att,{success:function(){},failure:function(){},scope:this});}},getRelationshipsForAttachments:function(){var obj={};for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _134e=p.substring(0,1).toLowerCase()+p.substring(1);obj[_134e]=this._activityData[p];}}if(this.mode==="New"&&!_12bb.supportsHTML5File&&!Sage.gears){this._tempIdForAttachments=this._makeTempID();obj["activityId"]=this._tempIdForAttachments;}return obj;},doCarryOverAttachments:function(_134f){this._ensureAttachmentList();_12bc.getAttachmentTemplate(function(_1350){this._getHistoryAttachments(_134f,_1350);},this);},_getHistoryAttachments:function(_1351,_1352){var _1353=new Sage.SData.Client.SDataResourceCollectionRequest(_12ba.getSDataService("system"));_1353.setResourceKind("attachments");_1353.setQueryArg("where","historyId eq '"+_1351+"'");_1353.read({success:function(data){var items=data["$resources"];var mixin={activityId:this._makeTempID(),historyId:null};var req=new Sage.SData.Client.SDataSingleResourceRequest(_12ba.getSDataService("system"));req.setResourceKind("attachments");if(items&&items.length){var l=items.length;for(var i=0;i<l;i++){var _1354=_12b1.mixin(items[i],mixin);var _1355=_12b1.mixin(_1352,_1354);delete _1355.createDate;delete _1355.modifyDate;delete _1355.createUser;delete _1355.modifyUser;delete _1355.$key;delete _1355.$etag;_1355.fileName=_1355.physicalFileName;_1355.attachDate=_12af.Convert.toIsoStringFromDate(new Date());req.create(_1355,{success:function(_1356){dojo.publish("/entity/attachment/create",[_1356]);},failure:function(){},scope:this});}}},failure:function(){},scope:this});},_getHistoryAttendees:function(_1357){var _1358=new Sage.SData.Client.SDataResourceCollectionRequest(_12ba.getSDataService("dynamic"));_1358.setResourceKind("historyAttendees");_1358.setQueryArg("where","HistoryId eq '"+_1357+"'");_1358.read({success:function(data){var items=data["$resources"];var _1359=[];for(var i=0;i<items.length;i++){if(items[i].EntityType!="User"){var mixin={$key:items[i].EntityId,$descriptor:items[i].Name,general:false};var _135a=_12b1.mixin(items[i],mixin);_1359.push(_135a);}}this.attendeesTab._addAttendeesToStore(_1359);},failure:function(){},scope:this});},_makeTempID:function(){if(!this._tempIdForAttachments){var uid=this._currentUserId;var dstr=_12af.Convert.toIsoStringFromDate(this.dtp_startDate.get("value"));dstr=dstr.replace(/[T:-]/g,"").substr(6,6);this._tempIdForAttachments="NE"+uid.substr(uid.length-4,4)+dstr;}return this._tempIdForAttachments;},_attachmentRequests:0,_successfulAttachmentSave:function(_135b){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;this._hideIfComplete();}},_failedAttachmentSave:function(){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;this._hideIfComplete();}},_successfulCurrentUserActivitySave:function(_135c){this._currentUserActivitySaved=true;dojo.publish("/entity/userActivity/change",[_135c,this]);this._hideIfComplete();},_successfulActivityDelete:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();dojo.publish("/entity/activity/delete",[this._activityData["$key"],this]);if(this._activityData["Timeless"]){dojo.publish("/entity/activity/timeless/delete",[this._activityData["$key"],this]);}this.hide();},_successfulComplete:function(_135d){if(this.mode==="CompleteUnscheduled"){var self=this;var _135e=arguments;var _135f=this.attendeesTab._historySaved(_135d);_135f.then(function(value){self._successfulAttendeesComplete(_135d);});}else{this._successfulAttendeesComplete(_135d);}},_successfulAttendeesComplete:function(_1360){this._isProcessing=false;var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();var hist=_1360;if(this.mode==="Complete"){if(_1360.Response){hist=_1360.Response;}dojo.publish("/entity/activity/delete",[this._activityData["$key"],this]);if(this._activityData["Timeless"]){dojo.publish("/entity/activity/timeless/delete",[this._activityData["$key"],this]);}}dojo.publish("/entity/history/create",[hist,this]);var _1361=null;if(this.mode==="Complete"){if(_1360.Response){_1361=_1360.Response.HistoryId;}}else{_1361=hist.$key;}if(this._attachmentList){var _1362=this._attachmentList.getNewAttachments();if(_1362.length>0){this._activityData.Attachment=true;this._saveAttachments(_1362,_1361);}}var _1363=this.sel_Followup.get("value");switch(_1363){case this.noneText:this.hide();return;case _12b3.getActivityTypeName("atPhoneCall"):_1363="atPhoneCall";break;case _12b3.getActivityTypeName("atAppointment"):_1363="atAppointment";break;case _12b3.getActivityTypeName("atToDo"):_1363="atToDo";break;}if(typeof _1361==="undefined"||_1361===null){this.hide();_12b7.showError(this.scheduleFollowUpErrorText);return;}var _1364=this._getFollowUpActivityData(_1361);this.hide();window.setTimeout(function(){var _1365=Sage.Services.getService("ActivityService");if(_1365){_1365.scheduleActivity({"type":_1363,"preConfigured":_1364});}},250);},_getFollowUpActivityData:function(_1366){var a=this._activityData;var ret={AccountId:a.AccountId,AccountName:a.AccountName,ContactId:a.ContactId,ContactName:a.ContactName,Description:a.Description,LeadId:a.LeadId,LeadName:a.LeadName,OpportunityId:a.OpportunityId,OpportunityName:a.OpportunityName,TicketId:a.TicketId,TicketNumber:a.TicketNumber};if(this.ck_coNotes.get("checked")){ret["LongNotes"]=a.LongNotes;ret["Notes"]=a.Notes;}if(this.ck_coAttachments.get("checked")){ret["carryOverAttachmentsFrom"]=_1366;}ret["carryOverParticipantsFrom"]=_1366;return ret;},_failedActivitySave:function(_1367){var msg=_12b3.findFailedRequestMessage(_1367,this.couldNotSaveErrorText);_12b7.showError(msg);this._completeAfterSaving=false;},_failedActivityDelete:function(_1368){var msg=_12b3.findFailedRequestMessage(_1368,this.couldNotDeleteErrorText);_12b7.showError(msg);this._completeAfterSaving=false;},_failedUserActivitySave:function(_1369){var msg=_12b3.findFailedRequestMessage(_1369,this.couldNotSaveErrorText);_12b7.showError(msg);},_failedResourceSave:function(_136a){var msg=_12b3.findFailedRequestMessage(_136a,this.couldNotSaveErrorText);_12b7.showError(msg);},_failedComplete:function(_136b){var msg=_12b3.findFailedRequestMessage(_136b,this.couldNotCompleteErrorText);_12b7.showError(msg);this._isProcessing=false;},_onGetUserActivityTemplate:function(_136c){this._userActivitiesRequestCount=0;var ldr=this.lup_Leader.get("selectedObject");ldr=ldr["$key"].substr(0,12);var act=this._activityData;var _136d=_12af.Convert.toDateFromString(act.AlarmTime);for(var i=0;i<this._newAttendeesData.length;i++){var nat=this._newAttendeesData[i];if(nat["Type"]==="User"&&nat["$key"]!==ldr){var newua=dojo.mixin({},_136c);var _136e={User:{"$key":nat["$key"]},ActivityId:this.activityId,Activity:{"$key":this.activityId},Alarm:act.Alarm,AlarmTime:_12af.Convert.toIsoStringFromDate(_136d),Status:"asUnconfirmed"};newua=_12b1.mixin(newua,_136e);var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));req.setResourceKind("userActivities");this._userActivitiesRequestCount++;req.create(newua,{success:function(_136f){this._userActivitiesRequestCount--;dojo.publish("/entity/userActivity/create",[_136f,this]);if(this._userActivitiesRequestCount<1){this._userActivitiesSaved=true;this._hideIfComplete();}},failure:this._failedUserActivitySave,scope:this});}}if(this._userActivitiesRequestCount<1){this._userActivitiesSaved=true;if(act.Timeless){dojo.publish("/entity/userActivities/timeless/saved",[act,this]);}this._hideIfComplete();}},_onGetResourceScheduleTemplate:function(_1370){this._resourceRequestCount=0;for(var i=0;i<this._newAttendeesData.length;i++){var nat=this._newAttendeesData[i];if(nat["Type"]==="Resource"){var newRe=_12b1.mixin({},_1370);var act=this._activityData;var sd=Sage.Utility.Convert.toDateFromString(act["StartDate"]);var ed=_12b4.add(sd,"minute",act["Duration"]);var _1371={ResourceId:nat["$key"],ActivityId:this.activityId,Description:nat["Name"],StartDate:act["StartDate"],EndDate:Sage.Utility.Convert.toIsoStringFromDate(ed),UserId:act.Leader["$key"]};newRe=_12b1.mixin(newRe,_1371);var req=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("resourceSchedules");this._resourceRequestCount++;req.create(newRe,{success:function(_1372){this._resourceRequestCount--;if(this._resourceRequestCount<1){this._resourcesSaved=true;this._hideIfComplete();}},failure:this._failedResourceSave,scope:this});}}},_removeResources:function(){this._resourceDeleteRequestCount=0;for(var i=0;i<this._attendeesForRemoval.length;i++){var rem=this._attendeesForRemoval[i];var _1373;var _1374;var _1375;if(rem["type"]==="user"){_1373=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("system"));_1373.setResourceKind("userActivities");_1374=_12b6.substitute("'ActivityId=${0};UserId=${1}'",[this.activityId,rem["id"]]);_1375="/entity/userActivity/delete";}else{_1373=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));_1373.setResourceKind("resourceSchedules");_1374="'"+rem["rsid"]+"'";_1375="/entity/resourceSchedule/delete";}_1373.setResourceSelector(_1374);this._resourceDeleteRequestCount++;var _1376={notify:function(){dojo.publish(this.evt,[this.predicate]);this.editor._resourceDeleteRequestCount--;if(this.editor._resourceDeleteRequestCount<1){this.editor._resourcesRemoved=true;this.editor._hideIfComplete();}},evt:_1375,predicate:_1374,editor:this};var _1377={success:_1376.notify,aborted:function(){},failure:this._failedResourceSave,scope:_1376};_1373["delete"]({"$key":_1374},_1377);}},_cancelClick:function(){if(this.mode==="New"){this._removeAttachments();}this.hide();},_hideIfComplete:function(){if(this._activitySaved&&this._userActivitiesSaved&&this._currentUserActivitySaved&&this._resourcesSaved&&this._resourcesRemoved&&this._attachmentsSaved){var actId=this.activityId;if(this._completeAfterSaving){this._completeAfterSaving=false;var svc=Sage.Services.getService("ActivityService");if(svc){svc.completeActivity(actId);}}else{this.hide();}}},_acceptConfClick:function(){var _1378=Sage.Services.getService("ActivityService");_1378.acceptConfirmation({notification:this._notificationData,success:this._successfulAcceptConfirmation,failure:this._failedAcceptDecline,scope:this});},_declineClick:function(){var _1379=Sage.Services.getService("ActivityService");_1379.declineConfirmation({notification:this._notificationData,success:this._successfulDeclineConfirmation,failure:this._failedAcceptDecline,scope:this});},_deleteConfClick:function(){if(this._notificationData&&this._notificationStore){this._notificationStore.deleteEntity(this._notificationData,this._successfulNotificationDelete,this._failedActivityDelete,this);}},_getActivityDataFromNotificationData:function(){var _137a=null;var _137b=null;if(this._notificationData){if(this._notificationData.Activity){_137a=this._notificationData.Activity.$key;}if(this._notificationData.ToUser){_137b=this._notificationData.ToUser.$key;}}var _137c={"activityId":_137a,"userId":_137b};return _137c;},_successfulAcceptConfirmation:function(){dojo.publish("/entity/activity/confirm",[this._getActivityDataFromNotificationData(),null]);this._successfulNotificationDelete();},_successfulDeclineConfirmation:function(){dojo.publish("/entity/activity/decline",[this._getActivityDataFromNotificationData(),null]);this._successfulNotificationDelete();},_successfulNotificationDelete:function(){dojo.publish("/entity/userNotification/delete",[this._notificationData["$key"],this]);this.hide();},_ensureLookupsCreated:function(){if(!this.lup_Account){this.createAccountLookup();this.createContactLookup();this.createOpportunityLookup();this.createTicketLookup();this.createLeadLookup();this.createLeaderlookup();this.createResourcesLookup();}var self=this;if(dojo.byId("lu_lead_btnClearResult")){dojo.connect(dojo.byId("lu_lead_btnClearResult"),"onclick",null,function(){self.attendeesTab.unCheckPrimary();},true);}if(dojo.byId("lu_contact_btnClearResult")){dojo.connect(dojo.byId("lu_contact_btnClearResult"),"onclick",null,function(){self.attendeesTab.unCheckPrimary();},true);}},createAccountLookup:function(){this.accountLookupConfig={id:"_activityAcc",structure:[{"cells":[{"name":this.accountText,"field":"AccountName"},{"name":this.cityText,"field":"Address.City"},{"name":this.stateText,"field":"Address.State"},{"name":this.mainPhoneText,"field":"MainPhone"},{"name":this.typeText,"field":"Type"},{"name":this.subTypeText,"field":"SubType"},{"name":this.statusText,"field":"Status"},{"name":this.acctMgrText,"field":"AccountManager.UserInfo.UserName"},{"name":this.ownerText,"field":"Owner.OwnerDescription"}],"defaultCell":{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""}}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"accounts",sort:[{attribute:"AccountName"}]},isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,initializeLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupActText,dialogButtonText:this.okText},this.lup_Account=new _12bd({id:"lu_account",allowClearingResult:true,showEntityInfoToolTip:true,readonly:true,config:this.accountLookupConfig});this.eventConnections.push(dojo.connect(this.lup_Account,"onChange",this,"_accountChanged"));dojo.place(this.lup_Account.domNode,this.container_AccountLup.domNode,"only");},createContactLookup:function(){this.contactLookupConfig={id:"_activityContact",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"NameLF"},{name:this.accountText,field:"Account.AccountName"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.workphoneText,field:"WorkPhone"},{name:this.emailText,field:"Email"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",select:["Address/Timezone"],sort:[{attribute:"NameLF"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.okText};this.lup_Contact=new _12bd({id:"lu_contact",allowClearingResult:true,config:this.contactLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Contact,"onChange",this,"_contactChanged"));dojo.place(this.lup_Contact.domNode,this.container_ContactLup.domNode,"only");},createOpportunityLookup:function(){this.opportunityLookupConfig={id:"_activityOpp",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.descriptionText,field:"Description"},{name:this.acctMgrText,field:"AccountManager.UserInfo.UserName"},{name:this.accountText,field:"Account.AccountName"},{name:this.stageText,field:"Stage"},{name:this.statusText,field:"Status"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"opportunities",sort:[{attribute:"Description"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOpportunityText,dialogButtonText:this.okText};this.lup_Opportunity=new _12bd({id:"lu_opportunity",allowClearingResult:true,config:this.opportunityLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Opportunity,"onChange",this,"_opportunityChanged"));dojo.place(this.lup_Opportunity.domNode,this.container_OppLup.domNode,"only");},createTicketLookup:function(){this.ticketLookupConfig={id:"_activityTicket",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.ticketNumberText,field:"TicketNumber"},{name:this.accountText,field:"Account.AccountName"},{name:this.nameText,field:"Contact.NameLF"},{name:this.phoneText,field:"Contact.WorkPhone"},{name:this.statusText,field:"StatusCode",pickListName:"Ticket Status",propertyType:"SalesLogix.PickList",type:Sage.UI.Columns.PickList},{name:this.urgencyText,field:"Urgency.Description"},{name:this.areaText,field:"Area"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"tickets",sort:[{attribute:"TicketNumber"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupTicketText,dialogButtonText:this.okText};this.lup_Ticket=new _12bd({id:"lu_ticket",allowClearingResult:true,config:this.ticketLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Ticket,"onChange",this,"_ticketChanged"));dojo.place(this.lup_Ticket.domNode,this.container_TicketLup.domNode,"only");},createLeadLookup:function(){this.leadLookupConfig={id:"_activityLead",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.leadFullNameText,field:"LeadFullName"},{name:this.companyText,field:"Company"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.postalText,field:"Address.PostalCode"},{name:this.statusText,field:"Status"},{name:this.workphoneText,field:"WorkPhone"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"leads",select:["Address/Timezone"],sort:[{attribute:"LeadFullName"}]},isModal:true,initialLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeadText,dialogButtonText:this.okText};this.lup_Lead=new _12bd({id:"lu_lead",allowClearingResult:true,config:this.leadLookupConfig,readonly:true,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Lead,"onChange",this,"_leadChanged"));dojo.place(this.lup_Lead.domNode,this.container_LeadLup.domNode,"only");},createLeaderlookup:function(){var _137d={id:"_activityLeader",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return"AllowAdd AND (AccessId eq '"+_12af.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeaderText,dialogButtonText:this.okText};this.lup_Leader=new _12bd({id:"lu_leader",readonly:true,config:_137d});this.eventConnections.push(dojo.connect(this.lup_Leader,"onChange",this,"_leaderChanged"));dojo.place(this.lup_Leader.domNode,this.container_LeaderLup.domNode,"only");},createResourcesLookup:function(){this.resourcesLookupConfig={id:"_activityResources",btnToolTip:this.lookupResourcesText,structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"Name"},{name:this.typeText,field:"Type",width:"100px"},{name:this.locationText,field:"IsLocation",propertyType:"System.Boolean",format:function(_137e,_137f){var type=_12af.getValue(_137f,"Type");if(!type){return this.defaultValue;}if(type==="User"){return"";}return(_137f["IsLocation"]===null||_137f["IsLocation"]==="false")?this.noText:this.yesText;}},{name:this.descriptionText,field:"Subtype",width:"200px"}]}],gridOptions:{},displayMode:5,storeOptions:{resourceKind:"activityresourceviews",select:["AccessId","ResourceId","AllowAdd","AllowEdit","AllowDelete"],sort:[{attribute:"Type"},{attribute:"Name"}]},isModal:true,initialLookup:false,preFilters:[],query:{conditions:"AllowAdd AND (AccessId eq '"+this._currentUserId+"' OR AccessId eq 'EVERYONE')"},dialogTitle:this.lookupResourcesText,dialogButtonText:this.addResourceText,doSelected:function(items){var _1380=dijit.byId("activityEditor");if(_1380){_1380.addMembers(items);}this.lookupDialog.hide();}};this.lup_Resources=new Sage.UI.SDataLookup(this.resourcesLookupConfig);this.lup_Resources.cancelText=this.lup_Resources.closeText;dojo.place(this.lup_Resources.domNode,this.container_ResourcesLup.domNode,"only");},_schedulerInitialized:false,_resetAttendeesList:function(){if(!this._schedulerInitialized){scheduler.showLightbox=function(){return false;};scheduler.config.timelineStep=30;scheduler.config.timelineStart=(this._options.calendar.dayStartTime*2);scheduler.config.timelineSize=((this._options.calendar.dayEndTime-this._options.calendar.dayStartTime)*2);scheduler.createTimelineView({name:"timeline",x_unit:"minute",x_date:"%g:%i",x_step:scheduler.config.timelineStep,x_start:scheduler.config.timelineStart,x_size:scheduler.config.timelineSize,y_unit:[],y_property:"section_id",render:"bar",section_autoheight:false,dy:30});scheduler.init("scheduler_here",new Date(),"timeline");scheduler.attachEvent("onBeforeDrag",function(){return false;});scheduler.config.dblclick_create=false;var self=this;dojo.query(".dhx_cal_prev_timeline_button").connect("onclick",function(){if(!scheduler.config.timelineStart==0){self.reRenderTimeline("left");}});dojo.query(".dhx_cal_next_timeline_button").connect("onclick",function(){if(scheduler.config.timelineStart+scheduler.config.timelineSize<48){self.reRenderTimeline("right");}});this._schedulerInitialized=true;}scheduler.clearAll();},_loadAttendeesData:function(){this._availabilityShowing=true;if(this.mode==="New"){var ldr=this.lup_Leader.get("selectedObject");var _1381=ldr["$descriptor"],_1382=ldr["$key"].substr(0,12);this.addMembers([{$descriptor:_1381,$key:_1382,IsLocation:false,Name:_1381,Subtype:"",Type:"User"}]);return;}var actid=this.activityId;if(!actid&&this._activityData){actid=this._activityData.$key;}if(!actid){return;}realActivityId=actid.substr(0,12);var req=new Sage.SData.Client.SDataNamedQueryRequest(Sage.Data.SDataServiceRegistry.getSDataService("mashups")).setApplicationName("$app").setResourceKind("mashups").setQueryName("execute").setQueryArg("_resultName","GetMembers").setQueryArg("_activityId",realActivityId);req.uri.setCollectionPredicate("'ActivityFreeBusy'");req.read({success:dojo.hitch(this,this._onReceiveAttendees),failure:dojo.hitch(this,this._availabilityFailed)});},_attendeesTemplate:new Simplate(['<table class="attendee-item">',"<tr>",'<td class="attendee-name">{%= $.name %}</td>',"{% if (($.isNotLeader) && ($.allowDelete)) { %}",'<td class="remove-attendee" id="{%= $.id %}"><img src="images/icons/Delete_16x16.png" alt="{%= $.removeText %}" title="{%= $.removeText %}" onclick="{%= $.deleteCode %}" /></td>',"{% } %}",'<td class="attendee-status"><img src="{%= $.img %}" alt="{%= $.imgToolTipText %}" title="{%= $.imgToolTipText %}"/></td>',"</tr>","</table>"]),_onReceiveAttendees:function(data){this._attendeesData=data["$resources"];if(this._originalLeaderId&&this._originalLeaderId!==this._activityData.Leader["$key"]){var len=this._attendeesData.length;for(var i=0;i<len;i++){if(this._attendeesData[i]["id"]===this._originalLeaderId){this._attendeesData.splice(i,1);break;}}}this._rebuildTimeLine();this._requestAvailability();},_rebuildTimeLine:function(_1383){var i;for(i=0;i<this._deleteAttendeeConnects.length;i++){dojo.disconnect(this._deleteAttendeeConnects[i]);}this._deleteAttendeeConnects=[];var _1384=[];var _1385={};var _1386=[];var _1387=[];var _1388=this._activityData.Leader["$key"].trim();var _1389="Sage.Utility.Activity.removeMember('${0}','${1}');";for(i=0;i<this._attendeesData.length;i++){var img=this._blankGif;var _138a="";var _138b=this._attendeesData[i]["status"]||0;if(_138b===1||_138b==="asAccepted"){img="images/icons/Accept.png";_138a=this.acceptedText;}else{if(_138b===2||_138b==="asDeclned"){img="images/icons/Decline.png";_138a=this.declinedText;}}var yUnit={key:this._attendeesData[i]["id"],label:this._attendeesTemplate.apply({name:this._attendeesData[i]["name"],img:img,imgToolTipText:_138a,id:this._attendeesData[i]["id"],isNotLeader:this._attendeesData[i]["id"].trim()!==_1388,allowDelete:this._canEdit(),removeText:this.removeText,deleteCode:dojo.string.substitute(_1389,[this.id,this._attendeesData[i]["id"]])})};if(this._attendeesData[i]["id"].trim()===_1388){_1385=yUnit;}else{if(this._attendeesData[i]["type"]==="user"){_1386.push(yUnit);}else{_1387.push(yUnit);}}}_1384=(_1385.key)?[_1385].concat(_1386.concat(_1387)):_1386.concat(_1387);for(i=0;i<this._newAttendeesData.length;i++){_1384.push({key:this._newAttendeesData[i]["$key"],label:this._attendeesTemplate.apply({name:this._newAttendeesData[i]["Name"],img:this._blankGif,id:this._newAttendeesData[i]["$key"],isNotLeader:this._newAttendeesData[i]["$key"].trim()!==_1388,allowDelete:this._canEdit(),removeText:this.removeText,deleteCode:dojo.string.substitute(_1389,[this.id,this._newAttendeesData[i]["$key"]])})});}if(_1383=="left"){if((scheduler.config.timelineStart-scheduler.config.timelineSize)>0){scheduler.config.timelineStart=scheduler.config.timelineStart-scheduler.config.timelineSize;}else{scheduler.config.timelineStart=0;}}else{if(_1383=="right"){var st=(scheduler.config.timelineSize+scheduler.config.timelineStart);if(st>(48-scheduler.config.timelineSize)){scheduler.config.timelineStart=48-scheduler.config.timelineSize;}else{scheduler.config.timelineStart=st;}}}var self=this;scheduler.createTimelineView({name:"timeline",x_unit:"minute",x_date:"%g:%i",x_step:scheduler.config.timelineStep,x_start:scheduler.config.timelineStart,x_size:scheduler.config.timelineSize,y_unit:_1384,y_property:"section_id",render:"bar",section_autoheight:false,dy:30});scheduler.setCurrentView(this._getActivityStartDate(),"timeline");},_updateLocation:function(_138c,isAdd){var _138d=this._activityData.Location;if(!_138d||_138d===""){if(isAdd){_138d=_138c;}}else{var parts=_138d.split("; ");var _138e=[];var _138f=false;for(var i=0;i<parts.length;i++){if(parts[i]===_138c){if(isAdd){_138f=true;}else{continue;}}_138e.push(parts[i]);}if(!_138f&&isAdd){_138e.push(_138c);}_138d=_138e.join("; ");}Sage.Utility.setValue(this._activityData,"Location",_138d);this.tb_Location.set("value",_138d);},_removeMember:function(args){var i;var id=args.memberId;var lst=[];for(i=0;i<this._attendeesData.length;i++){if(this._attendeesData[i]["id"]===id){if(this._attendeesData[i]["type"]==="resource"&&this._attendeesData[i]["IsLocation"]){this._updateLocation(this._attendeesData[i]["name"],false);}this._attendeesForRemoval.push(this._attendeesData[i]);}else{lst.push(this._attendeesData[i]);}}this._attendeesData=lst;lst=[];for(i=0;i<this._newAttendeesData.length;i++){if(this._newAttendeesData[i]["$key"]===id){if(this._newAttendeesData[i]["Type"]==="Resource"&&this._newAttendeesData[i]["IsLocation"]===true){this._updateLocation(this._newAttendeesData[i]["Name"],false);}}else{lst.push(this._newAttendeesData[i]);}}this._newAttendeesData=lst;this._rebuildTimeLine();if(!args.attendeesTab){this.attendeesTab._removeAssociatedContact(args.memberId);}},addMembers:function(items){var _1390=[];for(var i=0;i<items.length;i++){var item=items[i];if(item["$key"].length>12){item["$key"]=item["$key"].substr(0,12);}if(this._isMember(item)){continue;}if(item["ResourceId"]){item["$key"]=item["ResourceId"];}if(item["Type"]==="Resource"&&item["IsLocation"]===true){this._updateLocation(item["Name"],true);}_1390.push(item["$key"]);this._newAttendeesData.push(item);}if(this._availabilityShowing){this._rebuildTimeLine();this._requestAvailability();}this.attendeesTab._addContactAttendees(_1390);},_isMember:function(_1391){var i,len=this._attendeesData.length;for(i=0;i<len;i++){if(this._attendeesData[i]["id"]===_1391["$key"]){return true;}}len=this._newAttendeesData.length;for(i=0;i<len;i++){if(this._newAttendeesData[i]["$key"]===_1391["$key"]){return true;}}return false;},_updateUsersListWithNewLeader:function(_1392,_1393){var i,len=this._attendeesData.length;for(i=0;i<len;i++){if(this._attendeesData[i]["id"]===_1392){this._attendeesData.splice(i,1);break;}}len=this._newAttendeesData.length;for(i=0;i<len;i++){if(this._newAttendeesData[i]["$key"]===_1392){this._newAttendeesData.splice(i,1);break;}}this.addMembers([{$descriptor:_1393["$descriptor"],$key:_1393["$key"],IsLocation:false,Name:_1393["$descriptor"],Subtype:"",Type:"User"}]);},_requestAvailability:function(){if(this._attendeesData.length<1&&this._newAttendeesData.length<1){return;}var _1394=[];for(var i=0;i<this._attendeesData.length;i++){_1394.push("'"+this._attendeesData[i]["id"]+"'");}for(i=0;i<this._newAttendeesData.length;i++){_1394.push("'"+this._newAttendeesData[i]["$key"]+"'");}if(this._availabilityDataDateRange.fromDate){var _1395=Sage.Utility.Convert.toDateFromString(this._activityData["StartDate"]);if((_1395>this._availabilityDataDateRange.fromDate)&&(_1395<this._availabilityDataDateRange.toDate)&&(_1394.join("")===this._availabilityDataDateRange.users.join(""))){return;}}this._requestAvailabilityFor(_1394);},_availabilityDataDateRange:{fromDate:false,toDate:false,users:[]},_requestAvailabilityFor:function(_1396){var _1397=Sage.Utility.Convert.toDateFromString(this._activityData["StartDate"]);var _1398=_12b4.add(_1397,"day",-7);var _1399=_12b4.add(_1397,"day",7);this._availabilityDataDateRange.fromDate=_1398;this._availabilityDataDateRange.toDate=_1399;this._availabilityDataDateRange.users=_1396;var _139a=Sage.Services.getService("ActivityService");if(_139a){var _139b={quotedIds:_1396,startDate:_1398,endDate:_1399,expandRecurrences:true,includeTimless:false,timelessOnly:false};_139a.getActivityFreeBusyFor(this,_139b,this._onReceiveAvailability,this._availabilityFailed);}},_onReceiveAvailability:function(data){this._availabilityData=data["$resources"];this._applyAvailability();},_applyAvailability:function(){scheduler.clearAll();for(var i=0;i<this._availabilityData.length;i++){var item=this._availabilityData[i];if(item.type===262162&&item.itemId!==this._currentUserId){item["description"]=_12b3.getActivityTypeName("atPersonal");}var _139c=(item["activityId"]==this.activityId)?true:false;var _139d=Sage.Utility.Convert.toDateFromString(item["startDate"]);var eDate=_12b4.add(_139d,"minute",item["duration"]);scheduler.addEvent(_139d,eDate,item["description"],null,{section_id:item["itemId"],activity_Id:item["activityId"],current_event:_139c});}},reRenderTimeline:function(_139e){this._rebuildTimeLine(_139e);this._applyAvailability();},_availabilityFailed:function(req,msg){},_recurringStartDateChanged:function(_139f){var _13a0=this.dtp_startDate.get("value");if(_139f.getMonth()===_13a0.getMonth()&&_139f.getDate()===_13a0.getDate()&&_139f.getFullYear()===_13a0.getFullYear()){return;}if(this._activityData.StartDate){var _13a1=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate).getHours();var _13a2=Sage.Utility.Convert.toDateFromString(this._activityData.StartDate).getMinutes();_139f.setHours(_13a1);_139f.setMinutes(_13a2);}this._activityData.StartDate=(_139f.getFullYear)?_12af.Convert.toIsoStringFromDate(_139f):_139f;this.dtp_startDate.set("value",_139f);this._startDateChanged();},_recurringPeriodChanged:function(_13a3){this._handleAutoRolloverState();},_isOccurence:function(){if(this.activityId.length>12){return true;}return false;},_canEdit:function(){if((this.mode==="Confirm")||(!this._activityData.AllowEdit)||this._isOccurence()){return false;}return true;},_emptyActivity:{"$key":"","AccountId":null,"AccountName":"","ActivityBasedOn":null,"Alarm":false,"AlarmTime":_12af.Convert.toIsoStringFromDate(new Date()),"Attachment":false,"Category":null,"ContactId":null,"ContactName":"","CreateDate":"","CreateUser":"","Description":"","Duration":15,"ForeignId1":null,"ForeignId2":null,"ForeignId3":null,"ForeignId4":null,"LeadId":null,"LeadName":"","LongNotes":null,"Notes":null,"OpportunityId":null,"OpportunityName":null,"OriginalDate":"","PhoneNumber":"","Priority":null,"ProcessId":null,"ProcessNode":null,"ProjectId":null,"RecurIterations":0,"RecurPeriod":0,"RecurPeriodSpec":0,"Recurring":false,"RecurSkip":"","Rollover":false,"StartDate":_12af.Convert.toIsoStringFromDate(new Date()),"TicketId":null,"TicketNumber":null,"Timeless":false,"Type":"atAppointment","UserDef1":null,"UserDef2":null,"UserDef3":null,"AttachmentCount":null,"Location":null,"EndDate":"","Resources":{},"Leader":{"$key":""},"UserActivities":{},"UserNotifications":{}}});return _12c5;});},"Sage/MainView/ActivityMgr/nls/ActivityGroupContextService":function(){define("Sage/MainView/ActivityMgr/nls/ActivityGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_13a4,lang){var nls={root:{activityTabDisplayName:"My Activities",litTabDisplayName:"Literature",eventTabDisplayName:"Events",confirmTabDisplayName:"Confirmations",pastDueTabDisplayName:"Past Due",alarmTabDisplayName:"Alarms",allOpenTabDisplayName:"All Open"}};return lang.mixin(_13a4,nls);});},"Sage/UI/Controls/TextBox":function(){define("Sage/UI/Controls/TextBox",["dijit/form/ValidationTextBox","dojo/dom-class","dojo/query","dojo/_base/declare"],function(_13a5,_13a6,_13a7,_13a8){var _13a9=_13a8("Sage.UI.Controls.TextBox",[_13a5],{maxLength:"",textWithIcons:false,shouldPublishMarkDirty:true,autoPostBack:false,hotKey:"",_setHotKeyAttr:{node:"textbox",type:"attribute",attribute:"accessKey"},slxchangehook:"true",_setslxchangehookAttr:{node:"focusNode",type:"attribute",attribute:"slxchangehook"},postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},startup:function(_13aa){if(this.textWithIcons){var self=this;dojo.ready(function(){if(_13a7("#"+self.id)[0]){var _13ab=_13a7("#"+self.id)[0];_13a6.add(_13ab.parentNode,"textcontainer-with-icons");}});}this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},setAttribute:function(attr,val){this.set(attr,val);}});return _13a9;});},"Sage/Services/ActivityService":function(){define("Sage/Services/ActivityService",["Sage/UI/Dialogs","Sage/MainView/ActivityMgr/ActivityEditor","Sage/MainView/ActivityMgr/EditEventEditor","Sage/MainView/ActivityMgr/QuickCompleteEditor","Sage/Services/ActivityActionProcessor","Sage/Services/ActivityAction","Sage/MainView/ActivityMgr/HistoryEditor","Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","dojo/string","Sage/Utility","dojo/i18n!./nls/ActivityService","dojo/_base/declare","dojo/topic","dojo/_base/lang"],function(_13ac,_13ad,_13ae,_13af,_13b0,_13b1,_13b2,_13b3,_13b4,_13b5,_13b6,_13b7,_13b8,_13b9,topic,lang){var _13ba=_13b9("Sage.Services.ActivityService",null,{_defaultActivitManagerTabId:null,_activityEditor:false,_eventEditor:false,_historyEditor:false,_editOccSeriesDlg:false,_deleteOccSeriesDlg:false,_compOccSeriesDlg:false,_processor:false,_actCompleteQueue:false,_histCompleteQueue:[],activityEditorType:_13ad,eventEditorType:_13ae,historyEditorType:_13b2,constructor:function(){dojo.mixin(this,_13b8);},_ensureEditor:function(){if(!this._activityEditor){this._activityEditor=new this.activityEditorType({id:"activityEditor"});this.onActivityEditorCreated(this._activityEditor);}},onActivityEditorCreated:function(_13bb){},_ensureEventEditor:function(){if(!this._eventEditor){this._eventEditor=new this.eventEditorType();this.onEventEditorCreated(this._eventEditor);}},onEventEditorCreated:function(_13bc){},_ensureHistoryEditor:function(){if(!this._historyEditor){this._historyEditor=new this.historyEditorType({id:"historyEditor"});this.onHistoryEditorCreated(this._historyEditor);}},onHistoryEditorCreated:function(_13bd){},_ensureProcessor:function(){if(!this._processor){this._processor=new _13b0();}},_getIdFromGridSelection:function(){var _13be=this.getSelectedItem();if(!_13be){return false;}if(_13be.hasCompositeKey){return _13be.entity.Activity["$key"];}else{return _13be.id;}},_getRecurringFromGridSelection:function(){var _13bf=false,_13c0=this.getSelectedItem();if(_13c0&&_13c0.entity){if(_13c0.entity.hasOwnProperty("Activity")){_13bf=_13c0.entity.Activity["Recurring"]===true;if((_13bf)&&(_13c0.entity.Activity["RecurIterations"]<0)){_13bf=false;}}else{_13bf=_13c0.entity["Recurring"]===true;if((_13bf)&&(_13c0.entity["RecurIterations"]<0)){_13bf=false;}}}return _13bf;},editActivity:function(id,_13c1,_13c2){if(!id){id=this._getIdFromGridSelection();_13c1=this._getRecurringFromGridSelection();}if(!id){return;}if(id.length===12&&!_13c1){this._ensureEditor();this._activityEditor.set("mode","Update");this._activityEditor.set("activityId",id);this._activityEditor.set("activityMemberId",_13c2);this._activityEditor.show();}else{this.editOccurrenceOrSeriesQuery(id,_13c2);}},editOccurrence:function(id,_13c3,_13c4){this._ensureEditor();this._activityEditor.set("mode","Update");this._activityEditor.set("activityId",id);this._activityEditor.set("activityMemberId",_13c4);this._activityEditor.show();},editOccurrenceOrSeriesQuery:function(id,_13c5){if(!this._editOccSeriesDlg){this._editOccSeriesDlg=new _13b3({id:"editOccSeriesQuery",mode:"edit"});dojo.connect(this._editOccSeriesDlg,"onSelectSeries",this,function(actid,mId){this.editActivity(actid.substring(0,12),false,mId);});dojo.connect(this._editOccSeriesDlg,"onSelectOccurrence",this,function(actid,_13c6,mId){this.editOccurrence(actid,_13c6,mId);});}this._editOccSeriesDlg.set("activityMemberId",_13c5);this._editOccSeriesDlg.set("activityId",id);this._editOccSeriesDlg.show();},editTempActivity:function(id){this._ensureEditor();this._activityEditor.set("mode","deleteOnCancel");this._activityEditor.set("activityId",id);this._activityEditor.show();},completeOccurrenceOrSeriesQuery:function(id){if(!this._compOccSeriesDlg){this._compOccSeriesDlg=new _13b3({id:"compOccSeriesQuery",mode:"complete"});dojo.connect(this._compOccSeriesDlg,"onSelectSeries",this,function(id){this.completeActivity(id.substring(0,12),false);});dojo.connect(this._compOccSeriesDlg,"onSelectOccurrence",this,this.completeActivityOccurrence);}this._compOccSeriesDlg.set("activityId",id);this._compOccSeriesDlg.show();},scheduleActivity:function(args){var type=args["type"]||args["Type"];if(type==="CompleteActivity"){this.scheduleCompletedActivity(type,args);return;}this._ensureEditor();this._activityEditor.set("mode","New "+args["type"]||"Meeting");if(args.hasOwnProperty("preConfigured")){this._activityEditor.show(args.preConfigured);}else{this.getActivityEntityContext(this._activityEditor,function(_13c7,_13c8){_13c7.show(_13c8);});}},completeActivityOccurrence:function(id,_13c9){this._ensureEditor();if(id.indexOf(";")<0){var _13ca=["StartDate"];var store=new _13b4({include:[],select:_13ca,resourceKind:"activities",service:_13b5.getSDataService("system")});if(id!==""){store.fetch({predicate:'"'+id+'"',onComplete:function(_13cb){if(_13cb){var _13cc=(_13b7.Convert.toDateFromString(_13cb.StartDate)/1000)+62135596800;var _13cd=_13cb["$key"]+";"+_13cc;this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",_13cd);this._activityEditor.show();}},scope:this});}}else{this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",id);this._activityEditor.show();}},completeActivity:function(id,_13ce){var _13cf=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(_13cf.count>1){this.completeActivitiesInSelectionContext(_13cf);}else{if(_13cf.id){var selid=_13cf.id;if(_13cf.selectionInfo&&_13cf.selectionInfo.selections[0].entity){var _13d0=_13cf.selectionInfo.selections[0].entity;if(_13cf.selectionInfo.hasCompositeKey){selid=_13d0["Activity"]["$key"];}if(selid.length===12){if(_13d0.hasOwnProperty("Activity")){_13d0=_13d0.Activity;}_13ce=_13d0["Recurring"]===true;if((_13ce)&&(_13d0["RecurIterations"]<0)){_13ce=false;}}}if(selid.length===12&&!_13ce){this._ensureEditor();this._activityEditor.set("mode","Complete");this._activityEditor.set("activityId",selid);this._activityEditor.show();}else{this.completeOccurrenceOrSeriesQuery(selid);}}}},_quickCompleteConnections:[],completeActivitiesInSelectionContext:function(_13d1){if(_13d1.count<1){return;}this._actCompleteQueue=_13d1;var _13d2={selectionContext:_13d1};var qce=new _13af(_13d2);this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteIndividually",this,"_completeActivitiesInQueue"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteNow",this,"_completeActivitiesNow"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteAsScheduled",this,"_completeActivitiesAsScheduled"));this._quickCompleteConnections.push(dojo.connect(qce,"onCancel",this,function(){this._actCompleteQueue=false;}));this._quickCompleteConnections.push(dojo.connect(qce._dialog,"onHide",this,"_quickCompleteHide"));qce.show();},_actEditorHideConnection:null,_quickCompleteHide:function(){if(!this._completingActivitiesIndividually){this._actCompleteQueue=false;}dojo.forEach(this._quickCompleteConnections,function(_13d3){dojo.disconnect(_13d3);});this._quickCompleteConnections=[];},_completingActivitiesIndividually:false,_completeActivitiesInQueue:function(){this._completingActivitiesIndividually=true;this._ensureEditor();this._actEditorHideConnection=dojo.connect(this._activityEditor,"onHide",this,this._completeNextActivityInQueue);this._completeNextActivityInQueue();},_completeNextActivityInQueue:function(){var _13d4=this._actCompleteQueue.selectionInfo.selections.pop();var id=_13d4.id;var _13d5=false;if(_13d4.entity){var _13d6=_13d4.entity.hasOwnProperty("Activity")?_13d4.entity["Activity"]:_13d4.entity;if(this._actCompleteQueue.selectionInfo.hasCompositeKey){id=_13d4.entity["Activity"]["$key"];}_13d5=(id.length>12||_13d6["Recurring"]===true);}this.completeActivity(id,_13d5);if(this._actCompleteQueues.selectionInfo.selections.length<1){dojo.disconnect(this._actEditorHideConnection);this._completingActivitiesIndividually=false;}},_completeActivitiesAsScheduled:function(_13d7){var args={selectionInfo:_13d7.selectionContext.selectionInfo,mode:"asScheduled",note:_13d7.note,result:_13d7.result,resultCode:_13d7.resultCode};var _13d8=new _13b1();_13d8.set("OperationName","completeActivities");_13d8.set("PublishMap","/entity/activity/change");_13d8.set("args",args);_13d8.execute({success:function(_13d9){topic.publish("/entity/activity/bulkComplete","true");},failure:function(){_13ac.showError(this.txtErrorActionMsg);}});},_completeActivitiesNow:function(_13da){var args={selectionInfo:_13da.selectionContext.selectionInfo,mode:"completeNow",note:_13da.note,result:_13da.result,resultCode:_13da.resultCode};var _13db=new Sage.Services.ActivityAction();_13db.set("OperationName","completeActivities");_13db.set("PublishMap","/entity/activity/change");_13db.set("Args",args);_13db.execute({success:function(_13dc){topic.publish("/entity/activity/bulkComplete","true");},failure:function(){_13ac.showError(this.txtErrorActionMsg);}});},completeHistoriesInList:function(_13dd){if(_13dd.length<1){return;}if(_13dd.length===1){this.completeHistory(_13dd[0]);return;}this._histCompleteQueue=_13dd;var _13de={selectionContext:{count:_13dd.length,selectionInfo:{selectedIds:_13dd}}};this._histCompleteQueue=_13dd;var qce=new _13af(_13de);this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteIndividually",this,"_completeHistoriesInQueue"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteNow",this,"_updateHistoriesFromQuickComplete"));this._quickCompleteConnections.push(dojo.connect(qce,"onCompleteAsScheduled",this,"_updateHistoriesFromQuickComplete"));this._quickCompleteConnections.push(dojo.connect(qce,"onCancel",this,"_cancelCompleteHistoryQueue"));this._quickCompleteConnections.push(dojo.connect(qce._dialog,"onHide",this,"_quickCompleteHide"));qce.show();},completeHistory:function(_13df){this._ensureHistoryEditor();this._historyEditor.set("historyId",_13df);this._historyEditor.set("mode","Complete");this._historyEditor.show();},_histEditorHideConnection:null,_quickHistoryCompleteHide:function(){dojo.forEach(this._histEditorHideConnection,function(_13e0){dojo.disconnect(_13e0);});dojo.forEach(this._actEditorHideConnection,function(_13e1){dojo.disconnect(_13e1);});this._histEditorHideConnection=false;this._actEditorHideConnection=false;},_completeHistoriesInQueue:function(){this._ensureHistoryEditor();this._historyEditor._doingFollowup=false;this._histEditorHideConnection=dojo.connect(this._historyEditor,"onHide",this,this._completeNextHisotryInQueue);this._completeNextHisotryInQueue();},_completeNextHisotryInQueue:function(e){if(this._histCompleteQueue.length<1){dojo.disconnect(this._histEditorHideConnection);dojo.disconnect(this._actEditorHideConnection);return;}if(this._historyEditor._doingFollowup){this._ensureEditor();if(this._actEditorHideConnection){dojo.disconnect(this._actEditorHideConnection);}this._actEditorHideConnection=dojo.connect(this._activityEditor,"onHide",this,this._followupCompleteNextHistoryInQueue);return;}var _13e2=this._histCompleteQueue.pop();var self=this;this.completeHistory(_13e2);},_followupCompleteNextHistoryInQueue:function(){this._historyEditor._doingFollowup=false;this._completeNextHisotryInQueue();},_cancelCompleteHistoryQueue:function(){this._deleteHistoryFromQuickComplete();},_deleteHistoryFromQuickComplete:function(){var _13e3=function(_13e4){var store=new _13b4({resourceKind:"history",service:_13b5.getSDataService("dynamic")});store.fetch({predicate:'"'+_13e4+'"',onComplete:function(_13e5){store.deleteEntity(_13e5,this,null,null);},onError:function(){},scope:this});};var count=this._histCompleteQueue.length;for(var i=0;i<count;i++){_13e3(this._histCompleteQueue.pop());}},_updateHistoriesFromQuickComplete:function(_13e6){var _13e7=function(_13e8){var store=new _13b4({resourceKind:"history",select:["LongNotes","Result","ResultCode"],service:_13b5.getSDataService("dynamic")});store.fetch({predicate:'"'+_13e8+'"',onComplete:function(_13e9){_13e9.Result=_13e6.result||_13e9.Result;_13e9.ResultCode=_13e6.resultCode||_13e9.ResultCode;_13e9.LongNotes=(_13e9.LongNotes)?_13e9.LongNotes+"\n"+_13e6.note:_13e6.note;store.save({scope:this,success:function(hist){dojo.publish("/entities/history/create",hist);},failure:function(){}});},onError:function(){},scope:this});};var count=this._histCompleteQueue.length;for(var i=0;i<count;i++){_13e7(this._histCompleteQueue.pop());}},completeNewActivity:function(type,args){this._ensureEditor();if(!args||typeof args!="object"){args={};}args["Type"]=args["Type"]||type||"atAppointment";this._activityEditor.set("mode","CompleteUnscheduled");this._activityEditor.show(args);},deleteActivity:function(id,_13ea,_13eb){var _13ec=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(id){if((id.length===12&&!_13ea)||id.indexOf("ActivityId")>-1){this.deleteActivitiesInSelectionContext(_13ec,_13eb);}else{this.deleteOccurrenceOrSeriesQuery(id);}return;}if(_13ec.count<1){return;}if(_13ec.count>1){this.deleteActivitiesInSelectionContext(_13ec);}else{var _13ed=_13ec.selectionInfo.selections[0];if(_13ec.selectionInfo.hasCompositeKey){if(_13ed.entity){id=_13ed.entity["Activity"]["$key"];}}else{id=_13ed.id;}_13ea=false;if(_13ed.entity){if(_13ed.entity.hasOwnProperty("Activity")){_13ea=_13ed.entity.Activity["Recurring"]===true;}else{_13ea=_13ed.entity["Recurring"]===true;}}}if(!id){return;}if(id.length===12&&!_13ea){this.deleteActivitiesInSelectionContext(_13ec);}else{this.deleteOccurrenceOrSeriesQuery(id);}},deleteActivitiesInSelectionContext:function(_13ee,_13ef,_13f0){if(_13ee.count<1){return;}var _13f1=this.txtActionDeleteActivites;var _13f2=String.format(this.txtActionDeleteActivitiesQuestion,_13ee.count,_13ee.name);var _13f3=new _13b1();var args={selectionInfo:_13ee.selectionInfo};if(_13ee.count===1){var _13f4=_13ee.selectionInfo.selections[0];if(_13f4&&_13f4.id&&_13f4.id.indexOf("ActivityId")>-1){_13f3.set("PublishMapWithId","/entity/userActivity/delete");_13f3.set("ActivityId",_13f4.id);}else{if(_13f4){_13f3.set("PublishMapWithId","/entity/activity/delete/single");_13f3.set("ActivityId",_13f4.id);}}}_13f3.set("OperationName","deleteActivities");_13f3.set("PublishMap","/entity/activity/delete");_13f3.set("ActionDescription",_13f1);_13f3.set("ActionMessage",_13f2);_13f3.set("Args",args);this._ensureProcessor();this._processor.set("Action",_13f3);this._processor.set("SelectionContext",_13ee);if(_13ef){var _13f5=dojo.connect(this._processor,"onActionComplete",this,function(_13f6){dojo.disconnect(_13f5);_13ef.call(_13f0||this,_13f6);});}this._processor.start();},declineMemberConfirmation:function(_13f7,_13f8){if(_13f7&&_13f8){var _13f9={"$name":"DeclineMember","request":{"entity":_13f7,"memberId":_13f8}};var _13fa=new Sage.SData.Client.SDataServiceOperationRequest(_13b5.getSDataService("dynamic")).setResourceKind("activities").setOperationName("DeclineMember");_13fa.execute(_13f9,{success:function(ua){var _13fb=_13b6.substitute("'ActivityId=${0};UserId=${1}'",[_13f7.$key,_13f8]);topic.publish("/entity/userActivity/delete",_13fb);},failure:function(){},scope:this});}},deleteOccurrenceOrSeriesQuery:function(id){if(!this._deleteOccSeriesDlg){this._deleteOccSeriesDlg=new _13b3({id:"deleteOccSeriesQuery",mode:"delete"});dojo.connect(this._deleteOccSeriesDlg,"onSelectOccurrence",this,function(id){this.deleteOccurrence(id);});dojo.connect(this._deleteOccSeriesDlg,"onSelectSeries",this,function(id){this.deleteAllOccurrence(id);});}this._deleteOccSeriesDlg.set("activityId",id);this._deleteOccSeriesDlg.show();},deleteOccurrence:function(id){var _13fc=this._getSelectionContext(id,this.txtActivity,this.txtActivities);this.deleteActivitiesInSelectionContext(_13fc);},deleteAllOccurrence:function(id){var _13fd=this._getSelectionContext(id,this.txtActivity,this.txtActivities);if(_13fd.count<1){return;}var _13fe=this.txtActionDeleteActivites;var _13ff=String.format(this.txtActionDeleteActivitiesQuestion,_13fd.count,_13fd.name);var _1400=new _13b1();var args={selectionInfo:_13fd.selectionInfo};if(_13fd.count===1){var _1401=_13fd.selectionInfo.selections[0];if(_1401){_1400.set("PublishMapWithId","/entity/activity/delete/recurrence");_1400.set("ActivityId",_1401.id);}}_1400.set("OperationName","deleteAllOccurrence");_1400.set("PublishMap","/entity/activity/delete");_1400.set("ActionDescription",_13fe);_1400.set("ActionMessage",_13ff);_1400.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1400);this._processor.set("SelectionContext",_13fd);this._processor.start();},snooze:function(id,_1402){var _1403=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);var _1404=this.txtActionSnoozeAlarm;var _1405=String.format(this.txtActionSnoozeQuestion,_1403.count,_1403.name,_1402.name);var _1406=new _13b1();var args={selectionInfo:_1403.selectionInfo,interval:_1402.interval,duration:_1402.duration};_1406.set("OperationName","SnoozeAlarms");_1406.set("PublishMap","/entity/UserActivity/change");_1406.set("ActionDescription",_1404);_1406.set("ActionMessage",_1405);_1406.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1406);this._processor.set("SelectionContext",_1403);this._processor.start();},snoozeAll:function(_1407){var id=null;var _1408=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);_1408.mode="ALL";var _1409=this.txtActionSnoozeAlarm;var _140a=String.format(this.txtActionSnoozeAllQuestion,_1408.name,_1407.name);var _140b=new _13b1();var args={selectionInfo:_1408.selectionInfo,interval:_1407.interval,duration:_1407.duration};_140b.set("OperationName","SnoozeAlarms");_140b.set("PublishMap","/entity/UserActivity/change");_140b.set("ActionDescription",_1409);_140b.set("ActionMessage",_140a);_140b.set("Args",args);this._ensureProcessor();this._processor.set("Action",_140b);this._processor.set("SelectionContext",_1408);this._processor.start();},dismissAlarm:function(id){var _140c=this._getSelectionContext(id,this.txtAlarm,this.txtAlarms);var _140d=this.txtActionDismissAlarms;var _140e=String.format(this.txtActionDismissAlarmsQuestion,_140c.count,_140c.name);var _140f=new _13b1();var args={selectionInfo:_140c.selectionInfo};_140f.set("OperationName","DismissAlarms");_140f.set("ActionDescription",_140d);_140f.set("ActionMessage",_140e);_140f.set("PublishMap","/entity/UserActivity/change");_140f.set("Args",args);this._ensureProcessor();this._processor.set("Action",_140f);this._processor.set("SelectionContext",_140c);this._processor.start();},scheduleCompletedActivity:function(_1410){if(_1410){this._ensureHistoryEditor();this._historyEditor.set("activityType",_1410);this._historyEditor.set("mode","New");this._historyEditor.set("historyId","");this.getActivityEntityContext(this._historyEditor,function(scope,_1411){scope.show(_1411);});}else{alert("Show Schedule Completed Dialog");}},insertNote:function(){this._ensureHistoryEditor();this._historyEditor.set("activityType","Note");this._historyEditor.set("mode","New");this._historyEditor.set("historyId","");this.getActivityEntityContext(this._historyEditor,function(scope,_1412){scope.show(_1412);});},editHistory:function(_1413){if(!_1413){_1413=this.getSelectedId();}if(!_1413){return;}this._ensureHistoryEditor();this._historyEditor.set("mode","Edit");this._historyEditor.set("historyId",_1413);this._historyEditor.show();},scheduleEvent:function(args){this._ensureEventEditor();this._eventEditor.set("mode","New");this._eventEditor.set("eventId","");this._eventEditor.show(args);},editEvent:function(id){if(!id){id=this.getSelectedId();}if(!id){return;}this._ensureEventEditor();this._eventEditor.set("mode","Update");this._eventEditor.set("eventId",id);this._eventEditor.show();},deleteEvent:function(id){var _1414=this._getSelectionContext(id,this.txtEvent,this.txtEvents);var _1415=this.txtActionDeleteEvents;var _1416=String.format(this.txtActionDeleteEventsQuestion,_1414.count,_1414.name);var args={selectionInfo:_1414.selectionInfo};var _1417=new _13b1();if(_1414.count===1){var _1418=_1414.selectionInfo.selections[0];if(_1418){_1417.set("PublishMapWithId","/entity/event/delete/single");_1417.set("ActivityId",_1418.id);}}_1417.set("OperationName","deleteEvents");_1417.set("PublishMap","/entity/event/delete");_1417.set("ActionDescription",_1415);_1417.set("ActionMessage",_1416);_1417.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1417);this._processor.set("SelectionContext",_1414);this._processor.start();},confirmActivityFor:function(actId,_1419,_141a,_141b){if(actId){actId=actId.substring(0,12);}var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b5.getSDataService("dynamic"));req.setResourceKind("userNotifications");req.setQueryArg("where",_13b6.substitute("ActivityId eq '${0}' and ToUser.Id eq '${1}'",[actId,_1419]));req.setQueryArg("precedence","0");req.read({success:function(_141c){if(_141c["$resources"]&&_141c["$resources"].length>0){if(_141a){_141a.call(_141b||this,_141c["$resources"][0]["$key"]);}else{this.editConfirmation(_141c["$resources"][0]["$key"],_1419);}}else{this.editActivity(actId,false);}},failure:function(){},scope:this});},editActivityIfConfirmed:function(_141d,_141e){if(!_141d){_141d=this._getIdFromGridSelection();_141e=this._getRecurringFromGridSelection();}var _141f=_13b7.getClientContextByKey("userID");var _1420=_13b6.substitute('"${0};${1}"',[(_141d.indexOf(";")>0)?_141d.substring(0,12):_141d,_141f]);var req=new Sage.SData.Client.SDataSingleResourceRequest(_13b5.getSDataService("dynamic")).setResourceKind("userActivities").setResourceSelector(_1420);req.read({success:function(ua){if(ua.Status==="asUnconfirmed"){this.confirmActivityFor(_141d,_141f);}else{this.editActivity(_141d,_141e);}},failure:function(){this.editActivity(_141d,_141e);},scope:this});},editConfirmation:function(id,_1421){if(!id){id=this.getSelectedId();}if(!id){return;}this._ensureEditor();this._activityEditor.set("mode","Confirm");this._activityEditor.set("userNotificationId",id);this._activityEditor.set("activityMemberId",_1421);this._activityEditor.show();},acceptConfirmation:function(_1422){var id=false;if(_1422){if(_1422.id){id=_1422.id;}else{if(_1422.notification){if(_1422.notes){_1422.notification.Notes=_1422.notes;}var _1423={"$name":"Accept","request":{"entity":_1422.notification,"UserNotificationId":_1422.notification["$key"]}};var _1424=new Sage.SData.Client.SDataServiceOperationRequest(_13b5.getSDataService("dynamic")).setResourceKind("usernotifications").setOperationName("accept");_1424.execute(_1423,{success:_1422.success||function(){},failure:_1422.failure||function(){},scope:_1422.scope||this});return;}}}var _1425=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);if(_1425.count>1){var args={selectionInfo:_1425.selectionInfo,mode:"accept",note:""};var _1426=this.txtActionAcceptConfirmations;var _1427=String.format(this.txtActionAcceptConfirmQuestion,_1425.count,_1425.name);var _1428=new _13b1();_1428.set("OperationName","acceptConfirmations");_1428.set("PublishMap","/entity/userNotification/change");_1428.set("ActionDescription",_1426);_1428.set("ActionMessage",_1427);_1428.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1428);this._processor.set("SelectionContext",_1425);this._processor.start();}else{this.editConfirmation(_1425.id);}},declineConfirmation:function(_1429){var id=false;if(_1429){if(_1429.id){id=_1429.id;}else{if(_1429.notification){if(_1429.notes){_1429.notification.Notes=_1429.notes;}var _142a={"$name":"Decline","request":{"entity":_1429.notification,"UserNotificationId":_1429.notification["$key"]}};var _142b=new Sage.SData.Client.SDataServiceOperationRequest(_13b5.getSDataService("dynamic")).setResourceKind("usernotifications").setOperationName("decline");_142b.execute(_142a,{success:_1429.success||function(){},failure:_1429.failure||function(){},scope:_1429.scope||this});return;}}}var _142c=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);if(_142c.count>1){var args={selectionInfo:_142c.selectionInfo,mode:"decline",note:""};var _142d=this.txtDeclineConfirmations;var _142e=String.format(this.txtActionDeclineConfrimQuestion,_142c.count,_142c.name);var _142f=new _13b1();_142f.set("OperationName","declineConfirmations");_142f.set("PublishMap","/entity/userNotification/change");_142f.set("ActionDescription",_142d);_142f.set("ActionMessage",_142e);_142f.set("Args",args);this._ensureProcessor();this._processor.set("Action",_142f);this._processor.set("SelectionContext",_142c);this._processor.start();}else{this.editConfirmation(_142c.id);}},deleteConfirmation:function(id){var _1430=this._getSelectionContext(id,this.txtConfirmation,this.txtConfirmations);var args={selectionInfo:_1430.selectionInfo};var _1431=this.txtActionRemoveConfirmations;var _1432=String.format(this.txtActionRemoveConfirmationsQuestion,_1430.count,_1430.name);var _1433=new _13b1();_1433.set("OperationName","deleteConfirmations");_1433.set("PublishMap","/entity/userNotification/change");_1433.set("ActionDescription",_1431);_1433.set("ActionMessage",_1432);_1433.set("Args",args);this._ensureProcessor();this._processor.set("Action",_1433);this._processor.set("SelectionContext",_1430);this._processor.start();},goToActivityAssociation:function(_1434,id){if(!id){id=this.getSelectedId();}if(!id){return;}this._getActivityAssociationId(_1434,id,function(_1435){var _1436="";switch(_1435.Association){case"Account":_1436=_1435.AccountId;break;case"Contact":_1436=_1435.ContactId;break;case"Opportunity":_1436=_1435.OpportunityId;break;case"Lead":_1436=_1435.LeadId;break;case"Ticket":_1436=_1435.TicketId;break;default:}if(!_1436){return;}Sage.Link.entityDetail(_1434,_1436);});},goToLitRequest:function(id){if(!id){id=this.getSelectedId();}if(!id){return;}Sage.Link.entityDetail("LitRequest",id);},scheduleLitRequest:function(){var url="Literature.aspx?modeid=Insert";document.location.href=url;},deleteLitRequest:function(id){var _1437=this._getSelectionContext(id,this.txtLiteratureRequest,this.txtLiteratureRequests);var _1438=this.txtActionDeleteLiteratureRequests;var _1439=String.format(this.txtActionDeleteLiteratureRequestsQuestion,_1437.count,_1437.name);var _143a=new _13b1();var args={selectionInfo:_1437.selectionInfo};_143a.set("Args",args);_143a.set("OperationName","deleteLitRequests");_143a.set("ActionDescription",_1438);_143a.set("ActionMessage",_1439);_143a.set("PublishMap","/entity/litRequest/change");this._ensureProcessor();this._processor.set("Action",_143a);this._processor.set("SelectionContext",_1437);this._processor.start();},getActivityEntityContext:function(scope,_143b){var cec=Sage.Services.getService("ClientEntityContext");var _143c=cec.getContext();var _143d=_143c.EntityType;var _143e=_143c.EntityId;var _143f={};if((_143e==="")||(_143e==="Insert")){if(_143b){_143b(scope,_143f);}return;}switch(_143d){case"Sage.Entity.Interfaces.IAccount":this.getAccountContext(_143c,scope,_143b);break;case"Sage.Entity.Interfaces.IContact":this.getContactContext(_143c,scope,_143b);break;case"Sage.Entity.Interfaces.IOpportunity":this.getOpportunityContext(_143c,scope,_143b);break;case"Sage.Entity.Interfaces.ILead":this.getLeadContext(_143c,scope,_143b);break;case"Sage.Entity.Interfaces.ITicket":this.getTicketContext(_143c,scope,_143b);break;case"Sage.Entity.Interfaces.IReturn":this.getReturnContext(_143c,scope,_143b);break;default:if(_143b){_143b(scope,_143f);}}},getAccountContext:function(_1440,scope,_1441){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b5.getSDataService("dynamic"));req.setResourceKind("accounts");var _1442=req.uri.pathSegments.length-1;var _1443=req.uri.getPathSegment(_1442);_1443["predicate"]='"'+_1440.EntityId+'"';req.uri.setPathSegment(_1442+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _1444={AccountId:_1440.EntityId,AccountName:_1440.Description,ContactId:"",ContactName:"",PhoneNumber:""};var _1445=data["$resources"];if(_1445.length>0){var _1446=_1445[0];_1444.ContactId=_13b7.getValue(_1446,"$key");_1444.ContactName=_13b7.getValue(_1446,"NameLF");_1444.PhoneNumber=_13b7.getValue(_1446,"WorkPhone");}if(_1441){_1441(scope,_1444);}},failure:function(){var _1447={AccountId:_1440.EntityId,AccountName:_1440.Description,ContactId:"",ContactName:"",PhoneNumber:""};if(_1441){_1441(scope,_1447);}},scope:this});},getContactContext:function(_1448,scope,_1449){var req=new Sage.SData.Client.SDataSingleResourceRequest(_13b5.getSDataService("dynamic"));req.setResourceKind("contacts");req.setResourceSelector('"'+_1448.EntityId+'"');req.setQueryArg("select","NameLF,IsPrimary,WorkPhone,Account,AccountName");req.read({success:function(_144a){var _144b={AccountId:_13b7.getValue(_144a,"Account.$key"),AccountName:_13b7.getValue(_144a,"AccountName"),ContactId:_1448.EntityId,ContactName:_13b7.getValue(_144a,"NameLF"),PhoneNumber:_13b7.getValue(_144a,"WorkPhone")};if(_1449){_1449(scope,_144b);}},failure:function(){var _144c={AccountId:"",AccountName:"",ContactId:_1448.EntityId,ContactName:_1448.Description,PhoneNumber:""};if(_1449){_1449(scope,_144c);}},scope:this});},getOpportunityContext:function(_144d,scope,_144e){var store=new _13b4({include:["Contacts","Account"],select:["Description","Contacts/IsPrimary","Contacts/Contact/NameLF","Contacts/Contact/WorkPhone","Account/Id","Account/AccountName"],resourceKind:"opportunities",service:_13b5.getSDataService("dynamic")});store.fetch({predicate:'"'+_144d.EntityId+'"',onComplete:function(opp){var _144f={AccountId:opp.Account.$key,AccountName:opp.Account.AccountName,ContactId:"",ContactName:"",OpportunityId:_144d.EntityId,OpportunityName:opp.Description,PhoneNumber:""};var _1450=opp.Contacts.$resources;var _1451=true;for(var i=0;i<_1450.length;i++){if(_1450[i].IsPrimary||_1451){_144f["ContactId"]=_1450[i].Contact.$key;_144f["ContactName"]=_1450[i].Contact.NameLF;_144f["PhoneNumber"]=_1450[i].Contact.WorkPhone||"";}_1451=false;}if(_144e){_144e(scope,_144f);}},onError:function(){var _1452={AccountId:"",AccountName:"",ContactId:"",ContactName:"",OpportunityId:_144d.EntityId,OpportunityName:_144d.Description,PhoneNumber:""};if(_144e){_144e(scope,_1452);}},scope:this});},getLeadContext:function(_1453,scope,_1454){var store=new _13b4({include:[],select:["LeadFullName","Company","WorkPhone"],resourceKind:"leads",service:_13b5.getSDataService("dynamic")});store.fetch({predicate:'"'+_1453.EntityId+'"',onComplete:function(_1455){var _1456={LeadId:_1453.EntityId,LeadName:_1455.LeadFullName,AccountName:_1455.Company,PhoneNumber:_1455.WorkPhone};if(_1454){_1454(scope,_1456);}},onError:function(){var _1457={LeadId:_1453.EntityId,LeadName:_1453.Description,AccountName:"",PhoneNumber:""};if(_1454){_1454(scope,_1457);}},scope:this});},getTicketContext:function(_1458,scope,_1459){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b5.getSDataService("dynamic"));req.setResourceKind("tickets");var _145a=req.uri.pathSegments.length-1;var _145b=req.uri.getPathSegment(_145a);_145b["predicate"]='"'+_1458.EntityId+'"';req.setQueryArg("select","Account,Account/AccountName,Contact,Contact/NameLF,Contact/WorkPhone");req.read({success:function(data){var _145c={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:_1458.EntityId,TicketNumber:_1458.Description,PhoneNumber:""};var _145d=data["$resources"];if(_145d.length>0){var _145e=_145d[0];_145c.AccountId=_13b7.getValue(_145e,"Account.$key");_145c.AccountName=_13b7.getValue(_145e,"Account.AccountName");_145c.ContactId=_13b7.getValue(_145e,"Contact.$key");_145c.ContactName=_13b7.getValue(_145e,"Contact.NameLF");_145c.PhoneNumber=_13b7.getValue(_145e,"Contact.WorkPhone");}if(_1459){_1459(scope,_145c);}},failure:function(){var _145f={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:_1458.EntityId,TicketNumber:_1458.Description,PhoneNumber:""};if(_1459){_1459(scope,_145f);}},scope:this});},getReturnContext:function(_1460,scope,_1461){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b5.getSDataService("dynamic"));req.setResourceKind("returns");var _1462=req.uri.pathSegments.length-1;var _1463=req.uri.getPathSegment(_1462);_1463["predicate"]='"'+_1460.EntityId+'"';req.setQueryArg("select","Account,Account/AccountName,ReturnedBy,ReturnedBy/NameLF,ReturnedBy/WorkPhone,Ticket,Ticket/TicketNumber");req.read({success:function(data){var _1464={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:"",TicketNumber:"",PhoneNumber:""};var _1465=data["$resources"];if(_1465.length>0){var rma=_1465[0];_1464.AccountId=_13b7.getValue(rma,"Account.$key");_1464.AccountName=_13b7.getValue(rma,"Account.AccountName");_1464.ContactId=_13b7.getValue(rma,"ReturnedBy.$key");_1464.ContactName=_13b7.getValue(rma,"ReturnedBy.NameLF");_1464.PhoneNumber=_13b7.getValue(rma,"ReturnedBy.WorkPhone");_1464.TicketNumber=_13b7.getValue(rma,"Ticket.TicketNumber");_1464.TicketId=_13b7.getValue(rma,"Ticket.$key");}if(_1461){_1461(scope,_1464);}},failure:function(){var _1466={AccountId:"",AccountName:"",ContactId:"",ContactName:"",TicketId:"",TicketNumber:"",PhoneNumber:""};if(_1461){_1461(scope,_1466);}},scope:this});},_getActivityAssociationId:function(_1467,_1468,_1469){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_13b5.getSDataService("dynamic"));req.setResourceKind("activities");var _146a=req.uri.pathSegments.length-1;var _146b=req.uri.getPathSegment(_146a);_146b["predicate"]='"'+_1468+'"';req.setQueryArg("select","AccountId,ContactId,OpportunityId,TicketId,LeadId");req.read({success:function(data){var _146c={Association:_1467,ActivityId:_1468,AccountId:"",ContactId:"",OpportunityId:"",TicketId:"",LeadId:""};var acts=data["$resources"];if(acts.length>0){var act=acts[0];_146c.AccountId=_13b7.getValue(act,"AccountId");_146c.ContactId=_13b7.getValue(act,"ContactId");_146c.OpportunityId=_13b7.getValue(act,"OpportunityId");_146c.TicketId=_13b7.getValue(act,"TicketId");_146c.LeadId=_13b7.getValue(act,"LeadId");}if(_1469){_1469(_146c);}},failure:function(){var _146d={Association:_1467,ActivityId:_1468,AccountId:"",ContactId:"",OpportunityId:"",TicketId:"",LeadId:""};if(_1469){_1469(_146d);}},scope:this});},getActivityFreeBusyFor:function(scope,_146e,_146f,_1470){var self=this;this.getResourceActivitiesFor(self,_146e,function(_1471){self.getUserActivitiesFor(self,_146e,function(_1472){var _1473=self._buildFreeBusyData(_1471,_1472);if(_146f){_146f.call(scope,_1473);}},function(_1474){if(_1470){_1470.call(scope,_1474);}});},function(data){if(_1470){_1470.call(scope,data);}});},getResourceActivitiesFor:function(scope,_1475,_1476,_1477){var _1478=["Timeless","Type","StartDate","Duration","Description","Resources/Resource"];var _1479=["$descriptors"];var _147a="activities";var _147b=_13b5.getSDataService("system");var _147c=_13b7.Convert.toIsoStringFromDate(_1475.startDate);var _147d=_13b7.Convert.toIsoStringFromDate(_1475.endDate);var self=this;var where="(Resources.ResourceId in ("+_1475.quotedIds.join(",")+"))"+dojo.string.substitute("and (Timeless ne true) and (StartDate between @${0}@ and @${1}@)",[_147c,_147d]);var _147e=new Sage.SData.Client.SDataResourceCollectionRequest(_147b);if(_1475.select){_1478=_1475.select;}_147e.setResourceKind(_147a);_147e.setQueryArg("select",_1478.join(","));_147e.setQueryArg("where",where);_147e.setQueryArg("include",_1479.join(","));_147e.uri.queryArgs["_expandRecurrences"]=_1475.expandRecurrences;_147e.read({success:function(data){if(_1476){var _147f=self._processResourceActivityData(data);_1476.call(scope,_147f);}},failure:dojo.hitch(scope,_1477)});},getUserActivitiesFor:function(scope,_1480,_1481,_1482){var _1483=["Timeless","Type","StartDate","Duration","Description","Leader","UserActivities/User","UserActivities/Status"];var _1484=["$descriptors"];var _1485="activities";var _1486=_13b5.getSDataService("system");var _1487=_13b7.Convert.toIsoStringFromDate(_1480.startDate);var _1488=_13b7.Convert.toIsoStringFromDate(_1480.endDate);var self=this;var where="(UserActivities.UserId in ("+_1480.quotedIds.join(",")+")) and (Type ne 'atLiterature') and (UserActivities.Status ne 'asDeclned')"+dojo.string.substitute("and (StartDate between @${0}@ and @${1}@)",[_1487,_1488]);var _1489=new Sage.SData.Client.SDataResourceCollectionRequest(_1486);if(_1480.timelessOnly){where=where+" and (Timeless eq true)";}else{if(!_1480.includeTimless){where=where+" and (Timeless ne true)";}}if(_1480.select){_1483=_1480.select;}_1489.setResourceKind(_1485);_1489.setQueryArg("select",_1483.join(","));_1489.setQueryArg("where",where);_1489.setQueryArg("include",_1484.join(","));_1489.uri.queryArgs["_expandRecurrences"]=_1480.expandRecurrences;_1489.read({success:function(data){var _148a=self._processUserActivityData(data);if(_1481){_1481.call(scope,_148a);}},failure:dojo.hitch(scope,_1482)});},_processUserActivityData:function(_148b){var _148c=[];_148c["$resources"]=[];var data=_148b["$resources"];var _148d,_148e;if(data){var cnt=data.length;for(var i=0;i<cnt;i++){var _148f=false;var _1490=data[i]["$key"];if(data[i].UserActivities){var _1491=data[i].UserActivities.$resources;var ln=_1491.length;for(var j=0;j<ln;j++){var _1492=data[i].UserActivities.$resources[j].User.$key;_148d=_1492+":"+_1490;_148f=_148c[_148d];if(!_148f){_148e={$Key:_148d,UserId:data[i].UserActivities.$resources[j].User.$key,ActivityId:_1490,UserActivity:data[i].UserActivities.$resources[j],Activity:data[i]};_148c[_148d]=_148e;_148c[_148d]=_148d;_148c["$resources"].push(_148e);continue;}}}else{var uId=data[i].Leader.$key;_148d=uId+":"+_1490;data[i].UserActivities=[];data[i].UserActivities.$resources=[];var _1493={};_1493.$key=uId;_1493.User={$key:uId};data[i].UserActivities.$resources.push(_1493);_148e={$key:_148d,UserId:data[i].Leader.$key,ActivityId:_1490,UserActivity:data[i].UserActivities.$resources,Activity:data[i]};_148f=_148c[_148d];if(!_148f){_148c[_148d]=_148d;_148c["$resources"].push(_148e);}}}}var _1494=[];_1494["$resources"]=_148c["$resources"];return _1494;},_processResourceActivityData:function(_1495){var _1496=[];_1496["$resources"]=[];var data=_1495["$resources"];if(data){var cnt=data.length;for(var i=0;i<cnt;i++){var _1497=false;var _1498=data[i]["$key"];if(data[i].Resources){var _1499=data[i].Resources.$resources;var ln=_1499.length;for(var j=0;j<ln;j++){var _149a=data[i].Resources.$resources[j].Resource.$key;var _149b=_149a+":"+_1498;_1497=_1496[_149b];if(!_1497){var _149c={$Key:_149b,ResourceId:_149a,ActivityId:_1498,ResourceActivity:data[i].Resources.$resources[j],Activity:data[i]};_1496[_149b]=_149c;_1496[_149b]=_149b;_1496["$resources"].push(_149c);continue;}}}}}var _149d=[];_149d["$resources"]=_1496["$resources"];return _149d;},_buildFreeBusyData:function(_149e,_149f){var rData=_149e["$resources"];var uData=_149f["$resources"];var vData=[];var i;var _14a0;vData["$resources"]=[];for(i=0;i<uData.length;i++){_14a0={id:uData[i].$key,activityId:uData[i].ActivityId,itemId:uData[i].UserId,type:uData[i].Activity.Type,startDate:uData[i].Activity.StartDate,duration:uData[i].Activity.Duration,timless:uData[i].Activity.Timeless,description:uData[i].Activity.Description};vData["$resources"].push(_14a0);}for(i=0;i<rData.length;i++){_14a0={id:rData[i].$key,activityId:rData[i].ActivityId,itemId:rData[i].ResourceId,type:rData[i].Activity.Type,startDate:rData[i].Activity.StartDate,duration:rData[i].Activity.Duration,timless:rData[i].Activity.Timeless,description:rData[i].Activity.Description};vData["$resources"].push(_14a0);}return vData;},getDefaultActivityManagerTabId:function(){if(!this._defaultActivitManagerTabId){var _14a1=Sage.Services.getService("UserOptions");var self=this;if(_14a1){_14a1.get("DefaultView","ActivityAlarm",function(data){self._defaultActivitManagerTabId=self.getTabIdFromCode(data.value);},null,this,false);}}return this._defaultActivitManagerTabId;},setDefaultActivityManagerTabId:function(tabId){this._defaultActivitManagerTabId=tabId;},getTabIdFromCode:function(code){var tabId="activities";switch(code){case"0":tabId="activities";break;case"1":tabId="allopen";break;case"2":tabId="pastdue";break;case"3":tabId="alarms";break;case"4":tabId="events";break;case"5":tabId="confirmations";break;case"6":tabId="literature";break;}return tabId;},getSelectedId:function(){var _14a2=this.getSelectionInfo();var id="";if(_14a2){if(_14a2.hasCompositeKey){var _14a3=_14a2.selections[0].entity;return _14a3["Activity"]["$key"];}if(_14a2.selections.length==1){id=_14a2.selections[0].id;}else{id=_14a2.selections[0].id;}}return id;},getSelectedItem:function(){var _14a4=this.getSelectionInfo();var _14a5={id:false,hasCompositeKey:false,entity:false};if(_14a4){_14a5.hasCompositeKey=_14a4.hasCompositeKey;_14a5.entity=_14a4.entity;if(_14a4.selections.length==1){_14a5.id=_14a4.selections[0].id;_14a5.entity=_14a4.selections[0].entity;}else{_14a5.id=_14a4.selections[0].id;_14a5.entity=_14a4.selections[0].entity;}}return _14a5;},getSelections:function(){var _14a6=this.getSelectionInfo();var _14a7=null;if(_14a6){_14a7=_14a6.selections;}return _14a7;},prepareSelections:function(){return this.getSelectionInfo();},getSelectionInfo:function(){var _14a8=false;try{var panel=dijit.byId("list");if(panel){_14a8=panel.getSelectionInfo(true);}}catch(e){_13ac.alert(this.txtErrorActionMsg||"error getting selectionInfo");}return _14a8;},getTotalSelectionCount:function(){var count=0;try{var panel=dijit.byId("list");if(panel){count=panel.getTotalSelectionCount();}}catch(e){}return count;},verifySelection:function(_14a9){if(_14a9!==null){return(_14a9.selectionCount!==0);}return false;},verifySingleSelection:function(_14aa){if(_14aa!==null){return(_14aa.selectionCount===1);}return false;},setSelectionCount:function(){try{var panel=dijit.byId("list");if(panel){$("#selectionCount").text(panel.getTotalSelectionCount());}}catch(e){}},refreshList:function(tabId){try{var panel=dijit.byId("list");if(panel){var _14ab=Sage.Services.getService("ClientGroupContext");if(_14ab){var ctx=_14ab.getContext();if(tabId===ctx.CurrentGroupID){panel.refreshView(tabId);}}}}catch(e){}},_getSelectionContext:function(id,_14ac,_14ad){var _14ae={id:null,selectionInfo:null,count:0,mode:"select",name:null};if(!id){_14ae.selectionInfo=this.getSelectionInfo();_14ae.count=_14ae.selectionInfo.selectionCount;if(_14ae.count===1){_14ae.id=_14ae.selectionInfo.selectedIds[0];}}else{var _14af=[];var _14b0=[];_14af.push(id);_14b0.push({rn:0,id:id});var _14b1={key:"",mode:"singleSelect",selectionCount:1,recordCount:1,sortDirection:"",sortField:"",keyField:"",hasCompositeKey:id.indexOf("Activity")>-1?true:false,ranges:[],selections:_14b0,selectedIds:_14af};_14ae.selectionInfo=_14b1;_14ae.id=id;_14ae.count=1;}_14ae.name=(_14ae.count>1)?_14ad:_14ac;return _14ae;},getActivityService:function(){var _14b2=_13b5.getSDataService("dynamic");return _14b2;}});if(!Sage.Services.hasService("ActivityService")){Sage.Services.addService("ActivityService",new _13ba());}return _13ba;});},"Sage/UI/JsonPrintDetailPane":function(){define("Sage/UI/JsonPrintDetailPane",["Sage/UI/_DetailPane","Sage/_Templated","dojo/_base/declare"],function(_14b3,_14b4,_14b5){return _14b5("Sage.UI.JsonPrintDetailPane",[_14b3,_14b4],{widgetsInTemplate:true,contentNode:null,attributeMap:{"content":{node:"contentNode",type:"innerHTML"}},widgetTemplate:new Simplate(['<div class="json-print-detail-pane">','<pre dojoAttachPoint="contentNode"></pre>',"</div>"]),_onSelected:function(index,row,grid){this.set("content",dojo.toJson(row,true));}});});},"Sage/UI/Alarms/AlarmButton":function(){define("Sage/UI/Alarms/AlarmButton",["dojo/_base/declare","Sage/_Templated","dijit/_Widget","Sage/Utility","Sage/Utility/Activity","dojo/string","dojox/storage/LocalStorageProvider","dojo/date","dijit/form/ComboButton","dojo/_base/event","dojo/_base/lang","dojo/dom-class","Sage/Data/SDataServiceRegistry","Sage/UI/Alarms/AlarmPopup","Sage/UI/ImageButton","Sage/Services/UserOptions"],function(_14b6,_14b7,_14b8,_14b9,_14ba,_14bb,_14bc,ddate,_14bd,event,lang,_14be,_14bf){var _14c0=_14b6("Sage.UI.Alarms.AlarmButton",[_14b8,_14b7],{pastDueToolTipFmt:" You have ${0} activities that are past due.",pastDueButtonIconClass:"icon_alertIcon_16x16",widgetsInTemplate:true,options:{displayPastDueInToolbar:true,displayAlertsInToolbar:true,promptAlerts:true,includeAlarms:true,includeConfirmations:true,defaultSnooze:"5"},pollInterval:1,_localStore:null,_alertCountKey:"AlertsCount",_pastDueCountKey:"PastDueCount",_started:false,_pastDueVisible:false,_alertBtnVisible:false,widgetTemplate:new Simplate(['<span class="alarm-button-container">','<button data-dojo-type="Sage.UI.ImageButton" id="pastDueButton" imageClass="{%= $.pastDueButtonIconClass %}" class="past-due-button display-none" data-dojo-attach-point="_pastDueBtn" data-dojo-attach-event="onClick:_pastDueClick" >',"</button>",'<span id="alertButton" data-dojo-attach-point="_alertButton" class="alarm-button-container alarm-button display-none">','<button data-dojo-type="dijit.form.ComboButton" data-dojo-attach-point="_button" data-dojo-attach-event="onClick:_cboClick" class="" >','<div data-dojo-type="Sage.UI.Alarms.AlarmPopup" id="alarmPopup" data-dojo-attach-point="_popup" data-dojo-attach-event="onClose:_popupClosed"></div>',"</button>","</span>","</span>"]),_setPollIntervalAttr:function(val){this.pollInterval=val;},_getPollIntervalAttr:function(){return this.pollInterval;},startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this._popup,"onAlertChanged",this._alarmChanged);var _14c1=Sage.Services.getService("UserOptions");if(_14c1){_14c1.getByCategory("ActivityAlarm",this._receivedOptions,this);}this._localStore=new _14bc();this._localStore.initialize();if(this._button.valueNode){this.connect(this._button.valueNode,"click",function(e){event.stop(e);});}},_receivedOptions:function(_14c2){this._sortOptions(_14c2["$resources"]||_14c2);this._popup.set("options",this.options);if((this.options.displayPastDueInToolbar||this.options.displayAlertsInToolbar)&&(this.pollInterval>0)){var self=this;window.setTimeout(function(){self._poll();},15000);this._initializeButton();}this._started=true;},_sortOptions:function(_14c3){var _14c4=function(_14c5){return((_14c5==="T")||(_14c5==="Y")||(_14c5==="1"));};for(var i=0;i<_14c3.length;i++){var _14c6=_14c3[i];switch(_14c6.name){case"DisplayPastDueInToolbar":this.options.displayPastDueInToolbar=_14c4(_14c6.value);break;case"DisplayAlertsInToolbar":this.options.displayAlertsInToolbar=_14c4(_14c6.value);break;case"PromptAlerts":this.options.promptAlerts=_14c4(_14c6.value);break;case"DisplayAlertAlarms":this.options.includeAlarms=_14c4(_14c6.value);break;case"DisplayAlertConfirmations":this.options.includeConfirmations=_14c4(_14c6.value);break;case"DefaultSnooze":this.options.defaultSnooze=_14c6.value;break;}}if(!this.options.includeAlarms&&!this.options.includeConfirmations){this.options.promptAlerts=false;}},_poll:function(){var req=new Sage.SData.Client.SDataNamedQueryRequest(_14bf.getSDataService("mashups")).setApplicationName("$app").setResourceKind("mashups").setQueryName("execute").setQueryArg("_resultName","GetCounts").setQueryArg("_beforeDate",_14b9.Convert.toIsoStringFromDate(new Date())).setQueryArg("_timelessBeforeDate",_14ba.formatTimelessEndDate(new Date(),"day",-1)).setQueryArg("_userId",_14b9.getClientContextByKey("userID"));req.uri.setCollectionPredicate("'RemindersAndAlarms'");req.read({success:lang.hitch(this,this._onReceiveCounts),failure:lang.hitch(this,this._countsFailed)});},_onReceiveCounts:function(data){var _14c7=data["$resources"];if(_14c7&&_14c7.length>0){var _14c8=_14c7[0];var _14c9=(this.options.includeAlarms)?_14c8["ringingAlarms"]:0;var confs=(this.options.includeConfirmations)?_14c8["notifications"]:0;var _14ca=_14c8["pastDue"];this._handlePastDueCount(_14ca);this._handleAlertCount(_14c9,confs);}var self=this;window.setTimeout(function(){self._poll();},this.pollInterval*60000);},_countsFailed:function(req){},_handlePastDueCount:function(_14cb){if(_14cb>0&&this.options.displayPastDueInToolbar){this._showPastDue();var _14cc=this._getFromSessionStorage(this._pastDueCountKey)||0;if(_14cb!=_14cc){this._pastDueBtn.set("title",_14bb.substitute(this.pastDueToolTipFmt,[_14cb]));this._pastDueBtn.set("label",_14cb);this._saveToSessionStorage(this._pastDueCountKey,_14cb);}}else{this._hidePastDue();}},_showPastDue:function(){if(!this._pastDueVisible){_14be.remove(this._pastDueBtn.domNode,"display-none");this._pastDueVisible=true;}},_hidePastDue:function(){if(this._pastDueVisible){_14be.add(this._pastDueBtn.domNode,"display-none");this._pastDueVisible=false;this._pastDueBtn.set("title","");this._pastDueBtn.set("label","");}},_pastDueClick:function(){Sage.Link.toActivityListView("pastdue");},_initializeButton:function(){var _14cd=this._getFromSessionStorage(this._pastDueCountKey)||0;if(this.options.displayPastDueInToolbar&&(_14cd)>0){this._showPastDue();this._pastDueBtn.set("title",_14bb.substitute(this.pastDueToolTipFmt,[_14cd]));this._pastDueBtn.set("label",_14cd);}var _14ce=this._getFromSessionStorage(this._alertCountKey)||0;if(this.options.displayAlertsInToolbar&&(_14ce)>0){this._button.set("label"," "+_14ce+" ");this._showAlertButton();}},_handleAlertCount:function(_14cf,confs){if(this.options.displayAlertsInToolbar){if(_14cf>0||confs>0){var _14d0=false;var _14d1=this._getFromSessionStorage(this._alertCountKey)||0;if((_14d1*1)!==(_14cf+confs)){_14d0=true;}_14d1=_14cf+confs;this._saveToSessionStorage(this._alertCountKey,_14d1);this._button.set("label"," "+_14d1+" ");this._showAlertButton();this._checkShowPopup(_14d0,_14d1);}else{this._hideAlertButton();}}},_showAlertButton:function(){if(!this._alertBtnVisible){_14be.remove(this._alertButton,"display-none");this._alertBtnVisible=true;}},_hideAlertButton:function(){if(this._alertBtnVisible){_14be.add(this._alertButton,"display-none");this._alertBtnVisible=false;}},_checkShowPopup:function(_14d2,_14d3){if(!this.options.promptAlerts){return;}if(_14d2){this._popup._dataRequested=false;}if(!this._popup.isOpen&&_14d3>0&&_14d2){this._button.openDropDown();}},_cboClick:function(e){if(this._popup.isOpen){this._button.closeDropDown();}else{this._button.openDropDown();}return false;},_popupClosed:function(){},_alarmChanged:function(){var items=this._popup.getAlertCount();if(items===0){dijit.popup.hide(this._popup);this._hideAlertButton();}else{this._showAlertButton();}this._button.set("label"," "+items+" ");this._saveToSessionStorage(this._alertCountKey,items);},_saveToSessionStorage:function(key,value){sessionStorage.setItem(key,value);},_getFromSessionStorage:function(key){return sessionStorage.getItem(key);}});return _14c0;});},"Sage/UI/Controls/_DialogHelpIconMixin":function(){define("Sage/UI/Controls/_DialogHelpIconMixin",["dojo/_base/declare","dojo/dom-construct","dojo/dom-attr","dojo/i18n!./nls/_DialogHelpIconMixin"],function(_14d4,_14d5,_14d6,nls){return _14d4("Sage.UI.Controls._DialogHelpIconMixin",null,{helpTopic:"",createHelpIcon:function(url,_14d7){if(!url||this.helpIcon){_14d5.destroy(this.helpIcon);}var link=_14d5.create("a",{href:url,"target":_14d7||"help","class":"dialogHelpIcon"},this.titleBar,"first"),node=_14d5.create("div",{"class":"Global_Images icon16x16 icon_Help_16x16",title:nls.helpTooltip},link);this.helpIcon=link;},createHelpIconByTopic:function(topic,_14d8){if(!topic){topic=this.helpTopic;}else{this.helpTopic=topic;}var _14d9=Sage.Link.getHelpUrlTarget(),url=Sage.Link.getHelpUrl(topic,_14d8);this.createHelpIcon(url,_14d9);},destroy:function(){_14d5.destroy(this.helpIcon);this.inherited(arguments);},_setHelpTopicAttr:function(topic){this.helpTopic=topic;if(this.helpIcon){var url=Sage.Link.getHelpUrl(topic);_14d6.set(this.helpIcon,"href",url);}else{this.createHelpIconByTopic(topic);}},_getHelpTopicAttr:function(){return this.helpTopic;}});});},"Sage/TaskPane/TaskPaneContent":function(){define("Sage/TaskPane/TaskPaneContent",["dijit/_Widget","Sage/_Templated","Sage/TaskPane/TaskPaneItem","dojo/_base/declare"],function(_14da,_14db,_14dc,_14dd){var _14de=_14dd("Sage.TaskPane.TaskPaneContent",[_14da,_14db],{widgetsInTemplate:true,widgetTemplate:new Simplate(['<div dojoAttachPoint="taskletContainerNode" class="task-pane-item-common-tasklist">',"{% for (var i = 0; i < $.taskItems.length; i++) { ","var task = $.taskItems[i]; %}",'<div data-dojo-type="Sage.TaskPane.TaskPaneItem" linkText="{%= task.displayName %}" securedAction="{%= task.securedAction %}" action="javascript: {%= task.clientAction %}"></div>',"<br />","{% } %}","</div>"])});return _14de;});},"Sage/UI/Alarms/AlarmCountDown":function(){define("Sage/UI/Alarms/AlarmCountDown",["Sage/_Templated","dijit/_Widget","Sage/Utility","dojo/date","dojo/html","dojo/i18n","dojo/i18n!./nls/AlarmCountDown","dojo/_base/declare"],function(_14df,_14e0,_14e1,_14e2,_14e3,i18n,_14e4,_14e5){var _14e6=_14e5("Sage.UI.Alarms.AlarmCountDown",[_14e0,_14df],{widgetsInTemplate:false,startDate:"",_isOverdue:false,_timer:false,widgetTemplate:new Simplate(["<div>",'<div dojoAttachPoint="_startsIn"></div>',"<div>",'<span dojoAttachPoint="_countDownAmount" class="alarm-countdown"></span>','<span dojoAttachPoint="_countDownTimeFrame"></span>',"</div>",'<div dojoAttachPoint="_countDown2">','<span dojoAttachPoint="_countDown2Amount" class="alarm-countdown"></span>','<span dojoAttachPoint="_countDown2TimeFrame"></span>',"</div>","</div>"]),constructor:function(){dojo.mixin(this,_14e4);},postCreate:function(){this.inherited(arguments);var c=_14e1.Convert;if(c.isDateString(this.startDate)){this.startDate=c.toDateFromString(this.startDate);}if(!this.startDate){return;}this._calculate();},_calculate:function(){var n=new Date();var _14e7,_14e8;if(_14e2.difference(this.startDate,n,"minute")<0){_14e7=n;_14e8=this.startDate;this._isOverdue=false;}else{_14e7=this.startDate;_14e8=n;this._isOverdue=true;}var diff;if(_14e7.getFullYear()===_14e8.getFullYear()&&_14e7.getMonth()===_14e8.getMonth()&&_14e7.getDate()===_14e8.getDate()){diff=_14e2.difference(_14e7,_14e8,"minute");if(diff<61){this._setUI(diff,(diff>1)?this.minutesText:this.minuteText);}else{var _14e9=diff%60;var hours=Math.floor(diff/60);this._setUI(hours,(hours>1)?this.hoursText:this.hourText,_14e9,(_14e9>1)?this.minutesText:this.minuteText);}var self=this;window.setTimeout(function(){self._update();},60000);return;}diff=_14e2.difference(_14e7,_14e8,"day");if(diff<31){this._setUI(diff,(diff>1)?this.daysText:this.dayText,false,false);return;}diff=_14e2.difference(_14e7,_14e8,"month");if(diff<13){this._setUI(diff,(diff>1)?this.monthsText:this.monthText,false,false);return;}diff=_14e2.difference(_14e7,_14e8,"year");this._setUI(diff,(diff>1)?this.yearsText:this.yearText);},_setUI:function(amt,_14ea,amt2,_14eb){if(amt!==0){_14e3.set(this._startsIn,(this._isOverdue)?this.overduebyText:this.startsInText);_14e3.set(this._countDownAmount," "+amt+" ");if(amt2){_14e3.set(this._countDown2Amount," "+amt2+" ");dojo.removeClass(this._countDown2,"display-none");}else{dojo.addClass(this._countDown2,"display-none");}}else{_14e3.set(this._startsIn,"");_14e3.set(this._countDownAmount,"");_14ea=this.startsNowText;}_14e3.set(this._countDownTimeFrame,_14ea);if(_14eb){_14e3.set(this._countDown2TimeFrame,_14eb);}if(this._isOverdue){dojo.addClass(this.domNode,"overdue-alarm");}else{dojo.removeClass(this.domNode,"overdue-alarm");}},_update:function(){this._calculate();},destroy:function(){if(this._timer){window.clearTimeout(this._timer);}this.inherited(arguments);}});return _14e6;});},"Sage/main":function(){define("Sage/main",["Sage/_ActionMixin","Sage/Utility","Sage/LanguageList","Sage/Link","Sage/Array","Sage/_ConfigurationProvider","Sage/_Templated","Sage/Format","Sage/Data/main","Sage/Store/main","Sage/Groups/main","Sage/Layout/main","Sage/Library/main","Sage/MailMerge/main","Sage/Services/main","Sage/MainView/main","Sage/QuickForms/Design/main","Sage/TaskPane/main","Sage/UI/main","Sage/Utility/main","Sage/Workspaces/main","dojo/i18n!dijit/nls/common"],function(){});},"Sage/MainView/ReportMgr/Common/nls/ExportOptionsDialog":function(){define("Sage/MainView/ReportMgr/Common/nls/ExportOptionsDialog",["Sage/LanguageList","dojo/_base/lang"],function(_14ec,lang){var nls={root:{txtDialogTitle:"Export Options",txtDialogTitleScheduling:"Export And Scheduling Options",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel",txtName:"Name",txtSelectUser:"Select User",txtOK:"OK",txtOutputFormat_Caption:"Format",txtRunAs_Caption:"Run As",txtScheduleDescription_Caption:"Description"}};return lang.mixin(_14ec,nls);});},"Sage/QuickForms/Design/DataSourcePanel":function(){define("Sage/QuickForms/Design/DataSourcePanel",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/string","dojo/dom","dojo/on","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/DeferredList","dijit/_Widget","Sage/Services/_ServiceMixin","Sage/_EventMapMixin","Sage/_Templated","dojo/dnd/Source","dojo/dnd/Manager","dojo/i18n!./nls/DataSourcePanel"],function(_14ed,array,lang,_14ee,_14ef,dom,on,_14f0,_14f1,_14f2,_14f3,_14f4,_14f5,_14f6,_14f7,_14f8,_14f9,_14fa){var _14fb=_14ed("Sage.QuickForms.Design.DataSourcePanelDnDSource",[_14f8],{avatarTemplate:new Simplate(['<div class="design-property" data-property-type="{%: $.data.dataTypeId %}">','<div class="design-property-icon"></div>',"<span>{%: $.propertyPath %}</span>","</div>"]),owner:null,accept:["none"],constructor:function(){this.creator=true;lang.mixin(this,_14fa);var _14fc=dojo.byId("TaskPane_taskPaneHelp");if(_14fc){_14fc.target="";_14fc.href='javascript:Sage.Utility.openHelp("Adding_Data_Field");';}},checkAcceptance:function(_14fd,nodes){if(_14fd==this){return false;}return this.inherited(arguments);},onDropInternal:function(_14fe,nodes,copy){},onDropExternal:function(_14ff,nodes,copy){},onDndStart:function(_1500,nodes,copy){this.inherited(arguments);},onDndCancel:function(){this.inherited(arguments);},getItem:function(key){var value=this.inherited(arguments),node=dom.byId(key),path=_14f0.get(node,"data-property"),_1501=node&&this.owner._context[path];return lang.mixin({context:_1501},value);},_normalizedCreator:function(data,hint){var _1502=this.owner._context[data],_1503=_14f2.toDom(this.avatarTemplate.apply(_1502,this)),_1504=_14f2.create("div",{"class":"design-surface-dnd-avatar"});_14f2.place(_1503,_1504);return{node:_1504};}});var _1505=_14ed("Sage.QuickForms.Design.DataSourcePanel",[_14f4,_14f5,_14f6,_14f7],{events:{"li:click":true},serviceMap:{"dataService":{type:"sdata",name:"metadata"}},widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="design-property-panel">','<div class="design-property-panel-search">',"<div>",'<input type="text" data-dojo-attach-point="queryNode" />',"</div>",'<input type="button" />',"</div>",'<div class="design-property-panel-tree" data-dojo-attach-point="treeNode">',"</div>","</div>"]),containerTemplate:new Simplate(["<ul></ul>"]),propertyTemplate:new Simplate(['<li class="design-property" data-property="{%: $.propertyPath %}" data-property-category="{%: $.type %}" data-property-type="{%: $.data.dataTypeId %}" data-action="_toggle">','<div class="design-property-expando"></div>','<div class="design-property-icon"></div>',"<span>{%: $.displayName %}</span>","</li>"]),loadingTemplate:new Simplate(['<ul class="design-property-loading"><li>{%: $.loadingText %}</li></ul>']),_context:null,_designGroup:null,_designGroupTopics:null,designGroup:"default",queryNode:null,treeNode:null,sortProperty:"propertyName",loadingText:"Loading...",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_14ef.substitute("/quickforms/design/${0}/clear",[this._designGroup]),this._onFormCleared),this.subscribe(_14ef.substitute("/quickforms/design/${0}/load",[this._designGroup]),this._onFormLoaded)];},constructor:function(){this._context={};this._sources=[];},uninitialize:function(){if(this._sources){array.forEach(this._sources,function(_1506){_1506.destroy();});}this._sources=[];},clear:function(){_14f2.empty(this.treeNode);this._context={};},_onFormCleared:function(){this.clear();},_onFormLoaded:function(entry){var _1507=entry["entity"]["EntityTypeName"].substr(1);this._load(_1507,this.treeNode);},_toggle:function(evt,node){var path=_14f0.get(node,"data-property"),_1508=this._context[path];if(_1508&&_1508.data["entityName"]){if(_1508["loaded"]){_14f1.toggle(node,"design-property-expanded");}else{_14f1.add(node,"design-property-expanded");_1508["loaded"]=true;this._load(_1508.data["entityName"],node);}}},_load:function(_1509,node){var _150a=_14f2.place(this.loadingTemplate.apply(this,this),node);var wait=[],_150b;_150b=new _14ee();new Sage.SData.Client.SDataSingleResourceRequest(this.dataService).setResourceKind("entities").setResourceSelector('"'+_1509+'"').setQueryArg("select","properties/*").read({success:lang.hitch(this,this._onPropertyRequestSuccess,_150b,_1509),failure:lang.hitch(this,this._onRequestFailure,_150b)});wait.push(_150b);_150b=new _14ee();new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setResourceKind("relationships").setQueryArg("where",_14ef.substitute('(parentEntity.name eq "${0}" and cardinality eq "M:1") or (childEntity.name eq "${0}" and cardinality eq "1:M")',[_1509])).read({success:lang.hitch(this,this._onRelationshipRequestSuccess,_150b,_1509),failure:lang.hitch(this,this._onRequestFailure,_150b)});wait.push(_150b);_150b=new _14ee();new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setResourceKind("entities").setQueryArg("where",_14ef.substitute('extendedEntity.name eq "${0}"',[_1509])).setQueryArg("select","extendedEntityPropertyName").read({success:lang.hitch(this,this._onExtendedRequestSuccess,_150b,_1509),failure:lang.hitch(this,this._onRequestFailure,_150b)});wait.push(_150b);new _14f3(wait,false,true,true).then(lang.hitch(this,this._process,node,_150a),lang.hitch(this,this._error,node,_150a));},_onPropertyRequestSuccess:function(_150c,_150d,feed){_150c.resolve(feed["properties"]["$resources"]);},_onExtendedRequestSuccess:function(_150e,_150f,feed){var _1510=array.map(feed["$resources"],function(entry){return{displayName:entry["$descriptor"],propertyName:entry["$key"],entityName:entry["$key"]};});_150e.resolve(_1510);},_onRelationshipRequestSuccess:function(_1511,_1512,feed){var _1513=[],_1514=feed["$resources"];array.forEach(_1514,function(entry){if(_1512==entry["parentEntity"]["$key"]&&entry["parentProperty"]["isIncluded"]){_1513.push({displayName:entry["parentProperty"]["displayName"],propertyName:entry["parentProperty"]["propertyName"],propertyId:entry["parentProperty"]["id"],entityName:entry["childEntity"]["$key"],includes:array.map(entry["columns"]["$resources"],function(_1515){return _1515["parentPropertyId"];})});}else{if(_1512==entry["childEntity"]["$key"]&&entry["childProperty"]["isIncluded"]){_1513.push({displayName:entry["childProperty"]["displayName"],propertyName:entry["childProperty"]["propertyName"],propertyId:entry["childProperty"]["id"],entityName:entry["parentEntity"]["$key"],includes:array.map(entry["columns"]["$resources"],function(_1516){return _1516["childPropertyId"];})});}}},this);_1511.resolve(_1513);},_onRequestFailure:function(_1517,_1518){_1517.reject(_1518);},_error:function(node,_1519,error){_14f2.destroy(_1519);},_process:function(node,_151a,_151b){var _151c=_14f0.get(node,"data-property"),_151d={},_151e=[],_151f=[],_1520;array.forEach(_151b[1][1],function(_1521){array.forEach(_1521["includes"],function(id){_151d[id]=true;});_151e.push({propertyPath:_151c?_151c+"."+_1521["propertyName"]:_1521["propertyName"],propertyName:_1521["propertyName"],displayName:_1521["displayName"]||_1521["propertyName"],type:"relationship",data:_1521});});array.forEach(_151b[0][1],function(_1522){if(_151d[_1522["id"]]){return;}if(_1522["isIncluded"]){_151f.push({propertyPath:_151c?_151c+"."+_1522["propertyName"]:_1522["propertyName"],propertyName:_1522["propertyName"],displayName:_1522["displayName"]||_1522["propertyName"],type:"standard",data:_1522,dataTypeData:_1522["dataTypeData"]?dojo.fromJson(_1522["dataTypeData"]):{}});}});_1520=array.map(_151b[2][1],function(_1523){return{propertyPath:_151c?_151c+"."+_1523["propertyName"]:_1523["propertyName"],propertyName:_1523["propertyName"],displayName:_1523["displayName"]||_1523["propertyName"],type:"extended",data:_1523};});var all=_151f.concat(_151e,_1520),_1524=this.sortProperty;all.sort(function(a,b){var nameA=a[_1524],nameB=b[_1524];return(nameA<nameB)?-1:(nameA>nameB)?1:0;});_14f2.destroy(_151a);this.render(node,all);},render:function(node,_1525){var _1526=_14f2.place(this.containerTemplate.apply(this,this),node);var self=this;array.forEach(_1525,function(_1527){this._context[_1527.propertyPath]=_1527;var _1528=_14f2.place(this.propertyTemplate.apply(_1527,this),_1526);if(_1528&&_1527["type"]=="standard"){_14f0.set(_1528,"dndType","property");_14f0.set(_1528,"dndData",_1527.propertyPath);_14f1.add(_1528,"dojoDndItem");}else{on(_1528,"mousedown",function(){if(self._sources&&self._sources.length>0){self._sources[0].selectNone();}});}},this);var _1529=new _1505.Source(_1526,{owner:this,copyOnly:true,selfAccept:false});_1529.startup();this._sources.push(_1529);}});_1505.Source=_14fb;return _1505;});},"Sage/Groups/GroupNavigator":function(){define("Sage/Groups/GroupNavigator",["Sage/_Templated","dijit/_Widget","Sage/UI/ToolBarLabel","Sage/UI/ImageButton","Sage/Groups/GroupContextService","Sage/Services/ClientEntityContext","dojo/i18n!./nls/GroupNavigator","dojo/_base/lang","dojo/_base/declare","dojo/topic"],function(_152a,_152b,_152c,_152d,_152e,_152f,nls,lang,_1530,topic){var _1531=_1530("Sage.Groups.GroupNavigator",[_152b,_152a],{widgetsInTemplate:true,firstText:"Move First",previousText:"Move Previous",nextText:"Move Next",lastText:"Move Last",listText:"List View",labelFmtText:"${0} of ${1}",noRecordsText:"No Records",id:"groupNavigator",_entityContextService:false,_groupContextService:false,_entityChangedHandle:false,_groupChangedHandle:false,widgetTemplate:new Simplate(['<span class="list-panel-tbar">','<div id="{%= $.id %}-Start" data-dojo-type="Sage.UI.ImageButton" imageClass="icon_Start_16x16" tooltip="{%= $.firstText %}" alt="{%= $.firstText %}" dojoAttachPoint="_firstButton" dojoAttachEvent="onClick:_moveFirst"></div>','<div id="{%= $.id %}-Previous"  data-dojo-type="Sage.UI.ImageButton" imageClass="icon_Browse_Previous_16x16" tooltip="{%= $.previousText %}" alt="{%= $.previousText %}" dojoAttachPoint="_previousButton" dojoAttachEvent="onClick:_movePrevious"></div>','<div id="{%= $.id %}-Label"  data-dojo-type="Sage.UI.ToolBarLabel" label="" dojoAttachPoint="_groupNavLabel"></div>','<div id="{%= $.id %}-Next"  data-dojo-type="Sage.UI.ImageButton" imageClass="icon_Browse_Next_16x16" tooltip="{%= $.nextText %}" alt="{%= $.nextText %}" dojoAttachPoint="_nextButton" dojoAttachEvent="onClick:_moveNext"></div>','<div id="{%= $.id %}-End"  data-dojo-type="Sage.UI.ImageButton" imageClass="icon_End_16x16" tooltip="{%= $.lastText %}" alt="{%= $.lastText %}" dojoAttachPoint="_lastButton" dojoAttachEvent="onClick:_moveLast"></div>','<div id="{%= $.id %}-Switcher"  data-dojo-type="Sage.UI.ImageButton" imageClass="icon_Switch_to_List_View_16x16" tooltip="{%= $.listText %}" alt="{%= $.listText %}" dojoAttachPoint="_listButton" dojoAttachEvent="onClick:_moveToList"></div>',"</span>"]),startup:function(){this._setLabel();},destroy:function(){if(this._groupChangedHandle){dojo.disconnect(this._groupChangedHandle);this._groupChangedHandle=false;}this.inherited(arguments);},postMixInProperties:function(){this._entityContextService=Sage.Services.getService("ClientEntityContext");this._groupContextService=Sage.Services.getService("ClientGroupContext");lang.mixin(this,nls);},_setLabel:function(args){var _1532=this._getGroupContext(),_1533=_1532.CurrentEntityPosition,count=_1532.CurrentGroupCount,eCtx=this._entityContextService.getContext();this._enableButtons();if(this._groupNavLabel&&_1532){if(count===0){_1533=0;}var lbl=dojo.string.substitute(this.labelFmtText,[_1533,count]);this._groupNavLabel.set("label",lbl);if(_1533===0||_1533===1){this._previousButton.set("disabled",true);this._firstButton.set("disabled",true);}if(_1533===_1532.CurrentGroupCount||_1533===0){this._nextButton.set("disabled",true);this._lastButton.set("disabled",true);}}},_enableButtons:function(){this._nextButton.set("disabled",false);this._lastButton.set("disabled",false);this._previousButton.set("disabled",false);this._firstButton.set("disabled",false);},_moveFirst:function(){var _1534=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_1534.FirstEntityID!==""&&_1534.FirstEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/first",_1534.FirstEntityID,eCtx.EntityId,_1534.CurrentEntityPosition,_1534.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_1534.FirstEntityID,eCtx.EntityId);}},_movePrevious:function(){var _1535=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_1535.PreviousEntityID!==""&&_1535.PreviousEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/previous",_1535.PreviousEntityID,eCtx.EntityId,_1535.CurrentEntityPosition,_1535.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_1535.PreviousEntityID,eCtx.EntityId);}},_moveNext:function(){var _1536=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_1536.NextEntityID!==""&&_1536.NextEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/next",_1536.NextEntityID,eCtx.EntityId,_1536.CurrentEntityPosition,_1536.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_1536.NextEntityID,eCtx.EntityId);}},_moveLast:function(){var _1537=this._getGroupContext();var eCtx=this._entityContextService.getContext();if(_1537.LastEntityID!==""&&_1537.LastEntityID!=eCtx.EntityId){this._publishTopic("/group/nav/last",_1537.LastEntityID,eCtx.EntityId,_1537.CurrentEntityPosition,_1537.CurrentGroupCount);this._entityContextService.navigateSLXGroupEntity(_1537.LastEntityID,eCtx.EntityId);}},_moveToList:function(){Sage.Link.toListView();},_getGroupContext:function(){return this._groupContextService.getContext();},_publishTopic:function(key,_1538,_1539,_153a,count){topic.publish(key,{"toEntityId":_1538,"fromEntityId":_1539,"position":_153a,"count":count});}});return _1531;});},"Sage/QuickForms/Design/DesignSurface":function(){define("Sage/QuickForms/Design/DesignSurface",["dojo/query","dojo/keys","dojo/string","dojo/topic","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/dom-attr","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/NodeList-traverse","dojo/NodeList-manipulate","dijit/registry","dijit/focus","dijit/layout/_LayoutWidget","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/PopupMenuItem","Sage/_EventMapMixin","dojo/dnd/Source","dojo/dnd/Manager","./ControlDesignerRegistry","./ControlDesigner","./FormDesigner","./RowDesigner","./ColumnDesigner","dojo/i18n!./nls/DesignSurface"],function(query,keys,_153b,topic,_153c,array,lang,event,_153d,_153e,_153f,_1540,_1541,_1542,_1543,_1544,focus,_1545,Menu,_1546,_1547,_1548,_1549,_154a,_154b,_154c,_154d,_154e,_154f,_1550,_1551){var _1552=_153c([_154a],{owner:null,accept:["designer","property"],constructor:function(){this.creator=true;},checkAcceptance:function(_1553,nodes){if(_1553==this){return false;}return this.inherited(arguments);},onDropInternal:function(_1554,nodes,copy){},onDropExternal:function(_1555,nodes,copy){var node,item;if(_1555.isInstanceOf(_1552)){node=nodes[0];item=node&&_1555.getItem(node.id);if(item){_1555.selectNone();this.selectNone();this.onDropDesigner(this,_1544.byId(item.data));}}else{node=nodes[0];item=node&&_1555.getItem(node.id);if(item&&array.indexOf(item.type,"property")>=0){_1555.selectNone();this.selectNone();this.onDropProperty(this,item.context);}}},onDropProperty:function(_1556,_1557){},onDropDesigner:function(_1558,_1559){},onDndStart:function(_155a,nodes,copy){this.inherited(arguments);},onDndCancel:function(){this.inherited(arguments);},_normalizedCreator:function(data,hint){var _155b=_1544.byId(data),_155c=_1541.toDom(_155b.domNode.parentNode.innerHTML),_155d=_1541.create("div",{"class":"design-surface-dnd-avatar"});_1541.place(_155c,_155d);return{node:_155d};},onDraggingOver:function(){this.inherited(arguments);if(this.empty){var _155e=_154b.manager();if(_155e.source.isInstanceOf(_1552)){var _155f=this.owner.validateMoveFromSource(this,_155e.source);_155e.canDrop(!_155f);}else{}}},onMouseMove:function(e){var _1560,_1561;if(this.isDragging&&!this.empty){_1560=this.before;_1561=this.targetAnchor;}this.inherited(arguments);if(this.isDragging&&!this.empty){if(this.targetAnchor!=_1561||this.before!=_1560){var _1562=_154b.manager();if(_1562.source.isInstanceOf(_1552)){var _1563=this.owner.validateMoveFromSource(this,_1562.source);_1562.canDrop(!_1563);}else{}}}}});var _1564=_153c([Menu],{owner:null,aboveText:"Above",belowText:"Below",leftText:"Left",rightText:"Right",insertRowText:"Insert Row",insertColumnText:"Insert Column",constructor:function(){lang.mixin(this,_1551);},postCreate:function(){this.inherited(arguments);var _1565=new Menu(),_1566=new Menu();_1565.addChild(new _1546({label:this.aboveText,onClick:lang.hitch(this,this._insertRow,true)}));_1565.addChild(new _1546({label:this.belowText,onClick:lang.hitch(this,this._insertRow,false)}));_1566.addChild(new _1546({label:this.leftText,onClick:lang.hitch(this,this._insertColumn,true)}));_1566.addChild(new _1546({label:this.rightText,onClick:lang.hitch(this,this._insertColumn,false)}));this.addChild(new _1548({label:this.insertRowText,popup:_1565}));this.addChild(new _1548({label:this.insertColumnText,popup:_1566}));},_insertColumn:function(_1567){if(this.owner){this.owner.insertColumnAround(this.target,_1567);}},_insertRow:function(_1568){if(this.owner){this.owner.insertRowAround(this.target,_1568);}},open:function(_1569,node,_156a){this.target=_1569;if(this.target){this._scheduleOpen(node,null,_156a);}}});var _156b=_153c([Menu],{owner:null,aboveText:"Above",belowText:"Below",insertRowText:"Insert Row",deleteRowText:"Delete Row",constructor:function(){lang.mixin(this,_1551);},postCreate:function(){this.inherited(arguments);var _156c=new Menu();_156c.addChild(new _1546({label:this.aboveText,onClick:lang.hitch(this,this._insertRow,true)}));_156c.addChild(new _1546({label:this.belowText,onClick:lang.hitch(this,this._insertRow,false)}));this.addChild(new _1548({label:this.insertRowText,popup:_156c}));this.addChild((this._delete=new _1546({label:this.deleteRowText,onClick:lang.hitch(this,this._deleteRow,false)})));},open:function(_156d,node,_156e){this.target=_156d;if(this.target){this._delete.set("disabled",this.owner.validateDeleteRowAt(this.target.index));this._scheduleOpen(node,null,_156e);}},_insertRow:function(_156f){if(this.owner){var index=_156f?this.target.get("index"):this.target.get("index")+1;this.owner.insertRowAt(index);}},_deleteRow:function(){if(this.owner){this.owner.deleteRowAt(this.target.index);}}});var _1570=_153c([Menu],{owner:null,leftText:"Left",rightText:"Right",insertColumnText:"Insert Column",deleteColumnText:"Delete Column",constructor:function(){lang.mixin(this,_1551);},postCreate:function(){this.inherited(arguments);var _1571=new Menu();_1571.addChild(new _1546({label:this.leftText,onClick:lang.hitch(this,this._insertColumn,true)}));_1571.addChild(new _1546({label:this.rightText,onClick:lang.hitch(this,this._insertColumn,false)}));this.addChild(new _1548({label:this.insertColumnText,popup:_1571}));this.addChild((this._delete=new _1546({label:this.deleteColumnText,onClick:lang.hitch(this,this._deleteColumn)})));},open:function(_1572,node,_1573){this.target=_1572;if(this.target){this._delete.set("disabled",!!this.owner.validateDeleteColumnAt(this.target.index));this._scheduleOpen(node,null,_1573);}},_insertColumn:function(_1574){if(this.owner){var index=_1574?this.target.get("index"):this.target.get("index")+1;this.owner.insertColumnAt(index);}},_deleteColumn:function(){if(this.owner){this.owner.deleteColumnAt(this.target.index);}}});var _1575=_153c("Sage.QuickForms.Design.DesignSurface",[_1545,_1549],{events:{"click":"_onClick","keydown":"_onKeyDown",".design-surface-selector-cell[data-select-row]:contextmenu":"_onRowContextMenu",".design-surface-selector-cell[data-select-column]:contextmenu":"_onColumnContextMenu",".dojoDndSource:contextmenu":"_onCellContextMenu"},_designGroup:null,_designGroupTopics:null,_rowContextMenu:null,_columnContextMenu:null,_cellContextMenu:null,baseClass:"design-surface",selections:null,form:null,columns:null,rows:null,columnCount:3,currentLayout:null,tableNode:null,singleSelection:true,designGroup:"default",bisectionErrorText:"The placement will cause another control to be bisected.",rowBoundsErrorText:"The chosen row is out of bounds.",columnBoundsErrorText:"The chosen column is out of bounds.",rowSpanBoundsErrorText:"The chosen row span is out of bounds.",columnSpanBoundsErrorText:"The chosen column span is out of bounds.",occupiedErrorText:"There is not enough empty space for the chosen size.",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_153b.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected)];},_onRowContextMenu:function(evt){event.stop(evt);if(this._rowContextMenu){this._rowContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},_onColumnContextMenu:function(evt){event.stop(evt);if(this._columnContextMenu){this._columnContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},_onCellContextMenu:function(evt){event.stop(evt);if(this._cellContextMenu){this._cellContextMenu.open(this.findDesignerByNode(evt.target),evt.target,{x:evt.pageX,y:evt.pageY});}},constructor:function(){this.selections=[];lang.mixin(this,_1551);},buildRendering:function(){this.inherited(arguments);_153d.set(this.domNode,"tabIndex",0);},createContextMenus:function(){this._rowContextMenu=new _156b({owner:this});this._rowContextMenu.startup();this._columnContextMenu=new _1570({owner:this});this._columnContextMenu.startup();this._cellContextMenu=new _1564({owner:this});this._cellContextMenu.startup();},postCreate:function(){this.inherited(arguments);},uninitialize:function(){if(this._sources){array.forEach(this._sources,function(_1576){_1576.destroy();});}if(this._contextMenu){this._contextMenu.destroyRecursive();}this._sources=[];this.inherited(arguments);},startup:function(){if(this._started){return;}this.inherited(arguments);this.createContextMenus();},resize:function(){this.inherited(arguments);array.forEach(this.getChildren(),function(child){if(typeof child.resize=="function"){child.resize();}});if(this._sources){array.forEach(this._sources,function(_1577){_1577.sync();});}},_buildKeyHandlerMap:function(){var map={};map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";return map;},_onKeyDown:function(evt){var key=evt.keyCode,map=this._keyHandlerMap||(this._keyHandlerMap=this._buildKeyHandlerMap());if(map[key]&&this[map[key]]){this[map[key]](evt);event.stop(evt);}},_onLeftArrow:function(evt){this._moveSelectionIndicator("l");},_onRightArrow:function(evt){this._moveSelectionIndicator("r");},_onUpArrow:function(evt){this._moveSelectionIndicator("u");},_onDownArrow:function(evt){this._moveSelectionIndicator("d");},_moveSelectionIndicator:function(_1578){var _1579=this.selections.length==1?this.selections[0]:null,_157a=_1579&&_1579.designer;if(_157a&&_157a.isInstanceOf(_154d)){var next=this._findNextWidget(_157a,_1578),cell=next&&query(next.domNode).closest(".design-surface-cell")[0];if(next){this._handleSelectionOf(next,false,cell,next.domNode);}}},_findNextWidget:function(_157b,_157c){var _157d=this.currentLayout,_157e=_157b.get("row")||0,_157f=_157b.get("column")||0,_1580=_157b.get("rowSpan")||1,_1581=_157b.get("columnSpan")||1,spanV=[_157e,_157e+_1580-1],spanH=[_157f,_157f+_1581-1],_1582,_1583,_1584,_1585;switch(_157c){case"u":_1582=[_157e-1,0];_1583=-1;_1584=spanH;_1585=1;break;case"d":_1582=[_157e+_1580,_157d.rows.length-1];_1583=1;_1584=spanH;_1585=1;break;case"l":_1582=spanV;_1583=1;_1584=[_157f-1,0];_1585=-1;break;case"r":_1582=spanV;_1583=1;_1584=[_157f+_1581,_157d.columnCount-1];_1585=1;break;}for(var row=_1582[0];_1583*row<=_1582[1];row+=_1583){for(var _1586=_1584[0];_1585*_1586<=_1584[1];_1586+=_1585){var data=this._readFromLayout(_157d,row,_1586);if(!data){continue;}var _1587=data.widget;if(_1587===_157b){continue;}return _1587;}}return null;},_handleSelectionOf:function(_1588,_1589,_158a,_158b){if(_1588){var _158c=array.some(this.selections,function(_158d){return(_158d.designer===_1588);});if(_1589&&!this.singleSelection){if(!_158c){array.forEach(this.selections,function(_158e){if(_158e.focusNode){_153d.set(_158e.focusNode,"tabIndex","-1");}});this.selections.push({designer:_1588,styleNode:_158a,focusNode:_158b});if(_158b){_153d.set(_158b,"tabIndex",0);focus.focus(_158b);}if(_158a){_153e.add(_158a,"design-surface-cell-selected");}this.onSelectionChanged(this.selections,true);topic.publish(_153b.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1588,true,this);}}else{this._clearSelectionDom();this._clearSelectionState(false);this.selections=[{designer:_1588,styleNode:_158a,focusNode:_158b}];if(_158b){_153d.set(_158b,"tabIndex",0);focus.focus(_158b);}if(_158a){_153e.add(_158a,"design-surface-cell-selected");}this.onSelectionChanged(this.selections,false);topic.publish(_153b.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1588,false,this);}}else{if(this.singleSelection||!_1589){this._clearSelectionDom();this._clearSelectionState();}}},findDesignerByNode:function(_158f){var _1590=this._findSelectableDesignerByNode(_158f);return _1590&&_1590.designer;},_findSelectableDesignerByNode:function(_1591){var cell=query(_1591).closest(".design-surface-cell")[0],node=cell&&query(".dojoDndItem > *",cell)[0],_1592=node&&_1544.byNode(node);if(_1592){return{designer:_1592,styleNode:cell,focusNode:_1592.domNode};}if(cell&&_153d.has(cell,"data-select-row")){return{designer:this.form&&this.form.get("rows")[parseInt(_153d.get(cell,"data-select-row"))],styleNode:cell,focusNode:cell};}if(cell&&_153d.has(cell,"data-select-column")){return{designer:this.form&&this.form.get("columns")[parseInt(_153d.get(cell,"data-select-column"))],styleNode:cell,focusNode:cell};}return null;},_onClick:function(evt){var _1593=evt.shiftKey,_1594=this._findSelectableDesignerByNode(evt.target);if(_1594){if(_1594.designer.isInstanceOf(_154d)){this._handleSelectionOf(_1594.designer,_1593,_1594.styleNode,_1594.focusNode);}else{this._handleSelectionOf(_1594.designer,false,_1594.styleNode,_1594.focusNode);}}else{this._handleSelectionOf(this.form,_1593);}},onSelectionChanged:function(_1595,_1596){},_clearSelectionDom:function(){if(this.selections.length>0){array.forEach(this.selections,function(_1597){if(_1597.focusNode){_153d.set(_1597.focusNode,"tabIndex","-1");}if(_1597.styleNode){_153e.remove(_1597.styleNode,"design-surface-cell-selected");}});}},_clearSelectionState:function(_1598){if(this.selections.length>0){this.selections=[];if(_1598!==false){this.onSelectionChanged(this.selections);topic.publish(_153b.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),false,false,this);}}},_syncDomWithSelectionState:function(){array.forEach(this.selections,function(_1599){var _159a=_1599.designer;if(_159a.isInstanceOf(_154d)){_1599.styleNode=query(_159a.domNode).closest(".design-surface-cell")[0];_1599.focusNode=_159a.domNode;}else{if(_159a.isInstanceOf(_154f)){_1599.styleNode=query(_153b.substitute('.design-surface-selector-cell[data-select-row="${0}"]',[_159a.index]),this.domNode)[0];_1599.focusNode=_1599.styleNode;}else{if(_159a.isInstanceOf(_1550)){_1599.styleNode=query(_153b.substitute('.design-surface-selector-cell[data-select-column="${0}"]',[_159a.index]),this.domNode)[0];_1599.focusNode=_1599.styleNode;}}}_153d.set(_1599.focusNode,"tabIndex",0);focus.focus(_1599.focusNode);_153e.add(_1599.styleNode,"design-surface-cell-selected");},this);},_onDesignerSelected:function(_159b,_159c,_159d){if(_159b&&_159d!==this){this._clearSelectionDom();this._clearSelectionState(false);}},_buildLayoutFor:function(_159e){var rows=[],_159f=this.form?this.form.get("columnCount"):this.columnCount;array.forEach(_159e,function(child){var _15a0=child.get("row")||0,_15a1=child.get("column")||0,_15a2=child.get("rowSpan")||1,_15a3=child.get("columnSpan")||1,row,edge,i,j;if(_15a2>1||_15a3>1){edge=[_15a1,_15a1+(_15a3-1)];for(i=0;i<_15a2;i++){row=rows[_15a0+i]||(rows[_15a0+i]=[]);for(j=0;j<_15a3;j++){row[_15a1+j]={widget:child,span:(i>0||j>0),edge:edge};}}}else{row=rows[_15a0]||(rows[_15a0]=[]);row[_15a1]={widget:child,span:false,edge:[_15a1,_15a1]};}if((_15a1+_15a3)>_159f){_159f=(_15a1+_15a3);}},this);return{rows:rows,columnCount:_159f,children:_159e};},_syncNonVisibleDesigners:function(_15a4){if(!this.form){return;}var _15a5=_15a4.rows,_15a6=_15a5.length,_15a7=_15a4.columnCount,rows,count,_15a8,i;if(this.form.get("rowCount")>_15a6){rows=this.form.get("rows");for(i=(rows.length-1);i>(_15a6-1);i--){if(rows[i].added){this.form.removeRow(i);}else{break;}}}else{if(this.form.get("rowCount")<_15a6){rows=this.form.get("rows");count=rows.length;for(i=0;i<(_15a6-count);i++){this.form.addRow(new _154f({entry:{"Height":35,"SizeType":"Absolute"},form:this.form,index:count+i,added:true}));}}}if(this.form.get("columnCount")>_15a7){_15a8=this.form.get("columns");for(i=(_15a8.length-1);i>(_15a7-1);i--){if(_15a8[i].added){this.form.removeColumn(i);}else{break;}}}else{if(this.form.get("columnCount")<_15a7){_15a8=this.form.get("columns");count=_15a8.length;for(i=0;i<(_15a7-count);i++){this.form.addColumn(new _1550({entry:{"Width":10,"SizeType":"Percent"},form:this.form,index:count+i,added:true}));}}}},_renderLayout:function(_15a9){if(this._sources){array.forEach(this._sources,function(_15aa){_15aa.destroy();});}this._sources=[];var rows=_15a9.rows,_15ab=_15a9.children,_15ac=Math.max((this.form&&this.form.get("rowCount"))||0,rows.length),_15ad=Math.max((this.form&&this.form.get("columnCount"))||0,_15a9.columnCount),_15ae=_1541.create("table",{"class":"design-surface-table"},this.domNode),_15af=_1541.create("colgroup",null,_15ae),_15b0=_1541.create("tbody",null,_15ae),_15b1,_15b2,_15b3,_15b4,j,i;_1541.create("col",{},_15af);var _15b5=100/_15ad;for(j=0;j<_15ad;j++){_1541.create("col",{"width":_15b5+"%"},_15af);}var _15b6=[];if(rows.length>0){_15b1=_1541.create("tr",{"class":"design-surface-selector-row"},_15b0);for(i=0;i<_15ad+1;i++){_15b2=_1541.create("td",{"class":"design-surface-cell design-surface-selector-cell","data-select-column":i-1},_15b1);}}for(j=0;j<_15ac;j++){var row=rows[j];_15b1=_1541.create("tr",{"class":"design-surface-row"},_15b0);_15b2=_1541.create("td",{"class":"design-surface-cell design-surface-selector-cell","data-select-row":j},_15b1);for(i=0;i<_15ad;i++){var cell=row&&row[i];if(cell){if(cell.span){continue;}var _15b7=cell.widget,_15b8=_15b7.get("row")||0,_15b9=_15b7.get("rowSpan")||1,_15ba=_15b7.get("column")||0,_15bb=_15b7.get("columnSpan")||1;_15b2=_1541.create("td",{"colspan":_15bb,"rowspan":_15b9,"class":"design-surface-cell","data-design-row":_15b8,"data-design-column":_15ba},_15b1);_15b6.push({node:_15b2,widget:_15b7});}else{_15b2=_1541.create("td",{"class":"design-surface-cell design-surface-cell-empty"},_15b1);}_15b4=new _1575.Source(_15b2,{owner:this,empty:!cell,row:j,column:i,copyOnly:true,selfAccept:false,onDropProperty:lang.hitch(this,this._onDropProperty),onDropDesigner:lang.hitch(this,this._onDropDesigner)});_15b4.startup();this._sources.push(_15b4);}}array.forEach(_15b6,function(_15bc){var _15bd=_153f.getComputedStyle(_15bc.node),_15be=_1540.getMarginBox(_15bc.node,_15bd),_15bf=_1540.getPadExtents(_15bc.node,_15bd),_15c0=_1540.getBorderExtents(_15bc.node,_15bd);_15b3=_1541.create("div",{"dndType":"designer","dndData":_15bc.widget.id,"class":"dojoDndItem","style":{"padding":"0px"}},_15bc.node);var _15c1=_153f.getComputedStyle(_15b3),_15c2=_1540.getBorderExtents(_15b3,_15c1);_1540.setContentSize(_15b3,{h:(_15be.h-_15bf.h-_15c0.h-_15c2.h)});_15b3.appendChild(_15bc.widget.domNode);},this);if(this.tableNode){this.tableNode.parentNode.removeChild(this.tableNode);}array.forEach(_15ab,function(child){if(typeof child.layout=="function"){child.layout();}});this.currentLayout=_15a9;this.tableNode=_15ae;if(this._sources){array.forEach(this._sources,function(_15c3){_15c3.sync();});}},_readFromLayout:function(_15c4,row,_15c5){return(_15c4.rows[row]&&_15c4.rows[row][_15c5]);},_applyPushToConnectionTree:function(_15c6,_15c7,_15c8){_15c8=_15c8||{};for(var i=0;i<_15c7.children.length;i++){var _15c9=_15c7.children[i],_15ca=_15c6-_15c9.distance,node=_15c9.node;if(_15c8[node.id]){if(_15ca>_15c8[node.id].value){_15c8[node.id].value=_15ca;}}else{_15c8[node.id]={widget:node.widget,value:_15ca};}this._applyPushToConnectionTree(_15ca,node,_15c8);}return _15c8;},_buildConnectionTree:function(_15cb,_15cc,_15cd,rootp){var span=[_15cc.column,_15cc.column+_15cc.columnSpan],_15ce=_15cb.rows.length,_15cf=_15cb.columnCount,_15d0={},nodes=_15cd||{},root=rootp||_15cc;for(var _15d1=span[0];_15d1<span[1];_15d1++){for(var row=(_15cc.row+_15cc.rowSpan);row<_15ce;row++){var data=this._readFromLayout(_15cb,row,_15d1);if(!data){continue;}var _15d2=data.widget;if(_15d2===_15cc.widget){continue;}if(_15d2===root.widget){continue;}if(_15d0[_15d2.id]){continue;}_15d0[_15d2.id]=true;if(nodes[_15d2.id]){_15cc.children.push({distance:row-(_15cc.row+_15cc.rowSpan),node:nodes[_15d2.id]});}else{var node={id:_15d2.id,widget:_15d2,row:_15d2.get("row"),rowSpan:_15d2.get("rowSpan")||1,column:_15d2.get("column"),columnSpan:_15d2.get("columnSpan")||1,children:[]};nodes[_15d2.id]=node;_15cc.children.push({distance:row-(_15cc.row+_15cc.rowSpan),node:node});this._buildConnectionTree(_15cb,node,nodes,root);}break;}}},moveWidget:function(_15d3,_15d4,_15d5){var _15d6=this.currentLayout,_15d7=_15d3.get("rowSpan")||1,_15d8=_15d3.get("columnSpan")||1,root={id:_15d3.id,widget:_15d3,row:_15d4,rowSpan:0,column:_15d5,columnSpan:_15d8,children:[]};this._buildConnectionTree(_15d6,root);var push=this._applyPushToConnectionTree(_15d7,root);for(var name in push){var _15d9=push[name].widget,value=push[name].value;if(value>0){_15d9.unchecked(function(){this.set("row",this.get("row")+value);});}}_15d3.unchecked(function(){this.set("row",_15d4);this.set("column",_15d5);});topic.publish(_153b.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_15d3,this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},_onDropProperty:function(_15da,_15db){var ctor=_154c.getDesignerForDataType(_15db.data["dataTypeId"]);if(!ctor){return;}var _15dc=new ctor({form:this.form});_15dc.setupFor(_15db);this.form.addControl(_15dc);this.addChild(_15dc);this._handleSelectionOf(_15dc,false);this._onDropDesigner(_15da,_15dc);},_onDropDesigner:function(_15dd,_15de){var _15df=this.currentLayout,_15e0=_15df.columnCount,_15e1=this._readFromLayout(_15df,_15dd.row,_15dd.column),_15e2=_15e1&&_15e1.widget,_15e3=(_15e2&&_15e2.get("rowSpan"))||1,_15e4=(_15de&&_15de.get("rowSpan"))||1,_15e5=(_15de&&_15de.get("columnSpan"))||1,_15e6=(!_15e1||_15dd.before)?_15dd.row:_15dd.row+_15e3,_15e7=((_15dd.column+_15e5)>_15e0)?_15e0-_15e5:_15dd.column;this.moveWidget(_15de,_15e6,_15e7);},insertRowAround:function(_15e8,_15e9){var _15ea=_15e8.get("row")||0,_15eb=_15e8.get("rowSpan")||1,_15ec=_15e9?_15ea:_15ea+_15eb;this.insertRowAt(_15ec);},insertRowAt:function(_15ed){this.form.addRow(new _154f({entry:{"Height":35,"SizeType":"Absolute"},form:this.form,index:_15ed}),_15ed);array.forEach(this.getChildren(),function(_15ee){var _15ef=_15ee.get("row")||0;if(_15ef>=_15ed){_15ee.unchecked(function(){this.set("row",this.get("row")+1);});topic.publish(_153b.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_15ee,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},deleteRowAt:function(_15f0){var _15f1=this.currentLayout,_15f2=_15f1.rows.length,_15f3=_15f1.columnCount;for(var _15f4=0;_15f4<_15f3;_15f4++){var _15f5=this._readFromLayout(_15f1,_15f0,_15f4);if(_15f5){return;}}this.form.removeRow(_15f0);array.forEach(this.getChildren(),function(_15f6){var _15f7=_15f6.get("row")||0;if(_15f7>=_15f0){_15f6.unchecked(function(){this.set("row",this.get("row")-1);});topic.publish(_153b.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_15f6,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},validateDeleteRowAt:function(_15f8){var _15f9=this.currentLayout,_15fa=_15f9.rows.length,_15fb=_15f9.columnCount;for(var _15fc=0;_15fc<_15fb;_15fc++){var _15fd=this._readFromLayout(_15f9,_15f8,_15fc);if(_15fd){return{error:"occupied"};}}return false;},insertColumnAround:function(_15fe,_15ff){var _1600=_15fe.get("column")||0,_1601=_15fe.get("columnSpan")||1,_1602=_15ff?_1600:_1600+_1601;this.insertColumnAt(_1602);},insertColumnAt:function(_1603){this.form.addColumn(new _1550({entry:{"Width":10,"SizeType":"Percent"},form:this.form,index:_1603}),_1603);array.forEach(this.getChildren(),function(_1604){var _1605=_1604.get("column")||0;if(_1605>=_1603){_1604.unchecked(function(){this.set("column",this.get("column")+1);});topic.publish(_153b.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_1604,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},deleteColumnAt:function(_1606){var _1607=this.currentLayout,_1608=_1607.rows.length,_1609=_1607.columnCount;for(var row=0;row<_1608;row++){var _160a=this._readFromLayout(_1607,row,_1606);if(_160a){return;}}this.form.removeColumn(_1606);array.forEach(this.getChildren(),function(_160b){var _160c=_160b.get("column")||0;if(_160c>=_1606){_160b.unchecked(function(){this.set("column",this.get("column")-1);});topic.publish(_153b.substitute("/quickforms/design/${0}/designerMoved",[this._designGroup]),_160b,this);}},this);setTimeout(lang.hitch(this,function(){this.layout(true);}),50);},validateDeleteColumnAt:function(_160d){var _160e=this.currentLayout,_160f=_160e.rows.length,_1610=_160e.columnCount;for(var row=0;row<_160f;row++){var _1611=this._readFromLayout(_160e,row,_160d);if(_1611){return{error:"occupied"};}}return false;},validateSize:function(_1612,_1613,_1614){var _1615=this.currentLayout,_1616=_1615.rows.length,_1617=_1615.columnCount,_1618=_1612.get("row")||0,_1619=_1612.get("rowSpan")||1,_161a=_1612.get("column")||0,_161b=_1612.get("columnSpan")||1;if(_1613<1){return{error:"bounds",what:"rowSpan",message:this.rowSpanBoundsErrorText};}if(_1614<1){return{error:"bounds",what:"columnSpan",message:this.columnSpanBoundsErrorText};}if(_1613<=_1619&&_1614<=_161b){return false;}if(_1617<(_161a+_1614)){return{error:"bounds",what:"column",message:this.columnBoundsErrorText};}for(var row=_1618;row<(_1618+_1613)&&row<_1616;row++){var span=[row<(_1618+_1619)?_161a+_161b:_161a,_161a+_1614];for(var _161c=span[0];_161c<span[1];_161c++){var _161d=this._readFromLayout(_1615,row,_161c);if(!_161d){continue;}var _161e=_161d.widget;if(_161e===_1612){continue;}return{error:"occupied",what:_161e.id,message:this.occupiedErrorText};}}return false;},validateMove:function(_161f,_1620,_1621){var _1622=this.currentLayout,_1623=_1622.columnCount,_1624=_161f.get("columnSpan")||1,_1625={};if(_1620<0){return{error:"bounds",what:"row",message:this.rowBoundsErrorText};}if(_1621<0){return{error:"bounds",what:"column",message:this.columnBoundsErrorText};}if(_1623<(_1621+_1624)){return{error:"bounds",what:"column",message:this.columnBoundsErrorText};}for(var _1626=_1621;_1626<(_1621+_1624);_1626++){var _1627=this._readFromLayout(_1622,_1620,_1626);if(!_1627){continue;}var _1628=_1627.widget;if(_1628===_161f){continue;}if(_1627.span){if(_1625[_1628.id]){continue;}return{error:"bisection",what:_1628.id,message:this.bisectionErrorText};}_1625[_1628.id]=true;}return false;},validateMoveFromSource:function(_1629,_162a){var _162b=this.currentLayout,_162c=_162b.columnCount,_162d=this._readFromLayout(_162b,_1629.row,_1629.column),_162e=_162d&&_162d.widget,_162f=(_162e&&_162e.get("rowSpan"))||1,_1630=_162a.row,_1631=_162a.column,_1632=this._readFromLayout(_162b,_1630,_1631),_1633=_1632&&_1632.widget,_1634=(_1633&&_1633.get("rowSpan"))||1,_1635=(_1633&&_1633.get("columnSpan"))||1,_1636=(!_162d||_1629.before)?_1629.row:_1629.row+_162f,_1637=((_1629.column+_1635)>_162c)?_162c-_1635:_1629.column;return this.validateMove(_1633,_1636,_1637);},clearSelections:function(){this._clearSelectionDom();this._clearSelectionState();},clear:function(){this._clearSelectionState();array.forEach(this.getChildren(),function(child){this.removeChild(child);},this);this.form=null;this.layout();},layout:function(force){if(!this._borderBox||!this._borderBox.h){return;}var _1638=this.currentLayout,_1639=this.getChildren(),_163a={},_163b=false;if(_1638){array.forEach(_1638.children,function(child){_163a[child.id]=true;});for(var i=0;i<_1639.length;i++){if(!_163a[_1639[i].id]){break;}}_163b=(_1639.length!=i)||(_1639.length!=_1638.children.length);}else{_163b=true;}if(_163b||force){_1638=this._buildLayoutFor(_1639);this._syncNonVisibleDesigners(_1638);this._renderLayout(_1638);this._syncDomWithSelectionState();}}});_1575.Source=_1552;_1575.RowContextMenu=_156b;_1575.ColumnContextMenu=_1570;_1575.CellContextMenu=_1564;return _1575;});},"Sage/TaskPane/LeadTasksTasklet":function(){define("Sage/TaskPane/LeadTasksTasklet",["dojo/i18n!./nls/LeadTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/Lead/UpdateLeads","Sage/UI/Dialogs","dojo/_base/declare","Sage/Utility/Jobs"],function(_163c,_163d,_163e,_163f,_1640,_1641,jobs){var _1642=_1641("Sage.TaskPane.LeadTasksTasklet",[_163d,_163e],{taskItems:[],constructor:function(){dojo.mixin(this,_163c);this.taskItems=[{taskId:"UpdateLeads",type:"Link",displayName:this.updateLeadsTitle,clientAction:"leadTasksActions.updateLeads();",securedAction:"Entities/Lead/MultiUpdate"},{taskId:"DeleteLeads",type:"Link",displayName:this.deleteLeadsTitle,clientAction:"leadTasksActions.deleteLeads();",securedAction:"Entities/Lead/MultiDelete"}];},updateLeads:function(){this.prepareSelectedRecords(this.updateLeadsActionItem(this.getSelectionInfo()));},updateLeadsActionItem:function(_1643){return function(){var _1644=dijit.byId("dlgUpdateMultipleLeads");if(!_1644){_1644=new _163f(_1643);}else{_1644.setSelectionInfo(_1643);}_1644.show();};},deleteLeads:function(){this.prepareSelectedRecords(this.confirmDeleteLeadJob(this,this.getSelectionInfo()));},confirmDeleteLeadJob:function(self,_1645){return function(){_1640.raiseQueryDialog(_163c.deleteLeadsTitle,dojo.string.substitute("${0}",[_163c.confirmDeleteLeads]),function(_1646){self.deleteLeadsActionItem(_1646,self,_1645);},self.yesButtonText,self.noButtonText);};},deleteLeadsActionItem:function(_1647,self,_1648){if(_1647){var _1649=[{"name":"EntityName","value":"Lead"},{"name":"SelectedIds","value":(_1648.selectionCount>0)?_1648.selectedIds.join(",")||"":""},{"name":"GroupId","value":(_1648.selectionCount===0)?this.getCurrentGroupId()||"":""}];var _164a={closable:true,title:this.deleteLeadsTitle,key:"Sage.SalesLogix.BusinessRules.Jobs.DeleteEntityJob",parameters:_1649,success:function(_164b){},failure:function(_164c){_1640.showError(dojo.string.substitute(_163c.deleteJobError,[_164c.statusText]));},ensureZeroFilters:true};jobs.triggerJobAndDisplayProgressDialog(_164a);}},getCurrentGroupId:function(){var _164d=Sage.Services.getService("ClientGroupContext");if(_164d){var _164e=_164d.getContext();return _164e.CurrentGroupID;}return"";}});return _1642;});},"Sage/MainView/Opportunity/nls/UpdateOpportunities":function(){define("Sage/MainView/Opportunity/nls/UpdateOpportunities",["Sage/LanguageList","dojo/_base/lang"],function(_164f,lang){var nls={root:{addToForecast_No:"No",addToForecast_Yes:"Yes",btnCancel_Caption:"Cancel",btnOK_Caption:"OK",estimatedClose_Days:"days",estimatedClose_MoveOut:"Move",estimatedClose_To:"To",moveEstCloseDate_Backward:"Backward",moveEstCloseDate_Forward:"Forward",update_To_Caption:"To:",update_Property_Caption:"Update:",updateMultipleOpps_Caption:"Update Opportunities",updateProp_AcctMgr:"Account Manager",updateProp_Comments:"Comments",updateProp_EstClose:"Estimated Close",updateProp_Forecast:"Add To Forecast",updateProp_Probability:"Close Probability %",lookupActMgrText:"Lookup Account Manager",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",errorUnspecifiedValue:"Please specify a value before continuing.",errorRequestingJobMgr:"An error occurred performing update: ${0}"}};return lang.mixin(_164f,nls);});},"Sage/MainView/ReportMgr/BaseListPanelConfig":function(){define("Sage/MainView/ReportMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_1650,_1651,Menu,_1652,_1653,_1654,_1655,_1656,_1657){var _1658=_1657("Sage.MainView.ReportMgr.BaseListPanelConfig",[_1650],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_service:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){this._nlsResources=_1655;var _1659=Sage.Services.getService("ClientContextService");if(_1659){if(_1659.containsKey("userID")){this._currentUserId=_1659.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_onListRefresh:function(event){},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _165a={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext};return _165a;},_getStore:function(){var store=new _1651({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _165b=[];return _165b;},_getInclude:function(){var _165c=[];return _165c;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _165d=[];return _165d;},_getSummaryConfig:function(){var store=new _1651({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _165e=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _165f=this._getFormatterScope();var _1660={structure:_165e,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_165f};return _1660;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _1661={items:[]};return _1661;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return[];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return[];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _1662=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_1662.length;for(var i=0;i<len;i++){var mDef=_1662[i];if(mDef.id===this._currentListContextSubMenu){this._buildChildMenu(mDef.submenu,null);}}return this._menuItems;},_getGridMenu:function(){var _1663=dijit.byId("_listContextmenu");return _1663;},_buildChildMenu:function(_1664,_1665){var len=_1664.length;for(var i=0;i<len;i++){var mDef=_1664[i];if(mDef.submenu.length>0){var _1666=new Menu();this._buildChildMenu(mDef.submenu,_1666);var _1667=new _1652({label:mDef.text,popup:_1666});if(_1665){_1665.addChild(_1667);}else{this._menuItems.push(_1667);}}else{var _1668=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_1668=new _1653();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_1668=new _1654({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_1665){_1665.addChild(_1668);}else{this._menuItems.push(_1668);}}}},_onListContext:function(){},getFilterConfig:function(_1669,entry,_166a){var _166b=this._service;var _166c=_1669;var _166d=this.entityName;var _166e=this._resourceKind;var where=this._where;var _166f={groupId:this._listId,store:new _1651({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_166c).setResourceKind("entities").setResourceSelector('"'+_166d+'"').setResourceProperty("filters").setQueryArg("where",'filterType ne "analyticsMetric"').setQueryArg("count",20)}),createStoreForFilter:function(_1670){return _1670&&_1670["filterName"]?new _1651({executeReadWith:"readFeed",request:new Sage.SData.Client.SDataResourcePropertyRequest(_166b).setResourceKind(_166e).setResourceProperty("$queries/executeMetric").setQueryArg("_filterName",_1670["filterName"]).setQueryArg("orderby","displayName").setQueryArg("_activeFilter",where)}):null;},getFilterManager:function(){var _1671=_1656.byId("list");return _1671&&_1671.get("filterManager");}};return _166f;}});return _1658;});},"url:Sage/UI/Filters/templates/EditFilterItems.html":'<div>\r\n    <div class="filter-items-dialog" data-dojo-type="dijit.Dialog" data-dojo-props="title:\'${dialogTitle}\'" data-dojo-attach-point="dialogNode">\r\n        <div class="filter-items-search">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point="textFind" data-dojo-type="dijit.form.TextBox" />\r\n            <span data-dojo-attach-point="buttonFind" title="${findText}" data-dojo-type="Sage.UI.ImageButton" data-dojo-props="imageClass: \'icon_Find_16x16\'" data-dojo-attach-event="onClick:_onFindClick"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point="buttonClear" title="${clearText}" data-dojo-type="dijit.form.Button" data-dojo-attach-event="onClick:_onClearClick">${clearText}</span>\r\n        </div>\r\n        <div class="filter-clear-all">\r\n            <input data-dojo-attach-point="checkAll" data-dojo-type="dijit.form.CheckBox" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class="filter-items-dialog-content" data-dojo-attach-point="contentNode">\r\n        </div>\r\n        <div class="button-bar alignright">\r\n            <button data-dojo-attach-point="buttonOK" data-dojo-attach-event="onClick:_onOKClick" data-dojo-type="dijit.form.Button">${okText}</button>\r\n            <button data-dojo-attach-point="buttonCancel" data-dojo-attach-event="onClick:_onCancelClick" data-dojo-type="dijit.form.Button">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>',"Sage/Store/main":function(){define("Sage/Store/main",["Sage/Store/SData"],function(){});},"Sage/UI/nls/EditCalendarUsers":function(){define("Sage/UI/nls/EditCalendarUsers",["Sage/LanguageList","dojo/_base/lang"],function(_1672,lang){var nls={root:{selectAllText:"Select All",findItemText:"Find User:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Calendar Users",okText:"OK",cancelText:"Cancel",maxUsersErrorMessage:"Sorry, you cannot select more than ${0} users (including your own).  Clear one of the currently selected users and try again.",updateErrorMessage:"Error updating calendar users"}};return lang.mixin(_1672,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportParametersDialog":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportParametersDialog",["Sage/LanguageList","dojo/_base/lang"],function(_1673,lang){var nls={root:{txtDialogTitle:"Enter Values",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel"}};return lang.mixin(_1673,nls);});},"Sage/UI/main":function(){define("Sage/UI/main",["Sage/UI/Columns/main","Sage/UI/Controls/main","Sage/UI/Dashboard/main","Sage/UI/Alarms/main","Sage/UI/SLXPreviewGrid/main","Sage/UI/_DetailPane","Sage/UI/_DialogLoadingMixin","Sage/UI/widgetEditorLookup","Sage/UI/_DetailPanelConfigurationProvider","Sage/UI/_TitlePaneConfigProvider","Sage/UI/AttachmentList","Sage/UI/ActivityList","Sage/UI/NotesHistoryList","Sage/UI/ComboBox","Sage/UI/ConditionManager","Sage/UI/DashboardGroupListConfigurationProvider","Sage/UI/DateTextBox","Sage/UI/DetailPanel","Sage/UI/Dialogs","Sage/UI/EditableGrid","Sage/UI/EditorContainer","Sage/UI/Filters/CheckBoxFilter","Sage/UI/Filters/LookupFilter","Sage/UI/Filters/EditFilterItems","Sage/UI/Filters/EditFilters","Sage/UI/FilteringSelect","Sage/UI/Filters/FilterManager","Sage/UI/Filters/FilterPanel","Sage/UI/Filters/GroupFilterConfigurationProvider","Sage/UI/GridContainer","Sage/UI/GridMenuItem","Sage/UI/GroupListConfigurationProvider","Sage/UI/GroupMenuFmtScope","Sage/UI/GroupsTitlePaneConfigProvider","Sage/UI/GroupTabPane","Sage/UI/ImageButton","Sage/UI/JsonPrintDetailPane","Sage/UI/ListPanel","Sage/UI/MenuBar","Sage/UI/MenuBarItem","Sage/UI/MenuItem","Sage/UI/NavBar","Sage/UI/NavBarPane","Sage/UI/NumberTextBox","Sage/UI/OrientableMenuBar","Sage/UI/PopupMenuBarItem","Sage/UI/PopupMenuItem","Sage/UI/SDataLookup","Sage/UI/SearchConditionWidget","Sage/UI/SLXPreviewGrid","Sage/UI/SpeedSearch","Sage/UI/SummaryContainer","Sage/UI/SummaryContents","Sage/UI/SummaryDetailPane","Sage/UI/SummaryFormatterScope","Sage/UI/TextBox","Sage/UI/TimeZoneItem","Sage/UI/TitleContentPane","Sage/UI/ToggleButton","Sage/UI/ToolBarLabel","Sage/UI/UniqueToListValidationTextBox","Sage/UI/URL","Sage/UI/WidgetEditor","Sage/UI/ActivityScheduler","Sage/UI/TimelessActivitiesPane","Sage/UI/Calendar","Sage/UI/CalendarUsersListPane"],function(){});},"Sage/UI/Columns/PickList":function(){define("Sage/UI/Columns/PickList",["Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","Sage/Data/BaseSDataStore","dojo/_base/declare"],function(_1674,_1675,_1676,_1677){var _1678=_1677("Sage.UI.Columns.PickList",dojox.grid.cells._Widget,{icon:"",widgetClass:_1675,storeData:null,pickList:null,storageMode:"id",displayMode:"AsText",constructor:function(args){this.inherited(arguments);if(this.storageMode==="id"&&this.displayMode==="AsText"){if(this.pickListName&&this.storeData===null){this._loadPickList();}}},formatter:function(val,index){if(this.storageMode==="id"){val=this.getStoreTextById(val);}return val;},_loadPickList:function(){var _1679=new dojo.Deferred();var _167a={pickListName:this.pickListName,canEditText:false,itemMustExist:true,maxLength:-1,storeMode:this.storageMode,sort:false,displayMode:this.displayMode};this.pickList=new _1674(_167a);this.pickList.getPickListData(_1679);_1679.then(dojo.hitch(this,this._loadData),function(e){console.error(e);});},getStoreTextById:function(val){var _167b=val;if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.id===val){_167b=item.text;}},this);}return _167b;},_loadData:function(data){var items=[];for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};}});return _1678;});},"Sage/UI/Controls/DurationSelect":function(){define("Sage/UI/Controls/DurationSelect",["Sage/UI/Controls/_customSelectMixin","Sage/Utility/Activity","dojo/date","dojo/data/ItemFileReadStore","dojo/i18n!./nls/DurationSelect","dojo/_base/declare"],function(_167c,_167d,_167e,_167f,_1680,_1681){var _1682=_1681("Sage.UI.Controls.DurationSelect",_167c,{id:"",startTime:new Date(),timeValue:new Date(),valuesAreAfterStart:true,_store:null,_storeData:{},labelFmt:"${amount} ${interval} (${endTime})",splitAmoutLabelFmt:"${amount1} ${interval1}, ${amount2} ${interval2} (${endTime})",minuteText:"minute",minutesText:"minutes",hourText:"hour",hoursText:"hours",dayText:"day",daysText:"days",timeIncrements:[0,5,10,15,30,60,120,240],items:[],itemsByDur:{},constructor:function(){dojo.mixin(this,_1680);},resetItems:function(){this.items=[];this.itemsByDur={};},_fillSelect:function(){if(this._select){this.resetItems();var _1683=false;for(var i=0;i<this.timeIncrements.length;i++){var inc=this.timeIncrements[i];this.items.push(this._createItem(inc));_1683=_1683||(this.value===inc);}if(!_1683&&(this.value)){this.items.push(this._createItem(this.value));}this._storeData={identifier:"value",label:"label",items:this.items};this._store=new _167f({data:this._storeData});this._select.set("store",this._store);this._select.set("searchAttr","label");if(this.value||this.value===0){this.set("value",this.value);}}},_createItem:function(inc){var st=this.startTime;if(st.getHours()===0&&st.getMinutes===0&&st.getSeconds()===5){st=new Date(st.getUTCFullYear(),st.getUTCMonth(),st.getUTCDate(),0,0,0);}var newD;newD=_167e.add(st,"minute",(this.valuesAreAfterStart)?inc:inc*-1);var obj={"value":inc,"dateValue":newD,"label":this._formatLabel(inc,newD)};this.itemsByDur[inc]=obj;return obj;},_formatLabel:function(inc,_1684){var _1685;var _1686={amount:inc,interval:(inc===1)?this.minuteText:this.minutesText,endTime:_167e.locale.format(_1684,{selector:"time"})};var _1687=this.labelFmt;if(inc>59){var mod=inc%60;_1685=Math.floor(inc/60);if(mod===0){_1686["amount"]=_1685;_1686["interval"]=(_1685===1)?this.hourText:this.hoursText;}else{_1686["amount1"]=_1685;_1686["interval1"]=(_1685===1)?this.hourText:this.hoursText;_1686["amount2"]=mod;_1686["interval2"]=(mod===1)?this.minuteText:this.minutesText;_1687=this.splitAmoutLabelFmt;}if(_1685>23){var _1688=Math.round(_1685/24);_1686["amount"]=_1688;_1686["interval"]=(_1688===1)?this.dayText:this.daysText;_1686["endTime"]=_167e.locale.format(_1684,{selector:"datetime"});}}return dojo.string.substitute(_1687,_1686);},_handleValueNotInStore:function(_1689){var _168a=this.text;var _168b=/\(([\s\S]*)\)/;var _168c=_168b.exec(_1689);var _168d=_168b.exec(_168a);if((_168c)&&(_168d)){if(_168c[1]===_168d[1]){_1689=_1689.replace(_168c[0],"");}else{var _168e=_167e.locale.parse(_168c[1],{selector:"time"});if(_168e){_168e.setFullYear(this.startTime.getFullYear());_168e.setMonth(this.startTime.getMonth());_168e.setDate(this.startTime.getDate());this._setTimeValueAttr(_168e);return this.value;}}}var dur=0;if(typeof _1689==="number"){dur=_1689;}else{if(_1689.indexOf(",")>0){var _168f=_1689.split(",");for(var i=0;i<_168f.length;i++){var _1690=this._getMinutesFromStringPart(_168f[i]);if(_1690){dur+=_1690;}}}else{dur=this._getMinutesFromStringPart(_1689);}}if(!dur){this._select.set("value",this.text);return this.value;}var _1691=this._createItem(dur);this.value=_1691.value;this.text=_1691.label;this._select.set("displayedValue",_1691.label);return _1691.value;},_setValueAttr:function(value){this._removeOldValueFromStore();this.text=value;this.value=value;if(this._store){this._store.fetchItemByIdentity({identity:value,onItem:function(item){if(item){this._select.set("value",this._store.getValue(item,this._storeData.label));this.value=this._store.getValue(item,this._storeData.identifier);this.text=this._store.getValue(item,this._storeData.label);}else{this._handleValueNotInStore(value);}},onError:function(){},scope:this});}},_removeOldValueFromStore:function(){for(var i=0;i<this.timeIncrements.length;i++){if(this.value===this.timeIncrements[i]){return;}}delete (this.itemsByDur[this.value]);var l=this.items.length;for(i=0;i<l;i++){if(this.items[i].value===this.value||this.items[i].value[0]===this.value){this.items.splice(i,1);return;}}},_getMinutesFromStringPart:function(str){var parts=str.trim().split(" ");var num=parseInt(parts[0],10);if(isNaN(num)){return false;}if(parts.length>1){if(this.hoursText.indexOf(parts[1])>-1){num=num*60;}}return num;},_setStartTimeAttr:function(_1692){if(_167e.compare(this.startTime,_1692,"datetime")!==0){this.startTime=_1692;this._fillSelect();}},_setValuesAreAfterStartAttr:function(_1693){if(this.valuesAreAfterStart!==_1693){this.valuesAreAfterStart=_1693;this._fillSelect();}},_getTimeValueAttr:function(){if(this.itemsByDur.hasOwnProperty(this.value)){var dVal=this.itemsByDur[this.value].dateValue;return(dojo.isArray(dVal))?dVal[0]:dVal;}else{if(this.value&&this.startTime){var d=_167e.add(this.startTime,"minute",(this.valuesAreAfterStart)?this.value:this.value*-1);this.dateValue=d;return this.dateValue;}return null;}},_setTimeValueAttr:function(time){if(!time){return;}if(this.items.length<1){this._fillSelect();}var d=this.startTime;if(d.getHours()===0&&d.getMinutes===0&&d.getSeconds()===5){time=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds());}for(var obj in this.itemsByDur){if(obj&&this.itemsByDur[obj].dateValue){var _1694=dojo.isArray(this.itemsByDur[obj].dateValue)?this.itemsByDur[obj].dateValue[0]:this.itemsByDur[obj].dateValue;if(_167e.compare(_1694,time,"datetime")===0){this.set("value",this.itemsByDur[obj].value);this.text=this.itemsByDur[obj].label;this._select.set("displayedValue",this.itemsByDur[obj].label);return;}}}var dur=_167e.difference(this.startTime,time,"minute");if(dur<0){dur=dur*-1;}var o={"value":dur,"dateValue":time,"label":this._formatLabel(dur,time)};this.set("value",dur);this.text=o.label;this.itemsByDur[dur]=o;this._select.set("displayedValue",o.label);},_setTimeIncrementsAttr:function(_1695){if(this.timeIncrements===_1695){return;}this.timeIncrements=_1695;this._fillSelect();}});return _1682;});},"Sage/Services/ClientEntityContext":function(){define("Sage/Services/ClientEntityContext",["dojo/_base/declare"],function(_1696){var _1697=_1696("Sage.Services.ClientEntityContext",null,{hasClearListener:false,tempContext:false,constructor:function(_1698){this.inherited(arguments);dojo.mixin(this,_1698);this.emptyContext={"EntityId":"","EntityType":"","Description":"","EntityTableName":""};},getContext:function(){if(this.tempContext){return this.tempContext;}if((Sage.Data)&&(Sage.Data.EntityContextStore)){return Sage.Data.EntityContextStore;}return this.emptyContext;},setContext:function(obj){Sage.Data.EntityContextStore=dojo.mixin(this.emptyContext,obj);this.onEntityContextChanged(Sage.Data.EntityContextStore);},setTemporaryContext:function(obj){this.tempContext=obj;},clearTemporaryContext:function(){this.tempContext=false;},navigateSLXGroupEntity:function(_1699,_169a,_169b){if(Sage.Services){var mgr=Sage.Services.getService("ClientBindingManagerService");if((mgr)&&(!mgr.canChangeEntityContext())){return false;}var _169c=Sage.Services.getService("ClientContextService");if(_169c.containsKey("ClientEntityId")){_169c.setValue("ClientEntityId",_1699);}else{_169c.add("ClientEntityId",_1699);}_169a=(_169a)?_169a:Sage.Data.EntityContextStore.EntityId;if(_169c.containsKey("PreviousEntityId")){_169c.setValue("PreviousEntityId",_169a);}else{_169c.add("PreviousEntityId",_169a);}if(_169b){if(_169c.containsKey("ClientEntityPosition")){_169c.setValue("ClientEntityPosition",_169b);}else{_169c.add("ClientEntityPosition",_169b);}}if(!this.hasClearListener){Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(function(){if(Sage.Services){var _169d=Sage.Services.getService("ClientContextService");if(_169d.containsKey("PreviousEntityId")){_169d.remove("PreviousEntityId");}}});this.hasClearListener=true;}Sage.Data.EntityContextStore.EntityId=_1699;Sage.Data.EntityContextStore.Description="";}if(window.TabControl){var _169e=TabControl.getState();if(_169e){_169e.clearUpdatedTabs();TabControl.updateStateProxy();}}__doPostBack("MainContent","");return true;},onEntityContextChanged:function(_169f){}});if(!Sage.Services.hasService("ClientEntityContext")){Sage.Services.addService("ClientEntityContext",new Sage.Services.ClientEntityContext());}return _1697;});},"Sage/QuickForms/Design/Editors/CheckBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CheckBoxAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CheckBoxAdvancedPropertyEditor"],function(_16a0,lang,_16a1,_16a2,_16a3,_16a4,_16a5,_16a6,_16a7,_16a8,_16a9){return _16a0("Sage.QuickForms.Design.Editors.CheckBoxAdvancedPropertyEditor",[_16a1,_16a7,_16a6],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" style="display:none;" title="{%= $.checkedTooltipText %}">',"<label>{%= $.checkedText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_checked" data-dojo-attach-event="onChange:_onCheckedChange"></div>',"</div>",'<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_checked:null,_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",checkedText:"Checked:",checkedTooltipText:"Sets default state of checkbox to selected.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_16a9);},setup:function(){this.inherited(arguments);this._checked.set("value",this._designer.get("checked"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._visible.set("value",this._designer.get("visible"));var _16aa=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_16aa&&_16aa["DataItemName"])||"");},_onCheckedChange:function(value){if(this.isSuspended()){return;}this._designer.set("checked",value);},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"url:Sage/MainView/Contact/templates/ContactDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Contact.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccount_Caption || \"Account:\" %}</td>',\r\n                        '<td class=\"DataItem\"><a href=\"Account.aspx?entityid={{%= $.templateData.account_id %}}\">{%= Sage.Utility.htmlEncode($.templateData.accountname) %}</a></td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Caption || \"Title:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.title %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWorkPhone_Caption || \"Work Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.workphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svHomePhone_Caption || \"Home Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.homephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMobilePhone_Caption || \"Mobile Phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mobilephone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n] ","Sage/MainView/ReportMgr/SchedulesListPanelConfig":function(){define("Sage/MainView/ReportMgr/SchedulesListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/MainView/ReportMgr/SchedulesSDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/SchedulesListPanelConfig","Sage/Utility/Jobs","Sage/UI/Columns/DateTime","dojo/_base/lang"],function(_16ab,_16ac,_16ad,_16ae,_16af,_16b0,_16b1){var _16b2=_16ad("Sage.MainView.ReportMgr.SchedulesListPanelConfig",[_16ab],{_listId:"Schedules",_resourceKind:"triggers",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"ReportSchedulesListContextMenu",constructor:function(){_16b1.mixin(this,_16ae);var _16b3=Sage.Services.getService("JobService");this._service=_16b3.getSchedulingSDataService();this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.list.selectionMode="single";},_getStructure:function(){return[{field:"job",name:this.colJobName,width:"100px",formatter:_16af.formatJobDescription},{field:"$descriptor",name:this.colNameDescription,width:"100px"},{field:"user",name:this.colNameRunAsUser,width:"100px",formatter:_16af.formatUser},{field:"startTimeUtc",type:_16b0,name:this.colNameStartTimeUtc,width:"100px"},{field:"endTimeUtc",type:_16b0,name:this.colNameEndTimeUtc,width:"100px"},{field:"priority",name:this.colNamePriority,width:"100px"},{field:"status",name:this.colNameStatus,width:"100px"},{field:"timesTriggered",name:this.colNameExecutionCount,width:"100px"}];},_getSelect:function(){return["$key","job","user","startTimeUtc","endTimeUtc","repeatCount","repeatInterval","priority","status","timesTriggered"];},_getInclude:function(){var _16b4=["$descriptors,$key"];return _16b4;},_getWhere:function(){return"jobId like 'Saleslogix.Reporting%'";},_getSort:function(){var sort=[{attribute:"job"}];return sort;},_getSummaryListRequestConfig:function(){var _16b5={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false,sort:this._getSort()};return _16b5;},_getFormatterScope:function(){var _16b6=this._getSummaryListRequestConfig();return new _16ac({templateLocation:"MainView/ReportMgr/templates/SchedulesListSummary.html",resetDataManager:true,requestConfiguration:_16b6});},_getSummaryDetailRequestConfig:function(){var _16b7={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _16b7;},_getDetailConfig:function(){var _16b8=this._getFormatterScope();return{resourceKind:this._resourceKind,requestConfiguration:this._getSummaryDetailRequestConfig(),templateLocation:"MainView/ReportMgr/Templates/ScheduleDetailSummary.html"};},_getToolBars:function(){var _16b9={items:[]};return _16b9;}});return _16b2;});},"Sage/UI/GridContainer":function(){define("Sage/UI/GridContainer",["dojox/layout/GridContainer","dojo/_base/declare"],function(_16ba,_16bb){var _16bc=_16bb("Sage.UI.GridContainer",_16ba,{_updateColumnsWidth:function(_16bd){if(!_16bd){var _16be=[];_16be.push(this._dragManager);_16be.callee=arguments.callee;this.inherited(_16be);}else{this.inherited(arguments);}}});return _16bc;});},"Sage/UI/DateTextBox":function(){define("Sage/UI/DateTextBox",["dijit/form/DateTextBox","Sage/Utility","dojo/_base/declare"],function(_16bf,util,_16c0){var _16c1=_16c0("Sage.UI.DateTextBox",_16bf,{_getValueAttr:function(){var d=this.inherited(arguments);return(d)?util.Convert.toJsonStringFromDate(d):d;},_setValueAttr:function(value,_16c2,_16c3){if(Sage.Utility.Convert.isDateString(value)){value=util.Convert.toDateFromString(value);}this.inherited(arguments,[value,_16c2,_16c3]);}});return _16c1;});},"Sage/QuickForms/Design/nls/DateTimePickerControlDesigner":function(){define("Sage/QuickForms/Design/nls/DateTimePickerControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_16c4,lang){var nls={root:{displayNameText:"DateTime Picker"}};return lang.mixin(_16c4,nls);});},"Sage/UI/Controls/nls/HelpMenu":function(){define("Sage/UI/Controls/nls/HelpMenu",["Sage/LanguageList","dojo/_base/lang"],function(_16c5,lang){var nls={root:{helpText:"Help",aboutText:"About",webClientHelpText:"Web Client Help",gettingStartedText:"Getting Started Guide",quickReferenceText:"Quick Reference Card"}};return lang.mixin(_16c5,nls);});},"Sage/UI/_DetailPanelConfigurationProvider":function(){define("Sage/UI/_DetailPanelConfigurationProvider",["dojo/_base/declare"],function(_16c6){var _16c7=_16c6("Sage.UI._DetailPanelConfigurationProvider",null,{detailModeConfiguration:false,constructor:function(_16c8){dojo.mixin(this,_16c8);},requestDetailModeConfiguration:function(_16c9){if(_16c9.success&&this.detailModeConfiguration){_16c9.success.call(_16c9.scope||this,this.detailModeConfiguration,this);}}});return _16c7;});},"Sage/QuickForms/Design/Editors/nls/LayoutPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/LayoutPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_16ca,lang){var nls={root:{titleText:"Layout",positionText:"Position",sizeText:"Size",rowText:"Row:",rowTooltipText:"Row number of the control.",columnText:"Column:",columnTooltipText:"Column number of the control.",rowSpanText:"Row Span:",rowSpanTooltipText:"Number of cells the control occupies vertically.",columnSpanText:"Column Span:",columnSpanTooltipText:"Number of cells the control occupies horizontally."}};return lang.mixin(_16ca,nls);});},"Sage/TaskPane/nls/UserTasklet":function(){define("Sage/TaskPane/nls/UserTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_16cb,lang){var nls={root:{addToRoleTitle:"Add to Role",resetUsersTitle:"Reset Users",associateContactTitle:"Associate with Contact",disAssociateContactTitle:"Disassociate from Contact",disAssociateDialogTitle:"Disassociate from a Contact",confirmDisAssociate:"Are you sure you want to disassociate the ${0} selected user from an associated contact?",confirmDisAssociateMultiple:"Are you sure you want to disassociate the ${0} selected users from any associated contacts?",associationExistsMessage:"The user you selected is already associated to a contact. To associate this user to a different contact, you must first disassociate the user and contact.",multipleSelectionErrorMessage:"You can only perform this task for 1 user at a time. \n Please select a single user and select the task again.",noSelectionErrorMessage:"You need to select at least one user to disassociate. \n Please select one or more user(s) and select the task again.",singleSelectionErrorMessage:"You need to select a user to disassociate. \n Please select a single user and select the task again."}};return lang.mixin(_16cb,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/NumberParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/NumberParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_16cc,lang){var nls={root:{txtPleaseSpecifyNumberBetween:"Please specify a numeric value between {0} and {1}.",txtPleaseSpecifyNumberLesser:"Please specify a numeric value less than or equal to {0}.",txtPleaseSpecifyNumberGreater:"Please specify a numeric value greater than or equal to {0}.",txtPleaseSpecifyValue:"Please specify a numeric value."}};return lang.mixin(_16cc,nls);});},"Sage/UI/EditCalendarUsers":function(){require({cache:{"url:Sage/UI/templates/EditCalendarUsers.html":'<div>\r\n    <div class="filter-items-dialog" data-dojo-type="dijit.Dialog"  data-dojo-attach-point="dialogNode" >\r\n        <div class="filter-items-search" style="border-bottom: 1px solid #cccccc;">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point="textFind" data-dojo-type="dijit.form.TextBox" />\r\n            <span data-dojo-attach-point="buttonFind" title="${findText}" data-dojo-type="Sage.UI.ImageButton" data-dojo-props="imageClass: \'icon_Find_16x16\'" data-dojo-attach-event="onClick:_onFindClick"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point="buttonClear" title="${clearText}" data-dojo-type="dijit.form.Button" data-dojo-attach-event="onClick:_onClearClick">${clearText}</span>\r\n        </div>     \r\n        <div class="filter-items-dialog-content" data-dojo-attach-point="contentNode" style="height:238px;">\r\n        </div>\r\n        <div class="button-bar alignright">\r\n            <button data-dojo-attach-point="buttonOK" data-dojo-attach-event="onClick:_onOKClick" data-dojo-type="dijit.form.Button">${okText}</button>\r\n            <button data-dojo-attach-point="buttonCancel" data-dojo-attach-event="onClick:_onCancelClick" data-dojo-type="dijit.form.Button">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/UI/EditCalendarUsers",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","dijit/Dialog","dijit/form/Button","Sage/UI/ImageButton","dijit/form/CheckBox","dijit/form/TextBox","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/json","dojo/parser","dojo/text!./templates/EditCalendarUsers.html","dojo/i18n!./nls/EditCalendarUsers","Sage/Utility"],function(_16cd,_16ce,_16cf,_16d0,_16d1,_16d2,_16d3,_16d4,_16d5,_16d6,_16d7,array,lang,_16d8,_16d9,_16da,json,_16db,_16dc,_16dd,_16de){return _16d7("Sage.UI.EditCalendarUsers",[_16cd,_16ce,_16cf],{templateString:_16dc,widgetsInTemplate:true,id:"editFilterItems",store:null,checkBoxes:null,allItems:null,parent:null,formatter:null,favoriteUserIds:[],maxSelectCount:25,selectedCount:0,currentUserId:null,count:1000,loading:false,handles:null,mainHandles:null,safeCheck:true,open:false,checkBoxTemplate:new Simplate(['<input id="{%: $.id %}" ','name="{%: $.name %}" ','data-dojo-type="dijit.form.CheckBox" ',"data-dojo-props=\"label: '{%: $.name %}'\" ","{%: $.disabled %}",'class="editFilterCheckBox" />','<label for="{%: $.id %}" {%: $.disabledStyle %}>{%: $.itemName %}</label><br />']),constructor:function(_16df){this.inherited(arguments);this.checkBoxes=[];this.allItems=[];this.handles=[];this.mainHandles=[];lang.mixin(this,_16dd);this.initialize();},initialize:function(){this.maxUsersErrorMessage=dojo.string.substitute(this.maxUsersErrorMessage,[this.maxSelectCount]);this.currentUserId=Sage.Utility.getClientContextByKey("userID");var _16e0=new Sage.SData.Client.SDataResourceCollectionRequest(_16d0.getSDataService("dynamic"));_16e0.setResourceKind("activityresourceviews");this.store=new _16d1({service:_16d0.getSDataService("dynamic"),resourceKind:"activityresourceviews",select:["$key","ResourceId","Name"],include:[],sort:[{attribute:"Name"}]});},_where:function(_16e1){var _16e2=Sage.Utility.getClientContextByKey("userID");var _16e3="";if(lang.trim(_16e2)==="ADMIN"){_16e3=dojo.string.substitute("(AccessId eq '${0}' OR AccessId eq '${1}' OR AccessId eq 'EVERYONE') AND Type eq 'User'",[_16e2,lang.trim(_16e2)]);}else{_16e3=dojo.string.substitute("(AccessId eq '${0}' OR AccessId eq 'EVERYONE') AND Type eq 'User'",[lang.trim(_16e2)]);}if(_16e1){_16e3+=dojo.string.substitute(" AND Name like '%${0}%'",[lang.trim(_16e1)]);}return _16e3;},postCreate:function(){this.inherited(arguments);this.mainHandles.push(this.textFind.on("keyDown",lang.hitch(this,this._onFindMouseDown)));},showDialog:function(_16e4,_16e5){this.favariteUserCalendarId=_16e5;this.favoriteUserIds=_16e4;this.requestData();lang.mixin(this.dialogNode,new _16da());this.dialogNode.titleNode.innerHTML=this.dialogTitle;this.dialogNode.show();this.open=true;},hideDialog:function(){this.dialogNode.hide();},_onClearClick:function(){this.textFind.set("value","");this._onFindClick();},_onCancelClick:function(){this.textFind.set("value","");this.dialogNode.hide();this.allItems=[];},_onOKClick:function(){this.textFind.set("value","");this._addFavoriteUsers(this.allItems,this._refreshParent,this);this.dialogNode.hide();this.allItems=[];},_refreshParent:function(scope){if(scope.parent){scope.parent.refreshCalendarUsers(scope.allItems);}},_addFavoriteUsers:function(_16e6,_16e7,scope){var _16e8=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _16e9=new Sage.SData.Client.SDataServiceOperationRequest(_16e8).setResourceKind("UserCalendarFavorites").setOperationName("UpdateUserCalendarFavorites");var entry={"$name":"UpdateUserCalendarFavorites","request":{"UserCalendarFavoriteId":this.favariteUserCalendarId,"userId":this.currentUserId,"favUserIds":_16e6.join()}};_16e9.execute(entry,{success:_16e7(scope),failure:function(){_16e7(scope);},scope:scope||this});},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_16ea){_16ea.remove();});this._destroyContent();this.checkBoxes=null;this.allItems=null;this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.buttonFind.destroy(false);this.textFind.destroy(false);this.dialogNode.destroy(false);this.inherited(arguments);},requestData:function(_16eb){if(!this.loading){this._destroyContent();this.checkBoxes=[];}this.loading=true;var _16ec="";if(_16eb){_16ec=this._where(_16eb);}else{_16ec=this._where();}this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),query:{conditions:_16ec},count:this.count,scope:this});},_onFindMouseDown:function(event){if(event.keyCode===13){this._onFindClick();}},_onFindClick:function(){if(!this.loading){var _16ed=this.textFind.get("value");if(_16ed){this.requestData(_16ed);}else{this.requestData();}}},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_16d9.findWidgets(this.contentNode),function(_16ee){_16ee.destroy(false);});array.forEach(this.handles,function(_16ef){_16ef.remove();});this.handles=[];this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onCheckClick:function(e){var self=this.self,_16f0=this.checkBox,name=_16f0&&_16f0.get("id"),index;if(_16f0.checked){index=array.indexOf(self.allItems,name);if(index==-1){if(self.selectedCount<self.maxSelectCount){self.selectedCount++;self.allItems.push(name);}else{Sage.UI.Dialogs.showError(self.maxUsersErrorMessage);_16f0.set("checked",false);}}}else{index=array.indexOf(self.allItems,name);self.allItems.splice(index,1);self.selectedCount--;}},_onFetchComplete:function(items){var entry,_16f1,id,_16f2=null,_16f3=[],i,len=items.length,name,_16f4,_16f5,_16f6;this.selectedCount=0;for(i=0;i<len;i++){entry=items[i];_16f5="";_16f6="";name=entry.Name||"";id=entry.ResourceId;if(id==this.currentUserId){_16f5="disabled = 'true'";}name=name.replace("'","\\'");_16f3.push(this.checkBoxTemplate.apply({id:id,name:name,itemName:name,disabled:_16f5,disabledStyle:_16f6}));}this.contentNode.innerHTML="";_16f2=_16d8.toDom(_16f3.join(""));_16d8.place(_16f2,this.contentNode,"last");this._finishedLoading();},_finishedLoading:function(){this._parseCheckBoxes();this.setupCheckState();this.loading=false;},_parseCheckBoxes:function(){if(!this.contentNode){return;}var _16f7;_16db.parse(this.contentNode);_16f7=_16d9.findWidgets(this.contentNode);array.forEach(_16f7,function(_16f8){_16f8.on("click",lang.hitch({checkBox:_16f8,self:this},this._onCheckClick));this.checkBoxes.push(_16f8);},this);},setupCheckState:function(){var _16f9=this.currentUserId;if(!_16de.isItemInArray(this.favoriteUserIds,_16f9)){this.favoriteUserIds.push(_16f9);}array.forEach(this.checkBoxes,function(_16fa){var _16fb,_16fc,label=_16fa.get("id");_16fb=array.indexOf(this.favoriteUserIds,label);if(_16de.isItemInArray(this.favoriteUserIds,label)){_16fa.set("checked",true);this.selectedCount++;this.allItems.push(label);}else{_16fa.set("checked",false);}},this);}});});},"Sage/Utility/File/LibraryDocument":function(){define("Sage/Utility/File/LibraryDocument",["Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility/File","Sage/UI/Dialogs","dojo/_base/lang","dojo/string","Sage/Utility","Sage/Utility/ErrorHandler","Sage/Utility/File/DescriptionsForm","dojo/i18n!./nls/LibraryDocument"],function(_16fd,_16fe,_16ff,_1700,dLang,_1701,_1702,_1703,_1704,nls){Sage.namespace("Utility.File.LibraryDocument");Sage.Utility.File.LibraryDocument={_stateInfo:{total:0,processed:0,successCount:0,failedCount:0},_errors:[],_store:false,_target:false,_totalProgress:0,_attachmentTemplate:false,_files:[],_fileCount:0,_uploadAttemptCount:0,_isUploading:false,_descriptionsForm:false,_uploadUrlFmt:"slxdata.ashx/slx/system/-/libraryDirectories('${0}')/documents/file",_uploadUrl:false,createDocuments:function(files,_1705){this._target=(_1705&&typeof _1705!=="undefined")?_1705:false;var _1706="Library Document";this._ensureDescriptionsForm();this._descriptionsForm.set("entityDesc",_1706);this._descriptionsForm.set("files",files);this._descriptionsForm.show();},handleDescriptions:function(files,_1707){var _1708="";var id="";var i;for(i=0;i<_1707.length;i++){_1707[i][_1708]=id;}for(i=0;i<files.length;i++){this._files.push(files[i]);}this.uploadFiles();},_checkState:function(){if(this._stateInfo.processed==this._stateInfo.total){_1700.closeProgressBar();if(this._errors.length>0){var crlf="<br>";var _1709=[];_1709.push(_1701.substitute(this.uploadError,[this._stateInfo.failedCount,this._stateInfo.successCount]));_1709.push(crlf);var self=this;dojo.forEach(this._errors,function(err,idx){if(err&&typeof err==="object"&&err.hasOwnProperty("message")){_1709.push(_1701.substitute(self.failureNumber,[(idx+1)])+err.message);if(idx!==(self._errors.length-1)){_1709.push(crlf);}}});this._errors=[];Sage.UI.Dialogs.showError(_1709.join(crlf));}dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);this._resetCounts();}},_resetCounts:function(){this._fileCount=0;this._uploadAttemptCount=0;this._isUploading=false;this._totalProgress=0;this._stateInfo.processed=0;this._stateInfo.total=0;this._stateInfo.failedCount=0;this._stateInfo.successCount=0;},_failAdd:function(xhr){var _170a={url:this._uploadUrl};var _170b=_1703.getHttpStatusInfo(xhr,_170a);if(_170b&&typeof _170b==="object"){this._errors.push(_170b);}else{this._errors.push({message:this.unknownError});}this._uploadAttemptCount=this._uploadAttemptCount+1;this._updateProgress((this._fileCount<1)?100:(this._uploadAttemptCount/this._fileCount)*100);this._stateInfo.processed++;this._stateInfo.failedCount++;this._checkState();},_ensureDescriptionsForm:function(){if(!this._descriptionsForm){this._descriptionsForm=new _1704({entityDesc:"",fileType:Sage.Utility.File.fileType.ftLibraryDocs,files:this._files||[]});dojo.connect(this._descriptionsForm,"onDescriptionsEntered",this,"handleDescriptions");}},_successUpload:function(_170c){this._uploadAttemptCount=this._uploadAttemptCount+1;this._updateProgress((this._fileCount<1)?100:(this._uploadAttemptCount/this._fileCount)*100);this._stateInfo.processed++;this._stateInfo.successCount++;this._checkState();},_updateProgress:function(_170d){var pct=this._totalProgress;if(_170d&&_170d.lengthComputable){var _170e=(_170d.loaded/_170d.total)*100;pct+=Math.round(_170e/this._fileCount);}else{if(_170d){pct=_170d;}}this._totalProgress=pct;if(pct<99){_1700.showProgressBar({pct:pct,title:this.percentComplete});}},uploadFiles:function(_170f){this._isUploading=true;this._fileCount=this._files.length;if(_170f&&!this._attachmentTemplate){this._attachmentTemplate=_170f;}var _1710="";if(Sage.Library&&Sage.Library.FileHandler){_1710=Sage.Library.FileHandler.findDirectoryId(this._target);}var sUrl=_1701.substitute(this._uploadUrlFmt,[_1710]);this._uploadUrl=sUrl;this._stateInfo.processed=0;this._stateInfo.total=this._files.length;while(this._files.length>0){var file=this._files.pop();Sage.Utility.File.uploadFile(file,this._uploadUrl,this._updateProgress,this._successUpload,this._failAdd,this);}}};dLang.mixin(Sage.Utility.File.LibraryDocument,nls);return Sage.Utility.File.LibraryDocument;});},"Sage/UI/Controls/DropDownSelectUser":function(){require({cache:{"url:Sage/UI/Controls/templates/DropDownSelectUser.html":'<div>\r\n    <select data-dojo-type="Sage.UI.ComboBox" shouldPublishMarkDirty="false" dojoAttachPoint="comboBox" dojoAttachEvent="onBlur: _onBlur">\r\n    </select>\r\n</div>\r\n'}});define("Sage/UI/Controls/DropDownSelectUser",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/ComboBox","dojo/data/ItemFileReadStore","Sage/Data/BaseSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/ComboBox","dojo/text!./templates/DropDownSelectUser.html","dojo/_base/declare"],function(_1711,_1712,_1713,_1714,_1715,_1716,_1717,_1718,_1719,_171a){var _171b=_171a("Sage.UI.Controls.DropDownSelectUser",[_1713,_1711,_1712],{dataStore:null,storeOptions:null,storeData:null,templateString:_1719,widgetsInTemplate:true,constructor:function(_171c){this.storeOptions=_171c.storeOptions||{include:["UserInfo"],select:["Id","UserName","UserInfo/FirstName","UserInfo/LastName","Type"],sort:[{attribute:"UserInfo.LastName",descending:false}],service:_1717.getSDataService("dynamic",false,true,true),resourceKind:"users"};this.dataStore=new _1716(this.storeOptions);this.inherited(arguments);},postCreate:function(){var def=new dojo.Deferred();this.getUserData(def);def.then(dojo.hitch(this,function(data){if(!data){return;}var items=[];var count=data.length;var item=null;for(var i=0;i<count;i++){item=data[i];if(item.Type!=="Template"){items.push({id:item.$key,text:[item.UserInfo.FirstName,item.UserInfo.LastName].join(" ")});}}this.storeData={identifier:"id",label:"text",items:items};var _171d=new _1715({data:this.storeData});this.comboBox.set("store",_171d);this.comboBox.set("searchAttr","text");}),function(e){console.error(e);});this.inherited(arguments);},getUserData:function(_171e){this.dataStore.fetch({onComplete:function(data){_171e.callback(data);},onError:function(e){_171e.errback(e);},scope:this});},_getValueAttr:function(){return this.comboBox.get("value");}});return _171b;});},"Sage/QuickForms/Design/Editors/PickListAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/PickListAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/string","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dojo/data/ItemFileWriteStore","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/PickListAdvancedPropertyEditor"],function(_171f,lang,_1720,_1721,_1722,_1723,_1724,_1725,_1726,_1727,_1728,_1729,_172a){return _171f("Sage.QuickForms.Design.Editors.PickListAdvancedPropertyEditor",[_1721,_1728,_1727],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.displayModeTooltipText %}">',"<label>{%= $.displayModeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_displayMode" data-dojo-attach-event="onChange:_onDisplayModeChange">',"{% for (var mode in $.displayModeTypeText) { %}",'<span value="{%= mode %}">{%= $.displayModeTypeText[mode] %}</span>',"{% } %}","</div>","</div>",'<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.allowMultiplesTooltipText %}">',"<label>{%= $.allowMultiplesText %}</label>",'<div data-dojo-attach-point="_allowMultiples" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onAllowMultiplesChange"></div>',"</div>",'<div class="editor-field" title="{%= $.canEditTextTooltipText %}">',"<label>{%= $.canEditTextText %}</label>",'<div data-dojo-attach-point="_canEditText" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onCanEditTextChange"></div>',"</div>",'<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.mustExistInListTooltipText %}">',"<label>{%= $.mustExistInListText %}</label>",'<div data-dojo-attach-point="_mustExistInList" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onMustExistInListChange"></div>',"</div>",'<div class="editor-field" title="{%= $.maxLengthTooltipText %}">',"<label>{%= $.maxLengthText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_maxLength" data-dojo-attach-event="onChange:_onMaxLengthChange" data-dojo-props="constraints:{min:-1,places:0}"></div>',"</div>",'<div class="editor-field" title="{%= $.requiredTooltipText %}">',"<label>{%= $.requiredText %}</label>",'<div data-dojo-attach-point="_required" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onRequiredChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>",'<div class="editor-field" title="{%= $.pickListNameTooltipText %}">',"<label>{%= $.pickListNameText %}</label>",'<div data-dojo-type="dijit.form.ComboBox" data-dojo-attach-point="_pickListName" data-dojo-attach-event="onChange:_onPickListNameChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.storageModeTooltipText %}">',"<label>{%= $.storageModeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_storageMode" data-dojo-attach-event="onChange:_onStorageModeChange" data-dojo-props="disabled:true">',"{% for (var mode in $.storageModeTypeText) { %}",'<span value="{%= mode %}">{%= $.storageModeTypeText[mode] %}</span>',"{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_allowMultiples:null,_canEditText:null,_controlType:null,_controlId:null,_controlLabelPlacement:null,_defaultDataBinding:null,_displayMode:null,_enabled:null,_maxLength:null,_mustExistInList:null,_pickListName:null,_required:null,_storageMode:null,_visible:null,pickListRequest:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",allowMultiplesText:"Allow Multiple Selections:",allowMultiplesTooltipText:"Allows user to select more than one item.",canEditTextText:"Can Edit Text:",canEditTextTooltipText:"Allows user to type value.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",mustExistInListText:"Item Must Exist:",mustExistInListTooltipText:"Requires typed value to be on list.",pickListNameText:"Pick List Name:",pickListNameTooltipText:"Name of the list of values the user can select from when entering data.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",storageModeText:"Storage Mode:",storageModeTooltipText:"How the value is stored: Text, Id, or Code.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},displayModeTypeText:{"AsControl":"As Control","AsText":"As Text","AsHyperlink":"As Hyperlink"},storageModeTypeText:{"Text":"Text","Id":"ID","Code":"Code"},pickListRequestErrorText:"Unable to retrieve picklists from server.",constructor:function(){lang.mixin(this,_172a);},setup:function(){this.inherited(arguments);this._allowMultiples.set("value",this._designer.get("allowMultiples"));this._canEditText.set("value",this._designer.get("canEditText"));this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._displayMode.set("value",this._designer.get("displayMode"));this._enabled.set("value",this._designer.get("enabled"));this._maxLength.set("value",this._designer.get("maxLength"));this._mustExistInList.set("value",this._designer.get("mustExistInList"));this._pickListName.set("value",this._designer.get("pickListName"));this._required.set("value",this._designer.get("required"));this._storageMode.set("value",this._designer.get("storageMode"));this._visible.set("value",this._designer.get("visible"));var _172b=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_172b&&_172b["DataItemName"])||"");},destroy:function(){if(this.pickListRequest){this.pickListRequest.abort();}this.inherited(arguments);},createPickListRequest:function(){var _172c=new Sage.SData.Client.SDataResourceCollectionRequest(this.dataService).setCount(300).setStartIndex(0);_172c.setResourceKind("picklists");_172c.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.OrderBy,"name asc");return _172c;},requestPickListNames:function(){var _172d=this.createPickListRequest();if(_172d){this.pickListRequest=_172d.read({success:this.onRequestPickListNamesSuccess,failure:this.onRequestPickListNamesFailure,scope:this});}},onRequestPickListNamesSuccess:function(feed){this.pickListRequest=null;this.processPickListFeed(feed);},onRequestPickListNamesFailure:function(_172e,o){this.pickListRequest=null;alert(_1720.substitute(this.pickListRequestErrorText,[_172e,o]));},processPickListFeed:function(feed){if(!feed["$resources"]){return;}var _172f=new _1726({data:{identifier:"$key",label:"name",items:[]}});for(var i=0;i<feed["$resources"].length;i++){var entry=feed["$resources"][i];if(entry.name){_172f.newItem(entry);}}this._pickListName.set({store:_172f,disabled:false});},_onAllowMultiplesChange:function(value){if(this.isSuspended()){return;}this._designer.set("allowMultiples",value);},_onCanEditTextChange:function(value){if(this.isSuspended()){return;}this._designer.set("canEditText",value);},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onDefaultDataBindingChange:function(value){},_onDisplayModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("displayMode",value);},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onMaxLengthChange:function(value){if(this.isSuspended()){return;}this._designer.set("maxLength",value);},_onMustExistInListChange:function(value){if(this.isSuspended()){return;}this._designer.set("mustExistInList",value);},_onPickListNameChange:function(value){if(this.isSuspended()){return;}this._designer.set("pickListName",value);var _1730=this._pickListName.get("item");this._designer.set("pickListId",_1730["$key"][0]);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onStorageModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("storageMode",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectNumberParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint="divMultipleValues" style="padding-top: 5px;">\r\n            <center>\r\n                <table cellspacing="10">\r\n                    <tr>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msAvailableValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAdd" dojoAttachEvent="onClick:_cmdAdd_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdRemove" dojoAttachEvent="onClick:_cmdRemove_OnClick" >{%= Sage.Utility.htmlEncode("<") %}</div>\r\n                        </td>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msSelectedValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px; padding-left: 10px">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <div style="float:left"><input type="text" dojoType="Sage.UI.Controls.Numeric" dojoAttachPoint="txtCustomValue" style="width:150px" /></div>\r\n            &nbsp;<div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAddCustom" dojoAttachEvent="onClick:_cmdAddCustom_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>',"Sage/TaskPane/ActivityTaskContents":function(){define("Sage/TaskPane/ActivityTaskContents",["dijit/_Widget","Sage/_Templated","dojo/_base/declare"],function(_1731,_1732,_1733){var _1734=_1733("Sage.TaskPane.ActivityTaskContents",[_1731,_1732],{widgetsInTemplate:true,templateLocation:"",templateString:"",widgetTemplate:"",constructor:function(_1735){this.widgetTemplate=_1735.taskTemplate;dojo.subscribe("/sage/ui/list/selectionChanged",function(_1736){var _1737=dojo.byId("selectionCount");if(_1737){_1737.innerHTML=_1736.getTotalSelectionCount();}});},_clearSelection:function(e){var _1738=dijit.byId("list");if(_1738){_1738._listGrid.selection.clear();}}});return _1734;});},"Sage/UI/Controls/Phone":function(){define("Sage/UI/Controls/Phone",["dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","dojo/_base/declare"],function(_1739,_173a,_173b,_173c){var _173d=_173c("Sage.UI.Controls.Phone",_173b,{slxchangehook:"true",_setslxchangehookAttr:{node:"focusNode",type:"attribute",attribute:"slxchangehook"},shouldPublishMarkDirty:true,autoPostBack:false,postCreate:function(){this.inherited(arguments);this.unformattedValue=this.unformatNumber(this.get("value"));},unformattedValue:"",formatPhoneChange:function(_173e){var _173f=this.formatNumberForDisplay(_173e);this.unformattedValue=this.unformatNumber(_173e);this.set("value",_173f);},formatters:[{test:/^\+.*/,format:"{0}"},{test:/^(\d{3})(\d{3,4})$/,format:"{3}-{4}"},{test:/^(\d{3})(\d{3})(\d{2,4})$/,format:"({3}) {4}-{5}"},{test:/^(\d{3})(\d{3})(\d{2,4})([^0-9]{1,}.*)$/,format:"({3}) {4}-{5}{6}"},{test:/^(\d{11,})(.*)$/,format:"{1}"}],unformatNumber:function(_1740){var n=_1740;n=n.replace("(","");n=n.replace(")","");n=n.replace(" ","");n=n.replace("-","");return n;},formatNumberForDisplay:function(_1741,clean){var n=_1741;if(typeof clean==="undefined"){clean=n;}for(var i=0;i<this.formatters.length;i++){var _1742=this.formatters[i],match;if((match=_1742.test.exec(clean))){return String.format.apply(String,[_1742.format,n,clean].concat(match));}}return n;},onChange:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.formatPhoneChange(e);}});return _173d;});},"Sage/UI/Alarms/nls/ActivityAlarm":function(){define("Sage/UI/Alarms/nls/ActivityAlarm",["Sage/LanguageList","dojo/_base/lang"],function(_1743,lang){var nls={root:{noSubjectText:"No Subject",contactText:"Contact",accountText:"Account",opportunityText:"Opportunity",leadText:"Lead",companyText:"Company",recurringText:"Recurring",ticketText:"Ticket",leaderText:"Leader",locationText:"Location"}};return lang.mixin(_1743,nls);});},"url:Sage/Utility/File/templates/FallbackFilePicker_LibraryDoc.html":'[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="uploadFileDialog" title="{%= $.addLibraryFileText %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onHide">\',\r\n        \'<iframe src="about:blank" style="width:0px;height:0px;border-width:0px;" name="{%= $._iframeId %}" id="{%= $._iframeId %}" dojoAttachPoint="_iframe" dojoAttachEvent="onload:_iframeLoad"></iframe>\',\r\n        \'<form method="post" enctype="multipart/form-data" action="" target="{%= $._iframeId %}" dojoAttachPoint="_postForm" class="attachment-properties-form">\',\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160">\',\r\n                 \'<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.uploadFileText %}" >\',\r\n                    \'<input name="file" multiple="false" type="file" dojoAttachEvent="onchange:_onNewFile" dojoAttachPoint="btn_FileSelect" class="uploadButton" />\',\r\n                 \'</div>\',\r\n                 \'<div dojoType="dijit.form.TextBox" label="{%= $.descriptionText %}" name="description" id="{%= $.id %}_tb_Description" dojoAttachPoint="tb_Description" maxlength="255" ></div>\',\r\n                 \'<input type="hidden" dojoType="dijit.form.TextBox" name="fileName" id="{%= $.id %}_tb_realFileName" dojoAttachPoint="tb_realFileName" maxlength="255" />\',\r\n            \'</div>\',\r\n            \'<div class="general-dialog-actions" align="right">\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                \'<span>&nbsp;&nbsp</span>\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n            \'</div>\',\r\n        \'</form>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]',"Sage/TaskPane/ActivityTaskPaneActions":function(){define("Sage/TaskPane/ActivityTaskPaneActions",["dojo/parser","dojo/ready"],function(_1744,ready){Sage.namespace("TaskPane.ActivityTaskPaneActions");Sage.TaskPane.ActivityTaskPaneActions={scheduleMeeting:function(){this._getActivityService().scheduleActivity({type:"Meeting"});},scheduleToDo:function(){this._getActivityService().scheduleActivity({type:"ToDo"});},schedulePhoneCall:function(){this._getActivityService().scheduleActivity({type:"PhoneCall"});},schedulePerosnalActivity:function(){this._getActivityService().scheduleActivity({type:"Personal"});},completeActivity:function(){this._getActivityService().completeActivity();},deleteActivity:function(){this._getActivityService().deleteActivity();},acceptConfirmation:function(){this._getActivityService().acceptConfirmation();},declineConfirmation:function(){this._getActivityService().declineConfirmation();},deleteConfirmation:function(){this._getActivityService().deleteConfirmation();},scheduleEvent:function(){this._getActivityService().scheduleEvent();},deleteEvent:function(){this._getActivityService().deleteEvent();},scheduleLitRequest:function(){this._activityService.scheduleLitRequest();},deleteLitRequest:function(){this._getActivityService().deleteLitRequest();},_getActivityService:function(){return Sage.Services.getService("ActivityService");}};return Sage.TaskPane.ActivityTaskPaneActions;});},"Sage/UI/Alarms/JobNotificationPopup":function(){define("Sage/UI/Alarms/JobNotificationPopup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","Sage/UI/EditableGrid","Sage/Utility","dojo/string","dojo/i18n!./nls/JobNotificationPopup","dojo/_base/declare","Sage/Utility/Jobs"],function(_1745,_1746,_1747,_1748,_1749,_174a,_174b,_174c,_174d){var _174e=_174c("Sage.UI.Alarms.JobNotificationPopup",[_1747,_1745,_1746],{_notificationCount:-1,_dataRequested:false,widgetsInTemplate:true,isOpen:false,grid:"",templateString:['<div class="alarm-popup notification-popup">','<div class="alarm-title notification-title">','<span class="alarm-main-title">&nbsp;${notificationPopupStrings.title}</span>','<span class="alarm-title-tools notification-title-tools">','<span dojoType="Sage.UI.ImageButton" imageClass="icon_Help_16x16" title="${notificationPopupStrings.helpText}" dojoAttachEvent="onClick:_showHelp" ></span>',"</span>","</div>",'<div data-dojo-type="dijit.layout.StackContainer" dojoAttachPoint="_panelContainer" class="alarm-body" >','<div data-dojo-type="dijit.layout.BorderContainer" id="jobNotifications_Grid" dojoAttachPoint="jobNotifications_Grid" style="width:100%;height:100%;"></div>',"</div>","</div>"].join(""),constructor:function(){this.notificationPopupStrings=_174b;var _174f=Sage.Services.getService("JobService");var _1750=_174f.getSchedulingSDataService();this._service=_1750;},onOpen:function(){this.isOpen=true;this._panelContainer.resize();if(!this._dataRequested){this._loadNotifications();}else{this.grid.refresh();}},_onNotificationRequestComplete:function(){var count=this.context.query.scope.rowCount;},_loadNotifications:function(){var _1751={readOnly:true,columns:this._getColumnLayout(),tools:[],storeOptions:{service:this._service,resourceKind:"executions",include:["$descriptors"],select:["$key","job","trigger","progress","elapsed","status","result"],sort:[{attribute:"status",descending:true}],onComplete:this._onNotificationRequestComplete},contextualCondition:function(){},id:this.id+"executions",tabId:"jobExecutions",gridNodeId:this.jobNotifications_Grid.id,singleClickEdit:true,dblClickAction:this._onDblClick,rowsPerPage:20};var grid=new _1748(_1751);var _1752=dijit.byId(grid.gridNodeId);_1752.addChild(grid);window.setTimeout(function(){grid.startup();_1752.resize();},1);this.grid=grid;grid.startup();this._dataRequested=true;},_onDblClick:function(){},_getColumnLayout:function(){function _1753(item,_1754,cell){var _1755=cell.grid.store.getValue(item,"result");if(!_1755){return this.defaultValue;}var parts=_1755.split("://");if(parts.length===1){return this.defaultValue;}return _174a.substitute('<a href="javascript: Sage.Utility.File.Attachment.getAttachment(\'${1}\');" title="${0}">${0}</a>',[item.trigger?item.trigger.$descriptor:"",parts[1]]);}function _1756(_1757){if(!_1757||typeof _1757!=="number"){_1757=0;}var _1758=new dijit.ProgressBar({indeterminate:false,maximum:100,value:_1757});return _1758;}var _1759=[{width:10,field:"$key",name:" ",sortable:false,hidden:true},{width:10,field:"job",name:this.notificationPopupStrings.colNameJobName||"Type",sortable:true,formatter:_174d.formatJobDescription},{width:8,field:"progress",name:this.notificationPopupStrings.colNameProgress||"Progress",formatter:_1756,sortable:false},{width:6,field:"status",name:this.notificationPopupStrings.colNameStatus||"Status",sortable:true},{width:24,field:"_item",name:this.notificationPopupStrings.colExecutionResult||"Result",formatter:_1753,sortable:false}];return _1759;},onClose:function(){this.isOpen=false;},startup:function(){this.inherited(arguments);},_showHelp:function(){_1749.openHelp("jobNotifications");}});return _174e;});},"Sage/MainView/Opportunity/nls/OpportunityStatistics":function(){define("Sage/MainView/Opportunity/nls/OpportunityStatistics",["Sage/LanguageList","dojo/_base/lang"],function(_175a,lang){var nls={root:{opportunityStatistics_Caption:"Opportunity Statistics",loadingMessge:"Loading...",opportunityCount:"# of Opportunities",salesPotentialTotal:"Sales Potential Total (Average)",weightedPotentialTotal:"Weighted Potential Total (Average)",averageCloseProbability:"Average Close Probability",actualAmountTotal:"Actual Amount Total (Average)",averageDaysOpen:"Average # of Days Open",rangeEstClose:"Range of Est. Close (Min - Max)",btnClose_Caption:"Close",errorRequestingStatistics:"Sorry an error occurred attempting to request opportunity statistics."}};return lang.mixin(_175a,nls);});},"Sage/UI/Filters/GroupFilterConfigurationProvider":function(){define("Sage/UI/Filters/GroupFilterConfigurationProvider",["Sage/Services/_ServiceMixin","Sage/_ConfigurationProvider","Sage/Data/GroupLayoutSingleton","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang","dijit/registry","dojo/string","Sage/Utility/Filters","dojo/json"],function(_175b,_175c,_175d,_175e,_175f,lang,_1760,_1761,_1762,json){var _1763=_175f("Sage.UI.Filters.GroupFilterConfigurationProvider",[_175c,_175b],{FILTER_COUNT:150,_configuration:null,_hasLayoutConfiguration:false,_hasFilterHiddenConfiguration:false,serviceMap:{"groupContextService":"ClientGroupContext","metaDataService":{type:"sdata",name:"metadata"},"systemDataService":{type:"sdata",name:"system"}},constructor:function(_1764){this.inherited(arguments);this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},onConfigurationChange:function(){},_createConfiguration:function(entry,_1765){var _1766=entry&&entry.layout,_1767=[],_1768=[],i=0,_1769=this.groupContextService&&this.groupContextService.getContext(),_176a=_1769&&_1769.CurrentGroupID,_176b=_1769&&_1769.CurrentEntity,_176c=this.systemDataService,_176d=this.metaDataService,_176e,where;for(i=0;i<_1766.length;i++){_1767.push('"'+_1766[i].propertyPath+'"');_1768.push('"'+_1766[i].caption+'"');}_176e=new Sage.SData.Client.SDataResourcePropertyRequest(_176d);_176e.setResourceKind("entities");_176e.setResourceSelector('"'+_176b+'"');_176e.setResourceProperty("filters");_176e.setQueryArg("count",this.FILTER_COUNT);if(_176b==="User"){_1768.push('"Role"');_1768.push('"Team"');}where=_1761.substitute('filterType ne "analyticsMetric" and (propertyName in (${0}) or displayName in (${1}))',[_1767.join(","),_1768.join(",")]);_176e.setQueryArg("where",where);this._configuration.store=new _175e({executeReadWith:"readFeed",request:_176e});this._configuration.createStoreForFilter=function(_176f){var _1770=new Sage.SData.Client.SDataResourcePropertyRequest(_176c);_1770.setResourceKind("groups");_1770.setResourceSelector('"'+_176a+'"');_1770.setResourceProperty("$queries/executeMetric");_1770.setQueryArg("_filterName",_176f.filterName);_1770.setQueryArg("orderby","displayName");return _176f&&_176f.filterName?new _175e({executeReadWith:"readFeed",request:_1770}):null;};this._configuration.getFilterManager=function(){var _1771=_1760.byId("list");return _1771&&_1771.get("filterManager");};this._configuration.groupId=_176a;},requestConfiguration:function(_1772){this._configuration={};this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;var _1773=new _175d(),group=this.getCurrentGroup(),_1774=lang.hitch(this,this._onRequestConfigurationSuccess,_1772||{}),_1775=lang.hitch(this,this._onRequestConfigurationFailure,_1772||{});_1773.getGroupLayout(this.formatPredicate(group),_1774,_1775,group.$key);this._getHiddenFilters(_1772);},formatPredicate:function(group){return"'"+group.$key+"'";},getCurrentGroup:function(){var _1776=this.groupContextService&&this.groupContextService.getContext(),_1777=_1776&&_1776.CurrentFamily,name=_1776&&_1776.CurrentName,id=_1776&&_1776.CurrentGroupID;return{name:name,family:_1777,$key:id};},_onRequestConfigurationSuccess:function(_1778,entry){this._createConfiguration(entry,_1778);this._hasLayoutConfiguration=true;this._callOptionsSuccess(_1778);},_onRequestConfigurationFailure:function(_1779,_177a){if(_1779.failure){_1779.failure.call(_1779.scope||this,_177a,_1779,this);}},_getHiddenFilters:function(_177b){var key=this._getHiddenFiltersKey();if(key){_1762.getHiddenFilters(key,lang.hitch(this,this._onHiddenFiltersFetchComplete,_177b||{}),function(err){console.error(err);});}},_getHiddenFiltersKey:function(){var key=_1762.getHiddenFiltersKey();return key;},_onHiddenFiltersFetchComplete:function(_177c,_177d){if(_177d&&_177d.response&&_177d.response.value){this._configuration._hiddenFilters=json.parse(_177d.response.value);if(this._configuration._hiddenFilters&&this._configuration._hiddenFilters.constructor===Array){this._configuration._hiddenFilters={};}}this._configuration._hiddenFiltersKey=this._getHiddenFiltersKey();this._hasFilterHiddenConfiguration=true;this._callOptionsSuccess(_177c);},_callOptionsSuccess:function(_177e){if(!this._hasLayoutConfiguration||!this._hasFilterHiddenConfiguration){return;}if(_177e.success){_177e.success.call(_177e.scope||this,this._configuration,_177e,this);this._hasLayoutConfiguration=false;this._hasFilterHiddenConfiguration=false;}}});return _1763;});},"Sage/UI/NavBarPane":function(){define("Sage/UI/NavBarPane",["dijit/layout/_LayoutWidget","Sage/_Templated","Sage/UI/MenuItem","dijit/Menu","dojo/_base/declare"],function(_177f,_1780,_1781,_1782,_1783){var _1784=_1783("Sage.UI.NavBarPane",[_177f,_1780],{textImageRelationMap:{0:new Simplate(['<div class="Global_Images icon32x32 {%: $.imageClass %}"></div>',"<br />","<span>{%: $.text %}</span>"]),1:new Simplate(["<span>{%: $.text %}</span>","<br />",'<div class="Global_Images icon32x32 {%: $.imageClass %}"></div>']),2:new Simplate(['<div class="Global_Images icon32x32 {%: $.imageClass %}"></div>',"<span>{%: $.text %}</span>"]),3:new Simplate(["<span>{%: $.text %}</span>",'<div class="Global_Images icon32x32 {%: $.imageClass %}"></div>']),4:new Simplate(['<img src="{%: $.img %}" alt="" />',"<span>{%: $.text %}</span>"]),},attributeMap:{"listContent":{node:"listNode",type:"innerHTML"}},widgetTemplate:new Simplate(['<div class="nav-bar-pane">','<ul dojoAttachPoint="listNode,containerNode"></ul>',"</div>"]),itemTemplate:new Simplate(['<li id="{%: $.id %}" class="{%: $.className %}" aria-haspopup="{%: $.haspopup %}">','<a href="{%: $.href %}">',"{%= $.innerTemplate.apply($) %}","</a>","</li>"]),title:null,items:null,_requiredContextMenus:null,_contextMenus:null,constructor:function(){this._requiredContextMenus=[];this._contextMenus=[];},postCreate:function(){this.inherited(arguments);this._processItemCollection(this.items);},startup:function(){this.inherited(arguments);this._processContextMenus(this._requiredContextMenus);},destroy:function(_1785){this.inherited(arguments);dojo.forEach(this._contextMenus,function(item){item.destroy(_1785);});},_processItemCollection:function(items){var _1786=[];dojo.forEach(items,function(item){item.id=item.id||Sage.guid("NavItem");if(window.location.href.indexOf(item.href)!==-1){item.className="nav-bar-item-current-page";}else{item.className="nav-bar-item";}if(item.contextmenu){this._requiredContextMenus.push({id:item.id,name:item.contextmenu});item.haspopup="true";}else{item.haspopup="false";}if(item.imageClass===""){item.innerTemplate=this.textImageRelationMap[4];}else{item.innerTemplate=this.textImageRelationMap[item.textImageRelation];}_1786.push(this.itemTemplate.apply(item,this));},this);this.set("listContent",_1786.join(""));},_processContextMenus:function(menus){var i,j,menu,_1787,item,_1788,items;for(i=0;i<menus.length;i++){menu=menus[i];_1788=Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus[menu.name];items=_1788&&_1788.items;if(items&&items.length>0){_1787=new _1782({targetNodeIds:[menu.id]});for(j=0;j<items.length;j++){item=items[j];_1787.addChild(new _1781({id:_1787.id+"_"+item.id,label:item.text||"...",title:item.tooltip||"...",img:item.img||this._blankGif,ref:item.href,onClick:this._onContextMenuClick}));}this._contextMenus.push(_1787);}}},_onContextMenuClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});return _1784;});},"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectStringParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint="divMultipleValues" style="padding-top: 5px;">\r\n            <center>\r\n                <table cellspacing="10">\r\n                    <tr>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msAvailableValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAdd" dojoAttachEvent="onClick:_cmdAdd_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdRemove" dojoAttachEvent="onClick:_cmdRemove_OnClick" >{%= Sage.Utility.htmlEncode("<") %}</div>\r\n                        </td>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msSelectedValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px; padding-left: 10px">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <input data-dojo-type="dijit.form.TextBox" type="text" dojoAttachPoint="txtCustomValue" style="width:150px" />\r\n            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAddCustom" dojoAttachEvent="onClick:_cmdAddCustom_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>',"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1789,lang){var nls={root:{dlgCrystalReportConditionDetails_Title:"Add/Edit Condition",cmdOK_Caption:"OK",cmdCancel_Caption:"Cancel",cmbConditionType_Caption:"Match By",txtInvalidParameterTitle:"Invalid Parameter",txtInvalidParameterMessage:"Invalid Parameter: ${0}",lkpUser_Caption:"User",lkpGroup_Caption:"Group",txtSelectUser:"Select User",chkCurrentUser_Caption:"Current User",txtName:"Name",txtOK:"OK",txtSelectGroup:"Select Group",cmbDateRange_Caption:"Date Range",cmbDateRange_SpecificDates_Caption:"Specific Dates",cmbDateRange_ThisWeek_Caption:"This Week",cmbDateRange_ThisMonth_Caption:"This Month",cmbDateRange_ThisQuarter_Caption:"This Quarter",cmbDateRange_ThisYear_Caption:"This Year",cmbDateRange_LastWeek_Caption:"Last Week",cmbDateRange_LastMonth_Caption:"Last Month",cmbDateRange_LastQuarter_Caption:"Last Quarter",cmbDateRange_LastYear_Caption:"Last Year",cmbDateRange_MonthToDate_Caption:"Month to Date",cmbDateRange_QuarterToDate_Caption:"Quarter to Date",cmbDateRange_YearToDate_Caption:"Year to Date",dtFromDate_Caption:"From",dtToDate_Caption:"To",cmbTable_Caption:"Table",cmbField_Caption:"Field",cmbOperator_Caption:"Operator",txtValue_Caption:"Value",txtNumericValueFrom_Caption:"From",txtNumericValueTo_Caption:"To"}};return lang.mixin(_1789,nls);});},"Sage/UI/URL":function(){define("Sage/UI/URL",["dijit/_Widget","Sage/_Templated","dijit/form/ValidationTextBox","dojox/validate/regexp","Sage/UI/Controls/TextBox","dojo/_base/declare","Sage/Utility"],function(_178a,_178b,_178c,_178d,_178e,_178f,_1790){dojo.mixin(_178c.prototype.attributeMap,{slxchangehook:"focusNode"});var _1791=_178f("Sage.UI.URL",[_178a,_178b],{widgetTemplate:new Simplate(['<div class="urlcontrol" slxcompositecontrol="true" id="{%= $.id %}" >','<input data-dojo-type="Sage.UI.Controls.TextBox" name="{%= $.name %}" ','data-dojo-props="textWithIcons: {%= $.buttonVisible %}"','dojoAttachPoint="focusNode" type="text" style="" ','hotKey="{%= $.hotKey %}" ','{% if($.disabled === "disabled") { %} ','disabled="disabled" ',"{% } %}",'{% if($.readonly === "readonly") { %} ','readonly="readonly" ',"{% } %}",'{% if ($.disabled !== "disabled") { %} ',' dojoAttachEvent="onChange:formatURLChange, onDblClick:launchWebSite, regExpGen:regExpGen" ',"{% } %}",' tabindex="{%= $.tabIndex %}" ','value="{%= $.url %}" required="{%= $.required %}" ','id="{%= $.id %}_urlText" maxlength="{%= $.maxLength %}" > ','{% if ($.buttonVisible && $.disabled !== "disabled") { %}','<img alt="{%= $.buttonToolTip %}" data-dojo-attach-event="ondijitclick: launchWebSite"   ',' tabindex="{%= $.tabIndex %}" alt="{%= $.buttonToolTip %}" ','src="{%= $.buttonImageUrl %}" title="{%= $.buttonToolTip %}" id="{%= $.id %}_urlButton"> ',"{% } %}","</div>"]),name:"",autoPostBack:false,readonly:"",disabled:"",hotKey:"",buttonVisible:true,maxLength:128,buttonImageUrl:"",buttonToolTip:"WWW",required:false,tabIndex:0,url:"",webAddressId:"",constructor:function(_1792){_1792.id=_1792.webAddressId;},postCreate:function(){this.formatURL();this.inherited(arguments);},widgetsInTemplate:true,attributeMap:{slxchangehook:{node:"focusNode",type:"attribute",attribute:"slxchangehook"}},regExpGen:function(){return _1790.regexp.invalidInput;},formatURL:function(){dojo.style(this.focusNode.focusNode,"color","#000099");dojo.style(this.focusNode.focusNode,"font-family","Tahoma");},formatURLChange:function(){if(this.url!==this.focusNode.value){this.url=this.focusNode.value;}},launchWebSite:function(){var url=this.url;if(url.length<1){return;}var _1793="http://";var _1794="https://";var winH;if(url.indexOf(_1793)===-1&&url.indexOf(_1794)===-1){url=_1793+url;}winH=window.open(url,"",["dependent=no","directories=yes","location=yes","menubar=yes","resizeable=yes","pageXOffset=0px","pageYOffset=0px","scrollbars=yes","status=yes","titlebar=yes","toolbar=yes"].join(","));}});return _1791;});},"Sage/MainView/JobMgr/JobDefinitionsListPanelConfig":function(){define("Sage/MainView/JobMgr/JobDefinitionsListPanelConfig",["Sage/MainView/JobMgr/BaseListPanelConfig","Sage/MainView/JobMgr/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/JobDefinitionsListPanelConfig"],function(_1795,_1796,_1797,_1798){var _1799=_1797("Sage.MainView.JobMgr.JobDefinitionsListPanelConfig",[_1795],{constructor:function(){this._nlsResources=_1798;this._listId="JobDefinitions";this._resourceKind="jobs";this.entityName="Job";this._contextMenu="JobManagerListContextMenu";this._currentListContextSubMenu="JobDefinitionsListContextMenu";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.keyField="$key";},_getStructure:function(){var _179a=this._nlsResources.colNameJobName||"Job Name";var _179b=this._nlsResources.colNameDescription||"Description";var _179c=this._nlsResources.colNameType||"Type";var _179d=[{field:"$descriptor",name:_179a,width:"100px"},{field:"description",name:_179b,width:"100px"},{field:"type",name:_179c,width:"50px"}];return _179d;},_getSelect:function(){var _179e=["$key","description","type"];return _179e;},_getWhere:function(){return"";},_getSort:function(){var sort=[{attribute:"description"}];return sort;},_getInclude:function(){var _179f=[];return _179f;},_getSummaryListRequestConfig:function(){var _17a0={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description"],include:[],useBatchRequest:false};return _17a0;},_getFormatterScope:function(){var _17a1=this._getSummaryListRequestConfig();var _17a2=new _1796({templateLocation:"MainView/JobMgr/templates/JobDefinitionsListSummary.html",resetDataManager:true,requestConfiguration:_17a1});return _17a2;},_getSummaryDetailRequestConfig:function(){var _17a3={resourceKind:this._resourceKind,serviceName:"scheduling",keyField:"$key",select:["$key","description"],include:["$descriptors"],useBatchRequest:false};return _17a3;},_getDetailConfig:function(){var _17a4=this._getFormatterScope();var _17a5=this._getSummaryDetailRequestConfig();var _17a6={resourceKind:this._resourceKind,requestConfiguration:_17a5,templateLocation:"MainView/JobMgr/Templates/JobDefinitionDetailSummary.html"};return _17a6;},_getToolBars:function(){var _17a7={items:[]};return _17a7;}});return _1799;});},"Sage/UI/Grid/Plugins/ShowHideColumns":function(){define("Sage/UI/Grid/Plugins/ShowHideColumns",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojox/grid/enhanced/_Plugin","dojox/grid/EnhancedGrid","dijit/Menu","dijit/CheckedMenuItem","dojo/on","dojo/topic"],function(_17a8,array,lang,_17a9,_17aa,Menu,_17ab,on,topic){var _17ac=_17a8("Sage.UI.Grid.Plugins.ShowHideColumns",_17a9,{name:"showHideColumns",privates:{},hideQueue:null,constructor:function(){this.hideQueue=[];this.inherited(arguments);},onStartUp:function(){var menu=new Menu(),_17ad;menu.startup();on(menu,"open",lang.hitch(this,function(){if(this.grid.headerMenu){this.grid.headerMenu.destroyDescendants();}array.forEach(this.grid.layout.cells,function(cell){_17ad=new _17ab({label:cell.name||"",checked:!cell.hidden});_17ad._onClick=lang.hitch({plugin:this,item:_17ad,cell:cell},function(e){this.plugin.hideQueue.push(this.cell);this.item.set("checked",!this.item.checked);e.cancelBubble=true;});this.grid.headerMenu.addChild(_17ad);},this);}));on(menu,"blur",lang.hitch(this,function(){array.forEach(this.hideQueue,function(item){this.grid.layout.setColumnVisibility(item.index,item.hidden);topic.publish("/sage/ui/grid/columnToggle/"+this.grid.id,item);},this);topic.publish("/sage/ui/grid/columnsToggled/"+this.grid.id);this.hideQueue=[];}));this.grid.set("headerMenu",menu);}});_17aa.registerPlugin(_17ac);return _17ac;});},"Sage/MainView/IntegrationContract/nls/AdvancedSearchOptions":function(){define("Sage/MainView/IntegrationContract/nls/AdvancedSearchOptions",["Sage/LanguageList","dojo/_base/lang"],function(_17ae,lang){var nls={root:{dialogCaption:"Link to Accounting",searchOptionsHeader:"Search for Matches in ",searchOptionsText:"The following criteria was used in the previous search. Modify the criteria for a new search. Click OK to begin searching.",propertyText:"Property",operatorText:"Operator",searchText:"Search Value",loadingText:"loading...",loadingDisplay:"Searching for results...",hideImgAltText:"Remove Condition",addImgAltText:"Add Condition",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_17ae,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility":function(){define("Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility",["dojo/date/locale","dojo/i18n!./nls/CrystalReportsUtility","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility"],function(_17af,_17b0,_17b1,_17b2){Sage.namespace("Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility");dojo.mixin(Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility,{_nlsResources:_17b0,getConditionTypes:function(_17b3){var _17b4=[];if(_17b3){if(_17b3.useDateFilter){_17b4.push({conditionType:_17b1.ReportConditionType.DateRange,caption:_17b1.getReportConditionTypeCaption(_17b1.ReportConditionType.DateRange)});}if(_17b3.useGroupFilter){_17b4.push({conditionType:_17b1.ReportConditionType.Group,caption:_17b1.getReportConditionTypeCaption(_17b1.ReportConditionType.Group)});}_17b4.push({conditionType:_17b1.ReportConditionType.Query,caption:_17b1.getReportConditionTypeCaption(_17b1.ReportConditionType.Query)});if(_17b3.useUserFilter){_17b4.push({conditionType:_17b1.ReportConditionType.User,caption:_17b1.getReportConditionTypeCaption(_17b1.ReportConditionType.User)});}}return _17b4;},getCurrentEntityCondition:function(){var _17b5=null;var _17b6=_17b2.getCurrentEntityContext();if(_17b6&&_17b6.EntityTableName&&_17b6.EntityId){var _17b7=_17b6.EntityTableName.toUpperCase()+"ID";_17b5={conditionType:_17b1.ReportConditionType.Query,table:_17b6.EntityTableName.toUpperCase(),field:_17b7,operator:_17b1.ReportConditionOperator.Is,value:_17b6.EntityId,fromRange:null,toRange:null,dataType:_17b1.FieldDataTypes.String,tag:null};}return _17b5;},getCurrentUserCondition:function(){var _17b8={conditionType:_17b1.ReportConditionType.User,table:null,field:null,operator:_17b1.ReportConditionOperator.Is,value:_17b0.txtCurrentUser,fromRange:null,toRange:null,dataType:_17b1.FieldDataTypes.String,tag:":UserID"};return _17b8;},getDateOnlyFormattedDate:function(_17b9){return _17af.format(_17b9,{selector:"date",fullYear:true});}});return Sage.MainView.ReportMgr.Crystal.CrystalReportsUtility;});},"Sage/QuickForms/Design/Editors/FormAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/FormAdvancedPropertyEditor"],function(_17ba,lang,_17bb,_17bc,_17bd,_17be,_17bf,_17c0,_17c1,_17c2){return _17ba("Sage.QuickForms.Design.Editors.FormAdvancedPropertyEditor",[_17bb,_17c0,_17bf],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.generalText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.useEntityNameAsTitleTooltipText %}">',"<label>{%= $.useEntityNameAsTitleText %}</label>",'<div data-dojo-attach-point="_useEntityNameAsTitle" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onUseEntityNameAsTitleChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_useEntityNameAsTitle:null,titleText:"Advanced",generalText:"General",useEntityNameAsTitleText:"Use Entity Name As Title:",useEntityNameAsTitleTooltipText:"Use name of current entity in form title.",constructor:function(){lang.mixin(this,_17c2);},setup:function(){this.inherited(arguments);this._useEntityNameAsTitle.set("value",this._designer.get("useEntityNameAsTitle"));},_onUseEntityNameAsTitleChange:function(value){if(this.isSuspended()){return;}this._designer.set("useEntityNameAsTitle",value);}});});},"Sage/QuickForms/Design/nls/ColumnDesigner":function(){define("Sage/QuickForms/Design/nls/ColumnDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_17c3,lang){var nls={root:{displayNameText:"Column"}};return lang.mixin(_17c3,nls);});},"Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig",["Sage/UI/Controls/Lookup","dojo/_base/declare"],function(_17c4,_17c5){var _17c6=_17c5("Sage.MainView.ActivityMgr.AttendeeLookup.BaseLookupConfig",null,{lookupName:"LookupName",lookupDisplayName:"Lookup Display Name",lookupType:_17c4,entityName:"entityName",id:false,cells:[],defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"picklistName":null,"defaultValue":""},gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"someEntity",sort:[{attribute:"SortField"}]},displayMode:0,isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],query:{},dialogTitle:"Lookup",dialogButtonText:"Ok",allowClearingResult:true,readonly:true,showEntityInfoToolTip:false,_nlsResources:{},constructor:function(){},rebuild:function(){this._lookup=null;},getLookupInstance:function(uiid){var _17c7=this.getConfig(uiid);var _17c8=new this.lookupType(_17c7);return _17c8;},addCell:function(cell,_17c9){},removeCell:function(_17ca){},getCells:function(){return this.cells;},getConfig:function(uiid){var _17cb={id:this.id+"_base_"+uiid,structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,storeOptions:this.storeOptions,isModal:this.isModal,displayMode:this.displayMode,initialLookup:this.initialLookup,preFilters:this.preFilters,returnPrimaryKey:this.returnPrimaryKey,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:function(){alert("overide the doSelect method");}};var _17cc={id:this.id+"_"+uiid,allowClearingResult:this.allowClearingResult,readonly:this.readonly,showEntityInfoToolTip:this.showEntityInfoToolTip,config:_17cb};return _17cc;}});return _17c6;});},"Sage/UI/Controls/SingleSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/SingleSelectPickList.html":'<div>\r\n    <select id="${id}-Combo" data-dojo-type="Sage.UI.ComboBox" shouldPublishMarkDirty="false" required="${required}" dojoAttachPoint="comboBox" dojoAttachEvent="onChange:_onChange" tabindex="${tabIndex}">\r\n    </select>\r\n</div>\r\n'}});define("Sage/UI/Controls/SingleSelectPickList",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ComboBox","dojo/data/ItemFileReadStore","dojo/data/ObjectStore","dojo/store/Memory","Sage/UI/ComboBox","Sage/UI/Controls/PickList","dojo/text!./templates/SingleSelectPickList.html","dojo/string","dojo/_base/declare"],function(_17cd,_17ce,_17cf,_17d0,_17d1,_17d2,_17d3,_17d4,_17d5,_17d6,_17d7,_17d8){var _17d9=_17d8("Sage.UI.Controls.SingleSelectPickList",[_17d5,_17cd,_17ce,_17cf],{store:null,constructor:function(_17da){if(_17da.clientId){this.id=_17da.clientId+"-SingleSelectPickList";}this.inherited(arguments);},postCreate:function(){this._setupTooltips(this.comboBox._buttonNode,this.comboBox.textbox);this._setupRenderAsHyperlink();this._setupTooltips();this.inherited(arguments);var _17db=dojo.byId(this._textId);if(_17db&&_17db.value&&(this.comboBox.value!==_17db.value)){this.comboBox.set("value",_17db.value);}},_setupTooltips:function(){if(this.controlTooltip&&this.controlTooltip!==""){this.comboBox.set("title",this.controlTooltip);}if(this.buttonTooltip&&this.buttonTooltip!==""){if(this.comboBox._buttonNode){this.comboBox._buttonNode.title=this.buttonTooltip;}}},_setupRenderAsHyperlink:function(){if(!this.renderAsHyperlink){return;}dojo.addClass(this.comboBox.domNode,"comboAsHyperlink");dojo.connect(this.comboBox.domNode,"onclick",this,function(){this.comboBox.loadDropDown();});},_loadData:function(){var def=new dojo.Deferred();this.getPickListData(def);def.then(dojo.hitch(this,function(data){if(typeof data==="string"){this.comboBox.set("value",data);}var items=[];var _17dc;for(var i=0;i<data.items.$resources.length;i++){var item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};this.store=new _17d1({data:this.storeData});this.comboBox.set("store",this.store);this.comboBox.set("searchAttr","text");this.store._forceLoad();var _17dd=dojo.byId(this._textId);var _17de=dojo.byId(this._picklistId);var _17df=dojo.byId(this._codeId);if(_17dd&&_17dd.value){this.lastValidValue=_17dd.value;this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}else{if(_17de&&_17de.value){_17dc=this.getStoreItemById(_17de.value);if(_17dc){this.lastValidValue=this.store.getValue(_17dc,"text");this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}}else{if(_17df&&_17df.value){_17dc=this.getStoreItemByCode(_17df.value);if(_17dc){this.lastValidValue=this.store.getValue(_17dc,"text");this.initialValue=this.lastValidValue;this.comboBox.set("value",this.lastValidValue);}}else{var val=this.comboBox.get("value");if(val||val===""){this.lastValidValue=val;}else{this.lastValidValue=items[0].text;this.comboBox.set("value",this.lastValidValue);}}}}}),function(e){console.error(e);});if(this.get("canEditText")===false){this.comboBox.textbox.disabled=true;}var len=this.get("maxLength");if(len>0){this.comboBox.set("maxLength",len);}},uninitialize:function(){this.inherited(arguments);},getStoreItemById:function(id){var _17e0=null,_17e1;if(this.store){if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.id){_17e1=this.store.getValue(item,"id");if(_17e1===id){_17e0=item;return _17e0;}}},this);}}return _17e0;},getStoreItemByCode:function(code){var _17e2=null,_17e3;if(this.store){if(this.storeData){dojo.forEach(this.storeData.items,function(item,index,array){if(item.code){_17e3=this.store.getValue(item,"code");_17e3=_17d7.trim(_17e3);_17e3=_17e3.toUpperCase();code=_17d7.trim(code);code=code.toUpperCase();if(_17e3===code){_17e2=item;return _17e2;}}},this);}}return _17e2;},getStoreItemByValue:function(value){var _17e4=null,text;if(value){if(this.store){dojo.forEach(this.storeData.items,function(item,index,array){if(item.text){text=this.store.getValue(item,"text");text=_17d7.trim(text);text=text.toUpperCase();value=_17d7.trim(value);value=value.toUpperCase();if(text===value){_17e4=item;return _17e4;}}},this);}}return _17e4;},_onChange:function(_17e5){this.onChange(_17e5);},_setPickListNameAttr:function(value){this.inherited(arguments);this._loadData();},_setValueAttr:function(value){this.inherited(arguments);this.comboBox.set("value",value);},_getValueAttr:function(){return this.comboBox.get("value");},_getCodeAttr:function(){var item,code,value,_17e6;code="";value=this._getValueAttr();item=this.getStoreItemByValue(value);if(item){code=this.store.getValue(item,"code");}return code;},templateString:_17d6,widgetsInTemplate:true,storeData:null,lastValidValue:"",initialValue:"",disabled:false,_setDisabledAttr:function(_17e7){this.disabled=_17e7;this.comboBox.set("disabled",_17e7);},_getDisabledAttr:function(){this.disabled=this.comboBox.get("disabled");return this.disabled;},focus:function(){this.comboBox.focus();},onChange:function(_17e8){if(this.storeData){var val=this.comboBox.get("value");if(val!=this.initialValue){if(this.get("itemMustExist")){var valid=dojo.some(this.storeData.items,function(item){if(item.text==_17e8||_17e8==""){return true;}else{return false;}},this);if(valid){this.lastValidValue=_17e8;}if(!valid){if(this.lastValidValue!=="undefined"&&this.lastValidValue!==null){this.comboBox.set("value",this.lastValidValue);return;}}}if(this.comboBox.isValid()){var code="",id="";dojo.forEach(this.storeData.items,function(item,index,array){if(item.text==val){code=item.code;id=item.id;}},this);this.setASPNETInputs(val,code,id);}}}}});return _17d9;});},"Sage/MainView/JobMgr/SDataDetailViewDataManager":function(){define("Sage/MainView/JobMgr/SDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_17e9,_17ea,_17eb,lang){var _17ec=_17eb("Sage.MainView.JobMgr.SDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_17ed){lang.mixin(this,_17ed);this.requestHash={};this.fetching=false;var _17ee=Sage.Services.getService("JobService");this.service=_17ee.getSchedulingSDataService();},add:function(_17ef,_17f0){var _17f1=this.requestHash[_17ef];if((_17f1)&&(_17f1.id!==_17f0.id)){if(!_17f1.duplicates){_17f1.duplicates=[];}var found=false;for(var i=0;i<_17f1.duplicates.length;i++){if(_17f1.duplicates[i].context.id===_17f0.id){found=true;}}if(!found){_17f1.duplicates.push({id:_17f0.id,context:_17f0});}}else{this.requestHash[_17ef]=_17f0;}},send:function(_17f2,_17f3){this.fetching=true;var _17f4=this;var _17f5=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_17f5.setResourceKind(this.resourceKind);for(var id in this.requestHash){_17f5.setResourceSelector("'"+id+"'");}_17f5.setQueryArg("include",this.include.join(","));_17f5.read({success:lang.hitch(_17f3,_17f2,_17f4),failure:lang.hitch(this,this.requestFailed,_17f4)});},requestFailed:function(a,b,c){}});var _17f6=_17eb("Sage.MainView.JobMgr.SDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _17ec();this.requestTimeout=false;},requestDataNoWait:function(_17f7,_17f8,_17f9){var _17fa=new _17ec();if(_17f9.keyField){this.keyField=_17f9.keyField;}_17fa.select=_17f9.select;_17fa.resourceKind=_17f9.resourceKind;_17fa.serviceName=_17f9.serviceName;_17fa.include=_17f9.include;_17fa.useBatchRequest=_17f9.useBatchRequest;if(_17f9.expandRecurrences!==null){_17fa.expandRecurrences=_17f9.expandRecurrences;}_17fa.add(_17f7,_17f8);_17fa.send(this.receiveData,this);},receiveData:function(_17fb,data){var _17fc=data;var id=_17fc.id;if(!id){id=_17fc[this.keyField];_17fc.id=id;}var _17fd=_17fb.requestHash[_17fc.id];if(_17fd){try{if(!_17fd.applied){_17fd.applied=true;_17fd.set("entity",_17fc);}}catch(err){console.error(err);}}}});return _17f6;});},"Sage/UI/OrientableMenuBar":function(){define("Sage/UI/OrientableMenuBar",["dijit/MenuBar","dojo/_base/declare"],function(_17fe,_17ff){var _1800=_17ff("Sage.UI.OrientableMenuBar",_17fe,{postCreate:function(args){this.inherited(arguments);if(typeof this.orientation!=="undefined"){this._orient=this.orientation;}}});return _1800;});},"Sage/UI/nls/SearchMenuItem":function(){define("Sage/UI/nls/SearchMenuItem",["Sage/LanguageList","dojo/_base/lang"],function(_1801,lang){var nls={root:{findText:"Find",clearText:"Clear",showHiddenText:"Show Hidden: "}};return lang.mixin(_1801,nls);});},"Sage/Library/nls/DocumentProperties":function(){define("Sage/Library/nls/DocumentProperties",["Sage/LanguageList","dojo/_base/lang"],function(_1802,lang){var nls={root:{Abstract:"Abstract",Cancel:"Cancel",DocumentProperties:"Document Properties",Created:"Created",Description:"Description",Directory:"Directory",DoNotExpire:"Do Not Expire",Expires:"Expires",FileName:"File Name",ForceDistribution:"Force distribution of this file",InvalidFileName:'A filename cannot contain any of the following characters: \\ / : * ? " < > |',Never:"Never",OK:"OK",Revised:"Revised",Size:"Size",Status:"Status"}};return lang.mixin(_1802,nls);});},"Sage/QuickForms/Design/Help":function(){define("Sage/QuickForms/Design/Help",["dojo/string"],function(_1803){return{defaultTarget:"MCWebHelp",defaultTopic:null,defaultSubSystem:null,defaultUrlFormat:"help/WebClient_CSH.htm#${0}",subSystemUrlFormat:"help/Subsystems/${1}/${1}_CSH.htm#${0}",open:function(topic,_1804,_1805){var url=Sage.Link.getHelpUrl(topic,_1804);window.open(url,_1805||this.defaultTarget);}};});},"Sage/UI/nls/NotesHistoryList":function(){define("Sage/UI/nls/NotesHistoryList",["Sage/LanguageList","dojo/_base/lang"],function(_1806,lang){var nls={root:{typeText:"Type",showDbChangesText:"Show Database Changes",selectAllText:"Select All",dateText:"Date",dateTimeText:"Date/Time",dateRangeText:"Date Range",userText:"User",accountText:"Account",contactText:"Contact",opportunityText:"Opportunity",regardingText:"Regarding",notesText:"Notes",resultText:"Result",categoryText:"Category",sendEmailText:"Send via E-Mail",sendToWordText:"Send to Word",addNoteText:"Add Note",completeAnActivityText:"Complete an Activity",helpText:"Help",pleaseSelectRecordsText:"Please select one or more records",UnableToFindWordMsg:"Cannot start Microsoft Word.  Please check your security settings.",printedOnText:"Printed On"}};return lang.mixin(_1806,nls);});},"Sage/Data/ServiceOperationSDataStore":function(){define("Sage/Data/ServiceOperationSDataStore",["Sage/Data/BaseSDataStore","Sage/Utility","dojo/_base/declare","dojo/_base/lang"],function(_1807,_1808,_1809,lang){var _180a=_1809("Sage.Data.ServiceOperationSDataStore",_1807,{isInsertMode:false,constructor:function(o){lang.mixin(this,o);this.features["dojo.data.api.Notification"]=true;this.identityAttributes=["$cacheID"];this.dirtyDataCache={isDirty:false};this.singleResourceRequest=null;},entry:"",fetch:function(_180b){var items={};items.$resources=[];if(_180b.isRender&&this.dataCarrierId){var _180c=dojo.query([".",this.dataCarrierId].join(""));if(_180c[0].value.length>0){var _180d=dojo.fromJson(_180c[0].value);this.addItemsToCache(_180b,_180d.$resources);}}for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){items.$resources.push(this.dataCache[item]);}}this.setContext(_180b);this.verifyService();if(this.isInsertMode){var self=this;window.setTimeout(function(){self.onSuccess(_180b,items);},5);return;}var _180e=new Sage.SData.Client.SDataServiceOperationRequest(this.service).setContractName(this.contractName).setOperationName(this.operationName);var qry="";if(this.query){if(!_180b.query){_180b.query={};}lang.mixin(_180b.query,this.query);}if(_180b.query){if(typeof _180b.query==="function"){qry=_180b.query();}else{if(typeof _180b.query==="string"){qry=_180b.query;}else{if(typeof _180b.query==="object"){if(_180b.query.hasOwnProperty("fn")){qry=_180b.query.fn.call(_180b.query.scope||this);}if(_180b.query.hasOwnProperty("conditions")){if(typeof _180b.query.conditions==="string"){qry+=(qry.length>0)?" and "+_180b.query.conditions:_180b.query.conditions;}}}}}}_180b.evaluatedQuery=qry||"";if(qry&&qry!==""){_180e.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_180e.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_180e.setQueryArg("include",this.include.join(","));}_180e.execute(this.entry,{success:lang.hitch(this,this.onSuccess,_180b),failture:lang.hitch(this,this.onFailure,_180b)});var key;return{abort:lang.hitch(this,this.abortRequest,key)};},onSuccesssss:function(_180f,feed){if(this.entry===""){this.entry=feed;}if(_180f.onBegin){_180f.onBegin.call(_180f.scope||this,feed.response.totalCount,_180f);}if(_180f.onComplete){_180f.onComplete.call(_180f.scope||this,feed.response.totalCount,_180f);}},onSuccess:function(_1810,feed){if(_1810.onBegin){_1810.onBegin.call(_1810.scope||this,feed.response.totalCount,_1810);}if(this.onProcess){this.onProcess.call(_1810.scope||this,feed.response.items,_1810);}if(_1810.onComplete){_1810.onComplete.call(_1810.scope||this,feed.response.items,_1810);}if(this.onComplete){this.onComplete.call(_1810.scope||this,feed.response.items,_1810);}this.addToCache(_1810,feed);},addToCache:function(_1811,item,count){var key;count=(typeof count==="undefined")?(Math.random()*11):count;if(this.isInsertMode){item.$cacheID=new Date().getTime()+count;}key=this.getIdentity(item);this.dataCache[key]=item;},addItemsToCache:function(_1812,items){for(var i=0;i<items.length;i++){this.addToCache(_1812,items[i],i);}},clearCache:function(){this.inherited(arguments);this.clearDirtyDataCache();},clearDirtyDataCache:function(){for(var key in this.dirtyDataCache){if(key!=="isDirty"){delete this.dirtyDataCache[key];}}this.dirtyDataCache.isDirty=false;},isItem:function(_1813){var id=this.getIdentity(_1813);if(id&&id!==""){return this.dataCache.hasOwnProperty(id);}return false;},isItemLoaded:function(_1814){return this.isItem(_1814);},loadItem:function(_1815){if(!this.isItem(_1815.item)){throw new Error("Unable to load "+_1815.item);}},getValues:function(item,_1816){if(this.isItem(item)&&(typeof _1816==="string")){return(item[_1816]||[]).slice(0);}return[];},hasAttribute:function(item,_1817){if(this.isItem(item)&&(typeof _1817==="string")){return _1817 in item;}return false;},close:function(){this.clearCache();},deleteItem:function(item,scope){var id=this.getIdentity(item);if(id&&id!==""){delete this.dataCache[id];}var _1818={};_1818.scope=scope||this;var _1819=function(){if(typeof this.onResponse==="function"){this.onResponse.call(this);}};_1818.success=_1819;_1818.success.call(_1818.scope);},isDirty:function(item){if(item){var id=this.getIdentity(item);if(id&&id!==""){return this.dirtyDataCache.hasOwnPropery(id);}}return this.dirtyDataCache.isDirty;},newItem:function(args){var _181a=this.createTemplateRequest();if(_181a){_181a.read({success:function(entry){if((args)&&(args.onComplete)&&(typeof args.onComplete==="function")){args.onComplete.call(args.scope||this,entry);}},failure:this.requestTemplateFailure,scope:this});}},createTemplateRequest:function(){var _181b=new Sage.SData.Client.SDataTemplateResourceRequest(this.service);if((this.resourceKind)&&(this.resourceKind!=="")){_181b.setResourceKind(this.resourceKind);}return _181b;},requestTemplateFailure:function(){},saveNewEntity:function(_181c,_181d,_181e,scope){this.addToCache(scope,_181c);_181d();},createItem:function(item,scope){var _181f={};_181f.scope=scope||this;_181f.scope.store=this;var _1820=function(_1821){if(typeof this.onResponse==="function"){this.onResponse.call(this,_1821);}};_181f.success=_1820;this.addToCache(scope,item);_181f.success.call(_181f.scope,item);},revert:function(){this.clearDirtyDataCache();this.onDataReset();},setValue:function(item,_1822,value){var _1823=this.getValue(item,_1822,"");_1808.setValue(item,_1822,value);this.onSet(item,_1822,_1823,value);return true;},setValues:function(item,_1824,_1825){alert("not implemented - setValues");},unsetAttribute:function(item,_1826){alert("not implemented - unsetAttribute");},dataCacheToArray:function(){var _1827=[];for(var item in this.dataCache){if(this.dataCache.hasOwnProperty(item)&&item!=="query"){_1827.push(this.dataCache[item]);}}return _1827;},onDataChange:function(){this.clearDirtyDataCache();var _1828=dojo.query([".",this.dataCarrierId].join(""));if(_1828[0]){this.entry.$resources=this.dataCacheToArray();_1828[0].value=JSON.stringify(this.entry);}},onSet:function(item,_1829,_182a,_182b){},onNew:function(_182c,_182d){},onDelete:function(_182e){},onDataReset:function(){},onDataSaved:function(){},onItemSaved:function(_182f,_1830){},onItemNotSaved:function(_1831,error){}});return _180a;});},"Sage/Utility/nls/File":function(){define("Sage/Utility/nls/File",["Sage/LanguageList","dojo/_base/lang"],function(_1832,lang){var nls={root:{unableToUploadText:"Saleslogix Desktop Integration Module must be installed to use this feature.",unknownSizeText:"unknown",largeFileWarningText:"Warning: This request exceeds the size limit set by your administrator and failed to upload.",largeFileWarningTitle:"Warning"}};return lang.mixin(_1832,nls);});},"Sage/MainView/ReportMgr/ReportManagerFormatter":function(){define("Sage/MainView/ReportMgr/ReportManagerFormatter",["Sage/Utility","dojo/date/locale","dojo/number","dojo/string","dojo/_base/array","dojo/i18n!./nls/ReportManagerFormatter","Sage/Reporting/Enumerations"],function(_1833,_1834,_1835,_1836,_1837,_1838,_1839){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerFormatter");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerFormatter,{_isNumeric:function(value){return !isNaN(parseFloat(value))&&isFinite(value);},formatDate:function(value){if(_1833.Convert.isDateString(value)){var date=_1833.Convert.toDateFromString(value);return _1834.format(date,{selector:"datetime",fullYear:true});}return"";},formatFileSize:function(value){var self=Sage.MainView.ReportMgr.ReportManagerFormatter;if(value&&self._isNumeric(value)){return _1835.round(value/1024,0)+" KB";}return"";},formatElapsedTime:function(value){var self=Sage.MainView.ReportMgr.ReportManagerFormatter;if(value&&self._isNumeric(value)){var days=Math.floor(value/(24*3600));var hours=Math.floor((value-(days*24*3600))/3600);var _183a=Math.floor((value-(hours*3600))/60);var _183b=value-(days*24*3600)-(hours*3600)-(_183a*60);return _1836.pad(hours,2)+":"+_1836.pad(_183a,2)+":"+_1836.pad(_183b,2);}return"";},formatBoolean:function(value){return _1833.isTrue(value)?_1838.txtTrue:_1838.txtFalse;},_getParameterValue:function(_183c,name){var value="";if(_183c){_1837.some(_183c,function(entry,i){if(entry.name===name){value=entry.value;return true;}});}return value;},formatGetUserById:function(item){if(!item){return"";}else{return _1833.getUserName(item);}},getParameterRunAsUser:function(_183d){if(_183d){var _183e=Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(_183d,"RunAsUserId");return _1833.getUserName(_183e);}return"";},formatScheduleName:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"ScheduleName");},formatScheduleDescription:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"Description");},formatPluginName:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"PluginName");},formatTemplateName:function(_183f){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(_183f,"TemplateName");},formatOutputFormat:function(item){return Sage.MainView.ReportMgr.ReportManagerFormatter._getParameterValue(item.parameters,"OutputFormat");},formatScheduleUser:function(user){if(user&&user.$descriptor){return user.$descriptor;}return"";},formatCronExpression:function(item){return item.cronExpression;},formatAttachment:function(value,_1840,cell){var item=this.grid.getItem(_1840);return _1836.substitute('<a href="javascript: Sage.Utility.File.Attachment.getAttachment(\'${0}\');" title="${1}">${1}</a>',[item.AttachId,item.ScheduleName]);},formatExecutionType:function(value,_1841,cell){return _1839.getExecutionTypeCaption(value);},formatReportType:function(value){return _1839.getReportTypeCaption(value);},formatProperCase:function(value){if(typeof value==="string"){return value.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase();});}else{return"";}}});return Sage.MainView.ReportMgr.ReportManagerFormatter;});},"Sage/MainView/ReportMgr/nls/HistoryListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/HistoryListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1842,lang){var nls={root:{colNameDate:"Date",colNameScheduleName:"Description",colNameExecutionType:"Execution Type",colNameRunAs:"Run As",colNameScheduledBy:"Scheduled By",colNameReportName:"Report",colNameSize:"File Size",colNameOutputFormat:"Output Format",colNameReportType:"Type"}};return lang.mixin(_1842,nls);});},"Sage/UI/Columns/Lookup":function(){define("Sage/UI/Columns/Lookup",["Sage/Utility","dojox/grid/cells","dojo/_base/declare"],function(_1843,cells,_1844){var _1845=_1844("Sage.UI.Columns.Lookup",cells._Widget,{widgetClass:Sage.UI.SDataLookup,defaultValue:"",constructor:function(o){if(o.lookupOptions.returnObject){this.formatter=function(_1846,_1847,_1848){if(_1846!==null){var _1849=o.lookupOptions.field.split(".");var _184a=_1846;for(var i=0;i<_1849.length;i++){if(_184a){_184a=_184a[_1849[i]];}}return _184a;}return null;};}},getWidgetProps:function(_184b){var luId=this.LuId();var _184c="";if(this.lookupOptions.seedOnRelatedEntity){var oItem=this.item[this.lookupOptions.seedOnRelatedEntity];if(oItem&&typeof oItem.$key!=="undefined"){_184c=oItem.$key;}else{}}return dojo.mixin({},this.widgetProps||{},{id:luId,value:_184b,displayMode:this.lookupOptions.displayMode,seedOnRowEntity:this.lookupOptions.seedOnRowEntity,seedOnRelatedEntity:this.lookupOptions.seedOnRelatedEntity,relatedEntityId:_184c,rowEntityId:this.item.$key,returnObject:this.lookupOptions.returnObject,addEmptyListItem:this.lookupOptions.addEmptyListItem,field:this.lookupOptions.field,name:this.lookupOptions.name,structure:this.lookupStructure,storeOptions:this.lookupStoreOptions,gridOptions:this.lookupGridOptions,shouldPublishMarkDirty:false});},formatNode:function(_184d,_184e,_184f){if(!this.widgetClass){return _184e;}var _1850=dijit.byId(this.LuId());if(!_1850){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_1850;this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_184f);this.grid.scroller.rowHeightChanged(_184f,true);this.widget.focusNode.focus();return undefined;},setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},LuId:function(){this.setCurrentItems();var _1851=[this.item.$key,this.editInfo.cell.field].join("_");if(_1843.getModeId()==="insert"){_1851=[this.item.$cacheID,this.editInfo.cell.field].join("_");}return _1851;},getValue:function(){this.setCurrentItems();if(this.lookupOptions.returnObject){return(this.widget.focusNode.item!==null)?this.widget.focusNode.item:this.widget.focusNode.value;}return this.widget.focusNode.value;}});return _1845;});},"Sage/UI/Columns/Dnd":function(){define("Sage/UI/Columns/Dnd",["Sage/UI/Columns/DndCell","dojo/_base/declare"],function(_1852,_1853){var _1854=_1853("Sage.UI.Columns.Dnd",dojox.grid.cells._Base,{formatter:function(val,index){var item=this.grid.getItem(index);var _1855=item.displayName||item.columnName||this.defaultValue;var cell=new _1852({value:_1855,index:index});return cell;}});return _1854;});},"Sage/Library/Manager":function(){define("Sage/Library/Manager",["Sage/Data/SDataServiceRegistry","Sage/Library/FileHandler","Sage/Library/FolderHandler","Sage/Services/RoleSecurityService","Sage/Services/SystemOptions","Sage/UI/Dialogs","Sage/Utility","dojox/grid/DataGrid","Sage/UI/ImageButton","dijit/Toolbar","dijit/Tree","dijit/tree/ForestStoreModel","dojo/data/ItemFileReadStore","dojo/i18n","dojo/string","dojo/_base/array","dojo/date/locale","dojo/dom-construct","dojo/_base/lang","dojo/i18n!./nls/Manager","dojox/widget/Standby"],function(_1856,_1857,_1858,_1859,_185a,_185b,_185c,_185d,_185e,_185f,Tree,_1860,_1861,i18n,_1862,_1863,_1864,_1865,dLang,nls,_1866){Sage.namespace("Library.Manager");dojo.mixin(Sage.Library.Manager,{_convert:_185c.Convert,_grid:null,_remote:false,_roles:null,_rootId:null,_standby:false,_system:null,_tree:null,_addButtonToToolbar:function(btn,_1867){_1867.addChild(new _185e({label:btn.label,showLabel:false,iconClass:btn.icon,id:btn.id,layoutAlign:"right",onClick:function(){btn.clickHandler();}}));},_createGrid:function(){var self=this;this._grid=new _185d({store:new _1861({data:{items:[]}}),id:"libraryGrid",structure:[{field:"_item",name:self.resources.File,formatter:self._renderFileName,width:"160px",sortField:"fileName"},{field:"fileSize",name:self.resources.Size,formatter:self._renderSize,width:"50px"},{field:"createDate",name:self.resources.Created,formatter:self._renderDate,width:"60px"},{field:"revisionDate",name:self.resources.Revised,formatter:self._renderDate,width:"60px"},{field:"_item",name:self.resources.Expires,formatter:self._renderExpires,width:"60px",sortField:"expireDate"},{field:"description",name:self.resources.Description,width:"150px"}]});if(this._remote){var _1868={field:"status",name:"Status",formatter:self._renderStatus,width:"150px"};this._grid.structure.splice(1,0,_1868);this._grid.setStructure(this._grid.structure);}var _1869=this._grid.getSortProps;this._grid.getSortProps=function(){var info=dojo.hitch(self._grid,_1869)();if(info&&typeof info!=="undefined"){if(info[0]&&info[0]["attribute"]==="_item"){var cell=self._grid.getCell(self._grid.getSortIndex());if(cell&&typeof cell!=="undefined"&&cell.hasOwnProperty("sortField")){info[0]["attribute"]=cell.sortField;}}return info;}return null;};dojo.byId("libraryGridPlaceHolder").appendChild(this._grid.domNode);this._grid.startup();},_createGridToolbar:function(){var _186a=new _185f({},"gridToolbar");var btns=[];if(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage){btns.push({label:this.resources.AddFiles,id:"btnAddFiles",clickHandler:Sage.Library.FileHandler.handleAddButtonClicked,icon:"libraryIcon addFileIcon"});}btns.push({label:this.resources.FileProperties,id:"btnEditFile",clickHandler:Sage.Library.FileHandler.editLibraryFileProps,icon:"libraryIcon editFileIcon"});if(Sage.Library.FileHandler.can["delete"]||Sage.Library.FileHandler.can.manage){btns.push({label:this.resources.DeleteSelectedFile,id:"btnDeleteFile",clickHandler:Sage.Library.FileHandler.handleDeleteButtonClicked,icon:"libraryIcon deleteFileIcon"});}btns.push({label:this.resources.Help,id:"btnHelp",clickHandler:function(){window.open(Link.getHelpUrl("library"),Link.getHelpUrlTarget());},icon:"libraryIcon helpFileIcon"});for(var i=0;i<btns.length;i++){this._addButtonToToolbar(btns[i],_186a);}},_createTreeView:function(){this.refreshDirs();},_createTreeViewToolbar:function(){var _186b=new _185f({},"treeToolbar");var btns=[];if(Sage.Library.FolderHandler.can.add||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.AddFolder,id:"btnAddFolder",clickHandler:Sage.Library.FolderHandler.handleAddFolder,icon:"libraryIcon addFolderIcon"});}if(Sage.Library.FolderHandler.can.edit||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.EditFolder,id:"btnEditFolder",clickHandler:Sage.Library.FolderHandler.handleEditFolderName,icon:"libraryIcon editFolderIcon"});}if(Sage.Library.FolderHandler.can["delete"]||Sage.Library.FolderHandler.can.manage){btns.push({label:this.resources.DeleteFolder,id:"btnDeleteFolder",clickHandler:Sage.Library.FolderHandler.handleDeleteFolderClicked,icon:"libraryIcon deleteFolderIcon"});}if(btns.length>0){for(var i=0;i<btns.length;i++){this._addButtonToToolbar(btns[i],_186b);}}},_createView:function(){this._createTreeViewToolbar();this._createTreeView();this._createGridToolbar();this._createGrid();},_handleDeliveredDocRequest:function(_186c){Sage.Library.FileHandler.updateRemoteStatus(_186c,"DeliveredRead",function(){Sage.Library.Manager.refreshGrid();var sUrl=_1862.substitute("slxdata.ashx/slx/system/-/libraryDocuments('${0}')/file",[_186c]);window.open(sUrl,"FileWin");});},_handleOrderDocRequest:function(_186d,_186e){_185b.raiseQueryDialog(Sage.Library.Manager.resources.Confirm,Sage.Library.Manager.resources.ConfirmDownload,function(_186f){if(_186f){Sage.Library.FileHandler.updateRemoteStatus(_186d,_186e,function(entry){Sage.Library.FileHandler.logRemoteDocRequest(_186d);Sage.Library.Manager.refreshGrid();});}},Sage.Library.Manager.resources.Yes,Sage.Library.Manager.resources.No,"questionIcon");},_handleReorderDocRequest:function(_1870){_185b.raiseQueryDialog(Sage.Library.Manager.resources.Confirm,Sage.Library.Manager.resources.ConfirmDownloadReorder,function(_1871){if(_1871){Sage.Library.FileHandler.logRemoteDocRequest(_1870);}},Sage.Library.Manager.resources.Yes,Sage.Library.Manager.resources.No,"questionIcon");},_renderDate:function(value){try{if(!value){return"";}if(dojo.isString(value)&&Sage.Library.Manager._convert.isDateString(value)){var date=Sage.Library.Manager._convert.toDateFromString(value);date=new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate());return dojo.date.locale.format(date,{selector:"date"});}return"";}catch(e){if(typeof console!=="undefined"){console.error("_renderDate: %o",e);}return"";}},_renderExpires:function(item,meta,_1872){try{if(item.expires[0]!==true){return Sage.Library.Manager.resources.Never;}return Sage.Library.Manager._renderDate(item.expireDate[0]);}catch(e){if(typeof console!=="undefined"){console.error("_renderExpires: %o",e);}return"";}},_renderFileName:function(item,index,_1873){try{if(!Sage.Library.Manager._remote){return _1862.substitute('<a id="document_${0}" href="slxdata.ashx/slx/system/-/libraryDocuments(\'${0}\')/file" target="FileWin">${1}</a>',[item.$key[0],item.fileName[0]||""]);}else{switch(item.status[0]){case"Available":return _1862.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleOrderDocRequest('${0}', 'Ordered');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case"Revised":return _1862.substitute("<a id=\"document_${0}\" href=\"javascript:Sage.Library.Manager._handleOrderDocRequest('${0}', 'RevisionOrdered');\">${1}</a>",[item.$key[0],item.fileName[0]||""]);case"Ordered":case"RevisionOrdered":return _1862.substitute('<a id="document_${0}" href="javascript:Sage.Library.Manager._handleReorderDocRequest(\'${0}\');">${1}</a>',[item.$key[0],item.fileName[0]||""]);case"Delivered":return _1862.substitute('<a id="document_${0}" href="javascript:Sage.Library.Manager._handleDeliveredDocRequest(\'${0}\');">${1}</a>',[item.$key[0],item.fileName[0]||""]);case"DeliveredRead":return _1862.substitute('<a id="document_${0}" href="slxdata.ashx/slx/system/-/libraryDocuments(\'${0}\')/file" target="FileWin">${1}</a>',[item.$key[0],item.fileName[0]||""]);default:return item.fileName[0]||"";}}}catch(e){if(typeof console!=="undefined"){console.error("_renderFileName: %o",e);}return"";}},_renderFixed:function(n,d){try{if(typeof d!=="number"){d=2;}var m=Math.pow(10,d);var v=Math.floor(parseFloat(n)*m)/m;return v;}catch(e){if(typeof console!=="undefined"){console.error("_renderFixed: %o",e);}return"";}},_renderSize:function(value){try{if(value/(1024*1024)>0.5){return Sage.Library.Manager._renderFixed(value/(1024*1024),1)+" MB";}if(value/(1024)>0.05){return Sage.Library.Manager._renderFixed(value/(1024),1)+" KB";}return value+" B";}catch(e){if(typeof console!=="undefined"){console.error("_renderSize: %o",e);}return"";}},_renderStatus:function(value){return Sage.Library.FileHandler.translateStatus(value);},_showLoading:function(){if(this._standby===false&&this._grid.domNode){var _1874=this._grid.domNode;this._standby=new _1866({target:_1874,color:"white",image:"images/loader_lg.gif"});document.body.appendChild(this._standby.domNode);this._standby.startup();}var self=this;window.setTimeout(function(){self._standby.show();},0);},_hideLoading:function(){var self=this;window.setTimeout(function(){if(self._standby){self._standby.hide();self._standby=false;}},1);},resources:{},init:function(){Sage.Library.Manager._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.Manager._system=_1856.getSDataService("system");dLang.mixin(Sage.Library.Manager.resources,nls);dojo.subscribe("/sage/library/manager/libraryDirs/refresh",function(){Sage.Library.Manager.refreshDirs();});dojo.subscribe("/sage/library/manager/libraryDocuments/refresh",function(item){Sage.Library.Manager.refreshGrid(item);});},createView:function(){var _1875=Sage.Services.getService("SystemOptions");if(_1875){_1875.get("DbType",function(val){this._remote=(val&&val==2);this._createView();},function(){this._createView();if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.DbType.");}},this);}else{this._createView();if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}},getDirs:function(_1876){var self=this;var _1877=new Sage.SData.Client.SDataResourceCollectionRequest(this._system);_1877.setResourceKind("libraryDirectories");_1877.setQueryArg("orderBy","fullPath");_1877.setQueryArg("format","json");_1877.setQueryArg("count",200);_1877.read({success:function(feed){var _1878=feed["$resources"];if(_1878&&dojo.isArray(_1878)&&_1878.length>0){var _1879,oData,_187a=0,_187b=false;try{var _187c=function(dir){var _187d=dojo.filter(_1879[(dir.depth-2)].items,function(item){return(item.$key==dir.parentId);});if(_187d.length==1){return _187d[0];}return null;};for(var i=_1878.length-1;i>=0;i--){if(this._remote===false&&_1878[i].directoryExists===false){_1878.splice(i,1);}}dojo.some(_1878,function(dir){if(dir.parentId.trim()=="0"){dir.parentId="0";dir.fullPath="";dir.root=true;self._rootId=dir.$key;return true;}else{return false;}});dojo.forEach(_1878,function(dir){if(dir.root!==true&&dir.fullPath.indexOf("\\")!==0){dir.fullPath="\\"+dir.fullPath;_187b=true;if(typeof console!=="undefined"){}}dir.depth=dir.fullPath.split("\\").length;if(dir.depth>_187a){_187a=dir.depth;}});if(_187b){_1878.sort(function(dir1,dir2){return(dir1.fullPath.toLocaleUpperCase().localeCompare(dir2.fullPath.toLocaleUpperCase()));});}_1878.sort(function(dir1,dir2){return dir1.depth-dir2.depth;});_1879=new Array(_187a);dojo.forEach(_1879,function(item,idx){_1879[idx]={items:[]};});dojo.forEach(_1878,function(dir){_1879[dir.depth-1].items.push(dir);});dojo.forEach(_1878,function(dir,idx){if(idx===0){if(dir.root!==true){throw new Error(_1862.substitute(self.resources.InvalidRoot,[dir.directoryName,dir.$key]));}dir.id=dir.$key;dir.items=[];oData=dir;}else{if(dir.depth>1){switch(dir.depth){case 2:dir.id=dir.$key;dir.children=[];oData.items.push(dir);break;default:var _187e=_187c(dir);if(_187e!==null){dir.id=dir.$key;dir.children=[];if(!_187e.children){_187e.children=[];}_187e.children.push(dir);}else{if(typeof console!=="undefined"){}}break;}}}});if(typeof _1876==="function"){_1876(oData);}}catch(e){Sage.UI.Dialogs.showError(self.resources.LibraryDataError+" "+e);}}},failure:function(xhr,sdata){_185c.ErrorHandler.handleHttpError(xhr,sdata,{message:self.resources.DirectoryInformationError});}});return true;},getOpenFolderId:function(item){var id=this.getRootId();if(item&&item.id&&item.root!==true){id=item.id;if(dojo.isArray(id)){id=id[0];}if(typeof console!=="undefined"){}}else{if(this._tree.attr("selectedItem")){id=this._tree.attr("selectedItem").id;if(dojo.isArray(id)){id=id[0];}if(typeof console!=="undefined"){}}else{if(typeof console!=="undefined"){}}}return id;},getRootId:function(){return this._rootId;},refreshDirs:function(){var self=this;this.getDirs(function(data){if(self._tree){self._tree.destroyRecursive();}var _187f=new _1861({data:data});var _1880=new _1860({store:_187f,rootId:data.$key,rootLabel:Sage.Library.Manager.resources.Library,labelAttr:"directoryName",childrenAttrs:["children"]});var _1881=new dojo.create("div",{id:"libraryTree"});self._tree=new dijit.Tree({model:_1880,onClick:Sage.Library.FolderHandler.handleFolderClicked,persist:false,_createTreeNode:function(args){args.id="dijit__TreeNode_"+args.item.id;return new dijit._TreeNode(args);},rootId:data.$key},_1881);var _1882=dojo.connect(self._tree,"onLoad",function(){dojo.disconnect(_1882);self.refreshGrid();});dojo.place(self._tree.domNode,"libraryTreeRoot","after");});},refreshGrid:function(item){var self=this;var id=this.getOpenFolderId(item);var _1883=new Sage.SData.Client.SDataResourceCollectionRequest(this._system);_1883.setResourceKind("libraryDocuments");_1883.setQueryArg("where",_1862.substitute("directory.Id eq '${0}'",[id]));_1883.setQueryArg("orderBy","fileName");_1883.setQueryArg("format","json");this._showLoading();_1883.read({success:function(feed){try{var files={items:feed["$resources"]||[]};for(var i=files.items.length-1;i>=0;i--){if(files.items[i].fileExists===false){if(!self._remote){files.items.splice(i,1);}else{if(files.items[i].status==="Delivered"||files.items[i].status==="DeliveredRead"){files.items[i].status="Available";Sage.Library.FileHandler.updateRemoteStatus(files.items[i].$key,"Available");}}}}var _1884=new _1861({data:files});self._grid.setStore(_1884);}finally{self._hideLoading();}},failure:function(xhr,sdata){self._hideLoading();_185c.ErrorHandler.handleHttpError(xhr,sdata,{message:self.resources.DocumentInformationError});}});}});Sage.Library.Manager.init();return Sage.Library.Manager;});},"Sage/MainView/ReportMgr/Crystal/nls/BooleanParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/BooleanParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1885,lang){var nls={root:{txtPleaseSpecifyValue:"Please specify a value."}};return lang.mixin(_1885,nls);});},"Sage/QuickForms/Design/EditableGridControlDesigner":function(){define("Sage/QuickForms/Design/EditableGridControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/GenericBasicPropertyEditor","./Editors/GenericAdvancedPropertyEditor","dojo/i18n!./nls/EditableGridControlDesigner"],function(_1886,array,lang,_1887,_1888,_1889,_188a,_188b,_188c,_188d,_188e,_188f,_1890){return _1886("Sage.QuickForms.Design.EditableGridControlDesigner",[_188a,_188b,_1889,_188c],{designSupport:{visible:true},editors:[_188e,_188f,_188d],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<table class="{%= $.fieldClass %}-table" data-dojo-attach-point="tableNode">',"</table>","</div>"]),tableHeaderTemplate:new Simplate(["<th>{%: $.ColumnHeading || $.Text %}</th>"]),fieldClass:"design-editablegrid",helpTopicName:"visual_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.SDataGrid.QFSDataGrid, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Editable Grid",constructor:function(){lang.mixin(this,_1890);},_getColumnsAttr:function(){return lang.getObject("Columns",false,this.entry);},_setColumnsAttr:function(value){lang.setObject("Columns",value,this.entry);},renderColumns:function(){var _1891=this.get("columns"),row=_1887.create("tr");for(var i=0;i<_1891.length;i++){var _1892=lang.clone(_1891[i]);_1892.widthStyle=_1892.Width>0?_1892.Width+"em":"auto";_1887.place(this.tableHeaderTemplate.apply(_1892,this),row,"last");}_1887.place(row,this.tableNode,"only");},startup:function(){this.inherited(arguments);this.renderColumns();}});});},"Sage/QuickForms/Design/nls/UrlControlDesigner":function(){define("Sage/QuickForms/Design/nls/UrlControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1893,lang){var nls={root:{displayNameText:"Url"}};return lang.mixin(_1893,nls);});},"Sage/TaskPane/nls/ContactTasksTasklet":function(){define("Sage/TaskPane/nls/ContactTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1894,lang){var nls={root:{associateContactTitle:"Associate with User",disAssociateContactTitle:"Disassociate from User",disAssociateDialogTitle:"Disassociate from a User",confirmDisAssociate:"Are you sure you want to disassociate the ${0} selected contact from an associated user?",confirmDisAssociateMultiple:"Are you sure you want to disassociate the ${0} selected contacts from any associated users?",associationExistsMessage:"The contact you selected is already associated to a user. To associate this contact to a different user, you must first disassociate the contact and user.",multipleSelectionErrorMessage:"You can only perform this task for 1 contact at a time. \n Please select a single contact and select the task again.",noSelectionErrorMessage:"You need to select at least one contact to disassociate. \n Please select one or more contact(s) and select the task again.",singleSelectionErrorMessage:"You need to select a contact to disassociate. \n Please select a single contact and select the task again."}};return lang.mixin(_1894,nls);});},"Sage/Data/QBTreeStoreModel":function(){define("Sage/Data/QBTreeStoreModel",["dijit/tree/ForestStoreModel","Sage/Data/SDataServiceRegistry","dojo/string","dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_1895,_1896,_1897,array,_1898,lang){return _1898("Sage.Data.QBTreeStoreModel",_1895,{insertedChildren:null,constructor:function(){this.insertedChildren=[];},convertDescriptionToFilter:function(_1899){if(_1899.$descriptor){var _189a=_1899.$descriptor;_189a=_189a.replace(this.rootId+":","");return _189a;}return _1899.id;},getChildren:function(_189b,_189c,_189d){this.store.fetch({queryArgs:{"_pathFilter":this.convertDescriptionToFilter(_189b)},resourcePredicate:_189b.root?undefined:"",onComplete:lang.hitch(this,function(data,obj){var _189e=_1896.getSDataService("metadata",false,true,false),_189f,table,i,temp,_18a0=[],_18a1,_18a2;table=_189b.id||_189b.toTable;array.forEach(this.insertedChildren,lang.hitch(this,function(child){if(child.parentItem===_189b){data.push(child);}}));_18a1=[function(item){if(item.toTable===table){item.toTable=item.fromTable;temp=item.toField;item.toField=item.fromField;item.fromTable=table;item.fromField=temp;}},function(item){var _18a3=item.joinType,_18a4={"Left":"[left]",">":"[left]","Inner":"[inner]","=":"[inner]","Right":"[right]","<":"[right]"},_18a5=_18a4[_18a3];if(item.toTable){item.label=_1897.substitute("${2} (${1} -> ${3})${4}",[item.fromTable,item.fromField,item.toTableDisplayName,item.toField,_18a5]);}},function(item){item.parentItem=_189b;},function(item){item.children=[];},function(item){var _18a6=item.joinType,_18a7={"Left":">","Inner":"=","Right":"<",},_18a8=_18a7[_18a6]||item.joinType;item.dataPathSegment=_1897.substitute("${0}${1}${2}.${3}",[item.fromField,_18a8,item.toField,item.toTable]);},function(item){item.displayPathSegment=_1897.substitute("${0}",[item.toTable]);},function(item){var _18a9;function _18aa(path,_18ab){if(_18ab.root){if(path&&path.length>0){if(path.startsWith("!")){path=path.substring(1,path.length);}}return _18ab.id+":"+path;}return _18aa(_1897.substitute("!${0}",[_18ab.dataPathSegment])+path,_18ab.parentItem);}_18a9=_18aa("!",item);item.dataPath=_18a9;item["$descriptor"]=item["$descriptor"]||_18a9;},function(item){var _18ac;function _18ad(path,_18ae){if(_18ae.root){return _18ae.id+path;}return _18ad(_1897.substitute(".${0}${1}",[_18ae.displayPathSegment,path]),_18ae.parentItem);}_18ac=_18ad("",item);item.displayPath=_18ac;}];_18a2=function(item){return function(func){func(item);};};for(i=0;i<data.length;i++){array.forEach(_18a1,lang.hitch(this,_18a2(data[i])));}data=array.filter(data,lang.hitch(this,function(item){var _18af=item.parentItem;while(!_18af.root){if(item.toTable===_18af.toTable){return false;}_18af=_18af.parentItem;}if(item.toTable===_18af.id){return false;}return true;}));data.sort(function(a,b){if(a.toTable<b.toTable){return -1;}if(a.toTable>b.toTable){return 1;}return 0;});_189b.children=data;_189c(data,obj);}),onError:_189d});},getIdentity:function(item){return item.$descriptor;},mayHaveChildren:function(item){return item.root||true;},newItem:function(args,_18b0){var child={"$descriptor":args.fromtable,"$etag":"","$httpStatus":200,"fromTable":args.fromtable,"fromField":args.fromfield,"toTable":args.totable,"toTableDisplayName":args.fromtable,"toField":args.tofield,"cascadeType":args.cascadetype,"joinType":args.jointype,"parentItem":_18b0.item,"children":[]};this.insertedChildren.push(child);this.addItemToStore(child,_18b0.item);},addItemToStore:function(_18b1,_18b2){var store=this.store,_18b3=this.childrenAttrs[0],_18b4=store.getValue(_18b2,_18b3),_18b5;if(_18b2){if(_18b4){_18b5=_18b4.slice(0);_18b5.push(_18b1);store.setValue(_18b2,_18b3,_18b5);}}}});});},"Sage/MainView/ReportMgr/Common/nls/_WizardDialogBase":function(){define("Sage/MainView/ReportMgr/Common/nls/_WizardDialogBase",["Sage/LanguageList","dojo/_base/lang"],function(_18b6,lang){var nls={root:{txtFinish:"Finish"}};return lang.mixin(_18b6,nls);});},"Sage/UI/ImageButton":function(){require({cache:{"url:Sage/templates/ImageButton.html":'<span id="${id}" class="dijit dijitReset dijitInline" role="presentation">\r\n<span class="dijitReset dijitInline dijitButtonNode imageButtonNode" data-dojo-attach-event="ondijitclick:_onClick" role="presentation">\r\n        <span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon">\r\n                <img alt="" src="" data-dojo-attach-point="iconNode"/>\r\n                <div class="dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}" data-dojo-attach-point="iconNodeSprite"></div>\r\n            </span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdata-dojo-attach-point="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\r/></span>\r\r\n'}});define("Sage/UI/ImageButton",["dijit/form/Button","dijit/_Widget","dojo/text","dojo/dom-style","dojo/_base/declare","dojo/text!../templates/ImageButton.html"],function(_18b7,_18b8,text,_18b9,_18ba,_18bb){var _18bc=_18ba("Sage.UI.ImageButton",_18b7,{hoverText:"",templateString:_18bb,iconClass:"",_setIconClassAttr:{node:"iconNode",type:"class"},label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"},icon:"",_setIconAttr:{node:"iconNode",type:"attribute",attribute:"src"},imageClass:"",iconStyle:"",_setIconStyleAttr:{node:"iconNode",type:"style"},tooltip:"",_setTooltipAttr:{node:"titleNode",type:"attribute",attribute:"title"},alt:"",_setAltAttr:{node:"valueNode",type:"attribute",attribute:"title"},postMixInProperties:function(){if(this.hasImageClass()&&this.hasIcon()){this.icon=this._blankGif;}else{this.icon=this.icon||this._blankGif;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(this.hasImageClass()){this.set("icon",this._blankGif);_18b9.set(this.iconNode,"display","none");}else{_18b9.set(this.iconNodeSprite,"display","none");}},hasImageClass:function(){if(this.imageClass&&this.imageClass!=="noIcon"){return true;}return false;},hasIcon:function(){if(this.icon&&this.icon!==this._blankGif){return true;}return false;},_onButtonClick:function(e){}});return _18bc;});},"Sage/MainView/JobMgr/nls/SchedulesListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/SchedulesListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_18bd,lang){var nls={root:{colNameTriggerName:"Schedule",colNameJobName:"Job Name",colNameUser:"Scheduled By",colNameStartTimeUtc:"Start Time",colNameEndTimeUtc:"End Time",colNamePriority:"Priority",colNameStatus:"Status",colNameTimesTriggered:"Execution Count"}};return lang.mixin(_18bd,nls);});},"Sage/MainView/ActivityMgr/PastDueListPanelConfig":function(){define("Sage/MainView/ActivityMgr/PastDueListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/UI/SDataSummaryFormatterScope","Sage/Data/SDataStore","Sage/Data/SDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(_18be,_18bf,_18c0,_18c1,_18c2,_18c3,_18c4,_18c5,_18c6,_18c7,_18c8){var _18c9=_18c7("Sage.MainView.ActivityMgr.PastDueListPanelConfig",[_18be],{constructor:function(){this._nlsResources=_18c8;this._listId="pastdue";this._resourceKind="useractivities";this.entityName="UserActivity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_18c6.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();this.keyField="$key";this.hasCompositeKey=true;this.rebuildOnRefresh=true,dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);dojo.subscribe("/entity/userActivity/change",this._onListRefresh);dojo.subscribe("/entity/userActivity/delete",this._onListRefresh);dojo.subscribe("/entity/userActivity/create",this._onListRefresh);dojo.subscribe("/entity/activity/confirm",this._onListRefresh);dojo.subscribe("/entity/activity/decline",this._onListRefresh);dojo.subscribe("/entity/userNotification/delete",this._onListRefresh);},_onListRefresh:function(event){var _18ca=Sage.Services.getService("ActivityService");_18ca.refreshList("pastdue");},_getSelect:function(){var _18cb=["Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Alarm","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","UserId","AlarmTime","Alarm","Status"];return _18cb;},_getInclude:function(){var _18cc=["Activity","$descriptors"];return _18cc;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where;var dt=new Date();var dtNow=Sage.Utility.Convert.toIsoStringFromDate(dt);var _18cd=_18c0.formatTimelessEndDate(dt,"day",-1);where=dojo.string.substitute("(User.Id eq '${0}') and ( Activity.Type ne \"atLiterature\" ) and ((Alarm eq 'false') or (Alarm eq null)) and ((Activity.StartDate lt '${1}') and ((Activity.Timeless eq 'false') or (Activity.Timeless eq null )) or ((Activity.StartDate lt '${2}') and (Activity.Timeless eq 'true' )))",[this._currentUserId,dtNow,_18cd]);return where;},_getStructure:function(){var _18ce="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _18cf="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _18d0="<div class='Global_Images icon16x16 icon_unconfirmedActivity16x16' title='"+this._nlsResources.colNameUnConfirmStatus+"' />";var _18d1=this._nlsResources.colNameType||"Activity Type";var _18d2=this._nlsResources.colNameStartDate||"Start Date";var _18d3=this._nlsResources.colNameDuration||"Duration";var _18d4=this._nlsResources.colNameContact||"Name";var _18d5=this._nlsResources.colNameAccount||"Account/Company";var _18d6=this._nlsResources.colNameRegarding||"Regarding";var _18d7=this._nlsResources.colNamePriority||"Priority";var _18d8=this._nlsResources.colNameUserId||"Leader";var _18d9=this._nlsResources.colNameTypeName||"Type";var _18da=[{field:"Status",name:_18d0,type:_18c0.activityConfirmStatusCell,width:"20px"},{field:"Activity.Attachment",name:_18ce,type:_18c0.activityAttachCell,width:"20px"},{field:"Activity.Recurring",name:_18cf,type:_18c0.activityRecurringCell,width:"20px"},{field:"Activity.Type",name:_18d1,type:_18c0.activityTypeCell,width:"90px"},{field:"Activity.StartDate",name:_18d2,type:_18c5,timelessField:"Activity.Timeless",width:"100px"},{field:"Activity.Duration",name:_18d3,type:_18c0.activityDurationCell,width:"40px"},{field:"Activity.ContactId",name:_18d9,type:_18c0.activityNameTypeCell,width:"40px"},{field:"Activity.ContactName",name:_18d4,type:_18c0.activityNameCell,width:"200px"},{field:"Activity.AccountName",name:_18d5,type:_18c0.activityAccountCell,width:"200px"},{field:"Activity.Description",name:_18d6,width:"100px"},{field:"Activity.Priority",name:_18d7,width:"40px"},{field:"Activity.Leader",name:_18d8,type:_18c0.activityLeaderCell,width:"200px"}];return _18da;},_getSummaryConfig:function(){var store=new _18c3({id:this._listId,service:this._service,resourceKind:this._resourceKind,include:["Activity","$descriptors"],select:["$key"],expandRecurrences:false,where:this._where});var _18db=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _18dc=this._getFormatterScope();var _18dd={structure:_18db,layout:"layout",store:store,rowHeight:120,rowsPerPage:10,formatterScope:_18dc};return _18dd;},_getDetailConfig:function(){var _18de=this._getFormatterScope();var _18df=this._getSummaryDetailRequestConfig();var _18e0={resourceKind:this._resourceKind,requestConfiguration:_18df,templateLocation:"MainView/ActivityMgr/Templates/UserActivityDetailSummary.html"};return _18e0;},_getSummaryListRequestConfig:function(){var _18e1={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/Notes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _18e1;},_getSummaryDetailRequestConfig:function(){var _18e2={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Alarm","Status","Activity/Attachment","Activity/Timeless","Activity/Recurring","Activity/RecurIterations","Activity/Type","Activity/StartDate","Activity/Duration","Activity/ContactName","Activity/ContactId","Activity/LeadName","Activity/LeadId","Activity/AccountName","Activity/AccountId","Activity/Description","Activity/Priority","Activity/Leader","Activity/Location","Activity/TicketId","Activity/TicketNumber","Activity/OpportunityId","Activity/OpportunityName","Activity/LongNotes","Activity/PhoneNumber"],include:["Activity","$descriptors"],useBatchRequest:true,expandRecurrences:false};return _18e2;},_getFormatterScope:function(){var _18e3=this._getSummaryListRequestConfig();var _18e4=new _18c2({templateLocation:"MainView/ActivityMgr/templates/UserActivityListSummary.html",resetDataManager:true,requestConfiguration:_18e3});return _18e4;},_getToolBars:function(){var _18e5={items:[]};return _18e5;},getTimelessProperty:function(_18e6){return"Activity.Timeless";}});return _18c9;});},"Sage/Library/FileHandler":function(){define("Sage/Library/FileHandler",["Sage/Data/SDataServiceRegistry","Sage/Services/RoleSecurityService","Sage/Services/SystemOptions","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/Utility/File/DragDropWatcher","Sage/Utility/File/DefaultDropHandler","Sage/Utility/File/FallbackFilePicker","Sage/Utility/File/LibraryDocument","Sage/Library/DocumentProperties","Sage/UI/Dialogs","Sage/Utility","dijit/ProgressBar","dojo/i18n","dojo/parser","dojo/string","dojo/dom-construct","dojo/dom-attr","dojo/_base/lang","dojo/_base/window","dojo/i18n!./nls/FileHandler"],function(_18e7,_18e8,_18e9,File,_18ea,_18eb,_18ec,_18ed,_18ee,_18ef,_18f0,_18f1,_18f2,i18n,_18f3,_18f4,_18f5,_18f6,dLang,_18f7,nls){Sage.namespace("Library.FileHandler");dojo.mixin(Sage.Library.FileHandler,{_docPropsDlg:false,_fileInputBtn:false,_createFileInputBtn:function(){var self=this;this._fileInputBtn=_18f7.doc.createElement("INPUT");_18f6.set(this._fileInputBtn,{"type":"file","multiple":"true","accept":"*/*","class":"display-none",onchange:function(e){self.handleHTML5Files(e);},});_18f5.place(this._fileInputBtn,"filePicker");},_getNewRequest:function(){var _18f8=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Library.FileHandler._system);_18f8.setResourceKind("libraryDocuments");_18f8.setQueryArg("format","json");return _18f8;},_initSecurity:function(){this.can.add=this._roles.hasAccess("Entities/LibraryDocs/Add");this.can.edit=this._roles.hasAccess("Entities/LibraryDocs/Edit");this.can["delete"]=this._roles.hasAccess("Entities/LibraryDocs/Delete");this.can.manage=(this._roles.hasAccess("Administration/Manage/Library")||this._roles.hasAccess("Administration/View"));},_remote:false,_roles:null,_system:null,can:{add:false,edit:false,"delete":false,manage:false},resources:{},init:function(){var _18f9=Sage.Services.getService("SystemOptions");if(_18f9){_18f9.get("DbType",function(val){this._remote=(val&&val==2);},function(){if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.DbType.");}},this);}else{if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}Sage.Library.FileHandler._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.FileHandler._initSecurity();Sage.Library.FileHandler._system=_18e7.getSDataService("system");dLang.mixin(Sage.Library.FileHandler.resources,nls);if(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage){dojo.connect(_18eb,"onFilesDropped",this,"onFilesDropped");}this._createFileInputBtn();Sage.Utility.File.DefaultDropHandler.fileType=Sage.Utility.File.fileType.ftLibraryDocs;},addFiles:function(){if(!(Sage.Library.FileHandler.can.add||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}if(Sage.gears&&Sage.gears.factory){var _18fa=Sage.gears.factory.create("beta.desktop");_18fa.openFiles(function(files){if(files&&files.length>0){_18ee.createDocuments(files);}});}else{if(File.supportsHTML5File){Sage.Library.FileHandler._fileInputBtn.click();}else{var fbfp=dijit.byId("fallbackFilePicker");if(!fbfp){fbfp=new _18ed({id:"fallbackFilePicker",fileType:Sage.Utility.File.fileType.ftLibraryDocs});}fbfp.show();}}},deleteFile:function(_18fb,_18fc,_18fd){if(!(Sage.Library.FileHandler.can["delete"]||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}var _18fe=Sage.Library.FileHandler._getNewRequest();_18fe.setResourceSelector("'"+_18fb+"'");_18fe["delete"]({},{scope:this,ignoreETag:true,success:function(){if(_18fc&&typeof _18fc==="function"){_18fc();}},failure:function(xhr,sdata){if(_18fd&&typeof _18fd==="function"){_18fd(xhr,sdata);}else{_18f1.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.FileDeleteError});}}});},updateProperties:function(_18ff,data,_1900,_1901){if(!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage)){Sage.Library.FileHandler.showAccessError();return;}var _1902=Sage.Library.FileHandler._getNewRequest();_1902.setResourceSelector("'"+_18ff+"'");_1902.setQueryArg("_includeFile","false");_1902.update(data,{scope:this,success:function(entry){if(_1900&&typeof _1900==="function"){_1900(entry);}},failure:function(xhr,sdata){if(_1901&&typeof _1901==="function"){_1901(xhr,sdata);}else{if(xhr.readyState==4&&xhr.status==412){Sage.UI.Dialogs.showError(Sage.Library.FileHandler.resources.DocumentUpdateConflictError);}else{_18f1.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.DocumentPropertiesUpdateError});}}}});},onFilesDropped:function(files,_1903){Sage.Utility.File.DefaultDropHandler.fileType=Sage.Utility.File.fileType.ftLibraryDocs;},documentProperties:function(){if(Sage.Library.FileHandler._docPropsDlg===false){Sage.Library.FileHandler._docPropsDlg=new _18ef();}return Sage.Library.FileHandler._docPropsDlg;},getSelectedRow:function(_1904){try{if(!_1904){_1904="$key";}var grid=dijit.byId("libraryGrid");if(grid){var _1905=grid.selection.getSelected();if(_1905&&_1905.length>0){return _1905[0][_1904][0];}}return false;}catch(e){console.error(e);return false;}},handleHTML5Files:function(e){if(this._fileInputBtn.files.length>0){_18ee.createDocuments(this._fileInputBtn.files);}_18f5.destroy(Sage.Library.FileHandler._fileInputBtn);this._createFileInputBtn();},handleAddButtonClicked:function(event){Sage.Library.FileHandler.addFiles();},findDirectoryId:function(_1906){if(!_1906){if(Sage.Library.Manager){return Sage.Library.Manager.getOpenFolderId();}else{return"";}}try{var _1907=dijit.getEnclosingWidget(_1906);if(_1907&&typeof _1907==="object"&&_1907.isTreeNode){if(_1907.item){if(_1907.item.root!==true){if(_1907.item.id&&dojo.isArray(_1907.item.id)&&_1907.item.id.length==1){return _1907.item.id[0];}else{return"";}}else{return _1907.item.id;}}}}catch(e){if(typeof console!=="undefined"){console.error(e);}}if(Sage.Library.Manager){return Sage.Library.Manager.getOpenFolderId();}return"";},editLibraryFileProps:function(){var row=Sage.Library.FileHandler.getSelectedRow();if(row){var _1908=!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage);Sage.Library.FileHandler.showPropertiesDialog(row,_1908);}else{Sage.UI.Dialogs.showInfo(Sage.Library.FileHandler.resources.PleaseSelectFile);}},validateProperties:function(_1909){if(!(Sage.Library.FileHandler.can.edit||Sage.Library.FileHandler.can.manage)){return;}if(!_1909){return;}if(typeof console!=="undefined"){try{var _190a=dojo.clone(_1909);}catch(e){console.error(e);}}var _190b=["abstract","createDate","description","expireDate","expires","fileName","flags","revisionDate","doNotExpire","forceDistribution","status","fileSize","directory"];dojo.forEach(_190b,function(prop){if(_1909.hasOwnProperty(prop)){var value=_1909[prop];var _190c;var _190d;switch(prop){case"expireDate":case"revisionDate":_190c=_1909[prop+"$originalValue"];if(_190c&&dojo.isString(_190c)&&_18f1.Convert.isDateString(_190c)){var _190e=_18f1.Convert.toDateFromString(_190c);_190e=new Date(_190e.getUTCFullYear(),_190e.getUTCMonth(),_190e.getUTCDate());if(value&&value.toString()===_190e.toString()){delete _1909[prop];}}break;case"doNotExpire":if(value){if(_1909.hasOwnProperty("expires")){_190d=dojo.isArray(value)&&value.length>0&&value[0]==="on";var _190f=_1909["expires"];if(_190f===null){_190f="false";}if((!_190d&&_190f=="true")||(_190d&&_190f=="false")){delete _1909["expires"];}else{_1909["expires"]=(_190d)?false:true;}}}delete _1909[prop];break;case"forceDistribution":if(value){if(_1909.hasOwnProperty("flags")){_190d=dojo.isArray(value)&&value.length>0&&value[0]==="on";var flags=_1909["flags"];if(flags===null){flags="0";}if((!_190d&&flags==="0")||(_190d&&flags==="1")){delete _1909["flags"];}else{_1909["flags"]=(_190d)?1:0;}}}delete _1909[prop];break;case"expires":case"flags":break;case"status":case"createDate":case"fileSize":case"directory":delete _1909[prop];break;default:_190c=_1909[prop+"$originalValue"];if(value===null&&_190c===null){delete _1909[prop];}else{if(value!==null&&_190c===null){}else{if(value===null&&_190c!==null){}else{if(dojo.isString(value)&&dojo.isString(_190c)){if(value==_190c){delete _1909[prop];}}}}}break;}}if(_1909.hasOwnProperty(prop+"$originalValue")){delete _1909[prop+"$originalValue"];}});if(typeof console!=="undefined"){}var _1910=false;dojo.some(_190b,function(prop){if(_1909.hasOwnProperty(prop)){_1910=true;return true;}else{return false;}});if(_1910){var sKey=_1909.$key;delete _1909.$key;Sage.Library.FileHandler.updateProperties(sKey,_1909,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);});}},closePropertiesDialog:function(){Sage.Library.FileHandler.documentProperties().hide();},showPropertiesDialog:function(_1911,_1912,_1913){if(_1911){var _1914=Sage.Library.FileHandler._getNewRequest();_1914.setResourceSelector("'"+_1911+"'");_1914.setQueryArg("_includeFile","false");_1914.setQueryArg("include","directory/fullPath");_1914.read({scope:this,success:function(entry){var _1915=["abstract","createDate","description","expireDate","expires","fileName","flags","revisionDate","status"];dojo.forEach(_1915,function(prop){var value=entry[prop];if(prop!="createDate"){entry[prop+"$originalValue"]=value;}switch(prop){case"createDate":case"expireDate":case"revisionDate":if(value&&dojo.isString(value)&&_18f1.Convert.isDateString(value)){var date=_18f1.Convert.toDateFromString(value);entry[prop]=new Date(date.getUTCFullYear(),date.getUTCMonth(),date.getUTCDate());}break;case"expires":if(value===null){entry[prop]="false";}break;case"flags":if(value===null){entry[prop]=0;}break;case"abstract":case"description":case"fileName":if(value===null){entry[prop]="";}break;case"status":entry[prop]=Sage.Library.FileHandler.translateStatus(value);break;}});Sage.Library.FileHandler.documentProperties().show(entry,_1912);},failure:function(xhr,sdata){if(_1913&&typeof _1913==="function"){_1913(xhr,sdata);}else{_18f1.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.DocumentPropertiesError});}}});}},handleDeleteButtonClicked:function(_1916,event){var name=Sage.Library.FileHandler.getSelectedRow("fileName");if(name){var msg=_18f4.substitute(Sage.Library.FileHandler.resources.DeleteFileCnfmFmt,[name]);Sage.UI.Dialogs.raiseQueryDialog(Sage.Library.FileHandler.resources.Confirm,msg,Sage.Library.FileHandler.handleDeleteConfirmed,Sage.Library.FileHandler.resources.Yes,Sage.Library.FileHandler.resources.No,"questionIcon");}else{Sage.UI.Dialogs.showInfo(Sage.Library.FileHandler.resources.PleaseSelectFile);}},handleDeleteConfirmed:function(ok){if(ok){var id=Sage.Library.FileHandler.getSelectedRow();if(id){Sage.Library.FileHandler.deleteFile(id,function(){dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);});}}},logRemoteDocRequest:function(_1917){if(!this._remote){return;}var _1918=new Sage.SData.Client.SDataServiceOperationRequest(this._system);_1918.setResourceKind("libraryDocuments");_1918.setQueryArg("format","json");_1918.setOperationName("RequestLibraryDocument");var _1919={"$name":"RequestLibraryDocument","request":{"entity":{$key:_1917},"LibraryDocumentId":_1917}};_1918.execute(_1919,{scope:this,success:function(entry){var _191a=false;if(dojo.isObject(entry)){var _191b=entry.response||null;if(_191b!==null){_191a=_191b.Result||false;}}if(_191a===false){_18f0.showError(Sage.Library.FileHandler.resources.LogRequestError);}},failure:function(xhr,sdata){_18f1.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.LogRequestError});}});},showAccessError:function(){Sage.UI.Dialogs.showError(Sage.Library.FileHandler.resources.AccessError);},translateStatus:function(_191c){if(!dojo.isString(_191c)){return Sage.Library.FileHandler.resources.Unknown;}switch(_191c){case"Available":return Sage.Library.FileHandler.resources.Available;case"Ordered":return Sage.Library.FileHandler.resources.Ordered;case"Delivered":return Sage.Library.FileHandler.resources.Delivered;case"Revised":return Sage.Library.FileHandler.resources.Revised;case"RevisionOrdered":return Sage.Library.FileHandler.resources.RevisionOrdered;case"DeliveredRead":return Sage.Library.FileHandler.resources.DeliveredRead;default:return Sage.Library.FileHandler.resources.Unknown;}},updateRemoteStatus:function(_191d,_191e,_191f,_1920){if(!this._remote){return;}var _1921=Sage.Library.FileHandler._getNewRequest();_1921.setResourceSelector("'"+_191d+"'");_1921.setQueryArg("_includeFile","false");_1921.update({status:_191e},{scope:this,success:function(entry){if(_191f&&typeof _191f==="function"){_191f(entry);}},failure:function(xhr,sdata){if(_1920&&typeof _1920==="function"){_1920(xhr,sdata);}else{_18f1.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FileHandler.resources.FileStatusError});}}});}});Sage.Library.FileHandler.init();return Sage.Library.FileHandler;});},"Sage/Utility/File/nls/GoogleDocPicker":function(){define("Sage/Utility/File/nls/GoogleDocPicker",["Sage/LanguageList","dojo/_base/lang"],function(_1922,lang){var nls={root:{googleDocumentsTitle:"Google Documents",couldNotOpenWindowMsg:"Could not open authentication window - please check your popup blocker settings."}};return lang.mixin(_1922,nls);});},"Sage/QuickForms/Design/nls/ComboBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/ComboBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1923,lang){var nls={root:{displayNameText:"ComboBox"}};return lang.mixin(_1923,nls);});},"Sage/UI/SDataSummaryFormatterScope":function(){define("Sage/UI/SDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/Data/SDataSummaryViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_1924,i18n,_1925,_1926,_1927,_1928){var _1929=_1928("Sage.UI.SDataSummaryFormatterScope",[_1925],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1926(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _1929;});},"Sage/MainView/ActivityMgr/nls/LitRequestListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/LitRequestListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_192a,lang){var nls={root:{colNameView:"View",colNameContact:"Contact",colNameDescription:"Description",colNameFillDate:"Filled",colNameFillStatus:"Status",colNameOptions:"Options",colNamePriority:"Priority",colNameReqestDate:"Request Date",colNameSendDate:"Send Date",colNameSendVia:"Send Via",colNameTotalCost:"Total Cost",colNameFillUser:"Fill User",colNameReqestUser:"Request User",colNameAccount:"Account",colNamePostalCode:"Postal Code"}};return lang.mixin(_192a,nls);});},"Sage/MainView/ActivityMgr/nls/HistoryEditor":function(){define("Sage/MainView/ActivityMgr/nls/HistoryEditor",["Sage/LanguageList","dojo/_base/lang"],function(_192b,lang){var nls={root:{labelWidth:"100",tabNameGeneralText:"General",tabNameAttachmentsText:"Attachments",scheduleText:"Schedule",startTimeText:"Scheduled",completedDateText:"Completed",timeLessText:"Timeless",durationText:"Duration",contactText:"Contact",accountText:"Account",leadText:"Lead",opportunityText:"Opportunity",ticketText:"Ticket",companyText:"Company",regardingText:"Regarding",resultText:"Result",notesText:"Notes",priorityText:"Priority",leaderText:"Leader",categoryText:"Category",locationText:"Location",scheduledByFormatText:"Scheduled by ${user} on ${date}",cancelText:"Cancel",okText:"OK",deleteText:"Delete",lookupActText:"Lookup Account",lookupContactText:"Lookup Contact",lookupOpportunityText:"Lookup Opportunity",lookupTicketText:"Lookup Ticket",lookupLeadText:"Lookup Lead",lookupLeaderText:"Lookup Leader",lookupResourcesText:"Lookup",mainPhoneText:"Main Phone",typeText:"Type",subTypeText:"Sub-Type",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",acctMgrText:"Acct Manager",descriptionText:"Description",stageText:"Stage",statusText:"Status",ownerText:"Owner",ticketNumberText:"Ticket Number",phoneText:"Phone",urgencyText:"Urgency",areaText:"Area",recurringText:"Recurring",followupText:"Follow-up",noneText:"None",carryOverAttachmentsText:"Carry Over Attachments",carryOverNotesText:"Carry Over Notes",asScheduledText:"As Scheduled",insertText:"Insert",couldNotSaveErrorText:"We're sorry, the history could not be saved because an error occurred.",deleteMessage:"You are about to permanently delete this record.",deleteTitle:"Delete History",couldNotDeleteErrorText:"We're sorry, the history could not be deleted because an error occurred.",postalText:"Postal Code",tabNameParticipants:"All Participants"}};return lang.mixin(_192b,nls);});},"Sage/UI/DetailPanel":function(){define("Sage/UI/DetailPanel",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-construct","dojo/dom-class","dojo/i18n","dijit/registry","dijit/layout/BorderContainer","dijit/Toolbar","dijit/ToolbarSeparator","Sage/_Templated","Sage/UI/_DetailPanelConfigurationProvider"],function(_192c,lang,array,_192d,_192e,i18n,_192f,_1930,_1931,_1932,_1933,_1934,_1935){return _192c("Sage.UI.DetailPanel",[_1930,_1933],{widgetsInTemplate:true,contentTemplate:new Simplate(['<div class="detail-panel-toolbar listPanelToolbar rightTools" data-dojo-type="dijit.Toolbar" style="{%= $.toolbarStyle %}" data-dojo-attach-point="_toolbar" data-dojo-props="region: \'top\', align: \'right\', splitter: false">','<span data-dojo-type="dijit.ToolbarSeparator" data-dojo-attach-point="_buttonSeparator"></span>','<div data-dojo-type="dijit.form.Button" data-dojo-attach-point="_helpButton" data-dojo-attach-event="onClick:showHelp" data-dojo-props="showLabel:true">{%= $.helpText %}</div>',"</div>"]),helpText:"Help",helpTopicName:"detailview",toolbarStyle:"",toolbarActive:true,id:"detailPanel",buildRendering:function(){this.inherited(arguments);_192e.add(this.domNode,"detail-panel");},startup:function(){this.inherited(arguments);this.requestConfiguration();},showHelp:function(){Sage.Utility.openHelp(this.helpTopicName);},requestConfiguration:function(){if(this.configurationProvider){this.configurationProvider.requestDetailModeConfiguration({scope:this,success:this._applyConfiguration});}},_applyConfiguration:function(_1936){this._configuration=_1936;this._configureToolbar(_1936);this._configureContent(_1936);},_configureContent:function(_1937){var _1938=_1937&&_1937.content;if(_1938){var _1939=_1938;if(lang.isFunction(_1939)){_1939=_1939.call(this,_1937,this);}if(_1939){if(this._content){this.removeChild(this._content);this._content.destroyRecursive();this._content=null;}_1939.set("region","center");this._content=_1939;this.addChild(_1939);this.layout();}}},_configureToolbar:function(_193a){if(this._toolbarApplied){return;}var _193b=_193a&&_193a.toolBar;if(_193b===false){if(this.toolbarActive){this.removeChild(this._toolbar);this.toolbarActive=false;}}else{if(_193b){if(!this.toolbarActive){this.addChild(this._toolbar);this.toolbarActive=true;}array.forEach(_193b.items,function(item,index){this._toolbar.addChild(new dijit.form.Button(item),index);},this);}}this._toolbarApplied=true;}});});},"Sage/Groups/nls/GroupManager":function(){define("Sage/Groups/nls/GroupManager",["Sage/LanguageList","dojo/_base/lang"],function(_193c,lang){var nls={root:{ConfirmDeleteMessage:"Are you sure you want to delete the current group?",ConfirmDeleteFmtMessage:"Are you sure you want to delete this group: ${0}",InvalidSortStringMessage:"Error: Invalid sort string - ",InvalidConditionStringMessage:"Error: Invalid condition string - ",InvalidLayoutConditionStringMessage:"Error: Invalid layout string - ",noneSelectedTitle:"No records selected",noneSelectedPromptFmt:"No records selected. The full group, ${0} record(s), will be added.  Proceed?",noneSelectedRemovePromptFmt:"No records selected. The full group, ${0} record(s), will be removed.  Proceed?",noRecordsInGroup:"There are no records to be selected from this group.",newGroupTitle:"Add Records to new Group",newGroupNamePrompt:"${0} selected record(s) will be added to this new group.<br><br>Group Name:<br>${1}",newGroupRePrompt:"&nbsp;&nbsp;<i>Please enter a group name.</i>",invalidCharMsg:"Name Cannot contain: / \\ : * ? \" <> | or '",groupNameText:"Group Name:",saveLookupDlgTitle:"Save Lookup Results as New Group",yesCaption:"Yes",noCaption:"No",cancelCaption:"Cancel",okCaption:"OK",LOCALSTORE_NAMESPACE:"SageGroups",exportToExcel:"This method has been deprecated, please see Sage.TaskPane.CommonTasksTasklet.exportToExcel."}};return lang.mixin(_193c,nls);});},"Sage/UI/TimelessActivitiesPane":function(){define("Sage/UI/TimelessActivitiesPane",["dijit/_Widget","dojo/i18n","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","Sage/UI/Columns/ActivityType","Sage/UI/Columns/HistoryType","Sage/Utility","Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","dojo/_base/lang","dojo/string","dojo/i18n!./nls/TimelessActivitiesPane","dojo/_base/declare"],function(_193d,i18n,_193e,_193f,_1940,_1941,_1942,_1943,_1944,lang,_1945,_1946,_1947){var _1948=_1947("Sage.UI.TimelessActivitiesPane",_193d,{gridMode:null,Id:null,grid:null,currentUserIds:[],userColor:[],queryStartDate:null,queryEndDate:null,currentUserDeafultCalendarView:null,schedulerDate:null,weekStart:null,workWeekStart:null,users:{},userActivities:[],constructor:function(_1949){lang.mixin(this,i18n.getLocalization("Sage.UI","TimelessActivitiesPane",this.lang));this.Id=_1949.Id;this.users=_1949.users;this.gridMode=_1949.mode;var _194a;var self=this;var _194b=function(data){var ndate=data.date.valueOf();switch(data.mode){case"day":var _194c=new Date(ndate);_194c.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_194c);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_194c);break;case"month":var _194d=dojo.date.getDaysInMonth(new Date(ndate));var _194e=new Date(new Date(ndate).setDate(1));_194e.setHours(0,0,0,0);var _194f=new Date(new Date(ndate).setDate(_194d));_194f.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_194e);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_194f);break;case"week":var _1950=new Date(data.weekStartDate.valueOf());var _1951=new Date(data.weekEndDate.valueOf());_1950.setHours(0,0,0,0);_1951.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_1950);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_1951);break;case"workweek":var _1952=new Date(data.workWeekStartDate.valueOf());var _1953=new Date(data.workWeekEndDate.valueOf());_1952.setHours(0,0,0,0);_1953.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(_1952);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(_1953);break;default:var sDate=new Date(ndate);sDate.setHours(0,0,0,0);self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(sDate);self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(sDate,"day",1);break;}};if(this.users){for(var i in this.users){_194a=lang.trim(this.users[i]["userId"].toString());var _1954=_1945.substitute("'${0}'",[_194a]);if(dojo.indexOf(this.currentUserIds,_1954)==-1){this.currentUserIds.push(_1954);}if(this.users[i]["usercolor"]){this.userColor[_194a]=lang.trim(this.users[i]["usercolor"].toString());}if(this.currentUserDeafultCalendarView===null){this.currentUserDeafultCalendarView=this.users[i]["defaultcalendarview"].toString();}if(this.weekStart===null){this.weekStart=this.users[i]["weekstartdate"];}if(this.weekEnd===null){this.weekEnd=this.users[i]["weekenddate"];}if(this.workWeekStart===null){this.workWeekStart=this.users[i]["workweekstartdate"];}if(this.workWeekEnd===null){this.workWeekEnd=this.users[i]["workweekenddate"];}}var _1955={};_1955.mode=this.currentUserDeafultCalendarView;_1955.date=new Date();_1955.weekStartDate=this.weekStart;_1955.weekEndDate=this.weekEnd;_1955.workWeekStartDate=this.workWeekStart;_1955.workWeekEndDate=this.workWeekEnd;_194b(_1955);}dojo.subscribe("/sage/ui/calendarUserList/updated",function addUser(_1956){if(_1956){self.currentUserIds=[];for(var i in _1956){var _1957=lang.trim(_1956[i]["userId"].toString());var _1958=_1945.substitute("'${0}'",[_1957]);if(dojo.indexOf(self.currentUserIds,_1958)==-1){self.currentUserIds.push(_1958);}if(_1956[i]["usercolor"]){self.userColor[_1957]=lang.trim(_1956[i]["usercolor"].toString());}}}self.userActivities=[];setTimeout(function(){self.grid.refresh();},"1");});dojo.subscribe("/sage/ui/calendarUser/selectionChanged/add",function addUser(data){var _1959=lang.trim(data.userId.toString());var _195a=_1945.substitute("'${0}'",[_1959]);if(dojo.indexOf(self.currentUserIds,_195a)==-1){self.currentUserIds.push(_195a);}self.userColor[_1959]=data.usercolor.toString();self.userActivities=[];setTimeout(function(){self.grid.refresh();},"1");});dojo.subscribe("/sage/ui/calendarUser/selectionChanged/remove",function removeUser(data){self.currentUserIds=dojo.filter(self.currentUserIds,function(item){return item!="'"+data.userId.toString()+"'";});self.userActivities=[];self.grid.refresh();});dojo.subscribe("/entity/activity/calendar/schedulerDateChanged",function refreshList(data){_194b(data);self.userActivities=[];self.grid.refresh();});dojo.subscribe("/entity/activity/create",function(data){self.refreshGrid(data);});dojo.subscribe("/entity/userActivities/timeless/saved",function(data){self.grid.refresh();});dojo.subscribe("/entity/activity/change",function(data){self.refreshGrid(data);});dojo.subscribe("/entity/activity/timeless/delete",function(data){self.userActivities=[];self.grid.refresh();});},refreshGrid:function(data){if(data!==null){if(data.Timeless||data.TimelessChanged){this.userActivities=[];this.grid.refresh();}}},startup:function(){var self=this;var _195b;if(this.gridMode==="completed"){_195b={context:null,readOnly:true,columns:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_195c,cel){var _195d=[cel.grid.id,"-row",_195c].join("");var id=(Sage.Utility.getModeId()==="insert")?_195d:value;var _195e=["<div id=",id," >",id,"</ div>"].join("");return _195e;}},{field:"UserId",name:" ",sortable:false,width:"20px",formatter:function(value){return"<div class='userStyles "+self.userColor[value]+"'></div>";}},{field:"Type",keyField:"$key",name:this.header_type,type:_1941,width:"90px"},{field:"ContactName",name:this.header_contact,width:"100px"},{field:"Description",name:this.header_regarding,width:"100px"}],storeOptions:{service:_1943.getSDataService("dynamic"),resourceKind:"history",include:["$descriptors"],select:["$key","Regarding","Description","AccountId","AccountName","ActivityId","ContactName","Recurring","StartDate","Timeless","Type","Priority","PhoneNumber","LeadId","LeadName","LongNotes","Location","UserName"],sort:[{attribute:"StartDate",descending:true}]},tools:[],contextualCondition:function(){if(self.queryStartDate===null){self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(new Date());}if(self.queryEndDate===null){self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(new Date());}return dojo.string.substitute("UserId in (${0}) and Timeless and StartDate between @${1}@ and @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[self.currentUserIds.toString(),self.queryStartDate,self.queryEndDate]);},id:this.Id,tabId:"ActivityCalendar",gridNodeId:this.gridNodeId,rowsPerPage:10,singleClickEdit:true,dblClickAction:Sage.Link.editActivity,selectionMode:"single"};}else{_195b={context:null,readOnly:true,columns:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_195f,cel){var _1960=[cel.grid.id,"-row",_195f].join("");var id=(Sage.Utility.getModeId()==="insert")?_1960:value;var _1961=["<div id=",id," >",id,"</ div>"].join("");return _1961;}},{field:"UserActivities.$resources",name:" ",sortable:false,width:"20px",formatter:function(data){var uId;if(data){for(var i=0;i<data.length;i++){var _1962=data[i];if(!_1962["remove"]){var _1963=_1962.User.$key;uId=_1963;}}}return"<div class='userStyles "+self.userColor[uId]+"'></div>";}},{field:"Type",keyField:"$key",name:this.header_type,type:_1940,width:"90px"},{field:"ContactName",name:this.header_contact,width:"100px"},{field:"Description",name:this.header_regarding,width:"100px"}],storeOptions:{service:_1943.getSDataService("system"),resourceKind:"activities",include:["$descriptors,UserInfo"],select:["$key","Regarding","Description","AccountId","AccountName","ActivityId","ContactName","Recurring","StartDate","Timeless","Type","Priority","Leader/$key","PhoneNumber","LeadId","LeadName","LongNotes","Location","UserActivities/User/$key"],sort:[{attribute:"StartDate",descending:true}],onComplete:this._onComplete},tools:[],contextualCondition:function(){if(self.queryStartDate===null){self.queryStartDate=Sage.Utility.Activity.formatTimelessStartDate(new Date());}if(self.queryEndDate===null){self.queryEndDate=Sage.Utility.Activity.formatTimelessEndDate(new Date());}return dojo.string.substitute("UserActivities.UserId in (${0}) and Timeless and UserActivities.Status ne 'asDeclned' and StartDate between @${1}@ and @${2}@ and Type in ('atPhoneCall','atToDo','atAppointment','atPersonal')",[self.currentUserIds.toString(),self.queryStartDate,self.queryEndDate]);},id:this.Id,tabId:"ActivityCalendar",gridNodeId:this.gridNodeId,rowsPerPage:10,singleClickEdit:true,dblClickAction:Sage.Link.editActivity,selectionMode:"single"};}var grid=new _193f(_195b);var _1964=dijit.byId(grid.gridNodeId);_1964.addChild(grid);window.setTimeout(function(){grid.startup();_1964.resize();},1);this.grid=grid;grid.onRowContextMenu=function(e){var item=e.grid.getItem(e.rowIndex);self._bindContextMenu(item.$key,new Date(),e.grid.domNode);};var _1965=function(id){var valid=false;if(id){if(id.trim()!==""){valid=true;}}return valid;};grid.onRowMouseOver=function(e){var item=e.grid.getItem(e.rowIndex);var html="";var _1966,_1967="";if(item.Type){html+=self.tooltip_type+" : "+Sage.Utility.Activity.getActivityTypeName(item.Type)+"<br>";}if(_1965(item.LeadId)){html+=self.tooltip_lead+" : "+item.LeadName+"<br>";if(item.AccountName){html+=self.tooltip_company+" : "+item.AccountName+"<br>";}}else{if(item.ContactName){html+=self.tooltip_contact+" : "+item.ContactName+"<br>";}if(item.AccountName){html+=self.tooltip_account+" : "+item.AccountName+"<br>";}}if(item.PhoneNumber){html+=self.tooltip_phone+" : "+item.PhoneNumber+"<br>";}if(item.UserId){_1966=item.UserId;_1967=item.UserName;}else{if(item.Leader){_1966=item.Leader.$key;_1967=item.Leader.$descriptor;}}if(lang.trim(_1942.getClientContextByKey("userID")).toUpperCase()!==_1966){if(_1967){html+=self.tooltip_leader+" : "+_1967+"<br>";}}if(item.Description){html+=self.tooltip_regarding+" : "+item.Description+"<br>";}if(item.Location){html+=self.tooltip_location+" : "+item.Location+"<br>";}if(item.LongNotes){html+=self.tooltip_notes+" : "+item.LongNotes+"<br>";}dijit.showTooltip(html,e.cellNode);};grid.onRowMouseOut=function(e){dijit.hideTooltip(e.cellNode);};dojo.connect(this.grid,"onHeaderCellClick",function(e){self.userActivities=[];this.inherited(arguments);});dojo.connect(dijit.byId("TaskPane_splitter"),"onMouseUp",function(e){self.userActivities=[];});},_startGrid:function(data){this.grid.startup();},_onComplete:function(data){var self=this;if(data){self.userActivities=[];var cnt=data.length;for(var i=0;i<cnt;i++){var _1968=false;var _1969=data[i]["$key"];if(data[i].UserActivities){var _196a=data[i].UserActivities.$resources;var ln=_196a.length;for(var j=0;j<ln;j++){if(_1968){data[i].UserActivities.$resources[j]["remove"]=true;continue;}var _196b=_196a[j];var _196c=_196b.User.$key;var _196d=self.userActivities[_1969];if(_196d){if(dojo.indexOf(_196d,_196c)<0){self.userActivities[_1969].push(_196c);_1968=true;}else{data[i].UserActivities.$resources[j]["remove"]=true;}}else{self.userActivities[_1969]=[];self.userActivities[_1969].push(_196c);_1968=true;}}}else{var uId=data[i].Leader.$key;var uIds=self.userActivities[_1969];if(uIds){if(dojo.indexOf(uIds,uId)<0){self.userActivities[_1969].push(uId);}}else{self.userActivities[_1969]=[];self.userActivities[_1969].push(uId);}data[i].UserActivities=[];data[i].UserActivities.$resources=[];var _196e={};_196e.$key=uId;_196e.User={$key:uId};data[i].UserActivities.$resources.push(_196e);}}}},_bindContextMenu:function(_196f,_1970,_1971){if(this.pMenu1){this.pMenu1.unBindDomNode(_1971);}this.pMenu1=null;this.pMenu1=new dijit.Menu({});var _1972="mnuCalendarActivity";if(this.gridMode==="completed"){_1972="mnuCalendarHistory";}var _1973=Sage.UI.DataStore.ContextMenus.calendar_activityContextMenu.items;var len=_1973.length;for(var i=0;i<len;i++){var mDef=_1973[i];if(mDef.id===_1972){this._buildChildMenu(mDef.submenu,null,_196f,_1970);break;}}this.pMenu1.bindDomNode(_1971);},_buildChildMenu:function(_1974,_1975,_1976,_1977){var len=_1974.length;for(var i=0;i<len;i++){var mDef=_1974[i];if(mDef.submenu.length>0){var _1978=new dijit.Menu();this._buildChildMenu(mDef.submenu,_1978,_1976,_1977);var _1979=new dijit.PopupMenuItem({label:mDef.text,popup:_1978});if(_1975){_1975.addChild(_1979);}else{this.pMenu1.addChild(_1979);}}else{var _197a=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_197a=new dijit.MenuSeparator();}else{var href=mDef.href;var self=this;_197a=new Sage.UI.MenuItem({label:mDef.text||"...",icon:"Libraries/dojo/dojo/resources/blank.gif",title:mDef.tooltip||"",ref:href,onClick:function(){switch(this.ref.toUpperCase()){case"OPENACTIVITY":Sage.Link.editActivity(_1976);break;case"OPENHISTORY":Sage.Link.editHistory(_1976);break;case"COMPLETEACTIVITY":Sage.Link.completeActivity(_1976);break;case"DELETEACTIVITY":Sage.Link.deleteActivity(_1976,function(data){self.grid.refresh();});break;case"GOTOACCOUNT":Sage.Link.goToActivityAssociation("Account",_1976);break;case"GOTOCONTACT":Sage.Link.goToActivityAssociation("Contact",_1976);break;case"GOTOOPPORTUNITY":Sage.Link.goToActivityAssociation("Opportunity",_1976);break;case"GOTOTICKET":Sage.Link.goToActivityAssociation("Ticket",_1976);break;case"GOTOLEAD":Sage.Link.goToActivityAssociation("Lead",_1976);break;}}});}if(_1975){_1975.addChild(_197a);}else{this.pMenu1.addChild(_197a);}}}}});return _1948;});},"url:Sage/MainView/ActivityMgr/templates/RecurringEditor.html":'\r\n[\'<div>\',\r\n    \'<table style="width:100%">\',\r\n        \'<tr>\',\r\n            \'<td class="recurring-selectors">\',  //radio buttons...\r\n                \'<div>{%= $.activityOccurrsText %}</div>\',\r\n                \'<div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="None" id="{%= $.id %}_rdo_Once" dojoAttachPoint="rdo_Once" checked="true" dojoAttachEvent="onChange:_onceChanged" />\',  //  \r\n                    \'<label for="{%= $.id %}_rdo_Once">&nbsp;{%= $.onceText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="daily" id="{%= $.id %}_rdo_Daily" dojoAttachPoint="rdo_Daily" dojoAttachEvent="onChange:_dailyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Daily">&nbsp;{%= $.dailyText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="weekly" id="{%= $.id %}_rdo_Weekly" dojoAttachPoint="rdo_Weekly" dojoAttachEvent="onChange:_weeklyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Weekly">&nbsp;{%= $.weeklyText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="monthly" id="{%= $.id %}_rdo_Monthly" dojoAttachPoint="rdo_Monthly" dojoAttachEvent="onChange:_monthlyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Monthly">&nbsp;{%= $.monthlyText %}</label>\',\r\n                \'</div><div>\',\r\n                    \'<input dojoType="dijit.form.RadioButton" type="radio" name="recurPeriod" value="yearly" id="{%= $.id %}_rdo_Yearly" dojoAttachPoint="rdo_Yearly" dojoAttachEvent="onChange:_yearlyChanged" />\',\r\n                    \'<label for="{%= $.id %}_rdo_Yearly">&nbsp;{%= $.yearlyText %}</label>\',\r\n                \'</div>\',\r\n            \'</td>\',\r\n            \'<td>\',  //panel for each different recurring type...\r\n                \'<div dojoType="dijit.layout.StackContainer" dojoAttachPoint="_panelContainer" class="recurring-body" >\',\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_oncePanel" class="recurring-panel"  >\',\r\n                        \'{%= $.occursOnceText %}\',\r\n                    \'</div>\',\r\n//daily panel...............................\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_dailyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="dailyEvery" value="days" id="{%= $.id %}_rdoDailyEvery" checked="true" dojoAttachPoint="_rdoDailyEvery" dojoAttachEvent="onChange:_dailyEveryChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoDailyEvery" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_dailyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.daysText %}</span>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="dailyEvery" value="daysAfter" id="{%= $.id %}_rdoDailyEveryAfter" dojoAttachPoint="_rdoDailyEveryAfter" />\',\r\n                                \'<label for="{%= $.id %}_rdoDailyEveryAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_dailyEveryAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.daysAfterText %}</span>\',\r\n                            \'</div>\',\r\n                    \'</div>\',\r\n//weekly panel............................\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_weeklyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="weeklyEvery" value="weeksOn" id="{%= $.id %}_rdoWeeklyEvery" checked="true" dojoAttachPoint="_rdoWeeklyEvery" dojoAttachEvent="onChange:_weeklyEveryChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoWeeklyEvery" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_weeklyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.weeksOnText %}</span>\',\r\n                        \'</div>\',\r\n                        \'<div style="white-space:normal;padding-bottom:10px;">\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkMonday" value="mon" id="{%= $.id %}_chkMonday" dojoAttachPoint="_chkMonday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkMonday" class="padded-inline-label">{%= $.monText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkTuesday" value="tue" id="{%= $.id %}_chkTuesday" dojoAttachPoint="_chkTuesday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkTuesday" class="padded-inline-label">{%= $.tueText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkWednesday" value="wed" id="{%= $.id %}_chkWednesday" dojoAttachPoint="_chkWednesday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkWednesday" class="padded-inline-label">{%= $.wedText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkThursday" value="thu" id="{%= $.id %}_chkThursday" dojoAttachPoint="_chkThursday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkThursday" class="padded-inline-label">{%= $.thurText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkFriday" value="fri" id="{%= $.id %}_chkFriday" dojoAttachPoint="_chkFriday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkFriday" class="padded-inline-label">{%= $.friText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkSaturday" value="sat" id="{%= $.id %}_chkSaturday" dojoAttachPoint="_chkSaturday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkSaturday" class="padded-inline-label">{%= $.satText %}</label>\',\r\n                            \'</span>\',\r\n                            \'<span class="no-wrap">\',\r\n                                \'<input dojoType="dijit.form.CheckBox" type="checkbox" name="chkSunday" value="sun" id="{%= $.id %}_chkSunday" dojoAttachPoint="_chkSunday" dojoAttachEvent="onClick:_dayChecked" />\',\r\n                                \'<label for="{%= $.id %}_chkSunday" class="padded-inline-label">{%= $.sunText %}</label>\',\r\n                            \'</span>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="weeklyEvery" value="weeksAfter" id="{%= $.id %}_rdoWeeklyEveryAfter" dojoAttachPoint="_rdoWeeklyEveryAfter" />\',\r\n                                \'<label for="{%= $.id %}_rdoWeeklyEveryAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_weeklyEveryAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_calculateEnd" />\',\r\n                            \'<span class="padded-inline-label">{%= $.weeksAfterText %}</span>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n//monthly panel.........................................................\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_monthlyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="monthlyOn" value="monthyOn" id="{%= $.id %}_rdoMonthlyOn" checked="true" dojoAttachPoint="_rdoMonthlyOn" dojoAttachEvent="onChange:_monthlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoMonthlyOn" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_monthlyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.monthsOnText %}</span>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_datesSelect" dojoAttachEvent="onChange:_calculateEnd" maxHeight="300"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="monthlyOn" value="monthyOnThe" id="{%= $.id %}_rdoMonthlyOnThe" dojoAttachPoint="_rdoMonthlyOnThe" />\', // dojoAttachEvent="onChange:_monthlyOnChanged"\r\n                                \'<label for="{%= $.id %}_rdoMonthlyOnThe" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_monthlyOnTheText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.monthsOnTheText %}</span>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_weeksSelect" disabled="true" dojoAttachEvent="onChange:_calculateEnd"></select>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_weekdaySelect" disabled="true" dojoAttachEvent="onChange:_calculateEnd"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="monthlyOn" value="monthyAfter" id="{%= $.id %}_rdoMonthlyAfter" dojoAttachPoint="_rdoMonthlyAfter" dojoAttachEvent="onChange:_monthlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoMonthlyAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_monthlyAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_calculateEnd" />\',\r\n                            \'<span class="padded-inline-label">{%= $.monthsAfterText %}</span>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n// yearly panel..............\r\n                    \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="_yearlyPanel" class="recurring-panel"  >\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="yearlyOn" value="yearlyOn" id="{%= $.id %}_rdoYearlyOn" checked="true" dojoAttachPoint="_rdoYearlyOn" dojoAttachEvent="onChange:_yearlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoYearlyOn" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_yearlyEveryText" class="small-inline-textbox" dojoAttachEvent="onChange:_intervalChanged" />\',\r\n                            \'<span class="padded-inline-label">{%= $.yearsOnText %}</span>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_monthNamesSelect" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                            \'<select dojoType="dijit.form.Select" maxHeight="300" dojoAttachPoint="_yearDatesSelect" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= ($.labelWidth - 3) %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="yearlyOn" value="yearlyOnThe" id="{%= $.id %}_rdoYearlyOnThe" dojoAttachPoint="_rdoYearlyOnThe" />\',\r\n                                \'<label for="{%= $.id %}_rdoYearlyOnThe" class="padded-inline-label">{%= $.theText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_yearWeeksSelect" disabled="true" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_yearWeekdaySelect" disabled="true" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                            \'<label class="padded-inline-label">{%= $.inText %}</label>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="_yearMonthNamesSelect" disabled="true" dojoAttachEvent="onChange:_yearlyRecurDateChanged"></select>\',\r\n                        \'</div>\',\r\n                        \'<div>\',\r\n                            \'<div class="recurring-radio-label" style="min-width:{%= $.labelWidth %}px;">\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="yearlyOn" value="yearlyEveryAfter" id="{%= $.id %}_rdoYearlyEveryAfter" dojoAttachPoint="_rdoYearlyEveryAfter" dojoAttachEvent="onChange:_yearlyOnChanged" />\',\r\n                                \'<label for="{%= $.id %}_rdoYearlyEveryAfter" class="padded-inline-label">{%= $.everyText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="1" constraints="{places: 0, type: \\\'decimal\\\'}" dojoAttachPoint="_yearlyEveryAfterText" disabled="true" class="small-inline-textbox" dojoAttachEvent="onChange:_calculateEnd" />\',\r\n                            \'<span class="padded-inline-label">{%= $.yearsAfterText %}</span>\',\r\n                            \'</div>\',\r\n                    \'</div>\',\r\n                \'</div>\', //stack container\r\n// End date calculator section.........................................\r\n                \'<div dojoAttachPoint="_startEndCalculator" class="display-none">\',\r\n                    \'<hr />\',\r\n                    \'<table>\',\r\n                        \'<tr>\',\r\n                            \'<td>{%= $.startRecurringText %}</td>\',\r\n                            \'<td>\',\r\n                                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_StartRecur" value="{%= $.startDate %}" dojoAttachPoint="dtp_startRecur" displayDate="true" displayTime="false" dojoAttachEvent="onChange:_recurringStartDateChanged" readOnly="true" ></div>\',\r\n                            \'</td>\',\r\n                        \'</tr>\',\r\n                        \'<tr>\',\r\n                            \'<td>\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="endRecur" value="endAfterNum" id="{%= $.id %}_rdoEndAfterNum" dojoAttachPoint="_rdoEndAfter" dojoAttachEvent="onChange:_endCalcModeChanged" checked="true" />\',\r\n                                \'<label for="{%= $.id %}_rdoEndAfterNum" class="padded-inline-label">{%= $.endAfterText  %}</label>\',\r\n                            \'</td><td>\',\r\n                                \'<input dojoType="Sage.UI.NumberTextBox" shouldPublishMarkDirty="false" value="2" constraints="{places: 0, type: \\\'decimal\\\', max: 999, min: 1}" maxlength="3" id="{%= $.id %}_num_Occurances" dojoAttachPoint="num_Occurances" class="small-inline-textbox" dojoAttachEvent="onChange:_numOccurancesChanged" />\',\r\n                                \'<span class="padded-inline-label">{%= $.occurrencesText %}</span>\',\r\n                            \'</td>\',\r\n                        \'</tr><tr>\',\r\n                            \'<td>\',\r\n                                \'<input dojoType="dijit.form.RadioButton" type="radio" name="endRecur" value="endOn" id="{%= $.id %}_rdoEndOn" dojoAttachPoint="_rdoEndOn" />\',\r\n                                \'<label for="{%= $.id %}_rdoEndOn" class="padded-inline-label">{%= $.endOnText %}</label>\',\r\n                            \'</td>\',\r\n                            \'<td>\',\r\n                                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_EndRecur" dojoAttachPoint="dtp_endRecur" displayDate="true" displayTime="false" dojoAttachEvent="onChange:_endRecurChanged" ></div>\',\r\n                            \'</td>\',\r\n                        \'</tr>\',\r\n                    \'</table>\',\r\n                \'</div>\',\r\n            \'</td>\',\r\n        \'</tr>\',\r\n    \'</table>\',\r\n\'</div>\']',"Sage/UI/Columns/DndCell":function(){require({cache:{"url:Sage/UI/Columns/templates/DndCell.html":'<div>\r\n    <div data-dojo-type="dojo.dnd.Source" dojoAttachPoint="sourceNode" copyOnly="true" accept="">\r\n        <div class="dojoDndItem" dojoAttachPoint="dndItem"></div>\r\n    </div>\r\n</div>\r\n'}});define("Sage/UI/Columns/DndCell",["dijit/_Widget","dijit/_Templated","dojo/dnd/Source","dojo/text!./templates/DndCell.html","dojo/_base/declare"],function(_197b,_197c,_197d,_197e,_197f){var _1980=_197f("Sage.UI.Columns.DndCell",[_197b,_197c],{templateString:_197e,widgetsInTemplate:true,value:null,index:-1,constructor:function(_1981){this.inherited(arguments);},postCreate:function(){this.dndItem.innerHTML=this.get("value");this.dndItem.type="cell";this.dndItem.data={value:this.get("value"),index:this.index};this.inherited(arguments);}});return _1980;});},"Sage/QuickForms/Design/Editors/nls/DateTimePickerAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DateTimePickerAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1982,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",buttonToolTipText:"Button Tooltip:",buttonToolTipTooltipText:"The tooltip  to display when the user\\'s mouse hovers over the button part of the control.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",timelessText:"Timeless:",timelessTooltipText:"Use date without time and no DST conversion.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},displayModeTypeText:{AsControl:"As Control",AsText:"As Text",AsHyperlink:"As Hyperlink"}}};return lang.mixin(_1982,nls);});},"Sage/UI/ComboBox":function(){define("Sage/UI/ComboBox",["dijit/form/ComboBox","dojo/currency","dojo/_base/declare"],function(_1983,_1984,_1985){var _1986=_1985("Sage.UI.ComboBox",[_1983],{_hClickBody:false,maxHeight:dojo.isIE?160:170,shouldPublishMarkDirty:true,autoPostBack:false,_onKeyPress:function(e){dojo.stopEvent(e);},postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},onClickBody:function(e){if(dojo.isIE>=9&&this._opened){var obj=dijit.getEnclosingWidget(e.target);if(obj&&obj===this){return;}this.closeDropDown();}},closeDropDown:function(focus){if(dojo.isIE>=9&&this._hClickBody){dojo.disconnect(this._hClickBody);this._hClickBody=false;}this.inherited(arguments);},openDropDown:function(){if(dojo.isIE>=9){this._hClickBody=dojo.connect(document.body,"onclick",this,this.onClickBody);}this.inherited(arguments);}});return _1986;});},"Sage/QuickForms/Design/Editors/nls/ComboBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ComboBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1987,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1987,nls);});},"Sage/UI/Dialogs":function(){define("Sage/UI/Dialogs",["dijit/form/Button","dijit/Dialog","dijit/ProgressBar","dijit/form/TextBox","dijit/form/ValidationTextBox","dojo/i18n!./nls/Dialogs","dojo/_base/array"],function(_1988,_1989,_198a,_198b,_198c,_198d,array){Sage.namespace("UI.Dialogs");dojo.mixin(Sage.UI.Dialogs,{raiseQueryDialog:function(title,query,_198e,_198f,_1990,_1991){return this.raiseQueryDialogExt({title:title,query:query,callbackFn:_198e,yesText:_198f,noText:_1990,icon:_1991});},raiseQueryDialogExt:function(opts){var dlg=dijit.byId("queryDialog"),_1992,_1993,_1994,_1995,i,_1996,_1997,_1998;if(dlg){dlg.destroyRecursive();}_1992=(opts&&typeof opts.width==="number")?opts.width:700;_1993=new dijit.Dialog({id:"queryDialog",title:opts.title,style:opts.style||{"width":_1992}});_1994=function(_1999){_1993.hide();if(!opts.callbackFn||typeof opts.callbackFn!=="function"){return;}if(_1999){opts.callbackFn.call(opts.scope||this,true);}else{opts.callbackFn.call(opts.scope||this,false);}};_1993.on("hide",function(){_1993.destroyRecursive();});if(opts.icon){var _199a=new dojo.create("div",{id:"queryDialog-iconDiv","class":"messageIcon "+opts.icon});_1993.containerNode.appendChild(_199a);}_1995=[];if(opts.query instanceof Array){for(i=0;i<opts.query.length;i++){_1995.push(dojo.create("div",{id:"queryDialog-questionDiv_"+i,innerHTML:opts.query[i]}));}}else{var div=dojo.create("div",{id:"queryDialog-questionDiv",innerHTML:opts.query});var _199b=div.getElementsByTagName("script");array.forEach(_199b,function(_199c){var src=_199c.getAttribute("src");if(src===null&&_199c.innerHTML!==""){eval(_199c.innerHTML);}else{if(src!==null&&_199c.innerHTML===""){var head=document.getElementsByTagName("head")[0];var clone=dojo.clone(_199c);(head||document.body).appendChild(clone);}else{if(typeof console!=="undefined"){}}}div.removeChild(_199c);});_1995.push(div);}_1996=new dojo.create("div",{id:"queryDialog-buttonDiv",style:"text-align: "+(opts.align||"center")+"; margin-top: 10px"});_1997=new dijit.form.Button({label:opts.yesText||_198d.yesText,id:"qry_yesButton",onClick:function(_199d){_1994(true);}});_1996.appendChild(_1997.domNode);if((opts.noText)||(opts.showNoButton)){_1998=new dijit.form.Button({label:opts.noText||_198d.noText,id:"qry_noButton",style:"padding-left: 10px",onClick:function(_199e){_1994(false);}});_1996.appendChild(_1998.domNode);}dojo.forEach(_1995,function(_199f){_1993.containerNode.appendChild(_199f);});_1993.containerNode.appendChild(_1996);_1993.show();},raiseInputDialog:function(title,query,_19a0,_19a1,_19a2,_19a3,_19a4,_19a5){return this.raiseInputDialogExt({title:title,query:query,callbackFn:_19a0,yesText:_19a1,noText:_19a2,defaultValue:_19a3,regExp:_19a4,invalidMessage:_19a5});},raiseInputDialogExt:function(opts){var _19a6,_19a7,_19a8,_19a9,_19aa,_19ab,_19ac;_19a6=dijit.byId("inputDialog");if(_19a6){_19a6.destroyRecursive();}_19a6=new dijit.Dialog({id:"inputDialog",title:opts.title});_19a7=dojo.create("div",{id:"inputDialog-questionDiv",innerHTML:opts.query});_19a8=(opts.regExp&&dojo.isString(opts.regExp))?new dijit.form.ValidationTextBox({id:"inputDialog-inputBox",value:opts.defaultValue||"",style:"margin-top: 8px",regExp:opts.regExp||"",invalidMessage:opts.invalidMessage||""}):new dijit.form.TextBox({id:"inputDialog-inputBox",value:opts.defaultValue||"",style:"margin-top: 8px"});_19a9=function(_19ad){if(_19ad){opts.callbackFn(true,_19a8.get("value"));}else{opts.callbackFn(false,_19a8.get("value"));}_19a6.hide();};_19aa=new dijit.form.Button({label:opts.yesText||_198d.yesText,id:"inp_yesButton",onClick:function(_19ae){_19a9(true);}});_19ab=new dijit.form.Button({label:opts.noText||_198d.noText,id:"inp_noButton",onClick:function(_19af){_19a9(false);}});_19ac=new dojo.create("div",{id:"inputDialog-buttonDiv"});_19a6.on("hide",function(){_19a6.destroyRecursive();});_19ac.appendChild(_19aa.domNode);_19ac.appendChild(_19ab.domNode);_19a6.containerNode.appendChild(_19a7);_19a6.containerNode.appendChild(_19a8.domNode);_19a6.containerNode.appendChild(_19ac);if(opts.closable===false){dojo.destroy(_19a6.closeButtonNode);}_19a6.show();},showProgressBar:function(opts){var iMax=(opts&&typeof opts.maximum!=="undefined")?opts.maximum:100,prog,_19b0=(opts&&typeof opts.width==="number")?opts.width:300,_19b1=(opts&&typeof opts.width==="number")?opts.height:125,_19b2=dojo.string.substitute("width: ${0}px; height: ${1}px",[_19b0,_19b1]),_19b3=(opts&&typeof opts.canclose==="boolean")?opts.canclose:true,_19b4,sMsg,_19b5,bar,msg;if(!dijit.byId("progressDialog")){prog=new dijit.ProgressBar({id:"progressDialogBar",style:"margin-top: 10px; margin-bottom: 10px",indeterminate:(opts&&opts.indeterminate!=="undefined")?opts.indeterminate:false,maximum:iMax});_19b4=new dijit.Dialog({id:"progressDialog",title:opts.title,style:_19b2,closable:_19b3});if(opts&&typeof opts.showmessage==="boolean"&&opts.showmessage){sMsg=(opts&&typeof opts.message==="string")?opts.message:"";_19b5=new dojo.create("div",{innerHTML:sMsg,style:"text-align: left; margin-top: 10px; margin-bottom: 10px",id:"progressDialogMessage"});_19b4.containerNode.appendChild(_19b5);}_19b4.containerNode.appendChild(prog.domNode);_19b4.show();}bar=dijit.byId("progressDialogBar");bar.update({progress:opts.pct,title:opts.title});if(opts&&typeof opts.showmessage==="boolean"&&opts.showmessage&&typeof opts.message==="string"){msg=dojo.byId("progressDialogMessage");if(msg){msg.innerHTML=opts.message;}}},closeProgressBar:function(opts){var dlg=dijit.byId("progressDialog");if(dlg){dlg.hide();dlg.destroyRecursive();}},alert:function(msg,title,icon){var opts={title:title||"Saleslogix",query:msg,callbackFn:false,yesText:_198d.okText||"OK",noText:false,scope:window,icon:icon||"noIcon",style:{width:"700px"}};Sage.UI.Dialogs.raiseQueryDialogExt(opts);},showInfo:function(msg,title){this.alert(msg,title,"infoIcon");},showWarning:function(msg,title){this.alert(msg,title,"warningIcon");},showError:function(msg,title){this.alert(msg,title,"errorIcon");}});Sage.WebClientMessageService=function(_19b6){};Sage.WebClientMessageService.prototype.hideClientMessage=function(){if(typeof console!=="undefined"){}};Sage.WebClientMessageService.prototype.showClientMessage=function(title,msg,fn,scope){if(typeof console!=="undefined"){}if(typeof title==="object"){Sage.UI.Dialog.raiseQueryDialogEx(title);}var o={title:(typeof msg==="string")?title:"",query:(typeof msg==="string")?msg:title,callbackFn:fn,yesText:_198d.yesText||"Yes",noText:_198d.noText||"No",scope:scope};Sage.UI.Dialogs.raiseQueryDialogExt(o);};Sage.Services.addService("WebClientMessageService",new Sage.WebClientMessageService());return Sage.UI.Dialogs;});},"Sage/MainView/ReportMgr/nls/ReportsListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/ReportsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_19b7,lang){var nls={root:{colNameReportName:"Name",colNameType:"Type",colNameTable:"Table",colNameCreateUser:"Create User",colNameCreateDate:"Create Date",colNameLastExecutionDate:"Last Run",colNameLastExecutionUser:"Last Run By",colNameModifyUser:"Modify User",colNameModifyDate:"Modify Date"}};return lang.mixin(_19b7,nls);});},"Sage/_EventMapMixin":function(){define("Sage/_EventMapMixin",["dojo/on","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr","dojo/query"],function(on,_19b8,array,lang,_19b9,query){var proxy=function(fn,scope){return function(evt){fn.call(scope,evt,this);};};return _19b8("Sage._EventMapMixin",null,{events:null,_eventSignals:null,postCreate:function(){this.inherited(arguments);this._eventSignals=(this._eventSignals||[]);if(this.events){for(var name in this.events){var item=this.events[name];if(item){var event=null,fn=null;if(lang.isObject(item)){event=item.selector?on.selector(item.selector,item.event||name):item.event||name;fn=lang.isFunction(this[item.action])?this[item.action]:this._invokeDynamicAction;}else{event=name;fn=lang.isFunction(this[item])?this[item]:this._invokeDynamicAction;}this._eventSignals.push(on(this.domNode,event,proxy(fn,this)));}}}},_invokeDynamicAction:function(evt,node){var _19ba=_19b9.get(node,"data-action"),fn=lang.isFunction(this[_19ba])?this[_19ba]:null;if(fn){fn.call(this,evt,node);}},uninitialize:function(){this.inherited(arguments);array.forEach(this._eventSignals,function(_19bb){_19bb.remove();});}});});},"Sage/UI/Alarms/nls/JobNotificationButton":function(){define("Sage/UI/Alarms/nls/JobNotificationButton",["Sage/LanguageList","dojo/_base/lang"],function(_19bc,lang){var nls={root:{notificationToolTip:"You have ${0} job notifications.",notificationErrorToolTip:"An error occured retrieving job notifications. Please contact your administrator."}};return lang.mixin(_19bc,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportWizardController":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportWizardController",["Sage/LanguageList","dojo/_base/lang"],function(_19bd,lang){var nls={root:{txtOnDemandScheduleName:"On Demand",txtReportSuccessfullyScheduled:"Report successfully scheduled.",txtDynamicParametersMessage:"Reports with dynamic parameters are currently not supported.",txtError:"Error",txtScheduleSuccessfullyUpdated:"Schedule successfully updated."}};return lang.mixin(_19bd,nls);});},"Sage/UI/SLXPreviewGrid/Filter/Lookup":function(){define("Sage/UI/SLXPreviewGrid/Filter/Lookup",["dojo/_base/declare","dijit/_Widget","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin"],function(_19be,_19bf,_19c0){var _19c1=_19be("Sage.UI.SLXPreviewGrid.Filter.Lookup",[_19bf,_19c0],{okText:"OK",lookupStructure:[],lookupGridOptions:{},lookupStoreOptions:{},postCreate:function(){this.inherited(arguments);var _19c2={structure:this.lookupStructure,gridOptions:this.lookupGridOptions,storeOptions:this.lookupStoreOptions,isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.name,dialogButtonText:this.okText};this._lup=new Sage.UI.Controls.Lookup({id:this.id+"_lup",config:_19c2,required:false},this.domNode);var div=document.createElement("div");this.domNode.appendChild(div);dojo.place(this._lup.domNode,div,"only");},getQuery:function(){var obj=this._lup.get("selectedObject");if(obj&&obj["$key"]){return this.field+" eq '"+obj["$key"]+"'";}return"";},reset:function(){this._lup.set("selectedObject",null);},getState:function(){return{"value":this._lup.get("selectedObject")};},applyState:function(state){if(state){this._lup.set("selectedObject",state["value"]||"");}}});return _19c1;});},"Sage/Data/SingleEntryPropertySDataStore":function(){define("Sage/Data/SingleEntryPropertySDataStore",["Sage/Data/SingleEntrySDataStore","dojo/_base/declare"],function(_19c3,_19c4){var _19c5=_19c4("Sage.Data.SingleEntryPropertySDataStore",_19c3,{propertyName:null,fetch:function(_19c6){var _19c7=this._getRequest(_19c6),key;if(this.sort){_19c7.setQueryArg("orderby",this.sort);}this.verifyService();if(_19c6.predicate){if(this._entity&&(_19c6.predicate===this._entity.$key)&&this._okToCache){if(_19c6.onComplete){_19c6.onComplete.call(_19c6.scope||this,this._entity,_19c6);return;}}_19c7.setResourceSelector(_19c6.predicate);}if(this.select&&this.select.length>0){_19c7.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_19c7.setQueryArg("include",this.include.join(","));}if(this.predicate&&this.predicate.length>0){_19c7.setResourceSelector(this.predicate);}if(_19c6.beforeRequest){_19c6.beforeRequest.call(_19c6.scope||this,_19c7);}_19c7.setQueryArg("startIndex",_19c6.start+1);_19c7.setQueryArg("count",_19c6.count||100);key=_19c7.readFeed({success:dojo.hitch(this,this.onSuccess,_19c6),failure:dojo.hitch(this,this.onFailure,_19c6)});return{abort:dojo.hitch(this,this.abortRequest,key)};},abortRequest:function(key){this.service.abortRequest(key);},onSuccess:function(_19c8,feed){if(_19c8.onBegin){_19c8.onBegin.call(_19c8.scope||this,feed.$totalResults,_19c8);}if(_19c8.onComplete){_19c8.onComplete.call(_19c8.scope||this,feed.$resources,_19c8);}},_getRequest:function(_19c9){if(!this._request){var req=new Sage.SData.Client.SDataResourcePropertyRequest(this.service);req.setResourceKind(this.resourceKind);req.setResourceProperty(this.propertyName);this._request=req;}return this._request;},});return _19c5;});},"Sage/MainView/JobMgr/nls/JobDefinitionsListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/JobDefinitionsListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_19ca,lang){var nls={root:{colNameJobName:"Job Name",colNameDescription:"Description",colNameType:"Type"}};return lang.mixin(_19ca,nls);});},"Sage/MainView/ActivityMgr/nls/RecurringEditor":function(){define("Sage/MainView/ActivityMgr/nls/RecurringEditor",["Sage/LanguageList","dojo/_base/lang"],function(_19cb,lang){var nls={root:{activityOccurrsText:"This activity occurs...",onceText:"Once",dailyText:"Daily",weeklyText:"Weekly",monthlyText:"Monthly",yearlyText:"Yearly",occursOnceText:"This activity occurs only once",everyText:"Every",daysText:"Day(s)",daysAfterText:"Day(s) after completion",startRecurringText:"Start Recurring: ",endAfterText:"End After",endOnText:"End Recurring",occurrencesText:"occurrences",weeksOnText:"Week(s) on",monText:"Monday",tueText:"Tuesday",wedText:"Wednesday",thurText:"Thursday",friText:"Friday",satText:"Saturday",sunText:"Sunday",weeksAfterText:"Week(s) after completion",monthsOnText:"Month(s) on day",monthsOnTheText:"Month(s) on the",monthsAfterText:"Month(s) after completion",firstText:"1st",secondText:"2nd",thirdText:"3rd",fourthText:"4th",lastText:"last",yearsOnText:"Year(s) on",yearsAfterText:"Year(s) after completion",janText:"January",febText:"February",marText:"March",aprText:"April",mayText:"May",junText:"June",julText:"July",augText:"August",sepText:"September",octText:"October",novText:"November",decText:"December",theText:"The",inText:"in"}};return lang.mixin(_19cb,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsUtility":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportsUtility",["Sage/LanguageList","dojo/_base/lang"],function(_19cc,lang){var nls={root:{txtCurrentUser:"Current User"}};return lang.mixin(_19cc,nls);});},"Sage/MainView/JobMgr/BaseListPanelConfig":function(){define("Sage/MainView/JobMgr/BaseListPanelConfig",["Sage/_ConfigurationProvider","Sage/Services/JobService","Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dijit/Menu","dijit/PopupMenuItem","dijit/MenuSeparator","Sage/UI/MenuItem","dojo/i18n!./nls/BaseListPanelConfig","dijit/registry","dojo/_base/declare"],function(_19cd,_19ce,_19cf,_19d0,Menu,_19d1,_19d2,_19d3,_19d4,_19d5,_19d6){var _19d7=_19d6("Sage.MainView.JobMgr.BaseListPanelConfig",[_19cd],{list:false,detail:false,summary:false,toolBar:false,_listId:false,_store:false,_sDataService:false,_where:false,_sort:false,_select:false,_include:false,_structure:false,_currentUserId:false,_resourceKind:false,_nlsResources:false,_securedAction:"",keyField:"$key",hasCompositeKey:false,_menuItems:null,_contextMenu:false,_summaryformaterScope:false,entityName:false,rebuildMenus:true,rebuildOnRefresh:false,constructor:function(){var _19d8=Sage.Services.getService("JobService");this._sDataService=_19d8.getSchedulingSDataService();this._nlsResources=_19d4;var _19d9=Sage.Services.getService("ClientContextService");if(_19d9){if(_19d9.containsKey("userID")){this._currentUserId=_19d9.getValue("userID");}}this._include=this._getInclude();this._menuItems=[];},rebuild:function(){this._where=this._getWhere();this._structure=this._getStructure();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_getListConfig:function(){if(!this._store){this._store=this._getStore();}else{this._store.where=this._where;}var _19da={id:this._listId,structure:this._structure,store:this._store,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext,selectionMode:"single"};return _19da;},_getStore:function(){var store=new _19d0({id:this._listId,service:this._sDataService,resourceKind:this._resourceKind,include:this._include,select:this._select,sort:this._sort,where:this._where});return store;},_getSelect:function(){var _19db=[];return _19db;},_getInclude:function(){var _19dc=[];return _19dc;},_getSort:function(){var sort=[];return sort;},_getWhere:function(){var where="";return where;},_getStructure:function(){var _19dd=[];return _19dd;},_getSummaryConfig:function(){var store=new _19d0({id:this._listId,service:this._sDataService,resourceKind:this._resourceKind,include:[],select:["$key"],where:this._where});var _19de=[{field:"$key",formatter:"formatSummary",width:"100%",name:"Summary View"}];var _19df=this._getFormatterScope();var _19e0={structure:_19de,layout:"layout",store:store,rowHeight:170,rowsPerPage:10,formatterScope:_19df};return _19e0;},_getFormatterScope:function(){return false;},_getDetailConfig:function(){return false;},_getToolBars:function(){var _19e1={items:[]};return _19e1;},_getListContextMenuItems:function(){if(!this._contextMenu){return;}if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus){return[];}if(!Sage.UI.DataStore.ContextMenus.listContextMenu){return[];}if(this._menuItems.length>0){this._menuItems[0].destroyDescendants();}this._menuItems=[];var _19e2=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_19e2.length;for(var i=0;i<len;i++){var mDef=_19e2[i];if(mDef.id===this._currentListContextSubMenu){this._buildChildMenu(mDef.submenu,null);}}return this._menuItems;},_getGridMenu:function(){var _19e3=dijit.byId("_listContextmenu");return _19e3;},_buildChildMenu:function(_19e4,_19e5){var len=_19e4.length;for(var i=0;i<len;i++){var mDef=_19e4[i];if(mDef.submenu.length>0){var _19e6=new Menu();this._buildChildMenu(mDef.submenu,_19e6);var _19e7=new _19d1({label:mDef.text,popup:_19e6});if(_19e5){_19e5.addChild(_19e7);}else{this._menuItems.push(_19e7);}}else{var _19e8=null;if((mDef.text==="-")||(mDef.text===" ")||(mDef.isspacer)){_19e8=new _19d2();}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}_19e8=new _19d3({label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}if(_19e5){_19e5.addChild(_19e8);}else{this._menuItems.push(_19e8);}}}},_onListContext:function(){},getFilterConfig:function(_19e9,entry,_19ea){var _19eb=this._sDataService;var _19ec=_19e9;var _19ed=this.entityName;var _19ee=this._resourceKind;var where=this._where;var _19ef={};var _19f0=new Sage.SData.Client.SDataResourcePropertyRequest(_19ec);_19f0.setResourceKind("executions");_19f0.setResourceSelector('"'+_19ed+'"');_19f0.setResourceProperty("filters");_19f0.setQueryArg("where",'filterType ne "analyticsMetric"');_19f0.setQueryArg("count",20);_19ef["groupId"]=this._listId;_19ef["store"]=new _19d0({executeReadWith:"readFeed",request:_19f0});var _19f1=new Sage.SData.Client.SDataResourcePropertyRequest(_19eb);_19f1.setResourceKind(_19ee);_19f1.setResourceProperty("$queries/executeMetric");_19f1.setQueryArg("_filterName",filter["filterName"]);_19f1.setQueryArg("orderby","displayName");_19f1.setQueryArg("_activeFilter",where);_19ef["createStoreForFilter"]=function(_19f2){return _19f2&&_19f2["filterName"]?new _19d0({executeReadWith:"readFeed",request:_19f1}):null;};_19ef["getFilterManager"]=function(){var _19f3=_19d5.byId("list");return _19f3&&_19f3.get("filterManager");};return _19ef;}});return _19d7;});},"Sage/QuickForms/Design/Editors/nls/DataGridAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DataGridAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_19f4,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",emptyTableRowText:"Empty Table Row Text:",emptyTableRowTooltipText:"Text to display if grid shows no data.",expandableRowsText:"Expandable Rows:",expandableRowsTooltipText:"Allows user to expand grid rows to show more text.",renderVerticalText:"Render Vertically:",renderVerticalTooltipText:"Show grid rows as columns.",showSortIconText:"Show Sort Icon:",showSortIconTooltipText:"Show sort icon on columns that are sortable.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form."}};return lang.mixin(_19f4,nls);});},"Sage/UI/EditableGrid":function(){define("Sage/UI/EditableGrid",["dojox/grid/DataGrid","dijit/Toolbar","dijit/form/Button","dijit/layout/ContentPane","Sage/Data/WritableSDataStore","Sage/Data/WritableStore","Sage/UI/SDataLookup","dojo/i18n","dojo/_base/lang","Sage/Utility","Sage/UI/ImageButton","Sage/UI/Dialogs","Sage/Utility/_LocalStorageMixin","dojo/i18n!./nls/EditableGrid","Sage/UI/ToolBarLabel","dojo/parser","dojo/dom-construct","dojo/_base/declare","dojo/_base/array"],function(_19f5,_19f6,_19f7,_19f8,_19f9,_19fa,_19fb,i18n,_19fc,_19fd,_19fe,_19ff,_1a00,_1a01,_1a02,_1a03,_1a04,_1a05,array){var _1a06=_1a05("Sage.UI.EditableGrid",[_19f5,_1a00],{recordCountLabel:null,STORE_KEY_COLUMN_SIZE:"_COLUMN_UNIT_WIDTH_",STORE_NS:"SAGE_UI_EDITABLEGRID",STORE_KEY_SORT:"_SORT_INFO_",lookupControl:null,mode:"",region:"center",_dataChangeConnections:[],_registeredWidgets:null,constructor:function(opts){this.mode=_19fd.getModeId();if(opts.storeOptions&&opts.storeOptions.isInsertMode){this.mode="insert";}this._dataChangeConnections=[];this._registeredWidgets=[];},_setModeAttr:function(mode){if(this.mode!==mode){this.mode=mode;if(!this.store){return;}if(((mode==="insert")&&(this.store.declaredClass!=="Sage.Data.WritableStore"))||((mode!=="insert")&&(this.store.declaredClass!="Sage.Data.WritableSDataStore"))){this._replaceStore();}}},_getModeAttr:function(){return this.mode;},onBlur:function(){if(this.edit&&this.edit.isEditing()){this.edit.apply();}},postMixInProperties:function(){dojo.mixin(this,_1a01);dojo.mixin(this,i18n.getLocalization("dijit","common"));this.setEditable();if(!this.storeOptions){this.storeOptions={};}this.ensureValue(this.storeOptions,"pagesize",this.rowsPerPage||20);this.ensureValue(this,"singleClickEdit",true);if(typeof this.contextualCondition==="function"){this.query={fn:this.contextualCondition,scope:this};}else{if(typeof this.contextualCondition==="object"){if(this.contextualCondition.fn){this.ensureValue(this.contextualCondition,"scope",this);this.query=this.contextualCondition;}}}this.structure=[{defaultCell:_19fc.mixin({defaultValue:""},this.columnDefaults),cells:this.columns}];function _1a07(item,list){for(var i=0;i<list.length;i++){if(item===list[i]){return;}}list.push(item);}if((this.tabId)&&(this.tabId!=="")){this.addToolsToWorkspaceToolbar();this.currentEntityId=_19fd.getCurrentEntityId();}else{this.createOwnToolbar();}this._setUserPrefColumnWidths();var cols=this.columns,sel,i,p,inc,parts,_1a08,field;if(!this.store){sel=this.storeOptions.select||[];for(i=0;i<sel.length;i++){sel[i]=sel[i].replace(/\./g,"/");}inc=this.storeOptions.include||[];for(i=0;i<cols.length;i++){if(cols[i].field){field=cols[i].field;_1a07(field.replace(/\./g,"/"),sel);}if(cols[i].field.indexOf(".")>0){parts=cols[i].field.split(".");_1a08="";for(p=0;p<parts.length-1;p++){_1a08+=parts[p];_1a07(_1a08,inc);_1a08+="/";}}}this.store=this.getStore();this.markClean();}else{sel=this.store.select=this.store.select||[];inc=this.store.include=this.store.include||[];for(i=0;i<sel.length;i++){sel[i]=sel[i].replace(/\./g,"/");}for(i=0;i<cols.length;i++){if(cols[i].field){field=cols[i].field;_1a07(field.replace(/\./g,"/"),sel);}if(cols[i].field.indexOf(".")>0){parts=cols[i].field.split(".");_1a08="";for(p=0;p<parts.length-1;p++){_1a08+=parts[p];_1a07(_1a08,inc);_1a08+="/";}}}}this._setSortInfo();this.inherited(arguments);},postCreate:function(){dojo.connect(this,"onKeyDown",this.customKeyDown);dojo.connect(this,"onResizeColumn",this._onResizeColumn);dojo.subscribe("Sage/events/TabWorkspace/MIDDLE_AREA_DROP",this,this._setMiddleAreaHeight);this.connect(this,"_onNew",this.showLoading);this.connect(this.scroller,"scroll",this._onScroll);dojo.connect(this,"onResizeColumn",this._onScroll);this.setupHeader();this.inherited(arguments);},showLoading:function(){this.showMessage(this.loadingMessage);this._clearData();this.markClean();},headerTemplate:new Simplate(["<div>",'<div id="{%= $.id %}_HeaderBar"  data-dojo-type="dijit.layout.ContentPane" gutters="false"  region="top" ','style="{%= $.headerStyle %}" class="editable-grid-hbar">','<div class="editable-grid-hbar-left"></div>','<div class="editable-grid-hbar-center"></div>','<div class="editable-grid-hbar-right"><div id="{%= $.gridNodeId %}_recordCountLabel"></div></div>',"</div>","</div>"]),setupHeader:function(){this.recordCountLabel=new _1a02();this.recordCountLabel.set("label",dojo.string.substitute(this.recordCountFormatString,this._getRecordCount()));var _1a09=this.headerTemplate.apply(this);_1a09=dojo.toDom(_1a09);this.headerContentPane=_1a03.parse(_1a09);var _1a0a=dijit.byId(this.gridNodeId);_1a0a.addChild(this.headerContentPane[0]);dojo.place(this.recordCountLabel.domNode,this.gridNodeId+"_recordCountLabel","replace");},resetContextualCondition:function(_1a0b){if(typeof _1a0b==="function"){this.query={fn:_1a0b,scope:this};}else{if(typeof _1a0b==="object"){if(_1a0b.fn){this.ensureValue(_1a0b,"scope",this);this.query=_1a0b;}}}this.contextualCondition=_1a0b;},_getRecordCount:function(){var _1a0c,_1a0d,_1a0e,count;_1a0c=this.scroller;count=_1a0c.rowCount;if(count<=0){_1a0d=0;_1a0e=0;count=0;}else{_1a0d=(_1a0c.firstVisibleRow===0)?1:_1a0c.firstVisibleRow+1;_1a0e=(_1a0c.lastVisibleRow>=_1a0c.rowCount)?_1a0c.rowCount:_1a0c.lastVisibleRow;}return[_1a0d,_1a0e,count];},_onScroll:function(inTop){if(this.recordCountLabel){this.recordCountLabel.set("label",dojo.string.substitute(this.recordCountFormatString,this._getRecordCount()));}},_setMiddleAreaHeight:function(data){var _1a0f=["#",data.tab.ElementId," #",this.id].join("");var self=dojo.query(_1a0f)[0];if(self){var _1a10=["#",data.tab.ElementId," .tws-tab-view-body"].join("");var _1a11=dojo.query(_1a10)[0];dojo.style(_1a11,"height","10px");TabControl.setViewBodyHeight();}},_setUserPrefColumnWidths:function(){var self=this;dojo.forEach(this.columns,function(col){if(col&&col.field){var key=self._getColumnSizeKey(col),value=self.getFromLocalStorage(key,self.STORE_NS);if(value){col.width=value;}}});},_getColumnSizeKey:function(cell){var _1a12=cell.field.replace(/[\.\$]/g,"_"),id=[this.id,"_",this.STORE_KEY_COLUMN_SIZE,_1a12].join("");return id;},_onResizeColumn:function(_1a13){var cell=this.getCell(_1a13),value=cell.unitWidth,key=this._getColumnSizeKey(cell);this.saveToLocalStorage(key,value,this.STORE_NS);},listenForPageSave:function(){var _1a14=Sage.Services.getService("ClientBindingManagerService");if(_1a14){_1a14.addListener(_1a14.ON_SAVE,this.saveChanges,this);}},removePageSaveListener:function(){var _1a15=Sage.Services.getService("ClientBindingManagerService");if(_1a15){_1a15.removeListener(_1a15.ON_SAVE,this.saveChanges);}},setEditable:function(){var _1a16=true,i;if(this.appliedSecurity){var svc=Sage.Services.getService("RoleSecurityService");if(svc){_1a16=svc.hasAccess(this.appliedSecurity);}}if(this.readOnly){_1a16=false;}if(!_1a16){for(i=0;i<this.columns.length;i++){if(this.columns[i].editable){this.columns[i].editable=false;}}this.editable=false;}else{for(i=0;i<this.columns.length;i++){if(this.columns[i].editable){this.editable=true;break;}}}},onHeaderCellClick:function(e){var r=true;if(this.store.dirtyDataCache.isDirty){var s=Sage.Services.getService("ClientBindingManagerService");r=confirm(s._PageExitWarningMessage);}if(this.columns[e.cell.index].sortable===false||!r||this.mode==="insert"){dojo.stopEvent(e);}else{this.inherited(arguments);var _1a17=this.getSortProps();if(_1a17&&_1a17.length>0){var _1a18=_1a17[0];_1a18.cellIndex=e.cell.index;this.saveToLocalStorage(this.STORE_KEY_SORT+this.id,_1a18,this.STORE_NS);}}},_setSortInfo:function(){var key=this.STORE_KEY_SORT+this.id;var _1a19=this.getFromLocalStorage(key,this.STORE_NS);if(_1a19){if(_1a19.descending){this.sortInfo=(_1a19.cellIndex+1)*-1;}else{this.sortInfo=_1a19.cellIndex+1;}}},ensureValue:function(obj,key,_1a1a){obj[key]=obj[key]||_1a1a;},amIInATab:function(){if(this.context&&this.context.workspace){return(this.context.workspace.indexOf("TabWorkspace")>-1);}return false;},isMyTabVisible:function(){if(this.amIInATab()&&window.TabControl){return window.TabControl.getState().isTabVisible(this.tabId);}return true;},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.mode!=="insert"){this.listenForPageSave();}if(this.context&&this.context.workspace){if(this.context.workspace.indexOf("TabWorkspace")<=-1){dojo.style(dojo.byId(this.id+"_Container"),"height","300px");var main=dijit.byId(this.gridNodeId);main.resize();}}if(this.amIInATab()&&this.isMyTabVisible()){var _1a1b=["#","element_",this.tabId," .formtable"].join("");var _1a1c=dojo.query(_1a1b)[0];if(_1a1c){var _1a1d=dojo.byId(this.id+"_Container");if(!_1a1d){_1a1d=dijit.byId(this.id).getParent();_1a1d=_1a1d.domNode;}dojo.style(_1a1d,"height","300px");}}},destroy:function(){if(this.lookupControl){this.lookupControl.destroy(false);}if(this.toolbar){this.toolbar.destroy(false);}if(this.grid){this.grid.destroy(false);}if(this.store&&this.store.destroy){this.store.destroy(false);}if(this._registeredWidgets){array.forEach(this._registeredWidgets,function(item){item.destroy(false);});this._registeredWidgets=null;}this.removePageSaveListener();this.inherited(arguments);},_replaceStore:function(){dojo.forEach(this._dataChangeConnections,function(_1a1e){dojo.disconnect(_1a1e);});if(this.store&&this.store.destroy){this.store.destroy(false);}this.store=false;this.store=this.getStore();},getStore:function(){if(this.store){return this.store;}this.storeOptions["isInsertMode"]=(this.mode==="insert");var store=(this.mode!=="insert")?new _19f9(this.storeOptions):new _19fa(this.storeOptions);if(this.onDataChange){this._dataChangeConnections.push(dojo.connect(store,"onSet",this.onDataChange));}if(store.onDataChange){this._dataChangeConnections.push(dojo.connect(store,"setValue",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"saveNewEntity",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"deleteItem",store.onDataChange));this._dataChangeConnections.push(dojo.connect(store,"createItem",store.onDataChange));}this._dataChangeConnections.push(dojo.connect(store,"onSet",this,function(_1a1f,_1a20,_1a21,_1a22){if(this.mode!=="insert"&&_1a22){if(this.edit.info.cell&&this.edit.info.cell.widget&&this.edit.info.cell.widget.returnObject===true){if(_1a21.$key!==_1a22.$key){this.markDirty();}}else{if(_1a21!==_1a22){this.markDirty();}}}}));return store;},customKeyDown:function(e){this.applyEditOnEnter(e);this.navigateOnKeyDown(e);},navigateOnKeyDown:function(e){},applyEditOnEnter:function(e){if(e.charOrCode==13||e.keyCode==13){this.doApplyEdit();this.edit.apply();dojo.stopEvent(e);}},createOwnToolbar:function(){var _1a23=Sage.Services.getService("RoleSecurityService");var _1a24=dijit.byId(this.gridNodeId);this.toolbar=new _19f6({"class":"right-tools","region":"top"});_1a24.addChild(this.toolbar);for(var i=0;i<this.tools.length;i++){var tool=this.tools[i];if(tool.appliedSecurity&&tool.appliedSecurity!==""){if((_1a23)&&(!_1a23.hasAccess(tool.appliedSecurity))){continue;}}var btn=false;if(typeof tool==="string"){switch(tool){case"add":btn=new _19fe({imageClass:"icon_plus_16x16",tooltip:this.addText,id:this.id+"_addBtn",onClick:_19fc.hitch(this,function(){this.addNew();})});break;case"delete":btn=new _19fe({imageClass:"icon_Delete_16x16",tooltip:this.deleteText,id:this.id+"_delBtn",onClick:_19fc.hitch(this,function(){this.deleteSelected();})});break;case"save":btn=new _19fe({imageClass:"icon_Save_16x16",tooltip:this.saveText,id:this.id+"_saveBtn",onClick:_19fc.hitch(this,function(){this.saveChanges();})});break;case"cancel":btn=new _19fe({imageClass:"icon_Reset_16x16",tooltip:this.cancelText,id:this.id+"_cancelBtn",onClick:_19fc.hitch(this,function(){this.cancelChanges();})});break;}}else{if((tool.type)&&(tool.type==="Sage.UI.SDataLookup")){var conf=tool.controlConfig||tool;btn=new _19fb(conf);this.lookupControl=btn;}else{btn=new _19fe({icon:tool.icon||"",imageClass:tool.imageClass||"",id:tool.id,onClick:_19fc.hitch(tool.scope||this,tool.handler),tooltip:tool.alternateText||tool.tooltip});}}if(btn){this.toolbar.addChild(btn);btn=false;}}this.toolbar.startup();},addToolsToWorkspaceToolbar:function(){if(this.readOnly){return;}this.dirtyDataMsgID=this.tabId+"_dirtydatamsg";var _1a25=_1a04.create("span",{"class":"grid-unsaveddata-msg","id":this.dirtyDataMsgID,"style":"display:none;","content":(this.editable)?this.unsavedDataText:""});var _1a26,_1a27;switch(this.context.workspace){case"Sage.Platform.WebPortal.Workspaces.Tab.TabWorkspace":if(this.mode!=="insert"){var elem=dojo.query("#"+"element_"+this.tabId+" td.tws-tab-view-title");if(elem){dojo.place(_1a25,elem[0]);}}_1a27=["element_",this.tabId].join("");_1a26=dojo.query(["#",_1a27," td.tws-tab-view-tools-right"].join(""));break;case"Sage.Platform.WebPortal.Workspaces.MainContentWorkspace":if(this.mode!=="insert"){dojo.place(_1a25,dojo.query("#"+this.tabId+" span.mainContentHeaderTitle")[0]);}_1a27=this.tabId;_1a26=dojo.query("#"+_1a27+" td.mainContentHeaderToolsRight");break;case"Sage.Platform.WebPortal.Workspaces.DialogWorkspace":_1a26=dojo.query("td.dialog-tools-right");break;default:}var _1a28=Sage.Services.getService("RoleSecurityService");var _1a29=0,_1a2a,_1a2b;for(var i=0;i<this.tools.length;i++){_1a2a="";var tool=this.tools[i];if(typeof tool.mergeControlId!=="undefined"&&tool.mergeControlId.length!==0){_1a2b=dojo.query("[id$="+tool.mergeControlId+"]",dojo.byId("element_"+this.tabId))[0];_1a2a=tool.mergePosition.toLowerCase();}if(!_1a2b){_1a2b=_1a26[0];_1a2a="";}if(this.mode==="insert"&&!tool.displayInInsert){continue;}if(tool.appliedSecurity&&tool.appliedSecurity!==""){if((_1a28)&&(!_1a28.hasAccess(tool.appliedSecurity))){continue;}}if(typeof tool==="string"){switch(tool){case"add":var addid=this.id+"_addBtn";var _1a2c=new _19fe({id:addid,imageClass:"icon_plus_16x16",onClick:_19fc.hitch(this,this.addNew),tooltip:this.addText});this._registeredWidgets.push(_1a2c);dojo.place(_1a2c.domNode,_1a26[0],_1a29);break;case"delete":var delid=this.id+"_delBtn";var _1a2d=new _19fe({id:delid,tooltip:this.deleteText,imageClass:"icon_Delete_16x16",onClick:_19fc.hitch(this,this.deleteSelected)});this._registeredWidgets.push(_1a2d);dojo.place(_1a2d.domNode,_1a26[0],_1a29);break;case"save":var _1a2e=this.id+"_saveBtn";var _1a2f=new _19fe({id:_1a2e,tooltip:this.saveText,imageClass:"icon_Save_16x16",onClick:_19fc.hitch(this,this.saveChanges)});this._registeredWidgets.push(_1a2f);dojo.place(_1a2f.domNode,_1a26[0],_1a29);break;case"cancel":var cclid=this.id+"_cancelBtn";var _1a30=new _19fe({id:cclid,tooltip:this.cancelText,imageClass:"icon_Reset_16x16",onClick:_19fc.hitch(this,this.cancelChanges)});this._registeredWidgets.push(_1a30);dojo.place(_1a30.domNode,_1a26[0],_1a29);break;}}else{if((tool.type)&&(tool.type==="Sage.UI.SDataLookup")){var conf=tool.controlConfig||tool;var lup=new _19fb(conf);dojo.place(lup.domNode,_1a2b,_1a29);this.lookupControl=lup;}else{var _1a31=new _19fe({id:tool.id,icon:tool.icon||"",imageClass:tool.imageClass||"",onClick:_19fc.hitch(tool.scope||this,tool.handler),tooltip:tool.alternateText||tool.tooltip});this._registeredWidgets.push(_1a31);dojo.place(_1a31.domNode,_1a2b,(_1a2a.length>0)?_1a2a:_1a29);}}_1a29++;}},addNew:function(args){if(this.store){this.store.newItem(args);}},addAssociatedItems:function(items,_1a32,_1a33,_1a34){var grid=this;if(_19fd.getModeId()!=="insert"&&this.store.dirtyDataCache.isDirty){_19ff.raiseQueryDialog("Saleslogix",this.dirtyDataMessage,function(_1a35){if(_1a35){grid.addSelectedItems(items,_1a32,_1a33,_1a34);}},this.okText,this.cancelText);}else{grid.addSelectedItems(items,_1a32,_1a33,_1a34);}},addSelectedItems:function(items,_1a36,_1a37,_1a38){var _1a39=[];var grid=this;for(var i=0;i<items.length;i++){var _1a3a=false;for(var k in grid.store.dataCache){var rec=grid.store.dataCache[k];if(rec[_1a37]&&rec[_1a37].$key==items[i].$key){_1a3a=true;}}if(_1a3a){continue;}var _1a3b={};if(_19fd.getModeId()!=="insert"){_1a3b[_1a36]={$key:_19fd.getCurrentEntityId()};}_1a3b[_1a37]={};_19fd.extend(_1a3b[_1a37],items[i]);delete _1a3b.$key;delete _1a3b.$name;delete _1a3b.$url;_1a39.push(_1a3b);}if(_1a39.length>0){grid.createItems(_1a39,function(){if(_19fd.getModeId()!=="insert"){__doPostBack("MainContent","");}});}if(_1a38){_1a38.lookupDialog.hide();}},createItems:function(items,_1a3c){if(dojo.isArray(items)){var store=this.store;var _1a3d=items.length;if(typeof console!=="undefined"){}var _1a3e=function(arg1){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{if(arg1&&typeof arg1!=="undefined"&&typeof arg1.$httpStatus==="string"){}else{}}}if(this.currentCount===this.totalCount){this.grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(this.grid);}}};var scope={grid:this,totalCount:_1a3d,currentCount:0,onResponse:_1a3e,onComplete:_1a3c||null};for(var i=0;i<items.length;i++){store.createItem(items[i],scope);}}else{_19ff.showError(this.createItemsInvalidArrayText);}},deleteSelected:function(_1a3f){var _1a40=this.selection.getSelected();if(_1a40.length<1){_19ff.showError(this.noSelectionsText);return;}if(this.mode!=="insert"){if(!this.store._checkPageExitWarningMessage()){return;}}var self=this;var opts={title:"Saleslogix",query:dojo.string.substitute(this.confirmDeleteFmtTxt,[_1a40.length]),callbackFn:function(_1a41){self.deleteCallback(_1a41,_1a3f,_1a40);},yesText:this.buttonOk,noText:this.buttonCancel};_19ff.raiseQueryDialogExt(opts);},deleteCallback:function(_1a42,_1a43,_1a44){if(_1a42){var grid=this;var store=this.store;var _1a45=0;for(var i=0;i<_1a44.length;i++){if(this.store.isItem(_1a44[i])){_1a45++;}}grid.selection.clear();this.showLoading();var _1a46=function(arg1,arg2){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{}}if(this.currentCount===this.totalCount){grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(grid);}}};var scope={grid:grid,totalCount:_1a45,currentCount:0,onResponse:_1a46,onComplete:_1a43||null};for(i=0;i<_1a44.length;i++){if(store.isItem(_1a44[i])){store.deleteItem(_1a44[i],scope);}}if(!this.storeOptions.hasOwnProperty("clearStoreCacheOnDelete")||this.storeOptions.clearStoreCacheOnDelete===true){store.clearCache();}}},cancelChanges:function(){if(this.store&&this.store.revert){this.store.revert();this.markClean();this.refresh();}},saveChanges:function(_1a47){this.onBlur();if(!this.store.save){return;}var _1a48=0;for(var key in this.store.dirtyDataCache){if(key!=="isDirty"){var _1a49=this.store.dirtyDataCache[key];if(this.store.isItem(_1a49)){_1a48++;}}}var _1a4a=function(arg1,arg2){this.currentCount=this.currentCount+1;if(typeof console!=="undefined"){if(arg1&&typeof arg1!=="undefined"&&arg1.getResponseHeader){}else{if(arg1&&typeof arg1!=="undefined"&&typeof arg1.$httpStatus==="string"){}else{}}}if(this.currentCount===this.totalCount){this.grid.markClean();this.grid.refresh();if(typeof this.onComplete==="function"){this.onComplete.call(this.grid);}}};var scope={grid:this,totalCount:_1a48,currentCount:0,onResponse:_1a4a,onComplete:_1a47||null};this.store.save(scope);},markClean:function(){if(this.dirtyDataMsgID){var _1a4b=dojo.byId(this.dirtyDataMsgID);if(_1a4b){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}var _1a4c=Sage.Services.getService("ClientBindingManagerService");if(_1a4c){_1a4c.clearDirtyAjaxItem(this.id);}}},markDirty:function(){var node=dojo.byId(this.dirtyDataMsgID);if(node){dojo.style(node,"display","inline");}var _1a4d=Sage.Services.getService("ClientBindingManagerService");if(_1a4d){_1a4d.addDirtyAjaxItem(this.id);}},refresh:function(){if(!this.scroller){return;}this._refresh();this.onRefresh();},onRefresh:function(){}});return _1a06;});},"Sage/TaskPane/ContactTasksTasklet":function(){define("Sage/TaskPane/ContactTasksTasklet",["dojo/i18n!./nls/ContactTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/MainView/Contact/ContactUserAssociationEditor","dojo/_base/declare","Sage/UI/Dialogs"],function(_1a4e,_1a4f,_1a50,_1a51,_1a52,_1a53,_1a54,_1a55){var _1a56=_1a54("Sage.TaskPane.ContactTasksTasklet",[_1a4f,_1a50],{taskItems:[],oAuthProviders:null,endPointId:"",constructor:function(){dojo.mixin(this,_1a4e);this.taskItems=[{taskId:"Associate Contact",type:"Link",displayName:this.associateContactTitle,clientAction:"contactTasksActions.associateContact();",securedAction:"Entities/Contact/AssociateContact"},{taskId:"Disassociate Contact",type:"Link",displayName:this.disAssociateContactTitle,clientAction:"contactTasksActions.disAssociateContact();",securedAction:"Entities/Contact/DisAssociateContact"}];},associateContact:function(){var self=this;this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){_1a55.showError(this.singleSelectionErrorMessage);}else{if(this._selectionInfo.selectionCount>1){_1a55.showError(this.multipleSelectionErrorMessage);}else{var _1a57={"selectionInfo":this._selectionInfo,"action":"associate"};this._setupStore();this._contactUserStore.fetch({predicate:"ContactId eq '"+this._selectionInfo.selectedIds[0]+"'",onComplete:function(_1a58){_1a55.showError(self.associationExistsMessage);},onError:function(){self.prepareSelectedRecords(this.associateContactActionItem(_1a57));},scope:this});}}},disAssociateContact:function(){this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){_1a55.showError(this.noSelectionErrorMessage);}else{this.prepareSelectedRecords(this.confirmDisassociate(this));}},confirmDisassociate:function(self){return function(){var _1a59=self.confirmDisAssociate;if(self._selectionInfo.selectionCount>1){_1a59=self.confirmDisAssociateMultiple;}_1a55.raiseQueryDialog(self.disAssociateDialogTitle,dojo.string.substitute(_1a59,[self._selectionInfo.selectionCount]),function(_1a5a){self.disAssociateActionItem(_1a5a,self);},self.okButtonText,self.cancelButtonText);};},disAssociateActionItem:function(_1a5b,self){if(_1a5b){self.getSelectionInfo();var _1a5c=this.selectionInfo.selectedIds.join();this._removeContactUsers(_1a5c,self._successfulContactUserDelete,self);}},_removeContactUsers:function(_1a5d,_1a5e,scope){var _1a5f=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _1a60=new Sage.SData.Client.SDataServiceOperationRequest(_1a5f).setResourceKind("ContactUsers").setOperationName("RemoveContactUserAssociations");var entry={"$name":"RemoveContactUserAssociations","request":{"ContactUserId":null,"contactIds":_1a5d,"userIds":null}};_1a60.execute(entry,{success:function(){},failure:function(){},scope:scope||this});},_successfulContactUserDelete:function(){},_failedContactUserDelete:function(){},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1a51({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},associateContactActionItem:function(_1a61,_1a62){return function(){var _1a63=dijit.byId("dlgContactUserAssociation");if(!_1a63){_1a63=new _1a53(_1a61,_1a62);}else{_1a63.setSelectionInfo(_1a61,_1a62);}_1a63.show();};}});return _1a56;});},"Sage/MainView/ActivityManager":function(){define("Sage/MainView/ActivityManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/Utility/Activity","Sage/MainView/ActivityMgr/ActivityGroupContextService","Sage/Services/ActivityService","Sage/MainView/ActivityMgr/FilterConfigurationProvider","dojo/i18n!./nls/ActivityManager","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","require","Sage/Extensions/Activity/ActivityListCustomTabs/CustomTabsConfig","Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig","Sage/Extensions/ActivityRequirements"],function(_1a64,_1a65,_1a66,_1a67,_1a68,_1a69,_1a6a,_1a6b,_1a6c,lang,_1a6d,_1a6e,_1a6f,_1a70){var _1a71=_1a6c("Sage.MainView.ActivityManager",_1a64,{_nlsResources:false,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_groupContextService:false,_tabNameCache:{},_mainViewName:"ActivityManager",store:false,custTabs:{},custTabConfigs:null,configTypes:null,listPanelOverrides:{},listPanelOverrideConfigs:null,_custTabConfigType:{},constructor:function(_1a72){this._nlsResources=_1a6b;this._currentUserId="x";var _1a73=Sage.Services.getService("ClientGroupContext");if(!_1a73||_1a73.declaredClass!=="Sage.MainView.ActivityMgr.ActivityGroupContextService"){Sage.Services.removeService("ClientGroupContext");_1a73=new _1a68();Sage.Services.addService("ClientGroupContext",_1a73);}var ctx=_1a73.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;var _1a74=Sage.Services.getService("ClientContextService");if(_1a74){if(_1a74.containsKey("userID")){this._currentUserId=_1a74.getValue("userID");}}this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:this._nlsResources.titleFmtString||"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");lang.mixin(this.custTabs,_1a6f);lang.mixin(this.listPanelOverrides,_1a70);this.configTypes=_1a73.groupConfigTypes;if(this.listPanelOverrides&&this.listPanelOverrides.overrideConfigs){this.listPanelOverrideConfigs=this.listPanelOverrides.overrideConfigs;for(var x=0;x<this.listPanelOverrideConfigs.length;x++){this._overrideTab(this.listPanelOverrideConfigs[x].listId,this.listPanelOverrideConfigs[x].newConfig,_1a73.groupConfigTypes);}}if(this.custTabs&&this.custTabs.configTypes){this.custTabConfigs=this.custTabs.configTypes;for(var y=0;y<this.custTabConfigs.length;y++){this._addCustomTab(_1a73.groupConfigTypes,this.custTabConfigs[y]);}}},_setListPanelConfig:function(){var _1a75=Sage.Services.getService("ClientGroupContext");if(_1a75){this.listPanelConfiguration=_1a75.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}return;},_getListPanelConfig:function(){this._setListPanelConfig();return this.listPanelConfiguration;},requestConfiguration:function(_1a76){if(_1a76.success){_1a76.success.call(_1a76.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_1a77){if(_1a77.success){_1a77.success.call(_1a77.scope||this,this.titlePaneConfiguration,this);}},onConfigurationChange:function(obj){},onTitlePaneConfigurationChange:function(){},_setUIForNewTab:function(tabId,_1a78){this._currentTabId=tabId;this._currentTabDescription=_1a78;},_onCurrentGroupChanged:function(args){var _1a79=args["current"];if(!_1a79){var _1a7a=Sage.Services.getService("ClientGroupContext");_1a79=_1a7a.getContext();}if(dijit.byId("GroupTabs").selectedChildWidget.id!==_1a79.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_1a79.CurrentGroupID);}},_onTabSelected:function(tab){var _1a7b=Sage.Services.getService("ClientGroupContext");var id=tab.id||tab;var _1a7c=_1a7b.getKeyField(id);if(_1a7b){var ctx=_1a7b.getContext();if(ctx.CurrentGroupID===id){return;}this._setUIForNewTab(id,tab.title);_1a7b.setCurrentGroup(id,tab.title,_1a7c);}},_getTabsConfig:function(){var _1a7d={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _1a7d;},_getStaticTabs:function(){var _1a7e=Sage.Services.getService("ClientGroupContext");var _1a7f=_1a7e.getStaticTabs();return _1a7f;},_getMenuConfig:function(){return false;},_overrideTab:function(_1a80,_1a81,_1a82){this._dynamicRequire(_1a81,function(_1a83){for(var i=0;i<_1a82.length;i++){if(_1a82[i].key.toUpperCase()===_1a80.toUpperCase()){_1a82[i].configProviderType=_1a83;}}});},_addCustomTab:function(_1a84,_1a85){this._dynamicRequire(_1a85.configProviderType,function(_1a86){_1a85.configProviderType=_1a86;_1a84.push(_1a85);});},_dynamicRequire:function(_1a87,_1a88){var _1a89=new _1a6d();_1a6e([_1a87],function(_1a8a){_1a89.resolve(_1a8a);});_1a89.then(function(_1a8b){_1a88(_1a8b);},function(err){console.error("Error: _dynamicRequire :  Attempted to add an unknown module type .",err);});}});return _1a71;});},"Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange":function(){define("Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange",["dojo/_base/declare","Sage/UI/SLXPreviewGrid/Filter/DateRange"],function(_1a8c,_1a8d){var _1a8e=_1a8c("Sage.UI.SLXPreviewGrid.Filter.ActivityDateRange",[_1a8d],{getQuery:function(){var query=this.inherited(arguments);return query.replace(/Timeless/g,"Activity.Timeless");}});return _1a8e;});},"Sage/MainView/ReportMgr/Crystal/nls/DateRangeParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/DateRangeParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1a8f,lang){var nls={root:{txtNoLowerValue:"No lower value",txtNoUpperValue:"No upper value",txtIncludeThisValue:"Include this value",txtFrom:"From:",txtTo:"To:",txtPleaseSpecifyFromValue:"Please specify From value",txtPleaseSpecifyToValue:"Please specify To value",txtPleaseSpecifyDateBetween:"Please specify a date value between {0} and {1}.",txtPleaseSpecifyDateLesser:"Please specify a date value less than or equal to {0}.",txtPleaseSpecifyDateGreater:"Please specify a date value greater than or equal to {0}.",txtFromMustBeLessThanOrEqualToTo:"From value must be less than or equal to To value."}};return lang.mixin(_1a8f,nls);});},"Sage/MainView/ReportMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1a90,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_1a90,nls);});},"Sage/UI/Alarms/ActivityAlarm":function(){define("Sage/UI/Alarms/ActivityAlarm",["Sage/_Templated","dijit/_Widget","dijit/form/CheckBox","Sage/Utility/Activity","Sage/UI/Alarms/AlarmCountDown","Sage/Link","Sage/UI/Controls/EntityInfoToolTip","dojo/i18n","dojo/i18n!./nls/ActivityAlarm","dojo/_base/declare"],function(_1a91,_1a92,_1a93,_1a94,_1a95,link,_1a96,i18n,_1a97,_1a98){var _1a99=_1a98("Sage.UI.Alarms.ActivityAlarm",[_1a92,_1a91],{widgetsInTemplate:true,userActivity:null,selected:false,key:"",_tooltips:[],widgetTemplate:new Simplate(['<div class="alarm-item">','<table style="width:100%" dojoAttachPoint="_item" dojoAttachEvent="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">','<col width="50px" />','<col width="50%" />','<col width="50%" />','<col width="80px" />',"<tr>",'{% var imageClass = Sage.Utility.Activity.getActivityImageClass($.userActivity.Activity.Type, "medium"); %}','<td class="alarm-icon">','<div class="dijitIcon dijitMenuItemIcon Global_Images icon24x24 {%= imageClass %}" title="{%= $.cleanText($.userActivity.Activity.Description) %}"></div>','<input type="checkbox" data-dojo-type="dijit.form.CheckBox" size="30px" dojoAttachPoint="_checkbox" />',"</td>",'<td class="alarm-content">',"{% var desc = $.userActivity.Activity.Description;if (!desc) { desc = Sage.Utility.Activity.getActivityTypeName($.userActivity.Activity.Type); } %}",'<div class="alarm-description">','{% if ($.userActivity.Activity.Recurring) { %}<div class="Global_Images icon16x16 icon_recurring" title="{%= $.recurringText %}" > </div>&nbsp;&nbsp;{% } %}','{% if ($.userActivity.Status === "asUnconfirmed") { %}',"<a href=\"javascript:Sage.Link.confirmActivityFor('{%= $.userActivity.Activity.$key %}', '{%= $.userActivity.User.$key %}')\">{%= desc %}</a>","{% } else { %}","<a href=\"javascript:Sage.Link.editActivity('{%= $.userActivity.Activity.$key %}', {%= $.userActivity.Activity.Recurring %})\">{%= desc %}</a>","{% } %}","</div>","<div>{%= Sage.Utility.Activity.formatActivityStartDate($.userActivity.Activity.StartDate) %}</div>",'{% if (($.userActivity.Activity.LeadId) && ($.userActivity.Activity.LeadId.trim() !== "")) { %}','<div id="{%= $.userActivity.Activity.$key %}_lead" dojoAttachPoint="_leadnode">','{%= $.leadText %}: <a href="lead.aspx?entityid={%= $.userActivity.Activity.LeadId %}">{%= $.userActivity.Activity.LeadName %}</a>',"</div>",'{% if ($.userActivity.Activity.AccountName !== "") { %}',"<div>{%= $.companyText %}: {%= $.userActivity.Activity.AccountName %}</div>","{% } %}","{% } else { %}",'{% if ($.userActivity.Activity.ContactName !== "") { %}','<div id="{%= $.userActivity.Activity.$key %}_con" dojoAttachPoint="_connode">','{%= $.contactText %}: <a href="Contact.aspx?entityid={%= $.userActivity.Activity.ContactId %}">{%= $.userActivity.Activity.ContactName %}</a>',"</div>","{% } %}",'{% if ($.userActivity.Activity.AccountName !== "") { %}','<div id="{%= $.userActivity.Activity.$key %}_acc" dojoAttachPoint="_accnode">','{%= $.accountText %}: <a href="Account.aspx?entityid={%= $.userActivity.Activity.AccountId %}">{%= $.userActivity.Activity.AccountName %}</a>',"</div>","{% } %}","{% } %}",'</td><td class="alarm-content">',"{% if ($.userActivity.Activity.Location) { %}",'<div id="{%= $.userActivity.Activity.$key %}_Location" dojoAttachPoint="_location">',"{%= $.locationText %}: {%= $.userActivity.Activity.Location %}&nbsp;","</div>","{% } %}","{% if ($.userActivity.Activity.OpportunityName) { %}",'<div id="{%= $.userActivity.Activity.$key %}_opp" dojoAttachPoint="_oppnode">','{%= $.opportunityText %}: <a href="Opportunity.aspx?entityid={%= $.userActivity.Activity.OpportunityId %}">{%= $.userActivity.Activity.OpportunityName %}</a>',"</div>","{% } %}","{% if ($.userActivity.Activity.TicketNumber) { %}",'<div id="{%= $.userActivity.Activity.$key %}_tick" dojoAttachPoint="_ticknode">','{%= $.ticketText %}: <a href="Ticket.aspx?entityid={%= $.userActivity.Activity.TicketId %}">{%= $.userActivity.Activity.TicketNumber %}</a>',"</div>","{% } %}","</td>",'<td class="alarm-countdownContainer">','<div data-dojo-type="Sage.UI.Alarms.AlarmCountDown" startDate="{%= $.userActivity.Activity.StartDate %}"></div>',"</td>","</tr>","</table>","</div>"]),constructor:function(){dojo.mixin(this,_1a97);},postCreate:function(){this.inherited(arguments);this._checkbox.set("checked",this.selected);this._setupTooltips();},_setUserActivityAttr:function(ua){this.userActivity=ua;this.key=ua["$key"];},_setupTooltips:function(){if(this.userActivity.Activity.AccountName!==""){this._tooltips.push(new _1a96({connectId:this._accnode,position:["below"],entityName:"accounts",entityId:this.userActivity.Activity.AccountId}));}if(this.userActivity.Activity.ContactName!==""){this._tooltips.push(new _1a96({connectId:this._connode,position:["below"],entityName:"contacts",entityId:this.userActivity.Activity.ContactId}));}if(this.userActivity.Activity.LeadName!==""){this._tooltips.push(new _1a96({connectId:this._leadnode,position:["below"],entityName:"leads",entityId:this.userActivity.Activity.LeadId}));}},closeTooltips:function(){for(var i=0;i<this._tooltips.length;i++){this._tooltips[i].close();}},cleanText:function(str){if(!str){return"";}var _1a9a=new RegExp('[/:"*?<>|\r\n\'"`]+',"g");return str.replace(_1a9a,"");},_onHover:function(){dojo.addClass(this.domNode,"alarm-item-hover");},_onUnhover:function(){dojo.removeClass(this.domNode,"alarm-item-hover");},_onClick:function(){this.selected=!this.selected;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_setSelectedAttr:function(_1a9b){this.selected=_1a9b;this._checkbox.set("checked",this.selected);this._setSelectedStyle();},_getSelectedAttr:function(){return this.selected;},_setSelectedStyle:function(){if(this.selected){dojo.addClass(this.domNode,"alarm-item-selected");}else{dojo.removeClass(this.domNode,"alarm-item-selected");}}});return _1a99;});},"Sage/MainView/ReportMgr/Crystal/nls/DateParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/DateParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1a9c,lang){var nls={root:{txtPleaseSpecifyDateBetween:"Please specify a date value between {0} and {1}.",txtPleaseSpecifyDateLesser:"Please specify a date value less than or equal to {0}.",txtPleaseSpecifyDateGreater:"Please specify a date value greater than or equal to {0}.",txtPleaseSpecifyValue:"Please specify a date value."}};return lang.mixin(_1a9c,nls);});},"Sage/UI/Controls/Email":function(){define("Sage/UI/Controls/Email",["dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","dojox/validate/regexp","dojo/_base/declare","Sage/Utility"],function(_1a9d,_1a9e,_1a9f,_1aa0,_1aa1,_1aa2){var _1aa3=_1aa1("Sage.UI.Controls.Email",[_1a9d,_1a9e],{widgetTemplate:new Simplate(['<div class="email" slxcompositecontrol="true" id="{%= $.id %}" >','<input data-dojo-type="Sage.UI.Controls.TextBox" name="{%= $.name %}" ','data-dojo-props="textWithIcons: {%= $.buttonVisible %}"','dojoAttachPoint="focusNode" type="text" style="" ','hotKey="{%= $.hotKey %}" ','{% if($.disabled === "disabled") { %} ','disabled="disabled" ',"{% } %}",'{% if($.readonly === "readonly") { %} ','readonly="readonly" ',"{% } %}",'{% if ($.disabled !== "disabled") { %} ',' dojoAttachEvent="onChange:_onChange, onDblClick:sendEmail, regExpGen:regExpGen" ',"{% } %}",' tabindex="{%= $.tabIndex %}" ','value="{%= $.email %}" required="{%= $.required %}" ','id="{%= $.id %}_emailText" maxlength="{%= $.maxLength %}" > ','{% if ($.buttonVisible && $.disabled !== "disabled") { %}','<img alt="{%= $.buttonToolTip %}" tabindex="{%= $.tabIndex %}" data-dojo-attach-event="ondijitclick: sendEmail" ','style="padding-left:0;cursor: pointer; vertical-align: left;" ','src="{%= $.buttonImageUrl %}" ','title="{%= $.buttonToolTip %}" id="{%= $.id %}_emailButton"> ',"{% } %}","</div>"]),shouldPublishMarkDirty:true,name:"",autoPostBack:false,displayMode:"",_class:"",textboxToolTip:"",textboxStyle:"",readonly:"",disabled:"",hotKey:"",maxLength:128,buttonVisible:true,buttonImageUrl:"",buttonToolTip:"",buttonStyle:"",required:false,tabIndex:0,email:"",emailId:"",constructor:function(_1aa4){_1aa4.id=_1aa4.emailId;},postCreate:function(){this.formatEmail();this.inherited(arguments);},formatEmail:function(){dojo.style(this.focusNode.focusNode,"color","#000099");},widgetsInTemplate:true,_onChange:function(_1aa5){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.formatEmailChange();},regExpGen:function(){var _1aa6="[^< ]+@[^< ]+\\.+.[^< ]*?";return _1aa6;},formatEmailChange:function(){if(this.email!==this.focusNode.value){this.email=this.focusNode.value;}},sendEmail:function(){var email=this.email;email="mailto:"+email;document.location.href=email;}});return _1aa3;});},"Sage/Library/FolderHandler":function(){define("Sage/Library/FolderHandler",["Sage/Data/SDataServiceRegistry","Sage/Services/RoleSecurityService","Sage/UI/Dialogs","Sage/Utility","dijit/ProgressBar","dojo/i18n","dojo/parser","dojo/string","dojo/_base/lang","dojo/i18n!./nls/FolderHandler"],function(_1aa7,_1aa8,_1aa9,_1aaa,_1aab,i18n,_1aac,_1aad,dLang,nls){Sage.namespace("Library.FolderHandler");dojo.mixin(Sage.Library.FolderHandler,{_getNewRequest:function(){var _1aae=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Library.FolderHandler._system);_1aae.setResourceKind("libraryDirectories");_1aae.setQueryArg("format","json");return _1aae;},_initSecurity:function(){this.can.add=this._roles.hasAccess("Entities/LibraryDirs/Add");this.can.edit=this._roles.hasAccess("Entities/LibraryDirs/Edit");this.can["delete"]=this._roles.hasAccess("Entities/LibraryDirs/Delete");this.can.manage=(this._roles.hasAccess("Administration/Manage/Library")||this._roles.hasAccess("Administration/View"));},_roles:null,_system:null,can:{add:false,edit:false,"delete":false,manage:false},resources:{},init:function(){Sage.Library.FolderHandler._roles=Sage.Services.getService("RoleSecurityService");Sage.Library.FolderHandler._initSecurity();Sage.Library.FolderHandler._system=_1aa7.getSDataService("system");dLang.mixin(Sage.Library.FolderHandler.resources,nls);},addFolder:function(_1aaf,_1ab0,_1ab1,_1ab2){if(!(Sage.Library.FolderHandler.can.add||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1ab3=Sage.Library.FolderHandler._getNewRequest();_1ab3.create({parentId:_1aaf,directoryName:_1ab0},{scope:this,success:function(entry){if(_1ab1&&typeof _1ab1==="function"){_1ab1(entry);}},failure:function(xhr,sdata){if(_1ab2&&typeof _1ab2==="function"){_1ab2(xhr,sdata);}else{_1aaa.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.AddFolderError});}}});},deleteFolder:function(_1ab4,_1ab5,_1ab6){if(!(Sage.Library.FolderHandler.can["delete"]||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1ab7=Sage.Library.FolderHandler._getNewRequest();_1ab7.setResourceSelector("'"+_1ab4+"'");_1ab7["delete"]({},{scope:this,ignoreETag:true,success:function(){if(_1ab5&&typeof _1ab5==="function"){_1ab5();}},failure:function(xhr,sdata){if(_1ab6&&typeof _1ab6==="function"){_1ab6(xhr,sdata);}else{_1aaa.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.DeleteFolderError});}}});},getOpenFolderEtag:function(item){if(item){return item.$etag;}var _1ab8=dijit.byId("libraryTree");var etag=(!(_1ab8.selectedNode)||_1ab8.selectedNode.item.root)?_1ab8.selectedNode.item.root.$etag[0]:_1ab8.selectedNode.item.$etag[0];return etag;},getOpenFolderName:function(){var _1ab9=dijit.byId("libraryTree");return _1ab9.selectedNode.label;},handleDeleteFolderClicked:function(_1aba,event){if(Sage.Library.Manager.getOpenFolderId()==Sage.Library.Manager.getRootId()){Sage.UI.Dialogs.showWarning(Sage.Library.FolderHandler.resources.DontDeleteRoot);return;}var _1abb=Sage.Library.FolderHandler.getOpenFolderName();if(_1abb!==""){var msg=_1aad.substitute(Sage.Library.FolderHandler.resources.DeleteFolderCnfmFmt,[_1abb]);Sage.UI.Dialogs.raiseQueryDialog(Sage.Library.FolderHandler.resources.Confirm,msg,Sage.Library.FolderHandler.handleDeletefolderConfirmed,Sage.Library.FolderHandler.resources.Yes,Sage.Library.FolderHandler.resources.No,"questionIcon");}else{Sage.UI.Dialogs.showInfo(Sage.Library.FolderHandler.resources.PleaseSelectFolder);}},handleDeletefolderConfirmed:function(ok){if(ok){Sage.Library.FolderHandler.deleteFolder(Sage.Library.Manager.getOpenFolderId(),function(){dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleAddFolder:function(_1abc,event){Sage.UI.Dialogs.raiseInputDialog(Sage.Library.FolderHandler.resources.NewFolder,Sage.Library.FolderHandler.resources.EnterFolderName,Sage.Library.FolderHandler.handleAddFolderCallback,Sage.Library.FolderHandler.resources.OK,Sage.Library.FolderHandler.resources.Cancel);},handleAddFolderCallback:function(ok,text){if(ok){var dirid=Sage.Library.Manager.getOpenFolderId();Sage.Library.FolderHandler.addFolder(dirid,text,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleEditFolderName:function(_1abd,event){if(Sage.Library.Manager.getOpenFolderId()==Sage.Library.Manager.getRootId()){Sage.UI.Dialogs.showWarning(Sage.Library.FolderHandler.resources.DontEditRoot);return;}var _1abe=Sage.Library.FolderHandler.getOpenFolderName();Sage.UI.Dialogs.raiseInputDialog(Sage.Library.FolderHandler.resources.NewFolder,Sage.Library.FolderHandler.resources.EnterNewFolderName,Sage.Library.FolderHandler.handleEditFolderNameCallback,Sage.Library.FolderHandler.resources.OK,Sage.Library.FolderHandler.resources.Cancel,_1abe,'[^\\\\/:"*?<>|\r\n]+',Sage.Library.FolderHandler.resources.InvalidFolderName);},handleEditFolderNameCallback:function(ok,text){if(ok){var dirid=Sage.Library.Manager.getOpenFolderId();var etag=Sage.Library.FolderHandler.getOpenFolderEtag();Sage.Library.FolderHandler.renameFolder(dirid,text,etag,function(entry){if(typeof console!=="undefined"){}dojo.publish("/sage/library/manager/libraryDirs/refresh","");});}},handleFolderClicked:function(item,node){var _1abf=dijit.byId("btnDeleteFolder");var _1ac0=dijit.byId("btnEditFolder");if((typeof _1abf!=="undefined")&&(_1abf!==null)&&(_1ac0!==null)){if(item.root){_1abf.set("disabled",true);_1ac0.set("disabled",true);}else{_1abf.set("disabled",false);_1ac0.set("disabled",false);}}dojo.publish("/sage/library/manager/libraryDocuments/refresh",item);},renameFolder:function(_1ac1,_1ac2,etag,_1ac3,_1ac4){if(!(Sage.Library.FolderHandler.can.edit||Sage.Library.FolderHandler.can.manage)){Sage.Library.FolderHandler.showAccessError();return;}var _1ac5=Sage.Library.FolderHandler._getNewRequest();_1ac5.setResourceSelector("'"+_1ac1+"'");_1ac5.update({$etag:etag,directoryId:_1ac1,directoryName:_1ac2},{scope:this,success:function(entry){if(_1ac3&&typeof _1ac3==="function"){_1ac3(entry);}},failure:function(xhr,sdata){if(_1ac4&&typeof _1ac4==="function"){_1ac4(xhr,sdata);}else{if(xhr.readyState==4&&xhr.status==412){Sage.UI.Dialogs.showError(Sage.Library.FolderHandler.resources.FolderUpdateConflictError);}else{_1aaa.ErrorHandler.handleHttpError(xhr,sdata,{message:Sage.Library.FolderHandler.resources.RenameFolderError});}}}});},showAccessError:function(){Sage.UI.Dialogs.showError(Sage.Library.FolderHandler.resources.AccessError);}});Sage.Library.FolderHandler.init();return Sage.Library.FolderHandler;});},"Sage/UI/SummaryFormatterScope":function(){define("Sage/UI/SummaryFormatterScope",["Sage/UI/SummaryContainer","Sage/Data/SummaryViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/lang","dojo/_base/declare"],function(_1ac6,_1ac7,_1ac8,lang,_1ac9){var _1aca=_1ac9("Sage.UI.SummaryFormatterScope",null,{templateLocation:false,queryName:"",idField:"",dataManager:null,requestConfiguration:false,widgets:[],constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1ac7();if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);},formatSummary:function(value,idx){var _1acb,id=idx+"_sum_"+value;if(value===null){return"";}if(this.dataManager===null){this.dataManager=Sage.Services.getService("SummaryViewDataManager");}if(this.dataManager===null){this._setupDataManager();}_1acb=dijit.byId(id);if(_1acb){_1acb.destroy();}_1acb=new _1ac6({id:id,templateLocation:this.templateLocation});this.dataManager.requestData(value,_1acb,this.requestConfiguration);this.widgets[idx]=_1acb;return this.widgets[idx];},preFetchResources:function(){var _1acc=["Sage"];var _1acd=this.templateLocation.split("/");for(var i=0;i<_1acd.length-1;i++){_1acc.push(_1acd[i]);}var path="dojo/i18n!"+_1acc.join("/")+"/nls/"+_1acd[_1acd.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));dojo["cache"]("Sage",this.templateLocation);}});return _1aca;});},"Sage/UI/_TitlePaneConfigProvider":function(){define("Sage/UI/_TitlePaneConfigProvider",["dojo/_base/declare"],function(_1ace){var _1acf=_1ace("Sage.UI._TitlePaneConfigProvider",null,{titlePaneConfiguration:{menu:{},tabs:{},titleFmtString:"${0}"},requestTitlePaneConfiguration:function(_1ad0){if(_1ad0.success&&this.titlePaneConfiguration){_1ad0.success.call(_1ad0.scope||this,this.titlePaneConfiguration,this);}}});return _1acf;});},"Sage/QuickForms/Design/nls/CurrencyControlDesigner":function(){define("Sage/QuickForms/Design/nls/CurrencyControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1ad1,lang){var nls={root:{displayNameText:"Currency"}};return lang.mixin(_1ad1,nls);});},"Sage/LanguageList":function(){define("Sage/LanguageList",[],function(){return{root:null,"af":true,"ar":true,"ar-dz":true,"ar-jo":true,"ar-lb":true,"ar-ma":true,"ar-sy":true,"ar-tn":true,"az":true,"be":true,"bg":true,"ca":true,"cs":true,"da":true,"de":true,"de-at":true,"de-ch":true,"de-li":true,"el":true,"en":true,"en-au":true,"en-bz":true,"en-ca":true,"en-gb":true,"en-jm":true,"en-nz":true,"en-tt":true,"en-us":false,"en-za":true,"es":true,"es-ar":true,"es-bo":true,"es-cl":true,"es-co":true,"es-cr":true,"es-ec":true,"es-gt":true,"es-hn":true,"es-pa":true,"es-pe":true,"es-pr":true,"es-py":true,"es-uy":true,"es-ve":true,"et":true,"eu":true,"fa":true,"fi":true,"fo":true,"fr":true,"fr-be":true,"fr-ca":true,"fr-ch":true,"fr-lu":true,"gd":true,"he":true,"hi":true,"hr":true,"hu":true,"id":true,"is":true,"it":true,"it-ch":true,"ja":true,"kk":true,"ko":true,"lt":true,"lv":true,"mk":true,"ms":true,"mt":true,"nb":true,"nl":true,"nl-be":true,"pl":true,"pt":true,"pt-pt":true,"pt-br":true,"rm":true,"ro":true,"ru":true,"sk":true,"sl":true,"sq":true,"sr":true,"sv":true,"sv-fi":true,"th":true,"tn":true,"tr":true,"ts":true,"uk":true,"ur":true,"ve":true,"vi":true,"xh":true,"zh":true,"zh-cn":true,"zh-hk":true,"zh-sg":true,"zh-tw":true,"zu":true};});},"Sage/MainView/ReportMgr/ReportManagerGroupContextService":function(){define("Sage/MainView/ReportMgr/ReportManagerGroupContextService",["Sage/Groups/BaseGroupContextService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/ReportMgr/ReportsListPanelConfig","Sage/MainView/ReportMgr/SchedulesListPanelConfig","Sage/MainView/ReportMgr/HistoryListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/ReportManagerGroupContextService"],function(_1ad2,_1ad3,_1ad4,lang,_1ad5,_1ad6,_1ad7,_1ad8,_1ad9,_1ada){var _1adb=_1ad9("Sage.MainView.ReportMgr.ReportManagerGroupContextService",_1ad2,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentListConfiguration:false,staticTabsConfiguration:[{key:"reports",descriptor:_1ada.reportsTabDisplayName,keyField:"$key",configProviderType:_1ad5},{key:"schedules",descriptor:_1ada.schedulesTabDisplayName,keyField:"$key",configProviderType:_1ad6},{key:"history",descriptor:_1ada.historyTabDisplayName,keyField:"$key",configProviderType:_1ad7}],_configsHash:false,_LOCALSTORE_NAMESPACE:"ReportManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _1adc=this._getDefaultTabId();this.setContext(_1adc,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_1ad3.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},getStaticTabs:function(){return this.staticTabsConfiguration;},buildCurrentEntityContext:function(){var _1add=this._currentContext.CurrentGroupID;if(!_1add){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_1add);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_1add);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.staticTabsConfiguration.length;i++){var cfg=this.staticTabsConfiguration[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var tabId=this._currentContext.CurrentGroupID;var _1ade=(this.configsHash.hasOwnProperty(tabId))?this.configsHash[tabId]:this.configsHash["groups"];if(!_1ade.instance){_1ade.instance=new _1ade.configProviderType();this.onTabConfigCreated(_1ade.instance);}else{_1ade.instance.rebuild();}this._currentListConfiguration=_1ade.instance;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(tabid){this._ensureConfigsHash();var _1adf="$key";if(this.configsHash[tabid]){_1adf=this.configsHash[tabid]["keyField"]||"$key";}return _1adf;},getGroupName:function(tabid){this._ensureConfigsHash();var name="default";if(this.configsHash[tabid]){name=this.configsHash[tabid]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_1ae0){dojo.publish("/group/context/changed",[_1ae0,self]);this._clearFilterManager();var self=this;this._onDefaultFilterLoad(function(){var _1ae1=self.getContext();self._saveToLocalStorage(self._STORE_KEY_LASTAB,_1ae1.CurrentGroupID);});},_clearFilterManager:function(){var _1ae2={};var _1ae3={};dojo.publish("/ui/filters/default/apply",[_1ae2,_1ae3,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_1ae4){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_1ae4){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_1ae4;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_1ae5){},_onDefaultFilterRefresh:function(_1ae6,_1ae7,_1ae8){var _1ae9=this.getContext(),_1aea=_1ad4.getSDataService("system"),entry={"$name":"applyFilterToEntity","request":{"entityName":_1ae9.CurrentEntity,"filter":dojo.toJson(_1ae8.createValueSet()),"key":_1ae9.CurrentGroupID}},_1aeb=new Sage.SData.Client.SDataServiceOperationRequest(_1aea).setOperationName("applyFilterToEntity");_1aeb.execute(entry,{});},_saveToLocalStorage:function(key,value,_1aec){this._saveToSessionStorage(key,value,_1aec);return;},_getFromLocalStorage:function(key,_1aed){return this._getFromSessionStorage(key,_1aed);},_getFromSessionStorage:function(key,_1aee){if(!_1aee){_1aee=this._LOCALSTORE_NAMESPACE;}var _1aef=_1aee+"_"+key;return sessionStorage.getItem(_1aef);},_saveToSessionStorage:function(key,value,_1af0){if(!_1af0){_1af0=this._LOCALSTORE_NAMESPACE;}var _1af1=_1af0+"_"+key;sessionStorage.setItem(_1af1,value);},_getDefaultTabId:function(){var _1af2="reports";var _1af3=this._getUrlTabId();if(_1af3){_1af3=this._validateTabId(_1af3);if(_1af3){return _1af3;}}var _1af4=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_1af4){_1af2=_1af4;}else{}if(!this._configsHash){for(var i=0;i<this.staticTabsConfiguration;i++){if(_1af2===this.staticTabsConfiguration[i]["key"]){return _1af2;}}}return _1af2;},_getUrlTabId:function(){var tabId=false,_1af5="[\\?&]tabId=([^%#]*)",regex=new RegExp(_1af5),_1af6=regex.exec(window.location.href);if(_1af6!==null){tabId=_1af6[1];}return tabId;},_validateTabId:function(tabId){if(tabId){for(var i=0;i<this.staticTabsConfiguration.length;i++){var cfg=this.staticTabsConfiguration[i];if(cfg.key.toUpperCase()===tabId.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_1af7){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _1adb());}else{var _1af8=Sage.Services.getService("ClientGroupContext");if(_1af8.declaredClass!=="Sage.MainView.ReportMgr.ReportManagerGroupContextService"){_1af8.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _1adb());}}return _1adb;});},"Sage/Services/JobService":function(){define("Sage/Services/JobService",["Sage/UI/Dialogs","dojo/_base/declare","dojo/string","dojo/i18n!./nls/JobService"],function(_1af9,_1afa,_1afb,_1afc){var _1afd=_1afa("Sage.Services.JobService",null,{getSchedulingSDataService:function(){var svc=new Sage.SData.Client.SDataService({serverName:window.location.hostname,virtualDirectory:Sage.Utility.getVirtualDirectoryName()+"/slxdata.ashx",applicationName:"$app",contractName:"scheduling",port:window.location.port&&window.location.port!==80?window.location.port:false,protocol:/https/i.test(window.location.protocol)?"https":false,json:true});return svc;},getJobDefinition:function(_1afe){if(!_1afe){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1afe.key!=="string"){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options.key"]),"Job Service");return;}var svc=this.getSchedulingSDataService();var _1aff=new Sage.SData.Client.SDataSingleResourceRequest(svc);_1aff.setQueryArg("include","$descriptors");_1aff.setResourceKind(_1afb.substitute("${0}('${1}')",[_1afe.resourceKind,_1afe.key]));_1aff.read({success:function(_1b00){if(_1afe.success){_1afe.success(_1b00);}},failure:function(xhr){var _1b01="getJobDefinition: "+_1afb.substitute(_1afc.txtUnexpectedError,[xhr.status,xhr.statusText]);if(_1afe.failure){_1afe.failure(xhr);}}});},getExecution:function(_1b02){if(!_1b02){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options"]),"Job Service");return;}if((typeof _1b02.triggerId!=="string")&&(typeof _1b02.executionId!=="string")){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options.triggerId or options.executionId"]),"Job Service");return;}var svc=this.getSchedulingSDataService();var _1b03=new Sage.SData.Client.SDataSingleResourceRequest(svc);if(typeof _1b02.triggerId==="string"){_1b03.setResourceKind("executions");_1b03.setQueryArg("include","$descriptors");_1b03.setQueryArg("where",_1afb.substitute("triggerId eq '${0}'",[_1b02.triggerId]));}if(typeof _1b02.executionId==="string"){_1b03.setResourceKind(_1afb.substitute("executions('${0}')",[_1b02.executionId]));}_1b03.read({success:function(_1b04){if(_1b02.success){_1b02.success(_1b04);}},failure:function(xhr){var _1b05="getExecution: "+_1afb.substitute(_1afc.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_1b05);if(_1b02.failure){_1b02.failure(xhr);}}});},interruptExecution:function(_1b06){if(!_1b06){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b06.key!=="string"){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b07=this.getSchedulingSDataService();var _1b08=new Sage.SData.Client.SDataServiceOperationRequest(_1b07);_1b08.setApplicationName("$app");_1b08.setOperationName("interrupt");_1b08.setResourceKind("executions('"+_1b06.key+"')");var entry={};_1b08.execute(entry,{success:function(_1b09){if(_1b06.success){_1b06.success(_1b09);}},failure:function(xhr){var _1b0a=_1afb.substitute(_1afc.txtTriggerJobError,[_1b06.key,xhr.status,xhr.statusText]);console.error(_1b0a);if(_1b06.failure){_1b06.failure(xhr);}}});},scheduleJob:function(_1b0b){if(!_1b0b){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b0b.key!=="string"){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b0c=this.getSchedulingSDataService();var entry={$descriptor:_1b0b.descriptor?_1b0b.descriptor:"",job:{$key:_1b0b.key},startTimeUtc:_1b0b.startTime,endTimeUtc:_1b0b.endTime,parameters:_1b0b.parameters,cronExpression:_1b0b.cronExpression};var _1b0d=new Sage.SData.Client.SDataApplicationRequest(_1b0c);_1b0d.setResourceKind("triggers");_1b0d.execute=function(entry,_1b0e){return _1b0d.service.executeServiceOperation(_1b0d,entry,_1b0e);},_1b0d.execute(entry,{success:function(_1b0f){if(_1b0b.success){_1b0b.success(_1b0f);}},failure:function(xhr){var _1b10=_1afb.substitute(_1afc.txtScheduleJobError,[_1b0b.key,xhr.status,xhr.statusText]);console.error(_1b10);if(_1b0b.failure){_1b0b.failure(xhr);}}});},getTrigger:function(_1b11){if(!_1b11){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options"]),"Job Service");return;}if((typeof _1b11.triggerId!=="string")){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options.triggerId"]),"Job Service");return;}var _1b12=this.getSchedulingSDataService();var _1b13=new Sage.SData.Client.SDataSingleResourceRequest(_1b12);_1b13.setResourceKind(_1afb.substitute("triggers('${0}')",[_1b11.triggerId]));_1b13.read({success:function(_1b14){if(_1b11.success){_1b11.success(_1b14);}},failure:function(xhr){var _1b15="getExecution: "+_1afb.substitute(_1afc.txtUnexpectedError,[xhr.status,xhr.statusText]);console.error(_1b15);if(_1b11.failure){_1b11.failure(xhr);}}});},updateTrigger:function(_1b16){if(!_1b16){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b16.key!=="string"){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b17=this.getSchedulingSDataService();var entry={$descriptor:_1b16.descriptor,job:{$key:_1b16.key},startTimeUtc:_1b16.startTime,endTimeUtc:_1b16.endTime,parameters:_1b16.parameters,cronExpression:_1b16.cronExpression};var _1b18=new Sage.SData.Client.SDataSingleResourceRequest(_1b17);_1b18.setResourceKind("triggers");_1b18.setResourceSelector(_1afb.substitute("'${0}'",[_1b16.key]));_1b18.update(entry,{success:function(_1b19){if(_1b16.success){_1b16.success(_1b19);}},failure:function(xhr){var _1b1a=_1afb.substitute(_1afc.txtScheduleJobError,[_1b16.key,xhr.status,xhr.statusText]);if(_1b16.failure){_1b16.failure(xhr);}}});},deleteScheduledJob:function(key){if(!key){return false;}var _1b1b=this.getSchedulingSDataService();var _1b1c=new Sage.SData.Client.SDataApplicationRequest(_1b1b);_1b1c.setApplicationName("$app");_1b1c.setResourceKind(_1afb.substitute("triggers('${0}')",[key]));var sUrl=_1b1c.uri;dojo.xhrDelete({handleAs:"json",url:sUrl,error:function(xhr){_1af9.showError(_1afb.substitute(_1afc.txtTriggerJobError,[key,xhr.status,xhr.statusText]));return false;}});return true;},triggerJob:function(_1b1d){if(!_1b1d){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options"]),"Job Service");return;}if(typeof _1b1d.key!=="string"){_1af9.showError(_1afb.substitute(_1afc.txtInvalidParameter,["options.key"]),"Job Service");return;}var _1b1e=this.getSchedulingSDataService();var entry={name:_1b1d.key,request:{parameters:_1b1d.parameters?_1b1d.parameters:[]}};var _1b1f=new Sage.SData.Client.SDataServiceOperationRequest(_1b1e);_1b1f.setApplicationName("$app");_1b1f.setOperationName("trigger");_1b1f.setResourceKind("jobs('"+_1b1d.key+"')");_1b1f.execute(entry,{success:function(_1b20){if(_1b1d.success){_1b1d.success(_1b20);}},failure:function(xhr){var _1b21=_1afb.substitute(_1afc.txtTriggerJobError,[_1b1d.key,xhr.status,xhr.statusText]);console.error(_1b21);if(_1b1d.failure){_1b1d.failure(xhr);}}});}});if(!Sage.Services.hasService("JobService")){Sage.Services.addService("JobService",new Sage.Services.JobService());}return _1afd;});},"Sage/QuickForms/Design/NonVisibleControlContainer":function(){define("Sage/QuickForms/Design/NonVisibleControlContainer",["dojo/query","dojo/topic","dojo/string","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/dom-attr","dojo/dom-class","dojo/NodeList-traverse","dojo/NodeList-manipulate","dijit/registry","dijit/focus","dijit/layout/_LayoutWidget","Sage/_EventMapMixin","Sage/_Templated","dojo/i18n!./nls/NonVisibleControlContainer"],function(query,topic,_1b22,_1b23,array,lang,event,_1b24,_1b25,_1b26,_1b27,_1b28,focus,_1b29,_1b2a,_1b2b,_1b2c){return _1b23("Sage.QuickForms.Design.NonVisibleControlContainer",[_1b29,_1b2a,_1b2b],{events:{"click":"_onClick","keydown":"_onKeyDown"},widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="design-hidden-container">','<div class="design-hidden-container-header dijit dijitToolbar">{%: $.headerText %}</div>','<div class="design-hidden-container-content" data-dojo-attach-point="containerNode"></div>',"<div>"]),_designGroup:null,_designGroupTopics:null,selections:null,singleSelection:false,designGroup:"default",headerText:"Non-Visual Controls",_getDesignGroupAttr:function(){return this._designGroup;},_setDesignGroupAttr:function(value){if(this._designGroupTopics){array.forEach(this._designGroupTopics,function(topic){this.unsubscribe(topic);},this);}this._designGroup=value;this._designGroupTopics=[this.subscribe(_1b22.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),this._onDesignerSelected)];},constructor:function(){this.selections=[];lang.mixin(this,_1b2c);},buildRendering:function(){this.inherited(arguments);_1b24.set(this.domNode,"tabIndex",0);},_onKeyDown:function(evt){},_handleSelectionFor:function(_1b2d,_1b2e){if(_1b2d){var _1b2f=(array.indexOf(this.selections,_1b2d)>-1);if(_1b2e&&!this.singleSelection){if(!_1b2f){array.forEach(this.selections,function(_1b30){query(_1b30.domNode).attr("tabIndex","-1");});this.selections.push(_1b2d);_1b24.set(_1b2d.domNode,"tabIndex",0);focus.focus(_1b2d.domNode);_1b25.add(_1b2d.domNode,"design-hidden-item-selected");this.onSelectionChanged(this.selections,true);topic.publish(_1b22.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1b2d,true,this);}}else{this._clearSelectionDom();this._clearSelectionState(false);this.selections=[_1b2d];_1b24.set(_1b2d.domNode,"tabIndex",0);focus.focus(_1b2d.domNode);_1b25.add(_1b2d.domNode,"design-hidden-item-selected");this.onSelectionChanged(this.selections);topic.publish(_1b22.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),_1b2d,true,this);}}else{if(this.singleSelection||!_1b2e){this._clearSelectionDom();this._clearSelectionState();}}},_onClick:function(evt){var node=query(evt.target).closest(".dijitLayoutContainer-child")[0],_1b31=node&&_1b28.byNode(node),_1b32=evt.shiftKey;this._handleSelectionFor(_1b31,_1b32);},onSelectionChanged:function(_1b33,_1b34){},_clearSelectionDom:function(){if(this.selections.length>0){array.forEach(this.selections,function(_1b35){query(_1b35.domNode).attr("tabIndex","-1").removeClass("design-hidden-item-selected");});}},_clearSelectionState:function(_1b36){if(this.selections.length>0){this.selections=[];if(_1b36!==false){this.onSelectionChanged(this.selections);topic.publish(_1b22.substitute("/quickforms/design/${0}/designerSelected",[this._designGroup]),false,false,this);}}},_onDesignerSelected:function(_1b37,_1b38,_1b39){if(_1b37&&_1b39!==this){this._clearSelectionDom();this._clearSelectionState(false);}},clearSelections:function(){this._clearSelectionDom();this._clearSelectionState();},clear:function(){this._clearSelectionState();array.forEach(this.getChildren(),function(child){this.removeChild(child);},this);this.layout();}});});},"Sage/Extensions/ActivityRequirements":function(){define("Sage/Extensions/ActivityRequirements",["Sage/Extensions/Activity/ListPanelOverrides/ActivityListPanelConfig","Sage/Extensions/Activity/ListPanelOverrides/AllOpenListPanelConfig"],function(){return true;});},"url:Sage/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n        <div class="dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}" data-dojo-attach-point="iconNodeSprite"></div>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n\n',"Sage/Array":function(){define("Sage/Array",[],function(){if(typeof Array.prototype.swap==="undefined"){Array.prototype.swap=function(d,s){if(d>this.length||s>this.length){return;}var tmp=this[d];this[d]=this[s];this[s]=tmp;return this;};}if(typeof Array.prototype.getIndexByProp==="undefined"){Array.prototype.getIndexByProp=function(str,prop){for(var i=0,len=this.length;i<len;i++){if(prop&&prop==="key"){if(str in this[i]){return i;}}else{if(prop&&prop==="value"){for(var p in this[i]){if(this[i].hasOwnProperty(p)){if(this[i][p]===str){return i;}}}}}}};}if(typeof Array.prototype.placeByAttr==="undefined"){Array.prototype.placeByAttr=function(obj,attr){var _1b3a=false;if(!this.length){this.push(obj);return;}for(var i=0,len=this.length;i<len;i++){if(this[i][attr]>=obj[attr]){_1b3a=true;this.splice(i,0,obj);break;}}if(!_1b3a){this.push(obj);}};}if(typeof Array.prototype.removeByAttr==="undefined"){Array.prototype.removeByAttr=function(attr,arg){if(!this.length){return;}for(var i=0,len=this.length;i<len;i++){if(this[i][attr]===arg){this.splice(i,1);break;}}};}if(typeof Array.prototype.filter==="undefined"){Array.prototype.filter=function(fun){if(this===null){throw new TypeError();}var t=Object(this);var len=t.length>>>0;if(typeof fun!="function"){throw new TypeError();}var res=[];var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){var val=t[i];if(fun.call(thisp,val,i,t)){res.push(val);}}}return res;};}return Array;});},"Sage/QuickForms/Design/nls/DataGridControlDesigner":function(){define("Sage/QuickForms/Design/nls/DataGridControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1b3b,lang){var nls={root:{displayNameText:"Data Grid",emptyTableRowStringText:"No records match the selection criteria."}};return lang.mixin(_1b3b,nls);});},"Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionEditor.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.dlgCrystalReportConditionDetails_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 300px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                \r\n                '<table cellspacing=\"10\">',\r\n                    \r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbConditionType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',                            \r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionType\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionType_OnChange\" style=\"width:150px\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trCurrentUser\">',\r\n                        '<td>',\r\n                            '&nbsp;',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkCurrentUser\" dojoAttachEvent=\"onChange:_chkCurrentUser_OnChange\" /> <label>{%= $._nlsResources.chkCurrentUser_Caption %}</label>',\r\n                        '</td>',                        \r\n                    '</tr>',\r\n                    \r\n                    '<tr dojoAttachPoint=\"trUser\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpUser_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpUser_Caption %}\" dojoAttachPoint=\"contentPaneLkpUser\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',                        \r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trGroup\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpGroup_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpGroup_Caption %}\" dojoAttachPoint=\"contentPaneLkpGroup\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',\r\n                    '</tr>',                                                       \r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trDateRange\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbDateRange_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbDateRange\" dojoAttachEvent=\"onChange:_cmbDateRange_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"DateRange\">{%= $._nlsResources.cmbDateRange_SpecificDates_Caption %}</option>',\r\n                                '<option value=\"ThisWeek\">{%= $._nlsResources.cmbDateRange_ThisWeek_Caption %}</option>',\r\n                                '<option value=\"ThisMonth\">{%= $._nlsResources.cmbDateRange_ThisMonth_Caption %}</option>',\r\n                                '<option value=\"ThisQuarter\">{%= $._nlsResources.cmbDateRange_ThisQuarter_Caption %}</option>',\r\n                                '<option value=\"ThisYear\">{%= $._nlsResources.cmbDateRange_ThisYear_Caption %}</option>',\r\n                                '<option value=\"LastWeek\">{%= $._nlsResources.cmbDateRange_LastWeek_Caption %}</option>',\r\n                                '<option value=\"LastMonth\">{%= $._nlsResources.cmbDateRange_LastMonth_Caption %}</option>',\r\n                                '<option value=\"LastQuarter\">{%= $._nlsResources.cmbDateRange_LastQuarter_Caption %}</option>',\r\n                                '<option value=\"LastYear\">{%= $._nlsResources.cmbDateRange_LastYear_Caption %}</option>',\r\n                                '<option value=\"MonthToDate\">{%= $._nlsResources.cmbDateRange_MonthToDate_Caption %}</option>',\r\n                                '<option value=\"QuarterToDate\">{%= $._nlsResources.cmbDateRange_QuarterToDate_Caption %}</option>',\r\n                                '<option value=\"YearToDate\">{%= $._nlsResources.cmbDateRange_YearToDate_Caption %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trFromDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trToDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trTable\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbTable_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbTables\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbTables_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trField\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbField_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbFields\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbFields_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trOperator\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbOperator_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOperators\" sortByLabel=\"false\" style=\"width:150px\" dojoAttachEvent=\"onChange:_cmbOperators_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue1\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue1\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue2_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue2\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue1\">',\r\n                        '<td>',\r\n                            '<label dojoAttachPoint=\"lblNumericValue1\">{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue1\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtNumericValueTo_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue2\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trDateValue1\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue1\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trDateValue2\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue2\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    \r\n                '</table>',\r\n                \r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $._nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $._nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]"}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor",["dojo/_base/declare","dojo/string","dojo/_base/array","dojo/topic","dojo/i18n!./nls/CrystalReportConditionEditor","dojo/text!./templates/CrystalReportConditionEditor.html","dijit/_Widget","Sage/_Templated","dojo/_base/lang","Sage/UI/Controls/_DialogHelpIconMixin","Sage/UI/Controls/Lookup","Sage/UI/Dialogs","Sage/Data/SDataServiceRegistry","dojo/data/ItemFileWriteStore","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","dijit/form/Select","dijit/form/CheckBox"],function(_1b3c,_1b3d,_1b3e,topic,_1b3f,_1b40,_1b41,_1b42,_1b43,_1b44,_1b45,_1b46,_1b47,_1b48,_1b49,_1b4a,_1b4b){var _1b4c=_1b3c("Sage.MainView.ReportMgr.CrystalReportConditionEditor",[_1b41,_1b42],{id:"dlgCrystalReportConditionEditor",_dialog:false,_reportMetadata:null,widgetTemplate:new Simplate(eval(_1b40)),_nlsResources:_1b3f,widgetsInTemplate:true,_entity:null,_mode:"new",constructor:function(_1b4d,_1b4e){this._entity=_1b4d;this._reportMetadata=_1b4e;if(_1b4d){this._mode="edit";}},show:function(){this._dialog.show();if(!this._dialog.helpIcon){_1b43.mixin(this._dialog,new _1b44());this._dialog.createHelpIconByTopic("reportconditions");}},destroy:function(){this.lkpUser.destroy();this.lkpGroup.destroy();this.inherited(arguments);},_dialog_OnShow:function(){this._initializeControls();},_closeDialog:function(){var self=this;self._dialog.hide();self.destroyRecursive();},_cmdOK_OnClick:function(){if(this._isValid()){this._save();}},_cmdCancel_OnClick:function(){this._closeDialog();},_dialog_OnCancel:function(){this._closeDialog();},_cmbConditionType_OnChange:function(){this._setControlsVisibility();},_cmbDateRange_OnChange:function(){this._setDateRangeControlsVisibility();},_cmbTables_OnChange:function(){this._initializeFieldsDropdown();},_cmbFields_OnChange:function(){this._initializeOperatorsDropdown();},_cmbOperators_OnChange:function(){this._setQueryControlsVisibility();},_chkCurrentUser_OnChange:function(){if(this.chkCurrentUser.checked){this.lkpUser.set("selectedObject",null);}_1b4a.setDomNodeVisible(this.trUser,!this.chkCurrentUser.checked);},_isValid:function(){switch(this.cmbConditionType.value){case String(_1b49.ReportConditionType.Group):if(!this.lkpGroup.get("selectedObject")){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbGroup_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}break;case String(_1b49.ReportConditionType.DateRange):if(this.cmbDateRange.value==="DateRange"){if(this.dtFromDate.focusNode.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(this.dtToDate.focusNode.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtToDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case String(_1b49.ReportConditionType.User):if(!this.chkCurrentUser.checked&&!this.lkpUser.get("selectedObject")){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.lkpUser_Caption]),this._nlsResources.txtInvalidParameterTitle);}break;case String(_1b49.ReportConditionType.Query):if(!this.cmbTables.value||this.cmbTables.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbTable_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.cmbFields.value||this.cmbFields.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbField_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.cmbOperators.value||this.cmbOperators.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.cmbOperator_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}var _1b4f=this.cmbOperators.value;var _1b50=this._getFieldDataType();switch(_1b50){case _1b49.FieldDataTypes.Numeric:if(_1b4f==_1b49.ReportConditionOperator.IsInTheRange){if(!this.txtNumericValue1.focusNode.textbox.value||this.txtNumericValue1.focusNode.textbox.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtNumericValueFrom_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(!this.txtNumericValue2.focusNode.textbox.value||this.txtNumericValue2.focusNode.textbox.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtNumericValueTo_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}else{if(!this.txtNumericValue1.focusNode.textbox.value||this.txtNumericValue1.focusNode.textbox.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtValue_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case _1b49.FieldDataTypes.DateTime:if(_1b4f==_1b49.ReportConditionOperator.IsInTheRange){if(this.dtDateValue1.focusNode.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}if(this.dtDateValue2.focusNode.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtToDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}else{if(this.dtDateValue1.focusNode.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.dtFromDate_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}}break;case _1b49.FieldDataTypes.String:if(!this.txtStringValue1.value||this.txtStringValue1.value===""){_1b46.showError(_1b3d.substitute(this._nlsResources.txtInvalidParameterMessage,[this._nlsResources.txtValue_Caption]),this._nlsResources.txtInvalidParameterTitle);return false;}break;default:console.error("Unsupported field type: "+_1b50);}break;}return true;},_setControlsVisibility:function(){_1b4a.setDomNodeVisible(this.trUser,false);_1b4a.setDomNodeVisible(this.trCurrentUser,false);_1b4a.setDomNodeVisible(this.trGroup,false);_1b4a.setDomNodeVisible(this.trDateRange,false);_1b4a.setDomNodeVisible(this.trFromDate,false);_1b4a.setDomNodeVisible(this.trToDate,false);_1b4a.setDomNodeVisible(this.trTable,false);_1b4a.setDomNodeVisible(this.trField,false);_1b4a.setDomNodeVisible(this.trOperator,false);_1b4a.setDomNodeVisible(this.trValue,false);if(this.cmbConditionType){switch(this.cmbConditionType.value){case _1b49.ReportConditionType.Group:_1b4a.setDomNodeVisible(this.trGroup,true);break;case _1b49.ReportConditionType.DateRange:_1b4a.setDomNodeVisible(this.trDateRange,true);_1b4a.setDomNodeVisible(this.trFromDate,true);_1b4a.setDomNodeVisible(this.trToDate,true);break;case _1b49.ReportConditionType.User:_1b4a.setDomNodeVisible(this.trUser,true);_1b4a.setDomNodeVisible(this.trCurrentUser,true);break;case _1b49.ReportConditionType.Query:_1b4a.setDomNodeVisible(this.trTable,true);_1b4a.setDomNodeVisible(this.trField,true);_1b4a.setDomNodeVisible(this.trOperator,true);_1b4a.setDomNodeVisible(this.trValue,true);break;}}this._setQueryControlsVisibility();},_setDateRangeControlsVisibility:function(){if(this.cmbDateRange){switch(this.cmbDateRange.value){case"DateRange":_1b4a.setDomNodeVisible(this.trFromDate,true);_1b4a.setDomNodeVisible(this.trToDate,true);break;default:_1b4a.setDomNodeVisible(this.trFromDate,false);_1b4a.setDomNodeVisible(this.trToDate,false);break;}}},_initializeControls:function(){this._initializeConditionTypeDropdown();this._createUserLookup();this._createGroupLookup();this._setControlsVisibility();this._initializeTablesDropdown();this._setValues();},_setValues:function(){if(this._entity){this.cmbConditionType.attr("value",this._entity.conditionType);switch(this.cmbConditionType.value){case _1b49.ReportConditionType.Group:var group=this._entity.value?_1b4a.getGroup(this._entity.value):null;this.lkpGroup.set("selectedObject",group);break;case _1b49.ReportConditionType.DateRange:this.cmbDateRange.attr("value",this._entity.value);if(this.cmbDateRange.value==="DateRange"){this.dtFromDate.set("value",this._entity.fromRange);this.dtToDate.set("value",this._entity.toRange);}break;case _1b49.ReportConditionType.User:if(this._entity.tag.toUpperCase()===":USERID"){this.chkCurrentUser.set("checked",true);}else{var user=this._entity.value?_1b4a.getUser(this._entity.tag):null;this.lkpUser.set("selectedObject",user);}break;case _1b49.ReportConditionType.Query:this.cmbTables.attr("value",this._entity.table);var _1b51=this._entity.operator;switch(this._entity.dataType){case _1b49.FieldDataTypes.Numeric:if(_1b51==_1b49.ReportConditionOperator.IsInTheRange){this.txtNumericValue1.focusNode.textbox.value=this._entity.fromRange;this.txtNumericValue2.focusNode.textbox.value=this._entity.toRange;}else{this.txtNumericValue1.focusNode.textbox.value=this._entity.value;}break;case _1b49.FieldDataTypes.DateTime:if(_1b51==_1b49.ReportConditionOperator.IsInTheRange){this.dtDateValue1.set("value",this._entity.fromRange);this.dtDateValue2.set("value",this._entity.toRange);}else{this.dtDateValue1.set("value",this._entity.value);}break;case _1b49.FieldDataTypes.String:this.txtStringValue1.set("value",this._entity.value);break;default:console.error("Unsupported field type: "+this._entity.dataType);}break;default:console.error("Unsupported condition type: "+this.cmbConditionType.value);}}},_initializeConditionTypeDropdown:function(){var _1b52=_1b4b.getConditionTypes(this._reportMetadata);var data={identifier:"conditionType",label:"caption",items:_1b52};var store=new _1b48({data:data});this.cmbConditionType.setStore(store);this.cmbConditionType.startup();},_createUserLookup:function(){var _1b53={id:"_lkpConditionUser",structure:[{cells:[{name:_1b3f.txtName,field:"UserInfo.UserName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return"Type ne 5 and Type ne 8 and Type ne 6";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",include:["UserInfo"],sort:[{attribute:"UserInfo.UserName"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_1b3f.txtSelectUser,dialogButtonText:_1b3f.txtOK};this.lkpUser=new _1b45({id:"lkpConditionUser",readonly:false,config:_1b53});dojo.place(this.lkpUser.domNode,this.contentPaneLkpUser.domNode,"only");},_createGroupLookup:function(){var _1b54=_1b3d.substitute("upper(family) eq '${0}' or upper(family) eq '${1}'",[this._reportMetadata.family.toUpperCase(),this._reportMetadata.mainTable.toUpperCase()]);var _1b55={id:"_lkpConditionGroup",structure:[{cells:[{name:_1b3f.txtName,field:"displayName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return _1b54;},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"groups",include:[],select:["displayName","name","family"],sort:[{attribute:"displayName",descending:false}],service:_1b47.getSDataService("system",false,true,false)},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_1b3f.txtSelectGroup,dialogButtonText:_1b3f.txtOK};this.lkpGroup=new _1b45({id:"lkpConditionGroup",readonly:false,config:_1b55});dojo.place(this.lkpGroup.domNode,this.contentPaneLkpGroup.domNode,"only");},_getTableMetadata:function(_1b56){var _1b57=null;if(this._reportMetadata.tables){_1b3e.some(this._reportMetadata.tables,function(entry,i){if(entry.alias===_1b56){_1b57=entry;return true;}});}return _1b57;},_getFieldMetadata:function(_1b58,_1b59){var _1b5a=this._getTableMetadata(_1b58);var _1b5b=null;if(_1b5a){if(_1b5a.fields){_1b3e.some(_1b5a.fields,function(entry,i){if(entry.name==_1b59){_1b5b=entry;return true;}});}}return _1b5b;},_getFieldDataType:function(){var _1b5c=this.cmbTables.value;var _1b5d=this.cmbFields.value;var _1b5e=this._getFieldMetadata(_1b5c,_1b5d);var _1b5f=_1b5e&&_1b5e.dataType?_1b5e.dataType:null;return _1b5f;},_initializeTablesDropdown:function(){var items=[];if(this._reportMetadata.tables){_1b3e.forEach(this._reportMetadata.tables,function(entry,i){items.push({alias:entry.alias,displayName:entry.displayName});});}var data={identifier:"alias",label:"displayName",items:items};var store=new _1b48({data:data});this.cmbTables.setStore(store);this.cmbTables.startup();},_initializeFieldsDropdown:function(){var _1b60=this.cmbTables.value;var _1b61=this._getTableMetadata(_1b60);var _1b62=_1b61&&_1b61.fields?_1b61.fields:[];var items=[];_1b3e.forEach(_1b62,function(entry,i){items.push({name:entry.name,displayName:entry.displayName});});var data={identifier:"name",label:"displayName",items:items};var store=new _1b48({data:data});this.cmbFields.setStore(store);this.cmbFields.startup();if(this._entity){this.cmbFields.attr("value",this._entity.field);}},_initializeOperatorsDropdown:function(){var _1b63=this._getFieldDataType();var _1b64=_1b4a.getOperators(_1b63);var data={identifier:"operator",label:"caption",items:_1b64};var store=new _1b48({data:data});this.cmbOperators.setStore(store);this.cmbOperators.startup();if(this._entity){this.cmbOperators.attr("value",this._entity.operator);}},_save:function(){if(!this._entity){this._entity={conditionType:this.cmbConditionType.value,tableName:null,fieldName:null,operator:null,value:null,fromValue:null,toValue:null,dataType:null,tag:null};}this._entity.conditionType=this.cmbConditionType.value;this._entity.table=null;this._entity.field=null;this._entity.operator=null;this._entity.value=null;this._entity.fromRange=null;this._entity.toRange=null;this._entity.dataType=null;this._entity.tag=null;switch(this.cmbConditionType.value){case _1b49.ReportConditionType.Group:var group=this.lkpGroup.get("selectedObject");this._entity.value=group.family+":"+group.name;this._entity.tag=group.$key;this._entity.operator=String(_1b49.ReportConditionOperator.Is);this._entity.dataType=_1b49.FieldDataTypes.String;break;case _1b49.ReportConditionType.DateRange:this._entity.dataType=_1b49.FieldDataTypes.DateTime;if(this.cmbDateRange.value==="DateRange"){this._entity.operator=String(_1b49.ReportConditionOperator.IsInTheRange);this._entity.value=null;this._entity.fromRange=this.dtFromDate.get("value");this._entity.toRange=this.dtToDate.get("value");}else{this._entity.operator=String(_1b49.ReportConditionOperator.Is);this._entity.value=this.cmbDateRange.value;}break;case _1b49.ReportConditionType.User:if(this.chkCurrentUser.checked){this._entity.value=_1b3f.chkCurrentUser_Caption;this._entity.tag=":UserID";}else{var user=this.lkpUser.get("selectedObject");this._entity.value=user.$descriptor;this._entity.tag=user.$key;}this._entity.operator=String(_1b49.ReportConditionOperator.Is);this._entity.dataType=_1b49.FieldDataTypes.String;break;case _1b49.ReportConditionType.Query:var _1b65=this.cmbOperators.value;this._entity.table=this.cmbTables.value;this._entity.field=this.cmbFields.value;this._entity.operator=_1b65;var _1b66=this._getFieldDataType();this._entity.dataType=_1b66;switch(_1b66){case _1b49.FieldDataTypes.Numeric:if(_1b65==_1b49.ReportConditionOperator.IsInTheRange){this._entity.fromRange=parseInt(this.txtNumericValue1.focusNode.textbox.value);this._entity.toRange=parseInt(this.txtNumericValue2.focusNode.textbox.value);}else{this._entity.value=parseInt(this.txtNumericValue1.focusNode.textbox.value);}break;case _1b49.FieldDataTypes.DateTime:if(_1b65==_1b49.ReportConditionOperator.IsInTheRange){this._entity.fromRange=this.dtDateValue1.get("value");this._entity.toRange=this.dtDateValue2.get("value");}else{this._entity.value=this.dtDateValue1.get("value");}break;case _1b49.FieldDataTypes.String:this._entity.value=this.txtStringValue1.get("value");break;default:console.error("Unsupported field type: "+_1b66);}break;default:console.error("Unsupported condition type: "+this.cmbConditionType.value);}if(this._mode==="new"){topic.publish("/reportManager/reportWizard/createCondition",this._entity);}else{topic.publish("/reportManager/reportWizard/updateCondition",this._entity);}this._closeDialog();},_setQueryControlsVisibility:function(){_1b4a.setDomNodeVisible(this.trStringValue1,false);_1b4a.setDomNodeVisible(this.trStringValue2,false);_1b4a.setDomNodeVisible(this.trNumericValue1,false);_1b4a.setDomNodeVisible(this.trNumericValue2,false);_1b4a.setDomNodeVisible(this.trDateValue1,false);_1b4a.setDomNodeVisible(this.trDateValue2,false);if(this.cmbConditionType.value!==_1b49.ReportConditionType.Query){return;}var _1b67=this._getFieldDataType();var _1b68=this.cmbOperators.value;switch(_1b67){case _1b49.FieldDataTypes.Numeric:this.lblNumericValue1.innerHTML=this._nlsResources.txtValue_Caption+":";_1b4a.setDomNodeVisible(this.trNumericValue1,true);if(_1b68==_1b49.ReportConditionOperator.IsInTheRange){this.lblNumericValue1.innerHTML=this._nlsResources.txtNumericValueFrom_Caption+":";_1b4a.setDomNodeVisible(this.trNumericValue2,true);}break;case _1b49.FieldDataTypes.DateTime:_1b4a.setDomNodeVisible(this.trDateValue1,true);if(_1b68==_1b49.ReportConditionOperator.IsInTheRange){_1b4a.setDomNodeVisible(this.trDateValue2,true);}break;case _1b49.FieldDataTypes.String:_1b4a.setDomNodeVisible(this.trStringValue1,true);break;default:console.error("Unsupported field type: "+_1b67);}}});return _1b4c;});},"url:Sage/UI/Controls/templates/Lookup.html":'<div class="textcontrol lookup">\r\n    <span id="${id}" class="lookup">\r\n        <input id="${id}_LookupText" class="text-with-icons" required="${required}" type="text" dojoAttachPoint="textbox,focusNode" />\r\n        <a href="#">\r\n            <img id="${id}_LookupBtn" src="images/icons/Find_16x16.png" dojoAttachPoint="lookupButton" alt="${buttonToolTip}" title="${buttonToolTip}" />\r\n        </a>\r\n        \r\n        <img id="${id}_btnClearResult" src="images/icons/Delete_16x16.png" dojoAttachPoint="clearButton" class="display-none" alt="${closeButtonToolTip}" title="${closeButtonToolTip}"/>\r\n    </span>\r\n</div>',"Sage/UI/Columns/Boolean":function(){define("Sage/UI/Columns/Boolean",["dojox/grid/cells/_base","dojo/i18n","Sage/Utility","dojo/i18n!../nls/Boolean","dojo/_base/declare"],function(_1b69,i18n,_1b6a,_1b6b,_1b6c){var _1b6d=_1b6c("Sage.UI.Columns.Boolean",_1b69,{constructor:function(){var _1b6e=i18n.getLocalization("Sage.UI","Boolean");dojo.mixin(this,_1b6e);this.inherited(arguments);},formatter:function(val,index){var _1b6f={"T":true,"t":true,"Y":true,"y":true,"1":true,"+":true};if(!this.formatString){return(val in _1b6f)?this.yesText:this.noText;}var _1b70=this.formatString.split("/");if(_1b70.length&&_1b70.length===2){var _1b71=(val in _1b6f)?_1b70[0]:_1b70[1];if(!_1b71){return(val in _1b6f)?this.yesText:this.noText;}else{return _1b6a.htmlEncode(_1b71);}}return(val in _1b6f)?this.yesText:this.noText;}});return _1b6d;});},"Sage/MainView/SecurityMgr/SecurityProfile":function(){define("Sage/MainView/SecurityMgr/SecurityProfile",["dojo/i18n!./nls/SecurityProfile","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dojo/_base/declare","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer","dojo/i18n!./nls/SecurityProfile"],function(_1b72,_1b73,_1b74,_1b75,_1b76,_1b77,_1b78){var _1b79=_1b78("Sage.MainView.SecurityMgr.SecurityProfile",[_1b76,_1b77],{_dialog:false,selectedFieldIndex:1,store:false,_isNew:false,widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>",'<div data-dojo-type="dijit.Dialog" id="{%= $.id %}_dlgSecurityProfile" title="{%= $.securityProfile_Caption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onCancel:_close">','<div data-dojo-type="dijit.form.Form" id="{%= $.id %}_frmSecurityProfile">','<table cellspacing="20">',"<tr>","<td>","<label>{%= $.description_Text %}</label>","</td>","<td>",'<input type="text" id="secDlg_Description" dojoAttachPoint="profileDescription" name="profileDescription" required="true" dojoType="dijit.form.TextBox" />',"</td>","<tr>","<td>","<label>{%= $.profileType_Text %}</label>","</td>","<td>",'<select dojoType="dijit.form.Select" name="profileType" id="secDlg_Type">','<option value="U">User</option>','<option value="S">System</option>',"</select>","</td>","</tr>","</table>",'<div align="right">','<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.ok_Text %}</div>','<div data-dojo-type="dijit.form.Button" style="margin-left:5px;" id="{%= $.id%}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_close">{%= $.btnCancel_Caption %}</div>',"</div>","</div>","</div>","</div>"]),constructor:function(isNew){this._isNew=isNew;dojo.mixin(this,_1b72);},show:function(){if(this._isNew){var store=this.getStore();store.newItem({onComplete:this.receiveNewProfileToEdit,scope:this});}this._dialog.show();if(!this._dialog.helpIcon){_1b74.mixin(this._dialog,new _1b73());this._dialog.createHelpIconByTopic("securityprofile");}},getStore:function(){if(this.store){return this.store;}var _1b7a=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new Sage.Data.SingleEntrySDataStore({service:_1b7a,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"]});return this.store;},receiveNewProfileToEdit:function(_1b7b){this.receiveProfileToEdit(_1b7b,true);},receiveProfileToEdit:function(_1b7c,isNew){this._isNew=(isNew===true);var dlg=dijit.byId("secProfileDlg");if(dlg){dlg.set("value",_1b7c);dlg.show();}},_okClick:function(){},save:function(_1b7d){if(this.store){var dlg=dijit.byId("secProfileDlg");var _1b7e=dlg.get("value");for(var prop in _1b7e){this.store.setValue(false,prop,_1b7e[prop]);}if(this._isNew){this.store.saveNewEntity(false,_1b7d.success,_1b7d.failure,this);}else{this.store.save(_1b7d);}}},saveAndClose:function(){this.save({success:function(_1b7f){var dlg=dijit.byId("secProfileDlg");dlg.hide();var _1b80=dijit.byId("titlePane");if(_1b80){_1b80.resetConfiguration();}},failure:function(err){alert("The profile could not be saved: "+err);}});},_close:function(){this._dialog.destroyRecursive();}});return _1b79;});},"Sage/QuickForms/Design/nls/PickListControlDesigner":function(){define("Sage/QuickForms/Design/nls/PickListControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1b81,lang){var nls={root:{displayNameText:"Pick List"}};return lang.mixin(_1b81,nls);});},"Sage/QuickForms/Design/Editors/nls/CheckBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CheckBoxBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b82,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1b82,nls);});},"Sage/UI/TextBox":function(){define("Sage/UI/TextBox",["dijit/form/TextBox","dojo/_base/declare"],function(_1b83,_1b84){var _1b85=_1b84("Sage.UI.TextBox",_1b83,{postCreate:function(){this.inherited(arguments);this._val=this.get("value");if(this.get("value")===""&&this._val){this.set("value",this._val);}this.set("class","txt-ss-watermark");},onFocus:function(){this.set("value","");this.set("class","txt-ss");},forceFocus:function(val){this.set("value",val);this.set("class","txt-ss");},onBlur:function(){if(this.get("value")===""){this.set("class","txt-ss-watermark");this.set("value",this._val);}}});return _1b85;});},"Sage/Library/nls/FolderHandler":function(){define("Sage/Library/nls/FolderHandler",["Sage/LanguageList","dojo/_base/lang"],function(_1b86,lang){var nls={root:{AccessError:"You do not have the role security required to execute this action.",AddFolderError:"There was an unexpected error attempting to add a library folder.",Cancel:"Cancel",Confirm:"Confirm",DeleteFolderCnfmFmt:'Are you sure you want to delete the "${0}" folder and all of its contents?',DeleteFolderError:"There was an unexpected error attempting to delete a library folder.",DontDeleteRoot:"Please do not delete the root folder.",DontEditRoot:"Please do not change the name of the root folder.",EnterFolderName:"Please enter the name of the new folder:",EnterNewFolderName:"Please enter the new name for this folder.",FolderUpdateConflictError:"The folder has been updated by another user, please refresh and retry.",InvalidFolderName:'A folder name cannot contain any of the following characters: \\ / : * ? " < > |',NewFolder:"New Folder",No:"No",OK:"OK",PleaseSelectFolder:"Please select a folder.",RenameFolderError:"There was an unexpected error attempting to rename a library folder.",Yes:"Yes"}};return lang.mixin(_1b86,nls);});},"Sage/QuickForms/Design/Editors/nls/ComboBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ComboBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b87,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",itemGroupText:"Items",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",dataSourceText:"Data Source:",dataSourceTooltipText:"Source of the data for this control such as another control or an entity.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",itemsText:"Items:",itemsTooltipText:"Values the user can select.",textFieldText:"Text Field:",textFieldTooltipText:"The name of the data source field used to populate the visible text portion of the list items.",valueFieldText:"Value Field:",valueFieldTooltipText:"The name of the data source field used to populate the value portion of the list items.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},hasItemsText:"Set",noItemsText:"Not Set"}};return lang.mixin(_1b87,nls);});},"Sage/MainView/Contact/nls/ContactSearchForDuplicates":function(){define("Sage/MainView/Contact/nls/ContactSearchForDuplicates",["Sage/LanguageList","dojo/_base/lang"],function(_1b88,lang){var nls={root:{svAccount_Caption:"Account:",svCompany_Caption:"Company:",svEmail_Caption:"Email:",svName_Caption:"Name:",svTitle_Caption:"Title:",svType_Caption:"Type:",svSubType_Caption:"Sub Type:",svAccMgr_Caption:"Acct. Mgr.:",svHomePhone_Caption:"Home phone:",svWorkPhone_Caption:"Work phone:",svMobilePhone_Caption:"Mobile phone:",svStatus_Caption:"Status:",svWebAddress_Caption:"Web:",svEntityAccount_Caption:"Account",svEntityLead_Caption:"Lead",svEntityContact_Contact:"Contact",svTollFree_Caption:"Toll free:",svIndustry_Caption:"Industry:",svDivision_Caption:"Division:",svMainPhone_Caption:"Main phone:",LeadSummaryView_Title:"Summary View - Lead",ContactSummaryView_Title:"Summary View - Contact",AccountSummaryView_Title:"Summary View - Account",closeText:"Close",errorLoadingSummaryView:"An error occurred loading summary view: ${0}"}};return lang.mixin(_1b88,nls);});},"Sage/QuickForms/Design/Editors/nls/DateTimePickerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DateTimePickerBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1b89,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",displayDateText:"Display Date:",displayDateTooltipText:"Display the date portion.",displayTimeText:"Display Time:",displayTimeTooltipText:"Display the time portion.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1b89,nls);});},"Sage/UI/CalendarUsersListPane":function(){define("Sage/UI/CalendarUsersListPane",["Sage/Data/SDataServiceRegistry","Sage/Data/WritableSDataStore","Sage/UI/EditCalendarUsers","Sage/Utility","dojo/_base/lang","dojo/_base/array","dojo/i18n","dojo/on","dojo/parser","dojo/dom","dojo/query","dojo/_base/lang","dojo/_base/declare","dojo/dom-construct","dojo/i18n!./nls/CalendarUsersListPane","dojo/data/ItemFileWriteStore","dojox/grid/enhanced/plugins/IndirectSelection","dojox/grid/EnhancedGrid","dojox/grid/enhanced/plugins/Pagination"],function(_1b8a,_1b8b,_1b8c,_1b8d,_1b8e,array,i18n,on,_1b8f,dom,_1b90,lang,_1b91,_1b92,_1b93){var _1b94=_1b91("Sage.UI.CalendarUsersListPane",null,{Id:null,_store:null,_grid:null,_colors:{},_selectedUsers:{},_maxUserCount:4,_checkedUsersCount:0,_initialLoad:false,_storeItems:[],_maxUserCountReached:false,_userOptions:{},editCalendarUsers:null,_favoriteUsersList:[],editCalendarUsersHandle:null,_userCalendarFavoriteId:null,_usersListUpdatedFromDialog:false,_selectedUsersListUpdatedFromDialog:false,_LOCALSTORE_NAMESPACE:"SalesLogix-Calendar",_currentUserId:null,constructor:function(_1b95){this.Id=_1b95.Id;this.EditCalUsersNodeId=_1b95.EditUsersNode;this._userOptions=_1b95.options;this._usersListUpdatedFromDialog=false;this._selectedUsersListUpdatedFromDialog=false;this._currentUserId=Sage.Utility.getClientContextByKey("userID");this._colors=[{"usercolor":"user2","set":false},{"usercolor":"user3","set":false},{"usercolor":"user4","set":false},{"usercolor":"user5","set":false}];lang.mixin(this,_1b93);this._initializeList();var self=this;var _1b96=_1b92.toDom('<div align="right"><a id="editUserLink" href="#" class="filter-edit-items">'+this.editUsersLinkText+"</a></div>");_1b92.place(_1b96,dojo.byId("grid"),"before");this.editCalendarUsers=new _1b8c({id:"EditCalendarUsers1",parent:this});on(dom.byId("editUserLink"),"click",function(e){self.editCalendarUsers.showDialog(self._favoriteUsersList,self._userCalendarFavoriteId);e.cancelBubble=true;});},refresh:function(){var _1b97=Sage.Utility.getClientContextByKey("userID");var query={conditions:dojo.string.substitute("AccessId eq '${0}'",[_1b8e.trim(_1b97)])};dijit.byId("grid").setQuery(query);},_where:function(){var _1b98=Sage.Utility.getClientContextByKey("userID");return dojo.string.substitute("AccessId eq '${0}'",[_1b8e.trim(_1b98)]);},_getSort:function(){var sort=[{attribute:"Name"}];return sort;},_getUserColor:function(_1b99){var color="";if(this._selectedUsers[_1b99]){color=this._selectedUsers[_1b99].usercolor;}return color;},_initializeList:function(){var _1b9a=this.header_user||"User";var _1b9b=this.maxUsersErrorMessage||"Sorry, you cannot view more than ${0} calendars (including your own) at one time.  Clear one of the currently-selected calendars and try again.";_1b9b=dojo.string.substitute(_1b9b,[this._maxUserCount]);var self=this;var _1b9c=function(data,_1b9d){self._storeItems=[];self._favoriteUsersList=[];array.forEach(data,function(item,i){_1b8e.mixin(item,{usercolor:"",username:item["Name"],userId:item["ResourceId"],ResourceId:_1b8e.trim(item["ResourceId"])});self._favoriteUsersList.push(item["ResourceId"]);self._storeItems.push(item);if(!self._userCalendarFavoriteId){self._userCalendarFavoriteId=item["$key"];}});if(self._favoriteUsersList.length===0){self._favoriteUsersList.push(Sage.Utility.getClientContextByKey("userID"));}};var store=this._store=new Sage.Data.WritableSDataStore({service:_1b8a.getSDataService("dynamic"),resourceKind:"calendarfavoriteusersviews",select:["$key","Name","UserId","ResourceId","Selected"],include:[],sort:[{attribute:"Selected desc"}],query:{conditions:this._where()},onComplete:_1b9c});var _1b9e=[{field:"ResourceId",width:"20px",name:" ",formatter:function(value){return"<div class='userStyles "+self._getUserColor(value)+"'></div>";}},{field:"Name",width:"100%",name:_1b9a}];var grid=this._grid=new dojox.grid.EnhancedGrid({id:"grid",store:store,structure:_1b9e,layout:"layout",noDataMessage:"<span class='dojoxGridNoData'>"+this.noUsersMessage+"</span>",keepSelection:true,plugins:{indirectSelection:{headerSelector:false,width:"20px",styles:"text-align: center;"}}},dojo.byId(this.Id));dojo.connect(grid.selection,"onSelected",function(_1b9f){if(!self._initialLoad){if(self._checkedUsersCount<self._maxUserCount){var item=grid.getItem(_1b9f);self._checkedUsersCount++;var _1ba0=item["ResourceId"].substr(0,12);var _1ba1="";if(self._selectedUsers[_1ba0]){}else{if(_1ba0===_1b8e.trim(_1b8d.getClientContextByKey("userID"))){_1ba1="user1";}else{if(!_1ba1||_1ba1===""){for(var j=0;j<self._colors.length;j++){if(!self._colors[j]["set"]){_1ba1=self._colors[j]["usercolor"];self._colors[j]["set"]=true;break;}}}}var _1ba2={};_1ba2["userId"]=_1ba0;_1ba2["usercolor"]=_1ba1;self._selectedUsers[_1ba0]=_1ba2;var _1ba3=_1b8e.clone(_1ba2);self._saveUserOption();grid.update();dojo.publish("/sage/ui/calendarUser/selectionChanged/add",[_1ba3,null]);}}else{self._maxUserCountReached=true;grid.rowSelectCell.toggleRow(_1b9f,false);Sage.UI.Dialogs.showError(_1b9b);}}else{if(self._checkedUsersCount<self._maxUserCount){}}});dojo.connect(grid.selection,"onDeselected",function(_1ba4){if(!self._initialLoad){if(self._maxUserCountReached){self._maxUserCountReached=false;return;}var item=grid.getItem(_1ba4);var _1ba5=false;var _1ba6=item["ResourceId"].substr(0,12);var _1ba7=self._selectedUsers[_1ba6].usercolor;if(self._selectedUsers[_1ba6]){_1ba5=true;}if(_1ba5){for(var j=0;j<self._colors.length;j++){if(self._colors[j]["usercolor"]===_1ba7){self._colors[j]["set"]=false;break;}}delete self._selectedUsers[_1ba6];self._checkedUsersCount--;self._saveUserOption();grid.update();var _1ba8={};_1ba8["userId"]=_1ba6;dojo.publish("/sage/ui/calendarUser/selectionChanged/remove",[_1ba8,this]);}}});dojo.connect(grid,"_onFetchComplete",function(){self._initialLoad=true;var _1ba9=false;var _1baa=[];var _1bab=_1b8e.clone(self._selectedUsers);var _1bac=self._grid.rowCount>self._grid.rowsPerPage?self._grid.rowsPerPage:self._grid.rowCount;for(var i=0;i<_1bac;i++){var item=self._storeItems[i];var _1bad=item["ResourceId"].substr(0,12);if(self._selectedUsers[_1bad]){_1baa.push(_1bad);if(!self._grid.selection.selected[i]){if(self._checkedUsersCount<self._maxUserCount){self._grid.rowSelectCell.toggleRow(i,true);self._checkedUsersCount++;}}}else{self._grid.rowSelectCell.toggleRow(i,false);}}for(var j in _1bab){var uId=_1b8e.trim(_1bab[j]["userId"].toString());var _1bae=_1b8e.trim(_1bab[j]["usercolor"].toString());if(array.indexOf(_1baa,uId)<0){delete self._selectedUsers[uId];for(var k=0;k<self._colors.length;k++){if(self._colors[k]["usercolor"]===_1bae){self._colors[k]["set"]=false;break;}}_1ba9=true;}}if(_1ba9){self._saveUserOption();}self._initialLoad=false;if(self._selectedUsers&&!self._isEmpty(self._selectedUsers)){var _1baf=_1b8e.clone(self._selectedUsers);if(!self._usersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/loaded",[_1baf,null]);}else{if(self._usersListUpdatedFromDialog&&self._selectedUsersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/updated",[_1baf,null]);}}self._grid.update();}else{if(!self._usersListUpdatedFromDialog){dojo.publish("/sage/ui/calendarUserList/loadedNavigationCalendar",[self._userOptions["weekstart"],this]);}}});self._grid.canSort=function(col){return false;};if(this._userOptions["rememberusers"]){this._loadCalendarUserListOptions();}else{var data={};var key="calendarUsers-"+this._currentUserId;data["value"]=this._getFromSessionStorage(key,this._LOCALSTORE_NAMESPACE);this._receivedCalendarUserListOptions(data);}},_isEmpty:function(obj){for(var prop in obj){if(obj.hasOwnProperty(prop)){return false;}}return true;},_loadCalendarUserListOptions:function(){var _1bb0=Sage.Services.getService("UserOptions");if(_1bb0){_1bb0.get("CalendarUsers","Calendar",this._receivedCalendarUserListOptions,null,this);}},_receivedCalendarUserListOptions:function(data){if(data!==null){if(data){var _1bb1=data["value"];var _1bb2=_1b8d.getClientContextByKey("userID");_1bb2=_1b8e.trim(_1bb2);if(_1bb1===null||_1bb1===""){_1bb1=_1bb2+"|"+"user1";}else{if(_1bb1.indexOf(_1bb2)<0){_1bb1+=","+_1bb2+"|"+"user1";}}dojo.cookie("selectedCalendarUsers",_1bb1);this._setSelectedUsers(_1bb1);}}if(this._selectedUsers){this._grid.startup();}},refreshCalendarUsers:function(_1bb3){var _1bb4="";var _1bb5=false;var self=this;for(var i in this._selectedUsers){_1bb4=this._selectedUsers[i]["userId"].toString();if(!_1b8d.isItemInArray(_1bb3,_1bb4)){var _1bb6=this._selectedUsers[_1bb4].usercolor;for(var j=0;j<this._colors.length;j++){if(this._colors[j]["usercolor"]===_1bb6){this._colors[j]["set"]=false;break;}}this._checkedUsersCount--;var _1bb7={};_1bb7["userId"]=_1bb4;dojo.publish("/sage/ui/calendarUser/selectionChanged/remove",[_1bb7,this]);delete this._selectedUsers[i];_1bb5=true;}}this._usersListUpdatedFromDialog=true;if(_1bb5){this._selectedUsersListUpdatedFromDialog=true;this._saveUserOption(this.refresh);}else{this._selectedUsersListUpdatedFromDialog=false;setTimeout(function(){self.refresh();},"10");}},_saveUserOption:function(_1bb8){var _1bb9="";if(this._selectedUsers){for(var i in this._selectedUsers){if(_1bb9!==""){_1bb9+=",";}_1bb9+=_1b8e.trim(this._selectedUsers[i]["userId"].toString());_1bb9+="|";if(this._selectedUsers[i]["usercolor"]){_1bb9+=this._selectedUsers[i]["usercolor"].toString();}}if(this._userOptions["rememberusers"]){var _1bba=Sage.Services.getService("UserOptions");if(_1bba){_1bba.set("CalendarUsers","Calendar",_1bb9,_1bb8,null,this);}}else{var key="calendarUsers-"+this._currentUserId;this._saveToSessionStorage(key,_1bb9,this._LOCALSTORE_NAMESPACE);}}},_setSelectedUsers:function(_1bbb){if(_1bbb!==null){var _1bbc=_1bbb.split(",");var _1bbd;var _1bbe,_1bbf;for(var i=0;i<_1bbc.length;i++){_1bbd=_1bbc[i];if(_1bbd){_1bbe=_1bbd.split("|")[0];_1bbf=_1bbd.split("|")[1];if(!_1bbf){for(var j=0;j<this._colors.length;j++){if(!this._colors[j]["set"]){_1bbf=this._colors[j]["usercolor"];this._colors[j]["set"]=true;break;}}}else{for(var k=0;k<this._colors.length;k++){if(this._colors[k]["usercolor"]===_1bbf){this._colors[k]["set"]=true;break;}}}var _1bc0={};_1bc0["userId"]=_1bbe;_1bc0["usercolor"]=_1bbf;this._selectedUsers[_1bbe]=_1bc0;}}}},_getFromSessionStorage:function(key,_1bc1){if(!_1bc1){_1bc1=this._LOCALSTORE_NAMESPACE;}var _1bc2=_1bc1+"_"+key;return sessionStorage.getItem(_1bc2);},_saveToSessionStorage:function(key,value,_1bc3){if(!_1bc3){_1bc3=this._LOCALSTORE_NAMESPACE;}var _1bc4=_1bc3+"_"+key;sessionStorage.setItem(_1bc4,value);}});return _1b94;});},"Sage/QuickForms/Design/NumericControlDesigner":function(){define("Sage/QuickForms/Design/NumericControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/NumericBasicPropertyEditor","./Editors/NumericAdvancedPropertyEditor","dojo/i18n!./nls/NumericControlDesigner"],function(_1bc5,array,lang,_1bc6,_1bc7,_1bc8,_1bc9,_1bca,_1bcb,_1bcc,_1bcd){return _1bc5("Sage.QuickForms.Design.NumericControlDesigner",[_1bc7,_1bc8,_1bc6,_1bc9],{designSupport:{visible:true},editors:[_1bcb,_1bcc,_1bca],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-numeric",helpTopicName:"Numeric_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXNumeric, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Numeric",constructor:function(){lang.mixin(this,_1bcd);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1bce){return(_1bce["ControlItemName"]=="Text");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDecimalDigitsAttr:function(){return lang.getObject("DecimalDigits.DecimalDigits",false,this.entry);},_setDecimalDigitsAttr:function(value){lang.setObject("DecimalDigits.DecimalDigits",value,this.entry);},_getFormatTypeAttr:function(){return lang.getObject("FormatType",false,this.entry);},_setFormatTypeAttr:function(value){lang.setObject("FormatType",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getStrictAttr:function(){return lang.getObject("DecimalDigits.Strict",false,this.entry);},_setStrictAttr:function(value){lang.setObject("DecimalDigits.Strict",value,this.entry);},setupFor:function(_1bcf){this.inherited(arguments);this.set("decimalDigits",-1);this.set("formatType","Number");this.set("maxLength",_1bcf["data"].length||-1);this.set("strict",false);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_1bcf.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1bcf.propertyPath||"");},startup:function(){this.inherited(arguments);var _1bd0=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1bd0&&_1bd0["DataItemName"])||this.get("text")||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/TaskPane/nls/AccountingTasksTasklet":function(){define("Sage/TaskPane/nls/AccountingTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1bd1,lang){var nls={root:{updatePricingRecords:"You may only select one record when performing this option."}};return lang.mixin(_1bd1,nls);});},"Sage/QuickForms/Design/Editors/nls/DataGridBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/DataGridBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1bd2,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",dataText:"Data",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",pageSizeText:"Page Size:",pageSizeTooltipText:"The number of grid records to display on a single page.",resizableColumnsText:"Resizable Columns:",resizableColumnsTooltipText:"Allows user to resize columns.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1bd2,nls);});},"Sage/UI/SpeedSearch":function(){require({cache:{"url:Sage/templates/SpeedSearch.html":'<span>\r    <!-- the textbox -->\r    <input type="text" id="txt_ss" />\r    <!--the image button-->\r    <button id=\'ss-btn-image\' type="button" style="font-size:10px"></button>\r    <button id=\'ss-btn-toggle\' type="button" style="font-size:10px"></button>\r</span>\r'}});define("Sage/UI/SpeedSearch",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/i18n","dojo/text","dijit/_Widget","Sage/UI/TextBox","Sage/UI/ImageButton","Sage/UI/ToggleButton","dojo/i18n!./nls/SpeedSearch","dojo/text!../templates/SpeedSearch.html","dojo/_base/declare"],function(_1bd3,_1bd4,i18n,text,_1bd5,_1bd6,_1bd7,_1bd8,nls,_1bd9,_1bda){var _1bdb=_1bda("Sage.UI.SpeedSearch",[_1bd5,_1bd3,_1bd4],{templateString:_1bd9,standardText:"standard",advancedText:"advanced",speedSearchText:"SpeedSearch",postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI","SpeedSearch"));this.inherited(arguments);},postCreate:function(){var that=this;var re=/SpeedSearch\.aspx|speedsearch\.aspx/;this.isSS=re.test(window.location.pathname);this.QS=window.location.search;if(this.QS){this.queryObject=dojo.queryToObject(this.QS.substring(1,this.QS.length));}var _1bdc=new _1bd8({showLabel:true,checked:false,"class":"quick-speedsearch-toggle",onClick:function(){if(this.getValue()===that.standardText){this.setValue(that.advancedText);if(that.isSS){that.toggleAdv();}}else{this.setValue(that.standardText);if(that.isSS){that.toggleAdv();}}},label:this.queryObject?this.queryObject.type:this.standardText},"ss-btn-toggle");_1bdc.set("class","displaynone");if(_1bdc.getValue()===this.advancedText&&this.isSS){this.toggleAdv();}var _1bdd=new _1bd6({watermark:true,value:this.speedSearchText,"class":"quick-speedsearch-text",onKeyDown:function(event){if(event.keyCode===13){that._goSearch(_1bdd.getValue(),_1bdc.getValue());}}},"txt_ss");if(this.queryObject){_1bdd.forceFocus(this.queryObject.terms);}var _1bde=new _1bd7({imageClass:"icon_SpeedSearch_16x16","class":"quick-speedsearch-button",onClick:function(){that._goSearch(_1bdd.getValue(),_1bdc.getValue());}},"ss-btn-image");this.inherited(arguments);},_goSearch:function(terms,type){if(terms!==this.speedSearchText){window.location="SpeedSearch.aspx?terms="+terms+"&type="+type;}},toggleAdv:function(){window.ToggleAdvanced();}});return _1bdb;});},"Sage/QuickForms/Design/Editors/nls/CurrencyBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CurrencyBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1bdf,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_1bdf,nls);});},"Sage/UI/nls/EditableGrid":function(){define("Sage/UI/nls/EditableGrid",["Sage/LanguageList","dojo/_base/lang"],function(_1be0,lang){var nls={root:{unsavedDataText:"*unsaved data",addText:"Add",deleteText:"Delete",saveText:"Save",cancelText:"Cancel",noSelectionsText:"There are no records selected.",confirmDeleteFmtTxt:"Are you sure you want to delete these ${0} items?",yesText:"Yes",noText:"No",createItemsInvalidArrayText:"The items parameter in Sage.UI.EditableGrid.createItems() should be an array.",recordCountFormatString:"Records ${0} - ${1} of ${2}",noDataMessage:"No records match the selection criteria.",dirtyDataMessage:"You have unsaved data.  If you continue you will lose the changes you have made.",okText:"OK"}};return lang.mixin(_1be0,nls);});},"Sage/MainView/IntegrationContract/nls/SalesQuoteRTDV":function(){define("Sage/MainView/IntegrationContract/nls/SalesQuoteRTDV",["Sage/LanguageList","dojo/_base/lang"],function(_1be1,lang){var nls={root:{dialogCaption:"Sales Quote Details",loadingText:"loading...",lblSalesQuoteCaption:"Sales Quote:",lblStatusCaption:"Status:",lblGrossTotalCaption:"Quote Amount:",lblQuoteDateCaption:"Quote Date:",lblTaxTotalCaption:"Tax Total:",lblHoldStatusCaption:"Hold Status:",lblCurrencyCaption:"Currency:",lblTypeCaption:"Type:",lblCostTotalCaption:"Total Cost:",lblPONumberCaption:"PO Number:",lblProfitTotalCaption:"Total Profit:",lblQuotationCaption:"Quotation:",lblInvoiceStatusCaption:"Invoice Status:",lblContactCaption:"Contact:",lblDeliveryDateCaption:"Delivery Date:",lblDueDateCaption:"Due Date:",lblPriceListCaption:"Price List:",lblCarrierCaption:"Carrier:",lblNetTotalCaption:"Net Total:",lblAllocationStatusCaption:"Allocation Status:",lblDiscountTotalCaption:"Discount Total:",lblDeliveryStatusCaption:"Delivery Status:",lblChargesTotalCaption:"Charges Total:",detailsTabTitle:"Details",salesPersonsTabTitle:"Sales Persons",addressTabTitle:"Addresses",salesQuoteLinesTabTitle:"Sales Quote Lines",paymentsTabTitle:"Payments",deliveriesTabTitle:"Deliveries",grdSalesQuote_Edit:"Edit",grdSalesQuote_QuoteNumber:"Quote Number",grdSalesQuote_QuoteDate:"Quote Date",grdSalesQuote_Status:"Status",grdSalesQuote_HoldStatus:"Hold Status",grdSalesQuote_Type:"Type",grdSalesQuote_PO:"PO Number",grdSalesQuote_NetTotal:"Net Total",grdSalesQuote_DiscountTotal:"Discount Total",grdSalesQuote_ChargesTotal:"Charges Total",grdSalesQuote_TaxTotal:"Tax Total",grdSalesQuote_GrossTotal:"Gross Total",grdSalesQuote_Currency:"Currency",grdSalesPersons_Name:"Name",grdSalesPersons_Type:"Type",grdSalesPersons_Extension:"Extension",grdSalesPersons_Relationship:"Relationship",grdAddress_Name:"Name",grdAddress_Address1:"Address 1",grdAddress_Address2:"Address 2",grdAddress_City:"City",grdAddress_State:"State",grdAddress_Zip:"Zip",grdItems_Line:"Line Number",grdItems_Type:"Type",grdItems_Commodity:"Commodity",grdItems_CommodityVariant:"Variant",grdItems_CommodityDimension:"Dimension",grdItems_UnitOfMeasure:"Unit",grdItems_Location:"Location",grdItems_PriceList:"Price List",grdItems_Quantity:"Quantity",grdItems_InitialPrice:"Initial Price",grdItems_ActualPrice:"Actual Price",grdItems_NetTotal:"Net Total",grdItems_ChargesTotal:"Charges Total",grdItems_DiscountTotal:"Discount Total",grdItems_TaxTotal:"Tax Total",grdItems_GrossTotal:"Gross Total",grdPayments_Date:"Payment Date",grdPayments_Name:"Name",grdPayments_Type:"Type",grdPayments_Status:"Status",grdPayments_NetTotal:"Net Total",grdPayments_Discounts:"Discounts",grdPayments_Charges:"Charges",grdPayments_Tax:"Tax",grdPayments_GrossTotal:"Gross Total",grdPayments_Currency:"Currency",grdPayments_TenderType:"Tender Type",grdPayments_TenderReference:"Tender Reference",grdPayments_ProcessDate:"Process Date",grdDeliveries_Number:"Number",grdDeliveries_Type:"Type",grdDeliveries_Status:"Status",grdDeliveries_RequestedDate:"Requested Date",grdDeliveries_ActualDate:"Actual Date",grdDeliveries_ActualTime:"Actual Time",grdDeliveries_RequestedQuantity:"Requested Quantity",grdDeliveries_DeliveredQuantity:"Delivered Quantity",grdDeliveries_Method:"Method",grdDeliveries_Carrier:"Carrier",grdDeliveries_CarrierReference:"Carrier Reference",grdDeliveries_ExceptionReason:"Exception Reason",errorERPRequest:"An error occurred opening accounting systems sales quote detail view. ",errorERPRequestDetails:"${0}, ${1} Request: ${2}",btnCloseCaption:"Close"}};return lang.mixin(_1be1,nls);});},"Sage/MainView/SecurityMgr/nls/SecurityProfile":function(){define("Sage/MainView/SecurityMgr/nls/SecurityProfile",["Sage/LanguageList","dojo/_base/lang"],function(_1be2,lang){var nls={root:{securityProfile_Caption:"Security Profile",btnCancel_Caption:"Cancel",ok_Text:"OK",description_Text:"Description",profileType_Text:"Profile Type"}};return lang.mixin(_1be2,nls);});},"Sage/Data/ProxySDataStore":function(){define("Sage/Data/ProxySDataStore",["Sage/Data/BaseSDataStore","Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_1be3,_1be4,_1be5){var _1be6=_1be5("Sage.Data.ProxySDataStore",_1be3,{constructor:function(o){this.singleResource=null;this._request=null;this._hasValidService=(typeof this.service!=="undefined");},getCollectionRequestObj:function(_1be7){if(!this._hasValidService){return false;}var _1be8=this.inherited(arguments);if(typeof this.getResourcePredicate==="function"){var idx=(_1be8.uri.getPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex))?Sage.SData.Client.SDataUri.ResourcePropertyIndex:_1be8.uri.pathSegments.length-1;var _1be9=_1be8.uri.getPathSegment(idx);var pred=this.getResourcePredicate.call(this);if(typeof pred!=="undefined"&&pred!==""){if((pred.indexOf(" ")<0)&&((pred.replace(/[\"\']/,"")===pred))){pred="'"+pred+"'";}_1be9["predicate"]=pred;_1be8.uri.setPathSegment(idx,_1be9);}else{if(typeof console!=="undefined"){return false;}}}if(this.pathSegments&&this.pathSegments.length>0){var _1bea=_1be8.uri.pathSegments.length;for(var i=0;i<this.pathSegments.length;i++){_1be8.uri.setPathSegment(_1bea,this.evaluatePathSegment(this.pathSegments[i]));_1bea++;}}return _1be8;},fetch:function(_1beb){if(_1beb.queryOptions&&_1beb.queryOptions.singleResourceRequest){return this.returnCollectionProperty(_1beb,_1beb.queryOptions.property);}return this.inherited(arguments);},verifyService:function(){if(!this.service){this.service=_1be4.getSDataService("proxy",true);}this._hasValidService=true;if(typeof this.getAppId==="function"){var appid=this.getAppId();if(typeof appid!=="undefined"&&appid!==""){this.service.setDataSet(appid);}else{if(typeof console!=="undefined"){this._hasValidService=false;}}}},returnCollectionProperty:function(_1bec,_1bed){if(this._entity.hasOwnProperty(_1bed)&&this._entity[_1bed]!==null){var list=this._entity[_1bed].$resources;if(typeof list!=="unknown"){if(_1bec.onBegin){_1bec.onBegin.call(_1bec.scope||this,list.length,_1bec);}if(_1bec.onComplete){_1bec.onComplete.call(_1bec.scope||this,list,_1bec);}}}if(_1bec.onError){_1bec.onError.call(_1bec.scope||this,"Invalid data url",_1bec);}},evaluatePathSegment:function(_1bee){if(typeof _1bee==="string"){return{"text":_1bee};}if(typeof _1bee.getPredicate==="function"){return{"text":_1bee.text,"predicate":_1bee.getPredicate()};}if(typeof _1bee.getPredicate==="string"){return{"text":_1bee.text,"predicate":_1bee.getPredicate};}return _1bee;},receiveSingleResource:function(data){this.onGetSingleResource(data);},_getRequest:function(){this.verifyService();if(this._request===null){var _1bef=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_1bef.setResourceKind(this.resourceKind);if(typeof this.getResourcePredicate==="function"){var idx=_1bef.uri.getPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex)||_1bef.uri.pathSegments.length-1;var _1bf0=_1bef.uri.getPathSegment(idx);var pred=this.getResourcePredicate.call(this);if(typeof pred!=="undefined"&&pred!==""){if((pred.indexOf(" ")<0)&&((pred.replace(/[\"\']/,"")===pred))){pred="'"+pred+"'";}_1bf0["predicate"]=pred;_1bef.uri.setPathSegment(idx,_1bf0);}else{if(typeof console!=="undefined"){return false;}}}if(this.pathSegments&&this.pathSegments.length>0){var _1bf1=_1bef.uri.pathSegments.length;for(var i=0;i<this.pathSegments.length;i++){_1bef.uri.setPathSegment(_1bf1,this.evaluatePathSegment(this.pathSegments[i]));_1bf1++;}}_1bef.setQueryArgs({"select":this.select.join(","),"include":this.include.join(",")});if(this.includeContent&&this.includeContent===true){_1bef.setQueryArg({"_includeContent":true});}this._request=_1bef;}return this._request;},getSingleResource:function(){var _1bf2=this._getRequest();_1bf2.read({success:dojo.hitch(this,this.onSuccessLoad),failure:dojo.hitch(this,this.onFailure)});},onSuccessLoad:function(data){if(data){if(typeof console!=="undefined"){}this._entity=data;this.onGetSingleResource(data);}else{if(typeof console!=="undefined"){}var empty={$resources:[]};this._entity=empty;this.onGetSingleResource(empty);}},onGetSingleResource:function(data){}});return _1be6;});},"url:Sage/TaskPane/User/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divContactLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"contactLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/Utility":function(){define("Sage/Utility",["dojo/parser","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","Sage/Utility/ErrorHandler","dojox/validate/regexp","dojo/i18n!./Utility/nls/Utility","dojo/ready","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/xhr"],function(_1bf3,_1bf4,_1bf5,_1bf6,_1bf7,_1bf8,ready,_1bf9,array,lang,xhr){Sage.namespace("Utility");dojo.mixin(Sage.Utility,{_timeZones:null,_userCache:null,nameToPathCache:{},nlsStrings:_1bf8,regexp:{invalidInput:"^((?!(<([!\\/?A-Za-z])|(&#))).)*$",invalidInputFmt:"^((?!(<([!\\/?A-Za-z])|(&#)|(${0}))).)*$",invalidInputMatch:"<[!\\/?A-Za-z]|&#"},makeTemplateFromString:function(_1bfa,split){var _1bfb,_1bfc;if(typeof split==="undefined"||split===null){split="\r";}_1bfb=array.filter(_1bfa.split(split),function(item){return typeof item!=="undefined"&&item!==null&&_1bf9.trim(item)!=="";});_1bfc=new Simplate(_1bfb);return _1bfc;},joinInvalidInputRegExpWith:function(_1bfd){if(_1bfd&&dojo.isString(_1bfd)&&_1bfd.length>0){return _1bf9.substitute(this.regexp.invalidInputFmt,[_1bfd]);}return _1bfd;},getInvalidInputMatches:function(s){if(s&&dojo.isString(s)&&s.length>0){var _1bfe=s.match(this.regexp.invalidInputMatch,"g");if(_1bfe&&dojo.isArray(_1bfe)){return _1bfe;}}return[];},isSafeForPosting:function(s){if(s&&dojo.isString(s)){if(s.length===0){return true;}var match=s.match(this.regexp.invalidInputMatch);if(match===null){return true;}if(dojo.isArray(match)&&match.length===0){return true;}}if(!s&&s===null){return true;}return false;},makeSafeForPosting:function(s){var _1bff=this.getInvalidInputMatches(s);if(_1bff&&dojo.isArray(_1bff)&&_1bff.length>0){array.forEach(_1bff,function(match){var _1c00=match;if(match.length>=2){_1c00=match.substr(0,1)+" "+match.substr(1);}if(_1c00!==match){s=s.replace(match,_1c00);}});}return s;},nameToPath:function(name){var parts,path,i,match;if(typeof name!=="string"){return[];}if(Sage.Utility.nameToPathCache[name]){return Sage.Utility.nameToPathCache[name];}parts=name.split(".");path=[];for(i=0;i<parts.length;i++){match=parts[i].match(/([a-zA-Z0-9_$]+)\[([^\]]+)\]/);if(match){path.push(match[1]);if(/^\d+$/.test(match[2])){path.push(parseInt(match[2],10));}else{path.push(match[2]);}}else{path.push(parts[i]);}}Sage.Utility.nameToPathCache[name]=path.reverse();return Sage.Utility.nameToPathCache[name];},expand:function(scope,_1c01){if(typeof _1c01==="function"){return _1c01.apply(scope,Array.prototype.slice.call(arguments,2));}else{return _1c01;}},getValue:function(o,name,_1c02){_1c02=(typeof _1c02!=="undefined"&&_1c02!==null)?_1c02:"";var path=Sage.Utility.nameToPath(name).slice(0);var _1c03=o;while(_1c03&&path.length>0){var key=path.pop();if(typeof _1c03[key]!=="undefined"&&_1c03[key]!==null){_1c03=_1c03[key];}else{return _1c02;}}return _1c03;},setValue:function(o,name,val){var _1c04=o;var path=Sage.Utility.nameToPath(name).slice(0);while((typeof _1c04!=="undefined")&&path.length>1){var key=path.pop();if(path.length>0){var next=path[path.length-1];_1c04=_1c04[key]=(typeof _1c04[key]!=="undefined")?_1c04[key]:(typeof next==="number")?[]:{};}}if(_1c04!==null&&typeof path[0]!=="undefined"){_1c04[path[0]]=val;}return o;},getPlainText:function(node){var _1c05=function(a){if(!a){return"";}return a.replace(/ +/g," ").replace(/[\t]+/gm,"").replace(/[ ]+$/gm,"").replace(/^[ ]+/gm,"").replace(/\n+/g,"\n").replace(/\n+$/,"").replace(/^\n+/,"").replace(/\nNEWLINE\n/g,"\n\n").replace(/NEWLINE\n/g,"\n\n");};var _1c06=function(node){var _1c07=function(node){return !(/[^\t\n\r ]/.test(node.nodeValue));};var ws=[];var _1c08=function(node){for(var i=0;i<node.childNodes.length;i++){var n=node.childNodes[i];if(n.nodeType==3&&_1c07(n)){ws.push(n);}else{if(n.hasChildNodes()){_1c08(n);}}}};_1c08(node);for(var i=0;i<ws.length;i++){ws[i].parentNode.removeChild(ws[i]);}};var sty=function(n,prop){if(n.style[prop]){return n.style[prop];}var s=n.currentStyle||n.ownerDocument.defaultView.getComputedStyle(n,null);if(n.tagName=="SCRIPT"){return"none";}if(!s[prop]){return"LI,P,TR".indexOf(n.tagName)>-1?"block":n.style[prop];}if(s[prop]=="block"&&n.tagName=="TD"){return"feaux-inline";}return s[prop];};var _1c09="table-row,block,list-item";var _1c0a=function(n){var s=sty(n,"display")||"feaux-inline";if(_1c09.indexOf(s)>-1){return true;}return false;};var _1c0b=function(n){if(/pre/.test(sty(n,"whiteSpace"))){t+=n.innerHTML.replace(/\t/g," ").replace(/\n/g," ");return"";}var s=sty(n,"display");if(s=="none"){return"";}var gap=_1c0a(n)?"\n":" ";t+=gap;for(var i=0;i<n.childNodes.length;i++){var c=n.childNodes[i];if(c.nodeType==3){t+=c.nodeValue;}if(c.childNodes.length){_1c0b(c);}}t+=gap;return t;};node=node.cloneNode(true);node.innerHTML=node.innerHTML.replace(/<br>/g,"\n");var paras=node.getElementsByTagName("p");for(var i=0;i<paras.length;i++){paras[i].innerHTML+="NEWLINE";}var t="";_1c06(node);return _1c05(_1c0b(node));},debounce:function(func,wait,_1c0c){var _1c0d;return function(){var _1c0e=this,args=arguments;var later=function(){_1c0d=null;if(!_1c0c){func.apply(_1c0e,args);}};if(_1c0c&&!_1c0d){func.apply(_1c0e,args);}clearTimeout(_1c0d);_1c0d=setTimeout(later,wait);};},extend:function(){var _1c0f=arguments[0]||{},i=1,_1c10=arguments.length,deep=false,_1c11;if(_1c0f.constructor==Boolean){deep=_1c0f;_1c0f=arguments[1]||{};i=2;}if(typeof _1c0f!="object"&&typeof _1c0f!="function"){_1c0f={};}if(_1c10==i){_1c0f=this;--i;}for(;i<_1c10;i++){if((_1c11=arguments[i])!=null){for(var name in _1c11){var src=_1c0f[name],copy=_1c11[name];if(_1c0f===copy){continue;}if(deep&&copy&&typeof copy=="object"&&!copy.nodeType){_1c0f[name]=Sage.Utility.extend(deep,src||(copy.length!=null?[]:{}),copy);}else{if(copy!==undefined){_1c0f[name]=copy;}}}}}return _1c0f;},getCurrentEntityId:function(){var _1c12=Sage.Services.getService("ClientEntityContext");var _1c13=_1c12.getContext();return _1c13.EntityId;},getClientContextByKey:function(key){var res="";if(Sage.Services){var _1c14=Sage.Services.getService("ClientContextService");if((_1c14)&&(_1c14.containsKey(key))){res=_1c14.getValue(key);}}return res;},getVirtualDirectoryName:function(){var reg=new RegExp(window.location.host+"/([A-Za-z0-9\\-_]+)/");var arr=reg.exec(window.location.href);if(arr){return arr[1];}return"";},getSDataService:function(_1c15,_1c16,_1c17,_1c18){return Sage.Data.SDataServiceRegistry.getSDataService(_1c15,_1c16,_1c17,_1c18);},appLoadHandler:function(_1c19,args){Sys.WebForms.PageRequestManager.getInstance().add_pageLoaded(Sage.Utility.pageLoaded);Sys.WebForms.PageRequestManager.getInstance().add_pageLoading(Sage.Utility.pageLoading);Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(Sage.Utility.showRequestIndicator);Sys.WebForms.PageRequestManager.getInstance().add_endRequest(Sage.Utility.hideRequestIndicator);Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(window.AutoLogout.resetTimer);},pageLoaded:function(_1c1a,args){var _1c1b=args.get_panelsUpdated();if(typeof(_1c1b)==="undefined"){return;}for(var i=0;i<_1c1b.length;i++){dojo.parser.parse(_1c1b[i]);}},pageLoading:function(_1c1c,args){var _1c1d=args.get_panelsUpdating();if(typeof(_1c1d)==="undefined"){return;}for(var i=0;i<_1c1d.length;i++){var panel=_1c1d[i],_1c1e=dijit.findWidgets(panel);dojo.forEach(_1c1e,function(_1c1f){_1c1f.destroyRecursive(true);});}},destroyWidget:function(_1c20){var _1c21=dojo.attr(_1c20,"widgetId");if(dijit.byId(_1c21)){dijit.byId(_1c21).destroyRecursive();}},showRequestIndicator:function(){var elem=document.getElementById("asyncpostbackindicator");if(elem){elem.style.visibility="visible";}},hideRequestIndicator:function(_1c22,args){var elem=dojo.byId("asyncpostbackindicator");if(elem){elem.style.visibility="hidden";}_1bf6.handleEndRequestError(args);},isAllowedNavigationKey:function(_1c23){return(_1c23==8||_1c23==9||_1c23==46||_1c23==37||_1c23==39);},restrictDecimalDigit:function(value,_1c24,_1c25){var _1c26=value;if(typeof _1c24==="undefined"){_1c24=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalDigits;}if(_1c24.length>1){var range=_1c24.split(",");_1c24=parseInt(range[1]);}if(typeof _1c25==="undefined"){_1c25=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator;}var _1c27=value.indexOf(_1c25)+1+_1c24;if(_1c24===0){_1c27=_1c27-1;}if(value.indexOf(")")>0){_1c27+=1;}if(value.lastIndexOf(_1c25)>-1){_1c26=value.substr(0,_1c27);}return _1c26;},maximizeDecimalDigit:function(value,_1c28,_1c29){var diff;var _1c2a=value;if(typeof _1c28==="undefined"){_1c28=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalDigits;}if(typeof _1c29==="undefined"){_1c29=Sys.CultureInfo.CurrentCulture.numberFormat.NumberDecimalSeparator;}if(_1c28>0&&value.lastIndexOf(_1c29)==-1&&value.length>0){_1c2a=[value,_1c29].join("");}var _1c2b=_1c2a.lastIndexOf(_1c29)+1+_1c28;if(_1c2a.lastIndexOf(_1c29)>-1){diff=_1c2b-_1c2a.length;if(diff>0){for(var i=0;i<diff;i++){_1c2a+=0;}}}return _1c2a;},restrictToNumber:function(e,type){var _1c2c=Sys.CultureInfo.CurrentCulture.numberFormat;var code=e.charCode||e.keyCode;var _1c2d=e.keyChar;if(e.keyCode&&Sage.Utility.isAllowedNavigationKey(e.keyCode)){return true;}if((code>=48&&code<=57&&!e.shiftKey)||(code>=96&&code<=105&&!e.shiftKey)){return true;}if(_1c2d===_1c2c.NegativeSign||code==109||code==110){return true;}switch(type){case"currency":if(_1c2d==_1c2c.CurrencyGroupSeparator||_1c2d==_1c2c.CurrencyDecimalSeparator){return true;}break;case"percent":if(_1c2d==_1c2c.PercentGroupSeparator||_1c2d==_1c2c.PercentDecimalSeparator){return true;}break;default:if(_1c2d==_1c2c.NumberGroupSeparator||_1c2d==_1c2c.NumberDecimalSeparator){return true;}break;}return false;},restrictToNumberOnKeyPress:function(e,type){if(e.keyCode&&Sage.Utility.isAllowedNavigationKey(e.keyCode)){return true;}var _1c2e=Sys.CultureInfo.CurrentCulture.numberFormat;var code=e.charCode||e.keyCode;var _1c2f=String.fromCharCode(code);var _1c30="0123456789"+_1c2e.NegativeSign;switch(type){case"currency":_1c30+=_1c2e.CurrencyGroupSeparator+_1c2e.CurrencyDecimalSeparator;break;case"percent":_1c30+=_1c2e.PercentGroupSeparator+_1c2e.PercentDecimalSeparator;break;default:_1c30+=_1c2e.NumberGroupSeparator+_1c2e.NumberDecimalSeparator;break;}return(_1c30.indexOf(_1c2f)>=0);},Convert:function(){var _1c31=/^(true|T)$/i,_1c32=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(Z|(-|\+)(\d{2}):(\d{2}))/,_1c33=/^(\d{4})-(\d{2})-(\d{2})$/,_1c34=/\/Date\((-?\d+)(?:(-|\+)(\d{2})(\d{2}))?\)\//,pad=function(n){return n<10?"0"+n:n;},unpad=function(str){return(str[0]==="0")?str.substring(1):str;};return{toBoolean:function(value){return _1c31.test(value);},isDateString:function(value){if(typeof value!=="string"){return false;}return _1c32.test(value)||_1c33.test(value)||_1c34.test(value);},dateToTimeless:function(d){var _1c35=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,5);return _1c35;},toIsoStringFromDate:function(value){if((value.getHours()===0)&&(value.getMinutes()===0)&&(value.getSeconds()===5)){return value.getFullYear()+"-"+pad(value.getMonth()+1)+"-"+pad(value.getDate())+"T00:00:05Z";}return value.getUTCFullYear()+"-"+pad(value.getUTCMonth()+1)+"-"+pad(value.getUTCDate())+"T"+pad(value.getUTCHours())+":"+pad(value.getUTCMinutes())+":"+pad(value.getUTCSeconds())+"Z";},toIsoStringFromDateNonUTC:function(value){return value.getFullYear()+"-"+pad(value.getMonth()+1)+"-"+pad(value.getDate())+"T"+pad(value.getHours())+":"+pad(value.getMinutes())+":"+pad(value.getSeconds())+"Z";},toJsonStringFromDate:function(value){return"/Date("+value.getTime()+")/";},toDateFromString:function(value,_1c36){if(typeof value!=="string"){return value;}var match,utc,h,m,_1c37;if((match=_1c34.exec(value))){utc=new Date(parseInt(match[1]));if(_1c36===true){if(match[2]){h=parseInt(match[3]);m=parseInt(match[4]);_1c37=(h*60)+m;if(match[2]==="-"){_1c37=-1*_1c37;}utc.setMinutes(utc.getMinutes()+_1c37);}}value=utc;}else{if((match=_1c32.exec(value))){utc=new Date(Date.UTC(parseInt(match[1]),parseInt(unpad(match[2]))-1,parseInt(unpad(match[3])),parseInt(unpad(match[4])),parseInt(unpad(match[5])),parseInt(unpad(match[6]))));if(match[8]!=="Z"){h=parseInt(match[10],10);m=parseInt(match[11],10);_1c37=(h*60)+m;if(match[9]==="-"){_1c37=-1*_1c37;}utc.setMinutes(utc.getMinutes()+_1c37);}value=utc;}else{if((match=_1c33.exec(value))){value=new Date();value.setYear(parseInt(match[1]));value.setMonth(parseInt(match[2],10)-1);value.setDate(parseInt(match[3],10));value.setHours(0,0,0,0);}}}return value;},toArrayFromObject:function(_1c38){if(_1c38&&typeof _1c38.length=="undefined"){var array=[];array.push(_1c38);return array;}return _1c38;}};}(),getModeId:function(){var _1c39=Sage.Services.getService("ClientContextService");if((_1c39)&&(_1c39.containsKey("modeid"))){var mode=_1c39.getValue("modeid");return mode.toLowerCase();}var u=document.location.href;var idx=u.indexOf("?");if(idx>0){var qry=u.substring(idx+1);var parts=qry.split("&");for(var i=0;i<parts.length;i++){var pair=parts[i].split("=");if(pair.length>1){if(pair[0].toLowerCase()==="modeid"){return pair[1];}}}}return"None";},getPageName:function(){var url=document.location.href;var _1c3a=url.substring(url.lastIndexOf("/")+1);return _1c3a;},openHelp:function(topic,_1c3b){var url=Sage.Link.getHelpUrl(topic,_1c3b);var _1c3c=Sage.Link.getHelpUrlTarget();window.open(url,_1c3c);},fragger:function(frag,doc){if(typeof frag!=="string"){return;}doc=doc||dojo.doc;var outer=doc.createElement("div");var inner=dojo._toDom(frag,doc);outer.appendChild(inner);return outer;},fragToDijits:function(frag,ns){var _1c3d=dojo.parser.parse(frag,{noStart:ns||true});return _1c3d;},strToDijits:function(tpl,ns){if(typeof tpl!=="string"){return;}var frag=this.toMasterFrag(tpl);return this.fragToDijits(frag,ns);},fragWalker:function walk(node,fn){fn(node);node=node.firstChild;while(node){walk(node,fn);node=node.nextSibling;}},extract:function(obj,what){var count=(what===2),out=(count)?0:[],i;for(i in obj){if(count){out++;}else{if(window.has(obj,i)){out.push((what)?obj[i]:i);}}}return out;},keys:function(obj){return Sage.Utility.extract(obj);},size:function(obj){return Sage.Utility.extract(obj,2);},loadDetailsDialog:function(obj){Sage.ClientLinkHandler.request({request:"ShowDialog",type:obj.entityType,smartPart:obj.smartPart,entityId:obj.entityId,dialogTitle:obj.dialogTitle,isCentered:obj.isCentered,dialogTop:obj.dialogTop,dialogLeft:obj.dialogLeft,dialogHeight:obj.dialogHeight,dialogWidth:obj.dialogWidth});},values:function(obj){return Sage.Utility.extract(obj,1);},mixOwn:function(_1c3e,_1c3f){for(var p in _1c3f){if(_1c3f.hasOwnProperty(p)){_1c3e[p]=_1c3f[p];}}return _1c3e;},getPrecision:function(str){var match=str.match(/\.(\d+)/),_1c40;if(match){_1c40=parseInt(match[1],10);}return _1c40?_1c40:0;},htmlEncode:function(str){if(typeof str!="string"){return str;}if(!str){return"";}return str.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");},htmlDecode:function(str){if(typeof str!="string"){return str;}return str.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&#39;/g,"'");},getSelectionInfo:function(){var panel=dijit.byId("list");if(panel){return panel.getSelectionInfo();}return false;},Timezone_populatelist:function(_1c41,_1c42){var sel,_1c43;if(_1c41==="TimezoneList"){sel=dijit.byId(_1c41);_1c43=dojo.byId(_1c41+"_Selected");}else{sel=$("#"+_1c41+" #TimezoneList")[0];sel=dijit.getEnclosingWidget(sel);_1c43=$("#"+_1c41).find("input").filter("[@type=hidden]")[0];}if(sel&&typeof sel!=="undefined"&&sel.options.length==1){sel.options.length=0;var self=this;var _1c44=function _1c44(){var _1c45=[];var _1c46=null;dojo.forEach(self._timeZones,function(tz){var _1c47={label:tz.Displayname,value:tz.Keyname,selected:false};_1c45.push(_1c47);if(tz.Keyname==_1c43.value){_1c46=tz.Keyname;_1c47.selected=true;}});sel.addOption(_1c45);if(_1c46!==null){sel.set("value",_1c46);}dojo.connect(sel,"onBlur",function(){_1c43.value=sel.get("value");});dojo.connect(sel,"onChange",function(){if(_1c42){_1c43.value=sel.get("value");__doPostBack(sel.id,"");}});};if(this._timeZones!==null){_1c44();}else{dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(list){self._timeZones=list;_1c44();},error:function(error,_1c48){_1bf6.handleHttpError(error,_1c48);return error;}});}}return true;},getTimeZones:function(_1c49){var _1c4a=JSON.parse(sessionStorage.getItem("_timeZones"));if(_1c4a&&_1c4a.length>0){_1c49(_1c4a);}else{dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(list){sessionStorage.setItem("_timeZones",JSON.stringify(list));_1c49(list);},error:function(error,_1c4b){_1bf6.handleHttpError(error,_1c4b);_1c49(false);}});}},truncate:function(val,num){var i=0,len=val.length,res=[];if(typeof num==="string"){num=parseInt(num,10);}if(typeof val==="string"){return val.length>num?val.slice(0,num)+"...":val;}if(val.map&&typeof val.map==="function"){return val.map(function(v,i,c){return v.length>num?v.slice(0,num)+"...":v;});}else{for(i;i<len;i++){res.push(val[i].slice(0,num)+"...");}return res;}},Dashboard:{counter:1,generateString:function(str){return str+Sage.Utility.Dashboard.counter++;},getColors:function(num){if(!num){return;}var _1c4c=["blue 6","green 3","pink 5","orange 2","blue 4","green 6","pink 2","orange 7","blue 3","green 8","pink 4","orange 3","blue 7","green 5","pink 8","orange 6","blue 2","green 7","pink 3","orange 8","blue 5","green 2","pink 6","orange 5","blue 8","green 4","pink 7","orange 4"],_1c4d=["green 5","blue 3","green 7","blue 6","green 3","blue 7"],ret=[],i,j;if(num<=6){for(i=0;i<num;i++){ret[i]=Sage.Utility.Dashboard.colorPalette[_1c4d[i]];}}else{for(j=0;j<num;j++){ret[j]=Sage.Utility.Dashboard.colorPalette[_1c4c[j]];}}return ret;},getColor:function(idx){var _1c4e=["blue 6","green 3","pink 5","orange 2","blue 4","green 6","pink 2","orange 7","blue 3","green 8","pink 4","orange 3","blue 7","green 5","pink 8","orange 6","blue 2","green 7","pink 3","orange 8","blue 5","green 2","pink 6","orange 5","blue 8","green 4","pink 7","orange 4"];return Sage.Utility.Dashboard.colorPalette[_1c4e[idx]];},colorPalette:{"blue 0":"dfe8f6","blue 6":"00a1de","green 3":"c1d59f","pink 5":"a44e81","orange 2":"f8d6aa","blue 4":"55c0e9","green 6":"69923a","pink 2":"e2afcd","orange 7":"af6200","blue 3":"80d0ef","green 8":"35491d","pink 4":"c55e9b","orange 3":"f4c180","blue 7":"0079a7","green 5":"86a85c","pink 8":"421f34","orange 6":"e98300","blue 2":"aae0f4","green 7":"4f6e2c","pink 3":"d486b4","orange 8":"754200","blue 5":"2bb1e4","green 2":"d6e3bf","pink 6":"833f67","orange 5":"ed982b","blue 8":"00516f","green 4":"a4bf7d","pink 7":"632f4e","orange 4":"f0ac55"}},isBoolean:function(value){return typeof value==="boolean";},isDefined:function(value){return typeof value!=="undefined";},isEmptyString:function(value){return(dojo.isString(value)&&value==="");},isStringWithLength:function(value){return(dojo.isString(value)&&value!=="");},isTrue:function(value){return(this.isBoolean(value))?(value===true):false;},getUserName:function(_1c4f){if(!_1c4f){return"";}if(!this._userCache){this.buildUserCache();}var _1c50=_1c4f.replace(/^\s+|\s+$/g,"");var u=this._userCache[_1c50];return u?u.name:_1c4f;},buildUserCache:function(){var self=this;return xhr("GET",{url:"slxdata.ashx/slx/dynamic/-/users?select=Enabled&format=json",handleAs:"json",sync:true}).then(function(data){self._userCache={};for(var i=0;i<data.$resources.length;i++){var u=data.$resources[i];self._userCache[u.$key]={enabled:u.Enabled,name:u.$descriptor};}});},isItemInArray:function include(arr,_1c51){for(var i=0;i<arr.length;i++){if(lang.trim(arr[i])==lang.trim(_1c51)){return true;}}}});ready(function(){Sage.Utility.appLoadHandler();});return Sage.Utility;});},"Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin":function(){define("Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin",["dojo/_base/declare"],function(_1c52){return _1c52("Sage.UI.SLXPreviewGrid.Filter._previewGridFilterMixin",null,{getQuery:function(){var v=this.get("value");if(v){return"upper("+this.field+") like '%"+v.replace("'","''").toUpperCase()+"%'";}return"";},reset:function(){this.set("value","");},getState:function(){return{"value":this.get("value")};},applyState:function(state){if(state){this.set("value",state["value"]||"");}}});});},"Sage/MainView/ReportMgr/nls/ReportWizardController":function(){define("Sage/MainView/ReportMgr/nls/ReportWizardController",["Sage/LanguageList","dojo/_base/lang"],function(_1c53,lang){var nls={root:{txtLoadingScheduleDetails:"Loading Schedule Details",txtError:"Error",txtCannotDetermineReportId:"Cannot determine report id.",txtCannotDetermineReportNameOrFamily:"Cannot determine report name or family.",txtLoading:"Loading ",txtLoadingReport:"Loading Report",txtSorryAnErrorOccuredLoadingReport:"Sorry, an error occurred loading report: ${0} ${1}."}};return lang.mixin(_1c53,nls);});},"Sage/QuickForms/Design/CheckBoxControlDesigner":function(){define("Sage/QuickForms/Design/CheckBoxControlDesigner",["dojo/dom-class","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/CheckBoxBasicPropertyEditor","./Editors/CheckBoxAdvancedPropertyEditor","dojo/i18n!./nls/CheckBoxControlDesigner"],function(_1c54,_1c55,array,lang,_1c56,_1c57,_1c58,_1c59,_1c5a,_1c5b,_1c5c,_1c5d){return _1c55("Sage.QuickForms.Design.CheckBoxControlDesigner",[_1c57,_1c58,_1c56,_1c59],{designSupport:{visible:true},editors:[_1c5b,_1c5c,_1c5a],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="design-checkbox" data-dojo-attach-point="containerNode">','<span class="{%= $.fieldClass %}-icon" data-dojo-attach-point="designCheckedNode"></span>','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field" data-dojo-attach-point="designBindingNode"></div>',"</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-checkbox",helpTopicName:"Checkbox_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFCheckBox, Sage.Platform.QuickForms.QFControls",displayNameText:"CheckBox",constructor:function(){lang.mixin(this,_1c5d);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1c5e){return(_1c5e["ControlItemName"]=="Checked");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getCheckedAttr:function(){return lang.getObject("Checked",false,this.entry);},_setCheckedAttr:function(value){lang.setObject("Checked",value,this.entry);if(value){_1c54.add(this.designCheckedNode,"design-checkbox-icon-checked");}else{_1c54.remove(this.designCheckedNode,"design-checkbox-icon-checked");}},setupFor:function(_1c5f){this.inherited(arguments);this.set("checked",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Checked",DataItemName:_1c5f.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1c5f.propertyPath||"");},startup:function(){this.inherited(arguments);var _1c60=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1c60&&_1c60["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Data/SDataServiceRegistry":function(){define("Sage/Data/SDataServiceRegistry",["Sage/Utility","dojo/json"],function(_1c61,json){var _1c62={},_1c63=false;Sage.namespace("Data.SDataServiceRegistry");Sage.Data.SDataServiceRegistry={registerService:function(name,s,o){o=o||{};var _1c64=s instanceof Sage.SData.Client.SDataService?s:new Sage.SData.Client.SDataService(s);_1c62[name]=_1c64;if(o.isDefault||!_1c63){_1c63=_1c64;}return _1c64;},hasService:function(name){return(typeof _1c62[name]!=="undefined");},getService:function(name){if(typeof name==="string"&&_1c62[name]){return _1c62[name];}return _1c63;},_createCacheKey:function(_1c65){var key=_1c65.build();key=key.replace(/[^a-zA-Z0-9_]/g,"");var ns=_1c65.getResourceKind().text;key=ns+"_"+key;return key;},_loadSDataRequest:function(_1c66,o){var key=this._createCacheKey(_1c66);var feed=this._getFromLocalStorage(key);if(feed){o.result=feed;}},_cacheSDataRequest:function(_1c67,o,feed){if(/get/i.test(o.method)&&typeof feed==="object"){var key=this._createCacheKey(_1c67);this._saveToLocalStorage(key,feed);}},_saveToLocalStorage:function(key,value){sessionStorage.setItem(key,json.stringify(value));},_getFromLocalStorage:function(key){return json.parse(sessionStorage.getItem(key));},_removeFromLocalStorage:function(_1c68){var _1c69=sessionStorage.length;var keys=[];for(var i=0;i<_1c69;i++){var key=sessionStorage.key(i);if(key.indexOf(_1c68)>-1){keys.push(key);}}for(var j=0;j<keys.length;j++){sessionStorage.removeItem(keys[j]);}},getSDataService:function(_1c6a,_1c6b,_1c6c,_1c6d){_1c6b=_1c6a==="proxy"?true:_1c6b;_1c6a=_1c6a||"dynamic";var _1c6e="SDataService_"+_1c6a;_1c6e=_1c6d?[_1c6e,"_cacheResult"].join(""):_1c6e;if(this.hasService(_1c6e)&&!_1c6b){return this.getService(_1c6e);}var bJson=true;if(typeof _1c6c==="boolean"){bJson=_1c6c;}var svc=new Sage.SData.Client.SDataService({serverName:window.location.hostname,virtualDirectory:Sage.Utility.getVirtualDirectoryName()+"/slxdata.ashx",applicationName:"slx",contractName:_1c6a,port:window.location.port&&window.location.port!==80?window.location.port:false,protocol:/https/i.test(window.location.protocol)?"https":false,json:bJson});if(_1c6d){svc.on("beforerequest",this._loadSDataRequest,this);svc.on("requestcomplete",this._cacheSDataRequest,this);}if(!_1c6b){this.registerService(_1c6e,svc);}return svc;}};return Sage.Data.SDataServiceRegistry;});},"url:Sage/MainView/ActivityMgr/templates/ActivityEditor.html":'[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="activityDialog" title="" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onDlgHide">\',\r\n        \'<div class="activity-dialog">\',  //body\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="regardingContainer">\',\r\n                \'<select id="pk_Regarding" label="{%= $.regardingText %}" id="{%= $.id %}_pk_Regarding" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Regarding" canEditText="true" itemMustExist="false" maxLength="64" ></select>\',\r\n                \'<div dojoType="dijit.form.TextBox" label="{%= $.locationText %}" id="{%= $.id %}_tb_Location" dojoAttachPoint="tb_Location" maxLength="255" ></div>\',\r\n            \'</div>\', //first tablecontainer 1 col\r\n        //Dates section for add/edit mode..................\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="dateSection_AddEdit">\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtp_startDate" dojoAttachPoint="dtp_startDate" displayDate="true" displayTime="true" label="{%= $.startTimeText %}"></div>\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DurationSelect" label="{%= $.durationText %}" id="{%= $.id %}_sel_Duration" dojoAttachPoint="sel_Duration" includeDisablingCheckbox="false" valuesAreAfterStart="true"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="{%= $.timeLessText %}" id="{%= $.id %}_cb_Timeless" dojoAttachPoint="cb_Timeless" ></div>\',\r\n                    \'<label class="checkbox-label" for="{%= $.id %}_cb_Timeless">{%= $.timeLessText %}</label>\',\r\n                \'</div>\',\r\n                \'<div dojoType="dojox.layout.TableContainer" label="{%= $.alarmText %}" cols="2" showLabels="false" class="removeExtraSpace">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" id="{%= $.id %}_cb_Alarm" dojoAttachPoint="cb_Alarm" ></div>\',\r\n                    \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DurationSelect" id="{%= $.id %}_sel_AlarmDur" dojoAttachPoint="sel_AlarmDur" valuesAreAfterStart="false" ></div>\',\r\n                \'</div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="" id="{%= $.id %}_cb_AutoRollover" dojoAttachPoint="cb_AutoRollover"></div>\',\r\n                    \'<label class="checkbox-label" for="{%= $.id %}_cb_AutoRollover">{%= $.rolloverText %}</label>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        //Dates section for complete mode...................\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="dateSection_Complete">\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtp_completedDate" dojoAttachPoint="dtp_completedDate" displayDate="true" displayTime="true" label="{%= $.completedText %}"></div>\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtp_scheduledDate" dojoAttachPoint="dtp_scheduledDate" displayDate="true" displayTime="true" label="{%= $.scheduledText %}"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="{%= $.timeLessText %}" id="{%= $.id %}_cb_TimelessComplete" dojoAttachPoint="cb_TimelessComplete" ></div>\',\r\n                    \'<label class="checkbox-label" for="{%= $.id %}_cb_TimelessComplete">{%= $.timeLessText %}</label>\',\r\n                \'</div>\',\r\n                \'<div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DurationSelect" label="{%= $.durationText %}" id="{%= $.id %}_sel_DurationComplete" dojoAttachPoint="sel_DurationComplete" includeDisablingCheckbox="false" valuesAreAfterStart="true"></div>\',\r\n            \'</div>\',\r\n\r\n            \'<div dojoType="dijit.layout.TabContainer" id="{%= $.id %}_tc_EditActivity"  dojoAttachPoint="tc_EditActivity" class="tab-container">\',\r\n/*  General Tab   */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_General" title="{%= $.tabNameGeneralText %}" class="tabContent remove-padding" dojoAttachPoint="cp_General">\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="resultContainer" class="bottom-border-section">\', \r\n                        \'<select shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" label="{%= $.resultText %}" id="{%= $.id %}_pl_Result"  name="pl_Result" dojoAttachPoint="pl_Result" canEditText="true" itemMustExist="false" maxLength="64"></select>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="4" labelWidth="4" baseClass="contact-lead-radios" >\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.contactText %}" value="contact" id="{%= $.id %}_rdo_Contact" dojoAttachPoint="rdo_Contact" dojoAttachEvent="onChange:_setContactLeadVisibility" checked="true" />\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.leadText %}" value="lead" id="{%= $.id %}_rdo_Lead" dojoAttachPoint="rdo_Lead" />\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="contactContainer" baseClass="bottom-border-section">\',\r\n\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_ContactLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.opportunityText %}" dojoAttachPoint="container_OppLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.accountText %}" dojoAttachPoint="container_AccountLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="container_TicketLup"  class="remove-padding lookup-container" style=\"display: none;\"></div>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="leadContainer"  baseClass="bottom-border-section" class="display-none">\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_LeadLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<input dojoType="dijit.form.TextBox" id="{%= $.id %}_tb_LeadCompanyName" label="{%= $.companyText %}" dojoAttachPoint="tb_LeadCompanyName" readonly="true" />\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" class="bottom-border-section" >\',\r\n                        \'<select label="{%= $.priorityText %}" id="{%= $.id %}_pk_Priority" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Priority" canEditText="true" itemMustExist="false" pickListName="Priorities" sort="false" maxLength="64" style="width: {%= 472 - $.labelWidth %}px;"></select>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.leaderText %}" dojoAttachPoint="container_LeaderLup" class="remove-padding lookup-container" style="width: {%= 472 - $.labelWidth %}px;"></div>\',\r\n                        \'<select label="{%= $.categoryText %}" id="{%= $.id %}_pk_Category" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Category" canEditText="true" itemMustExist="false" maxLength="64" style="width: {%= 472 - $.labelWidth %}px;"></select>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="&nbsp;" class="dijitTextBox" style="border-width:0px">&nbsp;</div>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" class="valigntop" dojoAttachPoint="notesContainer">\',\r\n                        \'<textarea dojoType="dijit.form.SimpleTextarea" id="{%= $.id %}_ta_Notes" label="{%= $.notesText %}" dojoAttachPoint="ta_Notes" class="notes-text"></textarea>\',\r\n                    \'</div>\',\r\n                \'</div>\',  // end general tab\r\n/* Availability Tab   */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Availability" title="{%= $.tabNameAvailabilityText %}" class="tabContent remove-padding" dojoAttachPoint="cp_Availability" dojoAttachEvent="onShow:_onShowAvailabilityTab">\',\r\n                    \'<div dojoType="dijit.Toolbar" region="top" splitter="false" class="right-tools" >\',  // list-panel-tbar                                  \r\n                        \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="container_ResourcesLup" class="remove-padding"></div>\',\r\n                    \'</div>\',\r\n/* Scheduler ........... */\r\n                    \'<div id="scheduler_here" class="dhx_cal_container" style="width:100%;height:230px;">\',\r\n                        \'<div class="dhx_cal_navline">\',\r\n                            \'<div class="dhx_cal_prev_timeline_button" style="right:50px;">&nbsp;</div>\',\r\n\t\t\t                \'<div class="dhx_cal_next_timeline_button" style="right:19px;">&nbsp;</div>\',\r\n//\'<div class="dhx_cal_today_button"></div>\',\r\n\t\t\t                \'<div class="dhx_cal_date"></div>\',\r\n//\'<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>\',\r\n//\'<div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>\',\r\n                            \'<div class="dhx_cal_tab" name="timeline_tab" style="right:280px;"></div>\',\r\n//\'<div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>\',\r\n\t\t                \'</div>\',\r\n\t\t                \'<div class="dhx_cal_header"></div>\',\r\n\t\t                \'<div class="dhx_cal_data"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n/* Recurring Tab  */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Recurring" title="{%= $.recurringText %}" class="tabContent" dojoAttachPoint="cp_Recurring" dojoAttachEvent="onShow:_showRecurringTab">\',\r\n                    \'<div shouldPublishMarkDirty="false" dojoType="Sage.MainView.ActivityMgr.RecurringEditor" id="{%= $.id %}_recEd" labelWidth="{%= $.labelWidth - 20 %}" dojoAttachPoint="_recurringEditor"></div>\',\r\n                \'</div>\',\r\n/* Attachments Tab  */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Attachments" title="{%= $.tabNameAttachmentsText %}" class="tabContent remove-padding" dojoAttachPoint="cp_Attachments" dojoAttachEvent="onShow:_showAttachmentsTab">\',\r\n                    \'<div id="{%= $.id %}_attachmentsGridPlaceholder" dojoAttachPoint="_attachmentGridPlaceholder" style="width:100%;height:100%"></div>\',\r\n                \'</div>\',\r\n            \'</div>\',  //tab container\r\n/* Buttons       */\r\n        // Add/edit activity buttons\r\n            \'<table class="button-bar" id="add_edit_buttons" dojoAttachPoint="add_edit_buttons">\',\r\n                \'<tr>\',\r\n                    \'<td class="alignleft">\',\r\n                        \'<div class="scheduled-by-label" dojoAttachPoint="lbl_ScheduledBy"></div>\',\r\n                    \'</td><td class="alignright">\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Complete" name="btn_Complete" dojoAttachPoint="btn_Complete" dojoAttachEvent="onClick:_completeClick">{%= $.completeBtnText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Delete" name="btn_Delete" dojoAttachPoint="btn_Delete" dojoAttachEvent="onClick:_deleteClick">{%= $.deleteText %}</div>\',\r\n                        \'<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n\r\n\r\n        //complete activity buttons\r\n            \'<table class="button-bar display-none" id="complete_buttons" dojoAttachPoint="complete_buttons">\',\r\n                \'<tr>\',\r\n                    \'<col width="50%" /><col width="50%" />\',\r\n                    \'<td class="alignleft">\',\r\n                        \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" >\',\r\n                            \'<select label="{%= $.followupText %}" id="sel_Followup" dojoType="dijit.form.ComboBox" dojoAttachPoint="sel_Followup">\',\r\n                                \'<option value="none" selected="selected">{%= $.noneText %}</option>\',\r\n                                \'<option value="phone">{%= Sage.Utility.Activity.getActivityTypeName("atPhoneCall") %}</option>\',\r\n                                \'<option value="meeting">{%= Sage.Utility.Activity.getActivityTypeName("atAppointment") %}</option>\',\r\n                                \'<option value="todo">{%= Sage.Utility.Activity.getActivityTypeName("atToDo") %}</option>\',\r\n                            \'</select>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="ck_coAttachments" dojoAttachPoint="ck_coAttachments" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coAttachments">{%= $.carryOverAttachmentsText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="ck_coNotes" dojoAttachPoint="ck_coNotes" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coNotes">{%= $.carryOverNotesText %}</label>\',\r\n                            \'</div>\',\r\n                        \'</div>\',\r\n                    \'</td><td class="alignright valignbottom" rowspan="2">\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_asScheduled" name="btn_asScheduled" dojoAttachPoint="btn_asScheduled" dojoAttachEvent="onClick:_asScheduledClick">{%= $.asScheduledText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Now" name="btn_Now" dojoAttachPoint="btn_Now" dojoAttachEvent="onClick:_nowClick">{%= $.nowText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_CancelComplete" name="btn_Cancel" dojoAttachPoint="btn_CancelComplete" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n                    \'</td>\',\r\n                \'</tr><tr>\',\r\n                    \'<td class="alignleft" >\',\r\n                        \'<div class="scheduled-by-label" dojoAttachPoint="lbl_ScheduledByComp"></div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n\r\n\r\n\r\n        //Confirmations button bar...\r\n            \'<table class="button-bar display-none" id="confirmation_edit_buttons" dojoAttachPoint="confirmation_edit_buttons">\',\r\n                \'<tr>\',\r\n                    \'<td class="alignleft" style="width:{%= $.labelWidth %}px;">\',\r\n                        \'<label for="{%= $.id %}_ta_confirmationResponse" id="responseLabel" dojoAttachPoint="responseLabel">{%= $.responseText %}</label>\',\r\n                    \'</td>\',\r\n                    \'<td class="alignleft">\',\r\n                        \'<textarea dojoType="dijit.form.SimpleTextarea" id="{%= $.id %}_ta_confirmationResponse" dojoAttachPoint="ta_confirmationResponse" class="notes-text dijitTextBox" maxLength="128" ></textarea>\',\r\n                    \'</td><td class="alignright valignbottom">\',\r\n                        \'<span id="newConfButtons" dojoAttachPoint="newConfButtons">\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_accept" name="btn_accept" dojoAttachPoint="btn_accept" dojoAttachEvent="onClick:_acceptConfClick">{%= $.acceptText %}</div>\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_decline" name="btn_decline" dojoAttachPoint="btn_decline" dojoAttachEvent="onClick:_declineClick">{%= $.declineText %}</div>\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_cancelConf" name="btn_cancelConf" dojoAttachPoint="btn_cancelConf" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n                        \'</span>\',\r\n                        \'<span id="otherConfButtons" dojoAttachPoint="otherConfButtons" class="display-none">\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_deleteConf" name="btn_deleteConf" dojoAttachPoint="btn_deleteConf" dojoAttachEvent="onClick:_deleteConfClick">{%= $.deleteConfText %}</div>\',\r\n                            \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_closeConf" name="btn_closeConf" dojoAttachPoint="btn_closeConf" dojoAttachEvent="onClick:_cancelClick">{%= $.closeText %}</div>\',\r\n                        \'</span>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n        \'</div>\', //body\r\n    \'</div>\',  //dialog\r\n\'</div>\' //root node\r\n]\r\n',"Sage/QuickForms/Design/Editors/nls/UserAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/UserAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1c6f,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",lookupBindingModeText:"Lookup Binding Mode:",lookupBindingModeTooltipText:"Indicates whether you want to bind to an entity object or to a string value.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},bindingModeText:{Object:"Object",String:"String"}}};return lang.mixin(_1c6f,nls);});},"url:Sage/UI/Controls/templates/Name.html":'<div class="person" slxcompositecontrol="true" id="{%= $.id %}" ><input id="{%= $.id %}-TextBox" value="{%= $.nameDesc %}"\r\n    data-dojo-type="Sage.UI.Controls.TextBox" name="{%= $.name %}" required="{%= $.required %}" dojoAttachPoint="focusNode"  data-dojo-attach-event="onChange:textBoxOnChange, onDblClick: showDialog" data-dojo-props="textWithIcons: {%= $.buttonVisible %}" />\r\n    {% if ($.buttonVisible) { %}\r\n    <img alt="{%= $.buttonToolTip %}"  data-dojo-attach-event="ondijitclick: showDialog"  tabindex="{%= $.tabIndex %}"     \r\n    style="padding-left:0;cursor: pointer; vertical-align: left;" \r\n    src="{%= $.buttonImageUrl %}" title="{%= $.buttonToolTip %}" id="{%= $.id %}-Button" />\r\n    {% } %}\r\n<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n</div>',"Sage/MainView/ReportMgr/nls/ReportManagerUtility":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerUtility",["Sage/LanguageList","dojo/_base/lang"],function(_1c70,lang){var nls={root:{}};return lang.mixin(_1c70,nls);});},"Sage/UI/nls/SpeedSearch":function(){define("Sage/UI/nls/SpeedSearch",["Sage/LanguageList","dojo/_base/lang"],function(_1c71,lang){var nls={root:{standardText:"standard",advancedText:"advanced",speedSearchText:"SpeedSearch"}};return lang.mixin(_1c71,nls);});},"url:Sage/UI/Filters/templates/EditFilters.html":'<div>\r\n    <div class="filter-dialog" data-dojo-type="dijit.Dialog" data-dojo-props="title:\'${dialogTitle}\'" data-dojo-attach-point="dialogNode">\r\n        <div class="filter-clear-all">\r\n            <input data-dojo-attach-point="checkAll" data-dojo-type="dijit.form.CheckBox" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class="filter-dialog-content" data-dojo-attach-point="contentNode">\r\n            \r\n        </div>\r\n        \r\n        <div class="button-bar alignright">\r\n            <button data-dojo-attach-point="buttonOK" data-dojo-attach-event="onClick:_onOKClick" data-dojo-type="dijit.form.Button">${okText}</button>\r\n            <button data-dojo-attach-point="buttonCancel" data-dojo-attach-event="onClick:_onCancelClick" data-dojo-type="dijit.form.Button">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>',"Sage/Services/ActivityAction":function(){define("Sage/Services/ActivityAction",["dojo/i18n","Sage/UI/Dialogs","dijit/_Widget","dojo/_base/declare"],function(i18n,_1c72,_1c73,_1c74){var _1c75=_1c74("Sage.Services.ActivityAction",[_1c73],{_service:false,_contract:"activities",_resourceKind:"service",_operationName:false,_payLoad:false,_selectionContext:false,_publishMap:false,_publishMapWithId:false,_activityId:false,_configuration:false,_args:{},message:"Are you sure you want to continue?",description:"",constructor:function(){},execute:function(_1c76){var map=this._publishMap;var _1c77=this._publishMapWithId;var _1c78=this._activityId;var _1c79=String.format("slxdata.ashx/slx/crm/-/{0}/{1}/{2}",this._contract,this._resourceKind,this._operationName);$.ajax({type:"POST",url:_1c79,contentType:"application/json",data:dojo.toJson(this._args),processData:false,success:function(_1c7a){if(map){dojo.publish(map,[_1c7a,this]);}if(_1c77){if(_1c78){dojo.publish(_1c77,[_1c78,this]);}}if(_1c76){_1c76.success(_1c7a,_1c76.scope);}},failure:function(_1c7b){if(_1c76){_1c76.failure(_1c7b,_1c76.scope);}}});},_setConfigurationAttr:function(_1c7c){this._configuration=_1c7c;},_getConfigurationAttr:function(){return this._configuration;},_setServiceAttr:function(_1c7d){this._service=_1c7d;},_getServiceAttr:function(){return this._service;},_setSelectionInfoAttr:function(_1c7e){this._selectionInfo=_1c7e;},_getSelectionInfoAttr:function(){return this._selectionInfo;},_setOperationNameAttr:function(_1c7f){this._operationName=_1c7f;},_getOperationNameAttr:function(){return this._operationName;},_setResourceKindAttr:function(_1c80){this._resourceKind=_1c80;},_getResourceKindAttr:function(){return this._resourceKind;},_setArgsAttr:function(args){this._args=args;},_getArgsAttr:function(){return this._args;},_setActionDescriptionAttr:function(_1c81){this.description=_1c81;},_getActionDescriptionAttr:function(){return this.description;},_setActionMessageAttr:function(_1c82){this.message=_1c82;},_getActionMessageAttr:function(){return this.message;},_setPublishMapAttr:function(_1c83){this._publishMap=_1c83;},_setPublishMapWithIdAttr:function(_1c84){this._publishMapWithId=_1c84;},_setActivityIdAttr:function(_1c85){this._activityId=_1c85;}});return _1c75;});},"Sage/UI/GroupListConfigurationProvider":function(){define("Sage/UI/GroupListConfigurationProvider",["Sage/_ConfigurationProvider","Sage/Data/GroupLayoutSingleton","Sage/Services/_ServiceMixin","Sage/Utility/_LocalStorageMixin","Sage/UI/Columns/SlxLink","Sage/UI/Columns/Boolean","Sage/UI/Columns/DateTime","Sage/UI/Columns/Numeric","Sage/UI/Columns/OwnerType","Sage/UI/Columns/Phone","Sage/UI/Columns/UserType","Sage/UI/Columns/Currency","Sage/Data/SDataStore","Sage/UI/SummaryFormatterScope","dijit/MenuSeparator","dijit/Menu","Sage/UI/MenuItem","dojo/_base/lang","dojo/_base/declare","dojo/i18n"],function(_1c86,_1c87,_1c88,_1c89,_1c8a,_1c8b,_1c8c,_1c8d,_1c8e,_1c8f,_1c90,_1c91,_1c92,_1c93,_1c94,_1c95,_1c96,lang,_1c97,i18n){var _1c98=_1c97("Sage.UI.GroupListConfigurationProvider",[_1c86,_1c88,_1c89],{serviceMap:{"groupContextService":"ClientGroupContext"},service:null,_hasAdHocList:false,ROWS_PER_PAGE:100,_currentConfiguration:false,constructor:function(_1c99){this._adHocOnlyMenuItems=[];this._menuItems=[];this._subscribes.push(dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged));},_onGroupContextChanged:function(){this.onConfigurationChange();},requestConfiguration:function(_1c9a){var _1c9b=new _1c87(),_1c9c=lang.hitch(this,this._onRequestConfigurationSuccess,_1c9a||{}),_1c9d=lang.hitch(this,this._onRequestConfigurationFailure,_1c9a||{}),group=this.getCurrentGroup();_1c9b.getGroupLayout(this.formatPredicate(group),_1c9c,_1c9d,group.$key);},_onRequestConfigurationSuccess:function(_1c9e,entry){if(_1c9e.success){_1c9e.success.call(_1c9e.scope||this,this._createConfiguration(entry),_1c9e,this);}},_onRequestConfigurationFailure:function(_1c9f,_1ca0){if(_1c9f.failure){_1c9f.failure.call(_1c9f.scope||this,_1ca0,_1c9f,this);}},_createConfigurationForList:function(entry){var _1ca1=entry.layout,_1ca2=[],_1ca3=[],_1ca4=Sage.Services.getService("ClientGroupContext"),_1ca5,i;if(_1ca4){_1ca5=_1ca4.getContext();}if(entry["keyField"]){_1ca2.push(entry["keyField"]);}var _1ca6=0;var _1ca7=0;var _1ca8=0;for(i=0;i<_1ca1.length;i++){var item=_1ca1[i];_1ca2.push(item["alias"]);if(item["visible"]){if(item["webLink"]){var _1ca9=item["dataPath"],_1caa=_1ca9.lastIndexOf("!")>-1?_1ca9.substring(0,_1ca9.lastIndexOf("!")).substring(_1ca9.lastIndexOf(".")+1):_1ca9.substring(0,_1ca9.lastIndexOf(":")),_1cab=_1caa+"ID";if(item["alias"]==="ACCOUNT"||item["alias"].match(/A\d+_ACCOUNT/ig)){_1caa="ACCOUNT";_1cab="ACCOUNTID";}if((_1ca5)&&(_1caa===_1ca5.CurrentTable)){_1caa=_1ca5.CurrentEntity;_1cab=_1ca5.CurrentTableKeyField;}_1ca2.push(_1cab);_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c8a,pageName:_1caa,idField:_1cab,width:item["width"]+"px"});}else{if(item["alias"].match(/^email$/i)){item["format"]="Email";}if(item["fieldType"]==="DateTime"){item["format"]="DateTime";}switch(item["format"]){case"Boolean":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c8b,styles:"text-align: "+item["align"]+";",formatString:item["formatString"],width:item["width"]+"px"});break;case"DateTime":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c8c,styles:"text-align: "+item["align"]+";",datePattern:item["formatString"],width:item["width"]+"px"});break;case"Email":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],styles:"text-align: "+item["align"]+";",formatter:function(val){if(!val){return"";}return dojo.string.substitute("<a href=mailto:${0}>${0}</a>",[Sage.Utility.htmlEncode(val)]);},width:item["width"]+"px"});break;case"Percent":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c8d,styles:"text-align: "+item["align"]+";",constraints:{places:Sage.Utility.getPrecision(item["formatString"]),round:-1},fercent:true,formatType:"Percent",width:item["width"]+"px",isWholeNumberPercent:false});break;case"Fixed":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c8d,styles:"text-align: "+item["align"]+";",constraints:{places:Sage.Utility.getPrecision(item["formatString"]),round:-1},fercent:true,formatType:item["formatString"][item["formatString"].length-1]==="%"?"Percent":"Number",width:item["width"]+"px",isWholeNumberPercent:item["format"]==="Percent"?false:true});break;case"Owner":var _1cac=item["alias"]+"NAME"+_1ca7;_1ca7++;_1ca2.push(_1cac);_1ca3.push({field:_1cac,styles:"text-align: "+item["align"]+";",name:item["caption"],width:item["width"]+"px"});break;case"OwnerType":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c8e,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case"Phone":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c8f,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case"PickList Item":var _1cad=item["alias"]+"TEXT"+_1ca6;_1ca6++;_1ca2.push(_1cad);_1ca3.push({field:_1cad,styles:"text-align: "+item["align"]+";",property:item["propertyPath"],name:item["caption"],width:item["width"]+"px"});break;case"User":var _1cae=item["alias"]+"NAME"+_1ca8;_1ca8++;_1ca2.push(_1cae);_1ca3.push({field:_1cae,styles:"text-align: "+item["align"]+";",name:item["caption"],width:item["width"]+"px"});break;case"User Type":_1ca3.push({field:item["alias"],property:item["propertyPath"],name:item["caption"],type:_1c90,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;case"Currency":_1ca3.push({field:item["alias"],property:item["caption"],name:item["caption"],type:_1c91,styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;default:_1ca3.push({field:item["alias"],property:item["caption"],name:item["caption"],styles:"text-align: "+item["align"]+";",width:item["width"]+"px"});break;}}}}var store=new _1c92({service:this.service,resourceKind:"groups",resourcePredicate:this.formatPredicate(entry),queryName:"execute",select:_1ca2,include:[],count:this.ROWS_PER_PAGE});var _1caf={};for(i=0;i<entry["tableAliases"].length;i++){_1caf[entry["tableAliases"][i]["tableName"].toUpperCase()]=entry["tableAliases"][i]["alias"];}return{structure:[{defaultCell:{defaultValue:""},cells:[_1ca3]}],store:store,rowsPerPage:this.ROWS_PER_PAGE,layout:entry["layout"],tableAliases:_1caf,selectedRegionContextMenuItems:this._getListContextMenuItems(),onSelectedRegionContextMenu:this._onListContext,onNavigateToDefaultItem:lang.hitch(entry,function(item){if(item){var _1cb0=this["keyField"],_1cb1=this["entityName"],id=item[_1cb0];if(id){Sage.Link.entityDetail(_1cb1,id);}}}),id:entry["$key"]};},_getCurrentGroupID:function(){var _1cb2=Sage.Services.getService("ClientGroupContext"),_1cb3,_1cb4;if(_1cb2){_1cb3=_1cb2.getContext();_1cb4=_1cb3.CurrentGroupID;}return _1cb4;},_onListContext:function(e){var _1cb5=Sage.Services.getService("ClientGroupContext");var _1cb6=_1cb5.getContext();for(var i=0;i<this._adHocOnlyMenuItems.length;i++){this._adHocOnlyMenuItems[i].set("disabled",!_1cb6.isAdhoc);}this._ensureAdHocListMenu();},_getListContextMenuItems:function(){var _1cb7,_1cb8=this._getCurrentGroupID();if(this._menuItems.length>0){return this._menuItems;}if(!Sage.UI.DataStore.ContextMenus||!Sage.UI.DataStore.ContextMenus.listContextMenu){return[];}this._menuItems=[];this._adHocOnlyMenuItems=[];var _1cb9=Sage.UI.DataStore.ContextMenus.listContextMenu.items;var len=_1cb9.length;for(var i=0;i<len;i++){var mDef=_1cb9[i];if(mDef.displayName===""){this._menuItems.push(new _1c94());}else{var href=mDef.href;if(href.indexOf("javascript:")<0){href=dojo.string.substitute("javascript:${0}()",[href]);}if(href.indexOf("addSelectionsToGroup")>0){_1cb7=this._createAddToAdHocMenuItem(mDef);if(_1cb7.arrowWrapper){dojo.style(_1cb7.arrowWrapper,"visibility","");}}else{_1cb7=new _1c96({id:_1cb8+"_"+i,label:mDef.text||"...",icon:mDef.img,title:mDef.tooltip||"",ref:href,onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}});}this._menuItems.push(_1cb7);if(href.indexOf("removeSelectionsFromGroup")>0){this._adHocOnlyMenuItems.push(_1cb7);}}}return this._menuItems;},_createAddToAdHocMenuItem:function(_1cba){this._adHocMenu=new _1c95();this._adHocMenu.addChild(new _1c96({label:"loading..."}));this._adHocMenuHref=_1cba.href;var _1cbb=new _1c96({label:_1cba.text||"...",icon:_1cba.img,title:_1cba.tooltip||"",popup:this._adHocMenu});return _1cbb;},_ensureAdHocListMenu:function(){if(this._hasAdHocList){return;}this._hasAdHocList=true;var svc=Sage.Services.getService("ClientGroupContext");svc.getAdHocGroupList(function(list){this._adHocMenu.destroyDescendants();for(var i=0;i<list.length;i++){var grp=list[i];this._adHocMenu.addChild(new _1c96({label:grp["$descriptor"]||grp["name"],icon:"",title:grp["$descriptor"]||grp["name"],ref:dojo.string.substitute(this._adHocMenuHref,{"groupId":grp["$key"]}),onClick:function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}}}));}},this);},_createConfigurationForSummary:function(entry){if(!this.summaryOptions){return false;}if(!entry){entry=this._currentConfiguration;}var store=new _1c92({service:this.service,resourceKind:"groups",resourcePredicate:this.formatPredicate(entry),queryName:"execute",select:[entry["keyField"]],include:[]}),_1cbc=[{field:entry["keyField"],formatter:"formatSummary",width:"100%",name:"Summary View",canResize:function(){return false;}}],_1cbd=["Sage"],_1cbe=this.summaryOptions["templateLocation"],_1cbf=_1cbe&&_1cbe.split("/"),i,path;for(i=0;i<_1cbf.length-1;i++){_1cbd.push(_1cbf[i]);}path="dojo/i18n!"+_1cbd.join("/")+"/nls/"+_1cbf[_1cbf.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));return{structure:_1cbc,layout:entry["layout"],store:store,rowHeight:200,rowsPerPage:50,formatterScope:new _1c93({requestConfiguration:{mashupName:this.summaryOptions["mashupName"]||"SummaryViewQueries",queryName:this.summaryOptions["queryName"]||""},templateLocation:this.summaryOptions["templateLocation"]||""})};},_createConfigurationForDetail:function(entry){if(this.detailConfiguration){return{requestConfiguration:{mashupName:this.detailConfiguration["mashupName"]||"SummaryViewQueries",queryName:this.detailConfiguration["queryName"]||""},templateLocation:this.detailConfiguration["templateLocation"]};}return false;},_createConfiguration:function(entry){this._currentConfiguration=entry;var state=this.getFromLocalStorage("LISTPANEL_VIEWSTATE",this._getViewNS());return{list:this._createConfigurationForList(entry),summary:(state=="summary")?this._createConfigurationForSummary(entry):false,detail:this._createConfigurationForDetail(entry)};},formatPredicate:function(group){if(group.$key==="LOOKUPRESULTS"){group.family=group.family&&group.family.toUpperCase();group.name="Lookup Results";return dojo.string.substitute("name eq '${name}' and upper(family) eq '${family}'",group);}return"'"+group.$key+"'";},getCurrentGroup:function(){var _1cc0=Sage.Services.getService("ClientGroupContext"),_1cc1=_1cc0&&_1cc0.getContext(),_1cc2={name:"My Accounts",family:"Account",$key:""};if(_1cc1){_1cc2={name:_1cc1.CurrentName,family:_1cc1.CurrentFamily,$key:_1cc1.CurrentGroupID};}return _1cc2;},_getViewNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getMainViewName();return ns;},_getMainViewName:function(){if(this._mainViewName){return this._mainViewName;}var _1cc3=Sage.Services.getService("ClientGroupContext"),_1cc4=-1,_1cc5=null;if(_1cc3){_1cc5=_1cc3.getContext();if(_1cc5){_1cc4=_1cc5.CurrentEntity;}}return _1cc4;}});return _1c98;});},"Sage/UI/Controls/CheckBox":function(){define("Sage/UI/Controls/CheckBox",["dijit/form/CheckBox","dojo/_base/declare"],function(_1cc6,_1cc7){var _1cc8=_1cc7("Sage.UI.Controls.CheckBox",_1cc6,{hotKey:"",autoPostBack:false,labelText:"",labelPlacement:"",shouldPublishMarkDirty:true,constructor:function(){this.inherited(arguments);},postCreate:function(){if(this.hotKey!==""){this.focusNode.accessKey=this.hotKey;}this.connect(this,"onChange",this.onChanged);this._insertLabel();this.inherited(arguments);},_insertLabel:function(){var _1cc9="before",_1cca=null;if(this.labelPlacement==="right"){_1cc9="after";}if(this.labelPlacement!=="none"){_1cca=dojo.create("label",{"for":this.id,innerHTML:this.labelText},this.domNode,_1cc9);if(this.labelPlacement==="top"){dojo.create("br",null,_1cca,"after");}}},onChanged:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){if(Sys){Sys.WebForms.PageRequestManager.getInstance()._doPostBack(this.id,"");}}}});return _1cc8;});},"Sage/UI/TimeZoneItem":function(){define("Sage/UI/TimeZoneItem",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/OrientableMenuBar","Sage/UI/MenuBarItem","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n","dojo/data/ItemFileReadStore","dojo/i18n!./nls/TimeZoneItem","dojo/_base/declare"],function(_1ccb,_1ccc,_1ccd,_1cce,_1ccf,_1cd0,i18n,_1cd1,_1cd2,_1cd3){var _1cd4=_1cd3("Sage.UI.TimeZoneItem",_1ccb,{_TimeZoneDialog:new Simplate(['<div><div style="height:auto;">',"{%= $.setTimeZone %}<br />",'<select id="timeZoneItemsList" data-dojo-type="dijit.form.Select" shouldPublishMarkDirty="false" style="width:345px; margin-top:10px; margin-bottom:10px;"></select></div>','<div class="button-bar alignright"><button data-dojo-type="dijit.form.Button"',' type="button" id="btnTimeZoneDialogOk" title="{%= $.buttonOK %}" align="right">{%= $.buttonOK %}</button>','<button data-dojo-type="dijit.form.Button"',' type="button" id="btnTimeZoneDialogCancel" title="{%= $.buttonCancel %}" align="right">{%= $.buttonCancel %}</button>',"</div></div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.UI","TimeZoneItem"));this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _1cd5;_1cd5=Sage.Utility.getClientContextByKey("userTimeZone");this.addChild(new _1ccf({label:_1cd5,title:this.timeZoneText,id:"btnTimeZoneMenu",onClick:function(){var _1cd6=Sage.Utility.getClientContextByKey("userTimeZoneKey");dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/timezones/p",handleAs:"json",load:function(data){var _1cd7=dijit.byId("TimeZoneMenu"),_1cd8=dijit.byId("btnTimeZoneMenu");_1cd7._initializeDialog();_1cd7._initializeTimeZoneDataStore(data,_1cd6);},error:function(err){}});}}));},_initializeDialog:function(){var _1cd9=dijit.byId("TimeZoneMenu");var d=new dijit.Dialog({title:_1cd9.timeZoneSettingsText,style:"width:auto;"});dojo.mixin(d,new _1cd0());d.createHelpIconByTopic("Select_TimeZone");var mkup=this._TimeZoneDialog.apply({buttonOK:_1cd9.buttonOKText,buttonCancel:_1cd9.buttonCancelText,setTimeZone:_1cd9.setTimeZoneText,setAsDefault:_1cd9.setAsDefaultText});d.set("content",mkup);d.show();var _1cda=function(){dojo.disconnect(_1cdb);dojo.disconnect(_1cdc);dojo.disconnect(_1cdd);setTimeout((function(d){return function(){d.destroyDescendants();d.destroy(false);};})(d),1);};var _1cde=function(){d.hide();};var _1cdf=function(){var _1ce0=dijit.byId("timeZoneItemsList"),_1cd9=dijit.byId("TimeZoneMenu"),_1ce1="";for(var i=0;i<_1ce0.options.length;i++){if(_1ce0.options[i].value===_1ce0.value){_1ce1=_1ce0.options[i];break;}}if(_1ce1){_1cd9._updateTimeZone(_1ce1,_1cd9.location?true:false);}d.hide();};var _1cdb=dojo.connect(d,"hide",this,_1cda);var _1cdc=dojo.connect(dijit.byId("btnTimeZoneDialogCancel"),"onClick",this,_1cde);var _1cdd=dojo.connect(dijit.byId("btnTimeZoneDialogOk"),"onClick",this,_1cdf);},_initializeTimeZoneDataStore:function(data,_1ce2){var items=[];var _1ce3="";var _1ce4="";var i;for(i=0;i<data.length;i++){if(!data[i].Displayname||!data[i].Keyname){continue;}if(data[i].Keyname==_1ce2){_1ce3=data[i].OffsetHours;break;}}dojo.forEach(data,function(item){if(!item.Displayname||!item.Keyname){return;}if(item.OffsetHours==_1ce3){items.push({id:item.Keyname,text:item.Displayname+_1ce4,isDefault:item.IsDefault});}});var _1ce5={label:"text",value:"id",identifier:"id",items:items};var _1ce6=new _1cd1({data:_1ce5});var _1ce7=dijit.byId("timeZoneItemsList");_1ce7.setStore(_1ce6);_1ce7.set("searchAttr","text");for(i=0;i<_1ce7.options.length;i++){if(_1ce7.options[i].value===_1ce2){_1ce7.setValue(_1ce7.options[i].value);break;}}},_updateTimeZone:function(_1ce8,_1ce9){var self=this;var _1cea={"$name":"setusertimezone","request":{"UserId":Sage.Utility.getClientContextByKey("userID"),"userTimeZone":_1ce8.value,"isCustomerPortal":_1ce9?"t":""}};var _1ceb=new Sage.SData.Client.SDataServiceOperationRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic")).setResourceKind("users").setOperationName("setusertimezone");_1ceb.execute(_1cea,{success:function(){var _1cec=dijit.byId("btnTimeZoneMenu");_1cec.setLabel(_1ce8.label);this._updateLocalClientContext(_1ce8.label,_1ce8.value);},failure:function(){},scope:this});},_updateLocalClientContext:function(_1ced,_1cee){Sage.Utility.setClientContextByKey("userTimeZone",_1ced);Sage.Utility.setClientContextByKey("userTimeZoneKey",_1cee);}});return _1cd4;});},"Sage/MainView/ActivityMgr/HistoryEditor":function(){require({cache:{"url:Sage/MainView/ActivityMgr/templates/HistoryEditor.html":'\r\n[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="historyDialog" title="" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onDlgHide">\',\r\n        \'<div class="activity-dialog">\',  //body\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}">\',\r\n                \'<select label="{%= $.regardingText %}" shouldPublishMarkDirty="false" id="{%= $.id %}_pk_Regarding" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Regarding" canEditText="true" itemMustExist="false" maxLength="64"></select>\',\r\n                \'<div dojoType="Sage.UI.Controls.TextBox" shouldPublishMarkDirty="false" label="{%= $.locationText %}" id="{%= $.id %}_tb_Location" dojoAttachPoint="tb_Location" maxLength="255" ></div>\',\r\n            \'</div>\', //first tablecontainer 1 col\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}">\',\r\n                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_CompletetdDate" dojoAttachPoint="dtp_completedDate" displayDate="true" displayTime="true" label="{%= $.completedDateText %}"></div>\',\r\n                \'<div dojoType="Sage.UI.Controls.DateTimePicker" shouldPublishMarkDirty="false" id="{%= $.id %}_dtp_StartDate" dojoAttachPoint="dtp_startDate" displayDate="true" displayTime="true" label="{%= $.startTimeText %}"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \'<div dojoType="dijit.form.CheckBox" label="{%= $.timeLessText %}" id="{%= $.id %}_cb_Timeless" dojoAttachPoint="cb_Timeless" ></div>\',\r\n                    \'<label class="checkbox-label" for="cb_Timeless">{%= $.timeLessText %}</label>\',\r\n                \'</div>\',\r\n                 \'<div dojoType="Sage.UI.Controls.DurationSelect" shouldPublishMarkDirty="false" label="{%= $.durationText %}" id="{%= $.id %}_sel_Duration" dojoAttachPoint="sel_Duration" includeDisablingCheckbox="false" valuesAreAfterStart="true"></div>\',\r\n                \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                    \r\n                \'</div>\',\r\n            \'</div>\', //second tablecontainer 2 col\r\n\r\n            \'<div dojoType="dijit.layout.TabContainer" id="{%= $.id %}_tc_EditHistory"  dojoAttachPoint="tc_EditHistory" class="tab-container">\',\r\n/*  General Tab   */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_General" title="{%= $.tabNameGeneralText %}" class="tabContent remove-padding" dojoAttachPoint="cp_General">\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="result_Section" class="bottom-border-section">\',\r\n                        \'<select label="{%= $.resultText %}" id="{%= $.id %}_tb_Result" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Result" canEditText="true" itemMustExist="false" maxLength="64"></select>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="4" labelWidth="4" baseClass="contact-lead-radios" >\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.contactText %}" value="contact" id="{%= $.id %}_rdo_Contact" dojoAttachPoint="rdo_Contact" dojoAttachEvent="onChange:_setContactLeadVisibility" checked="true" />\',\r\n                        \'<input dojoType="dijit.form.RadioButton" type="radio" name="contactOrLead" label="{%= $.leadText %}" value="lead" id="{%= $.id %}_rdo_Lead" dojoAttachPoint="rdo_Lead" />\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="contactContainer" baseClass="bottom-border-section">\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_ContactLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.opportunityText %}" dojoAttachPoint="container_OppLup" class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.accountText %}" dojoAttachPoint="container_AccountLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" dojoAttachPoint="container_TicketLup"  class="remove-padding lookup-container" style=\"display: none;\"></div>\',\r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="leadContainer"  baseClass="bottom-border-section" class="display-none">\',\r\n                        \'<div dojoType="dijit.layout.ContentPane" label="{%= $.nameText %}" dojoAttachPoint="container_LeadLup"  class="remove-padding lookup-container"></div>\',\r\n                        \'<input dojoType="dijit.form.TextBox" id="{%= $.id %}_tb_LeadCompanyName" label="{%= $.companyText %}" dojoAttachPoint="tb_LeadCompanyName" readonly="true" />\',\r\n                    \'</div>\',                       \r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="{%= $.labelWidth %}"  class="bottom-border-section">\',\r\n                        \'<select label="{%= $.categoryText %}" id="{%= $.id %}_pk_Category" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Category" canEditText="true" itemMustExist="false" maxLength="64"  style="width: {%= 472 - $.labelWidth %}px;" ></select>\', \r\n                         \'<div dojoType="dijit.layout.ContentPane" label="{%= $.leaderText %}" dojoAttachPoint="container_LeaderLup" class="remove-padding lookup-container" style="width: {%= 472 - $.labelWidth %}px;"></div>\',\r\n                         \'<select label="{%= $.priorityText %}" id="{%= $.id %}_pk_Priority" shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Priority" canEditText="true" itemMustExist="false" pickListName="Priorities" sort="false" maxLength="64" style="width: {%= 472 - $.labelWidth %}px;"></select>\',                          \r\n                    \'</div>\',\r\n                    \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}"  class="valigntop">\',\r\n                        \'<textarea dojoType="dijit.form.SimpleTextarea" id="{%= $.id %}_ta_Notes" label="{%= $.notesText %}" dojoAttachPoint="ta_Notes" class="notes-text" ></textarea>\',\r\n                    \'</div>\',\r\n                \'</div>\',  // end general tab\r\n\r\n              /* Attachments Tab  */\r\n                \'<div dojoType="dijit.layout.ContentPane" id="{%= $.id %}_cp_Attachments" title="{%= $.tabNameAttachmentsText %}" class="tabContent" dojoAttachPoint="cp_Attachments" dojoAttachEvent="onShow:_showAttachmentsTab">\',\r\n                    \'<div id="{%= $.id %}_attachmentsGridPlaceholder" dojoAttachPoint="_attachmentGridPlaceholder" style="width:100%;height:100%;" ></div>\',\r\n                \'</div>\',  //end attachments tab\r\n            \'</div>\', //end tab container\r\n            \'<table class="button-bar">\',\r\n                \'<col width="50%" /><col width="50%" />\',\r\n                 \'<tr>\',\r\n                    \'<td class="alignleft">\',\r\n                        //followUp section\r\n                        \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="{%= $.labelWidth %}" dojoAttachPoint="followUp_Section" >\',\r\n                            \'<select label="{%= $.followupText %}" id="{%= $.id %}_followUpSelect" dojoType="dijit.form.ComboBox" dojoAttachPoint="sel_Followup">\',\r\n                                \'<option value="none" selected="selected">{%= $.noneText %}</option>\',\r\n                                \'<option value="atPhoneCall">{%= Sage.Utility.Activity.getActivityTypeName("atPhoneCall") %}</option>\',\r\n                                \'<option value="atAppointment">{%= Sage.Utility.Activity.getActivityTypeName("atAppointment") %}</option>\',\r\n                                \'<option value="atToDo">{%= Sage.Utility.Activity.getActivityTypeName("atToDo") %}</option>\',\r\n                            \'</select>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="{%= $.id %}_ck_coAttachments" dojoAttachPoint="ck_coAttachments" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coAttachments">{%= $.carryOverAttachmentsText %}</label>\',\r\n                            \'</div>\',\r\n                            \'<div dojoType="dijit.layout.ContentPane" label="" class="remove-padding">\',\r\n                                \'<div dojoType="dijit.form.CheckBox" label="" id="{%= $.id %}_ck_coNotes" dojoAttachPoint="ck_coNotes" ></div>\',\r\n                                \'<label class="checkbox-label" for="{%= $.id %}_ck_coNotes">{%= $.carryOverNotesText %}</label>\',\r\n                            \'</div>\',\r\n                        \'</div>\',//end followUp section                         \r\n                    \'</td>\',\r\n                    \'<td class="alignright valignbottom" rowspan="2">\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btnDelete" name="btn_Delete" dojoAttachPoint="btn_Delete" dojoAttachEvent="onClick:_deleteClick">{%= $.deleteText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                        \'<div dojoType="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $. cancelText %}</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n                \'<tr>\',\r\n                   \'<td class="alignleft">\',\r\n                      \'<div class="scheduled-by-label" dojoAttachPoint="lbl_ScheduledBy"></div>\',\r\n                   \'</td>\',                 \r\n                \'</tr>\',\r\n            \'</table>\',\r\n        \'</div>\', //body\r\n    \'</div>\',  //dialog\r\n\'</div>\' //root node\r\n]\r\n'}});define("Sage/MainView/ActivityMgr/HistoryEditor",["dijit/_Widget","Sage/_Templated","Sage/Data/SingleEntrySDataStore","Sage/MainView/BindingsManager","Sage/Utility","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","Sage/UI/AttachmentList","Sage/Data/SDataServiceRegistry","Sage/UI/Dialogs","dojo/string","dojo/date/locale","Sage/Utility/Activity","Sage/Utility/File","dojo/_base/declare","dojo/i18n!./nls/HistoryEditor","dojo/text!./templates/HistoryEditor.html","dojo/dom-class","Sage/MainView/ActivityMgr/HistoryEditorAttendeesTab","dijit/layout/ContentPane","dojo/on","dijit/Toolbar","dijit/layout/TabContainer","dijit/form/Textarea","dojox/layout/TableContainer","Sage/Services/UserOptions","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","Sage/UI/Controls/Lookup","dijit/Dialog","Sage/UI/Controls/DurationSelect","Sage/Services/CalendarSecurityService"],function(_1cef,_1cf0,_1cf1,_1cf2,_1cf3,_1cf4,_1cf5,_1cf6,_1cf7,_1cf8,_1cf9,_1cfa,_1cfb,_1cfc,_1cfd,_1cfe,_1cff,_1d00,_1d01,_1d02,_1d03,on){dojo.requireLocalization("Sage.MainView.ActivityMgr","HistoryEditor");var _1d04=_1cfe("Sage.MainView.ActivityMgr.HistoryEditor",[_1cef,_1cf0],{historyId:"",mode:"",id:"",activityType:"",_dialog:false,_currentUserId:null,_activityService:false,_historyData:false,_historyStore:false,_bindingMgr:false,lup_Account:false,lup_Contact:false,lup_Opportunity:false,lup_Ticket:false,lup_Lead:false,lup_Leader:false,accountLookupConfig:{},contactLookupConfig:{},opportunityLookupConfig:{},ticketLookupConfig:{},leadLookupConfig:{},_isBinding:false,_historySaved:false,notnullfields:["ContactId","AccountId","OpportunityId","TicketId","LeadId"],historyDefaultValues:{},_doingFollowup:false,_attachmentsSaved:false,_attachmentList:false,_tempIdForAttachments:false,_hasAccess:true,eventConnections:[],widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1d00)),constructor:function(){dojo.mixin(this,_1cff);this._historyService=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");this._setupStore();this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";dojo.subscribe("/entity/attachment/create",this,this._updateHistoryETag);dojo.subscribe("/entity/attachment/update",this,this._updateHistoryETag);dojo.subscribe("/entity/attachment/delete",this,this._updateHistoryETag);},destroy:function(){if(this._historyChangeConnection){dojo.disconnect(this._historyChangeConnection);this._historyChangeConnection=false;}if(this._bindingMgr){this._bindingMgr.destroy();}for(var i=0;i<this.eventConnections.length;i++){dojo.disconnect(this.eventConnections[i]);}this.lup_Account.destroy();this.lup_Contact.destroy();this.lup_Opportunity.destroy();this.lup_Ticket.destroy();this.lup_Lead.destroy();this.lup_Leader.destroy();this.eventConnections=[];this.inherited(arguments);},isFirstOpen:true,show:function(_1d05){this._dialog.set("refocus",false);if(this.isFirstOpen){this.isFirstOpen=false;this.connect(this._dialog,"onHide",this._cleanOnClose);}if(!this.lup_Account){this.createAccountLookup();this.createContactLookup();this.createOpportunityLookup();this.createTicketLookup();this.createLeadLookup();this.createLeaderLookup();}this.historyDefaultValues={};if(this.mode==="New"){this.historyDefaultValues=_1d05||{};this._loadData();}if(this.mode==="Complete"){}if(this.mode==="Complete"){_1d01.add(this.btn_Delete.domNode,"display-none");}else{_1d01.remove(this.btn_Delete.domNode,"display-none");}if((this.activityType==="atNote")&&(this.mode==="New")){dojo.addClass(this.result_Section.domNode,"display-none");}else{dojo.removeClass(this.result_Section.domNode,"display-none");}this._dialog.show();if(!this._dialog._standby){_1cf5.mixin(this._dialog,new _1cf6());if(!this._historyData){this._dialog.showLoading();}}if(!this._dialog.helpIcon){_1cf5.mixin(this._dialog,new _1cf4());this._dialog.createHelpIconByTopic("View_Edit_Details_of_a_History_Item");}if(this.activityType==="atNote"){this._dialog.set("helpTopic","addnote");}else{this._dialog.set("helpTopic","View_Edit_Details_of_a_History_Item");}this.tc_EditHistory.selectChild(this.cp_General);this._doingFollowup=false;},hide:function(e){this._dialog.hide(e);this.set("historyId","");},onHide:function(){},_onDlgHide:function(){this.onHide();},_cleanOnClose:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this.set("historyId","");this._hideLookupTooltip(this.lup_Account);this._hideLookupTooltip(this.lup_Contact);this._hideLookupTooltip(this.lup_Opportunity);this._hideLookupTooltip(this.lup_Ticket);this._hideLookupTooltip(this.lup_Lead);this._hideLookupTooltip(this.lup_Leader);},_hideLookupTooltip:function(_1d06){if(_1d06){_1d06.hideTooltip();}},_showAttachmentsTab:function(){var self=this;window.setTimeout(function(){self._ensureAttachmentList();},100);},_ensureAttachmentList:function(){if(!this._attachmentList){this._attachmentList=new _1cf7({workspace:"",tabId:"",placeHolder:this.id+"_attachmentsGridPlaceholder",parentRelationshipName:"historyId"});var self=this;this._attachmentList.startup(function(){if(self.cp_Attachments){self.cp_Attachments.resize();}});}else{this._attachmentList.resetEntityContext();}},_updateHistoryETag:function(_1d07){if(this._dialog.open&&this.historyId){var req=new Sage.SData.Client.SDataSingleResourceRequest(_1cf8.getSDataService("dynamic"));req.setResourceKind("history");req.setResourceSelector('"'+this.historyId+'"');req.setQueryArg("precedence","0");req.read({success:function(_1d08){this._historyData["$etag"]=_1d08["$etag"];},scope:this});}},_setModeAttr:function(mode){this.mode=mode;var idx=this.tc_EditHistory.getIndexOfChild(dijit.byId("histAttendeesTabPane"));if(mode.indexOf("New")===0){this._historyData=false;if(idx>0){this.tc_EditHistory.removeChild(dijit.byId("histAttendeesTabPane"));dijit.byId("histAttendeesTabPane").destroy();var self=this;window.setTimeout(function(){self._dialog.resize();},100);}}else{if(idx<0){this._addAttendeesTab();var self=this;window.setTimeout(function(){self._dialog.resize();},100);}}},_setActivityTypeAttr:function(type){switch(type){case"PhoneCall":case"atPhoneCall":this.activityType="atPhoneCall";break;case"Meeting":case"atAppointment":this.activityType="atAppointment";break;case"ToDo":case"atToDo":this.activityType="atToDo";break;case"PersonalActivity":case"atPersonal":case"Personal":this.activityType="atPersonal";break;case"atNote":case"Note":this.activityType="atNote";break;default:this.activityType="atNote";break;}},_setHistoryIdAttr:function(_1d09){if(this.historyId!==_1d09){this.historyId=_1d09;this._historyData=false;if(_1d09!==""){this._loadData();}}},_getHistoryIdAttr:function(){return this.historyId;},_setupStore:function(){if(!this._historyStore){this._historyStore=new _1cf1({include:[],resourceKind:"history",service:this._historyService});}},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}this._historyData=false;this._historySaved=false;if(this._historyStore){if(this.mode!=="New"){this._historyStore.fetch({predicate:'"'+this.historyId+'"',onComplete:this._receivedHistory,onError:this._requestFailure,scope:this});}else{this._historyStore.newItem({onComplete:function(data){Sage.Utility.setValue(data,"Type",this.activityType);this._receivedHistory(dojo.mixin(data,this.historyDefaultValues));},scope:this});}}},_receivedHistory:function(data){this._historyData=data;this._tempIdForAttachments=false;var _1d0a=Sage.Services.getService("ClientEntityContext");var _1d0b={"EntityId":this._historyData.$key||"","EntityType":"Sage.Entity.Interfaces.IHistory","Description":this._historyData.$descriptor,"EntityTableName":"HISTORY"};_1d0a.setTemporaryContext(_1d0b);this._ensureIdsNotNull();if(this.mode!=="New"){this.activityType=data.Type;}else{this._applyUserOptionsForNewHistory();}this._setUIForActivityType(data.Type);this._bind();if(((this.activityType==="atNote")&&(this.mode==="New"))||(data["UserId"]!==this._currentUserId&&this._currentUserId.trim()!=="ADMIN")){dojo.addClass(this.btn_Delete.domNode,"display-none");}else{dojo.removeClass(this.btn_Delete.domNode,"display-none");}if(this._dialog._standby){this._dialog.hideLoading();}},_ensureIdsNotNull:function(){for(var i=0;i<this.notnullfields.length;i++){if(this._historyData[this.notnullfields[i]]===null){this._historyData[this.notnullfields[i]]="";}}},_applyUserOptionsForNewHistory:function(){var _1d0c=new Date();_1d0c.setSeconds(5);_1d0c.setMinutes(0);_1d0c.setHours(0);Sage.Utility.setValue(this._historyData,"Timeless",true);Sage.Utility.setValue(this._historyData,"StartDate",Sage.Utility.Convert.toIsoStringFromDate(_1d0c));Sage.Utility.setValue(this._historyData,"Duration","60");},_requestFailure:function(msg,_1d0d,opts){},_createBindings:function(){if(this._bindingMgr){this._bindingMgr.destroy();this._bindingMgr=false;}this._bindingMgr=new _1cf2({defaultBinding:{boundEntity:this._historyData},items:[{boundWidget:this.tb_Location,entityProperty:"Location"},{boundWidget:this.pk_Regarding,entityProperty:"Description",onChange:dojo.hitch(this,"_descriptionChanged")},{boundWidget:this.pk_Result,entityProperty:"Result"},{boundWidget:this.pk_Category,entityProperty:"Category"},{boundWidget:this.pk_Priority,entityProperty:"Priority"},{boundWidget:this.dtp_startDate,dataType:"date",entityProperty:"StartDate",onChange:dojo.hitch(this,"_startDateChanged")},{boundWidget:this.dtp_completedDate,dataType:"date",entityProperty:"CompletedDate"},{boundWidget:this.sel_Duration,entityProperty:"Duration"},{boundWidget:this.sel_Duration,entityProperty:"StartDate",widgetProperty:"startTime",dataType:"date",twoWay:false},{boundWidget:this.cb_Timeless,entityProperty:"Timeless",widgetProperty:"checked",onChange:dojo.hitch(this,"_timelessChange")},{boundWidget:this.ta_Notes,entityProperty:"LongNotes"}]});},_bind:function(){if(this._historyData){if(!this._bindingMgr){this._createBindings();}else{if(!this._bindingMgr.boundEntity||(this._historyData.HistoryId!==this._bindingMgr.boundEntity.HistoryId)){this._bindingMgr.setBoundEntity(this._historyData);}else{this._bindingMgr.bind();}}this._manualBind();this._setUI();}},_manualBind:function(){if(this._historyData){this._isBinding=true;var his=this._historyData;var _1d0e=(his.AccountId.trim()==="")?null:{"$key":his.AccountId,"$descriptor":his.AccountName};this.lup_Account.set("selectedObject",_1d0e);var _1d0f=(his.ContactId.trim()==="")?null:{"$key":his.ContactId,"$descriptor":his.ContactName};this.lup_Contact.set("selectedObject",_1d0f);var _1d10=(his.OpportunityId.trim()==="")?null:{"$key":his.OpportutunityId,"$descriptor":his.OpportunityName};this.lup_Opportunity.set("selectedObject",_1d10);var _1d11=(his.TicketId.trim()==="")?null:{"$key":his.TicketId,"$descriptor":his.TicketNumber};this.lup_Ticket.set("selectedObject",_1d11);var _1d12=(his.LeadId.trim()==="")?null:{"$key":his.LeadId,"$descriptor":his.LeadName};var _1d13=(his.UserId.trim()==="")?null:{"$key":his.UserId,"$descriptor":his.UserName};this.lup_Leader.set("selectedObject",_1d13);this.lup_Lead.set("selectedObject",_1d12);this.tb_LeadCompanyName.set("value",(his.LeadId.trim()==="")?"":his.AccountName);this._updateLookupSeedValues(his.AccountId);this._isBinding=false;}},_accountChanged:function(_1d14){if(this._isBinding){return;}var newId=(_1d14)?_1d14["$key"]:"";var _1d15=(_1d14)?_1d14["$descriptor"]:"";var his=this._historyData;var _1d16=(his.ContactId==="");his.AccountId=newId;his.AccountName=_1d15;his.ContactId="";his.ContactName="";his.PhoneNumber="";his.OpportunityId="";his.OpportunityName="";his.TicketId="";his.TicketNumber="";his.LeadId="";his.LeadName="";this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._updateLookupSeedValues(newId);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");if(_1d16){this._setContactToCurrentAccountPrimary();}this._isBinding=false;},_contactChanged:function(_1d17){if(this._isBinding){return;}var his=this._historyData;if(!_1d17){his.ContactId="";his.ContactName="";his.PhoneNumber="";return;}his.ContactId=_1d17["$key"];his.ContactName=_1d17["$descriptor"];his.PhoneNumber=Sage.Utility.getValue(_1d17,"WorkPhone");his.LeadId="";his.LeadName="";his.AccountId=_1d17.Account["$key"];his.AccountName=_1d17.Account.AccountName;this._updateLookupSeedValues(_1d17.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1d17.Account["$key"],"$descriptor":_1d17.Account.AccountName});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;},_opportunityChanged:function(_1d18){if(this._isBinding){return;}var his=this._historyData;if(!_1d18){his.OpportunityId="";his.OpportunityName="";return;}his.OpportunityId=_1d18["$key"];his.OpportunityName=_1d18["$descriptor"];if(his.AccountId.trim()===""||his.AccountId!==_1d18.Account["$key"]){his.AccountId=_1d18.Account["$key"];his.AccountName=_1d18.Account.AccountName;his.LeadId="";his.LeadName="";this._updateLookupSeedValues(_1d18.Account["$key"]);this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1d18.Account["$key"],"$descriptor":_1d18.Account.AccountName});this.lup_Contact.set("selectedObject",null);this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;this._setContactBasedOnOpportunity();}},_ticketChanged:function(_1d19){if(this._isBinding){return;}var his=this._historyData;if(!_1d19){his.TicketId="";his.TicketNumber="";return;}his.TicketId=_1d19["$key"];his.TicketNumber=_1d19["$descriptor"];if(his.AccountId.trim()===""||his.AccountId!==_1d19.Account["$key"]){his.AccountId=_1d19.Account["$key"];his.AccountName=_1d19.Account["AccountName"];his.LeadId="";his.LeadName="";this._updateLookupSeedValues();his.ContactId=Sage.Utility.getValue(_1d19,"Contact.$key");his.ContactName=Sage.Utility.getValue(_1d19,"Contact.NameLF");his.PhoneNumber=Sage.Utility.getValue(_1d19,"Contact.WorkPhone");this._isBinding=true;this.lup_Account.set("selectedObject",{"$key":_1d19.Account["$key"],"$descriptor":_1d19.Account["AccountName"]});this.lup_Contact.set("selectedObject",{"$key":_1d19.Contact["$key"],"$descriptor":_1d19.Contact["NameLF"]});this.lup_Lead.set("selectedObject",null);this.tb_LeadCompanyName.set("value","");this._isBinding=false;}},_leadChanged:function(_1d1a){if(this._isBinding){return;}var his=this._historyData;if(!_1d1a){his.LeadId="";his.LeadName="";his.PhoneNumber="";this.tb_LeadCompanyName.set("value","");return;}his.LeadId=_1d1a["$key"];his.LeadName=_1d1a["$descriptor"];his.AccountName=_1d1a["Company"];his.PhoneNumber=_1d1a["WorkPhone"];this.tb_LeadCompanyName.set("value",_1d1a["Company"]);his.ContactId="";his.ContactName="";his.AccountId="";his.AccountName="";his.TicketId="";his.TicketNumber="";his.OpportunityId="";his.OpportunityName="";this._updateLookupSeedValues();this._isBinding=true;this.lup_Contact.set("selectedObject",null);this.lup_Account.set("selectedObject",null);this.lup_Opportunity.set("selectedObject",null);this.lup_Ticket.set("selectedObject",null);this._isBinding=false;},_leaderChanged:function(_1d1b){if(this._isBinding){return;}this._historyData.UserId=_1d1b["$key"].substr(0,12);this._historyData.UserName=_1d1b["$descriptor"];},_setContactBasedOnOpportunity:function(){var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("opportunities");var _1d1c=req.uri.pathSegments.length-1;var _1d1d=req.uri.getPathSegment(_1d1c);_1d1d["predicate"]='"'+this._historyData.OpportunityId+'"';req.uri.setPathSegment(_1d1c+1,"Contacts");req.setQueryArg("select","IsPrimary,Contact/NameLF,Contact/IsPrimary,Contact/WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.read({success:function(data){var _1d1e=data["$resources"];if(_1d1e.length<1){this._setContactToCurrentAccountPrimary();return;}var _1d1f=false,_1d20=false,_1d21=_1d1e[0],_1d22;for(var i=0;i<_1d1e.length;i++){if(_1d1e[i].IsPrimary){if(!_1d1f||_1d1e[i].Contact.IsPrimary){_1d1f=_1d1e[i];}}if(!_1d20&&_1d1e[i].Contact.IsPrimary){_1d20=_1d1e[i];}}_1d22=_1d1f||_1d20||_1d21;if(_1d22){this._historyData.ContactId=Sage.Utility.getValue(_1d22,"Contact.$key");this._historyData.ContactName=Sage.Utility.getValue(_1d22,"Contact.NameLF");this._historyData.PhoneNumber=Sage.Utility.getValue(_1d22,"Contact.WorkPhone");this._rebindToCurrentContact();}},failure:function(){this._rebindToCurrentContact();},scope:this});},_setContactToCurrentAccountPrimary:function(){var req=new Sage.SData.Client.SDataResourceCollectionRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic"));req.setResourceKind("accounts");var _1d23=req.uri.pathSegments.length-1;var _1d24=req.uri.getPathSegment(_1d23);_1d24["predicate"]='"'+this._historyData.AccountId+'"';req.uri.setPathSegment(_1d23+1,"Contacts");req.setQueryArg("select","NameLF,IsPrimary,WorkPhone");req.setQueryArg("orderby","IsPrimary desc");req.setQueryArg("count","1");req.read({success:function(data){var _1d25=data["$resources"];if(_1d25.length<1){this._rebindToCurrentContact();return;}var _1d26=_1d25[0];this._historyData.ContactId=Sage.Utility.getValue(_1d26,"$key");this._historyData.ContactName=Sage.Utility.getValue(_1d26,"NameLF");this._historyData.PhoneNumber=Sage.Utility.getValue(_1d26,"WorkPhone");this._isBinding=true;this.lup_Contact.set("selectedObject",_1d26);this._isBinding=false;},failure:function(){this._rebindToCurrentContact();},scope:this});},_rebindToCurrentContact:function(){this._isBinding=true;this.lup_Contact.set("selectedObject",{"$key":this._historyData.ContactId,"$descriptor":this._historyData.ContactName});this._isBinding=false;},_updateLookupSeedValues:function(_1d27){var accId=_1d27||this._historyData.AccountId;this.contactLookupConfig.seedValue=accId;this.opportunityLookupConfig.seedValue=accId;this.ticketLookupConfig.seedValue=accId;},_setUI:function(){this._formatHeader();this._setDisabledByTimlessValue();if(this._historyData.LeadId.trim()===""){this.rdo_Contact.set("checked",true);}else{this.rdo_Lead.set("checked",true);}this._setContactLeadVisibility();this._setScheduledByLabel();this._applySecurity();},_applySecurity:function(){if(this.mode==="New"){this._setAccessToUI(true);}else{if(this.mode==="Complete"){this._setAccessToUI(true);}else{var svc=Sage.Services.getService("CalendarSecurityService");if(svc){var _1d28=_1cf3.getClientContextByKey("userID").trim();var _1d29=this._historyData.UserId||_1d28;if(_1d28!==_1d29){svc.hasAccess(_1d29,"allowEdit",function(_1d2a){this._setAccessToUI(_1d2a);},this);}else{this._setAccessToUI(true);}}}}},_setAccessToUI:function(_1d2b){this._hasAccess=_1d2b;if((this.mode==="New")||((this.mode==="Complete"))){this.rdo_Lead.set("disabled",!_1d2b);this.tb_Location.set("disabled",!_1d2b);this.pk_Regarding.set("disabled",!_1d2b);this.pk_Category.set("disabled",!_1d2b);this.pk_Priority.set("disabled",!_1d2b);this.dtp_startDate.set("disabled",!_1d2b);this.dtp_completedDate.set("disabled",!_1d2b);if(!_1d2b){this.sel_Duration.set("disabled",true);}this.cb_Timeless.set("disabled",!_1d2b);this.ta_Notes.set("disabled",!_1d2b);this.lup_Leader.set("disabled",!_1d2b);this.lup_Account.set("disabled",!_1d2b);this.lup_Contact.set("disabled",!_1d2b);this.lup_Lead.set("disabled",!_1d2b);this.lup_Ticket.set("disabled",!_1d2b);this.lup_Opportunity.set("disabled",!_1d2b);this.tb_LeadCompanyName.set("disabled",!_1d2b);this.btn_OK.set("disabled",!_1d2b);}else{this.rdo_Lead.set("disabled",true);this.tb_Location.set("disabled",!_1d2b);this.pk_Regarding.set("disabled",!_1d2b);this.pk_Category.set("disabled",!_1d2b);this.pk_Priority.set("disabled",true);this.dtp_startDate.set("disabled",true);this.dtp_completedDate.set("disabled",true);this.sel_Duration.set("disabled",true);this.cb_Timeless.set("disabled",true);this.ta_Notes.set("disabled",!_1d2b);this.lup_Leader.set("disabled",true);this.lup_Account.set("disabled",true);this.lup_Contact.set("disabled",true);this.lup_Lead.set("disabled",true);this.lup_Ticket.set("disabled",true);this.lup_Opportunity.set("disabled",true);this.tb_LeadCompanyName.set("disabled",true);this.btn_OK.set("disabled",!_1d2b);}},_setUIForActivityType:function(_1d2c){this.pk_Regarding.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Regarding",_1d2c));this.pk_Category.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Category",_1d2c));this.pk_Result.set("pickListName",Sage.Utility.Activity.getActivityPicklistName("Result",_1d2c));var svc=Sage.Services.getService("CalendarSecurityService");this.btn_OK.set("disabled",false);if(svc&&this.mode!=="New"){var _1d2d=_1cf3.getClientContextByKey("userID").trim();var _1d2e=this._historyData.UserId||_1d2d;if(_1d2d!==_1d2e){svc.hasAccess(_1d2e,"allowEdit",function(_1d2f){this.btn_OK.set("disabled",!_1d2f);},this);}}},_setDisabledByTimlessValue:function(){if(!this._historyData){return;}var tless=this._historyData["Timeless"];this.dtp_startDate.set("displayTime",!tless);this.sel_Duration.set("disabled",tless||!this._hasAccess);},_timelessChange:function(){this._setDisabledByTimlessValue();},_descriptionChanged:function(){this._formatHeader();},_startDateChanged:function(){var _1d30=this.dtp_startDate.get("value");this.sel_Duration.set("startTime",_1d30);},_setContactLeadVisibility:function(){var _1d31=this.rdo_Contact.get("checked");dojo.removeClass((_1d31)?this.contactContainer.domNode:this.leadContainer.domNode,"display-none");dojo.addClass((_1d31)?this.leadContainer.domNode:this.contactContainer.domNode,"display-none");},_formatHeader:function(){var _1d32;var _1d33;var _1d34;var _1d35;_1d33=Sage.Utility.Activity.getActivityImageClass(this._historyData["Type"]||"atAppointment","small");_1d32=Sage.Utility.Activity.getActivityTypeName(this._historyData["Type"]||"atAppointment");_1d34=(this.mode==="New")?this.insertText:"";_1d35=this._historyData["Description"]||"";if(_1d35!==""){_1d35=" - "+_1d35;}this._dialog.set("title",dojo.string.substitute('<div class="Global_Images icon16x16 ${0}" > </div>&nbsp;<span class="activity-dialog-title">${1} ${2} ${3}</span>',[_1d33,_1d34,_1d32,_1d35]));},_setScheduledByLabel:function(){var _1d36=Sage.Utility.Convert.toDateFromString(Sage.Utility.getValue(this._historyData,"CreateDate"));if(_1d36.getFullYear()<1000){_1d36=new Date();}var _1d37=Sage.Utility.getValue(this._historyData,"CreateUser").trim();if(!_1d37||_1cf3.getClientContextByKey("userID")===_1d37){_1d37=_1cf3.getClientContextByKey("userPrettyName");}else{if(_1d37==="PROCESS"||_1d37==="ADMIN"){_1d37="Administrator";}else{this._getUserInfoFor(_1d37,function(user){dojo.html.set(this.lbl_ScheduledBy,_1cfa.substitute(this.scheduledByFormatText,{user:user["$descriptor"],date:_1cfb.format(_1d36,{selector:"date",fullYear:true})}));});return;}}var lbl=_1cfa.substitute(this.scheduledByFormatText,{user:_1d37,date:_1cfb.format(_1d36,{selector:"date",fullYear:true})});dojo.html.set(this.lbl_ScheduledBy,lbl);},_getUserInfoFor:function(_1d38,_1d39){var _1d3a=new Sage.SData.Client.SDataSingleResourceRequest(Sage.Data.SDataServiceRegistry.getSDataService("dynamic",false,true,true));_1d3a.setResourceKind("userInfo");_1d3a.setResourceSelector("'"+_1d38+"'");_1d3a.setQueryArg("precedence","0");_1d3a.read({success:_1d39,scope:this,failure:function(){}});},_okClick:function(){delete this._historyData["Notes"];delete this._historyData["UserName"];if(this.rdo_Lead.checked){delete this._historyData["ContactId"];delete this._historyData["ContactName"];delete this._historyData["AccountId"];delete this._historyData["AccountName"];delete this._historyData["LeadName"];}else{delete this._historyData["LeadId"];}if(this.mode==="New"){this._currentUserActivitySaved=true;this._historyStore.saveNewEntity(this._historyData,this._successfulHistorySave,this._failedHistorySave,this);}else{this._historyStore.save({scope:this,success:this._successfulHistorySave,failure:this._failedAHistorySave});}},_successfulHistorySave:function(_1d3b){this._historyData=_1d3b;this.historyId=_1d3b["$key"];var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();this._attachmentsSaved=true;if(this._attachmentList){var _1d3c=this._attachmentList.getNewAttachments();if(_1d3c.length>0&&this.mode==="New"){this._saveAttachments(_1d3c);this._attachmentsSaved=false;}}if(this.mode==="New"){this.attendeesTab._addHistoryAttendee(_1d3b);}dojo.publish("/entity/history/change",[_1d3b,this]);this._historySaved=true;this._hideIfComplete();},_failedHistorySave:function(_1d3d){Sage.UI.Dialogs.showError(this.couldNotSaveErrorText);},_cancelClick:function(){if(this.mode==="Complete"){this._deleteClick();}else{this.hide();}},_hideIfComplete:function(){if(this._historySaved){if(this._mode!=="New"){this._doFollowup();}else{this.hide();}}},_deleteClick:function(){if(this._historyData&&this._historyStore){Sage.UI.Dialogs.raiseQueryDialogExt({title:this.deleteTitle,query:this.deleteMessage,callbackFn:function(_1d3e){if(_1d3e){this._historyStore.deleteEntity(this._historyData,this._successfulHistoryDelete,this._failedHistoryDelete,this);}},yesText:this.okText,noText:this.cancelText,icon:"questionIcon",scope:this});}},_successfulHistoryDelete:function(){var svc=Sage.Services.getService("ClientEntityContext");svc.clearTemporaryContext();dojo.publish("/entity/history/delete",[this._historyData["$key"],this]);this.hide();},_failedHistoryDelete:function(_1d3f){var msg=_1cfc.findFailedRequestMessage(_1d3f,this.couldNotDeleteErrorText);_1cf9.showError(msg);},_saveAttachments:function(_1d40){this._attachmentRequests=_1d40.length;for(var i=0;i<_1d40.length;i++){var att=_1d40[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1cf8.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");att.historyId=this.historyId;for(var p in this._historyData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _1d41=p.substring(0,1).toLowerCase()+p.substring(1);att[_1d41]=this._historyData[p];}}req.update(att,{success:this._successfulAttachmentSave,failure:this._failedAttachmentSave,scope:this});}},_removeAttachments:function(){if(!this._attachmentList){return;}var _1d42=this._attachmentList.getNewAttachments();for(var i=0;i<_1d42.length;i++){var att=_1d42[i];var req=new Sage.SData.Client.SDataSingleResourceRequest(_1cf8.getSDataService("system"));req.setResourceKind("attachments");req.setResourceSelector("'"+att.$key+"'");req["delete"](att,{success:function(){},failure:function(){},scope:this});}},getRelationshipsForAttachments:function(){var obj={};for(var p in this._activityData){if(p.substring(p.length-2)==="Id"&&p!=="UserId"){var _1d43=p.substring(0,1).toLowerCase()+p.substring(1);obj[_1d43]=this._activityData[p];}}if(this.mode==="New"&&!_1cfd.supportsHTML5File&&!Sage.gears){this._tempIdForAttachments=this._makeTempID();obj["historyId"]=this._tempIdForAttachments;}return obj;},_makeTempID:function(){if(!this._tempIdForAttachments){var uid=this._currentUserId;var dstr=_1cf3.Convert.toIsoStringFromDate(this.dtp_completedDate.get("value"));dstr=dstr.replace(/[T:-]/g,"").substr(6,6);this._tempIdForAttachments="NE"+uid.substr(uid.length-4,4)+dstr;}return this._tempIdForAttachments;},_attachmentRequests:0,_successfulAttachmentSave:function(_1d44){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;}},_failedAttachmentSave:function(){this._attachmentRequests--;if(this._attachmentRequests<1){this._attachmentsSaved=true;}},_doFollowup:function(){var _1d45=this.sel_Followup.get("value");switch(_1d45){case this.noneText:this.hide();return;case _1cfc.getActivityTypeName("atPhoneCall"):_1d45="atPhoneCall";break;case _1cfc.getActivityTypeName("atAppointment"):_1d45="atAppointment";break;case _1cfc.getActivityTypeName("atToDo"):_1d45="atToDo";break;}var _1d46=this._getFollowUpActivityData();this._doingFollowup=true;this.hide("followup");window.setTimeout(function(){var svc=Sage.Services.getService("ActivityService");if(svc){svc.scheduleActivity({"type":_1d45,"preConfigured":_1d46});}},250);},_getFollowUpActivityData:function(){var his=this._historyData;var ret={AccountId:his.AccountId,AccountName:his.AccountName,ContactId:his.ContactId,ContactName:his.ContactName,Description:his.Description,LeadId:his.LeadId,LeadName:his.LeadName,OpportunityId:his.OpportunityId,OpportunityName:his.OpportunityName,TicketId:his.TicketId,TicketNumber:his.TicketNumber};if(this.ck_coNotes.get("checked")){ret["LongNotes"]=his.LongNotes;ret["Notes"]=his.Notes;}if(this.ck_coAttachments.get("checked")){}return ret;},createAccountLookup:function(){this.accountLookupConfig={id:"_historyAcc",structure:[{"cells":[{"name":this.accountText,"field":"AccountName"},{"name":this.cityText,"field":"Address.City"},{"name":this.stateText,"field":"Address.State"},{"name":this.mainPhoneText,"field":"MainPhone"},{"name":this.typeText,"field":"Type"},{"name":this.subTypeText,"field":"SubType"},{"name":this.statusText,"field":"Status"},{"name":this.acctMgrText,"field":"AccountManager.UserInfo.UserName"},{"name":this.ownerText,"field":"Owner.OwnerDescription"}],"defaultCell":{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""}}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"accounts",sort:[{attribute:"AccountName"}]},isModal:true,seedProperty:"",seedValue:"",overrideSeedValueOnSearch:false,initializeLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupActText,dialogButtonText:this.okText},this.lup_Account=new Sage.UI.Controls.Lookup({id:"history_lu_account",allowClearingResult:true,config:this.accountLookupConfig,readonly:true,});this.eventConnections.push(dojo.connect(this.lup_Account,"onChange",this,"_accountChanged"));dojo.place(this.lup_Account.domNode,this.container_AccountLup.domNode,"only");},createContactLookup:function(){this.contactLookupConfig={id:"_histoyContact",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"NameLF"},{name:this.accountText,field:"Account.AccountName"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.workphoneText,field:"WorkPhone"},{name:this.emailText,field:"Email"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",sort:[{attribute:"NameLF"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.okText};this.lup_Contact=new Sage.UI.Controls.Lookup({id:"history_lu_contact",allowClearingResult:true,readonly:true,config:this.contactLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Contact,"onChange",this,"_contactChanged"));dojo.place(this.lup_Contact.domNode,this.container_ContactLup.domNode,"only");},createOpportunityLookup:function(){this.opportunityLookupConfig={id:"_historyOpp",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.descriptionText,field:"Description"},{name:this.acctMgrText,field:"AccountManager.UserInfo.UserName"},{name:this.accountText,field:"Account.AccountName"},{name:this.stageText,field:"Stage"},{name:this.statusText,field:"Status"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"opportunities",sort:[{attribute:"Description"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupOpportunityText,dialogButtonText:this.okText};this.lup_Opportunity=new Sage.UI.Controls.Lookup({id:"history_lu_opportunity",allowClearingResult:true,readonly:true,config:this.opportunityLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Opportunity,"onChange",this,"_opportunityChanged"));dojo.place(this.lup_Opportunity.domNode,this.container_OppLup.domNode,"only");},createTicketLookup:function(){this.ticketLookupConfig={id:"_historyTicket",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"styles":"text-align: left;","propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.ticketNumberText,field:"TicketNumber"},{name:this.accountText,field:"Account.AccountName"},{name:this.nameText,field:"Contact.NameLF"},{name:this.phoneText,field:"Contact.WorkPhone"},{name:this.statusText,field:"StatusCode",pickListName:"",propertyType:"SalesLogix.PickList"},{name:this.urgencyText,field:"Urgency.Description"},{name:this.areaText,field:"Area"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"tickets",sort:[{attribute:"TicketNumber"}]},isModal:true,seedProperty:"Account.Id",seedValue:"",overrideSeedValueOnSearch:true,initialLookup:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupTicketText,dialogButtonText:this.okText};this.lup_Ticket=new Sage.UI.Controls.Lookup({id:"history_lu_ticket",allowClearingResult:true,readonly:true,config:this.ticketLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Ticket,"onChange",this,"_ticketChanged"));dojo.place(this.lup_Ticket.domNode,this.container_TicketLup.domNode,"only");},createLeadLookup:function(){this.leadLookupConfig={id:"_historyLead",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{name:this.nameText,field:"LeadFullName"},{name:this.companyText,field:"Company"},{name:this.cityText,field:"Address.City"},{name:this.stateText,field:"Address.State"},{name:this.postalText,field:"Address.PostalCode"},{name:this.statusText,field:"Status"},{name:this.workphoneText,field:"WorkPhone"},{name:this.ownerText,field:"Owner.OwnerDescription"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"leads",sort:[{attribute:"LeadFullName"}]},isModal:true,initialLookup:false,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeadText,dialogButtonText:this.okText};this.lup_Lead=new Sage.UI.Controls.Lookup({id:"history_lu_lead",allowClearingResult:true,readonly:true,config:this.leadLookupConfig,showEntityInfoToolTip:true});this.eventConnections.push(dojo.connect(this.lup_Lead,"onChange",this,"_leadChanged"));dojo.place(this.lup_Lead.domNode,this.container_LeadLup.domNode,"only");},createLeaderLookup:function(){var _1d47={id:"_historyLeader",structure:[{cells:[{name:this.nameText,field:"Name",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return"AllowAdd AND (AccessId eq '"+_1cf3.getClientContextByKey("userID")+"' OR AccessId eq 'EVERYONE') AND Type eq 'User'";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"activityresourceviews",sort:[{attribute:"Name"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:this.lookupLeaderText,dialogButtonText:this.okText};this.lup_Leader=new Sage.UI.Controls.Lookup({id:"history_lu_leader",readonly:true,config:_1d47});this.eventConnections.push(dojo.connect(this.lup_Leader,"onChange",this,"_leaderChanged"));dojo.place(this.lup_Leader.domNode,this.container_LeaderLup.domNode,"only");},_updateLocation:function(_1d48,isAdd){var _1d49=this._historyData.Location;if(!_1d49||_1d49===""){if(isAdd){_1d49=_1d48;}}else{var parts=_1d49.split("; ");var _1d4a=[];var _1d4b=false;for(var i=0;i<parts.length;i++){if(parts[i]===_1d48){if(isAdd){_1d4b=true;}else{continue;}}_1d4a.push(parts[i]);}if(!_1d4b&&isAdd){_1d4a.push(_1d48);}_1d49=_1d4a.join("; ");}Sage.Utility.setValue(this._historyData,"Location",_1d49);this.tb_Location.set("value",_1d49);},_formatDateForQuery:function(d){return["'",d.getUTCFullYear(),"-",d.getUTCMonth()+1,"-",d.getUTCDate(),"'"].join("");},postCreate:function(){this.inherited(arguments);this._addAttendeesTab();},_addAttendeesTab:function(){var _1d4c=this.attendeesTab=new _1d02();var cp=new _1d03({id:"histAttendeesTabPane",title:this.tabNameParticipants,"class":"tabContent remove-padding"},_1d4c.domNode);this.tc_EditHistory.addChild(cp);_1d4c.histEditor=this;_1d4c.startup();on(cp,"show",function(){_1d4c._tabShow();});},_successfulComplete:function(_1d4d){var self=this;var _1d4e=arguments;var _1d4f=this.attendeesTab._historySaved(_1d4d);_1d4f.then(function(value){self.inherited(_1d4e);});},});return _1d04;});},"Sage/TaskPane/User/ContactUserAssociationEditor":function(){require({cache:{"url:Sage/TaskPane/User/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divContactLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"contactLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n"}});define("Sage/TaskPane/User/ContactUserAssociationEditor",["dojo/_base/declare","dojo/i18n!./nls/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/string","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/ContactUserAssociationEditor.html","Sage/UI/Controls/SingleSelectPickList","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/Form"],function(_1d50,_1d51,_1d52,_1d53,_1d54,_1d55,_1d56,_1d57,_1d58,_1d59,_1d5a,_1d5b,_1d5c,_1d5d){var _1d5e=_1d50("Sage.TaskPane.User.ContactUserAssociationEditor",[_1d59,_1d5a],{id:"dlgContactUserAssociation",actionType:false,_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_User:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_1d5d)),constructor:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;dojo.mixin(this,_1d51);if(this.actionType=="disassociate"){}},associationExists:function(_1d5f,_1d60,_1d61,scope){this._setupStore();var _1d62=_1d57.substitute("UserId eq '${0}' ",[_1d61.UserId]);this._contactUserStore.fetch({query:_1d62,onComplete:function(_1d63){if(_1d63&&_1d63.length>0){_1d60.call(scope,_1d63,_1d61);}else{_1d5f.call(scope,_1d61);}},onError:function(){_1d5f.call(scope,_1d61);},scope:this});},loadContactData:function(_1d64,_1d65,scope){if(!_1d64){return;}this._setupStore();var _1d66=_1d57.substitute("ContactId in ['${0}'] ",[this._selectionInfo.join("','")]);this._contactUserStore.fetch({query:_1d66,onComplete:function(_1d67){_1d65.call(scope,_1d67);},onError:function(){_1d65.call(scope,null);},scope:this});this._contactUserStore.fetch({predicate:"'"+_1d64+"'",onComplete:function(_1d68){_1d65.call(scope,_1d68);},onError:function(){_1d65.call(scope,null);},scope:this});},setSelectionInfo:function(info){this._selectionInfo=info.selectionInfo.selectedIds;this.actionType=info.action;},show:function(){this._dialog.show();if(!this.lup_User){this.createContactLookup();}},createContactLookup:function(){this.contactLookupConfig={id:"_contactLookup",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupFirstNameColText,"field":"FirstName","sortable":true},{"name":this.lookupLastNameColText,"field":"LastName","sortable":true},{"name":this.lookupTitleColText,"field":"Title","sortable":true},{"name":this.lookupAccountColText,"field":"AccountName","sortable":true},{"name":this.lookupWorkPhoneColText,"field":"WorkPhone","sortable":true},{"name":this.lookupEmailText,"field":"Email","sortable":true}]}],gridOptions:{contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"contacts",sort:[{attribute:"LastName"}]},isModal:true,initialLookup:true,returnPrimaryKey:true,dialogTitle:this.lookupContactText,dialogButtonText:this.btnOK_Caption};this.lup_Contact=new _1d5c({id:"lu_Contact",config:this.contactLookupConfig,style:"width:100%"});dojo.place(this.lup_Contact.domNode,this.contactLookup_Container.domNode,"only");},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1d53({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},_okClick:function(){var _1d69=this.lup_Contact.selectedObject.$key;if(this._selectionInfo&&_1d69){this._setupStore();if(this.actionType==="associate"){var _1d6a={"UserId":this._selectionInfo[0],"ContactId":_1d69};this.associationExists(this._insertAssociation,function(){Sage.UI.Dialogs.showError(this.associationExistsMessage);},_1d6a,this);}else{if(this.actionType==="disassociate"){for(var i=0;i<this._selectionInfo.count;i++){}}}}},_insertAssociation:function(_1d6b,self){this._contactUserStore.saveNewEntity(_1d6b,this._successfulContactUserSave,this._failedContactUserSave,this);},_successfulContactUserSave:function(data){this._dialog.hide();},_failedContactUserSave:function(er){this._dialog.hide();},_close:function(){this._dialog.hide();}});return _1d5e;});},"Sage/Data/SDataStore":function(){define("Sage/Data/SDataStore",["dojo/_base/declare","dojo/_base/lang"],function(_1d6c,lang){var _1d6d=_1d6c("Sage.Data.SDataStore",null,{executeReadWith:"read",sort:null,where:null,select:null,include:null,request:null,queryName:null,resourceKind:null,resourcePredicate:null,collection:"$resources",expandRecurrences:null,constructor:function(o){lang.mixin(this,o);this.features={"dojo.data.api.Read":true};},_expandExpression:function(_1d6e){if(typeof _1d6e==="function"){return _1d6e.apply(this,Array.prototype.slice.call(arguments,1));}else{return _1d6e;}},_createRequest:function(_1d6f){var query="",sort=(_1d6f.sort?this._expandExpression(_1d6f.sort):this.sort),_1d70=this._expandExpression(_1d6f.select||this.select),_1d71=this._expandExpression(_1d6f.include||this.include),_1d72=this._expandExpression(_1d6f.request||this.request);if(_1d6f.query){if(this.where){query=this._expandExpression(this.where+" and ("+_1d6f.query+" )");}else{query=this._expandExpression(_1d6f.query);}}else{query=this._expandExpression(this.where);}if(_1d72){_1d72=_1d72.clone();}else{var _1d73=this._expandExpression(_1d6f.queryName||this.queryName),_1d74=this._expandExpression(_1d6f.resourceKind||this.resourceKind),_1d75=this._expandExpression(_1d6f.resourcePredicate||this.resourcePredicate);_1d72=_1d73?new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(_1d73):new Sage.SData.Client.SDataResourceCollectionRequest(this.service);if(_1d74){_1d72.setResourceKind(_1d74);}if(_1d75){_1d72.getUri().setCollectionPredicate(_1d75);}}if(_1d70&&_1d70.length>0){_1d72.setQueryArg("select",_1d70.join(","));}if(_1d71&&_1d71.length>0){_1d72.setQueryArg("include",_1d71.join(","));}if(query){_1d72.setQueryArg("where",query);}if(sort&&sort.length>0){var order=[];dojo.forEach(sort,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_1d72.setQueryArg("orderby",order.join(","));}if(typeof _1d6f.start!=="undefined"){_1d72.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,_1d6f.start+1);}if(typeof _1d6f.count!=="undefined"){_1d72.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.Count,_1d6f.count);}if(this.expandRecurrences!==null){_1d72.uri.queryArgs["_expandRecurrences"]=this.expandRecurrences;}return _1d72;},fetch:function(_1d76){var _1d77=this._createRequest(_1d76),_1d78=lang.mixin({},_1d76);var _1d79=_1d77[this.executeReadWith]({success:lang.hitch(this,this._onFetchSuccess,_1d76,_1d78),failure:lang.hitch(this,this._onFetchFailure,_1d76,_1d78),httpMethodOverride:_1d76.queryOptions&&_1d76.queryOptions["httpMethodOverride"]});_1d78["abort"]=lang.hitch(this,this._abortRequest,_1d79);return _1d78;},_abortRequest:function(_1d7a){this.service.abortRequest(_1d7a);},_onFetchSuccess:function(_1d7b,_1d7c,_1d7d){if(_1d7d){if(_1d7d["$resources"]){_1d7c["feed"]=_1d7d["$resources"];}else{_1d7c["entry"]=_1d7d;}var items=lang.getObject(this.collection,false,_1d7d)||[_1d7d],size=_1d7d["$resources"]?_1d7d["$totalResults"]||-1:1;if(_1d7b.onBegin){_1d7b.onBegin.call(_1d7b.scope||this,size,_1d7c);}if(_1d7b.onItem){for(var i=0;i<items.length;i++){_1d7b.onItem.call(_1d7b.scope||this,items[i],_1d7c);}}if(_1d7b.onComplete){_1d7b.onComplete.call(_1d7b.scope||this,_1d7b.onItem?null:items,_1d7c);}}else{if(_1d7b.onError){_1d7b.onError.call(_1d7b.scope||this,"invalid feed",_1d7b);}}},_onFetchFailure:function(_1d7e,_1d7f,_1d80,_1d81){if(_1d7e.onError){_1d7e.onError.call(_1d7e.scope||this,_1d80.responseText,_1d7e);}},getValue:function(item,_1d82,_1d83){var value=lang.getObject(_1d82,false,item);return typeof value==="undefined"?_1d83:value;},getFeatures:function(){return this.features;}});return _1d6d;});},"Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager":function(){define("Sage/MainView/ReportMgr/SchedulesSDataDetailViewDataManager",["Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","dojo/_base/declare","dojo/_base/lang"],function(_1d84,_1d85,_1d86,lang){var _1d87=_1d86("Sage.MainView.ReportMgr.SchedulesSDataDetailRequestQueue",null,{select:[],resourceKind:"",fetching:false,include:[],service:null,constructor:function(_1d88){lang.mixin(this,_1d88);this.requestHash={};this.fetching=false;var _1d89=Sage.Services.getService("JobService");this.service=_1d89.getSchedulingSDataService();},add:function(_1d8a,_1d8b){var _1d8c=this.requestHash[_1d8a];if((_1d8c)&&(_1d8c.id!==_1d8b.id)){if(!_1d8c.duplicates){_1d8c.duplicates=[];}var found=false;for(var i=0;i<_1d8c.duplicates.length;i++){if(_1d8c.duplicates[i].context.id===_1d8b.id){found=true;}}if(!found){_1d8c.duplicates.push({id:_1d8b.id,context:_1d8b});}}else{this.requestHash[_1d8a]=_1d8b;}},send:function(_1d8d,_1d8e){this.fetching=true;var _1d8f=this;var _1d90=new Sage.SData.Client.SDataSingleResourceRequest(this.service);_1d90.setResourceKind(this.resourceKind);for(var id in this.requestHash){_1d90.setResourceSelector("'"+id+"'");}_1d90.setQueryArg("include",this.include.join(","));_1d90.read({success:lang.hitch(_1d8e,_1d8d,_1d8f),failure:lang.hitch(this,this.requestFailed,_1d8f)});},requestFailed:function(a,b,c){}});var _1d91=_1d86("Sage.MainView.ReportMgr.SchedulesSDataDetailViewDataManager",null,{keyField:"$key",constructor:function(){this.queue=new _1d87();this.requestTimeout=false;},requestDataNoWait:function(_1d92,_1d93,_1d94){var _1d95=new _1d87();if(_1d94.keyField){this.keyField=_1d94.keyField;}_1d95.select=_1d94.select;_1d95.resourceKind=_1d94.resourceKind;_1d95.serviceName=_1d94.serviceName;_1d95.include=_1d94.include;_1d95.useBatchRequest=_1d94.useBatchRequest;if(_1d94.expandRecurrences!==null){_1d95.expandRecurrences=_1d94.expandRecurrences;}_1d95.add(_1d92,_1d93);_1d95.send(this.receiveData,this);},receiveData:function(_1d96,data){var _1d97=data;var id=_1d97.id;if(!id){id=_1d97[this.keyField];_1d97.id=id;}var _1d98=_1d96.requestHash[_1d97.id];if(_1d98){try{if(!_1d98.applied){_1d98.applied=true;_1d98.set("entity",_1d97);}}catch(err){console.error(err);}}}});return _1d91;});},"Sage/Data/main":function(){define("Sage/Data/main",["Sage/Data/BaseSDataStore","Sage/Data/GroupLayoutSingleton","Sage/Data/WritableStore","Sage/Data/ProxySDataStore","Sage/Data/QBTreeStoreModel","Sage/Data/SDataServiceRegistry","Sage/Data/SDataStore","Sage/Data/SingleEntryPropertySDataStore","Sage/Data/SingleEntrySDataStore","Sage/Data/SummaryViewDataManager","Sage/Data/WritableSDataStore"],function(){});},"Sage/QuickForms/Design/Editors/nls/CurrencyAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CurrencyAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_1d99,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",decimalDigitsText:"Decimal Digits:",decimalDigitsTooltipText:"The number of digits after the decimal to display and allow for data entry.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayCurrencyCodeText:"Display Exchange Rate Code:",displayCurrencyCodeTooltipText:"Show the three character currency code when multi-currency is enabled.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",exchangeRateTypeText:"Exchange Rate Type:",exchangeRateTypeTooltipText:"Type of exchange rate to show in currency fields.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",displayTypeText:{AsHyperlink:"As Hyperlink",AsControl:"As Control",AsText:"As Text"},exchangeTypeText:{BaseRate:"Base Rate",OpportunityRate:"Opportunity Rate (Deprecated)",MyRate:"My Rate",SalesOrderRate:"Sales Order Rate (Deprecated)",EntityRate:"Entity Rate"},labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_1d99,nls);});},"Sage/TaskPane/nls/ReportManagerTasksTasklet":function(){define("Sage/TaskPane/nls/ReportManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1d9a,lang){var nls={root:{taskRunReport_Caption:"Run Report",taskScheduleReport_Caption:"Schedule Report",taskDeleteReport_Caption:"Delete Report",taskDeleteSchedule_Caption:"Delete Schedule",taskEditSchedule_Caption:"Edit Schedule",taskDeleteHistory_Caption:"Delete History",txtRecordsSelected:"record(s) selected",txtClear:"Clear"}};return lang.mixin(_1d9a,nls);});},"Sage/UI/nls/SLXPreviewGrid":function(){define("Sage/UI/nls/SLXPreviewGrid",["Sage/LanguageList","dojo/_base/lang"],function(_1d9b,lang){var nls={root:{applyText:"Apply",resetText:"Reset",filterText:"Filter"}};return lang.mixin(_1d9b,nls);});},"Sage/TaskPane/ReportManagerTasksTasklet":function(){define("Sage/TaskPane/ReportManagerTasksTasklet",["dojo/_base/declare","dojo/i18n!./nls/ReportManagerTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneItem","dojo/_base/array","dojo/string","dijit/_Widget","Sage/_Templated"],function(_1d9c,_1d9d,_1d9e,_1d9f,_1da0,_1da1,_1da2,_1da3){var _1da4=_1d9c("Sage.TaskPane.ReportManagerTasksTasklet",[_1d9e,_1da2,_1da3],{nlsResources:_1d9d,taskItems:[],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div dojoAttachPoint="taskletContainerNode" class="task-pane-item-common-tasklist">','<span id="selectionCount" class="task-pane-item-common-selectionText">0</span>&nbsp;<span id="selectionText">'+_1d9d.txtRecordsSelected+"</span><br>",'<a id="clearSelection" href="#" class="task-pane-item-common-clearselection" dojoAttachEvent="click:_clearSelection">'+_1d9d.txtClear+"</a><br>","<hr>",'<div dojoAttachPoint="divTaskItems">',"{% for (var i = 0; i < $.taskItems.length; i++) { ","var task = $.taskItems[i]; %}",'<div data-dojo-type="Sage.TaskPane.TaskPaneItem" linkText="{%= task.displayName %}" securedAction="{%= task.securedAction %}" action="javascript: {%= task.clientAction %}"></div>',"<br />","{% } %}","</div>","</div>"]),constructor:function(){this.taskItems=this._getTaskItems();dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged);dojo.subscribe("/sage/ui/list/selectionChanged",function(_1da5){var _1da6=dojo.byId("selectionCount");if(_1da6){_1da6.innerHTML=_1da5.getTotalSelectionCount();}});},_getTaskItems:function(){var _1da7=[];var _1da8=this._getCurrentGroupId();switch(_1da8){case"reports":_1da7=this._getReportsTasks();break;case"schedules":_1da7=this._getSchedulesTasks();break;case"history":_1da7=this._getHistoryTasks();break;}return _1da7;},_onGroupContextChanged:function(){var self=this;dojo.empty(self.divTaskItems);var _1da9=this._getTaskItems();if(_1da9){_1da0.forEach(_1da9,function(_1daa,i){dojo.place(_1da1.substitute('<div dojotype="Sage.TaskPane.TaskPaneItem" class="task-pane-item-common-tasklist" linkText="${0}" securedAction="${1}" action="javascript: ${2}"></div><br />',[_1daa.displayName,_1daa.securedAction,_1daa.clientAction]),self.divTaskItems);});}dojo.parser.parse(self.taskletContainerNode);},_clearSelection:function(){var _1dab=dijit.byId("list");if(_1dab){_1dab._listGrid.selection.clear();}},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _1dac=svc.getContext();return _1dac.CurrentGroupID;},_getReportsTasks:function(){var _1dad=[{taskId:"taskRunReport",type:"Link",displayName:this.nlsResources.taskRunReport_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.runReport();",securedAction:"Entities/ReportManager/RunReport"},{taskId:"taskScheduleReport",type:"Link",displayName:this.nlsResources.taskScheduleReport_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.scheduleReport();",securedAction:"Entities/ReportManager/ScheduleReport"}];return _1dad;},_getSchedulesTasks:function(){var _1dae=[{taskId:"taskEditSchedule",type:"Link",displayName:this.nlsResources.taskEditSchedule_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.editSchedule();",securedAction:"Entities/ReportManager/EditSchedule"},{taskId:"taskDeleteSchedule",type:"Link",displayName:this.nlsResources.taskDeleteSchedule_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.deleteSchedule();",securedAction:"Entities/ReportManager/DeleteSchedule"}];return _1dae;},_getHistoryTasks:function(){var _1daf=[{taskId:"taskDeleteHistory",type:"Link",displayName:this.nlsResources.taskDeleteHistory_Caption,clientAction:"Sage.MainView.ReportMgr.ReportManagerActions.deleteHistory();",securedAction:"Entities/ReportManager/DeleteHistory"}];return _1daf;}});return _1da4;});},"Sage/Groups/GroupContextService":function(){define("Sage/Groups/GroupContextService",["Sage/Utility","dojo/string","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/_base/lang","dojo/_base/declare","dojo/_base/array"],function(_1db0,_1db1,_1db2,ready,lang,_1db3,array){var _1db4=_1db3("Sage.Groups.GroupContextService",null,{_adHocGroupList:null,_connects:null,_subscribes:null,_emptyContext:null,_currentRequestHandle:null,_isAdHocGroupListRetrieved:false,constructor:function(){this._connects=[];this._subscribes=[];this._adHocGroupList=[];this._emptyContext={DefaultGroupID:null,CurrentGroupID:null,CurrentTable:null,CurrentName:null,CurrentEntity:null,CurrentFamily:null};this._isAdHocGroupListRetrieved=false;this._subscribes.push(dojo.subscribe(_1db1.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));ready(lang.hitch(this,function(){if(!this.isContextRequired()){var _1db5=_1db0.getValue(window,"Sage.Groups._groupContext"),_1db6=_1db0.getValue(window,"Sage.UI.DataStore.Filters");if(_1db6){if(_1db5["AppliedFilterInfo"]){_1db6["default"]=this.createFilterExtendedSet(_1db5["AppliedFilterInfo"]);}}}if(this.isContextRequired()){this.requestContext();}}));},createFilterExtendedSet:function(_1db7){var _1db8=_1db7["definitionSet"]||[],_1db9=_1db7["applied"]||[],_1dba={},_1dbb={},_1dbc,_1dbd,i,j,value;for(i=0;i<_1db8.length;i++){_1dbc=_1db8[i];_1dbd={"$key":_1dbc["id"],"$partial":true,"filterName":_1dbc["filterName"],"displayName":_1dbc["displayName"],"propertyName":_1dbc["propertyName"],"propertyDataTypeId":_1dbc["propertyDataTypeId"],"details":{}};if(_1dbc["filterType"]=="rangeFilter"){_1dbd["details"]["rangeFilter"]={"characters":_1dbc["characters"]};}if(_1dbc["filterType"]=="lookupFilter"){_1dbd["details"]["lookupFilter"]={};}else{_1dbd["details"]["distinctFilter"]={};}_1dba[_1dbc["id"]]=_1dbd;}for(i=0;i<_1db9.length;i++){_1dbc=_1db9[i];_1dbd={};for(j=0;j<_1dbc["rangeValues"].length;j++){value=_1dbc["rangeValues"][j];_1dbd[value["rangeName"]]=lang.mixin({},value);}for(j=0;j<_1dbc["distinctValues"].length;j++){value=_1dbc["distinctValues"][j];if(typeof value==="string"){_1dbd[value]=value;}}for(j=0;j<_1dbc["lookupValues"].length;j++){var _1dbe=_1dbc["lookupValues"][j];_1dbd["value"]=_1dbe;}_1dbb[_1dbc["id"]]=_1dbd;}return{"definitionSet":_1dba,"applied":_1dbb};},destroy:function(){array.forEach(this._connects,function(_1dbf){dojo.disconnect(_1dbf);});this.unsubscribeConnects();this.uninitialize();},unsubscribeConnects:function(){array.forEach(this._subscribes,function(_1dc0){dojo.unsubscribe(_1dc0);});},uninitialize:function(){},isContextRequired:function(){var _1dc1=!(Sage&&Sage.Groups&&Sage.Groups._groupContext);return _1dc1;},createCompatibleContext:function(_1dc2){if(_1dc2["currentGroupId"]=="LOOKUPRESULTS"){_1dc2["currentName"]="Lookup Results";}var _1dc3={"AppliedFilterInfo":_1dc2["appliedFilterInfo"],"ContainsPositionState":_1dc2["containsPositionState"],"CurrentDisplayName":_1dc2["currentDisplayName"],"CurrentEntity":_1dc2["currentEntity"],"CurrentEntityID":_1dc2["currentEntityId"],"CurrentEntityPosition":_1dc2["currentEntityPosition"],"CurrentFamily":_1dc2["currentFamily"],"CurrentGroupCount":_1dc2["currentGroupCount"],"CurrentGroupID":_1dc2["currentGroupId"],"CurrentName":_1dc2["currentName"],"CurrentTable":_1dc2["currentTable"],"CurrentTableKeyField":_1dc2["currentTableKeyField"],"DefaultGroupID":_1dc2["defaultGroupId"],"FirstEntityID":_1dc2["firstEntityId"],"LastEntityID":_1dc2["lastEntityId"],"LookupLayoutGroupName":_1dc2["lookupLayoutGroupName"],"NextEntityID":_1dc2["nextEntityId"],"PreviousEntityID":_1dc2["previousEntityId"],"RetrievedOn":_1dc2["retrievedOn"],"isAdhoc":_1dc2["isAdHoc"]};if(!_1dc2["appliedFilterInfo"]){delete _1dc3.AppliedFilterInfo;}return _1dc3;},_onDefaultFilterRefresh:function(_1dc4,_1dc5,_1dc6){var _1dc7=this.getContext(),_1dc8=_1db2.getSDataService("system"),entry={"$name":"applyFilterToGroup","request":{"groupId":_1dc7["CurrentGroupID"],"filter":dojo.toJson(_1dc6.createValueSet())}};if((_1dc7["CurrentGroupID"]===null)||(_1dc7["CurrentGroupID"]==="")){return;}var _1dc9=new Sage.SData.Client.SDataServiceOperationRequest(_1dc8).setOperationName("applyFilterToGroup");_1dc9.execute(entry,{});},getContext:function(){var _1dca=Sage&&Sage.Groups&&Sage.Groups._groupContext;if(_1dca){return _1dca;}if(this.isContextRequired()){this.requestContext();}return this._emptyContext;},requestContext:function(_1dcb){if(this._currentRequestHandle){return;}var _1dcc=_1db2.getSDataService("system"),_1dcd=new Sage.SData.Client.SDataServiceOperationRequest(_1dcc).setOperationName("getGroupContext");this._currentRequestHandle=_1dcd.execute({},{success:this._onRequestContextSuccess,failure:this._onRequestContextFailure,scope:this});},_onRequestContextSuccess:function(entry){var _1dce=entry&&entry["response"];if(_1dce){this.setContext(this.createCompatibleContext(_1dce));}this._currentRequestHandle=null;},_onRequestContextFailure:function(_1dcf,o){this._currentRequestHandle=null;},setContext:function(_1dd0){var _1dd1=Sage&&Sage.Groups;if(_1dd1&&_1dd0){lang.mixin(_1dd1._groupContext,_1dd0);this.onContextSet(_1dd1._groupContext);}},setCurrentGroup:function(_1dd2,_1dd3){var _1dd4=this.getContext();if(_1dd4&&(_1dd4["CurrentGroupID"]===_1dd2)){if(_1dd2==="LOOKUPRESULTS"){_1dd4["currentName"]="Lookup Results";this.onCurrentGroupChanged({current:_1dd4});}return;}if(_1dd2.length===12||_1dd2==="LOOKUPRESULTS"){var _1dd5=_1db2.getSDataService("system"),_1dd6=new Sage.SData.Client.SDataServiceOperationRequest(_1dd5).setOperationName("setGroupContext"),entry={request:{"currentGroupId":_1dd2,"currentName":"","currentFamily":""}};_1dd6.execute(entry,{success:this._onSetContextRequestSuccess,failure:this._onSetContextRequestFailure,scope:this});}},_onSetContextRequestSuccess:function(entry){var _1dd7=entry&&entry["response"],_1dd8=_1dd7&&this.createCompatibleContext(_1dd7);if(_1dd8){this.setContext(_1dd8);}this.onCurrentGroupChanged({current:_1dd8});},_onSetContextRequestFailure:function(_1dd9,o){},onSuccessfulGroupChanged:function(data){var _1dda=this.getContext();this.setContext(data);this.onCurrentGroupChanged({current:data,previous:_1dda});},onCurrentGroupChanged:function(_1ddb){dojo.publish("/group/context/changed",[_1ddb,this]);if(_1ddb["current"]["AppliedFilterInfo"]){this.publishFiltersApplied(_1ddb["current"]["AppliedFilterInfo"]);}},publishFiltersApplied:function(_1ddc){if(_1ddc){ready(lang.hitch(this,function(){var _1ddd=this.createFilterExtendedSet(_1ddc),_1dde=_1db0.getValue(window,"Sage.UI.DataStore.Filters");_1dde["default"]=_1ddd;dojo.publish("/ui/filters/default/apply",[_1ddd["applied"],_1ddd["definitionSet"],this]);}));}},onContextSet:function(_1ddf){if(_1ddf&&_1ddf["AppliedFilterInfo"]){this.publishFiltersApplied(_1ddf["AppliedFilterInfo"]);}},getAdHocGroupList:function(_1de0,_1de1){if(this._isAdHocGroupListRetrieved){_1de0.call(_1de1||this,this._adHocGroupList);return;}var store=new Sage.Data.BaseSDataStore({service:_1db2.getSDataService("system"),resourceKind:"groups",include:[],select:["name","family","isHidden","isAdHoc","mainTable","keyField","entityName"]});Sage.Groups._groupContext.CurrentFamily=Sage.Groups._groupContext.CurrentFamily.toUpperCase();store.fetch({query:dojo.string.substitute("upper(family) eq '${CurrentFamily}' and isAdHoc",Sage.Groups._groupContext),count:1000,sort:[{attribute:"name"}],start:0,onComplete:function(data){this._adHocGroupList=data;_1de0.call(_1de1||this,this._adHocGroupList);this._isAdHocGroupListRetrieved=true;},scope:this});}});Sage.Services.addService("ClientGroupContext",new _1db4());return _1db4;});},"Sage/UI/Alarms/nls/UnconfirmedPane":function(){define("Sage/UI/Alarms/nls/UnconfirmedPane",["Sage/LanguageList","dojo/_base/lang"],function(_1de2,lang){var nls={root:{showConfirmationsText:"Show Confirmations",showCalendarText:"Show Calendar",acceptText:"Accept",declineText:"Decline"}};return lang.mixin(_1de2,nls);});},"Sage/_ActionMixin":function(){define("Sage/_ActionMixin",["dojo/NodeList-traverse","dojo/_base/declare"],function(_1de3,_1de4){var _1de5=_1de4("Sage._ActionMixin",null,{actionsFrom:"click",postCreate:function(){dojo.forEach(this.actionsFrom.split(","),function(event){this.connect(this.domNode,event,this._initiateActionFromEvent);},this);},_isValidElementForAction:function(el){var _1de6=this.domNode.contains?this.domNode!=el&&this.domNode.contains(el):!!(this.domNode.compareDocumentPosition(el)&&16);return(this.domNode===el)||_1de6;},_initiateActionFromEvent:function(evt){var el=dojo.query(evt.target).closest("[data-action]")[0],_1de7=el&&dojo.attr(el,"data-action");if(_1de7&&this._isValidElementForAction(el)&&this._hasAction(_1de7,evt,el)){var _1de8=this._getParametersForAction(_1de7,evt,el);this._invokeAction(_1de7,_1de8,evt,el);dojo.stopEvent(evt);}},_getParametersForAction:function(name,evt,el){var _1de9={$event:evt,$source:el};for(var i=0,_1dea=el.attributes.length;i<_1dea;i++){var _1deb=el.attributes[i].name;if(/^((?=data-action)|(?!data))/.test(_1deb)){continue;}var _1dec=_1deb.substr("data-".length).replace(/-(\w)(\w+)/g,function($0,$1,$2){return $1.toUpperCase()+$2;});_1de9[_1dec]=dojo.attr(el,_1deb);}return _1de9;},_hasAction:function(name,evt,el){return(typeof this[name]==="function");},_invokeAction:function(name,_1ded,evt,el){return this[name].apply(this,[_1ded,evt,el]);}});return _1de5;});},"Sage/Services/ClientContextService":function(){define("Sage/Services/ClientContextService",["dojo/_base/declare"],function(_1dee){var _1def=_1dee("Sage.Services.ClientContextService",null,{contextDataFieldId:false,_items:[],_watches:[],constructor:function(opts){dojo.mixin(this,opts);this.load();},_toItemLiteral:function(key,value){var _1df0={};_1df0.itemKey=key;_1df0.itemVal=value;return _1df0;},_indexOf:function(key){for(var i=0;i<this._items.length;i++){if(this._items[i].itemKey==key){return i;}}return -1;},_indexOfNoCase:function(key){for(var i=0;i<this._items.length;i++){if(this._items[i].itemKey.toUpperCase()==key.toUpperCase()){return i;}}return -1;},_throwKeyNotFound:function(key){throw"Entry Not Found: "+key;},_throwDuplicateKey:function(key){throw"Entry Already Exists: "+key;},add:function(key,value){if(this._indexOf(key)===-1){var lit=this._toItemLiteral(key,value);this._items.push(lit);this.save();}else{this._throwDuplicateKey(key);}},remove:function(key){var index=this._indexOf(key);if(index!==-1){this._items.splice(index,1);this.save();}},setValue:function(key,value){var index=this._indexOf(key);if(index!==-1){this._items[index].itemVal=value;this.save();}else{this._throwKeyNotFound(key);}},getValue:function(key){var index=this._indexOf(key);if(index!==-1){return decodeURIComponent(this._items[index].itemVal);}else{this._throwKeyNotFound(key);}},getValueEx:function(key,_1df1){var index;if(_1df1){index=this._indexOfNoCase(key);}else{index=this._indexOf(key);}if(index!==-1){return decodeURIComponent(this._items[index].itemVal);}else{this._throwKeyNotFound(key);}},clear:function(){this._items=[];this.save();},containsKey:function(key){return(this._indexOf(key)!==-1);},containsKeyEx:function(key,_1df2){if(_1df2){return(this._indexOfNoCase(key)!==-1);}else{return(this._indexOf(key)!==-1);}},getCount:function(){return this._items.length;},hasKeys:function(){return this._items.length===0;},getKeys:function(){var _1df3=[],i;for(i=0;i<this._items.length;i++){_1df3.push(this._items[i].itemKey);}return _1df3;},valueAt:function(index){if(this._items[index]){return decodeURIComponent(this._items[index].itemVal);}else{return null;}},keyAt:function(index){this.load();if(this._items[index]){return this._items[index].itemKey;}else{return null;}},getValues:function(){var _1df4=[],i;for(i=0;i<this._items.length;i++){_1df4.push(decodeURIComponent(this._items[i].itemVal));}return _1df4;},save:function(hours){var data=document.getElementById(this.contextDataFieldId);if(data){data.value=this.toString();}else{alert("can't find context data field");}},load:function(){var data=document.getElementById(this.contextDataFieldId);if(data){if(data.value){this.fromString(data.value);}}},toString:function(){var str="",i;for(i=0;i<this._items.length;i++){str+=this._items[i].itemKey+"="+encodeURIComponent(this._items[i].itemVal);if(i!==this._items.length-1){str+="&";}}return str;},fromString:function(_1df5){this._items=[];if(_1df5!==""){var items=_1df5.split("&"),i;for(i=0;i<items.length;i++){var pair=items[i].split("=");this._items.push(this._toItemLiteral(pair[0],decodeURIComponent(pair[1])));}}this.save();}});return _1def;});},"Sage/QuickForms/Design/TextBoxControlDesigner":function(){define("Sage/QuickForms/Design/TextBoxControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/TextBoxControlDesigner"],function(_1df6,array,lang,_1df7,_1df8,_1df9,_1dfa,_1dfb,_1dfc,_1dfd,_1dfe){return _1df6("Sage.QuickForms.Design.TextBoxControlDesigner",[_1df8,_1df9,_1df7,_1dfa],{designSupport:{visible:true},editors:[_1dfc,_1dfd,_1dfb],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-textbox",helpTopicName:"Textbox_control",quickFormControlType:"Sage.Platform.QuickForms.Controls.QFTextBox, Sage.Platform.QuickForms",displayNameText:"TextBox",constructor:function(){lang.mixin(this,_1dfe);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_1dff){return(_1dff["ControlItemName"]=="Text");});},_getLinesAttr:function(){return lang.getObject("Lines",false,this.entry);},_setLinesAttr:function(value){lang.setObject("Lines",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_1e00){this.inherited(arguments);this.set("lines",1);this.set("maxLength",parseInt(_1e00["data"].length,10)||-1);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_1e00.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_1e00.propertyPath||"");},startup:function(){this.inherited(arguments);var _1e01=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_1e01&&_1e01["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Utility/File/DragDropWatcher":function(){define("Sage/Utility/File/DragDropWatcher",["Sage/UI/Dialogs","Sage/Utility/File","dojo/string","dojo/i18n!./nls/DragDropWatcher","dojo/has","dojo/_base/sniff"],function(_1e02,_1e03,_1e04,_1e05,has,_1e06){Sage.namespace("Utility.File.DragDropWatcher");Sage.Utility.File.DragDropWatcher={gearsDesktop:false,allowdDetailDrop:false,allowdListDrop:false,init:function(_1e07){Sage.Utility.File.DragDropWatcher.allowdDetailDrop=_1e07.allowDetailDragDrop;Sage.Utility.File.DragDropWatcher.allowdListDrop=_1e07.allowListDragDrop;if(Sage.gears){this.desktop=Sage.gears.factory.create("beta.desktop");if(has("ie")<11){dojo.connect(dojo.body(),"ondragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"ondragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"ondragleave",this.handleGearsDragLeave);if(has("ie")<9){dojo.connect(dojo.body(),"ondrop",this.handleGearsFileDrop);}else{dojo.body().attachEvent("ondrop",this.handleGearsFileDrop);}}else{dojo.connect(dojo.body(),"dragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"dragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"dragleave",this.handleGearsDragLeave);dojo.connect(dojo.body(),"drop",this.handleGearsFileDrop);}}else{if(_1e03.supportsHTML5File){dojo.connect(dojo.body(),"dragenter",this.handleDragEnter);dojo.connect(dojo.body(),"dragover",this.handleDragOver);dojo.connect(dojo.body(),"dragleave",this.handleDragLeave);dojo.connect(dojo.body(),"drop",this.handleFileDrop);}else{if(has("ie")<11){dojo.connect(dojo.body(),"ondragenter",this.handleGearsDragEnter);dojo.connect(dojo.body(),"ondragover",this.handleGearsDragOver);dojo.connect(dojo.body(),"ondragleave",this.handleGearsDragLeave);if(has("ie")<9){dojo.connect(dojo.body(),"ondrop",this.handleFileDropNotSupported);}else{dojo.body().attachEvent("ondrop",this.handleFileDropNotSupported);}}else{dojo.connect(dojo.body(),"dragenter",this.handleDragEnter);dojo.connect(dojo.body(),"dragover",this.handleDragOver);dojo.connect(dojo.body(),"dragleave",this.handleDragLeave);dojo.connect(dojo.body(),"drop",this.handleFileDropNotSupported);}}}},handleDragEnter:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleDragLeave:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleDragOver:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleFileDrop:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,true);var allow=Sage.Utility.File.DragDropWatcher._AllowDragDrop();if(!allow){return;}var files=e.dataTransfer.files;if(files&&files.length>0){if(_1e03.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,e.target);Sage.Utility.File.DragDropWatcher.finishDrag(e,false);}}else{if(Sage.gears){var _1e08=Sage.gears.factory.create("beta.desktop");var data=_1e08.getDragData(e,"application/x-gears-files");files=data&&data.files;if(files&&files.length>0){if(_1e03.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,e.target);Sage.Utility.File.DragDropWatcher.finishDrag(e,false);}}}}},finishDrag:function(e,_1e09){var evt=e||window.event;if(!evt||typeof evt==="undefined"){return;}if(typeof(this.desktop)!=="undefined"){this.desktop.setDropEffect(evt,"copy");}if(dojo.isFF){if(_1e09||_1e03.supportsHTML5File){evt.stopPropagation();evt.preventDefault();}}else{if(has("ie")||dojo.isSafari||dojo.isChrome){if(!_1e09){if(typeof evt.stopPropagation==="function"){evt.stopPropagation();}if(typeof evt.preventDefault==="function"){evt.preventDefault();}else{evt.returnValue=false;}}}}},handleGearsDragEnter:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsDragLeave:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsDragOver:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,false);},handleGearsFileDrop:function(e){Sage.Utility.File.DragDropWatcher.finishDrag(e,true);var allow=Sage.Utility.File.DragDropWatcher._AllowDragDrop();if(!allow){return;}var data=Sage.Utility.File.DragDropWatcher.desktop.getDragData(e,"application/x-gears-files");var _1e0a=e.target;if(!_1e0a){_1e0a=e.srcElement;}var files=data&&data.files;if(files&&files.length>0){if(Sage.Utility.File.isFileSizeAllowed(files)){Sage.Utility.File.DragDropWatcher.onFilesDropped(files,_1e0a);}}},onFilesDropped:function(files,_1e0b){},_AllowDragDrop:function(){var _1e0c=Sage.Utility.getPageName();var _1e0d=Sage.Utility.getModeId();if(_1e0d!=="detail"){var _1e0e=Sage.Services.getService("ClientEntityContext");if(_1e0e){var _1e0f=_1e0e.getContext();if(_1e0f){if(_1e0f.EntityType==="Sage.Entity.Interfaces.IActivity"){return true;}if(_1e0f.EntityType==="Sage.Entity.Interfaces.IHistory"){return true;}}}_1e0c=_1e0c.substring(0,_1e0c.indexOf("."));if(_1e0c==="Library"){return true;}if(Sage.Utility.File.DragDropWatcher.allowdListDrop){return true;}return false;}else{if(Sage.Utility.File.DragDropWatcher.allowdDetailDrop){return true;}return false;}},handleFileDropNotSupported:function(e){var _1e10=_1e05.query0||"The feature you are requesting requires the Saleslogix Desktop <br> Integration Module.";var _1e11=_1e05.query1||"Find out more...";var _1e12=_1e05.query2||"Would you like to install this feature now?";var _1e13=_1e05.query3||"Note: This module can be installed at any time from the logon or options pages.";var url=Sage.Link.getHelpUrl("desktopintegration");var html=_1e04.substitute('<table><tr><td><span> ${0} <a href="${1}">${2}</a><br><br>${3}<br><br><font style="font-style:italic">${4}<font></span></td></tr></table>',[_1e10,url,_1e11,_1e12,_1e13]);var _1e14={title:"Saleslogix",query:html,callbackFn:function(_1e15){if(_1e15){Sage.installDesktopFeatures();}},yesText:null,noText:null,icon:"infoIcon",showNoButton:true};_1e02.raiseQueryDialogExt(_1e14);}};return Sage.Utility.File.DragDropWatcher;});},"url:Sage/UI/Controls/templates/PersonName.html":'<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table width="100%">\r\n            <tr>\r\n                <td><label>{%= $.prefixText %}</label></td>\r\n                <td>\r\n                    <select id="{%= $.id %}-Prefix" data-dojo-type="Sage.UI.Controls.DropDownSelectPickList" \r\n                    dojoAttachPoint="_valueBox"\r\n                    pickListName="Name Prefix"\r\n                    storeMode="text"\r\n                    name="{%= $.NamePrefix %}" \r\n                    style="width: 150px;display: inline-block"\r\n                    shouldPublishMarkDirty="false" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameFirstText %}</label></td>\r\n                <td>\r\n                    <input id="{%= $.id %}-First" data-dojo-type="Sage.UI.Controls.TextBox"\r\n                    style="width:inherit;"\r\n                    textAlign="{%= $.textAlign %}"\r\n                    name="{%= $.NameFirst %}" type="text" data-dojo-attach-point="focusNode"\r\n                    shouldPublishMarkDirty="false">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameMiddleText %}</label></td>\r\n                <td>\r\n                    <input id="{%= $.id %}-Middle" data-dojo-type="Sage.UI.Controls.TextBox"\r\n                    style="width:inherit;"\r\n                    textAlign="{%= $.textAlign %}"\r\n                    name="{%= $.NameMiddle %}" type="text" data-dojo-attach-point="focusNode"\r\n                    shouldPublishMarkDirty="false">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameLastText %}</label></td>\r\n                <td>\r\n                    <input id="{%= $.id %}-Last" data-dojo-type="Sage.UI.Controls.TextBox"\r\n                    style="width:inherit;"\r\n                    textAlign="{%= $.textAlign %}"\r\n                    name="{%= $.NameLast %}" type="text" data-dojo-attach-point="focusNode"\r\n                    shouldPublishMarkDirty="false">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.suffixText %}</label></td>\r\n                <td>\r\n                    <select id="{%= $.id %}-Suffix" data-dojo-type="Sage.UI.Controls.DropDownSelectPickList"\r\n                    dojoAttachPoint="_valueBox"\r\n                    pickListName="Name Suffix"\r\n                    storeMode="text"\r\n                    name="{%= $.NameSuffix %}"\r\n                    style="width: 150px;display: inline-block"\r\n                    shouldPublishMarkDirty="false" />\r\n                </td>\r\n            </tr>\r\n        </table>                    \r\n        <div class="button-bar alignright" style="clear: both">\r\n            <button id="{%= $.id %}-OKButton" data-dojo-type="dijit.form.Button" type="submit" onClick="dijit.byId(\'{%= $.id %}\')._okClicked();">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id="{%= $.id %}-CancelButton" data-dojo-type="dijit.form.Button" type="button" onClick="dijit.byId(\'{%= $.id %}\')._cancelClicked();">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>\r\n',"Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionsDialog.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" title="{%= $._getDialogTitle() %}" dojoattachpoint="_dialog" dojoattachevent="onCancel:_dialog_OnCancel" style="width: 600px;">\r\n        <div data-dojo-type="dijit.form.Form">\r\n            <div style="height: 300px">\r\n                \r\n                <div>\r\n                    <table cellspacing="5">\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtShowRecordsThatMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType="dijit.form.Select" dojoAttachPoint="cmbConditionPresets" sortByLabel="false" dojoAttachEvent="onChange:_cmbConditionPresets_OnChange" style="width:150px" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>                   \r\n                        <tr dojoAttachPoint="trConnector" class="display-none">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType="dijit.form.Select" dojoAttachPoint="cmbConnector" style="width:150px" >\r\n                                    <option value="Or">{%= $._nlsResources.txtAny %}</option>\r\n                                    <option value="And">{%= $._nlsResources.txtAll %}</option>\r\n                                </select>\r\n                                <label>&nbsp;{%= $._nlsResources.txtOfTheFollowingConditions %}</label>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div dojoType="dijit.Toolbar" dojoAttachPoint="tbConditions" region="top" splitter="false" class="right-tools" >\r\n                    <span dojoType="Sage.UI.ImageButton" icon="{%= $._btnPlusIconPath %}" title="{%= $._nlsResources.btnAddCondition_Caption %}" dojoAttachEvent="onClick:_btnAddCondition_Click" dojoAttachPoint="btnAddCondition"></span>\r\n                </div>                                  \r\n                \r\n                <div id="divGrdCrystalConditions" style="width:100%; height:200px; overflow:auto" >            \r\n                    <table data-dojo-type="dojox.grid.DataGrid" dojoAttachPoint="grdCrystalConditions" id="grdCrystalConditions" formatterScope="Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter">\r\n                        <thead>\r\n                            <th field="conditionType" width="60px" formatter="formatConditionType" >{%= $._nlsResources.grdCrystalConditions_ConditionType_Caption %}</th>\r\n                            <th field="table" width="80px">{%= $._nlsResources.grdCrystalConditions_TableName_Caption %}</th>\r\n                            <th field="field" width="80px">{%= $._nlsResources.grdCrystalConditions_FieldName_Caption %}</th>\r\n                            <th field="operator" formatter="formatOperator" width="50px">{%= $._nlsResources.grdCrystalConditions_Operator_Caption %}</th>\r\n                            <th field="_item" formatter="formatConditionValue" width="125px">{%= $._nlsResources.grdCrystalConditions_Value_Caption %}</th>\r\n                            <th field="value" formatter="formatEditCondition" width="40px">&nbsp;</th>\r\n                            <th field="_item" formatter="formatDeleteCondition" width="40px">&nbsp;</th>\r\n                        </thead>\r\n                    </table>\r\n                </div>               \r\n\r\n            </div>\r\n\r\n            <div align="right" style="margin-top:10px">\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdBack" dojoAttachEvent="onClick:_cmdBack_OnClick" style="display:none">{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdNext" dojoAttachEvent="onClick:_cmdNext_OnClick">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/CrystalReportConditionsDialog",["dojo/_base/declare","dojo/_base/array","dojo/topic","dojo/store/Memory","dojo/data/ObjectStore","dojo/data/ItemFileWriteStore","dojo/text!./templates/CrystalReportConditionsDialog.html","dojo/i18n!./nls/CrystalReportConditionsDialog","Sage/Reporting/Enumerations","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportsUtility","Sage/MainView/ReportMgr/Crystal/CrystalReportConditionEditor","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/MainView/ReportMgr/Crystal/CrystalReportsFormatter","dijit/Dialog","dijit/form/Form","Sage/Utility"],function(_1e16,_1e17,topic,_1e18,_1e19,_1e1a,_1e1b,_1e1c,_1e1d,_1e1e,_1e1f,_1e20,_1e21,_1e22,_1e23,Form,_1e24){var _1e25=_1e24.makeTemplateFromString(_1e1b);var _1e26=_1e16("Sage.MainView.ReportMgr.Crystal.CrystalReportConditionsDialog",[_1e21],{id:"dlgCrystalReportConditions",widgetTemplate:_1e25,_nlsResources:_1e1c,_helpIconTopic:"RptscheduleWiz",_subscriptions:null,_reportFilters:null,_conditionOptions:null,_conditionsCollection:null,_currentStep:_1e1d.CrystalReportWizardStep.Conditions,constructor:function(_1e27){this._subscriptions=[];this._conditionsCollection=[];this._initializeWizardOptions(_1e27);this._conditionOptions=_1e27.conditionOptions;if(!this._conditionOptions.conditionsConnector){this._conditionOptions.conditionsConnector=_1e1d.ReportConditionConnector.And;}var self=this;if(this._conditionOptions.conditions){_1e17.forEach(this._conditionOptions.conditions,function(_1e28,i){self._addNewCondition(_1e28);});}this._reportFilters=dojo.clone(this._reportMetadata.reportFilters);this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/createCondition",function(_1e29){self._addNewCondition(_1e29);}));this._subscriptions.push(topic.subscribe("/reportManager/reportWizard/updateCondition",function(_1e2a){self._updateCondition(_1e2a);}));},destroy:function(){this.grdCrystalConditions.destroy();_1e17.forEach(this._subscriptions,function(_1e2b,i){_1e2b.remove();});this._dialog.destroyRecursive();this.inherited(arguments);},startup:function(){this.inherited(arguments);this._initializeConditionsGrid();this._initializeConditionPresets();if(this._conditionOptions.conditions.length>0){this.cmbConditionPresets.attr("value",_1e1d.ConditionPreset.Custom);}if(this._conditionOptions.conditionsConnector){this.cmbConnector.attr("value",this._conditionOptions.conditionsConnector);}},_btnAddCondition_Click:function(){var _1e2c=new _1e20(null,this._reportMetadata);_1e2c.show();},_cmbConditionPresets_OnChange:function(value){var _1e2d=this._getSelectedPreset();this._setConditionsVisibility(_1e2d);this._showPreset(_1e2d);},_addNewCondition:function(_1e2e){_1e2e._id=this._getConditionId();this._conditionsCollection.push(_1e2e);this._refreshConditionsGrid();},_updateCondition:function(_1e2f){var self=this;_1e17.some(this._conditionsCollection,function(entry,i){if(entry._id===_1e2f._id){self._conditionsCollection[i]=_1e2f;return true;}});this._refreshConditionsGrid();},_initializeConditionPresets:function(){var items=[{value:_1e1d.ConditionPreset.AllRecords,caption:_1e1c.txtAllRecords,tag:_1e1d.ConditionPreset.AllRecords},{value:_1e1d.ConditionPreset.Custom,caption:_1e1c.txtSpecificConditions,tag:_1e1d.ConditionPreset.Custom}];var _1e30=null;var _1e31=_1e1f.getCurrentUserCondition();if(_1e31&&this._reportMetadata.useUserFilter){_1e30={name:_1e1c.txtCurrentUser,id:_1e1d.ConditionPreset.CurrentUser,filterConditions:[_1e31]};this._reportFilters.unshift(_1e30);}_1e31=_1e1f.getCurrentEntityCondition();if(_1e31){var _1e32=_1e1e.getCurrentEntityContext();_1e30={name:"["+_1e32.Description+"]",id:_1e1d.ConditionPreset.CurrentEntity,filterConditions:[_1e31]};this._reportFilters.unshift(_1e30);}_1e17.forEach(this._reportFilters,function(_1e33,i){items.push({value:_1e33.id,caption:_1e33.name,tag:_1e1d.ConditionPreset.Preset});});var data={identifier:"value",label:"caption",items:items};var store=new _1e1a({data:data});this.cmbConditionPresets.setStore(store);this.cmbConditionPresets.startup();},_initializeConditionsGrid:function(){var data={identifier:"_id",items:this._conditionsCollection};var store=new _1e19({objectStore:new _1e18({data:data})});this.grdCrystalConditions.setStore(store);},_getDialogTitle:function(){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";},_getWizardStepResult:function(){this._conditionOptions.conditions=this._getConditions();this._conditionOptions.conditionsConnector=this.cmbConnector.value;return this._conditionOptions;},_setConditionsVisibility:function(_1e34){_1e1e.setDomNodeVisible(this.trConnector,false);_1e1e.setDomNodeVisible(this.tbConditions.domNode,false);_1e1e.setDomNodeVisible(this.grdCrystalConditions.domNode,false);switch(_1e34.tag){case _1e1d.ConditionPreset.Preset:case _1e1d.ConditionPreset.Custom:_1e1e.setDomNodeVisible(this.trConnector,true);_1e1e.setDomNodeVisible(this.tbConditions.domNode,true);_1e1e.setDomNodeVisible(this.grdCrystalConditions.domNode,true);this.grdCrystalConditions.resize();break;}},_getSelectedPreset:function(){var item=this.cmbConditionPresets.store._getItemByIdentity(this.cmbConditionPresets.value);var _1e35={value:item?this.cmbConditionPresets.store.getValue(item,"value"):null,tag:item?this.cmbConditionPresets.store.getValue(item,"tag"):null};return _1e35;},_showPreset:function(_1e36){switch(_1e36.tag){case _1e1d.ConditionPreset.Preset:var self=this;_1e17.some(this._reportFilters,function(_1e37,i){if(_1e37.id===_1e36.value){self._conditionsCollection=[];_1e17.forEach(_1e37.filterConditions,function(_1e38,i){self._addNewCondition(_1e38);});if(_1e37.conditionsConnector){self._conditionOptions.conditionsConnector=_1e37.conditionsConnector;self.cmbConnector.attr("value",self._conditionOptions.conditionsConnector);}return true;}});break;case _1e1d.ConditionPreset.CurrentRecord:break;case _1e1d.ConditionPreset.CurrentGroup:break;case _1e1d.ConditionPreset.Custom:break;default:break;}},_getConditions:function(){var _1e39=this._getSelectedPreset();var _1e3a=[];switch(_1e39.tag){case _1e1d.ConditionPreset.Custom:case _1e1d.ConditionPreset.Preset:for(var i=0;i<this._conditionsCollection.length;i++){var _1e3b=dojo.clone(this._conditionsCollection[i]);delete _1e3b._id;_1e3a.push(_1e3b);}break;}return _1e3a;},_getConditionId:function(){var maxId=0;for(var i=0;i<this._conditionsCollection.length;i++){if(maxId<this._conditionsCollection[i]._id){maxId=this._conditionsCollection[i]._id;}}return maxId+1;},_refreshConditionsGrid:function(){if(this.grdCrystalConditions){this.grdCrystalConditions.store.close();this._initializeConditionsGrid();}},_editCondition:function(_1e3c){var _1e3d=this.grdCrystalConditions.getItem(_1e3c);var _1e3e=new _1e20(_1e3d,this._reportMetadata);_1e3e.show();},_deleteCondition:function(id){var index=-1;_1e17.some(this._conditionsCollection,function(_1e3f,i){if(_1e3f._id===id){index=i;return true;}});if(index!==-1){this._conditionsCollection.splice(index,1);}this._refreshConditionsGrid();}});return _1e26;});},"Sage/UI/Columns/Currency":function(){define("Sage/UI/Columns/Currency",["dojo/_base/declare","dojo/json","Sage/Data/SDataServiceRegistry","Sage/Utility/_LocalStorageMixin","Sage/Utility","dojo/_base/lang","dojox/grid/cells/dijit"],function(_1e40,json,_1e41,_1e42,_1e43,lang){var _1e44=_1e40("Sage.UI.Columns.Currency",dojox.grid.cells._Widget,{widgetClass:Sage.UI.Controls.Currency,exchangeRateLoaded:false,constructor:function(o){if(this.multiCurrency&&!this.exchangeRateLoaded){var _1e45=Sage.Services.getService("SystemOptions");if(_1e45){_1e45.get("BaseCurrency",function(val){this.exchangeRateLoaded=true;this.currentCode=val;var _1e46=Sage.Services.getService("ExchangeRateLoader");if(_1e46){_1e46.requestExchangeRate(this.getExchangeRate,this);}},function(){if(typeof console!=="undefined"){console.error("Unable to determine SystemOptions.BaseCurrency.");}},this);}else{if(typeof console!=="undefined"){console.error("Unable to load the SystemOptions service.");}}}},getExchangeRate:function(data){this.exchangeRate=data.Rate;},getWidgetProps:function(_1e47){var _1e48=this.getControlId();return dojo.mixin({},this.widgetProps||{},{id:_1e48,value:_1e47,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field,constraints:this.constraints,name:this.name,sortable:this.sortable,editable:this.editable,required:this.required,displayMode:this.displayMode,displayCurrencyCode:this.displayCurrencyCode,multiCurrency:this.multiCurrency,currentCode:this.currentCode,exchangeRate:this.exchangeRate,currentUICulture:this.currentUICulture,textAlign:this.getAlignment()});},getAlignment:function(){var _1e49="right";_1e49=(this.cellClasses.indexOf("aligncenter")>-1)?"center":_1e49;_1e49=(this.cellClasses.indexOf("alignleft")>-1)?"left":_1e49;return _1e49;},formatNode:function(_1e4a,_1e4b,_1e4c){if(!this.widgetClass){return _1e4b;}if(this.multiCurrency){_1e4b=_1e4b*this.exchangeRate;}var _1e4d=dijit.byId(this.getControlId());if(!_1e4d){this.widget=this.createWidget.apply(this,arguments);}else{this.widget=_1e4d;if(_1e4d.value!==_1e4b||this.widget.focusNode.value!==_1e4b){this.widget.focusNode.attr("value",_1e4b);}this.attachWidget.apply(this,arguments);}this.sizeWidget.apply(this,arguments);this.grid.views.renormalizeRow(_1e4c);this.grid.scroller.rowHeightChanged(_1e4c,true);this.widget.focusNode.focus();return undefined;},formatter:function(_1e4e,_1e4f){var _1e50=this.grid.getItem(_1e4f);var _1e51="";var i;this.decimalDigit=(this.constraints&&this.constraints.places)?this.constraints.places:Sys.CultureInfo.CurrentCulture.numberFormat.CurrencyDecimalDigits;if(!this.multiCurrency){_1e51=dojo.currency.format(_1e4e,{currency:[Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol],locale:Sys.CultureInfo.CurrentCulture.name,places:this.decimalDigit});_1e51=_1e51.replace(Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol,"");}else{if(this.exchangeRateType=="EntityRate"&&_1e43.getModeId()!=="insert"){var _1e52=this.exchangeRateField.split(".");var _1e53=_1e50;for(i=0;i<_1e52.length;i++){if(_1e53){_1e53=_1e53[_1e52[i]];}else{_1e53=_1e43.getClientContextByKey(this.exchangeRateType);}}var _1e54=this.exchangeRateCodeField.split(".");var _1e55=_1e50;for(i=0;i<_1e54.length;i++){if(_1e55){_1e55=_1e55[_1e54[i]];}else{_1e55=_1e43.getClientContextByKey([this.exchangeRateType,"Code"].join(""));}}this.exchangeRate=_1e53;this.currentCode=_1e55;}else{if(this.exchangeRateType==="MyRate"){this.exchangeRate=_1e43.getClientContextByKey(this.exchangeRateType);this.currentCode=_1e43.getClientContextByKey([this.exchangeRateType,"Code"].join(""));}}_1e4e=_1e4e*this.exchangeRate;_1e51=dojo.currency.format(_1e4e,{currency:[],locale:Sys.CultureInfo.CurrentCulture.name,places:this.decimalDigit});_1e51=[_1e51,"   ",this.currentCode].join("");}if(this.abbreviationLength){var _1e56=Sage.Format.abbreviationFormatter(this.abbreviationLength);_1e51=_1e56(_1e51);}return _1e51;},styles:"text-align: right;",setCurrentItems:function(){this.editInfo=this.grid.edit.info;this.item=this.grid.getItem(this.editInfo.rowIndex);},getControlId:function(){this.setCurrentItems();return[this.item.$key,this.editInfo.cell.field,this.index].join("_");},getValue:function(index){var _1e57=this.widget.focusNode.valueNode.value;if(this.multiCurrency){_1e57=_1e57/this.exchangeRate;}if(this.widget.focusNode.state==="Error"){var item=this.grid.getItem(index);_1e57=this.grid.store.getValue(item,this.grid.edit.info.cell.field);this.widget.focusNode.focusNode.value=_1e57;}else{if(this.widget.focusNode.state==="Incomplete"){_1e57=_1e43.maximizeDecimalDigit(this.widget.focusNode.get("displayedValue"),this.constraints.places);this.widget.focusNode.focusNode.value=_1e57;}}return _1e57;}});var _1e58=_1e40("Sage.UI.Columns.Currency.BaseExchangeRateLoader",_1e42,{_requests:[],_requestingData:false,_exchangeRate:false,_storageNamespace:"BaseCurrencyExchangeRate",constructor:function(){this._requests=[];this._requestingData=false;this._exchangeRate=false;},requestExchangeRate:function(_1e59,scope){if(!this._exchangeRate){var data=sessionStorage.getItem(this._storageNamespace);if(data){this._exchangeRate=json.parse(data);}else{this._requests.push({fn:_1e59,scope:scope||this});if(!this._requestingData){this._requestingData=true;var _1e5a=new Sage.SData.Client.SDataSingleResourceRequest(_1e41.getSDataService("dynamic",false,true,true));_1e5a.setResourceSelector(dojo.string.substitute("'${0}'",[scope.currentCode]));_1e5a.setResourceKind("exchangeRates");_1e5a.read({success:lang.hitch(this,this._receiveData),failure:function(_1e5b){},async:false});}return;}}_1e59.call(scope||this,this._exchangeRate);},_receiveData:function(data){sessionStorage.setItem(this._storageNamespace,json.stringify(data));this._exchangeRate=data;var len=this._requests.length;for(var i=0;i<len;i++){var clbk=this._requests.pop();clbk.fn.call(clbk.scope,data);}}});Sage.Services.addService("ExchangeRateLoader",new _1e58());return _1e44;});},"Sage/Groups/GroupManager":function(){define("Sage/Groups/GroupManager",["Sage/UI/Dialogs","Sage/Utility/Email","dojo/string","Sage/Groups/GroupContextService","dojox/storage/LocalStorageProvider","dojo/_base/array","dojo/_base/lang","dojo/i18n","dojo/i18n!./nls/GroupManager","Sage/Data/SDataServiceRegistry","dojo/_base/xhr","dojo/topic","dojo/aspect"],function(_1e5c,email,_1e5d,_1e5e,_1e5f,array,lang,i18n,nls,_1e60,xhr,topic,_1e61){Sage.namespace("Sage.Groups.GroupManager");Sage.Groups.GroupManager={CurrentUserID:"",SortCol:-1,SortDir:"ASC",GMUrl:"SLXGroupBuilder.aspx?method=",GroupXML:"",resources:nls,LOCALSTORE_NAMESPACE:"SageGroups",QB_WIDTH:840,QB_HEIGHT:650,GetFromServer:function(url,_1e62,_1e63,_1e64,sync){var args={url:url,sync:sync||false,handleAs:_1e62||"text",headers:{"Content-Type":"application/xml"},preventCache:true,load:_1e63,error:_1e64};return dojo.xhrGet(args);},ClearLocalStorage:function(){var _1e65=new _1e5f();_1e65.initialize();_1e65.clear(Sage.Groups.GroupManager.resources.LOCALSTORE_NAMESPACE);window.location.reload(true);},ClearLocalStorageForGroup:function(_1e66){var _1e67=new _1e5f();_1e67.initialize();array.forEach(_1e67.getNamespaces(),function(item){if(item.indexOf(_1e66)>-1){_1e67.clear(item);}});sessionStorage.removeItem("GROUPLAYOUT_"+_1e66);sessionStorage.removeItem("hidden_filters_"+_1e66);sessionStorage.removeItem("METADATA_FILTERS_"+_1e66);window.location.reload(true);},PostToServer:function(url,data,_1e68,_1e69){var args={url:url,postData:data,handleAs:"text",headers:{"Content-Type":"application/xml"},load:function(data){if(typeof _1e68==="function"){_1e68(data);}},error:function(err){if(typeof _1e69==="function"){_1e69(err);}}};return dojo.xhrPost(args);},GetCurrentGroupInfo:function(){var _1e6a=Sage.Services.getService("ClientGroupContext");if(_1e6a){var _1e6b=_1e6a.getContext();return{"Name":_1e6b.CurrentName,"Family":_1e6b.CurrentFamily,"Id":_1e6b.CurrentGroupID,"isAdhoc":_1e6b.isAdhoc,"Entity":_1e6b.CurrentEntity};}return"";},CreateGroup:function(mode){if(typeof mode==="undefined"||mode===""){mode=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;}var vURL="QueryBuilderMain.aspx?mode="+mode,width=Sage.Groups.GroupManager.QB_WIDTH,_1e6c=Sage.Groups.GroupManager.QB_HEIGHT;window.open(vURL,"GroupViewer",_1e5d.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_1e6c}));},DeleteGroup:function(_1e6d,_1e6e){if(typeof _1e6d==="undefined"||_1e6d===""){_1e6d=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var msg=(_1e6e)?_1e5d.substitute(Sage.Groups.GroupManager.resources.ConfirmDeleteFmtMessage,[_1e6e]):Sage.Groups.GroupManager.resources.ConfirmDeleteMessage;_1e5c.raiseQueryDialog("",msg,function(_1e6f){if(_1e6f===true){Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"DeleteGroup&gid="+_1e6d,"text",function(){var url=document.location.href.replace("#","");if(url.indexOf("?")>-1){var _1e70=url.split("?");url=_1e70[0];}document.location=url;},function(req){});}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);},EditGroup:function(_1e71){var _1e72=Sage.Groups.GroupManager.GetCurrentGroupInfo();if(typeof _1e71==="undefined"||_1e71===""){_1e71=_1e72.Id;}var url=_1e5d.substitute("QueryBuilderMain.aspx?gid=${groupid}&mode=${md}",{groupid:_1e71,md:_1e72.Family}),width=Sage.Groups.GroupManager.QB_WIDTH,_1e73=Sage.Groups.GroupManager.QB_HEIGHT;window.open(url,"EditGroup",_1e5d.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_1e73}));},CopyGroup:function(_1e74){var _1e75=Sage.Groups.GroupManager.GetCurrentGroupInfo();if(typeof _1e74==="undefined"||_1e74===""){_1e74=_1e75.Id;}var vURL=["QueryBuilderMain.aspx?gid=",_1e74,"&action=copy","&mode=",_1e75.Family].join(""),width=Sage.Groups.GroupManager.QB_WIDTH,_1e76=Sage.Groups.GroupManager.QB_HEIGHT;window.open(vURL,"EditGroup",_1e5d.substitute("resizable=yes,centerscreen=yes,width=${width},height=${height},status=no,toolbar=no,scrollbars=yes",{width:width,height:_1e76}));},ListGroupsAsSelect:function(_1e77){var _1e78=_1e77;if(!dojo.isString(_1e78)||_1e78.length===0){_1e78=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;if(!dojo.isString(_1e78)||_1e78.length===0){return"";}}var sUrl=Sage.Groups.GroupManager.GMUrl+"GetGroupList&entity="+_1e78;var _1e79="";Sage.Groups.GroupManager.GetFromServer(sUrl,"text",function(data){_1e79=data;},function(err){if(typeof console!=="undefined"){console.error(err);}},true);var _1e7a=getXMLDoc(_1e79);if(_1e7a){var _1e7b=_1e7a.getElementsByTagName("GroupInfo");if(!_1e7b){return"";}var _1e7c="";for(var i=0;i<_1e7b.length;i++){_1e7c+="<option value = '"+_1e7b[i].getElementsByTagName("GroupID")[0].firstChild.nodeValue+"'>"+_1e7b[i].getElementsByTagName("DisplayName")[0].firstChild.nodeValue+"</option>";}return _1e7c;}return"";},GetGroupId:function(name){var _1e7d="";Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"GetGroupId&name="+encodeURIComponent(name),"text",function(data){_1e7d=data;},function(err){console.error(err);},true);return _1e7d;},HideGroup:function(_1e7e,_1e7f){if(typeof _1e7e==="undefined"||_1e7e===""){_1e7e=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}Sage.Groups.GroupManager.PostToServer(Sage.Groups.GroupManager.GMUrl+"HideGroup&gid="+_1e7e,"",lang.hitch(this,Sage.Groups.GroupManager._HideOrShowComplete,_1e7f,_1e7e));},_HideOrShowComplete:function(_1e80,_1e81){var _1e82,_1e83,_1e84,_1e85;if(_1e80){return;}_1e84=function(){if(_1e85&&_1e85.remove){_1e85.remove();}var _1e86=dijit.byId("titlePane");if(_1e86){_1e86.resetConfiguration();}};_1e82=Sage.Services.getService("ClientGroupContext");_1e83=_1e82&&_1e82.getContext();_1e85=_1e61.after(_1e82,"onCurrentGroupChanged",_1e84);if(!Sage.Groups.GroupManager._isDefaultGroup(_1e81)&&_1e83.CurrentGroupID===_1e81){_1e82.setCurrentGroup(_1e83.DefaultGroupID);}else{if(Sage.Groups.GroupManager._isDefaultGroup(_1e81)&&_1e83.CurrentGroupID===_1e81){_1e82.setCurrentGroup("LOOKUPRESULTS");}else{_1e84.call();}}},_isDefaultGroup:function(_1e87){var _1e88,_1e89,_1e8a;_1e8a=false;_1e88=Sage.Services.getService("ClientGroupContext");if(_1e88){_1e89=_1e88.getContext();if(_1e89){_1e8a=_1e89.DefaultGroupID===_1e87;}}return _1e8a;},UnHideGroup:function groupmanager_(_1e8b,_1e8c){if(typeof _1e8b==="undefined"||_1e8b===""){_1e8b=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"UnHideGroup&gid="+_1e8b,"",lang.hitch(this,Sage.Groups.GroupManager._HideOrShowComplete,_1e8c,_1e8b));},ShowGroups:function(_1e8d){if(typeof _1e8d==="undefined"||_1e8d===""){_1e8d=Sage.Groups.GroupManager.GetCurrentGroupInfo().Family;}var vURL="ShowGroups.aspx?tablename="+_1e8d;window.open(vURL,"ShowGroups","resizable=yes,centerscreen=yes,width=800,height=646,status=no,toolbar=no,scrollbars=yes");},CreateAdHocGroup:function(_1e8e,_1e8f,_1e90,_1e91){var vURL=[Sage.Groups.GroupManager.GMUrl,"CreateAdHocGroup","&name=",encodeURIComponent(_1e8f),"&family=",_1e90,"&layoutid=",encodeURIComponent(_1e91)].join();return Sage.Groups.GroupManager.PostToServer(vURL,_1e8e);},EditAdHocGroupAddMember:function(_1e92,_1e93){if(typeof _1e92==="undefined"||_1e92===""){_1e92=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var x=Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"EditAdHocGroupAddMember&groupid="+_1e92+"&entityid="+_1e93);},EditAdHocGroupDeleteMember:function(_1e94,_1e95){if(typeof _1e94==="undefined"||_1e94===""){_1e94=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var x=Sage.Groups.GroupManager.GetFromServer(Sage.Groups.GroupManager.GMUrl+"EditAdHocGroupDeleteMember&groupid="+_1e94+"&entityid="+_1e95);},SetDefault:function(_1e96,name,_1e97){Sage.Groups.GroupManager._saveGroupUserOptions(name,_1e97,"DEFAULTGROUP");},SetLookupLayout:function(_1e98,name,_1e99){Sage.Groups.GroupManager._saveGroupUserOptions(name,_1e99,"LOOKUPLAYOUTGROUP");},_saveGroupUserOptions:function(name,_1e9a,_1e9b){var _1e9c=Sage.Groups.GroupManager.GetCurrentGroupInfo(),_1e9d=_1e9c.Name,_1e9e=_1e9c.Family,_1e9f=name||_1e9d,_1ea0=_1e9a;var svc=Sage.Services.getService("UserOptions");if(svc){svc.set(_1e9a,_1e9b,_1e5d.substitute("${0}:${1}",[_1ea0,_1e9f]));}},IsAdHoc:function(_1ea1){alert("not implemented in this object yet...");},ExportGroup:function(_1ea2,_1ea3){_1e5c.showInfo(Sage.Groups.GroupManager.resources.exportToExcel);},ShareGroup:function(_1ea4){if(typeof _1ea4==="undefined"||_1ea4===""){_1ea4=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;}var vURL="ShareGroup.aspx?gid="+_1ea4;window.open(vURL,"ShareGroup","resizable=yes,centerscreen=yes,width=500,height=450,status=no,toolbar=no,scrollbars=yes");},GetGroupSQL:function(_1ea5,_1ea6,parts,_1ea7){var _1ea8=_1ea5;if(!dojo.isString(_1ea8)||_1ea8.length===0){_1ea8=Sage.Groups.GroupManager.GetCurrentGroupInfo().Id;if(!dojo.isString(_1ea8)||_1ea8.length===0){return"";}}var sUrl=Sage.Groups.GroupManager.GMUrl+"GetGroupSQL&gid="+_1ea8;if(typeof _1ea6!=="undefined"){if(dojo.isString(_1ea6)){if((_1ea6==="true")||(_1ea6==="false")){sUrl+="&UseAliases="+_1ea6;}}else{if(typeof _1ea6==="boolean"){sUrl+="&UseAliases="+_1ea6.toString();}}}if(dojo.isString(parts)&&parts.length>0){sUrl+="&parts="+parts;}if(typeof _1ea7!=="undefined"){if(dojo.isString(_1ea7)){if((_1ea7==="true")||(_1ea7==="false")){sUrl+="&ApplyFilters="+_1ea7;}}else{if(typeof _1ea7==="boolean"){sUrl+="&ApplyFilters="+_1ea7.toString();}}}var _1ea9="";Sage.Groups.GroupManager.GetFromServer(sUrl,"text",function(data){_1ea9=data;},function(err){if(typeof console!=="undefined"){console.error(err);}},true);return _1ea9;},GetGroupSQLFromXML:function(_1eaa,_1eab,_1eac){Sage.Groups.GroupManager.PostToServer(Sage.Groups.GroupManager.GMUrl+"GetGroupSQL",_1eaa,_1eab,_1eac);},GetGroupSQLById:function(_1ead,_1eae,_1eaf){var url=Sage.Groups.GroupManager.GMUrl+"GetGroupSQL&gid="+_1ead;Sage.Groups.GroupManager.GetFromServer(url,"json",_1eae,_1eaf);},saveSelectionsAsNewGroup:function(){var _1eb0=Sage.Utility.getSelectionInfo();if(!_1eb0||_1eb0.selectionCount===0){if(_1eb0.recordCount<1){_1e5c.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _1eb1=_1e5d.substitute(Sage.Groups.GroupManager.resources.noneSelectedPromptFmt,[_1eb0.recordCount]);_1e5c.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_1eb1,function(_1eb2){if(_1eb2===true){Sage.Groups.GroupManager.promptForName("");}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.promptForName("");}},promptForName:function(_1eb3,_1eb4){var _1eb5=Sage.Utility.getSelectionInfo();var _1eb6=(_1eb5.selectionCount===0)?_1eb5.recordCount:_1eb5.selectionCount;var _1eb7=_1e5d.substitute(Sage.Groups.GroupManager.resources.newGroupNamePrompt,[_1eb6,_1eb3||""]);_1e5c.raiseInputDialogExt({title:Sage.Groups.GroupManager.resources.newGroupTitle,query:_1eb7,callbackFn:function(_1eb8,name){if(_1eb8===true){if(name===""){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.newGroupRePrompt,name);},100);}else{if(name.match(/[\/\\:\*\?"<\>|\.'\r\n]/)!==null){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.invalidCharMsg,name);},100);}else{Sage.Groups.GroupManager.saveNewGroupPost(name);}}}},yesText:Sage.Groups.GroupManager.resources.okCaption,noText:Sage.Groups.GroupManager.resources.cancelCaption,defaultValue:_1eb4||"",closable:true});},saveNewGroupPost:function(name,_1eb9){var _1eba=Sage.Utility.getSelectionInfo(),_1ebb=_1e60.getSDataService("system"),_1ebc=new Sage.SData.Client.SDataSingleResourceRequest(_1ebb),_1ebd=Sage.Services.getService("ClientGroupContext").getContext(),_1ebe=_1ebd.CurrentFamily,_1ebf=_1ebd.CurrentGroupID,entry={},copy=false;_1ebc.setResourceKind("groups");if(_1eba.selectionCount===0){copy=true;}entry={family:_1ebe,name:name,adHocIds:_1eba.selectedIds};_1ebc.create(entry,{success:function(entry){if(copy){Sage.Groups.GroupManager.copyFromGroup(_1ebf,entry.$key);}else{Sage.Groups.GroupManager.newGroupCreated();}},failure:function(){},scope:this});},removeSelectionsFromGroup:function(){var _1ec0=Sage.Utility.getSelectionInfo();if(_1ec0.selectionCount===0){if(_1ec0.recordCount<1){_1e5c.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _1ec1=_1e5d.substitute(Sage.Groups.GroupManager.resources.noneSelectedRemovePromptFmt,[_1ec0.recordCount]);_1e5c.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_1ec1,function(_1ec2){if(_1ec2===true){Sage.Groups.GroupManager.removeConfirmed();}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.removeConfirmed();}},removeConfirmed:function(){var _1ec3=Sage.Utility.getSelectionInfo(),_1ec4=Sage.Services.getService("ClientGroupContext").getContext(),_1ec5=_1ec4.CurrentFamily,name=_1ec4.CurrentName,_1ec6=_1ec4.CurrentGroupID;Sage.Groups.GroupManager.removeIds(_1ec6,name,_1ec5,_1ec3.selectedIds,function(){Sage.Groups.GroupManager.refreshListView();},function(err){console.error(err);},this);},removeIds:function(_1ec7,_1ec8,_1ec9,ids,_1eca,_1ecb,scope){var _1ecc=_1e60.getSDataService("system"),_1ecd=new Sage.SData.Client.SDataServiceOperationRequest(_1ecc),entry,_1ece,_1ecf=[];_1ecd.setResourceKind("groups");if(ids&&ids.length>0){_1ecd.setOperationName("removeAdHocIds");_1ecf=ids;}else{_1ecd.setOperationName("removeAllAdHocIds");_1ecf.push(ids);}entry={"$name":"removeAdHocIds",request:{groupId:_1ec7,groupName:_1ec8,family:_1ec9,adHocIds:ids}};_1ece=lang.hitch(this,function(){topic.publish("/group/adhoc/removed",{"groupId":_1ec7,"groupName":_1ec8,"family":_1ec9,"ids":_1ecf});if(_1eca){_1eca.call(arguments);}});_1ecd.execute(entry,{success:_1ece,failure:_1ecb,scope:scope||this});},addSelectionsToGroup:function(_1ed0){var _1ed1=Sage.Utility.getCurrentEntityId();if(_1ed1!==""){Sage.Groups.GroupManager.postAddToGroup(_1ed0,{selectedIds:[_1ed1],selectionCount:1});}else{var _1ed2=Sage.Utility.getSelectionInfo();if(_1ed2.selectionCount===0){if(_1ed2.recordCount<1){_1e5c.showInfo(Sage.Groups.GroupManager.resources.noRecordsInGroup,Sage.Groups.GroupManager.resources.noneSelectedTitle);}else{var _1ed3=_1e5d.substitute(Sage.Groups.GroupManager.resources.noneSelectedPromptFmt,[_1ed2.recordCount]);_1e5c.raiseQueryDialog(Sage.Groups.GroupManager.resources.noneSelectedTitle,_1ed3,function(_1ed4){if(_1ed4===true){Sage.Groups.GroupManager.addConfirmed(_1ed0);}},Sage.Groups.GroupManager.resources.yesCaption,Sage.Groups.GroupManager.resources.noCaption);}}else{Sage.Groups.GroupManager.addConfirmed(_1ed0);}}},copyFromGroup:function(_1ed5,_1ed6){var _1ed7=Sage.Utility.getSelectionInfo(),_1ed8=_1e60.getSDataService("system"),_1ed9=new Sage.SData.Client.SDataServiceOperationRequest(_1ed8),_1eda=Sage.Services.getService("ClientGroupContext").getContext(),_1edb=_1eda.CurrentFamily,name=_1eda.CurrentName,entry;_1ed9.setResourceKind("groups");_1ed9.setOperationName("addAdHocIdsFrom");entry={"$name":"addAdHocIdsFrom",request:{groupId:_1ed6,groupName:name,family:_1edb,fromGroupId:_1ed5}};_1ed9.execute(entry,{success:function(){var _1edc=Sage.Services.getService("ClientGroupContext");if(_1edc){var _1edd=dijit.byId("titlePane");if(_1edd){_1edd.resetConfiguration();}_1edc.setCurrentGroup(_1ed6);}},failure:function(){},scope:this});},addConfirmed:function(_1ede){var _1edf=Sage.Utility.getSelectionInfo();Sage.Groups.GroupManager.postAddToGroup(_1ede,_1edf);},postAddToGroup:function(_1ee0,_1ee1){var _1ee2=_1e60.getSDataService("system"),_1ee3=new Sage.SData.Client.SDataServiceOperationRequest(_1ee2),_1ee4=Sage.Services.getService("ClientGroupContext").getContext(),_1ee5=_1ee4.CurrentFamily,_1ee6=_1ee4.CurrentGroupID,entry,_1ee7="addAdHocIds";if(_1ee1.selectionCount===0){Sage.Groups.GroupManager.copyFromGroup(_1ee6,_1ee0);return;}_1ee3.setResourceKind("groups");_1ee3.setOperationName(_1ee7);entry={"$name":_1ee7,request:{groupId:_1ee0,family:_1ee5,adHocIds:_1ee1.selectedIds}};_1ee3.execute(entry,{success:function(){},failure:function(){},scope:this});},saveLookupAsGroup:function(obj,e,msg){if(typeof(msg)==="undefined"){msg=Sage.Groups.GroupManager.resources.groupNameText;}_1e5c.raiseInputDialogExt({title:Sage.Groups.GroupManager.resources.saveLookupDlgTitle,query:msg,callbackFn:function(_1ee8,name){if(_1ee8===true){if(name===""){window.setTimeout(function(){Sage.Groups.GroupManager.saveLookupAsGroup(Sage.Groups.GroupManager.resources.newGroupRePrompt);},100);}else{if(name.match(/\'|\"|\/|\\|\*|\:|\?|<|\>/)!==null){window.setTimeout(function(){Sage.Groups.GroupManager.promptForName(Sage.Groups.GroupManager.resources.invalidCharMsg);},100);}else{var _1ee9="slxdata.ashx/slx/crm/-/groups/adhoc?action=SaveLookupAsGroup&name="+encodeURIComponent(name);xhr.post({url:_1ee9,handleAs:"text",content:{},load:Sage.Groups.GroupManager.newGroupCreated,error:Sage.Groups.GroupManager.handleAjaxError});}}}},yesText:Sage.Groups.GroupManager.resources.okCaption,noText:Sage.Groups.GroupManager.resources.cancelCaption,defaultValue:"",closable:true});},handleAjaxError:function(_1eea){if(typeof _1eea!="undefined"){if(_1eea.responseXML){var nodes=_1eea.responseXML.getElementsByTagName("sdata:message");if(nodes.length>0){_1e5c.showError(nodes[0].text||nodes[0].textContent,"");}}else{_1e5c.alert("an unidentified exception has occured");}}},newGroupCreated:function(){Sage.Link.toListView();},refreshListView:function(){var _1eeb=dijit.byId("list");if(_1eeb){_1eeb.refreshList();}},emailSelectionsFromGroup:function(){var _1eec,body,_1eed,_1eee;_1eec="";body="";_1eed=0;_1eee="Email";email.writeEmailToGroupSelection(_1eec,body,_1eed,_1eee);}};window.groupManager=Sage.Groups.GroupManager;return window.groupManager;});},"Sage/Utility/nls/Utility":function(){define("Sage/Utility/nls/Utility",["Sage/LanguageList","dojo/_base/lang"],function(_1eef,lang){var nls={root:{dangerousValueWarn:"A potentially dangerous form value was detected.  Please avoid invalid character combinations."+'Example: "&lt;script&gt;&lt;/script&gt;" Also avoid invalid characters in filenames: \\ / : * ? " &lt; &gt; | '}};return lang.mixin(_1eef,nls);});},"Sage/Utility/File/AttachmentPropertiesEditForm":function(){define("Sage/Utility/File/AttachmentPropertiesEditForm",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility/File","Sage/Utility","Sage/UI/Dialogs","dojox/layout/TableContainer","Sage/UI/Controls/DateTimePicker","dijit/form/TextBox","dijit/form/Button","dojox/form/Uploader","dojo/i18n","dojo/i18n!./nls/AttachmentPropertiesEditForm","dojo/_base/declare"],function(_1ef0,_1ef1,_1ef2,_1ef3,_1ef4,_1ef5,_1ef6,_1ef7,_1ef8,_1ef9,_1efa,_1efb,_1efc,_1efd,_1efe,_1eff,_1f00,i18n,_1f01,_1f02){var _1f03=_1f02("Sage.Utility.File.AttachmentPropertiesEditForm",[_1ef0,_1ef1],{attachmentId:"",widgetsInTemplate:true,attachment:false,_bindingMgr:false,_store:false,_tempFile:false,_iframe:null,_showing:false,_iframeId:"attachmentRePostIFrame",_uploadUrlFmt:"slxdata.ashx/slx/system/-/attachments('${0}')/file",widgetTemplate:new Simplate(["<div>",'<div dojoType="dijit.Dialog" title="{%= $.editText %}" dojoAttachPoint="_dialog">','<iframe src="about:blank" style="width:0px;height:0px;border-width:0px;" name="{%= $._iframeId %}" id="{%= $._iframeId %}" dojoAttachPoint="_iframe" dojoAttachEvent="onload:_iframeLoad"></iframe>','<form method="post" enctype="multipart/form-data" action="{%= $._buildPostUrl() %}" target="{%= $._iframeId %}" dojoAttachPoint="_postForm", class="attachment-properties-form">','<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160" dojoAttachPoint="_urlContainer">','<div dojoType="dijit.form.TextBox" label="{%= $.urlText %}" id="{%= $.id %}_tb_Url" dojoAttachPoint="tb_Url" ></div>',"</div>",'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160" dojoAttachPoint="_fileNameContainer" >','<div dojoType="dijit.form.TextBox" label="{%= $.fileText %}" id="{%= $.id %}_tb_File" dojoAttachPoint="tb_File" ></div>',"</div>",'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160" >','<div dojoType="dijit.form.TextBox" label="{%= $.descriptionText %}" name="description" id="{%= $.id %}_tb_Description" dojoAttachPoint="tb_Description" maxlength="128" ></div>','<div dojoType="dijit.form.TextBox" label="{%= $.sizeText %}" id="{%= $.id %}_tb_size" dojoAttachPoint="tb_size" disabled="true" shouldPublishMarkDirty="false"></div>','<div dojoType="Sage.UI.Controls.DateTimePicker" label="{%= $.attachDateText %}" id="{%= $.id %}_dtp_AttachDate" dojoAttachPoint="dtp_attachDate" displayDate="true" displayTime="true" disabled="true" shouldPublishMarkDirty="false"></div>','<div dojoType="dijit.form.TextBox" label="{%= $.attachedByText %}" id="{%= $.id %}_tb_attachedBy" dojoAttachPoint="tb_attachedBy" disabled="true" shouldPublishMarkDirty="false"></div>',"</div>",'<div class="general-dialog-actions">','<input dojoType="dojox.form.Uploader" multiple="false" label="{%= $.uploadFileText %}" type="file" name="file" dojoAttachEvent="onChange:_onNewFile" dojoAttachPoint="btn_FileSelect" class="uploadButton" ></input>',"</div>",'<div class="general-dialog-actions">','<div dojoType="dijit.form.Button" id="{%= $.id %}_btnOK" name="_btnOK" dojoAttachPoint="_btnOK" dojoAttachEvent="onClick:_okClick" >{%= $.okText %}</div>','<div dojoType="dijit.form.Button" id="{%= $.id %}_btnCancel" name="_btnCancel" dojoAttachPoint="_btnCancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>',"</div>",'<input type="hidden" name="X-HTTP-Method-Override" value="PUT" />',"</form>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","AttachmentPropertiesEditForm"));this.inherited(arguments);},show:function(){this._dialog.show();if(!this._dialog._standby){_1ef5.mixin(this._dialog,new _1ef4());}this._showing=true;if(!this.attachment){this._dialog.showLoading();}},hide:function(){this.attachmentId="";this.attachment=false;this._tempFile=false;if(this._dialog._standby){this._dialog.hideLoading();}this._dialog.hide();this._showing=false;},_buildPostUrl:function(){var _1f04=[];_1f04.push(/https/i.test(window.location.protocol)?"https":"http");_1f04.push("://");_1f04.push(window.location.hostname);if(window.location.port&&window.location.port!==80){_1f04.push(":",window.location.port);}_1f04.push("/");_1f04.push(_1efa.getVirtualDirectoryName());_1f04.push("/slxdata.ashx/slx/system/-/attachments");if(this.attachment){_1f04.push('("'+this.attachment.$key+'")');}_1f04.push("/file");var url=_1f04.join("");return url;},_iframeLoad:function(e){if(this._iframe.contentDocument&&this._iframe.contentDocument.URL.indexOf("attachments")>0){dojo.publish("/entity/attachment/update","");this.hide();}},_setAttachmentIdAttr:function(_1f05){this.attachmentId=_1f05;if(this.attachmentId&&this.attachmentId!==""){this._loadData();}},_getAttachmentIdAttr:function(){return this.attachmentId;},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}if(!this._store){this._store=new _1ef6({include:["$descriptors"],resourceKind:"attachments",service:_1ef7.getSDataService("system")});}if(this.attachmentId!==""){this._store.clearCache();this._store.fetch({predicate:'"'+this.attachmentId+'"',onComplete:this._receiveAttachment,beforeRequest:function(_1f06){_1f06.setQueryArg("_includeFile","false");},onError:this._requestFail,scope:this});}else{_1efb.showError("No attachment to edit");}},_receiveAttachment:function(_1f07){if(this._dialog._standby){this._dialog.hideLoading();}this.attachment=_1f07;this._ensureBindings();this._bind();if(this.attachment.url){dojo.removeClass(this._urlContainer.domNode,"display-none");dojo.addClass(this.btn_FileSelect.domNode,"display-none");dojo.addClass(this._fileNameContainer.domNode,"display-none");}else{dojo.addClass(this._urlContainer.domNode,"display-none");dojo.removeClass(this.btn_FileSelect.domNode,"display-none");dojo.removeClass(this._fileNameContainer.domNode,"display-none");}},_ensureBindings:function(){if(!this._bindingMgr){this._bindingMgr=new _1ef8({defaultBinding:{boundEntity:this.attachment},items:[{boundWidget:this.tb_File,entityProperty:"fileName"},{boundWidget:this.tb_Description,entityProperty:"description"},{boundWidget:this.tb_size,entityProperty:"fileSize",_formatValueFromEntity:function(v){return Sage.Utility.File.formatFileSize(v);},twoWay:false},{boundWidget:this.dtp_attachDate,entityProperty:"attachDate",dataType:"date",twoWay:false},{boundWidget:this.tb_Url,entityProperty:"url"},{boundWidget:this.tb_attachedBy,entityProperty:"user.$descriptor",twoWay:false}]});}},_bind:function(){if(!this._bindingMgr.boundEntity||(this.attachment.$key!==this._bindingMgr.boundEntity.$key)){this._bindingMgr.setBoundEntity(this.attachment);}else{this._bindingMgr.bind();}},_onNewFile:function(){var files=this.btn_FileSelect._files;if(files&&files.length>0){this.tb_File.set("value",files[0].name);this._tempFile=files[0];}else{}this.tb_Description.focus();},_uploadNewFile:function(file){if(file){var url=_1ef2.substitute(this._uploadUrlFmt,[this.attachment.$key]);_1ef9.uploadFileHTML5(file,url,false,this._newFileUploaded,this._requestFail,this,true);}},_newFileUploaded:function(){this._tempFile=false;dojo.publish("/entity/attachment/update",this.attachment);this.hide();},_okClick:function(){if(this._dialog._standby){this._dialog.showLoading();}this._saveAndHide();},_saveAndHide:function(){if(this._dialog._standby){this._dialog.showLoading();}var self=this;if((!_1ef9.supportsHTML5File&&!Sage.gears)&&(this._tempFile)){this._store._okToCache=false;this._postForm.action=this._buildPostUrl();this._postForm.submit();window.setTimeout(function(){if(self._showing){dojo.publish("/entity/attachment/update","");self.hide();}},5000);return;}window.setTimeout(function(){self._saveAttachment();},10);},_saveAttachment:function(){this._store.save({scope:this,success:function(_1f08){if(!this._tempFile){dojo.publish("/entity/attachment/update",_1f08);this._dialog.hide();}},failure:this._requestFail});if(this._tempFile){this._uploadNewFile(this._tempFile);}},_cancelClick:function(){this.hide();},_requestFail:function(req){_1efb.showError(this.requestFailedMsg);this.hide();}});return _1f03;});},"Sage/QuickForms/Design/nls/ControlDesigner":function(){define("Sage/QuickForms/Design/nls/ControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1f09,lang){var nls={root:{displayNameText:""}};return lang.mixin(_1f09,nls);});},"Sage/UI/Controls/nls/Address":function(){define("Sage/UI/Controls/nls/Address",["Sage/LanguageList","dojo/_base/lang"],function(_1f0a,lang){var nls={root:{address1Text:"Address 1:",address2Text:"Address 2:",address3Text:"Address 3:",cancelText:"Cancel",cityText:"City:",countryText:"Country:",countyText:"County:",descriptionText:"Description:",dialogTitle:"Address",isMailingText:"Shipping:",isPrimaryText:"Primary:",okText:"OK",postalCodeText:"Postal Code:",salutationText:"Attention:",stateText:"State:",imageEditToolTip:"Edit",imageMapQuestToolTip:"MapQuest"}};return lang.mixin(_1f0a,nls);});},"Sage/QuickForms/Design/Editors/FormUsagesPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormUsagesPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojo/string","dojox/grid/EnhancedGrid","./_PropertyEditor","Sage/Services/_ServiceMixin","dojo/i18n!./nls/FormUsagesPropertyEditor"],function(_1f0b,lang,_1f0c,_1f0d,_1f0e,_1f0f,_1f10){return _1f0b("Sage.QuickForms.Design.Editors.FormUsagesPropertyEditor",[_1f0d,_1f0e,_1f0f],{serviceMap:{"dataService":{type:"sdata",name:"metadata"}},titleText:"Usage",portalText:"Portal",viewText:"View",modesText:"Modes",descriptionText:"Description",selectionMode:"none",canSort:function(){return false;},constructor:function(){lang.mixin(this,_1f10);},setup:function(){this.inherited(arguments);var name=this._designer.get("name")||"";var store=new Sage.Data.SDataStore({service:this.dataService,resourceKind:"formUsages",select:["showInMode","portalPage/portalAlias","portalPage/pagetitle","portalPage/description"],where:_1f0c.substitute('smartPartId eq "${0}"',[name])});this.setStore(store);this.set("structure",[{field:"portalPage.portalAlias",name:this.portalText,width:"auto"},{field:"portalPage.pagetitle",name:this.viewText,width:"auto"},{field:"showInMode",name:this.modesText,formatter:this.formatModes,width:"auto"},{field:"portalPage.description",name:this.descriptionText,width:"auto"}]);},formatModes:function(modes){if(!modes){return"";}return(lang.isArray(modes))?modes.join(", "):modes;}});});},"Sage/QuickForms/Design/Editors/GenericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/GenericAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/GenericAdvancedPropertyEditor"],function(_1f11,lang,_1f12,_1f13,_1f14,_1f15,_1f16,_1f17,_1f18,_1f19,_1f1a){return _1f11("Sage.QuickForms.Design.Editors.GenericAdvancedPropertyEditor",[_1f12,_1f18,_1f17],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",constructor:function(){lang.mixin(this,_1f1a);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._visible.set("value",this._designer.get("visible"));},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/MainView/JobMgr/nls/JobManagerGroupContextService":function(){define("Sage/MainView/JobMgr/nls/JobManagerGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_1f1b,lang){var nls={root:{executionsTabDisplayName:"Executions",jobDefinitionsTabDisplayName:"Definitions",schedulesTabDisplayName:"Schedules"}};return lang.mixin(_1f1b,nls);});},"Sage/UI/ActivityList":function(){define("Sage/UI/ActivityList",["dojo/_base/declare","dojo/_base/lang","dijit/_Widget","Sage/Utility","Sage/Utility/Activity","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/UI/SLXPreviewGrid","Sage/UI/SLXPreviewGrid/Grid","dijit/form/FilteringSelect","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/ActivityDateRange","Sage/UI/SLXPreviewGrid/Filter/Text","dojo/data/ItemFileReadStore","dojo/string","Sage/UI/SLXPreviewGrid/Filter/_previewGridFilterMixin","Sage/UI/SLXPreviewGrid/Filter/Lookup","Sage/Data/SDataServiceRegistry","dojo/i18n!./nls/ActivityList"],function(_1f1c,lang,_1f1d,_1f1e,_1f1f,_1f20,_1f21,_1f22,_1f23,_1f24,_1f25,_1f26,_1f27,_1f28,_1f29,_1f2a,_1f2b,_1f2c,_1f2d){var _1f2e=_1f1c("Sage.UI.ActivityTypeFilterWidget",[_1f1d,_1f2a],{postCreate:function(){this.inherited(arguments);var div=document.createElement("div");this.domNode.appendChild(div);var _1f2f=[];dojo.forEach(["atAppointment","atPhoneCall","atToDo","atPersonal"],function(item){_1f2f.push({name:_1f1f.getActivityTypeName(item),id:item});});var store=new _1f28({data:{items:_1f2f,label:"name",identifier:"id"}});this._select=new _1f24({store:store,required:false},div);},getQuery:function(){var v=this._select.get("value");if(v){return"Type eq '"+v+"'";}return"";},reset:function(){this._select.set("value",null);},getState:function(){return{"value":this._select.get("value")};},applyState:function(state){if(state){this._select.set("value",state["value"]||"");}}});var _1f30=_1f1c("Sage.UI.ActivityList",[_1f1d],{placeHolder:"",conditionFmt:"",parentRelationshipName:"",workspace:"",tabId:"",connections:[],constructor:function(_1f31){this.connections=[];},startup:function(){var _1f32=[{id:"SchedulePhoneCall",imageClass:"icon_Schedule_Meeting_16x16",handler:function(){Sage.Link.scheduleMeeting();},alternateText:_1f2d.addMeetingText},{id:"ScheduleMeeting",imageClass:"icon_Schedule_Call_16x16",handler:function(){Sage.Link.schedulePhoneCall();},alternateText:_1f2d.addPhoneCallText},{id:"ScheduleToDo",imageClass:"icon_Schdedule_To_Do_16x16",handler:function(){Sage.Link.scheduleToDo();},alternateText:_1f2d.addToDoText},{id:this.id+"_Help",imageClass:"icon_Help_16x16",handler:function(){_1f1e.openHelp("activitiestab");},alternateText:_1f2d.helpText}];var _1f33=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_1f34,cel){var _1f35=[cel.grid.id,"-row",_1f34].join("");var id=(Sage.Utility.getModeId()==="insert")?_1f35:value;var _1f36=["<div id=",id," >",id,"</ div>"].join("");return _1f36;}},{field:"$key",name:_1f2d.completeText,sortable:false,width:"90px",type:_1f1f.activityCompleteCell},{field:"Type",name:_1f2d.typeText,type:_1f1f.activityTypeCell,width:"90px",filterConfig:{widgetType:_1f2e}},{field:"StartDate",name:_1f2d.startDateText,type:_1f20,useFiveSecondRuleToDetermineTimeless:true,getTimeless:true,width:"100px",filterConfig:{widgetType:_1f25,label:_1f2d.dateRangeText}},{field:"Duration",name:_1f2d.durationText,type:_1f1f.activityDurationCell,width:"40px"},{field:"Leader",name:_1f2d.leaderText,type:_1f1f.activityLeaderCell,width:"90px",filterConfig:{widgetType:_1f2b,lookupStructure:[{cells:[{name:_1f2d.firstNameText||"First Name",field:"UserInfo.FirstName",sortable:true,width:"200px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""},{name:_1f2d.lastNameText||"Last Name",field:"UserInfo.LastName",sortable:true,width:"200px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""},{name:_1f2d.typeText||"Type",field:"Type",sortable:true,width:"100px",editable:false,propertyType:"System.string",excludeFromFilters:false,defaultValue:""}]}],lookupGridOptions:{contextualCondition:function(){var where="";where="((Type ne 'Template') and (Type ne 'Retired'))";return where;},contextualShow:"",selectionMode:"single"},lookupStoreOptions:{resourceKind:"users",sort:[{attribute:"UserInfo.FirstName"}]},getQuery:function(){var obj=this._lup.get("selectedObject");if(obj&&obj["$key"]){return"Leader eq '"+obj["$key"].substr(0,12)+"'";}return"";}}}];this._addEntitySpecificColumns(_1f33);_1f33.push({field:"Description",name:_1f2d.descriptionText,width:"200px",filterConfig:{widgetType:_1f27}});_1f33.push({field:"Category",name:_1f2d.categoryText,width:"75px"});var _1f37=function(id,obj){var _1f38=id;var _1f39=false;if(obj&&obj["$descriptor"]=="Sage.SalesLogix.Activity.Entities.ActivityAttendee"&&obj["Activity"]){_1f38=obj["Activity"]["$key"];_1f39=obj["Activity"]["Recurring"];}else{if(obj){_1f39=obj["Recurring"];}}Sage.Link.editActivity(_1f38,_1f39);};var _1f3a=this.parentRelationshipName;var _1f3b={tools:_1f32,columns:_1f33,previewField:"LongNotes",readOnly:true,rowsPerPage:20,storeOptions:{select:["ContactId","OpportunityId","AccountId","LeadId","Description","Duration","Recurring","Type","Category","Timeless"],include:["Leader","$descriptors"],resourceKind:"activities",sort:[{attribute:"StartDate"}],service:_1f2c.getSDataService("system")},slxContext:{workspace:this.workspace,tabId:this.tabId},contextualCondition:function(){var _1f3c=_1f3a;var fmt="(Type eq 'atAppointment' or Type eq 'atPhoneCall' or Type eq 'atToDo' or Type eq 'atPersonal') and ${0} eq '${1}'";if(_1f3a==="ContactId"||_1f3a==="LeadId"){_1f3c="ActivityAttendees.EntityId";}else{if(_1f3a==="AccountId"){_1f3c=_1f3a;}}return _1f29.substitute(fmt,[_1f3c,_1f1e.getCurrentEntityId(),_1f3a]);},dblClickAction:_1f37};this.onBeforeCreateGrid(_1f3b);var grid=new _1f22.Grid(_1f3b,this.placeHolder);grid._grid.store.beforeRequest=function(req){req.setQueryArg("_expandRecurrences","false");};grid.startup();var _1f3d=dijit.byId("tabContent");_1f3d.resize();_1f3d.resize();this.connections.push(dojo.subscribe("/entity/activity/create",this,this.onActivityChanges));this.connections.push(dojo.subscribe("/entity/activity/change",this,this.onActivityChanges));this.connections.push(dojo.subscribe("/entity/activity/delete",this,this.onActivityChanges));dojo.connect(grid,"destroy",this,this.destroy);this._grid=grid;},onActivityChanges:function(_1f3e){this._grid.refresh();},destroy:function(){for(var i=0;i<this.connections.length;i++){dojo.unsubscribe(this.connections.pop());}this.inherited(arguments);},_addEntitySpecificColumns:function(_1f3f){var _1f40=Sage.Services.getService("ClientEntityContext").getContext().EntityType;switch(_1f40){case"Sage.Entity.Interfaces.IAccount":case"Sage.Entity.Interfaces.IOpportunity":_1f3f.push({field:"ContactName",name:_1f2d.contactText,width:"100px",type:_1f21,idField:"ContactId",pageName:"Contact"});break;case"Sage.Entity.Interfaces.IContact":_1f3f.push({field:"OpportunityName",name:_1f2d.opportunityText,width:"100px",type:_1f21,idField:"OpportunityId",pageName:"Opportunity"});break;}},onBeforeCreateGrid:function(_1f41){}});return _1f30;});},"Sage/MainView/ActivityMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_1f42,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_1f42,nls);});},"Sage/QuickForms/Design/nls/OwnerControlDesigner":function(){define("Sage/QuickForms/Design/nls/OwnerControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1f43,lang){var nls={root:{displayNameText:"Owner"}};return lang.mixin(_1f43,nls);});},"Sage/Utility/SDataLookup":function(){define("Sage/Utility/SDataLookup",[],function(){Sage.namespace("Utility.SDataLookup");dojo.mixin(Sage.Utility.SDataLookup,{setFormatType:function(opts){switch(opts.propertyFormat){case"Phone":return Sage.UI.Columns.Phone;default:return"";}},childObjectFormatter:function(opts){var _1f44=opts.grid.grid._by_idx[opts.rowIdx].item,res,i;if(!_1f44||!_1f44[opts.childentity]||_1f44[opts.childentity].$resources.length===0){return dojo.string.substitute('<div style="text-indent:16px">${0}</div>',[opts.value||"&nbsp;"]);}opts.value=opts.value||"&nbsp;";res=[];if(opts.includeButton){res.push(dojo.string.substitute(["<input type=button id=\"SOPshow${1}\" style=\"height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:''});dojo.query('#SOPshow${1}').style({display:'none'});dojo.query('#SOPhide${1}').style({display:''})\" value=\"+\">","<input type=button id=\"SOPhide${1}\" style=\"display:none;height:16px;width:14px;border:0;background:transparent;vertical-align:top\" onclick=\"dojo.query('.SOProw${1}').style({display:'none'});dojo.query('#SOPshow${1}').style({display:''});dojo.query('#SOPhide${1}').style({display:'none'})\" value=\"-\"> "].join(""),[opts.value,opts.rowIdx]));}res.push(dojo.string.substitute('${0}<div class=SOProw${1} style="display:none">',[opts.value,opts.rowIdx]));for(i=0;i<_1f44[opts.childentity].$resources.length;i++){res.push(dojo.string.substitute('<div style="text-indent:2em">${0}</div>',[_1f44[opts.childentity].$resources[i][opts.fieldName]||"&nbsp;"]));}res.push("</div>");return res.join("");}});});},"Sage/UI/Columns/Phone":function(){define("Sage/UI/Columns/Phone",["Sage/Format","Sage/UI/Controls/Phone","Sage/UI/Columns/Cell","dojo/_base/declare"],function(_1f45,Phone,Cell,_1f46){var _1f47=_1f46("Sage.UI.Columns.Phone",Cell,{defaultValue:"",widgetClass:Phone,getWidgetProps:function(_1f48){var _1f49=this._getControlId();return dojo.mixin({},this.widgetProps||{},{id:_1f49,value:_1f48,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field});},formatter:_1f45.phone,styles:"text-align: left;",getValue:function(index){var _1f4a=this.widget.get("value");_1f4a=this.widget.unformatNumber(_1f4a);if((typeof _1f4a==="undefined")||(_1f4a==="")){_1f4a=this.defaultValue;}if(this.widget&&this.widget.focusNode.state==="Error"){return this.widget.focusNode._resetValue;}return _1f4a;}});return _1f47;});},"Sage/TaskPane/nls/JobManagerTasksTasklet":function(){define("Sage/TaskPane/nls/JobManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_1f4b,lang){var nls={root:{taskRunJob_Caption:"Create Schedule",taskEditTrigger_Caption:"Edit Schedule",taskCancelJob_Caption:"Cancel Executing Job",taskDeleteScheduledJob_Caption:"Delete Schedule"}};return lang.mixin(_1f4b,nls);});},"Sage/MailMerge/Helper":function(){define("Sage/MailMerge/Helper",["Sage/UI/Dialogs","dijit/_Widget","dojo/i18n","dojo/string","dojo/_base/lang","dojo/i18n!./nls/Helper"],function(_1f4c,_1f4d,i18n,_1f4e,dLang,nls){Sage.namespace("MailMerge.Helper");dojo.mixin(Sage.MailMerge.Helper,{desktopErrorsStore:null,infoStore:null,DesktopErrors:function(){if(this.desktopErrorsStore!=null){return this.desktopErrorsStore;}else{var sPath=Sage.MailMerge.Loader.prototype.GetClientPath();if(sPath!=null){var sUrl=_1f4e.substitute("${0}/SLXMailMergeClient.ashx?method=GetDesktopErrors",[sPath]);var _1f4f=this.GetMailMergeLoader().DecodeMailMergeJsonFromUrl(sUrl);if(_1f4f!=null){this.desktopErrorsStore=_1f4f;return this.desktopErrorsStore;}}}return null;},ExecuteWriteAction:function(_1f50,param){try{require(["Sage/MailMerge/Service"],function(){var _1f51=Sage.MailMerge.Helper.GetMailMergeService();if(_1f51){switch(_1f50){case WriteAction.waWriteAddressLabels:_1f51.WriteAddressLabels();break;case WriteAction.waWriteEmail:_1f51.WriteEmail();break;case WriteAction.waWriteEmailUsing:_1f51.WriteEmailUsing(param);break;case WriteAction.waWriteEmailUsingMore:_1f51.WriteEmailUsingMoreTemplates();break;case WriteAction.waWriteFaxUsing:_1f51.WriteFaxUsing(param);break;case WriteAction.waWriteFaxUsingMore:_1f51.WriteFaxUsingMoreTemplates();break;case WriteAction.waWriteLetterUsing:_1f51.WriteLetterUsing(param);break;case WriteAction.waWriteLetterUsingMore:_1f51.WriteLetterUsingMoreTemplates();break;case WriteAction.waWriteMailMerge:_1f51.WriteMailMerge();break;case WriteAction.waWriteTemplates:_1f51.WriteTemplates(true);break;}}});}catch(err){var _1f52="";if(this.IsSageGearsObjectError(err)){_1f52=this.DesktopErrors().SageGearsObjectError;}var _1f53=(dojo.isFunction(err.toMessage))?err.toMessage(_1f52,this.MailMergeInfoStore().ShowJavaScriptStack):err.message;_1f4c.showError(_1f4e.substitute(this.DesktopErrors().WriteActionError,[_1f53]));}},GetDesktopService:function(_1f54){return this.GetMailMergeService(_1f54);},GetMailMergeLoader:function(){if(Sage.Services.hasService("MailMergeServiceLoader")){return Sage.Services.getService("MailMergeServiceLoader");}return null;},GetMailMergeService:function(_1f55){var _1f56=true;if(typeof _1f55==="boolean"){_1f56=_1f55;}if(Sage&&Sage.Services&&Sage.gears&&Sage.gears.factory&&Sage.Services.hasService("MailMergeService")){return Sage.Services.getService("MailMergeService");}else{if(_1f56){_1f4c.showError(_1f4e.substitute("${0} ${1}",[this.DesktopErrors().MailMergeServiceLoad,this.DesktopErrors().SageGearsObjectError]));}}return null;},IsSageGearsObjectError:function(err){if(err){var _1f57="The specified class name cannot be mapped to a COM object";var _1f58=this.DesktopErrors().SageGearsClassError;if((dojo.isIE&&(err.number==-2146827287))||(err.message.indexOf(_1f57)!=-1)||(err.message.indexOf(_1f58)!=-1)){return true;}}return false;},MailMergeInfoStore:function(){if(this.infoStore!=null){return this.infoStore;}else{var sPath=Sage.MailMerge.Loader.prototype.GetClientPath();if(sPath!=null){var sUrl=_1f4e.substitute("${0}/SLXMailMergeClient.ashx?method=GetInfoStore",[sPath]);var _1f59=this.GetMailMergeLoader().DecodeMailMergeJsonFromUrl(sUrl);if(_1f59!=null){this.infoStore=_1f59;return this.infoStore;}}}return null;}});dLang.mixin(Sage.MailMerge.Helper,nls);window.WriteAction={waWriteAddressLabels:0,waWriteEmail:1,waWriteEmailUsing:2,waWriteEmailUsingMore:3,waWriteFaxUsing:4,waWriteFaxUsingMore:5,waWriteLetterUsing:6,waWriteLetterUsingMore:7,waWriteMailMerge:8,waWriteTemplates:9};return Sage.MailMerge.Helper;});},"Sage/TaskPane/UserTasklet":function(){define("Sage/TaskPane/UserTasklet",["dojo/i18n!./nls/UserTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/Utility","dojo/_base/declare","Sage/TaskPane/User/ContactUserAssociationEditor","Sage/Data/SingleEntrySDataStore","Sage/UI/Dialogs"],function(_1f5a,_1f5b,_1f5c,_1f5d,_1f5e,_1f5f,_1f60,_1f61){var _1f62=_1f5e("Sage.TaskPane.UserTasklet",[_1f5b,_1f5c],{addToRoleTitle:"Add to Role",resetUsersTitle:"Reset Users",taskItems:[],constructor:function(){dojo.mixin(this,_1f5a);this.taskItems=[{taskId:"AddToRole",type:"Link",displayName:this.addToRoleTitle,clientAction:"userTaskletActions.addUsersToRole();",securedAction:"Entities/User/Add"},{taskId:"ResetUsers",type:"Link",displayName:this.resetUsersTitle,clientAction:"userTaskletActions.resetUsers();",securedAction:"Entities/User/Add"},{taskId:"Associate Contact",type:"Link",displayName:this.associateContactTitle,clientAction:"userTaskletActions.associateContact();",securedAction:"Entities/User/AssociateUser"},{taskId:"Disassociate Contact",type:"Link",displayName:this.disAssociateContactTitle,clientAction:"userTaskletActions.disAssociateContact();",securedAction:"Entities/User/DisAssociateUser"}];},resetUsers:function(){if(_1f5d.getModeId()==="detail"){this.onResetUsersClick();}else{this.prepareSelectedRecords(this.resetUsersAction(this));}},addUsersToRole:function(){if(_1f5d.getModeId()==="detail"){this.onAddUserClick();}else{this.prepareSelectedRecords(this.actionItem(this));}},actionItem:function(self){return function(){self.onAddUserClick();};},resetUsersAction:function(self){return function(){self.onResetUsersClick();};},onAddUserClick:function(){var _1f63=dojo.byId([this.clientId,"_tskAddUserToRole"].join(""));if(_1f63){_1f63.click();}},onResetUsersClick:function(){var _1f64=dojo.byId([this.clientId,"_tskResetUsers"].join(""));if(_1f64){_1f64.click();}},associateContact:function(_1f65){var self=this;this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.singleSelectionErrorMessage);}else{if(this._selectionInfo.selectionCount>1){Sage.UI.Dialogs.showError(this.multipleSelectionErrorMessage);}else{var _1f66={"selectionInfo":this._selectionInfo,"action":_1f65};this._setupStore();this._contactUserStore.fetch({predicate:"UserId eq '"+this._selectionInfo.selectedIds[0]+"'",onComplete:function(_1f67){Sage.UI.Dialogs.showError(self.associationExistsMessage);},onError:function(){self.prepareSelectedRecords(this.associateContactActionItem(_1f66));},scope:this});}}},_setupStore:function(){if(!this._contactUserStore){this._contactUserStore=new _1f60({include:[],resourceKind:"contactUsers",service:Sage.Data.SDataServiceRegistry.getSDataService("dynamic")});}},associateContactActionItem:function(_1f68,_1f69){return function(){var _1f6a=dijit.byId("dlgContactUserAssociation");if(!_1f6a){_1f6a=new _1f5f(_1f68,_1f69);}else{_1f6a.setSelectionInfo(_1f68,_1f69);}_1f6a.show();};},disAssociateContact:function(){this._selectionInfo=this.getSelectionInfo();if(this._selectionInfo.selectionCount===0){Sage.UI.Dialogs.showError(this.noSelectionErrorMessage);}else{this.prepareSelectedRecords(this.confirmDisassociate(this));}},confirmDisassociate:function(self){return function(){var _1f6b=self.confirmDisAssociate;if(self._selectionInfo.selectionCount>1){_1f6b=self.confirmDisAssociateMultiple;}_1f61.raiseQueryDialog(self.disAssociateDialogTitle,dojo.string.substitute(_1f6b,[self._selectionInfo.selectionCount]),function(_1f6c){self.disAssociateActionItem(_1f6c,self);},self.okButtonText,self.cancelButtonText);};},disAssociateActionItem:function(_1f6d,self){if(_1f6d){self.getSelectionInfo();var _1f6e=this.selectionInfo.selectedIds.join();this._removeContactUsers(_1f6e,self._successfulContactUserDelete,self);}},_removeContactUsers:function(_1f6f,_1f70,scope){var _1f71=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _1f72=new Sage.SData.Client.SDataServiceOperationRequest(_1f71).setResourceKind("ContactUsers").setOperationName("RemoveContactUserAssociations");var entry={"$name":"RemoveContactUserAssociations","request":{"ContactUserId":null,"contactIds":null,"userIds":_1f6f}};_1f72.execute(entry,{success:function(){},failure:function(){},scope:scope||this});}});return _1f62;});},"url:Sage/UI/Controls/templates/MultiSelectPickList.html":'<div>\r\n    <input id="${id}-TextBox" data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="textNode" data-dojo-attach-event="onBlur: _onTextBlur" tabindex="${tabIndex}"/>\r\n    <div id="${id}-Button" data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point="dropDownButtonNode">\r\n        <span></span>\r\n        <div class="multiSelectPickListDialog" id="${id}-ToolTipDialog" data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="tooltipDialogNode" data-dojo-attach-event="onClose: _onTooltipClose, onShow: _onTooltipShow">\r\n            <div data-dojo-attach-point="tooltipContainer" style="height:200px; overflow-y:auto;">\r\n            \r\n            </div>\r\n            \r\n            <div style="width: 100%; text-align:right">\r\n                <p>\r\n                    <button id="${id}-OKButton" data-dojo-type="dijit.form.Button" type="submit" tabindex="${tabIndex}">${okText}</button>\r\n                <p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n',"Sage/QuickForms/Design/UrlControlDesigner":function(){define("Sage/QuickForms/Design/UrlControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","./TextBoxControlDesigner","./Editors/LayoutPropertyEditor","./Editors/TextBoxBasicPropertyEditor","./Editors/TextBoxAdvancedPropertyEditor","dojo/i18n!./nls/UrlControlDesigner"],function(_1f73,array,lang,_1f74,_1f75,_1f76,_1f77,_1f78){return _1f73("Sage.QuickForms.Design.UrlControlDesigner",[_1f74],{designSupport:{visible:true},editors:[_1f76,_1f77,_1f75],widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %} design-url" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="design-url-icon"></div>',"</div>","</div>"]),helpTopicName:"URL_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXUrl, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Url",constructor:function(){lang.mixin(this,_1f78);}});});},"url:Sage/MainView/ReportMgr/Crystal/templates/DateParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divDate" style="padding-top: 5px;">\r\n            <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtDate" displayDate="true" displayTime="false" label="From:" required="true" style="width:250px"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>',"Sage/UI/MenuBar":function(){define("Sage/UI/MenuBar",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/PopupMenuBarItem","Sage/UI/PopupMenuItem","dijit/Menu","Sage/UI/MenuBarItem","dijit/MenuSeparator","dojo/_base/declare"],function(_1f79,_1f7a,_1f7b,_1f7c,_1f7d,_1f7e,_1f7f,_1f80){var _1f81=_1f80("Sage.UI.MenuBar",[_1f79],{postMixInProperties:function(){this.store=Sage.UI.DataStore.MenuBar||{};this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var len=this.store.items?this.store.items.length:0;for(var i=0;i<len;i++){var _1f82=this.store.items[i];var mid=(_1f82.id!=="")?_1f82.id:this.id+"_"+i;var _1f83={label:_1f82.text||"...",icon:_1f82.img||this._blankGif,id:mid,title:_1f82.tooltip||_1f82.text||"",ref:_1f82.href||_1f82.navurl||"",imageClass:_1f82.imageClass||""};if(_1f82.items&&_1f82.items.length>0){var menu=new _1f7d({});this._addItemsToMenu(_1f82.items,menu,mid);_1f83["popup"]=menu;this.addChild(new _1f7b(_1f83));}else{_1f83["onClick"]=dojo.hitch(_1f83,function(){if(this.ref!==""){window.location.href=this.ref;}});this.addChild(new _1f7e(_1f83));}}},_addItemsToMenu:function(items,menu,_1f84){_1f84=_1f84||"";var len=items.length;for(var i=0;i<len;i++){var item=items[i];if(item.isspacer||item.text==="-"){menu.addChild(new _1f7f({}));}else{var _1f85={label:item.text||"...",icon:item.img||this._blankGif,title:item.tooltip||item.text||"",ref:item.href||"",imageClass:item.imageClass||""};if(item.id!==""){_1f85["id"]=_1f84+"_"+item.id;}if(item.href!==""){_1f85["onClick"]=function(){if(this.ref!==""){try{window.location.href=this.ref;}catch(e){}}};}if(item.submenu.length>0){var popup=new _1f7d({});this._addItemsToMenu(item.submenu,popup,item.id||"");_1f85["popup"]=popup;menu.addChild(new _1f7c(_1f85));}else{menu.addChild(new _1f7a(_1f85));}}}}});return _1f81;});},"Sage/MainView/main":function(){define("Sage/MainView/main",["Sage/MainView/ActivityManager","Sage/MainView/SecurityManager","Sage/MainView/ActivityMgr/ActivityCalendar","Sage/MainView/BindingsManager","Sage/MainView/Contact/ContactSearchForDuplicates","Sage/MainView/Contact/ContactUserAssociationEditor","Sage/MainView/IntegrationContract/MatchingOptionsConfig","Sage/MainView/IntegrationContract/AdvancedSearchOptions","Sage/MainView/IntegrationContract/InvoiceRTDV","Sage/MainView/IntegrationContract/SalesOrderRTDV","Sage/MainView/IntegrationContract/SalesQuoteRTDV","Sage/MainView/IntegrationContract/CustomerPaymentsRTDV","Sage/MainView/JobManager","Sage/MainView/ReportManager"],function(){});},"Sage/UI/Controls/Select":function(){define("Sage/UI/Controls/Select",["dijit/form/Select","dojo/_base/declare","dojo/has","dojo/_base/sniff","dojo/_base/connect","dojo/dom-style","dojo/query"],function(_1f86,_1f87,has,_1f88,_1f89,_1f8a,query){var _1f8b=_1f87("Sage.UI.Controls.Select",[_1f86],{_hClickBody:false,shouldPublishMarkDirty:true,autoPostBack:false,maxHeight:has("ie")?146:155,postCreate:function(){this.connect(this,"onChange",this.onChanged);this.inherited(arguments);},destroy:function(){this.inherited(arguments);},onClickBody:function(e){if(has("ie")>=9&&this._opened){this.closeDropDown();}},_setDisplay:function(_1f8c){this.inherited(arguments);this.trimDisplayValue();},onChanged:function(_1f8d){if(this.shouldPublishMarkDirty){_1f89.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.id,"");}},trimDisplayValue:function(){var nodes,i,len,node,_1f8e;_1f8e=this.focusNode.style.width;if(!_1f8e){return;}nodes=query("span",this.containerNode);len=nodes&&nodes.length;for(i=0;i<len;i++){node=nodes[i];_1f8a.set(node,{"width":_1f8e,"text-overflow":"ellipsis","overflow":"hidden"});}},closeDropDown:function(focus){if(has("ie")>=9&&this._hClickBody){_1f89.disconnect(this._hClickBody);}this.inherited(arguments);},openDropDown:function(){if(has("ie")>=9){this._hClickBody=_1f89.connect(document.body,"onclick",this,this.onClickBody);}this.inherited(arguments);}});return _1f8b;});},"Sage/QuickForms/Design/Editors/ComboBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/ComboBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/ComboBoxBasicPropertyEditor"],function(_1f8f,lang,_1f90,_1f91,_1f92,_1f93,_1f94,_1f95,_1f96,_1f97,_1f98,_1f99){return _1f8f("Sage.QuickForms.Design.Editors.ComboBoxBasicPropertyEditor",[_1f90,_1f97,_1f96],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_1f99);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/MainView/ReportMgr/Common/_WizardDialogBase":function(){define("Sage/MainView/ReportMgr/Common/_WizardDialogBase",["dojo/_base/declare","dojo/topic","dojo/_base/lang","dijit/_Widget","Sage/_Templated","Sage/MainView/ReportMgr/ReportManagerUtility","Sage/Reporting/Enumerations","dojo/i18n!./nls/_WizardDialogBase","Sage/UI/Controls/_DialogHelpIconMixin",],function(_1f9a,topic,_1f9b,_1f9c,_1f9d,_1f9e,_1f9f,_1fa0,_1fa1){var _1fa2=_1f9a("Sage.MainView.ReportMgr.Common._WizardDialogBase",[_1f9c,_1f9d],{_dialog:null,_currentStep:null,_isFirstStep:false,_isLastStep:false,_reportMetadata:null,_btnPlusIconPath:"images/icons/plus_16x16.gif",widgetsInTemplate:true,show:function(){this._dialog.show();if(this._helpIconTopic){if(!this._dialog.helpIcon){_1f9b.mixin(this._dialog,new _1fa1());this._dialog.createHelpIconByTopic(this._helpIconTopic);}}},startup:function(){this.inherited(arguments);this._initializeWizardButtons();},isValid:function(){return true;},_dialog_OnCancel:function(){this._checkCurrentStep();this._dialog.hide();topic.publish("/reportManager/reportWizard/cancel",null);},_cmdBack_OnClick:function(){this._checkCurrentStep();var _1fa3=this._getWizardStepResult();this._dialog.hide();topic.publish("/reportManager/reportWizard/previousStep",this._currentStep,_1fa3);},_cmdNext_OnClick:function(){if(this.isValid()){this._checkCurrentStep();var _1fa4=this._getWizardStepResult();this._dialog.hide();topic.publish("/reportManager/reportWizard/nextStep",this._currentStep,_1fa4);}},_cmdCancel_OnClick:function(){this._checkCurrentStep();this._dialog.hide();topic.publish("/reportManager/reportWizard/cancel",null);},_initializeWizardOptions:function(_1fa5){if(_1fa5){this._isFirstStep=_1fa5.isFirstStep;this._isLastStep=_1fa5.isLastStep;this._reportMetadata=_1fa5.reportMetadata;}},_initializeWizardButtons:function(){if(this._isFirstStep){_1f9e.setDomNodeVisible(this.cmdBack.domNode,false);}if(this._isLastStep){this.cmdNext.setLabel(_1fa0.txtFinish);}},_getWizardStepResult:function(){console.error("_getWizardStepResult must be implemented.");return null;},_checkCurrentStep:function(){if(this._currentStep===null){console.error("_currentStep has not been defined");}}});return _1fa2;});},"Sage/UI/Controls/PickList":function(){define("Sage/UI/Controls/PickList",["dojo/topic","dojo/_base/declare","dijit/_Widget","dijit/Tooltip","Sage/Data/BaseSDataStore","Sage/Utility","dijit/Tooltip","dojo/i18n!./nls/PickList","dojo/_base/lang","Sage/Utility/_LocalStorageMixin","Sage/Data/SDataServiceRegistry"],function(topic,_1fa6,_1fa7,_1fa8,_1fa9,util,_1faa,nls,lang,_1fab,_1fac){var _1fad=_1fa6("Sage.UI.Controls.PickList",[_1fa7,_1fab],{dataStore:null,storeOptions:null,pickListName:"",canEditText:false,itemMustExist:true,maxLength:-1,storeMode:"text",sort:true,displayMode:"AsControl",clientId:"",required:false,tabIndex:0,placeInNodeId:"",autoPostBack:false,controlTooltip:"",buttonTooltip:"",shouldPublishMarkDirty:true,renderAsHyperlink:false,_textId:"",_codeId:"",_picklistId:"",_defaultValueId:"",_defaultCodeId:"",_defaultPicklistId:"",_storageNameSpace:"PickListData",okText:"",missingPickListText:"",constructor:function(_1fae){this.storeOptions=_1fae.storeOptions;this.dataStore=_1fae.dataStore;this.clientId=_1fae.clientId||"";var cid=this.clientId;this._textId=cid+"_Text";this._codeId=cid+"_Code";this._picklistId=cid+"_PicklistId";this._defaultValueId=cid+"_DefaultValue";this._defaultCodeId=cid+"_DefaultCode";this._defaultPicklistId=cid+"_DefaultPicklistId";if(nls){this.okText=nls.okText;this.missingPickListText=nls.missingPickListText;}},postCreate:function(){var node=dojo.byId(this.placeInNodeId);if(node){this._setDefaultFields();dojo.place(this.domNode,node,"first");}this.inherited(arguments);},uninitialize:function(){this.inherited(arguments);},_setStore:function(_1faf){this.storeOptions={include:["items"],select:["Id","name","allowMultiples","valueMustExist","required","alphaSorted","noneEditable","modifyDate","items/text","items/code","items/number"],resourceKind:"picklists",service:_1fac.getSDataService("system",false,true,false),directQuery:{name:_1faf}};this.dataStore=new _1fa9(this.storeOptions);},_setDefaultFields:function(){if(this.required){var text=dojo.byId(this._textId);if(text&&text.value===""){var code=dojo.byId(this._codeId),_1fb0=dojo.byId(this._picklistId);var _1fb1=dojo.byId(this._defaultValueId);var _1fb2=dojo.byId(this._defaultCodeId);var _1fb3=dojo.byId(this._defaultPicklistId);text.value=_1fb1.value;code.value=_1fb2.value;_1fb0.value=_1fb3.value;}}},_setupTooltips:function(_1fb4,_1fb5){if(this.controlTooltip&&this.controlTooltip!==""&&_1fb5){var t=new _1faa({connectId:[_1fb5],label:this.controlTooltip,position:["below"]});}if(this.buttonTooltip&&this.buttonTooltip!==""&&_1fb4){var t2=new _1faa({connectId:[_1fb4],label:this.buttonTooltip,position:["below"]});}},getPickListData:function(_1fb6){var list=this.getFromLocalStorage(this.pickListName,this._storageNameSpace);if(list){this.setPicklistAttributes(list);_1fb6.callback(list);return;}this.dataStore.fetch({onComplete:lang.hitch(this,function(data){var _1fb7;if(data&&data.length>0){_1fb7=data[0];var temp=_1fb7.items.$resources;if(this.sort&&_1fb7.alphaSorted){_1fb7.items.$resources=temp.sort(function(a,b){if(a.text<b.text){return -1;}if(a.text>b.text){return 1;}return 0;});}}else{_1fb7="";}this.saveToLocalStorage(this.pickListName,_1fb7,this._storageNameSpace);this.setPicklistAttributes(_1fb7);_1fb6.callback(_1fb7);}),onError:function(e){_1fb6.errback(e);},scope:this});},setPicklistAttributes:function(_1fb8){if(_1fb8.valueMustExist){this._setItemMustExistAttr(_1fb8.valueMustExist);}},setASPNETInputs:function(_1fb9,_1fba,_1fbb){if(this._textId&&this._codeId&&this._picklistId){var text=dojo.byId(this._textId);var code=dojo.byId(this._codeId);var id=dojo.byId(this._picklistId);if(text&&code&&id){text.value=_1fb9;id.value=_1fbb;code.value=_1fba;this.invokeChangeEvent();}}},invokeChangeEvent:function(){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}if(this.autoPostBack){__doPostBack(this.clientId,"");}},_getCanEditTextAttr:function(){return this.canEditText;},_setCanEditTextAttr:function(value){this.canEditText=value;},_getItemMustExistAttr:function(){return this.itemMustExist;},_setItemMustExistAttr:function(value){this.itemMustExist=value;},_getMaxLengthAttr:function(){return this.maxLength;},_setMaxLengthAttr:function(value){this.maxLength=value;},_getStoreModeAttr:function(){return this.storeMode;},_setStoreModeAttr:function(value){this.storeMode=value;},_getPickListNameAttr:function(){return this.pickListName;},_setPickListNameAttr:function(value){this.pickListName=value;this._setStore(value);},statics:{}});return _1fad;});},"Sage/MainView/ActivityMgr/nls/ActivityEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/nls/ActivityEditorAttendeesTab",["Sage/LanguageList","dojo/_base/lang"],function(_1fbc,lang){var nls={root:{header_Name:"Name",header_AccountName:"Account/Company",header_Type:"Type",header_Primary:"Primary",header_RoleName:"Role",header_Phone:"Phone",header_Email:"Email",header_TimeZone:"Time Zone",header_Notes:"Notes",tooltip_speedSearch:"Add Participant",tooltip_AddContact:"Add Contact",tooltip_AddLead:"Add Lead",tooltip_Delete:"Delete"}};return lang.mixin(_1fbc,nls);});},"Sage/UI/nls/UserType":function(){define("Sage/UI/nls/UserType",["Sage/LanguageList","dojo/_base/lang"],function(_1fbd,lang){var nls={root:{administratorText:"Administrator",templateText:"Template",remoteText:"Remote",webOnlyText:"Web Only",retiredText:"Retired",concurrentText:"Concurrent",webViewerText:"Web Viewer",networkText:"Network",addOnUserText:"Add-on User"}};return lang.mixin(_1fbd,nls);});},"Sage/UI/Controls/CopyToClipboard":function(){require({cache:{"url:Sage/UI/Controls/templates/CopyToClipboard.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" dojoAttachPoint="dialogNode">\r\n        \r\n        <span>${helpText}</span>\r\n        <div style="width: 550px; height: 400px;">\r\n            <div data-dojo-type="dijit.layout.TabContainer" dojoAttachPoint="tabNode" style="width: 100%; height: 100%;">\r\n                <div data-dojo-type="dijit.layout.ContentPane" title="${textTab}">\r\n                    <div dojoAttachPoint="contentNode"></div>\r\n                </div>\r\n            \r\n                <div data-dojo-type="dijit.layout.ContentPane" title="${sourceTab}">\r\n                    <textarea dojoAttachPoint="textNode" data-dojo-type="dijit.form.SimpleTextarea" style="width: 100%; height: 95%;"></textarea>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n        <div style="float:right;padding-bottom:8px;">\r\n            <button data-dojo-type="dijit.form.Button" type="submit" dojoAttachEvent="onClick:_closeClicked">\r\n                ${closeText}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}});define("Sage/UI/Controls/CopyToClipboard",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/Dialog","dijit/layout/TabContainer","dijit/layout/ContentPane","dijit/form/SimpleTextarea","dijit/form/Button","dojo/_base/lang","Sage/Format","Sage/Utility","Sage/Utility/Email","Sage/Data/SDataServiceRegistry","dojo/_base/sniff","dojo/text!./templates/CopyToClipboard.html","dojo/i18n!./nls/CopyToClipboard","dojo/_base/declare"],function(_1fbe,_1fbf,_1fc0,_1fc1,_1fc2,_1fc3,_1fc4,_1fc5,lang,_1fc6,util,email,_1fc7,has,_1fc8,_1fc9,_1fca){var _1fcb=_1fca("Sage.UI.Controls.CopyToClipboard",[_1fc0,_1fbe,_1fbf],{templateString:_1fc8,widgetsInTemplate:true,textAlign:"left",calendarName:"calendar1",timeTextBoxName:"timeTextBox1",textNode:null,contentNode:null,closeText:"",dialogTitle:"",helpText:"",mashupName:"",queryName:"",service:null,template:"",entity:null,widgetTemplate:null,id:"copyToClipboard",constructor:function(_1fcc){this.service=_1fc7.getSDataService("mashups");this.inherited(arguments);},postMixInProperties:function(){lang.mixin(this,_1fc9);this.inherited(arguments);},show:function(){if(!window.clipboardData){this.dialogNode.set("title",this.dialogTitle);this.dialogNode.show();}this._readMashupFeed();},_readMashupFeed:function(_1fcd){var _1fce=new Sage.SData.Client.SDataNamedQueryRequest(this.service),_1fcf=this.mashupName||"SummaryViewQueries",_1fd0=Sage.Services.getService("ClientEntityContext"),_1fd1=_1fd0.getContext(),_1fd2=_1fd1.EntityId,self=this;_1fce.setApplicationName("$app");_1fce.setResourceKind("mashups");_1fce.uri.setCollectionPredicate("'"+this.mashupName+"'");_1fce.setQueryName("execute");_1fce.setQueryArg("_resultName",this.queryName);_1fce.setQueryArg("_ids","'"+_1fd2+"'");_1fce.read({success:dojo.hitch(self,function(data){this._mixinTemplateLocale();this.entity=data.$resources[0];this._buildTemplateWidget();this._setContentToCopy();if(_1fcd&&(typeof _1fcd==="function")){_1fcd.call(this,data);}}),failure:dojo.hitch(self,function(data){this.dialogNode.hide();})});},_mixinTemplateLocale:function(){var _1fd3=["Sage"],_1fd4=this.template.split("/"),i;for(i=0;i<_1fd4.length-1;i++){_1fd3.push(_1fd4[i]);}var path="dojo/i18n!"+_1fd3.join("/")+"/nls/"+_1fd4[_1fd4.length-1].replace(".html","");require([path],lang.hitch(this,function(nls){lang.mixin(this,nls);}));},_buildTemplateWidget:function(){var _1fd5=dojo["cache"]("Sage",this.template),temp=eval(_1fd5);this.widgetTemplate=new Simplate(temp);},_setContentToCopy:function(){var val=this.widgetTemplate.apply(this),_1fd6;this.contentNode.innerHTML=val;this.textNode.set("value",val);if(window.clipboardData){try{_1fd6=util.getPlainText(this.contentNode);window.clipboardData.setData("text",_1fd6);this.dialogNode.hide();}catch(e){}}},_closeClicked:function(_1fd7){this.onCloseClicked();},onCloseClicked:function(){},destroy:function(){var _1fd8=dijit.byId(this.dialogNode.id);if(_1fd8){setTimeout(function(){_1fd8.destroyRecursive(false);},1);this.inherited(arguments);}},OnEmailContentReady:function(_1fd9){this._readMashupFeed(function(){var _1fda=dojo.byId(_1fd9+"_to"),_1fdb=(_1fda)?_1fda.value:"",_1fdc=dojo.byId(_1fd9+"_cc"),_1fdd=(_1fdc)?_1fdc.value:"",_1fde=dojo.byId(_1fd9+"_bcc"),_1fdf=(_1fde)?_1fde.value:"",_1fe0=dojo.byId(_1fd9+"_subject"),_1fe1=(_1fe0)?_1fe0.value:"",_1fe2=util.getPlainText(this.contentNode),recip={};if(_1fdb!==""){recip.to=_1fdb;}if(_1fdd!==""){recip.cc=_1fdd;}if(_1fdf!==""){recip.bcc=_1fdf;}email.writeEmail(recip,_1fe1,_1fe2,false);});}});return _1fcb;});},"Sage/QuickForms/Design/nls/FormDesigner":function(){define("Sage/QuickForms/Design/nls/FormDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_1fe3,lang){var nls={root:{displayNameText:"Form"}};return lang.mixin(_1fe3,nls);});},"Sage/UI/UniqueToListValidationTextBox":function(){define("Sage/UI/UniqueToListValidationTextBox",["dijit/form/ValidationTextBox","dojo/_base/declare"],function(_1fe4,_1fe5){var _1fe6=_1fe5("Sage.UI.UniqueToListValidationTextBox",_1fe4,{notUniqueText:"This value already exists",uniqueList:"",_uniqueHash:{},isValid:function(_1fe7){var _1fe8=this.inherited(arguments);var value=this.get("value");return(!(value in this._uniqueHash)&&_1fe8);},_setUniqueListAttr:function(value){this.uniqueList=dojo.isString(value)?value.split(","):(dojo.isArray(value)?value:[value]);this._uniqueHash={};for(var i=0;i<this.uniqueList.length;i++){this._uniqueHash[this.uniqueList[i]]=1;}}});return _1fe6;});},"Sage/MainView/ActivityMgr/nls/ActivityCalendar":function(){define("Sage/MainView/ActivityMgr/nls/ActivityCalendar",["Sage/LanguageList","dojo/_base/lang"],function(_1fe9,lang){var nls={root:{completedText:"(Completed)"}};return lang.mixin(_1fe9,nls);});},"Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope":function(){define("Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope",["Sage/UI/SummaryContainer","dojo/i18n","Sage/UI/SummaryFormatterScope","Sage/MainView/ReportMgr/ReportsSDataDetailViewDataManager","Sage/UI/Controls/SummaryAggregate","dojo/_base/declare"],function(_1fea,i18n,_1feb,_1fec,_1fed,_1fee){var _1fef=_1fee("Sage.MainView.ReportMgr.ReportsSDataSummaryFormatterScope",[_1feb],{constructor:function(args){dojo.mixin(this,args);this.widgets=[];this.preFetchResources();this._setupDataManager();},_setupDataManager:function(){this.dataManager=new _1fec(this.requestConfiguration);if(Sage.Services.hasService("SummaryViewDataManager")){Sage.Services.removeService("SummaryViewDataManager");}Sage.Services.addService("SummaryViewDataManager",this.dataManager);}});return _1fef;});},"Sage/Utility/nls/Jobs":function(){define("Sage/Utility/nls/Jobs",["Sage/LanguageList","dojo/_base/lang"],function(_1ff0,lang){var nls={root:{errorMessage:"Sorry, an error occurred during the execution of job '${0}': ${1} ${2}.",jobCompletedSuccessfully:"The job has completed successfully.",unexpectedErrorMessage:"Sorry, an unexpected error occurred during the execution of job '${0}'.",repeatIndefinitely:"Repeat indefinitely",cancelButtonCaption:"Cancel",defaultProgressDialogTitle:"Running Job",closeButtonCaption:"Close",filtersAppliedError:"This job cannot run when filters are applied. Please clear all filters and try again."}};return lang.mixin(_1ff0,nls);});},"Sage/UI/Controls/nls/_DialogHelpIconMixin":function(){define("Sage/UI/Controls/nls/_DialogHelpIconMixin",["Sage/LanguageList","dojo/_base/lang"],function(_1ff1,lang){var nls={root:{helpTooltip:"Help"}};return lang.mixin(_1ff1,nls);});},"Sage/QuickForms/Design/ControlDesignerRegistry":function(){define("Sage/QuickForms/Design/ControlDesignerRegistry",["dojo/_base/lang","./GenericControlDesigner","./HiddenControlDesigner","./TextBoxControlDesigner","./UrlControlDesigner","./PhoneControlDesigner","./EmailControlDesigner","./CheckBoxControlDesigner","./PickListControlDesigner","./ComboBoxControlDesigner","./UserControlDesigner","./OwnerControlDesigner","./DateTimePickerControlDesigner","./DataGridControlDesigner","./NumericControlDesigner","./DataSourceDesigner","./CurrencyControlDesigner","./EditableGridControlDesigner"],function(lang,_1ff2,_1ff3,_1ff4,_1ff5,_1ff6,_1ff7,_1ff8,_1ff9,_1ffa,_1ffb,_1ffc,_1ffd,_1ffe,_1fff,_2000,_2001,_2002){var _2003={"Sage.Platform.QuickForms.Controls.QFTextBox, Sage.Platform.QuickForms":_1ff4,"Sage.Platform.QuickForms.QFControls.QFHidden, Sage.Platform.QuickForms.QFControls":_1ff3,"Sage.SalesLogix.QuickForms.QFControls.QFSLXUrl, Sage.SalesLogix.QuickForms.QFControls":_1ff5,"Sage.SalesLogix.QuickForms.QFControls.QFSLXPhone, Sage.SalesLogix.QuickForms.QFControls":_1ff6,"Sage.SalesLogix.QuickForms.QFControls.QFSLXEmail, Sage.SalesLogix.QuickForms.QFControls":_1ff7,"Sage.Platform.QuickForms.QFControls.QFCheckBox, Sage.Platform.QuickForms.QFControls":_1ff8,"Sage.SalesLogix.QuickForms.QFControls.QFSLXPickList, Sage.SalesLogix.QuickForms.QFControls":_1ff9,"Sage.Platform.QuickForms.QFControls.QFListBox, Sage.Platform.QuickForms.QFControls":_1ffa,"Sage.SalesLogix.QuickForms.QFControls.QFSLXUser, Sage.SalesLogix.QuickForms.QFControls":_1ffb,"Sage.SalesLogix.QuickForms.QFControls.QFSLXOwner, Sage.SalesLogix.QuickForms.QFControls":_1ffc,"Sage.SalesLogix.QuickForms.QFControls.QFDateTimePicker, Sage.SalesLogix.QuickForms.QFControls":_1ffd,"Sage.SalesLogix.QuickForms.QFControls.QFDataGrid, Sage.SalesLogix.QuickForms.QFControls":_1ffe,"Sage.SalesLogix.QuickForms.QFControls.QFSLXNumeric, Sage.SalesLogix.QuickForms.QFControls":_1fff,"Sage.Platform.QuickForms.QFControls.QFDataSource, Sage.Platform.QuickForms.QFControls":_2000,"Sage.Platform.QuickForms.QFControls.QFHqlDataSource, Sage.Platform.QuickForms.QFControls":_2000,"Sage.Platform.QuickForms.QFControls.QFMashupDataSource, Sage.Platform.QuickForms.QFControls":_2000,"Sage.Platform.QuickForms.QFControls.QFSDataDataSource, Sage.Platform.QuickForms.QFControls":_2000,"Sage.SalesLogix.QuickForms.QFControls.QFSLXCurrency, Sage.SalesLogix.QuickForms.QFControls":_2001,"Sage.SalesLogix.QuickForms.QFControls.SDataGrid.QFSDataGrid, Sage.SalesLogix.QuickForms.QFControls":_2002};var _2004={"ccc0f01d-7ba5-408e-8526-a3f942354b3a":_1ff4,"f4ca6023-9f5f-4e41-8571-50ba94e8f233":_1ff4,"76c537a8-8b08-4b35-84cf-fa95c6c133b0":_1ff4,"b2ed309e-ea89-4eef-8051-6244987953a4":_1ff4,"47f90249-e4c8-4564-9ae6-e1fa9904f8b8":_1fff,"f37c635c-9fbf-40d8-98d5-750a54a3cca1":_1fff,"a6bf2690-3477-4a18-9849-56abf8693934":_1fff,"2596d57d-89d6-4b72-9036-b18c64c5324c":_1fff,"6b0b3d51-0728-4b67-9473-52836a81da53":_1fff,"30053f5a-8d40-4db1-b185-1e4128eb26cc":_1ff4,"92432b4d-8206-4a96-ba7b-e4cbd374f148":_1ff8,"95ca9d52-6f0b-4a96-bd40-43583f41faf8":_1ff8,"3edc7c52-e711-431d-b150-969d88ebabf4":_1ff8,"1f08f2eb-87c8-443b-a7c2-a51f590923f5":_1ffd,"31e8638d-4232-4c61-8827-d94132a33887":_1ff7,"85f2bba5-1fb7-4ecf-941a-d98d4739c305":_1ff6,"b71918bf-fac1-4b62-9ed5-0b0294bc9900":_1ff9,"17541523-fc31-4269-ac97-df63290d0e31":_1ffc,"a3b52518-801b-44be-96bf-fdca3de84f7f":null,"517d5e69-9efa-4d0a-8e7a-1c7691f921ba":null,"189a1a4e-396c-4146-95c0-93b5d9e7d160":null,"8edd8fce-2be5-4d3d-bedd-ea667e78a8af":null,"3ca925e1-4b76-4621-a39c-a0d4cb7327d5":null,"68e04249-f7e2-4b63-90be-55fbb1f4aa77":null,"07370ef3-ad24-409f-86a8-ff2db5ee6d69":null,"5685161e-5f0a-4a36-83fe-89e8e462e9e7":_1ff5};return lang.setObject("Sage.QuickForms.Design.ControlDesignerRegistry",{fromType:_2003,fromDataType:_2004,getDesignerFor:function(entry,_2005){var name=entry&&entry["$type"];return this.fromType[name]||((_2005!==false)&&_1ff2);},getDesignerForDataType:function(_2006,_2007){return this.fromDataType[_2006]||((_2007!==false)&&_1ff4);}});});},"Sage/QuickForms/Design/Editors/nls/PickListAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/PickListAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2008,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",allowMultiplesText:"Allow Multiple Selections:",allowMultiplesTooltipText:"Allows user to select more than one item.",canEditTextText:"Can Edit Text:",canEditTextTooltipText:"Allows user to type value.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",displayModeText:"Display Mode:",displayModeTooltipText:"Mode of display of control: text box, hyperlink, or plain text.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",mustExistInListText:"Item Must Exist:",mustExistInListTooltipText:"Requires typed value to be on list.",pickListNameText:"Pick List Name:",pickListNameTooltipText:"Name of the list of values the user can select from when entering data.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",storageModeText:"Storage Mode:",storageModeTooltipText:"How the value is stored: Text, Id, or Code.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"},displayModeTypeText:{AsControl:"As Control",AsText:"As Text",AsHyperlink:"As Hyperlink"},storageModeTypeText:{Text:"Text",Id:"ID",Code:"Code"},pickListRequestErrorText:"Unable to retrieve picklists from server."}};return lang.mixin(_2008,nls);});},"Sage/UI/nls/ActivityList":function(){define("Sage/UI/nls/ActivityList",["Sage/LanguageList","dojo/_base/lang"],function(_2009,lang){var nls={root:{addMeetingText:"Schedule Meeting",addPhoneCallText:"Schedule Phone Call",addToDoText:"Schedule To-Do",helpText:"Help",completeText:"Complete",typeText:"Type",startDateText:"Date/Time",dateRangeText:"Date Range",durationText:"Duration",leaderText:"Leader",contactText:"Contact",opportunityText:"Opportunity",descriptionText:"Regarding",categoryText:"Category",firstNameText:"First Name",lastNameText:"Last Name"}};return lang.mixin(_2009,nls);});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportParametersDialog.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" title="{%= $._getDialogTitle() %}" dojoattachpoint="_dialog" dojoattachevent="onCancel:_dialog_OnCancel" style="width: 600px">\r\n        <div data-dojo-type="dijit.form.Form">\r\n            <div style="overflow:auto">\r\n                <div dojoattachpoint="paramsContainerDiv" id="paramsContainerDiv" style="height:350px; overflow:auto">\r\n                </div>\r\n            </div>\r\n            <div align="right" style="margin-top:10px">\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdBack" dojoAttachEvent="onClick:_cmdBack_OnClick" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdNext" dojoAttachEvent="onClick:_cmdNext_OnClick">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>',"Sage/UI/Alarms/nls/JobNotificationPopup":function(){define("Sage/UI/Alarms/nls/JobNotificationPopup",["Sage/LanguageList","dojo/_base/lang"],function(_200a,lang){var nls={root:{title:"Job Notifications",helpText:"Help",colNameJobName:"Type",colNameProgress:"Progress",colNameStatus:"Status",colExecutionResult:"Result"}};return lang.mixin(_200a,nls);});},"Sage/UI/Dashboard/main":function(){define("Sage/UI/Dashboard/main",["Sage/UI/Dashboard/BaseWidget","Sage/UI/Dashboard/ChartingWidget","Sage/UI/Dashboard/Dashboard","Sage/UI/Dashboard/DashboardPage","Sage/UI/Dashboard/DashboardTabController","Sage/UI/Dashboard/DashboardWidget","Sage/UI/Dashboard/DashboardWidgetCell","Sage/UI/Dashboard/WidgetDefinition"],function(){});},"Sage/UI/Filters/EditFilterItems":function(){require({cache:{"url:Sage/UI/Filters/templates/EditFilterItems.html":'<div>\r\n    <div class="filter-items-dialog" data-dojo-type="dijit.Dialog" data-dojo-props="title:\'${dialogTitle}\'" data-dojo-attach-point="dialogNode">\r\n        <div class="filter-items-search">\r\n            <label>${findItemText}</label> <input data-dojo-attach-point="textFind" data-dojo-type="dijit.form.TextBox" />\r\n            <span data-dojo-attach-point="buttonFind" title="${findText}" data-dojo-type="Sage.UI.ImageButton" data-dojo-props="imageClass: \'icon_Find_16x16\'" data-dojo-attach-event="onClick:_onFindClick"></span>&nbsp;\r\n\t\t\t<span data-dojo-attach-point="buttonClear" title="${clearText}" data-dojo-type="dijit.form.Button" data-dojo-attach-event="onClick:_onClearClick">${clearText}</span>\r\n        </div>\r\n        <div class="filter-clear-all">\r\n            <input data-dojo-attach-point="checkAll" data-dojo-type="dijit.form.CheckBox" />\r\n            <label>${selectAllText}</label>\r\n        </div>\r\n        <div class="filter-items-dialog-content" data-dojo-attach-point="contentNode">\r\n        </div>\r\n        <div class="button-bar alignright">\r\n            <button data-dojo-attach-point="buttonOK" data-dojo-attach-event="onClick:_onOKClick" data-dojo-type="dijit.form.Button">${okText}</button>\r\n            <button data-dojo-attach-point="buttonCancel" data-dojo-attach-event="onClick:_onCancelClick" data-dojo-type="dijit.form.Button">${cancelText}</button>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/UI/Filters/EditFilterItems",["dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/form/Button","Sage/UI/ImageButton","dijit/form/CheckBox","dijit/form/TextBox","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dijit/registry","Sage/UI/Controls/_DialogHelpIconMixin","Sage/Utility/Filters","dojo/json","dojo/parser","dojo/text!./templates/EditFilterItems.html","dojo/i18n!./nls/EditFilterItems"],function(_200b,_200c,_200d,_200e,_200f,_2010,_2011,_2012,_2013,array,lang,_2014,_2015,_2016,_2017,json,_2018,_2019,_201a){return _2013("Sage.UI.Filters.EditFilterItems",[_200b,_200c,_200d],{templateString:_2019,widgetsInTemplate:true,id:"editFilterItems",store:null,activeFilters:"",filter:null,checkBoxes:null,allItems:null,filterPanel:null,parent:null,formatter:null,baseFilter:"",selectAllText:"Select All",findItemText:"Find Item:",findText:"Find",clearText:"Clear",dialogTitle:"Edit Filter Items",okText:"OK",cancelText:"Cancel",count:1000,loading:false,handles:null,mainHandles:null,safeCheck:true,checkBoxTemplate:new Simplate(['<input id="{%: $.id %}" ','name="{%: $.name %}" ','data-dojo-type="dijit.form.CheckBox" ',"data-dojo-props=\"label: '{%: $.name %}'\" ",'class="editFilterCheckBox" />','<label for="{%: $.id %}">{%: $.itemName %}</label><br />']),constructor:function(_201b){this.inherited(arguments);this.checkBoxes=[];this.allItems=[];this.handles=[];this.mainHandles=[];if(_201a){this.selectAllText=_201a.selectAllText;this.clearText=_201a.clearText;this.findItemText=_201a.findItemText;this.findText=_201a.findText;this.dialogTitle=_201a.dialogTitle;this.okText=_201a.okText;this.cancelText=_201a.cancelText;}},postCreate:function(){this.inherited(arguments);this.mainHandles.push(this.textFind.on("keyDown",lang.hitch(this,this._onFindMouseDown)));this.mainHandles.push(this.checkAll.on("click",lang.hitch(this,this._onCheckAllClick)));},_onCheckAllClick:function(){if(this.safeCheck){if(this.checkAll.checked){this._onSelectAllClick();}else{this._onClearAllClick();}}},showDialog:function(){this.requestData();lang.mixin(this.dialogNode,new _2016());this.dialogNode.createHelpIconByTopic("editFilterItems");this.dialogNode.show();},hideDialog:function(){this.dialogNode.hide();},_onClearAllClick:function(){array.forEach(this.checkBoxes,function(_201c){var label=_201c.get("label"),index=array.indexOf(this.allItems,_201c.get("label"));if(index===-1){this.allItems.push(label);}_201c.set("checked",false);},this);},_onSelectAllClick:function(){array.forEach(this.checkBoxes,function(_201d){var label=_201d.get("label"),index=array.indexOf(this.allItems,_201d.get("label"));if(index>-1){this.allItems.splice(index,1);}_201d.set("checked",true);},this);},_onClearClick:function(){this.textFind.set("value","");this._onFindClick();},_onCancelClick:function(){this.textFind.set("value","");this._onFindClick();this.dialogNode.hide();this.allItems=[];},_onOKClick:function(){this.textFind.set("value","");this._onFindClick();var data=this.filterPanel._configuration._hiddenFilters||{},key=this.filterPanel._configuration._hiddenFiltersKey,_201e=Sage.Services.getService("ClientGroupContext"),_201f=_201e&&_201e.getContext(),prop=_201f.CurrentEntity+"_"+this.filter.filterName,items=[];if(!data[prop]){data[prop]={expanded:false,hidden:false};}data[prop].items=this.allItems;_2017.setHiddenFilters(key,json.stringify(data));if(this.parent){this.parent.refresh();}this.dialogNode.hide();this.allItems=[];},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_2020){_2020.remove();});this._destroyContent();this.checkBoxes=null;this.allItems=null;this.checkAll.destroy(false);this.buttonCancel.destroy(false);this.buttonOK.destroy(false);this.buttonFind.destroy(false);this.textFind.destroy(false);this.dialogNode.destroy(false);this.inherited(arguments);},requestData:function(){if(!this.loading){this._destroyContent();this.checkBoxes=[];this.activeFilters=this.store.request.getQueryArg("_activeFilter");this.store.request.setQueryArg("_activeFilter",this.baseFilter);}this.loading=true;this.store.fetch({onError:lang.hitch(this,this._onFetchError),onComplete:lang.hitch(this,this._onFetchComplete),count:this.count});},_onFindMouseDown:function(event){if(event.keyCode===13){this._onFindClick();}},_onFindClick:function(){if(!this.loading){var _2021=this.textFind.get("value");if(_2021){this.store.where='displayName like "%'+this.textFind.get("value")+'%"';}else{this.store.where="";}this.requestData();}},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_2015.findWidgets(this.contentNode),function(_2022){_2022.destroy(false);});array.forEach(this.handles,function(_2023){_2023.remove();});this.handles=[];this.checkBoxes=[];this.contentNode.innerHTML="";},_onFetchError:function(){},_onCheckClick:function(e){var self=this.self,_2024=this.checkBox,name=_2024&&_2024.get("label"),index;if(_2024.checked){index=array.indexOf(self.allItems,name);if(index>-1){self.allItems.splice(index,1);}}else{self._safeCheckAll(false);self.allItems.push(name);}},_safeCheckAll:function(_2025){this.safeCheck=false;this.checkAll.set("checked",_2025);this.safeCheck=true;},_onFetchComplete:function(items){var entry,_2026,id,_2027,_2028=[],i,len=items.length,name,_2029;for(i=0;i<len;i++){entry=items[i];_2029=entry.$descriptor;if(this.formatter){_2029=this.formatter(entry.$descriptor);}_2026=_2029+" ("+entry.value+")";id=[this.filter.filterName,i].join("_");name=entry.name&&entry.name.trim();if(name){name=name.replace("'","\\'");_2028.push(this.checkBoxTemplate.apply({id:id,name:name,itemName:_2026}));}}_2027=_2014.toDom(_2028.join(""));_2014.place(_2027,this.contentNode,"last");this._finishedLoading();},_finishedLoading:function(){if(this.activeFilters){this.store.request.setQueryArg("_activeFilter",this.activeFilters);}this._parseCheckBoxes();this.setupCheckState();this.loading=false;},_parseCheckBoxes:function(){if(!this.contentNode){return;}var _202a;_2018.parse(this.contentNode);_202a=_2015.findWidgets(this.contentNode);array.forEach(_202a,function(_202b){_202b.on("click",lang.hitch({checkBox:_202b,self:this},this._onCheckClick));this.checkBoxes.push(_202b);},this);},setupCheckState:function(){var data=this.filterPanel._configuration._hiddenFilters||{},_202c=Sage.Services.getService("ClientGroupContext"),_202d=_202c&&_202c.getContext(),prop=_202d.CurrentEntity+"_"+this.filter.filterName,_202e=this.allItems.length===0;if(data[prop]){array.forEach(this.checkBoxes,function(_202f){var _2030,_2031,label=_202f.get("label");_2030=array.indexOf(data[prop].items,label);_2031=array.indexOf(this.allItems,label);if(_2030>-1){_202f.set("checked",false);if(_2031===-1&&_202e){this.allItems.push(label);}}else{_202f.set("checked",true);}_2031=array.indexOf(this.allItems,label);if(_2031>-1){_202f.set("checked",false);}else{_202f.set("checked",true);}},this);this._safeCheckAll(this.allItems.length===0);}}});});},"Sage/MainView/ActivityMgr/AllOpenListPanelConfig":function(){define("Sage/MainView/ActivityMgr/AllOpenListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SDataSummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/i18n!./nls/ActivityListPanelConfig"],function(_2032,_2033,_2034,_2035,_2036,_2037,_2038,_2039,_203a){var _203b=_2039("Sage.MainView.ActivityMgr.AllOpenListPanelConfig",[_2032],{constructor:function(){this._nlsResources=_203a;this._listId="allOpen";this._resourceKind="activities";this.entityName="Activity";this._contextMenu="ActivityListContextMenu";this._scheduleContextMenu="ScheduleContextMenu";this._service=_2038.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._include=this._getInclude();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.list.selectionMode="single";this.summary=this._getSummaryConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/activity/change",this._onListRefresh);dojo.subscribe("/entity/activity/delete",this._onListRefresh);dojo.subscribe("/entity/activity/create",this._onListRefresh);},_onListRefresh:function(event){var _203c=Sage.Services.getService("ActivityService");_203c.refreshList("allopen");},_getSelect:function(){var _203d=["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader","RecurrenceState","Details/AttendeeCount"];return _203d;},_getInclude:function(){var _203e=["$descriptors"];return _203e;},_getSort:function(){var sort=[{attribute:"StartDate",descending:true}];return sort;},_getWhere:function(){var where="";where='(Type ne "atLiterature" )';return where;},_getStructure:function(){var _203f="<div class='Global_Images icon16x16 icon_attach_to_16' title='"+this._nlsResources.colNameAttachment+"' />";var _2040="<div class='Global_Images icon16x16 icon_recurring' title='"+this._nlsResources.colNameRecurring+"' />";var _2041="<img style='width: 16px; height: 16px' src='images/icons/Alarm_16x16.gif' title='"+this._nlsResources.colNameAlarm+"' alt='"+this._nlsResources.colNameAlarm+"' />";var _2042=this._nlsResources.colNameType||"Type";var _2043=this._nlsResources.colNameStartDate||"Start Date";var _2044=this._nlsResources.colNameDuration||"Duration";var _2045=this._nlsResources.colNameAccount||"Account";var _2046=this._nlsResources.colNameRegarding||"Regarding";var _2047=this._nlsResources.colNamePriority||"Priority";var _2048=this._nlsResources.colNameUserId||"Leader";var _2049=this._nlsResources.colNameTypeName||"Type";var _204a=this._nlsResources.colNameContactName||"Name";var _204b=this._nlsResources.colNameAssociationCount||"Participant Count";var _204c=[{field:"Alarm",name:_2041,type:_2034.activityAlarmCell,width:"20px"},{field:"Attachment",name:_203f,type:_2034.activityAttachCell,width:"20px"},{field:"Recurring",name:_2040,type:_2034.activityRecurringCell,width:"20px"},{field:"Type",name:_2042,type:_2034.activityTypeCell,width:"90px"},{field:"StartDate",name:_2043,type:_2037,timelessField:"Timeless",width:"100px"},{field:"Duration",name:_2044,type:_2034.activityDurationCell,width:"40px"},{field:"ContactId",name:_2049,type:_2034.activityNameTypeCell,width:"40px"},{field:"ContactName",name:_204a,type:_2034.activityNameCell,width:"200px"},{field:"AccountName",name:_2045,type:_2034.activityAccountCell,width:"200px"},{field:"Description",name:_2046,width:"100px"},{field:"Priority",name:_2047,width:"40px"},{field:"Leader",name:_2048,type:_2034.activityLeaderCell,width:"200px"},{field:"Details.AttendeeCount",name:_204b,width:"90px"}];return _204c;},_getDetailConfig:function(){var _204d=this._getSummaryDetailRequestConfig();var _204e={resourceKind:this._resourceKind,requestConfiguration:_204d,templateLocation:"MainView/ActivityMgr/Templates/AllOpenDetailSummary.html"};return _204e;},_getSummaryListRequestConfig:function(){var _204f={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader/$descriptor","Location","TicketId","TicketNumber","OpportunityId","OpportunityName","Notes","RecurrenceState","PhoneNumber","Details/AttendeeCount"],include:["$descriptors"],useBatchRequest:true};return _204f;},_getSummaryDetailRequestConfig:function(){var _2050={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["$key","Attachment","Timeless","Recurring","RecurIterations","Alarm","Type","StartDate","Duration","ContactName","ContactId","LeadName","LeadId","AccountName","AccountId","Description","Priority","Leader/$descriptor","Location","TicketId","TicketNumber","OpportunityId","OpportunityName","LongNotes","RecurrenceState","PhoneNumber","Details/AttendeeCount"],include:["$descriptors"],useBatchRequest:true};return _2050;},_getFormatterScope:function(){var _2051=this._getSummaryListRequestConfig();var _2052=new _2035({templateLocation:"MainView/ActivityMgr/templates/AllOpenListSummary.html",resetDataManager:true,requestConfiguration:_2051});return _2052;},_getToolBars:function(){var _2053={items:[]};return _2053;},getTimelessProperty:function(_2054){return"Timeless";}});return _203b;});},"Sage/TaskPane/main":function(){define("Sage/TaskPane/main",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/UserTasklet","Sage/TaskPane/AccountingTasksTasklet","Sage/TaskPane/ActivityManagerTasklet","Sage/TaskPane/ActivityTaskConfigurationProvider","Sage/TaskPane/ActivityTaskContents","Sage/TaskPane/ActivityTaskPaneActions","Sage/TaskPane/ActivityTaskPaneItem","Sage/TaskPane/CommonTasksTasklet","Sage/TaskPane/ContactTasksTasklet","Sage/TaskPane/GroupListTasklet","Sage/TaskPane/LeadTasksTasklet","Sage/TaskPane/LiteratureManagementTasks","Sage/TaskPane/OpportunityTasksTasklet","Sage/TaskPane/SecuredActionTasklet","Sage/TaskPane/TaskPaneContent","Sage/TaskPane/TaskPaneItem","Sage/TaskPane/SecurityManagerTasksTasklet","Sage/TaskPane/JobManagerTasksTasklet","Sage/TaskPane/ReportManagerTasksTasklet"],function(){});},"Sage/MainView/ActivityMgr/AttendeeLookup/nls/LeadLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/nls/LeadLookupConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2055,lang){var nls={root:{contactText:"Contact",accountText:"Account",lookupContactText:"Lookup Contact",nameText:"Name",cityText:"City",stateText:"State",workphoneText:"Work Phone",emailText:"Email",dialogButtonText:"Add Selected",cancelText:"Close",colFirstName:"First Name",colLastName:"Last Name",colTitle:"Title",colCompany:"Company",colWorkPhone:"Work Phone",colEmail:"Email",dialogTitleText:"Lookup Leads"}};return lang.mixin(_2055,nls);});},"Sage/QuickForms/Design/ControlDesigner":function(){define("Sage/QuickForms/Design/ControlDesigner",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","require","dojo/string","dojo/topic","dojo/dom-class","dojo/query","dijit/_Contained","./PropertyValueError","dojo/NodeList-traverse","dojo/i18n!./nls/ControlDesigner"],function(_2056,lang,array,_2057,_2058,topic,_2059,query,_205a,_205b,_205c,_205d){return _2056("Sage.QuickForms.Design.ControlDesigner",[_205a],{designSupport:{visible:true},_checked:true,entry:null,editors:null,form:null,helpTopicName:"",column:0,row:0,displayNameText:null,constructor:function(){lang.mixin(this,_205d);},set:function(name,value){var _205e=this.inherited(arguments);var names=this._getAttrNames(name),_205f=this[names.s];if(lang.isFunction(_205f)){topic.publish("/quickforms/design/designerModified",this,name,value,_205e,this);}return _205e;},_isOnDesignSurface:function(){var _2060=this._surfaceType||(this._surfaceType=_2057("./DesignSurface"));var _2061=this.getParent();return(_2061&&_2061.isInstanceOf(_2060));},_getControlIdAttr:function(){return lang.getObject("ControlId",false,this.entry);},_setControlIdAttr:function(value){lang.setObject("ControlId",value,this.entry);},_getCaptionAttr:function(){return lang.getObject("Caption",false,this.entry);},_setCaptionAttr:function(value){lang.setObject("Caption",value,this.entry);},_getCaptionAlignmentAttr:function(){return lang.getObject("CaptionAlignment",false,this.entry);},_setCaptionAlignmentAttr:function(value){lang.setObject("CaptionAlignment",value,this.entry);this.applyCaptionAlignment(value);},_getControlNameAttr:function(){return this.displayNameText;},_getEnabledAttr:function(){return lang.getObject("Enabled",false,this.entry);},_setEnabledAttr:function(value){lang.setObject("Enabled",value,this.entry);},_getFormAttr:function(){return this.form;},_getIsReadOnlyAttr:function(){return lang.getObject("IsReadOnly",false,this.entry);},_setIsReadOnlyAttr:function(value){lang.setObject("IsReadOnly",value,this.entry);},_getToolTipAttr:function(){return lang.getObject("ToolTip",false,this.entry);},_setToolTipAttr:function(value){lang.setObject("ToolTip",value,this.entry);},_getVisibleAttr:function(){return lang.getObject("Visible",false,this.entry);},_setVisibleAttr:function(value){lang.setObject("Visible",value,this.entry);this.applyVisibility(value);},_getRowAttr:function(){return lang.getObject("Row",false,this.entry);},_setRowAttr:function(value){if(value===this.get("row")){return;}if(this._checked&&this._isOnDesignSurface()){var _2062=this.getParent().validateMove(this,value,this.get("column"));if(_2062){throw new _205b(_2062,this.get("row"));}}if(this._checked&&this._isOnDesignSurface()){this.getParent().moveWidget(this,value,this.get("column"));}else{lang.setObject("Row",value,this.entry);}},_getRowSpanAttr:function(){return lang.getObject("RowSpan",false,this.entry);},_setRowSpanAttr:function(value){if(value===this.get("rowSpan")){return;}if(this._checked&&this._isOnDesignSurface()){var _2063=this.getParent().validateSize(this,value,this.get("columnSpan"));if(_2063){throw new _205b(_2063,this.get("rowSpan"));}}lang.setObject("RowSpan",value,this.entry);if(this._checked&&this._isOnDesignSurface()){this.getParent().layout(true);}},_getColumnAttr:function(){return lang.getObject("Column",false,this.entry);},_setColumnAttr:function(value){if(value===this.get("column")){return;}if(this._checked&&this._isOnDesignSurface()){var _2064=this.getParent().validateMove(this,this.get("row"),value);if(_2064){throw new _205b(_2064,this.get("column"));}}if(this._checked&&this._isOnDesignSurface()){this.getParent().moveWidget(this,this.get("row"),value);}else{lang.setObject("Column",value,this.entry);}},_getColumnSpanAttr:function(){return lang.getObject("ColumnSpan",false,this.entry);},_setColumnSpanAttr:function(value){if(value===this.get("columnSpan")){return;}if(this._checked&&this._isOnDesignSurface()){var _2065=this.getParent().validateSize(this,this.get("rowSpan"),value);if(_2065){throw new _205b(_2065,this.get("columnSpan"));}}lang.setObject("ColumnSpan",value,this.entry);if(this._checked&&this._isOnDesignSurface()){this.getParent().layout(true);}},_getDataBindingsAttr:function(){return lang.getObject("DataBindings",false,this.entry);},_setDataBindingsAttr:function(value){lang.setObject("DataBindings",value,this.entry);},findDataBinding:function(_2066){var _2067=this.get("dataBindings");if(_2067){for(var i=0;i<_2067.length;i++){if(_2066&&_2066(_2067[i])){return _2067[i];}}}return null;},unchecked:function(fn){this._checked=false;try{fn.call(this,this);}finally{this._checked=true;}},applyCaptionAlignment:function(_2068){if(!this.designCaptionNode||!this.fieldClass){return;}_2068=_2068||this.get("captionAlignment");_2059.remove(this.designCaptionNode,_2058.substitute("${0}-left ${0}-center ${0}-right",[this.fieldClass+"-caption"]));_2059.add(this.designCaptionNode,_2058.substitute("${0}-caption-${1}",[this.fieldClass,_2068]));},applyVisibility:function(_2069){if(!(this.containerNode)){return;}if(typeof _2069==="undefined"){_2069=this.get("visible");}_2059.toggle(this.containerNode,"design-visible-false",!_2069);},setupFor:function(_206a){this.entry={"$type":this.quickFormControlType,"Row":0,"RowSpan":1,"Column":0,"ColumnSpan":1};this.set("caption",_206a["displayName"]);this.set("captionAlignment","left");this.set("controlId",this.form.createUniqueId(_206a["propertyName"]));this.set("controlLabelPlacement","left");this.set("enabled",true);this.set("isReadOnly",false);this.set("toolTip","");this.set("visible",true);}});});},"Sage/UI/Alarms/AlarmPopup":function(){define("Sage/UI/Alarms/AlarmPopup",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/ContentPane","Sage/Data/WritableSDataStore","Sage/Data/SDataServiceRegistry","Sage/Utility","dojo/string","Sage/UI/Alarms/AlarmPane","Sage/UI/Alarms/UnconfirmedPane","Sage/UI/ImageButton","dojo/i18n","dojo/i18n!./nls/AlarmPopup","dojo/_base/declare"],function(_206b,_206c,_206d,_206e,_206f,_2070,_2071,_2072,_2073,_2074,_2075,i18n,_2076,_2077){var _2078=_2077("Sage.UI.Alarms.AlarmPopup",[_206d,_206b,_206c],{options:{displayPastDueInToolbar:true,displayAlertsInToolbar:true,promptAlerts:true,includeAlarms:true,includeConfirmations:true,pollInterval:1,defaultSnooze:"5"},_confirmCount:-1,_alarmCount:-1,_dataRequested:false,widgetsInTemplate:true,isOpen:false,templateString:['<div class="alarm-popup">','<div class="alarm-title"><span class="alarm-main-title">&nbsp;${title}</span></div>','<div class="alarm-title">','<span class="alarm-tab-head">&nbsp;</span>','<span dojoAttachEvent="onclick:_showAlarmPane" dojoAttachPoint="_alarmBtn" class="alarm-tab alarm-tab-selected">${alarmsText}</span>','<span dojoAttachEvent="click:_showUnconfirmedPane" dojoAttachPoint="_confBtn" class="alarm-tab">${unconfirmedText}</span>','<span class="alarm-tab-tail">&nbsp;</span>','<span class="alarm-title-tools">','<span dojoType="Sage.UI.ImageButton" id="compButton" imageClass="icon_complete_activity_16x16" title="${completeText}" dojoAttachEvent="onClick:_completeClick" dojoAttachPoint="compButton"></span>','<span dojoType="Sage.UI.ImageButton" id="delButton" imageClass="icon_Delete_16x16" title="${deleteText}" dojoAttachEvent="onClick:_deleteClick" dojoAttachPoint="delButton"></span>','<span dojoType="Sage.UI.ImageButton" imageClass="icon_Help_16x16" title="${helpText}" dojoAttachEvent="onClick:_showHelp" ></span>',"</span>","</div>",'<div data-dojo-type="dijit.layout.StackContainer" dojoAttachPoint="_panelContainer" class="alarm-body" >','<div data-dojo-type="dijit.layout.ContentPane" dojoAttachPoint="_alarmPane" class="alarm-pane" title="alarms" >','<div data-dojo-type="Sage.UI.Alarms.AlarmPane" dojoAttachPoint="_alarms" dojoAttachEvent="onAlertChanged:_alarmchange"></div>',"</div>",'<div data-dojo-type="dijit.layout.ContentPane" dojoAttachPoint="_confPane" class="alarm-pane" title="Unconfirmed">','<div data-dojo-type="Sage.UI.Alarms.UnconfirmedPane" dojoAttachPoint="_confirms" dojoAttachEvent="onAlertChanged:_confchange"></div>',"</div>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_2076);},_setOptionsAttr:function(_2079){this.options=dojo.mixin(this.options,_2079);this._alarms.setDefaultSnooze(this.options.defaultSnooze||"5");},_getOptionsAttr:function(){return this.options;},drawAlerts:function(){this._dataRequested=true;if(this.options.includeAlarms){if(!this.alarmStore){this.alarmStore=new _206f({service:_2070.getSDataService("system"),resourceKind:"useractivities",include:["Activity","User","$descriptors"],sort:[{attribute:"Activity.StartDate",descending:true}]});this._alarms.store=this.alarmStore;}this._fetchAlarms();}else{dojo.addClass(this._alarmBtn,"display-none");this._showUnconfirmedPane();}if(this.options.includeConfirmations){if(!this.confirmStore){this.confirmStore=new _206f({service:_2070.getSDataService("dynamic"),resourceKind:"usernotifications",include:["Activity","$descriptors"],select:["Type","Notes","FromUserId","ToUserId","SendDate","Activity/AccountName","Activity/AccountId","Activity/ActivityId","Activity/ContactName","Activity/ContactId","Activity/Description","Activity/Duration","Activity/LeadId","Activity/LeadName","Activity/OpportunityName","Activity/OpportunityId","Activity/Recurring","Activity/StartDate","Activity/Timeless","Activity/Type","Activity/Location","Activity/Leader","Activity/TicketId","Activity/TicketNumber"],sort:[{attribute:"Activity.StartDate",descending:true}]});this._confirms.store=this.confirmStore;}this._fetchConfirms();}else{dojo.addClass(this._confBtn,"display-none");this._showAlarmPane();}},_fetchAlarms:function(){if(this.options.includeAlarms&&this.alarmStore){var where=_2072.substitute("(User.Id eq '${0}' and Status ne 'asDeclned') and ((Alarm eq true and AlarmTime ne null and AlarmTime lt '${1}') or (Alarm eq null and AlarmTime eq null and Activity.Alarm eq true and Activity.AlarmTime lt '${1}'))",[_2071.getClientContextByKey("userID"),_2071.Convert.toIsoStringFromDate(new Date())]);this.alarmStore.fetch({query:where,count:80,start:0,onComplete:this._onAlarmRequestComplete,scope:this});}},_fetchConfirms:function(){if(this.options.includeConfirmations&&this.confirmStore){this.confirmStore.fetch({query:_2072.substitute("ToUserId eq '${0}' and Type eq 'New'",[_2071.getClientContextByKey("userID")]),count:40,start:0,onComplete:this._onConfirmRequestComplete,scope:this});}},_onAlarmRequestComplete:function(data){this._alarms._setAlertItemsAttr(data,this.isOpen);this._alarmCount=data.length;this._checkWhichVisible();},_onConfirmRequestComplete:function(data){this._confirms._setAlertItemsAttr(data,this.isOpen);this._confirmCount=data.length;this._checkWhichVisible();},_checkWhichVisible:function(){if(this._alarmCount>0&&this.options.includeAlarms){this._showAlarmPane();}else{if(this._alarmCount===0&&this._confirmCount>0&&this.options.includeConfirmations){this._showUnconfirmedPane();}}},_alarmchange:function(count){dojo.html.set(this._alarmBtn,this.alarmsText+" ("+count+") ");this._alarmCount=count;if(count<1){this._checkWhichVisible();}this.onAlertChanged();},_confchange:function(count){dojo.html.set(this._confBtn,this.unconfirmedText+" ("+count+") ");this._confirmCount=count;if(count<1){this._checkWhichVisible();}this.onAlertChanged();},onOpen:function(){this.isOpen=true;this._panelContainer.resize();if(!this._dataRequested){this.drawAlerts();}else{this._checkWhichVisible();}},onClose:function(){this.isOpen=false;this._alarms.closeTooltips();this._confirms.closeTooltips();},startup:function(){this.inherited(arguments);dojo.subscribe("/entity/activity/delete",this,this.reloadData);},reloadData:function(){this._fetchAlarms();this._fetchConfirms();},reloadAlarms:function(){this._fetchAlarms();},reloadConfirms:function(){this._fetchConfirms();},_showAlarmPane:function(){this._panelContainer.selectChild(this._alarmPane);dojo.addClass(this._alarmBtn,"alarm-tab-selected");dojo.removeClass(this._confBtn,"alarm-tab-selected");dojo.removeClass(this.compButton.domNode,"display-none");dojo.removeClass(this.delButton.domNode,"display-none");this._alarms.onShow();},_showUnconfirmedPane:function(){this._panelContainer.selectChild(this._confPane);dojo.removeClass(this._alarmBtn,"alarm-tab-selected");dojo.addClass(this._confBtn,"alarm-tab-selected");dojo.addClass(this.compButton.domNode,"display-none");dojo.addClass(this.delButton.domNode,"display-none");this._confirms.onShow();},_completeClick:function(){this._alarms.completeSelected();},_deleteClick:function(){this._alarms.deleteSelected();},_showHelp:function(){_2071.openHelp("alerts");},getAlertCount:function(){return this._alarms.getUnhandledAlertCount()+this._confirms.getUnhandledAlertCount();},onAlertChanged:function(){}});return _2078;});},"Sage/MainView/JobMgr/JobManagerActions":function(){define("Sage/MainView/JobMgr/JobManagerActions",["dojo/_base/declare","Sage/MainView/JobMgr/RunJobDialog","Sage/UI/Dialogs","dojo/i18n!./nls/JobManagerActions","dojo/string","Sage/Utility","Sage/Utility/Jobs"],function(_207a,_207b,_207c,_207d,_207e,_207f,_2080){Sage.namespace("Sage.MainView.JobMgr.JobManagerActions");dojo.mixin(Sage.MainView.JobMgr.JobManagerActions,{_getSelectedId:function(){var _2081=_207f.getSelectionInfo();if(_2081){if(_2081.selectedIds.length===1){return _2081.selectedIds[0];}}return null;},showRunJobDialog:function(isNew){var key=this._getSelectedId();if(!key){_207c.showInfo(_207d.error_NoRecordSelected);}else{var _2082=_2080.getCurrentGroupId();var _2083=dijit.byId("dlgRunJob");if(!_2083){_2083=new _207b();}var _2084=_2082==="schedules"?key:null;var _2085={key:key,currentGroupId:_2082,isNew:isNew,triggerId:_2084};_2083.show(_2085);}},deleteScheduledJob:function(){var key=this._getSelectedId();if(!key){_207c.showInfo(_207d.error_NoRecordSelected);}else{_207c.raiseQueryDialog("Saleslogix",_207d.confirm_ScheduleDeletion,function(_2086){if(_2086){var _2087=_2080.getCurrentGroupId();var _2088=Sage.Services.getService("JobService");if(_2088.deleteScheduledJob(key)){_2080.refreshList(_2087);}}},_207d.txtYes,_207d.txtNo);}},showCancelExecutionDialog:function(){var key=this._getSelectedId();if(!key){_207c.showInfo(_207d.error_NoRecordSelected);}else{var _2089={key:key,executionId:key,success:function(data){if(data&&data.status===_207d.jobStatusComplete){_207c.showInfo(_207d.completedJobMessage);}else{var _208a={title:_207d.txtInterruptExecutionTitle,query:_207e.substitute(_207d.txtInterruptExecutionConfirmationMessage,[""]),callbackFn:function(_208b){if(_208b===true){var _208c={key:key,success:function(_208d){_207c.showInfo(_207d.txtInterruptExecutionMessage,_207d.txtInterruptExecutionTitle);},failure:function(xhr){}};_208e.interruptExecution(_208c);}},yesText:_207d.txtYes,noText:_207d.txtNo,icon:"warningIcon"};_207c.raiseQueryDialogExt(_208a);}},failure:function(xhr){return true;}};var _208e=Sage.Services.getService("JobService");_208e.getExecution(_2089);}}});return Sage.MainView.JobMgr.JobManagerActions;});},"Sage/QuickForms/Design/Editors/CheckBoxBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CheckBoxBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CheckBoxBasicPropertyEditor"],function(_208f,lang,_2090,_2091,_2092,_2093,_2094,_2095,_2096,_2097,_2098){return _208f("Sage.QuickForms.Design.Editors.CheckBoxBasicPropertyEditor",[_2090,_2096,_2095],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_2098);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/MainView/JobMgr/JobManagerGroupContextService":function(){define("Sage/MainView/JobMgr/JobManagerGroupContextService",["Sage/Groups/BaseGroupContextService","dojo/string","Sage/Data/SDataServiceRegistry","dojo/_base/lang","Sage/MainView/JobMgr/ExecutionsListPanelConfig","Sage/MainView/JobMgr/JobDefinitionsListPanelConfig","Sage/MainView/JobMgr/SchedulesListPanelConfig","dojox/storage/LocalStorageProvider","dojo/_base/declare","dojo/i18n!./nls/JobManagerGroupContextService"],function(_2099,_209a,_209b,lang,_209c,_209d,_209e,_209f,_20a0,_20a1){var _20a2=_20a0("Sage.MainView.JobMgr.JobManagerGroupContextService",_2099,{_currentContext:null,_currentTabId:false,_currentTabDescription:false,_currentUserId:false,_currentKeyField:"$key",_currentListConfiguration:false,groupConfigTypes:[{key:"executions",descriptor:_20a1.executionsTabDisplayName,keyField:"$key",configProviderType:_209c},{key:"jobDefinitions",descriptor:_20a1.jobDefinitionsTabDisplayName,keyField:"$key",configProviderType:_209d},{key:"schedules",descriptor:_20a1.schedulesTabDisplayName,keyField:"$key",configProviderType:_209e}],_configsHash:false,_LOCALSTORE_NAMESPACE:"JobManagerView",_STORE_KEY_LASTAB:"_LASTTAB",_tabNameCache:{},constructor:function(){this.inherited(arguments);this._currentContext={};dojo.mixin(this._currentContext,this._emptyContext);this._currentContext.CurrentTableKeyField="$key";this._currentContext.AppliedFilterInfo={};this._currentContext.CurrentFamily=null;this._currentContext.notGroupBased=true;var _20a3=this._getDefaultTabId();this.setContext(_20a3,"default");this.unsubscribeConnects();this._subscribes=[];this._subscribes.push(dojo.subscribe(_209a.substitute("/ui/filters/default/refresh"),this,this._onDefaultFilterRefresh));this._onDefaultFilterLoad();},buildCurrentEntityContext:function(){var _20a4=this._currentContext.CurrentGroupID;if(!_20a4){return;}if(this._currentListConfiguration){this._currentContext.CurrentEntity=this._currentListConfiguration.entityName;this._currentContext.CurrentTableKeyField=this.getKeyField(_20a4);if(!this._currentContext.CurrentName){this._currentContext.CurrentName=this.getGroupName(_20a4);}}},_ensureConfigsHash:function(){if(!this._configsHash){var hash={};for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];hash[cfg.key]=lang.mixin(cfg,{instance:false});}this.configsHash=hash;}},_setListConfig:function(){this._ensureConfigsHash();var tabId=this._currentContext.CurrentGroupID;var _20a5=(this.configsHash.hasOwnProperty(tabId))?this.configsHash[tabId]:this.configsHash["groups"];if(!_20a5.instance){_20a5.instance=new _20a5.configProviderType();this.onTabConfigCreated(_20a5.instance);}else{_20a5.instance.rebuild();}this._currentListConfiguration=_20a5.instance;var _20a6=Sage.Services.getService("JobService");var _20a7=_20a6.getSchedulingSDataService();this._currentListConfiguration.list.service=_20a7;return;},getCurrentListConfig:function(){this._setListConfig();return this._currentListConfiguration;},getKeyField:function(tabid){this._ensureConfigsHash();var _20a8="$key";if(this.configsHash[tabid]){_20a8=this.configsHash[tabid]["keyField"]||"$key";}return _20a8;},getGroupName:function(tabid){this._ensureConfigsHash();var name="default";if(this.configsHash[tabid]){name=this.configsHash[tabid]["descriptor"]||"default";}return name;},onCurrentGroupChanged:function(_20a9){var self=this;dojo.publish("/group/context/changed",[_20a9,this]);this._clearFilterManager();this._onDefaultFilterLoad(function(){var _20aa=self.getContext();self._saveToLocalStorage(self._STORE_KEY_LASTAB,_20aa.CurrentGroupID);});},_clearFilterManager:function(){var _20ab={};var _20ac={};dojo.publish("/ui/filters/default/apply",[_20ab,_20ac,this]);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}this.buildCurrentEntityContext();return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._setListConfig();this.buildCurrentEntityContext();this._isRetrievingContext=false;this.onContextSet(this._currentContext);},isContextRequired:function(){return !(Sage&&Sage.Groups&&Sage.Groups._groupContext);},setCurrentGroup:function(id,name,_20ad){if(this._currentContext.CurrentGroupID===id){return;}if(!name||!_20ad){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=false;this.buildCurrentEntityContext();name=this._currentContext.CurrentName;}else{this._currentContext.CurrentTableKeyField=_20ad;}this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});},_onDefaultFilterLoad:function(_20ae){},_onDefaultFilterRefresh:function(_20af,_20b0,_20b1){var _20b2=this.getContext(),_20b3=_209b.getSDataService("system"),entry={"$name":"applyFilterToEntity","request":{"entityName":_20b2.CurrentEntity,"filter":dojo.toJson(_20b1.createValueSet()),"key":_20b2.CurrentGroupID}},_20b4=new Sage.SData.Client.SDataServiceOperationRequest(_20b3).setOperationName("applyFilterToEntity");_20b4.execute(entry,{});},getStaticTabs:function(){return this.groupConfigTypes;},_saveToLocalStorage:function(key,value,_20b5){this._saveToSessionStorage(key,value,_20b5);return;},_getFromLocalStorage:function(key,_20b6){return this._getFromSessionStorage(key,_20b6);},_getFromSessionStorage:function(key,_20b7){if(!_20b7){_20b7=this._LOCALSTORE_NAMESPACE;}var _20b8=_20b7+"_"+key;return sessionStorage.getItem(_20b8);},_saveToSessionStorage:function(key,value,_20b9){if(!_20b9){_20b9=this._LOCALSTORE_NAMESPACE;}var _20ba=_20b9+"_"+key;sessionStorage.setItem(_20ba,value);},_getDefaultTabId:function(){var _20bb="executions";var _20bc=this._getUrlTabId();if(_20bc){_20bc=this._validateTabId(_20bc);if(_20bc){return _20bc;}}var _20bd=this._getFromLocalStorage(this._STORE_KEY_LASTAB);if(_20bd){_20bb=_20bd;}if(!this._configsHash){for(var i=0;i<this.groupConfigTypes;i++){if(_20bb===this.groupConfigTypes[i]["key"]){return _20bb;}}}return _20bb;},_getUrlTabId:function(){var tabId=false,_20be="[\\?&]tabId=([^%#]*)",regex=new RegExp(_20be),_20bf=regex.exec(window.location.href);if(_20bf!==null){tabId=_20bf[1];}return tabId;},_validateTabId:function(tabId){if(tabId){for(var i=0;i<this.groupConfigTypes.length;i++){var cfg=this.groupConfigTypes[i];if(cfg.key.toUpperCase()===tabId.toUpperCase()){return cfg.key;}}}return null;},onTabConfigCreated:function(_20c0){}});if(!Sage.Services.hasService("ClientGroupContext")){Sage.Services.addService("ClientGroupContext",new _20a2());}else{var _20c1=Sage.Services.getService("ClientGroupContext");if(_20c1.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){_20c1.unsubscribeConnects();Sage.Services.removeService("ClientGroupContext");Sage.Services.addService("ClientGroupContext",new _20a2());}}return _20a2;});},"Sage/QuickForms/Design/Editors/RowBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/RowBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dojox/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/RowBasicPropertyEditor"],function(_20c2,lang,_20c3,_20c4,_20c5,_20c6,_20c7,_20c8,_20c9,_20ca,_20cb){return _20c2("Sage.QuickForms.Design.Editors.RowBasicPropertyEditor",[_20c3,_20c9,_20c8],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.indexTooltipText %}">',"<label>{%= $.indexText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_index" data-dojo-attach-event="onChange:_onIndexChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_index:null,titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",constructor:function(){lang.mixin(this,_20cb);},setup:function(){this.inherited(arguments);this._index.set("value",this._designer.get("index"));},_onIndexChange:function(value){}});});},"Sage/UI/ListPanel":function(){define("Sage/UI/ListPanel",["dojo/i18n","dijit/layout/BorderContainer","dijit/layout/StackContainer","dijit/layout/ContentPane","dijit/Toolbar","dijit/ToolbarSeparator","dojox/grid/EnhancedGrid","Sage/_Templated","Sage/UI/Filters/FilterManager","Sage/UI/ToolBarLabel","dijit/Menu","dojox/grid/enhanced/plugins/Menu","Sage/Utility","dojox/storage/LocalStorageProvider","Sage/UI/_DetailPane","dijit/_Widget","dojox/grid/enhanced/plugins/IndirectSelection","Sage/UI/Grid/Plugins/ShowHideColumns","dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/i18n!./nls/ListPanel","dojo/_base/sniff","dojo/dom-geometry","dijit/registry","dojo/_base/connect","dojo/ready"],function(i18n,_20cc,_20cd,_20ce,_20cf,_20d0,_20d1,_20d2,_20d3,_20d4,_20d5,_20d6,util,_20d7,_20d8,_20d9,_20da,_20db,array,lang,_20dc,_20dd,has,_20de,_20df,_20e0,ready){var _20e1=_20dc("Sage.UI.ListPanel",[_20cc,_20d9,_20d2],{widgetsInTemplate:true,contentTemplate:new Simplate(["{%! $.menuTemplate %}","{%! $.listTemplate %}","{%! $.detailTemplate %}"]),listTemplate:new Simplate(['<div data-dojo-type="dijit.layout.StackContainer" region="center" splitter="true" data-dojo-attach-point="_gridContainer">','<div data-dojo-type="dijit.layout.ContentPane" data-dojo-attach-point="_noConfigurationPane"></div>','<div id="{%= $.id %}_listGrid" columnReordering="true" class="listGrid" data-dojo-type="{%= $.gridType %}" data-dojo-attach-point="_listGrid" plugins="{menus:{selectedRegionMenu:\'_listContextmenu\', rowMenu:\'_listContextmenu\'}, indirectSelection: {%: $._indirectSelection%}, showHideColumns: true}" dojoAttachEvent="onRowClick:_onRowClick,onRowContextMenu:_onRowContextMenu,onSelected:_onSelectedInList,onSelectionChanged:_onSelectionChanged,onResizeColumn:_onResizeColumn,onHeaderCellClick:_onHeaderCellClick,onCellClick:_onCellClick,onRowDblClick:_onRowDblClick">','<div data-dojo-type="dijit.Menu" id="_listContextmenu" dojotAttachPoint="_listContextmenu" style="display:none" ></div>',"</div>",'<div id="{%= $.id %}_summaryGrid" class="summaryGrid" data-dojo-type="{%= $.gridType %}" selectionMode="none" data-dojo-attach-point="_summaryGrid" dojoAttachEvent="onRowClick:_onRowClick,onRowContextMenu:_onRowContextMenu,onSelected:_onSelectedInSummary,onSelectionChanged:_onSelectionChanged"></div>',"</div>"]),menuTemplate:new Simplate(['<div data-dojo-type="dijit.Toolbar" region="top" splitter="false" id="{%= $.id %}_toolbar" style="{%= $.toolbarStyle %}" data-dojo-attach-point="_tbar" class="list-panel-tbar right-tools">','<div data-dojo-type="Sage.UI.ToolBarLabel" label="" data-dojo-attach-point="_tbarLabel" class="list-panel-left-tools"></div>','<div data-dojo-type="Sage.UI.ToolBarLabel" label="" data-dojo-attach-point="_tbarOverflowLabel" class="list-panel-left-tools" style="display:none;"></div>','<div data-dojo-type="Sage.UI.ToolBarLabel" label="{%= $.unsavedDataText %}" data-dojo-attach-point="_unsavedDataLabel" class="display-none"></div>','<div data-dojo-type="Sage.UI.ToolBarLabel" label="" data-dojo-attach-point="_filterSummary" class="filter-summary-view"></div>','<div data-dojo-type="dijit.form.Button" showLabel="true" id="{%= $.id %}_detailBtn" data-dojo-attach-point="_detailButton" dojoAttachEvent="onClick:toggleDetail" class="list-panel-tool-detail">{%= $.detailText %}</div>','<span data-dojo-type="dijit.ToolbarSeparator" data-dojo-attach-point="_buttonSection" class="list-panel-tool-section"></span>','<div data-dojo-type="dijit.form.Button" showLabel="true" id="{%= $.id %}_listBtn" data-dojo-attach-point="_listButton" dojoAttachEvent="onClick:showList" class="list-panel-tool-list">{%= $.listText %}</div>','<div data-dojo-type="dijit.form.Button" showLabel="true" id="{%= $.id %}_summaryBtn" data-dojo-attach-point="_summaryButton" dojoAttachEvent="onClick:showSummary" class="list-panel-tool-summary">{%= $.summaryText %}</div>','<div data-dojo-type="Sage.UI.ImageButton" iconClass="Global_Images icon16x16 icon_refresh"  tooltip="{%: $.refreshText %}" id="refreshBtn" data-dojo-attach-point="_refreshButton" dojoAttachEvent="onClick:refreshView" class="list-panel-tool-help"></div>','<div data-dojo-type="Sage.UI.ImageButton" iconClass="Global_Images icon16x16 icon_Help_16x16" tooltip="{%: $.helpText %}" id="helpBtn" data-dojo-attach-point="_helpButton" dojoAttachEvent="onClick:showHelp" class="list-panel-tool-help"></div>',"</div>"]),detailTemplate:new Simplate(['<div data-dojo-type="{%= $.detailType %}" region="{%= $.detailRegion %}" splitter="true" style="{%= $.detailStyle %}" data-dojo-attach-point="_detailPane">',"</div>"]),_filterGroup:null,_filterSubscriptions:null,_filterManager:null,_toolbarApplied:false,_configurationProvider:null,_configurationConnects:null,_contextConnects:null,_dataChangeWatchers:[],_gridContainer:null,_noConfigurationPane:null,_listGrid:null,_indirectSelection:"",_summaryGrid:null,_detailPane:null,_tbar:null,_tbarCustom:false,_tbarLabel:null,_buttonSection:null,_detailButton:null,_listButton:null,_summaryButton:null,_helpButton:null,_filterSummary:null,_unsavedDataLabel:null,_forcedFilterPublish:false,_listMode:"list",helpTopicName:"listview",gutters:false,toolbarStyle:"",gridType:"dojox.grid.EnhancedGrid",initialGrid:"list",filterGroup:"default",detailVisible:false,detailOnSummary:false,detailRegion:"bottom",detailStyle:"height: 256px;",detailType:"dijit.layout.ContentPane",autoConfigure:true,hasCheckBox:false,autoFitColumns:true,listText:"List",summaryText:"Summary",detailText:"Detail",hideDetailText:"Hide Detail",unsavedDataText:"*unsaved data",helpText:"Help",refreshText:"Refresh",ofText:"of",FILTER_UPDATE_DELAY:1000,STORE_KEY_COLUMN_SIZE:"_COLUMN_UNIT_WIDTH_",STORE_KEY_SORT_INFO:"_GRID_SORT_PROPS_",STORE_KEY_LAYOUT_INFO:"_GRID_LAYOUT_PROPS_",STORE_KEY_TOGGLE_INFO:"_GRID_TOTTLE_PROPS_",STORE_KEY_STORE_QUERY:"_STORE_QUERY_",STORE_KEY_VIEWSTATE:"LISTPANEL_VIEWSTATE",RECORD_WARNING_SIZE:30000,constructor:function(){this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);lang.mixin(this,_20dd);this._setupCheckBox();this._setupAutoFit();},postCreate:function(){this.inherited(arguments);if(this._listGrid){this.connect(this._listGrid.scroller,"scroll",this._onListScroll);this.connect(this._summaryGrid.scroller,"scroll",this._onSummaryScroll);this._listGrid.canSort=function(col){var cells=this.layout.cells;var cell=cells[Math.abs(col)-1];if(cell.nosort){return false;}return true;};this._listGrid.columnReordering=true;this._listGrid.selectionMode="extended";dojo.connect(this._listGrid,"onMoveColumn",this,function(type,_20e2,cols){var cells=this._listGrid.layout.cells,_20e3=[],i=0,key="";for(i=0;i<cells.length;i++){if(cells[i].field){_20e3.push(cells[i].field);}}key=this._getGridLayoutKey();this._saveToLocalStorage(key,_20e3);});dojo.subscribe("/sage/ui/grid/columnToggle/"+this._listGrid.id,dojo.hitch(this,function(cell){var cells=this._listGrid.layout.cells,_20e4=[],i=0,key="";for(i=0;i<cells.length;i++){_20e4.push({field:cells[i].field,hidden:cells[i].hidden});}key=this._getGridColumnToggleKey();this._saveToLocalStorage(key,_20e4);}));}this._gridContainer.selectChild(this._noConfigurationPane);if(this._detailPane.isInstanceOf(_20d8)){this._detailPane.set("owner",this);}this._setDetailPaneVisibility(false);if(this._tbarOverflowLabel){this._tbarOverflowLabel.set("label",_20dd.overflowText);}this._updateToolbarItemVisibility();},startup:function(){this.inherited(arguments);if(this.autoConfigure){this.requestConfiguration();}},uninitialize:function(){this.inherited(arguments);if(this._filterManager){this._filterManager.destroy();}if(this._configurationProvider){this._configurationProvider.destroy();}},getAppliedFilterCount:function(){return this._filterManager&&this._filterManager.getAppliedFilterCount();},_setupCheckBox:function(){var _20e5=Sage.Services.getService("UserOptions");this._indirectSelection="false";if(_20e5&&_20e5.get){_20e5.get("GroupCheckboxEnabled","GroupGridView",lang.hitch(this,function(data){var _20e6=data&&data.value;if(_20e6==="True"||_20e6==="T"){this._indirectSelection="{ draggable: false}";this.hasCheckBox=true;}else{this.hasCheckBox=false;}}),null,this,false);}},_setupAutoFit:function(){var _20e7=Sage.Services.getService("UserOptions");if(_20e7&&_20e7.get){_20e7.get("autoFitColumns","GroupGridView",lang.hitch(this,function(data){var val=data&&data.value;if(val==="True"||val==="T"){this.autoFitColumns=true;}else{this.autoFitColumns=false;}}),null,this,false);}},_setSortInfo:function(store){var key=this._getGridSortKey(),_20e8=this._getFromLocalStorage(key);if(_20e8){if(_20e8.descending){this._listGrid.sortInfo=(_20e8.cellIndex+1)*-1;}else{this._listGrid.sortInfo=_20e8.cellIndex+1;}store.sort=[_20e8];}else{this._listGrid.sortInfo=0;}},_setSummarySortInfo:function(store){var key=this._getGridSortKey(),_20e9=this._getFromLocalStorage(key);if(_20e9){store.sort=[_20e9];}},_setColumnSizes:function(_20ea){var cells=_20ea;if(_20ea[0].cells){cells=_20ea[0].cells[0];}array.forEach(cells,function(item){if(item&&item.field){var key=this._getColumnSizeKey(item.field),value=this._getFromLocalStorage(key);if(value){item.width=value;}}},this);},_doAutoFitColumns:function(){if(!this.autoFitColumns){return;}var _20eb=this._listGrid.get("structure"),cells=_20eb,_20ec=0,_20ed,_20ee,_20ef=0;if(_20eb&&_20eb[0].cells){cells=_20eb[0].cells[0];}array.forEach(cells,function(item){if(item&&item.field){var key=this._getColumnSizeKey(item.field),value=this._getFromLocalStorage(key);if(value){item.width=value;}if(!this._isFieldHidden(item.field)){_20ec+=parseInt(item.width,10);}}},this);_20ed=_20de.getContentBox("list");_20ee=_20ed.w;if(this.hasCheckBox){_20ef=200;}else{_20ef=155;}_20ee=_20ee-_20ef;array.forEach(cells,function(item){var width,pct,_20f0;if(item&&item.field&&!this._isFieldHidden(item.field)){width=parseInt(item.width,10);pct=width/_20ec;_20f0=Math.round(_20ee*pct);item.width=_20f0+"px";}},this);this._listGrid.set("structure",_20eb);this._updateColumnVisibility();},_updateStructureFromLocalStore:function(){var key=this._getGridLayoutKey(),_20f1=this._listGrid.structure,_20f2=this._getFromLocalStorage(key),cells;if(_20f2){cells=_20f1[0].cells[0];if(cells){cells.sort(function(a,b){var _20f3=array.indexOf(_20f2,a.field),_20f4=array.indexOf(_20f2,b.field);if(_20f3>_20f4){return 1;}if(_20f3<_20f4){return -1;}return 0;});}this._listGrid.set("structure",_20f1);}this._updateColumnVisibility();},_isFieldHidden:function(field){var _20f5,_20f6,_20f7;_20f5=this._getGridColumnToggleKey();_20f6=this._getFromLocalStorage(_20f5);_20f7=false;if(_20f6){array.forEach(_20f6,lang.hitch(this,function(item){if(item.field===field){_20f7=item.hidden;}}));}return _20f7;},_updateColumnVisibility:function(){var _20f8,_20f9;_20f8=this._getGridColumnToggleKey();_20f9=this._getFromLocalStorage(_20f8);if(_20f9){array.forEach(this._listGrid.layout.cells,lang.hitch(this,function(cell){array.forEach(_20f9,lang.hitch(this,function(item){if(item.field===cell.field){this._listGrid.layout.setColumnVisibility(cell.index,!item.hidden);}}));}));}},_handleConfigurationChange:function(){this._listGrid.selection.clear();if(this._detailPane){this._detailPane.clear();}this.requestConfiguration();},_setConfigurationProviderAttr:function(value){if(this._configurationConnects){array.forEach(this._configurationConnects,function(_20fa){this.disconnect(_20fa);},this);}if(this._configurationProvider&&this._configurationProvider!==value){this._configurationProvider.destroy();}this._configurationProvider=value;this._configurationConnects=[];if(this._configurationProvider){this._configurationConnects.push(this.connect(this._configurationProvider,"onConfigurationChange",this._handleConfigurationChange));this._configurationProvider.set("owner",this);if(this._created){if(this.autoConfigure){this.requestConfiguration();}}}},_getConfigurationProviderAttr:function(){return this._configurationProvider;},_setFilterGroupAttr:function(value){if(this._filterSubscriptions){array.forEach(this._filterSubscriptions,function(_20fb){this.unsubscribe(_20fb);},this);}this._filterGroup=value;this.set("filterManager",new _20d3({filterGroup:this._filterGroup}));this._filterSubscriptions=[];this._filterSubscriptions.push(this.subscribe(dojo.string.substitute("/ui/filters/${0}/change",[this._filterGroup]),this._onFilterChange));var _20fc=util.debounce(lang.hitch(this,this._onFilterRefresh),this.FILTER_UPDATE_DELAY);this._filterSubscriptions.push(this.subscribe(dojo.string.substitute("/ui/filters/${0}/refresh",[this._filterGroup]),_20fc));this._ensureApplyFilterWasPublished();},_ensureApplyFilterWasPublished:function(_20fd){if(this._forcedFilterPublish){return;}var _20fe,_20ff;_20fe=Sage.Services.getService("ClientGroupContext");_20ff=_20fe&&_20fe.getContext();if(_20ff&&_20ff.AppliedFilterInfo){_20fe.publishFiltersApplied(_20ff.AppliedFilterInfo);}if(this._filterManager&&_20fd&&_20fe.applyFilters){_20fe.applyFilters(this._filterManager);}this._forcedFilterPublish=true;},_getFilterGroupAttr:function(){return this._filterGroup;},_setFilterManagerAttr:function(value){if(this._filterManager&&this._filterManager!==value){this._filterManager.destroy();}this._filterManager=value;if(this._filterManager){this._filterManager.set("owner",this);}},_getFilterManagerAttr:function(){return this._filterManager;},_onFilterChange:function(){},_onFilterRefresh:function(_2100,_2101,_2102){this._listGrid.selection.clear();if(this._detailPane){this._detailPane.clear();}var query=_2102.createQuery(),key=this._getStoreQueryKey();if(this._listMode==="summary"&&this._hasConfigurationForSummary()){this._summaryGrid.queryOptions=this._summaryGrid.queryOptions||{};this._summaryGrid.filter(query);}else{this._listGrid.queryOptions=this._listGrid.queryOptions||{};this._listGrid.queryOptions.httpMethodOverride=!!query;this._listGrid.filter(query,true);}this._saveToLocalStorage(key,{store:this._listGrid.store,query:query});},_setConfigurationAttr:function(_2103){this._applyConfiguration(_2103);},_getListAttr:function(){return this._listGrid;},_getSummaryAttr:function(){return this._summaryGrid;},_getDetailAttr:function(){return this._detailPane;},_applyConfigurationFailed:function(_2104){dojo.publish("/listView/applyConfiguration",this);},_applyConfiguration:function(_2105){this._forcedFilterPublish=false;dojo.publish("/listView/applyConfiguration",this);var key=this._getViewStateKey(),state=this._getFromLocalStorage(key,this._getViewNS());if(state){this.initialGrid=state;}this._configuration=_2105;this._gridContainer.selectChild(this._noConfigurationPane);if(this.initialGrid==="list"&&this._hasConfigurationForList()){this.showList();}if(this._hasConfigurationForSummary()){this._configuration.summary.active=false;}if(this.initialGrid==="summary"&&this._hasConfigurationForSummary()){if(this._gridContainer.selectedChildWidget===this._noConfigurationPane){this.showSummary();}}this._applyToolBar();if(this._configuration&&this._configuration.list&&this._configuration.list.selectionMode&&this._configuration.list.selectionMode==="single"){this._listGrid.selection.setMode("single");}else{if(this._configuration&&this._configuration.list&&this._configuration.list.selectionMode&&this._configuration.list.selectionMode==="none"){this._listGrid.selection.setMode("none");}else{this._listGrid.selection.setMode("extended");}}},_applyToolBar:function(){var _2106,i,items;if(this._tbarCustom){_2106=this._tbar.getChildren();for(i=0;i<_2106.length;i++){if(_2106[i].custom){this._tbar.removeChild(_2106[i]);}}this._tbarCustom=false;}if(this._toolbarApplied&&!this._configuration.updateToolBar){return;}if(this._configuration&&this._configuration.toolBar){items=this._configuration.toolBar.items||[];if(items.length>0){this._tbarCustom=true;}for(i=0;i<items.length;i++){if(items[i].icon||items[i].imageClass){this._tbar.addChild(new Sage.UI.ImageButton(items[i]),i);}else{this._tbar.addChild(new dijit.form.Button(items[i]),i);}}}this._toolbarApplied=true;},_setDetailPaneVisibility:function(value){if(value){if(this._hasConfigurationForDetail()&&!this._isConfigurationActiveForDetail()){if(this._detailPane.isInstanceOf(_20d8)){this._detailPane.set("configuration",this._configuration.detail);}this._configuration.detail.active=true;}this._detailButton.set("label",this.hideDetailText);this.addChild(this._detailPane);var _2107=this._getSelection(0);if(_2107){this._detailPane._onSelected(_2107.rowIndex,_2107,this._listGrid);}else{this._detailPane.clear();}}else{this._detailButton.set("label",this.detailText);this.removeChild(this._detailPane);}},_getSelection:function(index){var sels=this._listGrid.selection.getSelected();var _2108=null;for(var i=0;i<sels.length;i++){if(index==i){_2108=sels[i];return _2108;}}return _2108;},_updateToolbarItemVisibility:function(){dojo.toggleClass(this.domNode,"list-panel-has-summary",this._canShowSummaryLink());dojo.toggleClass(this.domNode,"list-panel-has-detail",this._canShowDetailPane());},_canShowSummaryLink:function(){return(this._hasConfigurationForSummary()||(this._configurationProvider&&this._configurationProvider.summaryOptions));},_canShowDetailPane:function(){return(this._hasConfigurationForDetail()&&((this._gridContainer.selectedChildWidget!==this._summaryGrid)||this.detailOnSummary));},_shouldShowDetailPane:function(){return(this._canShowDetailPane()&&this.detailVisible);},_hasConfigurationForList:function(){return(this._configuration&&this._configuration.list);},_hasConfigurationForSummary:function(){return(this._configuration&&this._configuration.summary);},_hasConfigurationForDetail:function(){return(this._configuration&&this._configuration.detail);},_isConfigurationActiveForList:function(){return(this._hasConfigurationForList()&&this._configuration.list.active);},_isConfigurationActiveForSummary:function(){return(this._hasConfigurationForSummary()&&this._configuration.summary.active);},_isConfigurationActiveForDetail:function(){return(this._hasConfigurationForDetail()&&this._configuration.detail.active);},_onRowClick:function(e){this.onRowClick(e.rowIndex,e.grid.getItem(e.rowIndex),e.grid);},_onRowContextMenu:function(e){var _2109=e.grid.selection,_210a=_2109.getSelected();if(_210a.length===0){_2109.select(e.rowIndex);}this.onRowContextMenu(e.rowIndex,e.grid.getItem(e.rowIndex),e.grid);},_onSelectedInList:function(index){this.onSelected(index,this._listGrid.getItem(index),this._listGrid);},_onSelectedInSummary:function(index){this.onSelected(index,this._summaryGrid.getItem(index),this._summaryGrid);},_onSelectionChanged:function(){dojo.publish("/sage/ui/list/selectionChanged",this);this.onSelectionChanged();},_onResizeColumn:function(_210b){var grid=this._listGrid,cell=grid.getCell(_210b),value=cell.unitWidth,key=this._getColumnSizeKey(cell.field);this._saveToLocalStorage(key,value);this._doAutoFitColumns();},_onHeaderCellClick:function(e){var grid=this._listGrid,key=this._getGridSortKey(),value,_210c=grid.getSortProps();grid.selection.clear();if(_210c&&_210c.length>0){value=_210c[0];value.cellIndex=e.cell.index;if(e.cell.nosort){return;}grid.setSortIndex(value.cellIndex,!value.descending);this._saveToLocalStorage(key,value);}},_onRowDblClick:function(e){if(this._configuration.list.onNavigateToDefaultItem){if(e.rowIndex>-1){var item=e.grid._by_idx[e.rowIndex].item;this._configuration.list.onNavigateToDefaultItem(item);}}},_onCellClick:function(e){var i,inc=1,_210d=e.grid.selection.isSelected(e.rowIndex),_210e;if(has("ie")>8){try{var _210f=document.getSelection();if(_210f&&_210f.removeAllRanges){_210f.removeAllRanges();}}catch(err){}}if(e.grid.rowSelectCell){if(e.grid.rowSelectCell.index!==e.cell.index){if(e.shiftKey===true&&e.grid.rowSelectCell.lastClickRowIdx!==e.rowIndex){if(e.grid.rowSelectCell.lastClickRowIdx>e.rowIndex){inc=-1;}for(i=e.grid.rowSelectCell.lastClickRowIdx;i!==e.rowIndex;i+=inc){e.grid.rowSelectCell.toggleRow(i,true);}e.grid.rowSelectCell.toggleRow(e.rowIndex,true);}else{e.grid.rowSelectCell.toggleRow(e.rowIndex,!_210d);if(this._shouldShowDetailPane()&&_210d){_210e=this._getSelection(0);if(_210e){this._detailPane._onSelected(_210e.rowIndex,_210e,e.grid);}else{this._detailPane.clear();}}}e.grid.rowSelectCell.lastClickRowIdx=e.rowIndex;}else{if(this._shouldShowDetailPane()&&_210d){e.grid.rowSelectCell.toggleRow(e.rowIndex,!_210d);_210e=this._getSelection(0);e.grid.rowSelectCell.toggleRow(e.rowIndex,_210d);if(_210e){this._detailPane._onSelected(_210e.rowIndex,_210e,e.grid);}else{this._detailPane.clear();}}}}},_saveToLocalStorage:function(key,value,_2110){var _2111;key=this._alterKeyForLookupResults(key);try{_2111=new _20d7();_2111.initialize();if(!_2110){_2110=this._getGroupNS();}_2110=this._makeValidNamespace(_2110);_2111.put(key,value,function(_2112,key,_2113){if(_2112===_2111.FAILED){console.error("Failed writing key: "+key+" in local storage. Message: "+_2113);}},_2110);}catch(err){console.error(err);}},_getFromLocalStorage:function(key,_2114){var _2115,_2116;key=this._alterKeyForLookupResults(key);try{_2115=new _20d7();_2115.initialize();if(!_2114){_2114=this._getGroupNS();}_2114=this._makeValidNamespace(_2114);_2116=_2115.get(key,_2114);}catch(err){console.error(err);}return _2116;},_alterKeyForLookupResults:function(key){if((/LOOKUPRESULTS/).test(key)){var _2117=this._getMainViewName();key=key.replace("LOOKUPRESULTS","LOOKUPRESULTS"+(_2117!=-1?_2117:""));}return key;},_makeValidNamespace:function(ns){return ns.replace(/[^0-9^A-Z^a-z^\-]/g,"-");},_getGroupNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getGroupID();return ns;},_getViewNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getMainViewName();return ns;},_getGroupID:function(){var _2118=Sage.Services.getService("ClientGroupContext"),_2119=-1,_211a=null;if(_2118){_211a=_2118.getContext();if(_211a){_2119=_211a.CurrentGroupID;}}return _2119;},_getMainViewName:function(){if(this._configurationProvider._mainViewName){return this._configurationProvider._mainViewName;}var _211b=Sage.Services.getService("ClientGroupContext"),_211c=-1,_211d=null;if(_211b){_211d=_211b.getContext();if(_211d){_211c=_211d.CurrentEntity;}}return _211c;},_getColumnSizeKey:function(_211e){var _211f=_211e.replace(/[\.\$]/g,"_"),id=this._listGrid.id+"_"+this._configuration.list.id+"_"+this.STORE_KEY_COLUMN_SIZE+_211f;return id;},_getGridSortKey:function(){return this._keyGen(this.STORE_KEY_SORT_INFO);},_getGridLayoutKey:function(){return this._keyGen(this.STORE_KEY_LAYOUT_INFO);},_getGridColumnToggleKey:function(){return this._keyGen(this.STORE_KEY_TOGGLE_INFO);},_getViewStateKey:function(){return this.STORE_KEY_VIEWSTATE;},_getStoreQueryKey:function(){var id=this.STORE_KEY_STORE_QUERY+this._getGroupID();return id;},_keyGen:function(_2120){var id=this._listGrid.id+_2120+this._configuration.list.id;return id;},_onListScroll:function(){this._onScroll(this._listGrid.scroller);},_onSummaryScroll:function(){this._onScroll(this._summaryGrid.scroller);},_onScroll:function(_2121){var _2122,_2123,count,lbl;if(_2121.rowCount>=this.RECORD_WARNING_SIZE){this._tbarOverflowLabel.domNode.style.display="block";}else{this._tbarOverflowLabel.domNode.style.display="none";}if(this._tbarLabel){count=_2121.rowCount;if(count<=0){_2122=0;_2123=0;count=0;}else{_2122=(_2121.firstVisibleRow===0)?1:_2121.firstVisibleRow+1;_2123=(_2121.lastVisibleRow>=_2121.rowCount)?_2121.rowCount:_2121.lastVisibleRow+1;}lbl=dojo.string.substitute("${0} ${1} - ${2} ${3} ${4}",[this.displayingText,_2122,_2123,this.ofText,count]);this._tbarLabel.set("label",lbl);}},_markDirty:function(_2124){this._unsavedDataLabel.set("style","display:inline");},_markClean:function(){this._unsavedDataLabel.set("style","display:none");},getTotalSelectionCount:function(){var _2125=0,sel;if(this._listMode==="list"){this._configuration.list.active=true;}if(!this._isConfigurationActiveForList()||!this._listGrid){return[];}sel=this._listGrid.selection;if(sel){_2125=sel.getSelectedCount();}return _2125;},getSelectionInfo:function(_2126){var _2127,_2128,_2129,mode,_212a,_212b,_212c,_212d,sels,_212e=[],i,_212f;if(this._listMode==="list"){this._configuration.list.active=true;}if(!this._isConfigurationActiveForList()||!this._listGrid){return[];}_2127=this._listGrid.rowCount||0;_2128=this.getTotalSelectionCount();_2129=this.id;mode="selection";_212a=[];_212b=Sage.Services.getService("ClientGroupContext");_212c=(_212b)?_212b.getContext().CurrentTableKeyField||"":"";if(this._configuration.hasCompositeKey){_212d=this._configuration.hasCompositeKey;}else{_212d=false;}sels=this._listGrid.selection.getSelected();_212e=[];for(i=0;i<sels.length;i++){if(sels[i]){var _2130={rn:0,id:sels[i][_212c]};if(_2126){_2130["entity"]=sels[i];}_212a.push(_2130);_212e.push(sels[i][_212c]);}}_212f={key:_2129,mode:mode,selectionCount:_2128,recordCount:_2127,sortDirection:"",sortField:"",keyField:_212c,hasCompositeKey:_212d,ranges:[],selections:_212a,selectedIds:_212e};return _212f;},requestConfiguration:function(){ready(lang.hitch(this,function(){if(this._configurationProvider){this._configurationProvider.requestConfiguration({success:lang.hitch(this,this._applyConfiguration),failure:lang.hitch(this,this._applyConfigurationFailed)});}}));},refreshView:function(){if(this._configuration.rebuildOnRefresh){this.requestConfiguration();}this.refreshList();dojo.publish("/listView/refresh",this);},refreshList:function(_2131){if(this._listMode!=="list"){this.refreshSummary();return;}if(!_2131){this._listGrid._refresh();}else{if(this._configuration._listId===_2131){this._listGrid._refresh();}}if(this._listGrid&&this._listGrid.selection){this._listGrid.selection.clear();}if(this._detailPane){this._detailPane.clear();}},refreshSummary:function(){if(this._hasConfigurationForSummary()&&(this._listMode!=="list")){this._summaryGrid._refresh();}},showHelp:function(){util.openHelp(this.helpTopicName);},refreshGrid:function(){this._listGrid.selection.clear();this.refreshList();this.refreshSummary();},showList:function(){var query,_2132,_2133,_2134,i,cMenu,_2135,_2136,store,key,_2137,_2138;this._listMode="list";if(!this._hasConfigurationForList()){return;}_2137=this._getViewStateKey();this._saveToLocalStorage(_2137,"list",this._getViewNS());this._ensureApplyFilterWasPublished(true);query=this._filterManager.createQuery();key=this._getStoreQueryKey();_2132=this._listGrid.queryOptions||{};_2132.httpMethodOverride=!!query;this._setSortInfo(this._configuration.list.store);if(this._configuration.list.rowsPerPage>0){this._listGrid.set("rowsPerPage",this._configuration.list.rowsPerPage);}this._listGrid._setStore(this._configuration.list.store);this._listGrid._setQuery(query,_2132);this._saveToLocalStorage(key,{store:this._configuration.list.store,query:query});if(this._listGrid.structure!==this._configuration.list.structure){this._setColumnSizes(this._configuration.list.structure);this._listGrid.set("structure",this._configuration.list.structure);this._doAutoFitColumns();this._updateStructureFromLocalStore();}this._listGrid._refresh(true);if(!this._isConfigurationActiveForList()){if(this._dataChangeWatchers.length>0){array.forEach(this._dataChangeWatchers,dojo.disconnect);this._dataChangeWatchers=[];}if(this._configuration.list.formatterScope&&(this._listGrid.formatterScope!==this._configuration.list.formatterScope)){this._listGrid.set("formatterScope",this._configuration.list.formatterScope);}if(this._configuration.rebuildMenus){_2133=this._listGrid.selectedRegionMenu.getChildren();for(i=0;i<_2133.length;i++){_2134=_2133[i];this._listGrid.selectedRegionMenu.removeChild(_2134);}}_2135=this._configuration.list.selectedRegionContextMenuItems||[];if(_2135.length>0){_2136=this._listGrid.selectedRegionMenu.getChildren();if(_2136.length!==_2135.length){cMenu=this._listGrid.selectedRegionMenu;for(i=0;i<_2135.length;i++){cMenu.addChild(_2135[i]);}if(this._configuration.list.onSelectedRegionContextMenu){if(this._contextConnects){array.forEach(this._contextConnects,dojo.disconnect);}this._contextConnects=[];this._contextConnects.push(dojo.connect(this._listGrid,"onRowContextMenu",this._configurationProvider,this._configuration.list.onSelectedRegionContextMenu));}}}store=this._listGrid.store;if(store&&store!==null){if(store.features.hasOwnProperty("dojo.data.api.Write")){this._dataChangeWatchers.push(dojo.connect(store,"onSet",this,function(_2139,_213a,_213b,_213c){if(_213b!==_213c){this._markDirty(_2139);}}));if(store.onDataReset){this._dataChangeWatchers.push(dojo.connect(store,"onDataReset",this,"_markClean"));}}}}this._configuration.list.active=true;this._gridContainer.selectChild(this._listGrid);this._setDetailPaneVisibility(this._shouldShowDetailPane());this._updateToolbarItemVisibility();_2138=_20df.byId("centerContent");},showSummary:function(){var _213d,query;this._listMode="summary";if(!this._hasConfigurationForSummary()){this._configuration.summary=this._configurationProvider._createConfigurationForSummary();}query=this._filterManager.createQuery();this._setSummarySortInfo(this._configuration.summary.store);this._summaryGrid.setStore(this._configuration.summary.store,query);this._summaryGrid.setStructure(this._configuration.summary.structure);dojo.connect(this._summaryGrid,"_onFetchComplete",this,lang.hitch(this,function(){this._summaryGrid.resize();}));if(this._listGrid.selection){this._listGrid.selection.clear();}if(!this._isConfigurationActiveForSummary()){_213d=this._getViewStateKey();this._saveToLocalStorage(_213d,"summary",this._getViewNS());if(this._configuration.summary.hasOwnProperty("rowHeight")){this._summaryGrid.set("rowHeight",this._configuration.summary.rowHeight);}if(this._configuration.summary.hasOwnProperty("rowsPerPage")){this._summaryGrid.set("rowsPerPage",this._configuration.summary.rowsPerPage);}if(this._configuration.summary.hasOwnProperty("formatterScope")){this._summaryGrid.set("formatterScope",this._configuration.summary.formatterScope);}this._summaryGrid.canSort=function(col){return false;};this._configuration.summary.active=true;}this._gridContainer.selectChild(this._summaryGrid);this._setDetailPaneVisibility(this._shouldShowDetailPane());this._updateToolbarItemVisibility();},toggleDetail:function(){if(!this._hasConfigurationForDetail()){return;}this.detailVisible=!this.detailVisible;this._setDetailPaneVisibility(this._shouldShowDetailPane());},onRowClick:function(index,row,grid){},onRowContextMenu:function(index,row,grid){},onSelected:function(index,row,grid){},onSelectionChanged:function(){},resolveProperty:function(_213e,_213f){var list=this._configuration&&this._configuration.list,_2140=list&&list.layout,_2141=(list&&list.tableAliases)||{},i,item,table,_2142,_2143,_2144,_2145=["<",">"];if(_2140){for(i=0;i<_2140.length;i++){item=_2140[i];_2143=item.propertyPath&&item.propertyPath.split(".");if(_2143&&_2143.length===2){_2143=_2143[1];}else{if(_2143&&_2143.length===1){_2143=_2143[0];}}_2144=_213e&&_213e.split(".");if(_2144&&_2144.length===2){_2144=_2144[1];}else{if(_2144&&_2144.length===1){_2144=_2144[0];}}if(item.dataPath){array.forEach(_2145,function(c){item.dataPath=item.dataPath.replace(c,"=");});}if(item.propertyPath===_213e||(_213f&&item.dataPath===_213f)||_2143===_2144){if(/^[a-z]\d+_/i.test(item.alias)){return item.alias;}table=item.dataPath&&item.dataPath.split(":")[0];_2142=table&&_2141[table.toUpperCase()];if(_2142){return _2142+"."+item.alias;}return item.alias;}}}return _213e;}});return _20e1;});},"Sage/MainView/ReportMgr/nls/SchedulesListPanelConfig":function(){define("Sage/MainView/ReportMgr/nls/SchedulesListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2146,lang){var nls={root:{colJobName:"Job Name",colNameDescription:"Description",colNameRunAsUser:"Scheduled By",colNameLastExecutionDate:"Last Run",colNameExecutionCount:"Execution Count",colNameStartTimeUtc:"Start Time",colNameEndTimeUtc:"End Time",colNamePriority:"Priority",colNameStatus:"Status",colNameTemplate:"Template"}};return lang.mixin(_2146,nls);});},"Sage/Data/GroupLayoutSingleton":function(){define("Sage/Data/GroupLayoutSingleton",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/Data/SDataServiceRegistry","dojo/ready","dojo/json"],function(_2147,array,lang,_2148,ready,json){var m=_2147("Sage.Data.GroupLayoutSingleton",null,{data:{},_fetchCache:{},_registeredOnSuccess:{},_registeredOnFailure:{},_baseCacheKey:"GROUPLAYOUT_",constructor:function(){},getGroupLayout:function(_2149,_214a,_214b,_214c){var _214d=_2148.getSDataService("system"),_214e=new Sage.SData.Client.SDataSingleResourceRequest(_214d),_214f=this._registeredOnSuccess[_214c],_2150=this._registeredOnFailure[_214c],_2151=this._baseCacheKey+_214c,_2152=null;if(_214c!=="LOOKUPRESULTS"){_2152=sessionStorage.getItem(_2151);}if(_2152){this.data[_214c]=json.parse(_2152);}if(this.data[_214c]){if(typeof _214a==="function"){_214a(this.data[_214c]);}return;}if(!_214f){this._registeredOnSuccess[_214c]=[];_214f=this._registeredOnSuccess[_214c];}if(!_2150){this._registeredOnFailure[_214c]=[];_2150=this._registeredOnFailure[_214c];}_214f.push(_214a);_2150.push(_214b);if(this._fetchCache[_214c]){return;}else{this._fetchCache[_214c]=true;}_214e.setResourceKind("groups");_214e.setResourceSelector(_2149);_214e.setQueryArg("include","layout,tableAliases");_214e.read({success:lang.hitch(this,this._onSuccess,_214c),failure:lang.hitch(this,this._onFailure,_214c)});},_onSuccess:function(_2153,data){var _2154=this._registeredOnSuccess[_2153];if(_2154){array.forEach(_2154,function(cb){if(typeof cb==="function"){cb(data);}});}if(_2153!=="LOOKUPRESULTS"){this.data[_2153]=data;}sessionStorage.setItem(this._baseCacheKey+_2153,json.stringify(data));this._doneFetching(_2153);},_onFailure:function(_2155,err){var _2156=this._registeredOnFailure[_2155];if(_2156){array.forEach(_2156,function(cb){if(typeof cb==="function"){cb(err);}});}this._doneFetching(_2155);},_doneFetching:function(_2157){this._registeredOnSuccess[_2157]=[];this._registeredOnFailure[_2157]=[];this._fetchCache[_2157]=false;}});return m;});},"Sage/QuickForms/Design/Editors/nls/GenericAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/GenericAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2158,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form."}};return lang.mixin(_2158,nls);});},"Sage/QuickForms/Design/Editors/DataGridBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/DataGridBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/DataGridBasicPropertyEditor"],function(_2159,lang,_215a,_215b,_215c,_215d,_215e,_215f,_2160,_2161,_2162,_2163){return _2159("Sage.QuickForms.Design.Editors.DataGridBasicPropertyEditor",[_215a,_2161,_2160],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>","</fieldset>",'<fieldset style="display:none;"><legend>{%= $.behaviorText %}</legend>','<div class="editor-content-half">','<div class="editor-field" title="{%= $.pageSizeTooltipText %}">',"<label>{%= $.pageSizeText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_pageSize" data-dojo-attach-event="onChange:_onPageSizeChange" data-dojo-props="constraints:{min:0,max:1000,places:0}"></div>',"</div>",'<div class="editor-field" title="{%= $.resizableColumnsTooltipText %}">',"<label>{%= $.resizableColumnsText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_resizableColumns" data-dojo-attach-event="onChange:_onResizableColumnsChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_pageSize:null,_resizableColumns:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",dataText:"Data",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",pageSizeText:"Page Size:",pageSizeTooltipText:"The number of grid records to display on a single page.",resizableColumnsText:"Resizable Columns:",resizableColumnsTooltipText:"Allows user to resize columns.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_2163);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._pageSize.set("value",this._designer.get("pageSize"));this._resizableColumns.set("value",this._designer.get("resizableColumns"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onPageSizeChange:function(value){if(this.isSuspended()||!this._pageSize.isValid()){return;}this._designer.set("pageSize",value);},_onResizableColumnsChange:function(value){if(this.isSuspended()){return;}this._designer.set("resizableColumns",value);}});});},"Sage/MainView/ActivityMgr/QuickCompleteEditor":function(){define("Sage/MainView/ActivityMgr/QuickCompleteEditor",["dijit/_Widget","Sage/_Templated","dijit/layout/ContentPane","dijit/form/Textarea","Sage/UI/TextBox","Sage/UI/Controls/DateTimePicker","dijit/form/FilteringSelect","Sage/UI/SDataLookup","dojox/layout/TableContainer","Sage/UI/Controls/SingleSelectPickList","dijit/Dialog","dojo/_base/declare","dojo/i18n!./nls/QuickCompleteEditor"],function(_2164,_2165,_2166,_2167,_2168,_2169,_216a,_216b,_216c,_216d,_216e,_216f,_2170){var _2171=_216f("Sage.MainView.ActivityMgr.QuickCompleteEditor",[_2164,_2165],{_currentUserId:null,_individuallyHandler:false,_nowHandler:false,_asScheduledHandler:false,_selectionContext:false,lblcmdMessageText:"",lblInfoMessageText:"",lblResultText:"Result:",lblNoteText:"Note (append to all items):",btnCompleteIndividuallyText:"Individually",btnAsScheduledText:"As Scheduled",btnCompleteNowText:"Now",btnCancelText:"Cancel",btnCloseText:"Close",btnHelpText:"Help",resultCompletedText:"Complete",titleText:"Quick Complete",widgetsInTemplate:true,selectionContext:null,widgetTemplate:new Simplate(["<div>",'<div data-dojo-type="dijit.Dialog" id="{%= $.id%}_qucikCompleteDialog" title="Quick Complete" dojoAttachPoint="_dialog" >','<div class="quickComplete-dialog">','<div data-dojo-type="dijit.layout.ContentPane" id="{%= $.id%}_cp_General" title="" dojoAttachPoint="cp_General">','<div data-dojo-type="dojox.layout.TableContainer" orientation="horiz" cols="1" class="controlPropForm" labelWidth="140">','<div id="{%= $.id%}_div_actionMessage"  name="div_actionMessage" dojoAttachPoint="div_actionMessage"></div>',"<br>",'<select label="{%= $. lblResultText %}" id="{%= $.id%}_pk_Result" data-dojo-type="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pk_Result" canEditText="true" itemMustExist="false" pickListName="To Do Result Codes" ></select>','<div data-dojo-type="dijit.form.SimpleTextarea"" label="{%= $.lblNoteText %}" id="{%= $.id%}_ta_Note" name="tb_Note" dojoAttachPoint="ta_Note"></div>',"</div>","<br>",'<div id="{%= $.id%}_div_cmdMessage"  name="div_cmdMessage" dojoAttachPoint="div_cmdMessage" style="font-weight:bold"></div>',"<br>",'<div class="button-bar alignright">','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_CompleteIndividually" name="btn_CompleteIndividually" dojoAttachPoint="btn_CompleteIndividually" dojoAttachEvent="onClick:_onCompleteIndividually" style="align:left" >{%= $.btnCompleteIndividuallyText %}</div>','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_btnAsScheduled" name="btn_AsScheduled" dojoAttachPoint="btn_AsScheduled" dojoAttachEvent="onClick:_onAsScheduled">{%= $.btnAsScheduledText %}</div>','<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_CompleteNow" name="btn_CompleteNow" dojoAttachPoint="btn_CompleteNow" dojoAttachEvent="onClick:_onCompleteNow">{%= $.btnCompleteNowText %}</div>','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $. btnCancelText %}</div>',"</div>","</div>",'<div data-dojo-type="dijit.layout.ContentPane" id="{%= $.id%}_cp_processing" title="" dojoAttachPoint="cp_processing">','<div id="{%= $.id%}_div_processingMessage"  name="div_processingMessage" dojoAttachPoint="div_processingMessage"></div>','<div class="button-bar alignright">','<div data-dojo-type="dijit.form.Button"  id="{%= $.id%}_btn_Close" name="btn_Close" dojoAttachPoint="btn_Close" dojoAttachEvent="onClick:_cancelClick">{%= $. btnCloseText %}</div>',"</div>","</div>","</div>","</div>","</div>"]),constructor:function(_2172){dojo.mixin(this,_2170);this._currentUserId=Sage.Utility.getClientContextByKey("userID")||"";},destroy:function(){this._dialog.destroyRecursive();this.destroyRecursive();},show:function(){if(this.selectionContext){this.div_actionMessage.innerHTML=this.actionMessage;this.div_cmdMessage.innerHTML=String.format(this.completeMessage,this.selectionContext.count);this._dialog.set("title",this.titleText);}dojo.style(this.cp_processing.domNode,"display","none");this._dialog.show();},hide:function(){this.destroy();},resize:function(){},_showProcessing:function(){dojo.style(this.cp_General.domNode,"display","none");dojo.style(this.cp_processing.domNode,"display","block");this.div_processingMessage.innerHTML=String.format(this.processingMessage,this._selectionContext.count);},_onCompleteIndividually:function(){this.onCompleteIndividually();this._dialog.hide();},_onCompleteNow:function(){this._showProcessing();var _2173={selectionContext:this.selectionContext,note:this.ta_Note.value,result:this.pk_Result.get("value"),resultCode:""};this.onCompleteNow(_2173);this._dialog.hide();},_onAsScheduled:function(){this._showProcessing();var _2174={selectionContext:this.selectionContext,note:this.ta_Note.value,result:this.pk_Result.get("value"),resultCode:""};this.onCompleteAsScheduled(_2174);this._dialog.hide();},_cancelClick:function(){this.onCancel();this._dialog.hide();},onCompleteIndividually:function(){},onCompleteNow:function(args){},onCompleteAsScheduled:function(args){},onCancel:function(){}});return _2171;});},"Sage/QuickForms/Design/Editors/CurrencyBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/CurrencyBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/CurrencyBasicPropertyEditor"],function(_2175,lang,_2176,_2177,_2178,_2179,_217a,_217b,_217c,_217d,_217e,_217f){return _2175("Sage.QuickForms.Design.Editors.CurrencyBasicPropertyEditor",[_2176,_217d,_217c],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_217f);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/UI/Controls/MultiSelectPickList":function(){require({cache:{"url:Sage/UI/Controls/templates/MultiSelectPickList.html":'<div>\r\n    <input id="${id}-TextBox" data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="textNode" data-dojo-attach-event="onBlur: _onTextBlur" tabindex="${tabIndex}"/>\r\n    <div id="${id}-Button" data-dojo-type="dijit.form.DropDownButton" data-dojo-attach-point="dropDownButtonNode">\r\n        <span></span>\r\n        <div class="multiSelectPickListDialog" id="${id}-ToolTipDialog" data-dojo-type="dijit.TooltipDialog" data-dojo-attach-point="tooltipDialogNode" data-dojo-attach-event="onClose: _onTooltipClose, onShow: _onTooltipShow">\r\n            <div data-dojo-attach-point="tooltipContainer" style="height:200px; overflow-y:auto;">\r\n            \r\n            </div>\r\n            \r\n            <div style="width: 100%; text-align:right">\r\n                <p>\r\n                    <button id="${id}-OKButton" data-dojo-type="dijit.form.Button" type="submit" tabindex="${tabIndex}">${okText}</button>\r\n                <p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'}});define("Sage/UI/Controls/MultiSelectPickList",["dojo/_base/array","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/TextBox","dijit/form/DropDownButton","dijit/form/CheckBox","dijit/TooltipDialog","dijit/form/Button","Sage/UI/Controls/PickList","dojo/text!./templates/MultiSelectPickList.html","dojo/_base/declare","dojo/_base/lang"],function(array,_2180,_2181,_2182,_2183,_2184,_2185,_2186,_2187,_2188,_2189,_218a,lang){var _218b=_218a("Sage.UI.Controls.MultiSelectPickList",[_2188,_2182,_2180,_2181],{constructor:function(_218c){if(_218c.clientId){this.id=_218c.clientId+"-MultipleSelectPickList";}this.inherited(arguments);},postCreate:function(){this._setupTooltips(this.dropDownButtonNode.domNode,this.textNode.domNode);var def=new dojo.Deferred(),len;this.getPickListData(def);def.then(lang.hitch(this,function(data){if(typeof data==="string"){this.textNode.set("value",data);this.dropDownButtonNode.disabled=true;}var items=[],len=data&&data.items&&data.items.$resources&&data.items.$resources.length,i,item,_218d;for(i=0;i<len;i++){item=data.items.$resources[i];items.push({id:item.$key,code:item.code,number:item.number,text:item.text});}this.storeData={identifier:"id",label:"text",items:items};_218d=dojo.byId(this._textId);if(_218d){this.lastValidValue=_218d.value;this.initialValue=this.lastValidValue;}else{if(items.length>0){this.lastValidValue=items[0].text;}}this.textNode.set("value",this.lastValidValue);this.initialValues=this.lastValidValue.split(",");this.lastValidValues=this.lastValidValue.split(",");this._renderFormElements(items);}),function(e){console.error(e);});if(this.get("canEditText")===false){this.textNode.disabled=true;}len=this.get("maxLength");if(len>0){this.textNode.set("maxLength",len);}if(this.get("itemMustExist")){this.textNode.isValid=lang.hitch(this,function(_218e){var _218f=this.textNode.get("value"),split=_218f.split(","),valid=false;if(split.length===1&&split[0]===""&&!this.required){valid=true;}else{valid=array.every(split,function(_2190){return array.some(this.storeData.items,function(item){return item.text.trim()===_2190.trim();},this);},this);}if(valid){this.lastValidValue=_218f;}if(_218e){valid=true;}if(!valid){if(this.lastValidValue){this.textNode.set("value",this.lastValidValue);valid=true;}}return valid;});}else{this.textNode.isValid=function(_2191){return true;};}this.inherited(arguments);},uninitialize:function(){this.inherited(arguments);},_isItemSelected:function(_2192){var _2193=this.textNode.get("value"),_2194=false,split=[];if(_2193){split=_2193.split(",");array.forEach(split,function(item,index,array){if(_2192.text.trim()===item.trim()){_2194=true;}},this);}return _2194;},_storeHasItem:function(_2195){var _2196=false;_2196=array.some(this.storeData.items,function(item){if(item.text.trim()===_2195.trim()){return true;}return false;},this);return _2196;},_renderFormElements:function(items){var node=this.tooltipContainer;array.forEach(items,function(item,index,array){var _2197=new _2185({id:this.id+"_checkBox"+index,name:"checkBox_"+item.text,value:item.text,checked:this._isItemSelected(item)}),label;_2197.startup();dojo.place(_2197.domNode,node,"last");label=dojo.create("label",{"for":_2197.id},_2197.domNode,"after");label.innerHTML=item.text;dojo.create("br",{},label,"after");},this);},_onTextBlur:function(){this._updateASPNETFields();},_updateASPNETFields:function(){if(this.textNode.isValid()){var val=this.textNode.get("value");if(val.trim()!==this.initialValue.trim()){this.setASPNETInputs(val,"","");}}},_onTooltipClose:function(){var items=[];dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id),val,_2198;if(wid){val=wid.get("value");_2198=wid.get("checked");if(_2198){items.push(val);}}});array.forEach(this.itemsNotInStore,function(_2199){items.push(_2199.trim());},this);this.textNode.set("value",items.join(", "));this._updateASPNETFields();},_onTooltipShow:function(){this._refreshCheckedItems();this._refreshItemsNotInStore();},_refreshItemsNotInStore:function(){var _219a=this.textNode.get("value"),_219b=_219a.split(",");this.itemsNotInStore=[];array.forEach(_219b,function(item,index,array){if(!this._storeHasItem(item.trim())){if(item.trim()!==""){this.itemsNotInStore.push(item.trim());}}},this);},_refreshCheckedItems:function(){dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id);if(wid){wid.set("checked",false);}});array.forEach(this.storeData.items,function(item,index,array){if(this._isItemSelected(item)){dojo.query("input",this.tooltipContainer).forEach(function(node){var wid=dijit.byId(node.id);if(wid){if(node.value.trim()===item.text.trim()){wid.set("checked",true);}}});}},this);},templateString:_2189,widgetsInTemplate:true,storeData:null,lastValidValue:"",lastValidValues:null,initialValue:"",initialvalues:null,itemsNotInStore:null});return _218b;});},"Sage/UI/nls/CalendarUsersListPane":function(){define("Sage/UI/nls/CalendarUsersListPane",["Sage/LanguageList","dojo/_base/lang"],function(_219c,lang){var nls={root:{header_color:"Color",header_user:"User",maxUsersErrorMessage:"Sorry, you cannot view more than ${0} calendars (including your own) at one time.  Clear one of the currently-selected calendars and try again.",editUsersLinkText:"Edit Calendar Users",noUsersMessage:"No users added, add users by clicking 'Edit Calendar Users' link above"}};return lang.mixin(_219c,nls);});},"Sage/QuickForms/Design/Editors/UserAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/UserAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/UserAdvancedPropertyEditor"],function(_219d,lang,_219e,_219f,_21a0,_21a1,_21a2,_21a3,_21a4,_21a5,_21a6){return _219d("Sage.QuickForms.Design.Editors.UserAdvancedPropertyEditor",[_219e,_21a4,_21a3],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>",'<div class="editor-field" title="{%= $.requiredTooltipText %}">',"<label>{%= $.requiredText %}</label>",'<div data-dojo-attach-point="_required" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onRequiredChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.lookupBindingModeTooltipText %}">',"<label>{%= $.lookupBindingModeText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_lookupBindingMode" data-dojo-attach-event="onChange:_onLookupBindingModeChange">',"{% for (var mode in $.bindingModeText) { %}",'<span value="{%= mode %}">{%= $.bindingModeText[mode] %}</span>',"{% } %}","</div>","</div>","</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_lookupBindingMode:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",lookupBindingModeText:"Lookup Binding Mode:",lookupBindingModeTooltipText:"Indicates whether you want to bind to an entity object or to a string value.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},bindingModeText:{"Object":"Object","String":"String"},constructor:function(){lang.mixin(this,_21a6);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._lookupBindingMode.set("value",this._designer.get("lookupBindingMode"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _21a7=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_21a7&&_21a7["DataItemName"])||"");},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onLookupBindingModeChange:function(value){if(this.isSuspended()){return;}this._designer.set("lookupBindingMode",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/QuickForms/Design/Editors/nls/PickListBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/PickListBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_21a8,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_21a8,nls);});},"Sage/QuickForms/Design/Editors/nls/ColumnBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/ColumnBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_21a9,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",indexText:"Index:",indexTooltipText:"Number of the row or column, beginning with zero.",widthText:"Width:",widthTooltipText:"Width of this column of controls.",sizeTypeText:"Size Type:",sizeTypeTooltipText:"Method of sizing: Absolute, AutoSize, or Percent.",rowSizeTypeText:{Absolute:"Absolute",Percent:"Percent",AutoSize:"AutoSize"}}};return lang.mixin(_21a9,nls);});},"Sage/UI/Columns/ActivityAlarm":function(){define("Sage/UI/Columns/ActivityAlarm",["dojox/grid/cells/_base","Sage/Utility","dojo/_base/declare"],function(_21aa,util,_21ab){var _21ac=_21ab("Sage.UI.Columns.ActivityAlarm",_21aa,{format:function(_21ad,_21ae){var alarm=util.getValue(_21ae,"Alarm");var html="<div><div>";if(alarm){html="<img src='images/icons/Alarm_16x16.gif'/>";}return html;}});return _21ac;});},"Sage/UI/Columns/DateTime":function(){define("Sage/UI/Columns/DateTime",["dojox/grid/cells/dijit","dojo/date/locale","Sage/Utility","Sage/Utility/Activity","dojo/_base/declare"],function(_21af,_21b0,_21b1,_21b2,_21b3){var _21b4=_21b3("Sage.UI.Columns.DateTime",dojox.grid.cells.Cell,{timelessField:"",timelessText:"",dateOnly:false,utc:true,useFiveSecondRuleToDetermineTimeless:false,format:function(_21b5,_21b6){var _21b7=this.formattedDate(_21b5,_21b6);if(this.abbreviationLength){var _21b8=Sage.Format.abbreviationFormatter(this.abbreviationLength);_21b7=_21b8(_21b7);}return _21b7;},formattedDate:function(_21b9,_21ba){if(!_21ba){return"";}var d=this.get?this.get(_21b9,_21ba):(this.value||this.defaultValue);if(!d){return"";}d=_21bb.toDateFromString(d,true);if(!d||d.constructor!==Date){return"";}var tless=false;if(this.timelessField&&this.timelessField!==""){tless=_21bb.toBoolean(_21b1.getValue(_21ba,this.timelessField,"F"));}if(this.useFiveSecondRuleToDetermineTimeless){tless=_21b2.isDateFiveSecondRuleTimeless(d);}if(!this.dateOnly&&!this.datePattern){if(!tless){return dojo.date.locale.format(d,{selector:this.formatType||"date/time",fullYear:true});}else{var _21bc=d;if(this.utc){_21bc=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,5);}return dojo.date.locale.format(_21bc,{selector:"date",fullYear:true})+this.timelessText;}}else{if(this.datePattern){if(this.datePattern.indexOf("h")===-1){d=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());}return d.format(this.datePattern);}else{if(this.utc){var _21bd=new Date(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());return dojo.date.locale.format(_21bd,{selector:"date",fullYear:true});}else{return dojo.date.locale.format(d,{selector:"date",fullYear:true});}}}}});var _21bb=_21b1.Convert;return _21b4;});},"Sage/MainView/IntegrationContract/SalesOrderRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/SalesOrderRTDV.html":'[\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="{%= $.id%}_salesOrderDetailsDialog" title="{%= $.dialogCaption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:hideDetailsDialog">\',\r\n        \'<div dojoAttachPoint="loadingContainer">\',\r\n            \'<br />\',\r\n            \'<label class="wizardsectiontitle boldText padBottom" style="padding-left:20px">{%= $.loadingText %}</label>\',\r\n            \'<br />\',\r\n            \'<br />\',\r\n        \'</div>\',\r\n        \'<table cellspacing="5" dojoAttachPoint="salesOrderDetails" border="0" width="100%" class="display-none">\',\n            \'<div>\',\r\n                \'<tr>\',\n\t\t\t        \'<td>\',\r\n\t\t\t             \'<label for="SalesOrder_reference">{%= $.lblSalesOrderCaption %}</label>\',\r\n\t\t\t        \'</td>\',\r\n                    \'<td>\',\r\n                        \'<input type="text" id="{%= $.id%}_reference" name="reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesOrder_status">{%= $.lblStatusCaption %}</label>\',\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_status" name="status" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesOrder_grossTotal">{%= $.lblGrossTotalCaption %}</label>\',\r\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_grossTotal" name="grossTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</div>\',\r\n        \'</table>\',\r\n        \'<div style="height:370px;width:800px" dojoAttachPoint="tabContentDetails" class="display-none">\',\r\n            \'<div id="{%= $.id%}_salesOrderContainer" dojoAttachPoint="salesOrderContainer" dojoType="dijit.layout.TabContainer" style="width:100%;height:100%;">\',\r\n                \'<div id="{%= $.id%}_salesOrderContent" dojoAttachPoint="salesOrderContent" dojoType="dijit.layout.ContentPane" title="{%= $.detailsTabTitle %}" selected="true" style="width:100%;height:100%;">\',\r\n                    \'<div id="{%= $.id%}_divDetails">\',\r\n                        \'<table cellspacing="5">\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<tr>\',\r\n                                \'<td>\',\r\n                                    \'<label for="SalesOrder_OrderDate">{%= $.lblOrderDateCaption %}</label>\',\r\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_OrderDate" name="date" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<label for="SalesOrder_TaxTotal">{%= $.lblTaxTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_TaxTotal" name="taxTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\r\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesOrder_HoldStatus">{%= $.lblHoldStatusCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_HoldStatus" name="statusFlagText" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Currency">{%= $.lblCurrencyCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Currency" name="currency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Type">{%= $.lblTypeCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Type" name="type" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesOrder_CostTotal">{%= $.lblCostTotalCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_CostTotal" name="costTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_PONumber">{%= $.lblPONumberCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PONumber" name="customerReference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_ProfitTotal">{%= $.lblProfitTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ProfitTotal" name="profitTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Quotation">{%= $.lblQuotationCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Quotation" name="quotation.reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_InvoiceStatus">{%= $.lblInvoiceStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_InvoiceStatus" name="invoiceStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Contact">{%= $.lblContactCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Contact" name="buyerContact.fullName" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DeliveryDate">{%= $.lblDeliveryDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryDate" name="deliveryDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_PriceList">{%= $.lblPriceListCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PriceList" name="pricelist.name" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DueDate">{%= $.lblDueDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DueDate" name="dueDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_NetTotal">{%= $.lblNetTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_NetTotal" name="netTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_Carrier">{%= $.lblCarrierCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Carrier" name="carrierCompany" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DiscountTotal">{%= $.lblDiscountTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DiscountTotal" name="discountTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_AllocationStatus">{%= $.lblAllocationStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_AllocationStatus" name="allocationStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_DeliveryStatus">{%= $.lblDeliveryStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryStatus" name="deliveryStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesOrder_ChargesTotal">{%= $.lblChargesTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ChargesTotal" name="chargesTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                        \'</table>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soAddressesContent" dojoType="dijit.layout.ContentPane" title="{%= $.addressTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesOrderAddresses" dojoAttachPoint="sdgrdSalesOrderAddresses" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesOrderAddresses_Grid" dojoAttachPoint="sdgrdSalesOrderAddresses_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soSalesPersonsContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesPersonsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_SalesPersons" dojoAttachEvent="onShow:initSalesPersons">\',\r\n                    \'<div id="sdgrdSalesPersons" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesPersons_Grid" dojoAttachPoint="sdgrdSalesPersons_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soLinesContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesOrderLinesTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesOrderLines" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesOrderLines_Grid" dojoAttachPoint="sdgrdSalesOrderLines_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soPaymentsContent" dojoType="dijit.layout.ContentPane" title="{%= $.paymentsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Payments" dojoAttachEvent="onShow:initPayments">\',\r\n                    \'<div id="sdgrdSOPayments" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSOPayments_Grid" dojoAttachPoint="sdgrdSOPayments_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soDeliveriesContent" dojoType="dijit.layout.ContentPane" title="{%= $.deliveriesTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Deliveries" dojoAttachEvent="onShow:initDeliveries">\',\r\n                    \'<div id="sdgrdSODeliveries" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSODeliveries_Grid" dojoAttachPoint="sdgrdSODeliveries_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n        \'<div class="button-bar alignright">\',\r\n            \'<button dojoType="dijit.form.Button" id="{%= $.id%}_soBtnClose" type="button" dojoAttachEvent="onClick:hideDetailsDialog">{%= $.btnCloseCaption %}</button>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]'}});define("Sage/MainView/IntegrationContract/SalesOrderRTDV",["dojo/_base/declare","dojo/i18n!./nls/SalesOrderRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/SalesOrderRTDV.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","Sage/UI/DateTextBox","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_21be,_21bf,_21c0,_21c1,_21c2,_21c3,_21c4,_21c5,_21c6,_21c7,lang){var _21c8=_21be("Sage.MainView.IntegrationContract.SalesOrderRTDV",[_21c0,_21c1],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",dataStore:null,salesPersonsDataStore:null,paymentsDataStore:null,deliveriesDataStore:null,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_21c6)),constructor:function(){dojo.mixin(this,_21bf);},loadSalesOrders:function(){var self=this;var _21c9={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"$key",name:" ",sortable:false,formatter:this.salesOrdersX3DetailsViewRenderer,style:"text-align:left;",editable:false,hidden:function(){return !accountingSystemHandlesSO();}()},{width:10,field:"reference",name:this.grdSalesOrder_OrderNumber,sortable:true,formatter:this.salesOrdersDetailsViewRenderer,style:"text-align:left;",editable:false},{width:10,field:"date",type:_21c5,formatType:"date",dateOnly:true,utc:false,name:this.grdSalesOrder_OrderDate,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"status",name:this.grdSalesOrder_Status,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"statusFlagText",name:this.grdSalesOrder_HoldStatus,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"type",name:this.grdSalesOrder_Type,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"customerReference",name:this.grdSalesOrder_PO,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"netTotal",name:this.grdSalesOrder_NetTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"discountTotal",name:this.grdSalesOrder_DiscountTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"chargesTotal",name:this.grdSalesOrder_ChargesTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"taxTotal",name:this.grdSalesOrder_TaxTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"grossTotal",name:this.grdSalesOrder_GrossTotal,defaultValue:"",sortable:true,style:"text-align:left;",editable:false},{width:10,field:"currency",name:this.grdSalesOrder_Currency,defaultValue:"",sortable:true,style:"text-align:left;",editable:false}],storeOptions:new _21c3({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrders"}]}),tools:[]};var _21ca=new _21c2.Grid(_21c9,this.placeHolder);_21ca.startup();var _21cb=dijit.byId("tabContent");_21cb.resize();_21cb.resize();this.grid=_21ca;},salesOrdersDetailsViewRenderer:function(value){return dojo.string.substitute('<a href="javascript:salesOrderRTDV.loadDetailsView();">${0}</a>',[value]);},salesOrdersX3DetailsViewRenderer:function(){return dojo.string.substitute('<a href="javascript:salesOrderRTDV.callX3DetailsView();">${0}</a>',[_21bf.grdSalesOrder_Edit]);},destroyFirst:function(id){var _21cc=dijit.byId(id);if(_21cc){_21cc.destroyRecursive();}},initSalesPersons:function(){if(this.salesPersonsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.salesPersonsDataStore=new _21c3({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _21cd=row["$key"];return dojo.string.substitute("'${0}'",[_21cd||""]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesPersons"}],includeContent:true});dojo.connect(this.salesPersonsDataStore,"onGetSingleResource",this,"loadSalesPersons");this.salesPersonsDataStore.getSingleResource();}},loadSalesPersons:function(data){this.destroyFirst("sdgrdSalesPersons");if(data&&typeof data.salesPersons==="undefined"){data.salesPersons={};data.salesPersons.$resources=new Array();}var _21ce=new dojox.grid.DataGrid({id:"sdgrdSalesPersons",store:this.salesPersonsDataStore,structure:[{width:10,field:"name",name:this.grdSalesPersons_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdSalesPersons_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"extension",name:this.grdSalesPersons_Extension,defaultValue:"",sortable:true,editable:false},{width:10,field:"relationship",name:this.grdSalesPersons_Relationship,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_21ce.domNode,this.sdgrdSalesPersons_Grid,"single");_21ce.startup();},loadAddresses:function(data){this.destroyFirst("sdgrdSalesOrderAddresses");if(data&&typeof data.postalAddresses==="undefined"){data.postalAddresses={};data.postalAddresses.$resources=new Array();}var _21cf=new dojox.grid.DataGrid({id:"sdgrdSalesOrderAddresses",store:this.dataStore,structure:[{width:10,field:"type",name:this.grdAddress_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"address1",name:this.grdAddress_Address1,defaultValue:"",sortable:true,editable:false},{width:10,field:"address2",name:this.grdAddress_Address2,defaultValue:"",sortable:true,editable:false},{width:10,field:"townCity",name:this.grdAddress_City,defaultValue:"",sortable:true,editable:false},{width:10,field:"stateRegion",name:this.grdAddress_State,defaultValue:"",sortable:true,editable:false},{width:10,field:"zipPostCode",name:this.grdAddress_Zip,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"postalAddresses"}});dojo.place(_21cf.domNode,this.sdgrdSalesOrderAddresses_Grid,"single");_21cf.startup();},loadLineItems:function(data){this.destroyFirst("sdgrdSalesOrderLines");if(data&&typeof data.salesOrderLines==="undefined"){data.salesOrderLines={};data.salesOrderLines.$resources=new Array();}var _21d0=new dojox.grid.DataGrid({id:"sdgrdSalesOrderLines",store:this.dataStore,structure:[{width:10,field:"number",name:this.grdItems_Line,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdItems_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodity.name",name:this.grdItems_Commodity,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityVariant.reference",name:this.grdItems_CommodityVariant,defaultValue:"",sortable:true,editable:false},{width:10,field:"commodityDimension.reference",name:this.grdItems_CommodityDimension,defaultValue:"",sortable:true,editable:false},{width:10,field:"unitOfMeasure.name",name:this.grdItems_UnitOfMeasure,defaultValue:"",sortable:true,editable:false},{width:10,field:"fulfillmentLocation.name",name:this.grdItems_Location,defaultValue:"",sortable:true,editable:false},{width:10,field:"pricelist.name",name:this.grdItems_PriceList,defaultValue:"",sortable:true,editable:false},{width:10,field:"quantity",name:this.grdItems_Quantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"initialPrice",name:this.grdItems_InitialPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualPrice",name:this.grdItems_ActualPrice,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdItems_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdItems_ChargesTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdItems_DiscountTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdItems_TaxTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdItems_GrossTotal,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{},queryOptions:{singleResourceRequest:true,property:"salesOrderLines"}});dojo.place(_21d0.domNode,this.sdgrdSalesOrderLines_Grid,"single");_21d0.startup();},initPayments:function(){if(this.paymentsDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.paymentsDataStore=new _21c3({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _21d1=row["$key"];return dojo.string.substitute("'${0}'",[_21d1||""]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}],includeContent:true});dojo.connect(this.paymentsDataStore,"onGetSingleResource",this,"loadPayments");this.paymentsDataStore.getSingleResource();}},loadPayments:function(data){this.destroyFirst("sdgrdSOPayments");if(data&&typeof data.receipts==="undefined"){data.receipts={};data.receipts.$resources=new Array();}var _21d2=new dojox.grid.DataGrid({id:"sdgrdSOPayments",store:this.paymentsDataStore,structure:[{width:10,field:"date",type:_21c5,formatType:"date",name:this.grdPayments_Date,defaultValue:"",sortable:true,editable:false},{width:10,field:"name",name:this.grdPayments_Name,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdPayments_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdPayments_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"netTotal",name:this.grdPayments_NetTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"discountTotal",name:this.grdPayments_Discounts,defaultValue:"",sortable:true,editable:false},{width:10,field:"chargesTotal",name:this.grdPayments_Charges,defaultValue:"",sortable:true,editable:false},{width:10,field:"taxTotal",name:this.grdPayments_Tax,defaultValue:"",sortable:true,editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,defaultValue:"",sortable:true,editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderType",name:this.grdPayments_TenderType,defaultValue:"",sortable:true,editable:false},{width:10,field:"tenderReference",name:this.grdPayments_TenderReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"processDate",type:_21c5,formatType:"date",name:this.grdPayments_ProcessDate,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_21d2.domNode,this.sdgrdSOPayments_Grid,"single");_21d2.startup();},initDeliveries:function(){if(this.deliveriesDataStore){return;}var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){this.deliveriesDataStore=new _21c3({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),getResourcePredicate:function(){var _21d3=row["$key"];return dojo.string.substitute("'${0}'",[_21d3]);},resourceKind:"salesOrders",getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"salesOrderDeliveries"}],includeContent:true});dojo.connect(this.deliveriesDataStore,"onGetSingleResource",this,"loadDeliveries");this.deliveriesDataStore.getSingleResource();}},loadDeliveries:function(data){this.destroyFirst("sdgrdSODeliveries");if(data&&typeof data.salesOrderDeliveries==="undefined"){data.salesOrderDeliveries={};data.salesOrderDeliveries.$resources=new Array();}var _21d4=new dojox.grid.DataGrid({id:"sdgrdSODeliveries",store:this.deliveriesDataStore,structure:[{width:10,field:"reference",name:this.grdDeliveries_Number,defaultValue:"",sortable:true,editable:false},{width:10,field:"type",name:this.grdDeliveries_Type,defaultValue:"",sortable:true,editable:false},{width:10,field:"status",name:this.grdDeliveries_Status,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedDeliveryDate",type:_21c5,formatType:"date",name:this.grdDeliveries_RequestedDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryDate",type:_21c5,formatType:"date",name:this.grdDeliveries_ActualDate,defaultValue:"",sortable:true,editable:false},{width:10,field:"actualDeliveryTime",type:_21c5,formatType:"date",name:this.grdDeliveries_ActualTime,defaultValue:"",sortable:true,editable:false},{width:10,field:"requestedQuantity",name:this.grdDeliveries_RequestedQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveredQuantity",name:this.grdDeliveries_DeliveredQuantity,defaultValue:"",sortable:true,editable:false},{width:10,field:"deliveryMethod",name:this.grdDeliveries_Method,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierTradingAccount.name",name:this.grdDeliveries_Carrier,defaultValue:"",sortable:true,editable:false},{width:10,field:"carrierReference",name:this.grdDeliveries_CarrierReference,defaultValue:"",sortable:true,editable:false},{width:10,field:"dateExceptionReason",type:_21c5,formatType:"date",name:this.grdDeliveries_ExceptionReason,defaultValue:"",sortable:true,editable:false}],rowsPerPage:200,query:{}});dojo.place(_21d4.domNode,this.sdgrdSODeliveries_Grid,"single");_21d4.startup();},loadDetailsView:function(){dojo.removeClass(this.loadingContainer,"display-none");dojo.addClass(this.salesOrderDetails,"display-none");dojo.addClass(this.tabContentDetails,"display-none");this._dialog.show();var self=this;var row=this.grid._grid.selection.getSelected()[0];if(row){var _21d5=row["$key"];this.dataStore=new _21c3({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"salesOrders",getResourcePredicate:function(){return dojo.string.substitute("'${0}'",[_21d5]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:["*,salesOrderLines/*,postalAddresses/*,buyerContact/fullName,pricelist/name,quotation/reference,salesOrderLines/commodity/name,salesOrderLines/unitOfMeasure/name,salesOrderLines/fulfillmentLocation/name,salesOrderLines/pricelist/name,salesOrderLines/commodityVariant/reference,salesOrderLines/commodityDimension/reference,salesOrderDeliveries/carrierTradingAccount/name"]});dojo.connect(this.dataStore,"onGetSingleResource",this,"buildGrids");this.dataStore.getSingleResource();}},callX3DetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){var _21d6=row["$key"];dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesOrder/getediterpsalesorderurl?salesOrderKey=${0}&operatingCompany=${1}&_dc=${2}",[_21d6,this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_21d7,_21d8,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_21bf.Error_InvalidEndpoint;}});}},loadSalesOrderDetails:function(data){if(data&&typeof data!=="undefined"){this._dialog.set("value",data);}},buildGrids:function(data){this.loadSalesOrderDetails(data);this.loadAddresses(data);this.loadLineItems(data);if(this.salesOrderContainer!=null){this.salesOrderContainer.selectChild(this.salesOrderContent);}dojo.addClass(this.loadingContainer,"display-none");dojo.removeClass(this.salesOrderDetails,"display-none");dojo.removeClass(this.tabContentDetails,"display-none");this._dialog.resize();},hideDetailsDialog:function(){this.destroyFirst("sdgrdSalesPersons");this.salesPersonsDataStore=null;this.destroyFirst("sdgrdSODeliveries");this.deliveriesDataStore=null;this.destroyFirst("sdgrdSOPayments");this.paymentsDataStore=null;this._dialog.hide();},destroy:function(_21d9,args){},launchAccountingSystemView:function(data){if(data.error!=null){_21c4.showError(data.error);}else{try{window.open(data.url);}catch(err){_21c4.showError(this.errorERPRequest);console.error(dojo.string.substitute(this.errorERPRequestDetails,[this.errorERPRequest,err,url]));}}},executeErpInsertView:function(){dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/X3SalesOrder/getinserterpsalesorderurl?accountId=${0}&operatingCompany=${1}&_dc=${2}",[Sage.Utility.getCurrentEntityId(),this.operatingCompanyId,new Date().getTime()]),cache:false,preventCache:true,handleAs:"json",load:lang.hitch(this,function(data,xhr){this.launchAccountingSystemView(data);}),error:function(_21da,_21db,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=_21bf.errorERPRequest;}});}});return _21c8;});},"Sage/MailMerge/main":function(){define("Sage/MailMerge/main",["Sage/MailMerge/Loader","Sage/MailMerge/Helper","Sage/MailMerge/MenuHelper"],function(){});},"Sage/MainView/IntegrationContract/MatchingOptionsConfig":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/MatchingOptionsConfig.html":"[\r\n'<div>',\r\n    '<div id=\"{%= $.id %}-Context-container\">',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.matchingHeader %}',\r\n            '<span class=\"boldtext\">{%= $.resourceDisplayName %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.matchingDescription %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:240px\">{%= $.operatorText %}</label>',\r\n    '</div>',\r\n    '<div id=\"{%= $.id %}-Loading-container\">',\r\n        '<br />',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n    '</div>',\r\n//conditions\r\n    '<div style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n//buttons\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').matchingObject.updateMatchProperties();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').destroy();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]"}});define("Sage/MainView/IntegrationContract/MatchingOptionsConfig",["dojo/_base/declare","dojo/i18n!./nls/MatchingOptionsConfig","dojo/_base/array","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","dojo/text!./templates/MatchingOptionsConfig.html","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_21dc,_21dd,array,_21de,_21df,_21e0,_21e1){var _21e2=_21dc("Sage.MainView.IntegrationContract.MatchingOptionsConfig",[_21de,_21df],{resourceKind:"",resourceDisplayName:"",id:"",index:0,selectedFieldIndex:0,matchingId:"",fields:[{FieldName:"",DisplayName:""}],operators:[],selectedFilters:[],hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_21e1)),constructor:function(){dojo.mixin(this,_21dd);},init:function(_21e3){this.id=_21e3.Id;},conditionTemplate:new Simplate(["<div>",'<div id="filterCondition_{%= $.index %}" class="lookup-condition-row" style="padding-left:12px">','<select dojoType="dijit.form.select" id="fieldnames_{%= $.index %}" class="lookup-fieldnames-list" style="width:160px" >',"{% for (var i=0; i < $.fields.length; i++) { %}",'<option value="{%= $.fields[i].FieldName %}" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.fields[i].DisplayName %}</option>',"{% } %}","</select>",'<select dojoType="dijit.form.select" id="operators_{%= $.index %}" class="lookup-operators-list" style="width:160px; margin-left:130px">',"{% for (var i=0;i<$.operators.length;i++) { %}",'<option value="{%= $.operators[i].symbol %}"  {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $.operators[i].display %}</option>',"{% } %}","</select>","{% if ($.index == 1 ) { %}",'<img id="addCondition_{%= $.index %}" src="{%= $.addimgurl %}" alt="{%= $.filter_AddCondition %}" style="cursor:pointer;padding:0px 5px;" onclick="dijit.byId(\'{%= $.matchingId %}\').matchingObject.addLookupCondition();" />',"{% } %}","{% if ($.index > 1 ) { %}",'<img src="{%= $.hideimgurl %}" alt="{%= $.filter_RemoveCondition %}" style="cursor:pointer;padding:0px 5px;" onclick="dijit.byId(\'{%= $.matchingId %}\').matchingObject.removeLookupCondition({%= $.index %});" />',"{% } %}","</div>","</div>"]),onEditMatchConfig:function(_21e4,_21e5){this.resourceDisplayName=_21e5;this.resourceKind=_21e4;this.showDialog();},showDialog:function(){this.index=0;var _21e6=new dijit.Dialog({title:this.matchingCaption,id:[this.id,"-Dialog"].join(""),style:["height:",300,"px;width:",600,"px;"].join(""),matchingObject:this});_21e6.attr("content",this.widgetTemplate.apply(this));this.connect(_21e6,"onCancel",this.destroyDialog);this.matchingId=_21e6.id;_21e6.show();this.getMatchProperties();},getMatchProperties:function(){var self=this;dojo.xhrGet({url:dojo.string.substitute("slxdata.ashx/slx/crm/-/resources/getmatchproperties?resourceKind=${0}",[self.resourceKind]),cache:false,preventCache:true,handleAs:"json",load:function(data){self.fields=data.fields;self.operators=data.operators;self.selectedFilters=data.filters;dojo.query(dojo.byId([self.id,"-Loading-container"].join(""))).orphan();self.loadMatchingFilters();},error:function(_21e7,_21e8,error){dojo.byId([self.id,"-Loading-container"].join("")).innerHTML=self.error_InvalidEndpoint;}});},loadMatchingFilters:function(){for(var i=0;i<this.selectedFilters.length;i++){this.addLookupCondition();var field=dojo.byId(["fieldnames_",this.index].join(""));if(field!=null){field.value=this.selectedFilters[i].Property;}operator=dojo.byId(["operators_",this.index].join(""));if(operator!=null){operator.value=this.selectedFilters[i].Operator;operator.symbol=this.selectedFilters[i].Operator;}}},dialogResize:function(){dojo.style([this.id,"-Dialog"].join(""),"height","auto");},addLookupCondition:function(){this.index++;var _21e9=dojo.byId([this.id,"-Condition-container"].join(""));var _21ea=this.conditionTemplate.apply(this);dojo.place(_21ea,_21e9);this.dialogResize();},removeLookupCondition:function(idx){dojo.query(dojo.byId(["filterCondition_",idx].join(""))).orphan();},updateMatchProperties:function(){var self=this;dojo.xhrPost({url:"slxdata.ashx/slx/crm/-/resources/updateconfiguration",sync:true,postData:self.getSelections(),load:function(){self.destroyDialog();},error:function(_21eb,_21ec,error){_21e0.showError(error);}});},getSelections:function(){var _21ed=[];var _21ee=dojo.query(".lookup-condition-row");for(var i=0;i<_21ee.length;i++){var _21ef=dojo.query(".lookup-fieldnames-list",_21ee[i]);var _21f0=dojo.query(".lookup-operators-list",_21ee[i]);var _21f1={fieldName:_21ef[0].value,operator:_21f0[0].value};_21ed.push(_21f1);}return Sys.Serialization.JavaScriptSerializer.serialize(_21ed);},reloadOperators:function(_21f2,_21f3){this.selectedFieldIndex=_21f2;this.index=_21f3;var _21f4=this.conditionTemplate.apply(this);dojo.place(_21f4,["filterCondition_",_21f3].join(""),"replace");},destroyDialog:function(){var rows=dojo.query(".lookup-condition-row");if(rows!=null){array.forEach(rows,"dojo.query(item).orphan();");}var _21f5=dijit.byId([this.id,"-Dialog"].join(""));if(_21f5){_21f5.destroy();}}});return _21e2;});},"Sage/Utility/UserOptions":function(){define("Sage/Utility/UserOptions",["Sage/Utility"],function(_21f6){Sage.namespace("Utility.UserOptions");Sage.Utility.UserOptions={getConvertedOptionValue:function(_21f7,value){value=value.toLowerCase();var _21f8=value;switch(_21f7.toUpperCase()){case"DEFAULTCALENDARVIEW":var _21f9=/^(month|2)$/i;var _21fa=/^(week|1)$/i;var _21fb=/^(workweek|3)$/i;var dayRE=/^(day|0)$/i;if(_21f9.test(value)){_21f8="month";}else{if(_21fa.test(value)){_21f8="week";}else{if(_21fb.test(value)){_21f8="workweek";}else{if(dayRE.test(value)){_21f8="day";}else{_21f8="day";}}}}break;case"WORKWEEKSUN":case"WORKWEEKMON":case"WORKWEEKTUE":case"WORKWEEKWED":case"WORKWEEKTHU":case"WORKWEEKFRI":case"WORKWEEKSAT":case"REMEMBERUSERS":case"SHOWONOPPORTUNITIES":case"SHOWONREGARDING":case"SHOWONPHONENUMBER":case"SHOWONTIME":var _21fc=/^(true|yes|T|1)$/i;_21f8=_21fc.test(value);break;case"LOADHISTORYONSTART":var _21fd=/^(true|yes|T|Y|0)$/i;_21f8=_21fd.test(value);break;case"DAYSTARTTIME":_21f8=this.getHourPart(value);if(_21f8>24){_21f8=9;}break;case"DAYENDTIME":_21f8=this.getHourPart(value);if(_21f8>24){_21f8=17;}break;case"NUMEVENTS":case"DEFAULTINTERVAL":_21f8=parseInt(value);break;default:_21f8=value;}return _21f8;},getHourPart:function(value){var dt=value.split(" ");var t,h;if(dt.length>1&&value.indexOf("-")>0){t=dt[1];if(t){h=t.split(":")[0];}}else{h=value.split(":")[0];}if(value.indexOf("pm")>0||value.indexOf("PM")>0){h=parseInt(h)+12;}return parseInt(h,10);},getDay:function(value){var _21fe=value;if(value.length>1){var _21ff=[];_21ff["SUNDAY"]=0;_21ff["MONDAY"]=1;_21ff["TUESDAY"]=2;_21ff["WEDNESDAY"]=3;_21ff["THURSDAY"]=4;_21ff["FRIDAY"]=5;_21ff["SATURDAY"]=6;_21fe=_21ff[value.toUpperCase()];}if(!_21fe){_21fe=1;}return _21fe;},arraySort:function(a,b){return a-b;}};return Sage.Utility.UserOptions;});},"Sage/MailMerge/Loader":function(){define("Sage/MailMerge/Loader",["Sage/Utility/ErrorHandler","Sage/MailMerge/Helper","Sage/MailMerge/MenuHelper","Sage/UI/Dialogs","dijit/_Widget","dojo/i18n","dojo/string","dojox/json/ref","dojo/_base/lang","dojo/i18n!./nls/Loader","dojo/_base/declare"],function(_2200,_2201,_2202,_2203,_2204,i18n,_2205,ref,dLang,nls,_2206){var _2207=_2206("Sage.MailMerge.Loader",[_2204],{constructor:function(){this.inherited(arguments);},postMixInProperties:function(){dLang.mixin(this,nls);this.inherited(arguments);},DecodeMailMergeJsonFromUrl:function(url){var _2208=null;dojo.xhrGet({url:url,preventCache:true,handleAs:"text",sync:true,load:function(data){if(data&&dojo.isString(data)&&data!==""){var _2209=data.replace(/":null/gi,'":""');_2208=ref.fromJson(_2209);}},error:function(error,_220a){_2200.handleHttpError(error,_220a);}});return _2208;},GetClientPath:function(){var _220b=String(window.location);var _220c=_220b.lastIndexOf("/");if(_220c!=-1){return _220b.substring(0,_220c);}return null;}});window.ExecuteWriteAction=function(_220d,param){_2201.ExecuteWriteAction(_220d,param);};window.GetMailMergeService=function(_220e){if(typeof console!=="undefined"){}return _2201.GetMailMergeService(_220e);};window.GetDesktopService=function(_220f){return _2201.GetMailMergeService(_220f);};if(!Sage.Services.hasService("MailMergeServiceLoader")){Sage.Services.addService("MailMergeServiceLoader",new Sage.MailMerge.Loader());}var _2210=true;var _2211=new _2202();var _2212=(navigator.userAgent.indexOf("Win")!=-1);if(_2212&&Sage&&Sage.Services){if(!Sage.gears){if(typeof initGears==="function"){initGears();}}if(Sage.gears&&Sage.gears.factory){dojo.addOnLoad(function(){_2211.attachWriteMenuPopulator();});_2210=false;}}if(_2210){try{if(!Sage.gears){if(window.console){}}if(Sage.gears&&!Sage.gears.factory){if(window.console){}}}catch(e){}dojo.addOnLoad(function(){_2211.removeWriteMenu();});}return _2207;});},"Sage/MainView/ReportMgr/ReportManagerActions":function(){define("Sage/MainView/ReportMgr/ReportManagerActions",["dojo/_base/declare","Sage/UI/Dialogs","dojo/i18n!./nls/ReportManagerActions","dojo/string","Sage/MainView/ReportMgr/ReportWizardController","Sage/Reporting/Enumerations","Sage/Utility/Jobs","Sage/Data/SDataServiceRegistry"],function(_2213,_2214,_2215,_2216,_2217,_2218,_2219,_221a){Sage.namespace("Sage.MainView.ReportMgr.ReportManagerActions");dojo.mixin(Sage.MainView.ReportMgr.ReportManagerActions,{_getSelectedId:function(){var _221b=Sage.Utility.getSelectionInfo();if(_221b){if(_221b.selectedIds.length===1){return _221b.selectedIds[0];}}return null;},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _221c=svc.getContext();return _221c.CurrentGroupID;},deleteReport:function(){var key=this._getSelectedId();if(!key){_2214.showInfo(_2215.txtSelectRecord);}else{var self=this;_2214.raiseQueryDialog("Saleslogix",_2216.substitute(_2215.confirm_Deletion,[_2215.confirm_Report]),function(_221d){if(_221d){var _221e=_2219.getCurrentGroupId();if(self._deleteReport(key)){_2219.refreshList(_221e);}}},_2215.txtYes,_2215.txtNo);}},_deleteReport:function(key){var _221f=_221a.getSDataService("system",false,true,false);var _2220=new Sage.SData.Client.SDataApplicationRequest(_221f);_2220.setResourceKind(_2216.substitute("reports('${0}')",[key]));var sUrl=_2220.uri;dojo.xhrDelete({handleAs:"json",url:sUrl,error:function(xhr){_2214.showError(_2216.substitute(_2215.txtErrorDeleteReport,[xhr.status]));return false;}});return true;},runReport:function(){var key=this._getSelectedId();if(!key){_2214.showInfo(_2215.txtSelectRecord);}else{var _2221=dijit.byId("list");var _2222=_2221.get("list").selection.getFirstSelected().displayName;var _2223={reportId:key,reportDisplayName:_2222,reportOptions:{wizardOptions:{},scheduleOptions:{executionType:_2218.ExecutionType.OnDemand},exportOptions:{},conditions:[],parameterValues:[]}};_2217.startWizard(_2223);}},scheduleReport:function(){var key=this._getSelectedId();if(!key){_2214.showInfo(_2215.txtSelectRecord);}else{var _2224=dijit.byId("list");var _2225=_2224.get("list").selection.getFirstSelected().displayName;var _2226={reportId:key,reportDisplayName:_2225,reportOptions:{wizardOptions:{},scheduleOptions:{executionType:_2218.ExecutionType.Scheduled},exportOptions:{},conditions:[],parameterValues:[]}};_2217.startWizard(_2226);}},deleteSchedule:function(){var key=this._getSelectedId();if(!key){_2214.showInfo(_2215.txtSelectRecord);}else{_2214.raiseQueryDialog("Saleslogix",_2216.substitute(_2215.confirm_Deletion,[_2215.confirm_Schedule]),function(_2227){if(_2227){var _2228=_2219.getCurrentGroupId();var _2229=Sage.Services.getService("JobService");if(_2229.deleteScheduledJob(key)){_2219.refreshList(_2228);}}},_2215.txtYes,_2215.txtNo);}},editSchedule:function(){var key=this._getSelectedId();if(!key){_2214.showInfo(_2215.txtSelectRecord);}else{var _222a={triggerId:key};_2217.startWizard(_222a);}},deleteHistory:function(){var _222b=Sage.Utility.getSelectionInfo();if(_222b.selectedIds.length<=0){_2214.showInfo(_2215.txtInvalidSelectionCount);}else{var self=this;_2214.raiseQueryDialog("Saleslogix",_2216.substitute(_2215.confirm_Deletion,[_2215.confirm_ReportHistory]),function(_222c){if(_222c){self._deleteHistory();}},_2215.txtYes,_2215.txtNo);}},_getCurrentUserId:function(){var _222d=null;var _222e=Sage.Services.getService("ClientContextService");if(_222e){if(_222e.containsKey("userID")){_222d=_222e.getValue("userID");}}return _222d;},_deleteHistory:function(){var _222f=Sage.Utility.getSelectionInfo();var _2230=[{"name":"EntityName","value":"ReportHistory"},{"name":"SelectedIds","value":(_222f.selectionCount>0)?_222f.selectedIds.join(",")||"":""}];var _2231=_2219.getCurrentGroupId();var _2232={closable:true,key:"Sage.SalesLogix.BusinessRules.Jobs.DeleteEntityJob",descriptor:_2215.txtDeleteHistory,user:{$key:this._getCurrentUserId()},parameters:_2230,infoMessage:_2215.txtDeleteHistory,title:_2215.txtDeleteTitle,complete:function(_2233){_2219.refreshList(_2231);},failure:function(_2234){_2214.showError(dojo.string.substitute(_2215.deleteJobError,[_2234.statusText]));}};_2219.triggerJobAndDisplayProgressDialog(_2232);}});return Sage.MainView.ReportMgr.ReportManagerActions;});},"url:Sage/UI/Controls/templates/PickListAsText.html":'<div>\r\n    <span id="${id}-Span" data-dojo-attach-point="textSpan"></span>\r\n</div>\r\n',"Sage/UI/Columns/main":function(){define("Sage/UI/Columns/main",["Sage/UI/Columns/ActivityAlarm","Sage/UI/Columns/UserType","Sage/UI/Columns/ActivityType","Sage/UI/Columns/Boolean","Sage/UI/Columns/Cell","Sage/UI/Columns/CheckBox","Sage/UI/Columns/Currency","Sage/UI/Columns/DataType","Sage/UI/Columns/DateTime","Sage/UI/Columns/Dnd","Sage/UI/Columns/DndCell","Sage/UI/Columns/Email","Sage/UI/Columns/Lookup","Sage/UI/Columns/Numeric","Sage/UI/Columns/OwnerType","Sage/UI/Columns/Phone","Sage/UI/Columns/PickList","Sage/UI/Columns/RadioGroup","Sage/UI/Columns/SlxEdit","Sage/UI/Columns/SlxLink","Sage/UI/Columns/TextBox"],function(){});},"Sage/MainView/ReportMgr/nls/ReportManagerGroupContextService":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerGroupContextService",["Sage/LanguageList","dojo/_base/lang"],function(_2235,lang){var nls={root:{reportsTabDisplayName:"Reports",schedulesTabDisplayName:"Schedules",historyTabDisplayName:"History"}};return lang.mixin(_2235,nls);});},"Sage/UI/Controls/Name":function(){require({cache:{"url:Sage/UI/Controls/templates/Name.html":'<div class="person" slxcompositecontrol="true" id="{%= $.id %}" ><input id="{%= $.id %}-TextBox" value="{%= $.nameDesc %}"\r\n    data-dojo-type="Sage.UI.Controls.TextBox" name="{%= $.name %}" required="{%= $.required %}" dojoAttachPoint="focusNode"  data-dojo-attach-event="onChange:textBoxOnChange, onDblClick: showDialog" data-dojo-props="textWithIcons: {%= $.buttonVisible %}" />\r\n    {% if ($.buttonVisible) { %}\r\n    <img alt="{%= $.buttonToolTip %}"  data-dojo-attach-event="ondijitclick: showDialog"  tabindex="{%= $.tabIndex %}"     \r\n    style="padding-left:0;cursor: pointer; vertical-align: left;" \r\n    src="{%= $.buttonImageUrl %}" title="{%= $.buttonToolTip %}" id="{%= $.id %}-Button" />\r\n    {% } %}\r\n<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n</div>',"url:Sage/UI/Controls/templates/PersonName.html":'<!--\r\nSimplate template\r\nhttps://github.com/mmorton/simplate\r\nhttps://github.com/mmorton/simplate/blob/master/demo/index.html\r\nBasic formatting example: {%= $.id %}\r\n-->\r\n<div>\r\n        <table width="100%">\r\n            <tr>\r\n                <td><label>{%= $.prefixText %}</label></td>\r\n                <td>\r\n                    <select id="{%= $.id %}-Prefix" data-dojo-type="Sage.UI.Controls.DropDownSelectPickList" \r\n                    dojoAttachPoint="_valueBox"\r\n                    pickListName="Name Prefix"\r\n                    storeMode="text"\r\n                    name="{%= $.NamePrefix %}" \r\n                    style="width: 150px;display: inline-block"\r\n                    shouldPublishMarkDirty="false" />\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameFirstText %}</label></td>\r\n                <td>\r\n                    <input id="{%= $.id %}-First" data-dojo-type="Sage.UI.Controls.TextBox"\r\n                    style="width:inherit;"\r\n                    textAlign="{%= $.textAlign %}"\r\n                    name="{%= $.NameFirst %}" type="text" data-dojo-attach-point="focusNode"\r\n                    shouldPublishMarkDirty="false">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameMiddleText %}</label></td>\r\n                <td>\r\n                    <input id="{%= $.id %}-Middle" data-dojo-type="Sage.UI.Controls.TextBox"\r\n                    style="width:inherit;"\r\n                    textAlign="{%= $.textAlign %}"\r\n                    name="{%= $.NameMiddle %}" type="text" data-dojo-attach-point="focusNode"\r\n                    shouldPublishMarkDirty="false">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.nameLastText %}</label></td>\r\n                <td>\r\n                    <input id="{%= $.id %}-Last" data-dojo-type="Sage.UI.Controls.TextBox"\r\n                    style="width:inherit;"\r\n                    textAlign="{%= $.textAlign %}"\r\n                    name="{%= $.NameLast %}" type="text" data-dojo-attach-point="focusNode"\r\n                    shouldPublishMarkDirty="false">\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td><label>{%= $.suffixText %}</label></td>\r\n                <td>\r\n                    <select id="{%= $.id %}-Suffix" data-dojo-type="Sage.UI.Controls.DropDownSelectPickList"\r\n                    dojoAttachPoint="_valueBox"\r\n                    pickListName="Name Suffix"\r\n                    storeMode="text"\r\n                    name="{%= $.NameSuffix %}"\r\n                    style="width: 150px;display: inline-block"\r\n                    shouldPublishMarkDirty="false" />\r\n                </td>\r\n            </tr>\r\n        </table>                    \r\n        <div class="button-bar alignright" style="clear: both">\r\n            <button id="{%= $.id %}-OKButton" data-dojo-type="dijit.form.Button" type="submit" onClick="dijit.byId(\'{%= $.id %}\')._okClicked();">\r\n                {%= $.okText %}\r\n            </button>\r\n            <button id="{%= $.id %}-CancelButton" data-dojo-type="dijit.form.Button" type="button" onClick="dijit.byId(\'{%= $.id %}\')._cancelClicked();">\r\n                {%= $.cancelText %}\r\n            </button>\r\n        </div>\r\n</div>\r\n'}});define("Sage/UI/Controls/Name",["dojo/_base/lang","dojo/_base/declare","dojo/i18n","dijit/_Widget","Sage/_Templated","Sage/UI/Controls/TextBox","Sage/UI/Controls/PickList","Sage/UI/Controls/DropDownSelectPickList","dijit/Dialog","Sage/UI/Controls/_DialogHelpIconMixin","dojo/i18n!./nls/Name","dojo/text!./templates/Name.html","dojo/text!./templates/PersonName.html"],function(lang,_2236,i18n,_2237,_2238,_2239,_223a,_223b,_223c,_223d,_223e,_223f,_2240){var _2241=_2236("Sage.UI.Controls.Name",[_2237,_2238],{widgetTemplate:new Simplate(_223f.split("\r")),dialogContent:new Simplate(_2240.split("\r")),templateOverridePath:"templates/PersonName-Override.html",widgetsInTemplate:true,clientId:"",nameDesc:"",buttonImageUrl:"",buttonToolTip:"",buttonVisible:true,tabIndex:0,prefix:"",first:"",middle:"",last:"",suffix:"","Name Prefix":{},"Name Suffix":{},"LastName Prefix":{},name:"",prefixClientId:"",nameFirstClientId:"",nameMiddleClientId:"",nameLastClientid:"",suffixClientId:"",required:false,autoPostBack:false,constructor:function(_2242){_2242.id=_2242.clientId;this.resources=i18n.getLocalization("Sage.UI.Controls","Name");if(_2242.templateOverridePath&&_2242.templateOverridePath.length>0){try{this.dialogContent=new Simplate(dojo["cache"]("Sage.UI.Controls",_2242.templateOverridePath).split("\r"));}catch(e){}}},postCreate:function(){this.getDotNetData();if(!this["Name Prefix"].data||!this["Name Suffix"].data||!this["LastName Prefix"].data){this.loadPickLists();}this.inherited(arguments);},loadPickLists:function(){var _2243=new dojo.Deferred();var _2244=new dojo.Deferred();var _2245=new dojo.Deferred();var _2246={pickListName:"Name Prefix",canEditText:false,itemMustExist:true,maxLength:-1,storeMode:"text",sort:true,displayMode:"AsControl",required:false,autoPostBack:false};var _2247=new _223a(_2246);_2247.getPickListData(_2243);_2243.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});_2246.pickListName="Name Suffix";var _2248=new _223a(_2246);_2248.getPickListData(_2244);_2244.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});_2246.pickListName="LastName Prefix";var _2249=new _223a(_2246);_2249.getPickListData(_2245);_2245.then(dojo.hitch(this,this.storePickListData),function(e){console.error(e);});},storePickListData:function(data){this[data.name].data=data;},showDialog:function(){this.editDialog=dijit.byId([this.id,"-Dialog"].join(""));if(!this.editDialog){this.editDialog=new _223c({title:this.resources.dialogTitle,id:[this.id,"-Dialog"].join("")});this.editDialog.set("content",this.dialogContent.apply({id:this.id,prefixText:this.resources.prefixText,nameFirstText:this.resources.nameFirstText,nameMiddleText:this.resources.nameMiddleText,nameLastText:this.resources.nameLastText,suffixText:this.resources.suffixText,cancelText:this.resources.cancelText,okText:this.resources.okText}));}this.setEditFields();lang.mixin(this.editDialog,new _223d());this.editDialog.createHelpIconByTopic("editname");this.editDialog.show();if(this.modality==="modeless"){dojo.destroy([this.id,"-Dialog_underlay"].join(""));}},textBoxOnChange:function(value){if(value!==this.formatName()){this.parseName(value);this.setDotNetData();dojo.publish("Sage/events/markDirty");}},parseName:function(value){var _224a=value.split(" ");var i,item;var _224b="";this.prefix="";this.first="";this.middle="";this.last="";this.suffix="";for(i=0;i<this["Name Prefix"].data.items.$resources.length;i++){item=this["Name Prefix"].data.items.$resources[i];if(item.text.toUpperCase()===_224a[0].toUpperCase()){this.prefix=_224a[0];_224a.shift();break;}}for(i=0;i<this["Name Suffix"].data.items.$resources.length;i++){item=this["Name Suffix"].data.items.$resources[i];if(item.text.toUpperCase()===_224a[_224a.length-1].toUpperCase()){this.suffix=_224a[_224a.length-1];_224a.pop();break;}}if(_224a.length>0){for(i=0;i<this["LastName Prefix"].data.items.$resources.length;i++){item=this["LastName Prefix"].data.items.$resources[i];if(item.text.toUpperCase()===_224a[_224a.length-1].toUpperCase()){_224b=_224a[_224a.length-1]+" ";_224a.pop();break;}}}switch(_224a.length){case 3:this.first=_224a[0];this.middle=_224a[1];this.last=_224b+_224a[2];break;case 2:this.first=_224a[0];this.last=_224b+_224a[1];break;default:this.last=_224b+_224a[0];}},getEditFields:function(){this.updateNameObj();this.setDotNetData();dojo.publish("Sage/events/markDirty");},updateNameObj:function(){if(dijit.byId([this.id,"-Prefix"].join(""))){this.prefix=dijit.byId([this.id,"-Prefix"].join("")).comboBox.get("value");}if(dijit.byId([this.id,"-First"].join(""))){this.first=dijit.byId([this.id,"-First"].join("")).get("value");}if(dijit.byId([this.id,"-Middle"].join(""))){this.middle=dijit.byId([this.id,"-Middle"].join("")).get("value");}if(dijit.byId([this.id,"-Last"].join(""))){this.last=dijit.byId([this.id,"-Last"].join("")).get("value");}if(dijit.byId([this.id,"-Suffix"].join(""))){this.suffix=dijit.byId([this.id,"-Suffix"].join("")).comboBox.get("value");}},getDotNetData:function(){if(this.prefixClientId!==""){this.prefix=dojo.byId(this.prefixClientId).value;}if(this.nameFirstClientId!==""){this.first=dojo.byId(this.nameFirstClientId).value;}if(this.nameMiddleClientId!==""){this.middle=dojo.byId(this.nameMiddleClientId).value;}if(this.nameLastClientid!==""){this.last=dojo.byId(this.nameLastClientid).value;}if(this.suffixClientId!==""){this.suffix=dojo.byId(this.suffixClientId).value;}},setDotNetData:function(){dojo.byId(this.prefixClientId).value=this.prefix;dojo.byId(this.nameFirstClientId).value=this.first;dojo.byId(this.nameMiddleClientId).value=this.middle;dojo.byId(this.nameLastClientid).value=this.last;dojo.byId(this.suffixClientId).value=this.suffix;},setEditFields:function(){if(dijit.byId([this.id,"-Prefix"].join(""))){dijit.byId([this.id,"-Prefix"].join("")).comboBox.set("value",this.prefix);}if(dijit.byId([this.id,"-First"].join(""))){dijit.byId([this.id,"-First"].join("")).set("value",this.first);dijit.byId([this.id,"-First"].join("")).set("style","width:100%");}if(dijit.byId([this.id,"-Middle"].join(""))){dijit.byId([this.id,"-Middle"].join("")).set("value",this.middle);dijit.byId([this.id,"-Middle"].join("")).set("style","width:100%");}if(dijit.byId([this.id,"-Last"].join(""))){dijit.byId([this.id,"-Last"].join("")).set("value",this.last);dijit.byId([this.id,"-Last"].join("")).set("style","width:100%");}if(dijit.byId([this.id,"-Suffix"].join(""))){dijit.byId([this.id,"-Suffix"].join("")).comboBox.set("value",this.suffix);}},_okClicked:function(){this.getEditFields();if(this.focusNode.value!==this.formatName()){this.focusNode.set("value",this.formatName());dojo.publish("Sage/events/markDirty");}},_cancelClicked:function(){this.editDialog.hide();},formatName:function(){var name=((this.prefix==="")?"":this.prefix+" ");name+=((this.first==="")?"":this.first+" ");name+=((this.middle==="")?"":this.middle+" ");name+=((this.last==="")?"":this.last+" ");name+=((this.suffix==="")?"":this.suffix);name=name.trim();return name;}});return _2241;});},"url:Sage/MainView/IntegrationContract/templates/MatchingOptionsConfig.html":"[\r\n'<div>',\r\n    '<div id=\"{%= $.id %}-Context-container\">',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\">{%= $.matchingHeader %}',\r\n            '<span class=\"boldtext\">{%= $.resourceDisplayName %}</span>',\r\n        '</label>',\r\n        '<br /><br />',\r\n    '</div>',\r\n    '<div>',\r\n        '<label class=\"wizardsectiontext padBottom\" style=\"padding-left:20px\">{%= $.matchingDescription %}</label>',\r\n    '</div>',\r\n    '<div>',\r\n        '<br />',\r\n        '<label class=\"slxlabel\" style=\"padding-left:20px\">{%= $.propertyText %}</label>',\r\n        '<label class=\"slxlabel\" style=\"padding-left:240px\">{%= $.operatorText %}</label>',\r\n    '</div>',\r\n    '<div id=\"{%= $.id %}-Loading-container\">',\r\n        '<br />',\r\n        '<label class=\"wizardsectiontitle boldText padBottom\" style=\"padding-left:20px\">{%= $.loadingText %}</label>',\r\n    '</div>',\r\n//conditions\r\n    '<div style=\"padding:10px;\" id=\"{%= $.id %}-Condition-container\"></div>',\r\n//buttons\r\n    '<div class=\"button-bar alignright\">',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"submit\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').matchingObject.updateMatchProperties();\">',\r\n            '{%= $.okText %}',\r\n        '</button>',\r\n        '<button dojoType=\"dijit.form.Button\" type=\"button\" onClick=\"dijit.byId(\\'{%= $.id %}-Dialog\\').destroy();\">',\r\n            '{%= $.cancelText %}',\r\n        '</button>',\r\n    '</div>',\r\n'</div>'\r\n]","Sage/MainView/IntegrationContract/nls/MatchingOptionsConfig":function(){define("Sage/MainView/IntegrationContract/nls/MatchingOptionsConfig",["Sage/LanguageList","dojo/_base/lang"],function(_224c,lang){var nls={root:{matchingCaption:"Edit Match Criteria",matchingHeader:"Match Criteria for ",matchingDescription:"Add or remove operators to define the match criteria for all users who link Saleslogix records with an accounting system. This criteria determines the results returned when searching for matching records between accounting systems.",propertyText:"Property",operatorText:"Operator",loadingText:"Loading...",filter_AddCondition:"Add Condition",filter_RemoveCondition:"Remove Condition",error_InvalidEndpoint:"Please specify a valid endpoint before continuing.",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_224c,nls);});},"Sage/QuickForms/Design/Editors/nls/FormBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/FormBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_224d,lang){var nls={root:{titleText:"Basic",generalText:"General",activeControlText:"Active Control:",activeControlTooltipText:"The control the user\\'s cursor starts on.",descriptionText:"Description:",descriptionTooltipText:"Optional description of the purpose of the form.",nameText:"Name:",nameTooltipText:"Form identifier used by the system."}};return lang.mixin(_224d,nls);});},"Sage/TaskPane/GroupListTasklet":function(){define("Sage/TaskPane/GroupListTasklet",["dojox/grid/DataGrid","Sage/Data/SDataStore","Sage/Data/SDataServiceRegistry","dojo/string","Sage/Groups/GroupContextService","dojo/_base/declare","dijit/_Widget","dojo/_base/lang","Sage/UI/Filters/FilterManager","dojo/_base/array","Sage/Utility/_LocalStorageMixin","dojo/topic"],function(_224e,_224f,_2250,_2251,_2252,_2253,_2254,lang,_2255,array,_2256,topic){var _2257=_2253("Sage.Groups.GroupListTasklet",[_2254,_2256],{_contextSetHandle:null,_groupChangedHandle:null,gridLoadedHandler:null,gridOnSelectedHandle:null,groupContextService:null,context:null,grid:null,store:null,query:"",service:null,id:"GroupListTasklet",keyAlias:"",columnDisplayName:"",allowOnSelectToFire:true,STORE_KEY_STORE_QUERY:"_STORE_QUERY_",subscribesTo:{groupLookupSuccess:"/group/lookup/success",adhocGroupRemoved:"/group/adhoc/removed",groupNavFirst:"/group/nav/first",groupNavPrevious:"/group/nav/previous",groupNavNext:"/group/nav/next",groupNavLast:"/group/nav/last"},constructor:function(_2258){this.inherited(arguments);lang.mixin(this,_2258);this.groupContextService=Sage.Services.getService("ClientGroupContext");this.context=this.groupContextService.getContext();if(this.context.CurrentFamily===null){this._contextSetHandle=dojo.connect(this.groupContextService,"onContextSet",this,"_createList");}else{this._createList();}this._groupChangedHandle=dojo.connect(this.groupContextService,"onCurrentGroupChanged",this,"_groupChanged");topic.subscribe(this.subscribesTo.groupLookupSuccess,lang.hitch(this,this._onLookupSuccess));topic.subscribe(this.subscribesTo.groupNavFirst,lang.hitch(this,this._onGroupNavFirst));topic.subscribe(this.subscribesTo.groupNavPrevious,lang.hitch(this,this._onGroupNavPrevious));topic.subscribe(this.subscribesTo.groupNavNext,lang.hitch(this,this._onGroupNavNext));topic.subscribe(this.subscribesTo.groupNavLast,lang.hitch(this,this._onGroupNavLast));topic.subscribe(this.subscribesTo.adhocGroupRemoved,lang.hitch(this,this._onRecordRemoved));},_onLookupSuccess:function(args){Sage.Link.toListView();},_onGroupNavFirst:function(args){this.selectGridRow(0);},_onGroupNavLast:function(args){this.selectGridRow(args.count-1);},_onGroupNavPrevious:function(args){var _2259=args.position-1;this.selectGridRow(_2259-1);},_onGroupNavNext:function(args){var _225a=args.position-1;this.selectGridRow(_225a+1);},_onRecordRemoved:function(args){var index,_225b;index=this.grid.selection.selectedIndex;if(index===0){_225b=index+1;}else{_225b=index-1;}this.selectGridRow(_225b);this._onSelected(_225b);this._onRecordRemovedRefresh(index===0?index:_225b);},_onRecordRemovedRefresh:function(index){if(this.grid){this.gridRefreshedHandler=dojo.connect(this.grid,"_onFetchComplete",this,function(){this.selectGridRow(index);});try{this.grid.setStore(this.get("store"));}catch(err){}}},_groupChanged:function(){if(this.grid&&!this.shouldNotUpdate){this.gridLoadedHandler=dojo.connect(this.grid,"_onFetchComplete",this,"_groupChangedAndLoaded");try{this.grid.setStore(this.get("store"));}catch(err){}}},_groupChangedAndLoaded:function(){this.selectGridRow(0);this._onSelected(0);if(this.gridLoadedHandler){dojo.disconnect(this.gridLoadedHandler);}},_getStoreQueryKey:function(){var id=this.STORE_KEY_STORE_QUERY+this._getGroupID();return id;},_getGroupNS:function(){var ns=Sage.Groups.GroupManager.LOCALSTORE_NAMESPACE+"-"+this._getGroupID();return ns;},_getGroupID:function(){this.context=this.groupContextService.getContext();var _225c=-1;if(this.context){_225c=this.context.CurrentGroupID;}return _225c;},_getStoreAttr:function(){this.context=this.groupContextService.getContext();this.context.CurrentFamily=this.context.CurrentFamily.toUpperCase();var _225d="'"+this.context.CurrentGroupID+"'";if(this.context["CurrentGroupID"]==="LOOKUPRESULTS"){this.context["CurrentName"]="Lookup Results";}var temp=this.getFromLocalStorage(this._getStoreQueryKey(),this._getGroupNS()),_225e={resourceKind:"groups",service:this.service,queryName:"execute",resourcePredicate:_225d,select:[this.keyAlias,this.columnDisplayName]};if(temp&&temp.store&&temp.query){_225e.select=temp.store.select;_225e.resourcePredicate=temp.store.resourcePredicate;this.query=temp.query;if(this.query){_225e.where=this.query;}}this.store=new _224f(_225e);return this.store;},refreshGrid:function(){this.context=this.groupContextService.getContext();var _225f=this.context.CurrentEntityPosition-1;this.selectGridRow(_225f);if(this.gridRefreshedHandler){dojo.disconnect(this.gridRefreshedHandler);}},selectGridRow:function(_2260){this.allowOnSelectToFire=false;if(this.grid.rowCount>0){this.grid.scrollToRow(_2260);this.grid.selection.clear();this.grid.selection.select(_2260);this.grid.onSelected(_2260);}else{Sage.Link.toListView();}this.allowOnSelectToFire=true;},uninitialize:function(){try{if(this.grid&&this.grid.destroy){this.grid.destroy();}if(this.gridOnSelectedHandle){this.gridOnSelectedHandle.remove();}}catch(err){}this.inherited(arguments);},_createList:function(){var self=this,_2261=this.id+"_grid",grid;this.service=_2250.getSDataService("system");if(this.grid){this.grid.setStore(this.get("store"));grid=this.grid;}else{grid=new _224e({store:this.get("store"),id:_2261,structure:[{field:"_item",headerClasses:"displaynone",width:"100%",formatter:function(item){return(item&&item.hasOwnProperty(self.columnDisplayName)?item[self.columnDisplayName]:dojo.string.substitute("(${0})",[item[self.keyAlias]]));}},{field:this.keyAlias,hidden:true,headerClasses:"displaynone",width:"0px"}],showTitle:false,autoWidth:false,rowSelector:false,selectionMode:"single",width:"100%",height:"230px"});dojo.byId(this.id+"_node").appendChild(grid.domNode);this.gridRefreshedHandler=dojo.connect(grid,"_onFetchComplete",this,"refreshGrid");grid.startup();this.grid=grid;}this.gridOnSelectedHandle=this.grid.on("selected",lang.hitch(this,this._onSelected));},_onSelected:function(index){if(!this.allowOnSelectToFire){return;}var cec,_2262,_2263,nav;if(Sage.Services.hasService("ClientEntityContext")){cec=Sage.Services.getService("ClientEntityContext");_2262=cec.getContext().EntityId;_2263=this.grid.selection.getFirstSelected();if(_2263){cec.navigateSLXGroupEntity(_2263[this.keyAlias],_2262,index+1);}}}});return _2257;});},"Sage/TaskPane/JobManagerTasksTasklet":function(){define("Sage/TaskPane/JobManagerTasksTasklet",["dojo/i18n!./nls/JobManagerTasksTasklet","dojo/_base/declare","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/TaskPane/TaskPaneItem","dojo/_base/array","dojo/string"],function(_2264,_2265,_2266,_2267,_2268,_2269,_226a){var _226b=_2265("Sage.TaskPane.JobManagerTasksTasklet",[_2266,_2267],{taskItems:[],constructor:function(){dojo.mixin(this,_2264);this.taskItems=this._getTaskletItems();dojo.subscribe("/group/context/changed",this,this._onGroupContextChanged);},_getTaskletItems:function(){var _226c=this._getCurrentGroupId();switch(_226c){case"jobDefinitions":return this._getDefinationsTasks();case"schedules":return this._getSchedulesTasks();default:return this._getExecutionsTasks();}},_getCurrentGroupId:function(){var svc=Sage.Services.getService("ClientGroupContext");var _226d=svc.getContext();return _226d.CurrentGroupID;},_getExecutionsTasks:function(){var _226e=[{taskId:"taskCancelExecution",type:"Link",displayName:this.taskCancelJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showCancelExecutionDialog();",securedAction:"Entities/JobManager/CancelJob"}];return _226e;},_getDefinationsTasks:function(){var _226f=[{taskId:"taskRunJob",type:"Link",displayName:this.taskRunJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showRunJobDialog(true);",securedAction:"Entities/JobManager/RunJob"}];return _226f;},_getSchedulesTasks:function(){var _2270=[{taskId:"taskRunJob",type:"Link",displayName:this.taskEditTrigger_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.showRunJobDialog(false);",securedAction:"Entities/JobManager/RunJob"},{taskId:"taskDeleteScheduledJob",type:"Link",displayName:this.taskDeleteScheduledJob_Caption,clientAction:"Sage.MainView.JobMgr.JobManagerActions.deleteScheduledJob();",securedAction:"Entities/JobManager/DeleteScheduledJob"}];return _2270;},_onGroupContextChanged:function(){var self=this;dojo.empty("JobManagerTasks");var _2271=this._getTaskletItems();if(_2271){_2269.forEach(_2271,function(_2272,i){dojo.place(_226a.substitute('<div dojotype="Sage.TaskPane.TaskPaneItem" class="task-pane-item-common-tasklist" linkText="${0}" securedAction="${1}" action="javascript: ${2}"></div><br />',[_2272.displayName,_2272.securedAction,_2272.clientAction]),self.taskletContainerNode);});}dojo.parser.parse(self.taskletContainerNode);},});return _226b;});},"Sage/Layout/MainContentDetailsPane":function(){define("Sage/Layout/MainContentDetailsPane",["dojo/_base/declare","dojo/dom-style","Sage/Layout/ContentPane"],function(_2273,_2274,_2275){var _2276=_2273("Sage.Layout.MainContentDetailsPane",[_2275],{postCreate:function(){this.inherited(arguments);var _2277=Sage.Services.getService("ClientEntityContext");if(_2277){var _2278=_2277.getContext();this.storageId=[_2278.EntityType.replace(/\./g,"_"),"_",this.id].join("");}this.connect(this,"startup",this.noContentResize);},mainPaneChildrenExist:true,tabPaneChildrenExist:true,noContentResize:function(){var dim={h:this.domNode.scrollHeight,w:this.domNode.scrollWidth},self=this;var _2279=function(){self.resize(dim);_2274.set(self._splitterWidget.domNode,"display","none");};if(!this.tabPaneChildrenExist){var _227a=dijit.byId("centerContent");dim={h:_227a.domNode.scrollHeight,w:this.domNode.scrollWidth};_2279();}if(!this.mainPaneChildrenExist){dim={h:1,w:this.domNode.scrollWidth};_2279();}},startup:function(){var _227b=dijit.byId("Viewport");var _227c=dojo.query("[id$=_inner]",dojo.query(".mainContentContent")[0])[0];if(_227c){this.mainPaneChildrenExist=(_227c.children.length>1||dojo.query("#MainContent .formtable").length>0||_227c.id==="GeneralExceptioncontents_inner");}else{this.mainPaneChildrenExist=false;}this.tabPaneChildrenExist=(dijit.byId("tabContent").domNode.children.length>0);if(!this.tabPaneChildrenExist||!this.mainPaneChildrenExist){this.set("splitter",false);}if(this.splitter){var _227d=dojo.query("[class$=SecondaryToggle]");if(_227d){for(var i=0;i<_227d.length;i++){dojo.style(_227d[i],"display","none");}}}if(_227b){_227b.resize();}this.inherited(arguments);}});return _2276;});},"Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup":function(){require({cache:{"url:Sage/MainView/ActivityMgr/AttendeeLookup/templates/SpeedSearchLookup.html":'[\r\n\'<div>\',\r\n    \'<div data-dojo-type="dijit.Dialog" id="{%= $.id %}-Dialog" title="" dojoAttachPoint="_dialog" >\', //dialog\r\n         \'<div class="event-dialog">\',\r\n        \'<div style="padding:5px;" id="{%= $.id %}-Condition-container">\',\r\n            \'<input id="Text1" type="text" style="width:85%;"  data-dojo-attach-point="_valueBox" data-dojo-attach-event="onkeypress:_onKeyPress"/>\',     \r\n            \'<button id="{%= $.id %}-Search" data-dojo-type="dijit.form.Button" type="button" dojoAttachPoint="searchButton" dojoAttachEvent="onClick:_doSearch">{%= $.srchBtnCaption %}</button>\',\r\n          \r\n        \'</div>\',    \r\n        \'<div data-dojo-attach-point="contentNode">\',  \r\n        \'<div id="{%= $.id %}-Grid-container" dojoAttachPoint="_speedSearchGrid"  style="width:auto;height:400px;"></div>\',\r\n        \'</div>\',\r\n            \'<div class="lookupButtonWrapper">\',           \r\n                \'<button data-dojo-type="dijit.form.Button" type="button" id="{%= $.id %}-GridSelectButton" \',\r\n                    \'onClick="dijit.byId(\\\'{%= $.id %}\\\').getGridSelections(); ">{%= $.okText %}\',\r\n                   \'</button>\',            \r\n                \'<button data-dojo-type="dijit.form.Button" type="button" id="{%= $.id %}-CloseButton" \',\r\n                    \'onClick="dijit.byId(\\\'{%= $.id %}-Dialog\\\').hide();">{%= $.cancelText %}</button>\',\r\n            \'</div>\',\r\n             \'</div>\',\r\n     \'</div> \', //dialog   \r\n\'</div>\'\r\n]'}});define("Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup",["dojo/_base/html","dojox/grid/DataGrid","Sage/Data/SDataServiceRegistry","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","dijit/Dialog","dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/string","dojo/_base/array","dijit/registry","dojo/text!./templates/SpeedSearchLookup.html","dojo/_base/declare","Sage/Data/ServiceOperationSDataStore","dojo/i18n!./nls/SpeedSearchLookup"],function(html,_227e,_227f,_2280,_2281,_2282,_2283,_2284,_2285,_2286,array,_2287,_2288,_2289,_228a,_228b){var _228c=_2289("Sage.MainView.ActivityMgr.AttendeeLookup.SpeedSearchLookup",[_2283,_2284],{id:"speedSearchLookup",btnIcon:"images/icons/plus_16x16.gif",btnToolTip:"Lookup",dialogTitle:"Contact/Lead Look up",closeText:"Close",loadingText:"Loading...",_initialized:false,_started:false,dialogButtonText:"Search",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2288)),srchBtnCaption:"Search",_store:null,_grid:null,currentPage:0,pageSize:100,indexes:[{indexName:"Contact",indexType:1,isSecure:true},{indexName:"Lead",indexType:1,isSecure:true}],types:["Contact","Lead"],iconPathsByType:{"Account":"content/images/icons/Company_24.png","Activity":"content/images/icons/To_Do_24x24.png","Contact":"content/images/icons/Contacts_24x24.png","History":"content/images/icons/journal_24.png","Lead":"content/images/icons/Leads_24x24.png","Opportunity":"content/images/icons/opportunity_24.png","Ticket":"content/images/icons/Ticket_24x24.png"},constructor:function(){_2285.mixin(this,_228b);},postMixInProperties:function(){},startup:function(){this._buildGrid();var self=this;},extractTypeFromItem:function(item){for(var i=0;i<this.types.length;i++){if(item.source.indexOf(this.types[i])!==-1){return this.types[i];}}return null;},extractDescriptorFromItem:function(item,type){var _228d="";switch(type){case"Contact":_228d=_2286.substitute("${lastname}, ${firstname}",this.getFieldValues(item.fields,["firstname","lastname"]));break;case"Lead":_228d=_2286.substitute("${lastname}, ${firstname}",this.getFieldValues(item.fields,["firstname","lastname"]));break;}return _228d;},extractKeyFromItem:function(item){var _228e,len;_228e=item.displayName;if(!_228e){return"";}len=_228e.length;return _228e.substring(len-12);},getFieldValue:function(_228f,name){for(var i=0;i<_228f.length;i++){var field=_228f[i];if(field.fieldName==name){return field.fieldValue;}}return"";},getFieldValues:function(_2290,names){var _2291={};array.forEach(names,function(name){_2291[name]="";});array.forEach(_2290,function(field){array.forEach(names,function(name,i){if(field.fieldName===name){_2291[name]=field.fieldValue;}});});return _2291;},showLookup:function(_2292){this._dialog.set("title",this.dialogTitle);this.eventDefaultValues=_2292||{};this._dialog.show();if(!this._initialized){this._initializeList();}this._dialog.set("refocus",false);},processFeed:function(feed){if(!this.feed){this.set("listContent","");}this.feed=feed=feed.response;if(feed.totalCount===0){this.set("listContent",this.noDataTemplate.apply(this));}else{if(feed.items){var o=[];for(var i=0;i<feed.items.length;i++){var entry=feed.items[i];entry.type=this.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||this.extractDescriptorFromItem(entry,entry.type);entry.$key=this.extractKeyFromItem(entry);this.entries[entry.$key]=entry;o.push(this.rowTemplate.apply(entry,this));}if(o.length>0){domConstruct.place(o.join(""),this.contentNode,"last");}}}if(typeof feed.totalCount!=="undefined"){var _2293=this.feed.totalCount-((this.currentPage+1)*this.pageSize);this.set("remainingContent",_2286.substitute(this.remainingText,[_2293]));}domClass.toggle(this.domNode,"list-has-more",this.hasMoreData());},_onComplete:function(feed,_2294){array.forEach(feed,function(entry,i){entry.type=self.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||self.extractDescriptorFromItem(entry,entry.type);entry.$key=self.extractKeyFromIt;entry.account=self.extractKeyFromIt;self._storeItems.push(entry);});},_initializeList:function(){var _2295=[{field:"$descriptor",name:this.colName,width:"20%"},{field:"type",name:this.colType,width:"10%"},{field:"accountName",name:this.colAccount,width:"30%"},{field:"title",name:this.colTitle,width:"10%"},{field:"email",name:this.colEmail,width:"30%"},{field:"phone",name:this.colWorkPhone,width:"30%"}];var self=this;var entry={request:{docTextItem:-1,searchText:"",searchType:1,noiseFile:"PMINoise.dat",includeStemming:false,includeThesaurus:false,includePhonic:false,useFrequentFilter:false,indexes:this.indexes,whichPage:this.currentPage,itemsPerPage:this.pageSize,filters:null},response:null};var _2296=function(feed,_2297){this._initialized=true;array.forEach(feed,function(entry,i){entry.type=self.extractTypeFromItem(entry);entry.$descriptor=entry.$descriptor||self.extractDescriptorFromItem(entry,entry.type);entry.$key=self.extractKeyFromItem(entry);entry.accountName=self.getFieldValue(entry.fields,"account");entry.title=self.getFieldValue(entry.fields,"title");entry.email=self.getFieldValue(entry.fields,"email");entry.phone=self.getFieldValue(entry.fields,"phone");});};var _2298=this._store=new _228a({service:_227f.getSDataService("system"),contractName:"system",operationName:"executeSearch",entry:entry,onProcess:_2296});var grid=this._grid=new dojox.grid.EnhancedGrid({id:"speedSearchGrid",store:_2298,structure:_2295,layout:"layout",noDataMessage:"<span class='dojoxGridNoData'>"+this.noDataText+"</span>",rowsPerPage:100},dojo.byId(this._speedSearchGrid));this._grid.canSort=function(col){return false;};dojo.connect(this._grid,"onDblClick",this,this.onDoubleClick);this._in=true;},onDoubleClick:function(event){this.getGridSelections();},uninitialize:function(){if(!this.contentNode){return;}array.forEach(this.mainHandles,function(_2299){_2299.remove();});this._destroyContent();this.inherited(arguments);},_destroyContent:function(){if(!this.contentNode){return;}array.forEach(_2287.findWidgets(this.contentNode),function(_229a){_229a.destroy(false);});array.forEach(this.handles,function(_229b){_229b.remove();});this.handles=[];this.contentNode.innerHTML="";},initDialog:function(){},_onKey:function(evt){var self=this,args=arguments;dojo.query("*",this.domNode).forEach(function(node,index,arr){if(node===evt.target){self.inherited(args);}});},getGridSelections:function(){var items=this._grid.selection.getSelected();this.doSelected(items);this._grid.selection.deselectAll();},doSelected:function(items){},_cancelClick:function(){this.hide();},hide:function(){this._dialog.hide();},_doSearch:function(){if(this._valueBox.value){this._store.entry.request.searchText=this._valueBox.value;if(!this._started){this._started=true;this._grid.startup();}else{dijit.byId("speedSearchGrid").setQuery();this._grid.store=this._store;this._grid.update();}}},_onKeyPress:function(evt){if(evt.keyCode==13||evt.keyCode==10){this._valueBox.blur();this._doSearch();}},destroy:function(){var _229c=dijit.byId([this.id,"-Dialog"].join(""));if(this.btnIcon){dojo.destroy(this.btnIcon);}dojo.disconnect(this._doSearchConnection);dojo.unsubscribe(this._addCondHandle);dojo.unsubscribe(this._removeCondHandle);if(this.conditionMgr){this.conditionMgr.destroy(false);}if(_229c){_229c.uninitialize();}this.inherited(arguments);}});return _228c;});},"Sage/Utility/ErrorHandler":function(){define("Sage/Utility/ErrorHandler",["Sage/Utility","Sage/UI/Dialogs","dojo/io-query","dojo/string","dojo/_base/array"],function(_229d,_229e,_229f,_22a0,array){Sage.namespace("Utility.ErrorHandler");dojo.mixin(Sage.Utility.ErrorHandler,{_debugEndRequest:false,_configuration:{isDebug:false,preemption:{enabled:true,allowAuthRedirect:true,handledStatusCodes:"577,578,579,580,581,582",showPreemptedErrorMsg:false,showInternalServerErrorMsg:false,showUnhandledMessagingServiceExceptionMsg:true},authenticationRedirectUrl:null,showExtendedValidationException:false,showExtendedRoleAccessDeniedException:false},_fmtSlxErrorId:function(_22a1){if(Sage.Utility.isStringWithLength(_22a1)){if(this._configuration.isDebug){return _22a0.substitute('\r\n\r\nSaleslogix Error Id: <a href="SLXErrorLookupService.asmx/GetEventLogError?slxErrorId=${0}" target="_blank">${0}</a>',[_22a1]);}else{return _22a0.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_22a1]);}}return"";},_fmtStackTrace:function(_22a2){if(this._configuration.isDebug&&Sage.Utility.isStringWithLength(_22a2)){var stack=Sage.Utility.htmlEncode(_22a2).replace(/(\r\n)/g,"&#13;&#10;").trim();return _22a0.substitute('\r\n\r\nStack trace:\r\n<textarea id="StackTrace" cols="20" name="StackTrace" readonly="readonly" rows="1" style="width: 100%; height: 200px; font-family: \'Courier New\', Courier, monospace; font-size: small; background-color: #F2F2F2; color: #444444; 1px: ; opacity: 0.8; -moz-box-sizing: border-box; box-sizing: border-box;" unselectable="off" wrap="off">${0}</textarea>',[stack]);}return"";},_mixinConfig:function(){if(window.errorHandlerConfig&&typeof window.errorHandlerConfig==="object"){dojo.mixin(this._configuration,window.errorHandlerConfig);}},_preemptError:function(xhr,o){try{var _22a3=this.getHttpStatusInfo(xhr,o);if(this._configuration.isDebug&&typeof console!=="undefined"){}if(!(_22a3&&typeof _22a3==="object"&&_22a3.hasOwnProperty("sdataError"))){return false;}var _22a4=function(_22a5,_22a6){if(_22a5&&typeof _22a5==="object"&&typeof xhr.getResponseHeader!=="undefined"&&_22a6&&dojo.isString(_22a6)){var sUrl=_22a5.getResponseHeader(_22a6);if(sUrl&&Sage.Utility.isStringWithLength(sUrl)){return sUrl;}}return null;};var _22a7=function(_22a8){return _22a4(_22a8,"Sage-SalesLogix-Exception-Redirect");};var _22a9=function(_22aa){return _22a4(_22aa,"Sage-SalesLogix-Error-Id");};var _22ab=function(url){if(typeof console!=="undefined"){}window.location=url;};var _22ac;if((this.isSDataExceptionDiagnoses(_22a3.sdataError.applicationCode)&&(_22a3.status==500)&&this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg)){this.showStatusInfoError(_22a3);return true;}switch(_22a3.status){case 401:if(typeof console!=="undefined"){console.error("Unauthorized (401): %o",_22a3.url);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 403:if(typeof console!=="undefined"){console.error("Forbidden (403): %o",_22a3.url);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 404:if(typeof console!=="undefined"){console.error("Not Found (404): %o",_22a3.url);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 408:if(typeof console!=="undefined"){console.error("Request Timeout: %o",_22a3.url);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 500:if(typeof console!=="undefined"){console.error("Internal Server Error (500) - HTTP Info: %o",_22a3);}if((this.isSDataExceptionDiagnoses(_22a3.sdataError.applicationCode)&&this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg)||this._configuration.preemption.showInternalServerErrorMsg){this.showStatusInfoError(_22a3);return true;}return false;case 575:if(typeof console!=="undefined"){console.error("AuthTokenNullException (575) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this._configuration.preemption.allowAuthRedirect){_22ac=_22a7(xhr);if(_22ac!==null){_22ab(_22ac);return true;}}return false;case 576:if(typeof console!=="undefined"){console.error("BaseException (576) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this._configuration.preemption.showPreemptedErrorMsg){this.showStatusInfoError(_22a3);return true;}return false;case 577:if(typeof console!=="undefined"){console.error("RoleAccessDeniedException (577) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 578:if(typeof console!=="undefined"){console.error("ValidationException (578) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 579:if(typeof console!=="undefined"){console.error("UserObservableException (579) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 580:if(typeof console!=="undefined"){console.error("HttpRequestValidationException (580) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 581:if(typeof console!=="undefined"){console.error("StringOrBinaryDataWouldBeTruncatedException (581) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;case 582:if(typeof console!=="undefined"){console.error("AccessException (582) - Saleslogix Error Id: %o; HTTP Info: %o",_22a9(xhr),_22a3);}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;default:if(typeof console!=="undefined"){}if(this.isConfiguredToHandle(_22a3.status)){this.showStatusInfoError(_22a3);return true;}return false;}}catch(e){if(typeof console!=="undefined"){}return false;}},init:function(){this._mixinConfig();if(this._configuration.preemption.enabled){if(typeof console!=="undefined"){}if(window.dojoConfig&&window.dojoConfig.ioPublish&&typeof window.dojoConfig.ioPublish==="boolean"&&window.dojoConfig.ioPublish===true){dojo.subscribe("/dojo/io/error",function(dfd,_22ad){if(dfd&&typeof dfd==="object"&&typeof dfd.ioArgs==="object"){if((Sage.Utility.ErrorHandler._hasErrorHandler(dfd.ioArgs.url)===false)||(dfd.ioArgs.xhr.status===575)){Sage.Utility.ErrorHandler._preemptError(dfd.ioArgs.xhr,{url:dfd.ioArgs.url});}}return _22ad;});}else{(function(){var _22ae=dojo.xhr;dojo.xhr=function(_22af,args,_22b0){return _22ae.apply(dojo,arguments).addErrback(function(err){if(err&&typeof err==="object"&&(err instanceof Error)&&typeof err.xhr==="object"){var sUrl=(args&&args.url)?args.url||"":"";if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(err.xhr.status===575)){Sage.Utility.ErrorHandler._preemptError(err.xhr,{url:sUrl});}}return err;});};})();}(function(){var _22b1=Sage.SData.Client.Ajax.request;Sage.SData.Client.Ajax.request=function(o){dojo.mixin(o,{__failure:null,__failureHandler:function(_22b2,opt){if(opt.__failure&&typeof opt.__failure==="function"){try{opt.__failure.call(opt.scope||this,_22b2,opt);}catch(e){if(typeof console!=="undefined"){console.error("There was an error calling the original failure() handler: %o",e);}}}var sUrl=opt.url;if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(_22b2.status===575)){Sage.Utility.ErrorHandler._preemptError(_22b2,opt);}return _22b2;}});if(typeof o.failure==="function"){o.__failure=o.failure;}o.failure=o.__failureHandler;return _22b1.apply(this,arguments);};})();if(typeof $==="function"){$(function(){jQuery(this).ajaxError(function(event,jqXhr,_22b3,_22b4){var sUrl=(typeof _22b3==="object")?(_22b3.url||""):"";var _22b5={url:sUrl};if((Sage.Utility.ErrorHandler._hasErrorHandler(sUrl)===false)||(jqXhr.status===575)){Sage.Utility.ErrorHandler._preemptError(jqXhr,_22b5);}});});}}},_getInternalHttpStatus:function(_22b6){if(_22b6&&typeof _22b6==="object"&&_22b6.hasOwnProperty("status")&&(isNaN(_22b6.status)===false)){if(typeof _22b6.sdataError==="object"&&this.isSDataExceptionDiagnoses(_22b6.sdataError.applicationCode)&&typeof _22b6.sdataError.appInfo==="object"&&typeof _22b6.sdataError.appInfo.exceptionKind==="string"){switch(_22b6.sdataError.appInfo.exceptionKind){case"AuthTokenNullException":return 575;case"BaseException":if(Number(_22b6.status)==500){return 576;}else{return Number(_22b6.status);}break;case"RoleAccessDeniedException":return 577;case"ValidationException":return 578;case"UserObservableException":return 579;case"HttpRequestValidationException":return 580;case"StringOrBinaryDataWouldBeTruncatedException":return 581;case"AccessException":return 582;default:return Number(_22b6.status);}}else{return Number(_22b6.status);}}return -1;},_getStatusInfoOptions:function(opt){var _22b7={"message":"","url":""};if(opt&&dojo.isObject(opt)){dojo.mixin(_22b7,opt);}return _22b7;},_handleAsDojoXhrHttpError:function(error,_22b8,opt){var _22b9=this._getStatusInfoOptions(opt);var _22ba="";if(error&&dojo.isObject(error)){_22ba=error.message||"";}if(_22ba!==""&&_22b9.message!==""){_22b9.message=_22b9.message+" "+_22ba;}else{_22b9.message=_22ba;}var xhr=(_22b8&&dojo.isObject(_22b8)&&_22b8.xhr&&dojo.isObject(_22b8.xhr))?_22b8.xhr:null;if(_22b9.url===""&&xhr!==null&&dojo.isString(_22b8.url)){_22b9.url=_22b8.url;}this._handleAsHttpError(xhr,null,_22b9);},_handleAsHttpError:function(xhr,sdata,_22bb){var _22bc=this.getHttpStatusInfo(xhr,sdata);if(_22bc!==null){this.showStatusInfoError(_22bc,_22bb);}else{var _22bd=(_22bb&&dojo.isObject(_22bb)&&Sage.Utility.isStringWithLength(_22bb.message))?_22bb.message:"There was an unknown error in response to an HTTP request.";_229e.showError(_22bd);}},_hasErrorHandler:function(url){var _22be="HASERRORHANDLER";if(url&&dojo.isString(url)&&url.toUpperCase().indexOf(_22be)!=-1){var query=url.substring(url.indexOf("?")+1,url.length);if(query!==""){var _22bf=_229f.queryToObject(query.toUpperCase());if(_22bf&&dojo.isObject(_22bf)){return _22bf[_22be]==="TRUE";}}}return false;},handleEndRequestError:function(args){if(this._debugEndRequest&&typeof console!=="undefined"){}if(args&&typeof args==="object"&&typeof args.get_error==="function"&&args.get_error()!==null){try{function _22c0(msg){if(msg&&dojo.isString(msg)){return msg.replace("Sys.WebForms.PageRequestManagerServerErrorException: ","").replace("Sys.WebForms.PageRequestManagerParserErrorException: ","").replace("Sys.WebForms.PageRequestManagerTimeoutException: ","");}return msg;}switch(args.get_error().name){case"Sys.WebForms.PageRequestManagerTimeoutException":case"Sys.WebForms.PageRequestManagerParserErrorException":_229e.showError(_22c0(args.get_error().message));args.set_errorHandled(true);return;}var _22c1=_22c0(args.get_error().message);var _22c2=args.get_error().httpStatusCode;if(_22c1==="${AjaxLoginRedirect}"||_22c1==="${LoginRedirect}"||_22c2==401||_22c2==575){if(this._configuration.preemption.allowAuthRedirect){var _22c3=this._configuration.authenticationRedirectUrl||"Login.aspx";if(typeof console!=="undefined"){}args.set_errorHandled(true);window.location=_22c3;return;}}var _22c4=args.get_response()!==null;var _22c5=_22c4?args.get_response().get_timedOut():false;var _22c6=_22c4?args.get_response().get_aborted():false;var _22c7=_22c4?args.get_response().get_statusCode():-1;var _22c8=_22c4?args.get_response().get_responseAvailable():false;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22c7===0||_22c6){args.set_errorHandled(true);return;}var _22c9=_22c8?(args.get_response().hasOwnProperty("_xmlHttpRequest")&&args.get_response()._xmlHttpRequest!==null):false;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22c9||_22c5){var xhr=args.get_response()._xmlHttpRequest;if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22c7==200||_22c5){if(this._debugEndRequest&&typeof console!=="undefined"){}_229e.showError(_22c0(args.get_error().message));args.set_errorHandled(true);return;}var _22ca=this.isConfiguredToHandle(_22c7,xhr);if(this._debugEndRequest&&typeof console!=="undefined"){}if(_22ca){if(this._debugEndRequest&&typeof console!=="undefined"){}this._preemptError(xhr);}else{if(this._debugEndRequest&&typeof console!=="undefined"){}this.handleHttpError(xhr);}args.set_errorHandled(true);return;}if(this._debugEndRequest&&typeof console!=="undefined"){}_229e.showError(_22c0(args.get_error().message));args.set_errorHandled(true);}catch(e){if(typeof console!=="undefined"){console.error("There was an error in handleEndRequestError(): %o",e);}}}else{if(this._debugEndRequest&&typeof console!=="undefined"){}}},handleHttpError:function(arg1,arg2,_22cb){var _22cc=(arg1&&dojo.isObject(arg1)&&typeof arg1.getResponseHeader!=="undefined");if(_22cc){this._handleAsHttpError(arg1,arg2,_22cb);}else{this._handleAsDojoXhrHttpError(arg1,arg2,_22cb);}},getInterceptedError:function(_22cd,_22ce){if(!Sage.Utility.isStringWithLength(_22cd)){return null;}if(Sage.Utility.isTrue(_22ce)){var obj=dojo.fromJson(_22cd);if(obj&&typeof obj==="object"){return obj;}}else{return{"text":_22cd};}return null;},getSDataDiagnosis:function(_22cf,isXml){if(!Sage.Utility.isStringWithLength(_22cf)){return null;}var obj;if(Sage.Utility.isTrue(isXml)){var xml=new XML.ObjTree();obj=xml.parseXML(_22cf);if(obj&&typeof obj==="object"&&obj.hasOwnProperty("sdata:diagnoses")){obj=obj["sdata:diagnoses"]["sdata:diagnosis"];if(!obj||typeof obj!=="object"){return null;}var _22d0=function(prop){var value=obj.hasOwnProperty(prop)?obj[prop]:"";if(value&&dojo.isString(value)){if(prop==="stackTrace"){if(!this._configuration.isDebug){return"";}}return value;}return"";};return{"severity":_22d0("sdata:severity"),"sdataCode":_22d0("sdata:sdataCode"),"applicationCode":_22d0("sdata:applicationCode"),"message":_22d0("sdata:message"),"stackTrace":_22d0("sdata:stackTrace"),"payloadPath":_22d0("sdata:payloadPath")};}}else{obj=dojo.fromJson(_22cf);if(obj&&dojo.isArray(obj)&&obj.length>0&&typeof obj[0]==="object"&&obj[0].hasOwnProperty("sdataCode")){return obj[0];}}return null;},getHttpStatusInfo:function(xhr,sdata){var _22d1=(xhr&&dojo.isObject(xhr)&&typeof xhr.getResponseHeader!=="undefined");if(!_22d1){return null;}var _22d2=this.safeGetPropValue(xhr,"status",-1);var _22d3=this.safeGetPropValue(xhr,"statusText","Unknown HTTP status. Possible timeout.");var _22d4={"message":_22a0.substitute("HTTP status: ${0} (${1}).",[_22d3,_22d2]),"status":_22d2,"statusText":_22d3,"url":(sdata&&dojo.isObject(sdata)&&dojo.isString(sdata.url))?sdata.url:"","sdataError":{}};if(xhr.readyState!==4){return _22d4;}var _22d5=xhr.getResponseHeader("Content-Type");if(dojo.isString(_22d5)){var self=this;switch(_22d2){case 576:case 577:case 578:case 579:case 580:case 581:case 582:var _22d6;var _22d7=function(_22d8){var _22d9=self.safeGetPropValue(xhr,"responseText","");return self.getInterceptedError(_22d9,_22d8);};if(_22d5.indexOf("application/json")!==-1){_22d6=_22d7(true);}else{if(_22d5.indexOf("text/plain")!==-1){_22d6=_22d7(false);if(_22d6&&typeof _22d6==="object"&&_22d6.hasOwnProperty("text")){if(_22d2===576){_22d4.message+="\r\n\r\n"+_22d6.text;}else{_22d4.message=_22d6.text;}return _22d4;}}else{return _22d4;}}if(_22d6&&typeof _22d6==="object"&&_22d6.hasOwnProperty("slxErrorId")){_22d4.errorInfo=_22d6;}break;default:var _22da;var _22db=function(isXml){var _22dc=self.safeGetPropValue(xhr,"responseText","");return self.getSDataDiagnosis(_22dc,isXml);};if(_22d5.indexOf("application/json")!==-1){_22da=_22db(false);}else{if(_22d5.indexOf("application/xml")!==-1){_22da=_22db(true);}else{return _22d4;}}if(_22da&&typeof _22da==="object"&&_22da.hasOwnProperty("sdataCode")){var _22dd={"severity":"","sdataCode":"","applicationCode":"","message":"","stackTrace":"","payloadPath":"",fmtError:function(){var _22de=[];for(var prop in this){if(prop=="message"||prop=="stackTrace"||prop=="fmtError"){continue;}var value=this[prop];if(dojo.isString(value)&&value!==""){_22de.push(_22a0.substitute("${0}=${1}",[prop.toString(),value]));}}return(_22de.length>0)?_22de.join("; "):"";}};_22d4.sdataError=_22dd;dojo.mixin(_22d4.sdataError,_22da);if(_22d4.sdataError.applicationCode&&this.isSDataExceptionDiagnoses(_22d4.sdataError.applicationCode)){var _22df=function(){var obj={};var _22e0=_22d4.sdataError.applicationCode.split("; ");array.forEach(_22e0,function(item){if(item&&dojo.isString(item)&&item.indexOf("=")!==-1){var _22e1=item.split("=");var name=_22e1[0].trim();var value=_22e1[1].trim();obj[name]=value;}});return obj;};_22d4.sdataError.appInfo=_22df();if(_22d4.sdataError.appInfo.hasOwnProperty("code")&&_22d4.sdataError.appInfo.source){_22d4.sdataError.applicationCode=_22d4.sdataError.appInfo.code+"|"+_22d4.sdataError.appInfo.source;}else{_22d4.sdataError.applicationCode=_22d4.sdataError.appInfo.source;}if(_22d4.sdataError.appInfo.source){delete _22d4.sdataError.appInfo.source;}}var _22e2="UNKNOWN";if(Sage.Utility.isStringWithLength(_22d4.sdataError.severity)){_22e2=_22d4.sdataError.severity.toUpperCase();}var _22e3={"INFO":"Informational message","WARNING":"Warning message","TRANSIENT":"Transient error","ERROR":"Operation failed","FATAL":"Severe error","UNKNOWN":"Unknown"};var _22e4=_22e3[_22e2]||_22e3["UNKNOWN"];var _22e5=_22d4.sdataError.message;if(dojo.isString(_22e5)){if(_22e5.trim().match("."+"$")!="."){_22e5+=".";}}if(this._configuration.isDebug){_22d4.message=_22a0.substitute("The following SData diagnosis occurred: Description=${0}. Message=${1} HTTP status: ${2} (${3}).",[_22e4,_22e5,_22d4.statusText,_22d4.status]);}else{var _22e6=this._getInternalHttpStatus(_22d4);var _22e7=true;switch(_22e6){case 577:if(!this._configuration.showExtendedRoleAccessDeniedException){_22e7=false;}break;case 578:if(!this._configuration.showExtendedValidationException){_22e7=false;}break;case 582:_22e7=false;break;}if(_22e7){_22d4.message=_22a0.substitute("${0} HTTP status: ${1} (${2}).",[_22e5,_22d4.statusText,_22d4.status]);}else{_22d4.message=_22e5;}}}break;}}return _22d4;},isConfiguredToHandle:function(_22e8,xhr){var _22e9=false;if(this._configuration.preemption.enabled===false){return false;}if(_22e8&&isNaN(_22e8)===false){switch(Number(_22e8)){case 500:if(this._configuration.preemption.showInternalServerErrorMsg){return true;}if(this._configuration.preemption.showUnhandledMessagingServiceExceptionMsg){var _22ea=this.getHttpStatusInfo(xhr);if(!(_22ea&&typeof _22ea==="object"&&_22ea.hasOwnProperty("sdataError"))){return false;}return this.isSDataExceptionDiagnoses(_22ea.sdataError.applicationCode);}break;case 575:return this._configuration.preemption.allowAuthRedirect;case 576:return this._configuration.preemption.showPreemptedErrorMsg;default:if(this._configuration.preemption.handledStatusCodes!==""){var _22eb=this._configuration.preemption.handledStatusCodes.split(",");array.some(_22eb,function(sc){if(sc==_22e8){_22e9=true;return true;}else{return false;}});}break;}}return _22e9;},isSDataExceptionDiagnoses:function(_22ec){if(_22ec&&typeof _22ec==="string"&&_22ec.indexOf("SDataExceptionDiagnoses")!=-1){return true;}return false;},preemptError:function(xhr,o){this._preemptError(xhr,o);},safeGetPropValue:function(obj,prop,_22ed){try{return obj[prop];}catch(e){return _22ed;}},showStatusInfoError:function(_22ee,opt){var _22ef=this._getStatusInfoOptions(opt);var _22f0=_22ef.message;var _22f1="";var _22f2="";var _22f3="";var _22f4="";var _22f5=this._getInternalHttpStatus(_22ee);if((_22f5==575)&&this._configuration.preemption.allowAuthRedirect){window.location=this._configuration.authenticationRedirectUrl||"Login.aspx";return;}if(_22ee&&dojo.isObject(_22ee)&&dojo.isString(_22ee.message)){_22f0+=(_22f0==="")?_22ee.message:" "+_22ee.message;switch(_22f5){case 575:case 576:case 577:case 578:case 579:case 580:case 581:case 582:_22f0=Sage.Utility.htmlEncode(_22ee.message);if(typeof _22ee.errorInfo==="object"){_22f0=Sage.Utility.htmlEncode(_22ee.errorInfo.message);}switch(_22f5){case 577:if(!this._configuration.showExtendedRoleAccessDeniedException){_229e.showError(_22f0);return;}break;case 578:if(!this._configuration.showExtendedValidationException){_229e.showError(_22f0);return;}break;case 579:break;case 576:case 580:case 581:if(_22ee.status!=500){_22f0+=_22a0.substitute(" HTTP status: ${info.statusText} (${info.status}).",{info:_22ee});}break;case 582:_229e.showError(_22f0);return;}break;}if(typeof _22ee.sdataError==="object"&&typeof _22ee.sdataError.appInfo==="object"){_22f3=_22a0.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_22ee.sdataError.appInfo.slxErrorId]);_22f4=this._fmtSlxErrorId(_22ee.sdataError.appInfo.slxErrorId);_22f0+=_22f4;}if(typeof _22ee.errorInfo==="undefined"){var sUrl=null;if(Sage.Utility.isStringWithLength(_22ee.url)){if(_22f0.indexOf(decodeURIComponent(_22ee.url))==-1){sUrl=decodeURIComponent(_22ee.url);}}else{if(Sage.Utility.isStringWithLength(_22ef.url)){if(_22f0.indexOf(decodeURIComponent(_22ef.url))==-1){sUrl=decodeURIComponent(_22ef.url);}}}if(sUrl!==null){_22f0+=_22a0.substitute("\r\n\r\nURL: ${0}",[sUrl]);}}if(this._configuration.isDebug){if(typeof _22ee.sdataError==="object"){if(dojo.isFunction(_22ee.sdataError.fmtError)){_22f0+=_22a0.substitute("\r\n\r\nExtended SData diagnosis information: ${0}.",[_22ee.sdataError.fmtError()]);}if(typeof _22ee.sdataError.appInfo==="object"){_22f0+=_22a0.substitute("\r\n\r\nException type: ${info.exceptionType}\r\n\r\nSource: ${info.exceptionSource}",{info:_22ee.sdataError.appInfo});}if(_22ee.sdataError.stackTrace){_22f1=_22ee.sdataError.stackTrace;_22f2=this._fmtStackTrace(_22ee.sdataError.stackTrace);_22f0+=_22f2;}}}var mail={subject:"Saleslogix Exception Details"};if(typeof _22ee.errorInfo==="object"){_22f3=_22a0.substitute("\r\n\r\nSaleslogix Error Id: ${0}",[_22ee.errorInfo.slxErrorId]);_22f4=this._fmtSlxErrorId(_22ee.errorInfo.slxErrorId);_22f0+=_22f4;_22f0+=_22a0.substitute("\r\n\r\nURL: ${info.request.url}",{info:_22ee.errorInfo});if(this._configuration.isDebug){if(_22ee.errorInfo.stackTrace){_22f1=_22ee.errorInfo.stackTrace;_22f2=this._fmtStackTrace(_22ee.errorInfo.stackTrace);_22ee.errorInfo.__stackTrace=_22f2;_22f0+=_22a0.substitute("\r\n\r\nException type: ${info.type}\r\n\r\nSource: ${info.source}${info.__stackTrace}\r\n\r\nTarget site: ${info.targetSite}",{info:_22ee.errorInfo});}}mail.subject=_22a0.substitute("Saleslogix Exception Details (Saleslogix Error Id: ${0})",[_22ee.errorInfo.slxErrorId]);}mail.subject=encodeURIComponent(mail.subject);if(_22f1!==""){_22f1=_22a0.substitute("\r\n\r\nStack trace:\r\n${0}",[_22f1]);}mail.message=encodeURIComponent(Sage.Utility.htmlDecode(_22f0.replace(_22f2,_22f1).replace(_22f4,_22f3)));mail.linkCaption="Mail details of this exception to your administrator";_22f0+=_22a0.substitute('\r\n\r\n<a href="mailto:?subject=${info.subject}&amp;body=${info.message}">${info.linkCaption}</a>',{info:mail});}if(_22f0===""){_22f0="There was an unknown error.";}_22f0=_22f0.replace(/(\r\n)/g,"<br />");_229e.showError(_22f0);}});Sage.Utility.ErrorHandler.init();return Sage.Utility.ErrorHandler;});},"Sage/UI/GroupsTitlePaneConfigProvider":function(){define("Sage/UI/GroupsTitlePaneConfigProvider",["Sage/UI/_TitlePaneConfigProvider","Sage/Data/BaseSDataStore","Sage/UI/GroupMenuFmtScope","Sage/UI/GridMenuItem","Sage/Groups/GroupManager","Sage/Utility","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/string","Sage/Groups/GroupLookup","Sage/UI/SearchMenuItem","Sage/UI/ImageButton","dojo/i18n!./nls/GroupsTitlePaneConfigProvider","dijit/popup"],function(_22f6,_22f7,_22f8,_22f9,_22fa,_22fb,array,_22fc,lang,_22fd,_22fe,_22ff,_2300,_2301,pm){var _2302=_22fc("Sage.UI.GroupsTitlePaneConfigProvider",_22f6,{searchText:"Lookup",lookupResultsText:_2301.lookupResultsText,store:false,_requestOptions:false,_grpContextHandle:false,config:false,requestTitlePaneConfiguration:function(_2303){var _2304,gSvc,_2305,_2306,_2307,_2308;if(this._isInsertMode()){if(_2303.success){this.config={menu:false,tabs:false};_2303.success.call(_2303.scope||this,this.config,this);}return;}_2304=Sage.Data.SDataServiceRegistry.getSDataService("system");this.store=new _22f7({service:_2304,resourceKind:"groups",include:[],sort:[{attribute:"displayName",descending:false}],select:["$key","$descriptor","name","isHidden","family","displayName"]});gSvc=Sage.Services.getService("ClientGroupContext");_2305=gSvc.getContext();if(_2305.notGroupBased){return;}if(!_2305.CurrentFamily){this._requestOptions=_2303;this._grpContextHandle=dojo.connect(gSvc,"onContextSet",this,"_groupContextSetCallback");return;}_2306=this._getMenuConfig();_2307=dijit.byId("GroupLookupButton");if(_2307){_2307.destroy(true);}_2308=this._getTabConfig();this.config={menu:_2306,tabs:_2308};if(_2303.success){_2303.success.call(_2303.scope||this,this.config,this);}},_isInsertMode:function(){var mode=Sage.Utility.getModeId();return(mode&&(mode.toLowerCase()==="insert"));},_groupContextSetCallback:function(_2309){if(this._grpContextHandle){dojo.disconnect(this._grpContextHandle);this._grpContextHandle=false;}else{return;}this.config={menu:this._getMenuConfig(),tabs:this._getTabConfig()};if(this._requestOptions.success){this._requestOptions.success.call(this._requestOptions.scope||this,this.config,this);}},_getTabConfig:function(){var gSvc=Sage.Services.getService("ClientGroupContext"),_230a=gSvc&&gSvc.getContext();return{store:this.store,selectedTabId:_230a.CurrentGroupID,selectedTabName:_230a.CurrentName,tabKeyProperty:"$key",tabNameProperty:"$descriptor",tabGroupNameProperty:"name",tabHiddenProperty:"isHidden",showTabContextMenus:true,fetchParams:{query:_22fd.substitute("upper(family) eq '${0}'",[_230a.CurrentFamily.toUpperCase()]),count:1000,start:0,sort:[{attribute:"displayName"}]},lookupButton:new _2300({id:"GroupLookupButton",label:"",imageClass:"icon_Find_16x16",title:_2301.lookupText,onClick:function(){var _230b=Sage.Services.getService("ClientGroupContext"),_230c;if(_230b){_230c=Sage.Services.getService("GroupLookupManager");if(_230c){_230c.showLookup();}}}}),staticTabs:[{"$key":"LOOKUPRESULTS","$descriptor":this.lookupResultsText,closable:false,contextMenuItems:this._getTabContextMenuItems()}],onTabSelect:function(child,_230d){var id,_230e;if(_230d){return;}id=(typeof child==="string")?child:child.id;_230e=Sage.Services.getService("ClientGroupContext");if(_230e){if(id!=="DOLOOKUP"){_230e.setCurrentGroup(id);}}},onTabClose:function(tab){Sage.Groups.GroupManager.HideGroup(tab.id);},onTabClick:function(e){var mode=_22fb.getModeId(),_230f=Sage.Services.getService("ClientGroupContext"),tabs=dijit.byId("GroupTabs"),_2310="",_2311="",_230a=null,_2312=e.target,title="";if(mode!=="detail"){return;}array.forEach(tabs.getChildren(),function(item){if(item.selected){_2310=item.id;title=item.title;}});if(_230f){_230a=_230f.getContext();if(_2310!=="DOLOOKUP"&&_230a){_2311=_230a.CurrentGroupID;}}if(_2310===_2311&&_2312&&_2312.innerHTML===title){Sage.Link.toListView();}}};},_getTabContextMenuItems:function(){var items;if(Sage.UI.DataStore.ContextMenus&&Sage.UI.DataStore.ContextMenus.GroupLookupTabContextMenu){items=Sage.UI.DataStore.ContextMenus.GroupLookupTabContextMenu.items;}return items;},_getMenuConfig:function(){var _2313=Sage.Services.getService("ClientGroupContext"),_2314=_2313.getContext(),_2315=_2314.CurrentName||"";return{id:"mnuGroupMenu",cls:"",img:"images/icons/Groups_16x16.gif",imageClass:"icon_Groups_16x16",text:_2301.groupText,tooltip:_2301.groupButtonTooltip,addGroupTooltip:_2301.addGroupButtonTooltip,width:"350px",items:[{cls:"",id:"sep2",text:"-",img:"",tooltip:"",href:"",isSeparator:true},{fn:this._getGroupMenuSearch,scope:this},{fn:this._getGroupMenuGrid,scope:this}]};},_getGroupMenuGrid:function(){var that=this,_2316=new _22f8({store:this.store}),query={},_2317=false,svc=Sage.Services.getService("ClientGroupContext"),key="GroupMenuShowHidden",_2318=sessionStorage.getItem(key),_2319=_2318!=="true";if(svc){_2317=svc.getContext();if(_2317.CurrentEntity){query=_22fd.substitute("upper(family) eq '${0}'",[_2317.CurrentFamily.toUpperCase()]);}}return new _22f9({gridOptions:{id:"groupsGridInMenu",store:that.store,rowsPerPage:40,structure:[{name:"&nbsp;",field:"$key",formatter:"fmtSelectedCol",width:"20px"},{name:_2301.groupColumnText,field:"displayName",width:_2319?"260px":"205px"},{name:_2301.visibleColumnText,field:"isHidden",formatter:"fmtHideCol",width:"55px",hidden:_2319}],loadingMessage:"Loading...",noDataMessage:"No records returned",selectionMode:"single",query:query,height:"400px",width:"275px",formatterScope:_2316,_onCellClick:function(e){if(!this.processingRequest){this.processingRequest=true;var _231a,_231b,_231c=e.grid.getParent(),menu=_231c&&_231c.getParent(),_231d,_231e,_231f=false,_2317;if(!this.menuClosedHandle){this.menuClosedHandle=menu.on("close",lang.hitch(this,function(){var _2320=dijit.byId("titlePane");if(_2320&&!_231f){_2320.resetConfiguration();}this.processingRequest=false;this.menuClosedHandle.remove();this.menuClosedHandle=null;}));}if(e.cell.index===1){_231a=e.grid.getItem(e.rowIndex);_231b=Sage.Services.getService("ClientGroupContext");if(_231b){_2317=_231b.getContext();var _2321=dijit.byId("mnuGroupMenu");if(_2317&&_2317.CurrentGroupID===_231a.$key){_2321._onClick(e);pm.close(menu);}else{_231f=true;_231e=dojo.connect(_231b,"onCurrentGroupChanged",e.grid,function(){this.started=false;dojo.disconnect(_231e);_2321._onClick(e);pm.close(menu);});_231b.setCurrentGroup(_231a.$key);}}}else{e.grid.started=false;this.processingRequest=false;e.stopPropagation();}}}},width:"300px",height:"400px"});},_getGroupMenuSearch:function(){return new _22ff({});}});return _2302;});},"Sage/MainView/ActivityMgr/nls/OccurrenceOrSeriesQueryDlg":function(){define("Sage/MainView/ActivityMgr/nls/OccurrenceOrSeriesQueryDlg",["Sage/LanguageList","dojo/_base/lang"],function(_2322,lang){var nls={root:{titleFmt:"${type} - ${description}",actDateText:"Activity Date:",contactText:"Contact:",accountText:"Account:",opportunityText:"Opportunity:",editAllText:"Edit all Occurrences",editOneText:"Edit this Occurrence",completeAllText:"Complete all Occurrences",completeOneText:"Complete this Occurrence",deleteAllText:"Delete all Occurrences",deleteOneText:"Delete this Occurrence",continueText:"Continue",failedToLoadMsg:"Could not load activity"}};return lang.mixin(_2322,nls);});},"url:Sage/MainView/IntegrationContract/templates/SalesQuoteRTDV.html":'[\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="{%= $.id%}_salesQuoteDetailsDialog" title="{%= $.dialogCaption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:hideDetailsDialog">\',\r\n        \'<div dojoAttachPoint="loadingContainer">\',\r\n            \'<br />\',\r\n            \'<label class="wizardsectiontitle boldText padBottom" style="padding-left:20px">{%= $.loadingText %}</label>\',\r\n            \'<br />\',\r\n            \'<br />\',\r\n        \'</div>\',\r\n        \'<table cellspacing="5" dojoAttachPoint="salesQuoteDetails" border="0" width="100%" class="display-none">\',\n            \'<div>\',\r\n                \'<tr>\',\n\t\t\t        \'<td>\',\r\n\t\t\t             \'<label for="SalesQuote_reference">{%= $.lblSalesQuoteCaption %}</label>\',\r\n\t\t\t        \'</td>\',\r\n                    \'<td>\',\r\n                        \'<input type="text" id="{%= $.id%}_reference" name="reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesQuote_status">{%= $.lblStatusCaption %}</label>\',\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_status" name="status" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                    \'<td>\',\n                        \'<label for="SalesQuote_grossTotal">{%= $.lblGrossTotalCaption %}</label>\',\r\n                    \'</td>\',\n                    \'<td>\',\n                        \'<input type="text" id="{%= $.id%}_grossTotal" name="grossTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</div>\',\r\n        \'</table>\',\r\n        \'<div style="height:370px;width:800px" dojoAttachPoint="tabContentDetails" class="display-none">\',\r\n            \'<div id="{%= $.id%}_salesQuoteContainer" dojoAttachPoint="salesQuoteContainer" dojoType="dijit.layout.TabContainer" style="width:100%;height:100%;">\',\r\n                \'<div id="{%= $.id%}_salesQuoteContent" dojoAttachPoint="salesQuoteContent" dojoType="dijit.layout.ContentPane" title="{%= $.detailsTabTitle %}" selected="true" style="width:100%;height:100%;">\',\r\n                    \'<div id="{%= $.id%}_divDetails">\',\r\n                        \'<table cellspacing="5">\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<col style="width:200px" />\',\r\n                            \'<tr>\',\r\n                                \'<td>\',\r\n                                    \'<label for="SalesQuote_QuoteDate">{%= $.lblQuoteDateCaption %}</label>\',\r\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_QuoteDate" name="date" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\r\n                                \'<td>\',\n                                    \'<label for="SalesQuote_TaxTotal">{%= $.lblTaxTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_TaxTotal" name="taxTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\r\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesQuote_HoldStatus">{%= $.lblHoldStatusCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_HoldStatus" name="statusFlagText" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Currency">{%= $.lblCurrencyCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Currency" name="currency" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Type">{%= $.lblTypeCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Type" name="type" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\r\n                                    \'<label for="SalesQuote_CostTotal">{%= $.lblCostTotalCaption %}</label>\',\r\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_CostTotal" name="costTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_PONumber">{%= $.lblPONumberCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PONumber" name="customerReference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_ProfitTotal">{%= $.lblProfitTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ProfitTotal" name="profitTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Quotation">{%= $.lblQuotationCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Quotation" name="quotation.reference" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_InvoiceStatus">{%= $.lblInvoiceStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_InvoiceStatus" name="invoiceStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Contact">{%= $.lblContactCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Contact" name="buyerContact.fullName" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DeliveryDate">{%= $.lblDeliveryDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryDate" name="deliveryDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_PriceList">{%= $.lblPriceListCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_PriceList" name="pricelist.name" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DueDate">{%= $.lblDueDateCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DueDate" name="dueDate" readonly="readonly" dojoType="Sage.UI.DateTextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_NetTotal">{%= $.lblNetTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_NetTotal" name="netTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_Carrier">{%= $.lblCarrierCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_Carrier" name="carrierCompany" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DiscountTotal">{%= $.lblDiscountTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DiscountTotal" name="discountTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_AllocationStatus">{%= $.lblAllocationStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_AllocationStatus" name="allocationStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                            \'<tr>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_DeliveryStatus">{%= $.lblDeliveryStatusCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_DeliveryStatus" name="deliveryStatus" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<label for="SalesQuote_ChargesTotal">{%= $.lblChargesTotalCaption %}</label>\',\n                                \'</td>\',\n                                \'<td>\',\n                                    \'<input type="text" id="{%= $.id%}_ChargesTotal" name="chargesTotal" readonly="readonly" dojoType="dijit.form.TextBox" />\',\n                                \'</td>\',\n                            \'</tr>\',\r\n                        \'</table>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soAddressesContent" dojoType="dijit.layout.ContentPane" title="{%= $.addressTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesQuoteAddresses" dojoAttachPoint="sdgrdSalesQuoteAddresses" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesQuoteAddresses_Grid" dojoAttachPoint="sdgrdSalesQuoteAddresses_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soSalesPersonsContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesPersonsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_SalesPersons" dojoAttachEvent="onShow:initSalesPersons">\',\r\n                    \'<div id="sdgrdSalesPersons" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesPersons_Grid" dojoAttachPoint="sdgrdSalesPersons_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soLinesContent" dojoType="dijit.layout.ContentPane" title="{%= $.salesQuoteLinesTabTitle %}" style="width:100%;height:100%;">\',\r\n                    \'<div id="sdgrdSalesQuoteLines" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSalesQuoteLines_Grid" dojoAttachPoint="sdgrdSalesQuoteLines_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soPaymentsContent" dojoType="dijit.layout.ContentPane" title="{%= $.paymentsTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Payments" dojoAttachEvent="onShow:initPayments">\',\r\n                    \'<div id="sdgrdSOPayments" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSOPayments_Grid" dojoAttachPoint="sdgrdSOPayments_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div id="{%= $.id%}_soDeliveriesContent" dojoType="dijit.layout.ContentPane" title="{%= $.deliveriesTabTitle %}" style="width:100%;height:100%;" dojoAttachPoint="cp_Deliveries" dojoAttachEvent="onShow:initDeliveries">\',\r\n                    \'<div id="sdgrdSODeliveries" style="width:100%;height:100%;">\',\r\n                        \'<div id="{%= $.id%}_sdgrdSODeliveries_Grid" dojoAttachPoint="sdgrdSODeliveries_Grid" style="width:100%;height:100%;"></div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n        \'<div class="button-bar alignright">\',\r\n            \'<button dojoType="dijit.form.Button" id="{%= $.id%}_soBtnClose" type="button" dojoAttachEvent="onClick:hideDetailsDialog">{%= $.btnCloseCaption %}</button>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]',"Sage/UI/Columns/Email":function(){define("Sage/UI/Columns/Email",["Sage/UI/Controls/Email","Sage/UI/Columns/Cell","dojo/_base/declare"],function(Email,Cell,_2323){var _2324=_2323("Sage.UI.Columns.Email",Cell,{icon:"",defaultValue:"",widgetClass:Email,getWidgetProps:function(_2325){var _2326=this._getControlId();return dojo.mixin({},this.widgetProps||{},{emailId:_2326,email:_2325,width:this.width,maxLength:this.maxLength,style:this.style,hotKey:this.hotKey,tabIndex:this.tabIndex,field:this.field});},getValue:function(index){var _2327=this.widget.focusNode.value;if((typeof _2327==="undefined")||(_2327==="")){_2327=this.defaultValue;}if(this.widget&&this.widget.focusNode.state==="Error"){return this.widget.focusNode._resetValue;}return _2327;},formatter:function(val,index){if(!val){return"";}var _2328=val;if(this.icon&&this.icon!==""){_2328=(this.icon===true||this.icon==="true")?'<img src="images/icons/Send_Write_email_16x16.png" />':'<img src="'+this.icon+'" />';}return dojo.string.substitute('<a href="mailto:${0}">${1}</a>',[val,_2328]);},markupFactory:function(node,cell){dojox.grid.cells.Cell.markupFactory(node,cell);if(dojo.hasAttr(node,"icon")){cell["icon"]=dojo.trim(dojo.attr(node,"icon")||"");}}});return _2324;});},"Sage/Groups/GroupLookup":function(){define("Sage/Groups/GroupLookup",["dijit/_Widget","Sage/_Templated","dijit/Dialog","Sage/UI/ConditionManager","Sage/Data/SDataServiceRegistry","Sage/Groups/GroupContextService","dojo/_base/lang","dojo/_base/declare","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/array","dojo/topic","dojo/aspect","Sage/Data/GroupLayoutSingleton"],function(_2329,_232a,_232b,_232c,_232d,_232e,lang,_232f,_2330,array,topic,_2331,_2332){var _2333=_232f("Sage.Groups.GroupLookupDialog",[_2329,_232a],{widgetsInTemplate:true,conditionMgr:false,title:"",widgetTemplate:new Simplate(["<div>",'<div data-dojo-type="dijit.Dialog" id="groupLookupDialog" title="&nbsp;" dojoAttachPoint="dlg" >',"</div>","</div>"]),constructor:function(o){},show:function(){if(this.conditionMgr){var _2334=Sage.Services.getService("UserOptions");if(_2334){_2334.get("defaultLookupCondition","DefaultLookupCondition",lang.hitch(this,function(_2335){this.conditionMgr.setFirstConditionValue("",_2335.value,"");}));}lang.mixin(this.dlg,new _2330());this.dlg.createHelpIconByTopic("lookup");this.dlg.show();}},hide:function(){this.dlg.hide();},_setConditionMgrAttr:function(_2336){this.conditionMgr=_2336;dojo.place(this.conditionMgr.domNode,this.dlg.containerNode,"only");},_setTitleAttr:function(title){this.title=title;this.dlg.set("title",title);}});var _2337=_232f("Sage.Groups.GroupLookup",null,{conditions:[],_layouts:{},_currentLayoutFamily:false,service:false,_dlgWindow:false,_conditionMgr:false,_doSearchConnection:false,_onSearchNavTo:false,id:"GroupLookup",constructor:function(){this.isInitialized=false;},showLookup:function(opts){if(typeof opts==="undefined"){var cSvc=Sage.Services.getService("ClientGroupContext");this._currentLayoutFamily=cSvc.getContext().CurrentFamily;opts={family:this._currentLayoutFamily};}this._onSearchNavTo=(opts.returnTo)?opts.returnTo:false;if(!this._layouts.hasOwnProperty(opts.family)){this._currentLayoutFamily=opts.family;this._requestLayout({family:opts.family,success:this._showInitializedLookup});return;}if(this._currentLayoutFamily!==opts.family){this._currentLayoutFamily=opts.family;}this._resetConditionManager();this._showInitializedLookup();},_showInitializedLookup:function(){var svc=Sage.Services.getService("ClientEntityContext"),_2338=svc&&svc.getContext(),_2339=_2338&&_2338.DisplayName,_233a=_2338&&_2338.EntityTableName,_233b=this._layouts[this._currentLayoutFamily]["mainTable"],_233c=this._layouts[this._currentLayoutFamily]["entityName"];if(!this._dlgWindow){this._dlgWindow=new _2333({conditionMgr:this._conditionMgr});}if(!this._dlgWindow.conditionMgr){this._dlgWindow.set("conditionMgr",this._conditionMgr);}if(_233a!==_233b){_2339=_233c;}this._dlgWindow.set("title",_2339);this._dlgWindow.show();},doLookup:function(args){this._ensureService();this._dlgWindow.hide();var _233d=new Sage.SData.Client.SDataServiceOperationRequest(this.service);_233d.setOperationName("setGroupLookupConditions");_233d.execute({request:{family:this._currentLayoutFamily,conditions:this.getConditionsString(),includeConditionsFrom:""}},{success:function(_233e){var navTo=this._onSearchNavTo+"?modeid=list&gid=LOOKUPRESULTS",path=document.location.toString().toLowerCase(),comp=this._onSearchNavTo&&this._onSearchNavTo.toLowerCase(),_233f=dijit.byId("GroupList");var _2340=Sage.Services.getService("ClientGroupContext");var _2341=_2340.getContext();if(_2341.CurrentFamily&&this._currentLayoutFamily&&_2341.CurrentFamily.toUpperCase()===this._currentLayoutFamily.toUpperCase()){_2331.after(_2340,"onCurrentGroupChanged",lang.hitch(this,function(){topic.publish("/group/lookup/success",{"conditions":this.getConditionsString()});}));if(_233f){_233f.shouldNotUpdate=true;}_2340.setCurrentGroup("LOOKUPRESULTS");}if(this._onSearchNavTo){if(path.indexOf(comp)===-1){document.location=navTo;return;}}},scope:this});},resetLookup:function(data){},getConditionsString:function(){return this._conditionMgr.getConditionsJSON();},_ensureService:function(){if(!this.service){this.service=_232d.getSDataService("system");}},_requestLayout:function(_2342){this._ensureService();if(!_2342.family){var _2343=Sage.Services.getService("ClientGroupContext");_2342.family=_2343.getContext().CurrentFamily||"ACCOUNT";}var _2344=dojo.string.substitute("name eq 'Lookup Results' and upper(family) eq '${0}'",[_2342.family.toUpperCase()]),_2345=lang.hitch(this,this._onReadSuccess,_2342),_2346=new _2332();_2346.getGroupLayout(_2344,_2345,null,"LOOKUPRESULTS");},_onReadSuccess:function(_2347,data){this._layouts[_2347.family]=data;this._currentLayoutFamily=_2347.family;this._resetConditionManager();if(typeof _2347.success==="function"){_2347.success.call(_2347.scope||this,data);}},_resetConditionManager:function(){if(!this._currentLayoutFamily){return;}if(this._conditionMgr){this._conditionMgr.destroy(false);this._conditionMgr=null;}var _2348=array.filter(this._layouts[this._currentLayoutFamily]["layout"],function(field){return field.caption&&field.caption!==""&&field.visible;});_2348=array.map(_2348,function(field){if(field.format&&field.format==="None"){field.format=field.fieldType;}return field;});this._conditionMgr=new _232c({fields:_2348,fieldNameProperty:"alias",fieldDisplayNameProperty:"caption",fieldTypeProperty:"format",id:this.id+"-ConditionManager"});if(this._dlgWindow){this._dlgWindow.set("conditionMgr",this._conditionMgr);}this._doSearchConnection=dojo.connect(this._conditionMgr,"onDoSearch",this,"doLookup");},destroy:function(){if(this._doSearchConnection){dojo.disconnect(this._doSearchConnection);this._doSearchConnection=false;}this.inherited(arguments);}});Sage.Services.addService("GroupLookupManager",new Sage.Groups.GroupLookup());return _2337;});},"Sage/UI/Alarms/AlarmPane":function(){define("Sage/UI/Alarms/AlarmPane",["dijit/form/Button","dijit/form/FilteringSelect","dojo/date","Sage/Utility","Sage/UI/Alarms/AlertPane","Sage/UI/Alarms/ActivityAlarm","dojo/i18n","dojo/i18n!./nls/AlarmPane","dojo/_base/declare","dojo/topic"],function(_2349,_234a,_234b,_234c,_234d,_234e,i18n,_234f,_2350,topic){var _2351=_2350("Sage.UI.Alarms.AlarmPane",_234d,{defaultSnooze:"5",_snoozeButton:false,templateString:["<div>",'<div class="alarm-items-contents" dojoAttachPoint="_alertContents"></div>','<div class="alarm-snoozebar" dojoAttachPoint="_snoozebar">',"<table>","<tr>",'<td colspan="2" class="dismissActions">','<button data-dojo-type="dijit.form.Button" type="button" dojoAttachEvent="onClick:_dismissSelected">${dismissText}</button>','<button data-dojo-type="dijit.form.Button" type="button" dojoAttachEvent="onClick:_dismissAll">${dismissAllText}</button>',"</td>",'<td colspan="2" class="calendar-link">','<a href="calendar.aspx" title="${showCalendarText}">${showCalendarText}</a>',"</td>","</tr><tr>",'<td class="snoozeText">${snoozeByText}</td>','<td colspan="2" class="snoozeBy">','<select name="selectSnoozeBy" dojoAttachPoint="_selSnoozeBy" data-dojo-type="dijit.form.FilteringSelect">','<option value="5" {% if ($.defaultSnooze == 5) { %} selected="selected" {% } %}>${fiveMinText}</option>','<option value="10" {% if ($.defaultSnooze == 10) { %} selected="selected" {% } %}>${tenMinText}</option>','<option value="15" {% if ($.defaultSnooze == 15) { %} selected="selected" {% } %}>${fifteenMinText}</option>','<option value="30" {% if ($.defaultSnooze == 30) { %} selected="selected" {% } %}>${thirtyMinText}</option>','<option value="60" {% if ($.defaultSnooze == 60) { %} selected="selected" {% } %}>${oneHourText}</option>','<option value="120" {% if ($.defaultSnooze == 120) { %} selected="selected" {% } %}>${twoHourText}</option>','<option value="240" {% if ($.defaultSnooze == 240) { %} selected="selected" {% } %}>${fourHourText}</option>','<option value="480" {% if ($.defaultSnooze == 480) { %} selected="selected" {% } %}>${eightHourText}</option>','<option value="1440" {% if ($.defaultSnooze == 1440) { %} selected="selected" {% } %}>${oneDayText}</option>','<option value="2880" {% if ($.defaultSnooze == 2880) { %} selected="selected" {% } %}>${twoDayText}</option>','<option value="4320" {% if ($.defaultSnooze == 4320) { %} selected="selected" {% } %}>${threeDayText}</option>','<option value="10080" {% if ($.defaultSnooze == 10080) { %} selected="selected" {% } %}>${oneWeekText}</option>','<option value="20160" {% if ($.defaultSnooze == 20160) { %} selected="selected" {% } %}>${twoWeekText}</option>',"</select>","</td>",'<td class="snoozeActions">','<button data-dojo-type="dijit.form.Button" type="button" dojoAttachEvent="onClick:_snooze" dojoAttachPoint="_snoozeButton">${snoozeText}</button>','<button data-dojo-type="dijit.form.Button" type="button" dojoAttachEvent="onClick:_snoozeAll">${snoozeAllText}</button>',"</td>","</tr>","</table>","</div>","</div>"].join(""),constructor:function(){dojo.mixin(this,_234f);},_durByText:false,_textByDur:false,onShow:function(){this._snoozeButton.focus();},setDefaultSnooze:function(_2352){this.defaultSnooze=_2352;this._setSnoozeSelect(_2352);},_addAlert:function(item){if(this._alarmRinging(item)){var _2353=new _234e({userActivity:item,selected:this.selectedAlerts.hasOwnProperty(item["$key"])});this.alertWidgets.push(_2353);dojo.place(_2353.domNode,this._alertContents);}},_alarmRinging:function(_2354){var n=new Date();var _2355;var alarm;if((_2354.Alarm===null)&&(_2354.AlarmTime===null)){_2355=_234c.Convert.toDateFromString(_2354.Activity.AlarmTime);alarm=_2354.Activity.Alarm;_2354.Alarm=alarm;_2354.AlarmTime=_2354.Activity.AlarmTime;}else{_2355=_234c.Convert.toDateFromString(_2354.AlarmTime);alarm=_2354.Alarm;}return(alarm&&(_234b.compare(_2355,n)<1));},_snooze:function(){for(var i=0;i<this.alertWidgets.length;i++){var wid=this.alertWidgets[i];if(wid.selected){this._snoozeItem(wid.userActivity);}}this.store.save(this);},_snoozeAll:function(){for(var i=0;i<this.alertWidgets.length;i++){this._snoozeItem(this.alertWidgets[i].userActivity);}this.store.save(this);},_setSnoozeSelect:function(_2356){if(!this._textByDur){this._textByDur={"5":this.fiveMinText,"10":this.tenMinText,"15":this.fifteenMinText,"30":this.thirtyMinText,"60":this.oneHourText,"120":this.twoHourText,"240":this.fourHourText,"480":this.eightHourText,"1440":this.oneDayText,"2880":this.twoDayText,"4320":this.threeDayText,"10080":this.oneWeekText,"20160":this.twoWeekText};}this._selSnoozeBy.set("displayedValue",this._textByDur[_2356]);this._selSnoozeBy.set("value",_2356);},_snoozeItem:function(_2357){var _2358=this._selSnoozeBy.get("value");var dur=parseInt(_2358);var _2359=new Date();var _235a=_234b.add(_2359,"minute",dur);this.store.setValue(_2357,"AlarmTime",_234c.Convert.toIsoStringFromDate(_235a));},_dismissAll:function(){for(var i=0;i<this.alertWidgets.length;i++){this._dismissItem(this.alertWidgets[i].userActivity);}this.store.save(this);},_dismissSelected:function(){for(var i=0;i<this.alertWidgets.length;i++){var wid=this.alertWidgets[i];if(wid.selected){this._dismissItem(wid.userActivity);}}this.store.save(this);},_dismissItem:function(_235b){this.store.setValue(_235b,"Alarm",false);},deleteSelected:function(){var _235c=this._makeSelectionContext(false);if(_235c){var svc=Sage.Services.getService("ActivityService");if(_235c.count===1){var _235d=_235c.selectionInfo.selections[0].entity;svc.deleteActivity(_235d["$key"],_235d.Recurring);}else{svc.deleteActivitiesInSelectionContext(_235c,this._reloadAlarms,this);}}},_reloadAlarms:function(_235e){var _235f=dijit.byId("alarmPopup");_235f.reloadAlarms();},completeSelected:function(){var _2360=this._makeSelectionContext(false);if(_2360){var svc=Sage.Services.getService("ActivityService");var self=this;var _2361=topic.subscribe("/entity/activity/bulkComplete",function(_2362){self._reloadAlarms();_2361.remove();});if(_2360.count===1){var _2363=_2360.selectionInfo.selections[0].entity;svc.completeActivity(_2363["$key"],_2363.Recurring);}else{svc.completeActivitiesInSelectionContext(_2360);}}},_makeSelectionContext:function(_2364){var ids=[],sels=[];var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(wid.selected){var id=wid.userActivity.Activity["$key"];ids.push(id);sels.push({rn:0,id:id,entity:wid.userActivity.Activity});if(_2364){this.alertWidgets.splice(i,1);wid.destroy();}}}if(ids.length>0){return{count:ids.length,id:null,mode:"select",name:"activities",selectionInfo:{key:"alert",keyField:"$key",mode:"selection",ranges:[],recordCount:ids.length,selectedIds:ids,selectionCount:2,selections:sels,sortDirection:"",sortField:""}};}return false;},onComplete:function(){var len=this.alertWidgets.length-1;for(var i=len;i>-1;i--){var wid=this.alertWidgets[i];if(!this._alarmRinging(wid.userActivity)){this.alertWidgets.splice(i,1);wid.destroy();}}this._alertChanged(this.alertWidgets.length);},getUnhandledAlertCount:function(){var _2365=0;for(var i=0;i<this.alertItems.length;i++){if(this._alarmRinging(this.alertItems[i])){_2365++;}}return _2365;}});return _2351;});},"Sage/MainView/ActivityMgr/SnoozeButton":function(){define("Sage/MainView/ActivityMgr/SnoozeButton",["dijit/_Widget","Sage/_Templated","dojo/_base/declare"],function(_2366,_2367,_2368){var _2369=_2368("Sage.MainView.ActivityMgr.SnoozeButton",[_2366,_2367],{widgetsInTemplate:true,_started:false,widgetTemplate:new Simplate(['<span class="alarm-button">','<button data-dojo-type="dijit.form.ComboButton" data-dojo-attach-point="_snoozeButton" data-dojo-attach-event="onClick:_cboClick" class="" >','<div data-dojo-type="Sage.MainView.ActivityMgr.SnoozeOptions" data-dojo-attach-point="_snoozeOptions"></div>',"</button>","</span>"]),startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;},_cboClick:function(){this._snoozeButton.openDropDown();},destroy:function(){this._snoozeButton.destroyRecursive();}});return _2369;});},"Sage/MainView/IntegrationContract/CustomerPaymentsRTDV":function(){require({cache:{"url:Sage/MainView/IntegrationContract/templates/CustomerPaymentsRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_customerPaymentsDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<table cellspacing=\"5\">',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_reference\">{%= $.lblReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_date\">{%= $.lblDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_date\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_processDate\">{%= $.lblProcessDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_processDate\" name=\"processDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_name\">{%= $.lblNameCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_name\" name=\"name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_type\">{%= $.lblTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_status\">{%= $.lblStatusCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_currency\">{%= $.lblCurrencyCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderType\">{%= $.lblTenderTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderType\" name=\"tenderType\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderReference\">{%= $.lblTenderReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderReference\" name=\"tenderReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_discountTotal\">{%= $.lblDiscountsCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_discountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_netTotal\">{%= $.lblNetTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_netTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxTotal\">{%= $.lblTaxesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_chargesTotal\">{%= $.lblChargesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_chargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxCode\">{%= $.lblTaxCodeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxCode\" name=\"taxCode\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_source\">{%= $.lblSourceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_source\" name=\"source\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n        '</table>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_paymentBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\n    '</div>',\n'</div>'\n]"}});define("Sage/MainView/IntegrationContract/CustomerPaymentsRTDV",["dojo/_base/declare","dojo/i18n!./nls/CustomerPaymentsRTDV","dijit/_Widget","Sage/_Templated","Sage/UI/SLXPreviewGrid","Sage/Data/ProxySDataStore","Sage/UI/Dialogs","Sage/UI/Columns/DateTime","dojo/text!./templates/CustomerPaymentsRTDV.html","Sage/UI/DateTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","dijit/Dialog"],function(_236a,_236b,_236c,_236d,_236e,_236f,_2370,_2371,_2372){var _2373=_236a("Sage.MainView.IntegrationContract.CustomerPaymentsRTDV",[_236c,_236d],{workspace:"",tabId:"",grid:"",globalSyncId:"",operatingCompanyId:"",widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2372)),constructor:function(){dojo.mixin(this,_236b);},loadCustomerPayments:function(){var self=this;var _2374={readOnly:true,rowsPerPage:20,slxContext:{workspace:this.workspace,tabId:this.tabId},columns:[{width:10,field:"reference",name:this.grdPayments_Reference,sortable:true,formatter:this.customerPaymentsDetailsViewRenderer,style:"text-align:left;width:auto;",editable:false},{width:10,field:"date",type:_2371,formatType:"date",dateOnly:true,utc:false,name:this.grdPayments_Date,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"type",name:this.grdPayments_Type,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"status",name:this.grdPayments_Status,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"grossTotal",name:this.grdPayments_GrossTotal,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"currency",name:this.grdPayments_Currency,sortable:true,style:"text-align:left;width:auto;",editable:false},{width:10,field:"processDate",type:_2371,formatType:"date",dateOnly:true,utc:false,editable:false,hidden:function(){return true;}},{width:10,field:"discountTotal",editable:false,hidden:function(){return true;}},{width:10,field:"chargesTotal",editable:false,hidden:function(){return true;}},{width:10,field:"source",editable:false,hidden:function(){return true;}},{width:10,field:"taxTotal",editable:false,hidden:function(){return true;}},{width:10,field:"name",editable:false,hidden:function(){return true;}},{width:10,field:"tenderType",editable:false,hidden:function(){return true;}},{width:10,field:"tenderReference",editable:false,hidden:function(){return true;}},{width:10,field:"netTotal",editable:false,hidden:function(){return true;}},{width:10,field:"grossTotal",editable:false,hidden:function(){return true;}},{width:10,field:"taxCode",editable:false,hidden:function(){return true;}}],storeOptions:new _236f({service:Sage.Data.SDataServiceRegistry.getSDataService("proxy",true,false),resourceKind:"tradingAccounts",getResourcePredicate:function(){return dojo.string.substitute("$uuid eq '${0}'",[self.globalSyncId]);},getAppId:function(){return self.operatingCompanyId;},include:[],select:[],pathSegments:[{"text":"receipts"}]}),tools:[]};var _2375=new _236e.Grid(_2374,this.placeHolder);_2375.startup();var _2376=dijit.byId("tabContent");_2376.resize();_2376.resize();this.grid=_2375;},customerPaymentsDetailsViewRenderer:function(value){return dojo.string.substitute('<a href="javascript:customerPaymentsRTDV.loadDetailsView();">${0}</a>',[value]);},loadDetailsView:function(){var row=this.grid._grid.selection.getSelected()[0];if(row){this._dialog.set("value",row);this._dialog.show();}},hideDetailsDialog:function(){this._dialog.hide();}});return _2373;});},"Sage/QuickForms/Design/Editors/LayoutPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/LayoutPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/LayoutPropertyEditor"],function(_2377,lang,_2378,_2379,_237a,_237b,_237c,_237d,_237e,_237f){return _2377("Sage.QuickForms.Design.Editors.LayoutPropertyEditor",[_2378,_237d,_237c],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.positionText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.rowTooltipText %}">',"<label>{%= $.rowText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_row" data-dojo-attach-event="onChange:_onRowChange" required="true" data-dojo-props="constraints:{min:0,max:100,places:0}"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.columnTooltipText %}">',"<label>{%= $.columnText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_column" data-dojo-attach-event="onChange:_onColumnChange" required="true" data-dojo-props="constraints:{min:0,max:100,places:0}"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.sizeText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.rowSpanTooltipText %}">',"<label>{%= $.rowSpanText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_rowSpan" data-dojo-attach-event="onChange:_onRowSpanChange" required="true" data-dojo-props="constraints:{min:1,max:100,places:0}"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.columnSpanTooltipText %}">',"<label>{%= $.columnSpanText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_columnSpan" data-dojo-attach-event="onChange:_onColumnSpanChange" required="true" data-dojo-props="constraints:{min:1,max:100,places:0}"></div>',"</div>","</div>","</fieldset>"]),_row:null,_column:null,_rowSpan:null,_columnSpan:null,titleText:"Layout",positionText:"Position",sizeText:"Size",rowText:"Row:",rowTooltipText:"Row number of the control.",columnText:"Column:",columnTooltipText:"Column number of the control.",rowSpanText:"Row Span:",rowSpanTooltipText:"Number of cells the control occupies vertically.",columnSpanText:"Column Span:",columnSpanTooltipText:"Number of cells the control occupies horizontally.",constructor:function(){lang.mixin(this,_237f);},setup:function(){this.inherited(arguments);this._row.set("value",this._designer.get("row"));this._column.set("value",this._designer.get("column"));this._rowSpan.set("value",this._designer.get("rowSpan"));this._columnSpan.set("value",this._designer.get("columnSpan"));},_onRowChange:function(value){if(this.isSuspended()||!this._row.isValid()){return;}try{this._designer.set("row",parseInt(value)||0);}catch(e){this._row.setValue(e.value);if(console){console.error(e.message,e);}}},_onColumnChange:function(value){if(this.isSuspended()||!this._column.isValid()){return;}try{this._designer.set("column",parseInt(value)||0);}catch(e){this._column.setValue(e.value);if(console){console.error(e.message);}}},_onRowSpanChange:function(value){if(this.isSuspended()||!this._rowSpan.isValid()){return;}try{this._designer.set("rowSpan",parseInt(value)||1);}catch(e){this._rowSpan.setValue(e.value);if(console){console.error(e.message);}}},_onColumnSpanChange:function(value){if(this.isSuspended()||!this._columnSpan.isValid()){return;}try{this._designer.set("columnSpan",parseInt(value)||1);}catch(e){this._columnSpan.setValue(e.value);if(console){console.error(e.message);}}}});});},"Sage/Utility/File/nls/Attachment":function(){define("Sage/Utility/File/nls/Attachment",["Sage/LanguageList","dojo/_base/lang"],function(_2380,lang){var nls={root:{uploadingAttachments:"Uploading attachments",uploadCompleted:"Completed",uploadingPleaseWait:"Uploading, please wait...",uploadFailed:"Upload failed."}};return lang.mixin(_2380,nls);});},"Sage/Utility/main":function(){define("Sage/Utility/main",["Sage/Utility/Activity","Sage/Utility/Dashboard","Sage/Utility/Groups","Sage/Utility/_LocalStorageMixin","Sage/Utility/SDataLookup","Sage/Utility/Sql","Sage/Utility/Email","Sage/Utility/ErrorHandler","Sage/Utility/File","Sage/Utility/File/DragDropWatcher","Sage/Utility/File/DefaultDropHandler","Sage/Utility/UserOptions","Sage/Utility/Validate","Sage/Utility/PickList","Sage/Utility/Jobs"],function(){});},"Sage/QuickForms/Design/nls/GenericControlDesigner":function(){define("Sage/QuickForms/Design/nls/GenericControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_2381,lang){var nls={root:{displayNameText:"Unknown"}};return lang.mixin(_2381,nls);});},"Sage/UI/NavBar":function(){define("Sage/UI/NavBar",["dijit/layout/AccordionContainer","Sage/UI/NavBarPane","Sage/Layout/_SplitterEnhancedMixin","dojo/_base/declare"],function(_2382,_2383,_2384,_2385){var _2386=_2385("Sage.UI.NavBar",[_2382,_2384],{persist:true,postCreate:function(){this.inherited(arguments);var items=Sage.UI.DataStore.NavBar&&Sage.UI.DataStore.NavBar.items;if(items){this._processNavCollection(items);}},_processNavCollection:function(items){for(var i=0;i<items.length;i++){var item=items[i];this.addChild(new _2383({title:item.text,items:item.items}));}},startup:function(){this.inherited(arguments);this.domNode.style.overflow="hidden";}});return _2386;});},"Sage/MainView/ReportMgr/Crystal/nls/StringParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/StringParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2387,lang){var nls={root:{txtTheValueMustBeBetween:"The value must be between {0} and {1} characters long.",txtTheMinimumLengthForThisField:"The minimum length for this field is {0}.",txtTheMaximumLengthForThisField:"The maximum length for this field is {0}.",txtPleaseSpecifyValue:"Please specify a value.",lblEnterValue_Caption:"Enter a Value:"}};return lang.mixin(_2387,nls);});},"Sage/QuickForms/Design/nls/PropertyEditorContainer":function(){define("Sage/QuickForms/Design/nls/PropertyEditorContainer",["Sage/LanguageList","dojo/_base/lang"],function(_2388,lang){var nls={root:{specificTitleFormatText:"${0} Properties (${1})",genericTitleFormatText:"${0} Properties"}};return lang.mixin(_2388,nls);});},"Sage/Services/nls/ReportingService":function(){define("Sage/Services/nls/ReportingService",["Sage/LanguageList","dojo/_base/lang"],function(_2389,lang){var nls={root:{txtUnsupportedReportType:"Unsupported report type: ${0}.",txtUnexpectedError:"Sorry an error occurred: ${0} ${1}.",invalidEntityError:"The entity ID has not been defined or could not be determined.",invalidReportPluginError:"The report plugin ID has not been defined or could not be determined.",invalidTableNameError:"The table name has not been defined or could not be determined.",noDefaultReportError:"A default report could not be located for the current entity.",reportCannotBeShownError:"The report cannot be shown."}};return lang.mixin(_2389,nls);});},"Sage/MailMerge/nls/Helper":function(){define("Sage/MailMerge/nls/Helper",["Sage/LanguageList","dojo/_base/lang"],function(_238a,lang){var nls={root:{destkopErrorsError:"The call to DesktopErrors() failed.",mailMergeInfoStoreError:"The call to MailMergeInfoStore() failed."}};return lang.mixin(_238a,nls);});},"Sage/MainView/Opportunity/UpdateOpportunities":function(){require({cache:{"url:Sage/MainView/Opportunity/templates/UpdateOpportunities.html":'[\r\n\'<div>\',\r\n    \'<div data-dojo-type="dijit.Dialog" title="{%= $.updateMultipleOpps_Caption %}" dojoAttachPoint="_dialog" dojoAttachEvent="onCancel:_close">\',\r\n        \'<div data-dojo-type="dijit.form.Form" id="{%= $.id %}_frmUpdateMultipleOpps">\',\r\n            \'<table cellspacing="20">\',\r\n                \'<tr>\',\r\n                    \'<td>\',\r\n                        \'<label>{%= $.update_Property_Caption %}</label>\',\r\n                    \'</td>\',\r\n                    \'<td>\',\r\n                        \'<select title="{%= $.update_Property_Caption %}" labelWidth="20" name="{%= $.id %}_PropertyName" dojoAttachPoint="propertyNameSelect" dojoAttachEvent="onChange:_propertyChanged" data-dojo-type="dijit.form.Select" style="width:150px">\',\r\n                            \'{% for (var i=0; i < $._updateableProperties.length;i++) { %}\',\r\n                                \'<option value="{%= $._updateableProperties[i].propertyName %}" {% if ($.selectedFieldIndex == i ) { %} selected {% } %} >{%= $._updateableProperties[i].propertyDisplayName %}</option>\',\r\n                            \'{% } %}\',\r\n                        \'</select>\',\r\n                    \'</td>\',\r\n                    \'<td>\',\r\n                        \'<div id="divUpdateOppsTolbl" dojoAttachPoint="divUpdateOppsTolbl" class="display-none">\',\r\n                            \'<label>{%= $.update_To_Caption %}</label>\',\r\n                        \'</div>\',\r\n                    \'</td>\',\r\n                    \'<td>\',\r\n                        \'<div dojoAttachPoint="divAcctMgrContainer">\',\r\n                            \'<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.update_To_Caption %}" id="{%= $.id %}_luAccountMgr" dojoAttachPoint="accountMgr_Container" allowClearingResult="false" class="removePadding"></div>\',\r\n                        \'</div>\',\r\n                        \'<div dojoAttachPoint="divCloseProbContainer" class="display-none">\',\r\n                            \'<select id="{%= $.id %}_pkl_CloseProbability" PickListName="Opportunity Probability" label="{%= $.update_To_Caption %}" id="{%= $.id %}_pkl_CloseProbability" data-dojo-type="Sage.UI.Controls.SingleSelectPickList" dojoAttachPoint="pkl_CloseProbability" canEditText="false" itemMustExist="true"></select>\',\r\n                        \'</div>\',\r\n                        \'<div data-dojo-type="dojox.layout.TableContainer" dojoAttachPoint="divForecastContainer" orientation="horiz" cols="2" labelWidth="2" baseClass="display-none">\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="addToForecast" label="{%= $.addToForecast_Yes %}" value="yesForecast" id="{%= $.id %}_rdgYesForecast" dojoAttachPoint="rdoYesForecast" checked="true" />\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="addToForecast" label="{%= $.addToForecast_No %}" value="noForecast" id="{%= $.id %}_rdgNoForecast" />\',\r\n                        \'</div>\',\r\n                        \'<div data-dojo-type="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="2" dojoAttachPoint="divEstCloseContainer" baseClass="display-none">\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="estimatedClose" id="{%= $.id %}_rdgEstClose" checked="true" label="{%= $.estimatedClose_To %}" value="estimatedClose" dojoAttachPoint="rdoEstClose" dojoAttachEvent="onChange:estimatedCloseDateChange" />\',\r\n                            \'<input data-dojo-type="dijit.form.RadioButton" type="radio" name="estimatedClose" value="move" id="{%= $.id %}_rdgEstMove" label="{%= $.estimatedClose_MoveOut %}" />\',\r\n                        \'</div>\',\r\n                        \'<div dojoAttachPoint="divCommentsContainer" class="display-none">\',\r\n                            \'<textarea data-dojo-type="dijit.form.SimpleTextarea" id="{%= $.id %}_txtComments" dojoAttachPoint="txtComments" style="font-size: 85%"></textarea>\',\r\n                        \'</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n                \'<tr>\',\r\n                    \'<td></td>\',\r\n                    \'<td></td>\',\r\n                    \'<td></td>\',\r\n                    \'<td>\',\r\n                        \'<div id="divEstCloseDateContainer" class="display-none" dojoAttachPoint="divEstCloseDateContainer">\',\r\n                            \'<div data-dojo-type="Sage.UI.Controls.DateTimePicker" id="{%= $.id %}_dtpEstCloseDate" displayDate="true" displayTime="false" dojoAttachPoint="dtpEstCloseDate"></div>\',\r\n                        \'</div>\',\r\n                        \'<div id="divMoveEstimatedCloseContainer" class="display-none" dojoAttachPoint="divMoveEstimatedCloseContainer">\',\r\n                            \'<select data-dojo-type="dijit.form.Select" name="moveEstCloseDate" id="{%= $.id %}_moveEstCloseDateList" dojoAttachPoint="moveEstCloseDateList">\',\r\n                                \'<option value="Forward">{%= $.moveEstCloseDate_Forward %}</option>\',\r\n                                \'<option value="Backward">{%= $.moveEstCloseDate_Backward %}</option>\',\r\n                            \'</select>\',\r\n                            \'<div data-dojo-type="dijit.form.TextBox" labelWidth="20" dojoAttachPoint="daysToMove"></div>&nbsp\',\r\n                            \'<label>{%= $.estimatedClose_Days %}</label>\',\r\n                        \'</div>\',\r\n                    \'</td>\',\r\n                \'</tr>\',\r\n            \'</table>\',\r\n            \'<div class="button-bar" align="right">\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.btnOK_Caption %}</div>\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id%}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_close">{%= $.btnCancel_Caption %}</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]\r\n'}});define("Sage/MainView/Opportunity/UpdateOpportunities",["dojo/_base/declare","dojo/i18n!./nls/UpdateOpportunities","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dijit/Dialog","dijit/_Widget","Sage/_Templated","Sage/UI/Dialogs","Sage/UI/Controls/Lookup","dojo/text!./templates/UpdateOpportunities.html","Sage/Utility/Jobs","dojo/string","Sage/UI/Controls/SingleSelectPickList","Sage/UI/Controls/DateTimePicker","dijit/form/Form","dijit/form/Select","dijit/form/Textarea","dijit/layout/ContentPane","dojox/layout/TableContainer"],function(_238b,_238c,_238d,_238e,_238f,_2390,_2391,_2392,_2393,_2394,jobs,_2395){var _2396=_238b("Sage.MainView.Opportunity.UpdateOpportunities",[_2390,_2391],{id:"dlgUpdateMultipleOpps",_dialog:false,_updateableProperties:false,selectedFieldIndex:1,lup_AcctMgr:false,_selectionInfo:false,widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_2394)),constructor:function(_2397){this._selectionInfo=_2397;dojo.mixin(this,_238c);if(!this._updateableProperties){this._updateableProperties=[{propertyName:"",propertyDisplayName:""}];this.loadUpdateableProperties("AcctMgr",this.updateProp_AcctMgr);this.loadUpdateableProperties("Forecast",this.updateProp_Forecast);this.loadUpdateableProperties("CloseProb",this.updateProp_Probability);this.loadUpdateableProperties("EstClose",this.updateProp_EstClose);this.loadUpdateableProperties("Comments",this.updateProp_Comments);}},loadUpdateableProperties:function(_2398,_2399){var _239a={propertyName:_2398,propertyDisplayName:_2399};this._updateableProperties.push(_239a);},setSelectionInfo:function(_239b){this._selectionInfo=_239b;},show:function(){this._dialog.show();if(!this.lup_AcctMgr){this.createAcctMgrLookup();}this._propertyChanged();if(!this._dialog.helpIcon){_238e.mixin(this._dialog,new _238d());this._dialog.createHelpIconByTopic("updateopportunities");}},_propertyChanged:function(){if(this.propertyNameSelect){this.setDisplayProperty(this.divAcctMgrContainer,(this.propertyNameSelect.value=="AcctMgr"));this.setDisplayProperty(this.divCloseProbContainer,(this.propertyNameSelect.value=="CloseProb"));this.setDisplayProperty(this.divCommentsContainer,(this.propertyNameSelect.value=="Comments"));this.setDomDisplayProperty(this.divForecastContainer,(this.propertyNameSelect.value=="Forecast"));this.setDisplayProperty(this.divUpdateOppsTolbl,(this.propertyNameSelect.value!="EstClose"));this.setDomDisplayProperty(this.divEstCloseContainer,(this.propertyNameSelect.value=="EstClose"));}this.estimatedCloseDateChange();},setDisplayProperty:function(_239c,_239d){if(_239c&&_239d){dojo.removeClass(_239c,"display-none");}else{if(_239c){dojo.addClass(_239c,"display-none");}}},setDomDisplayProperty:function(_239e,_239f){if(_239e&&_239f){dojo.removeClass(_239e.domNode,"display-none");}else{if(_239e){dojo.addClass(_239e.domNode,"display-none");}}},estimatedCloseDateChange:function(){var _23a0=this.rdoEstClose.get("checked");if(this.propertyNameSelect){this.setDisplayProperty(this.divEstCloseDateContainer,(_23a0&&this.propertyNameSelect.value=="EstClose"));this.setDisplayProperty(this.divMoveEstimatedCloseContainer,(!_23a0&&this.propertyNameSelect.value=="EstClose"));}},createAcctMgrLookup:function(){this.accountMgrLookupConfig={id:"_acctMgr",structure:[{defaultCell:{"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""},cells:[{"name":this.lookupNameColText,"field":"UserInfo.UserName"},{"name":this.lookupTitleColText,"field":"UserInfo.Title"},{"name":this.lookupDepartmentColText,"field":"UserInfo.Department"},{"name":this.lookupRegionColText,"field":"UserInfo.Region"},{"name":this.lookupTypeColText,"field":"Type","propertyType":"Sage.Entity.Interfaces.UserType"}]}],gridOptions:{contextualCondition:"",contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users"},isModal:true,initialLookup:true,preFilters:[{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"5"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"6"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"7"},{propertyName:"type",propertyType:"Sage.Entity.Interfaces.UserType",conditionOperator:"!=",filterValue:"8"}],returnPrimaryKey:true,dialogTitle:this.lookupActMgrText,dialogButtonText:this.btnOK_Caption};this.lup_AcctMgr=new _2393({id:"lu_AcctMgr",config:this.accountMgrLookupConfig,style:"width:100%"});dojo.place(this.lup_AcctMgr.domNode,this.accountMgr_Container.domNode,"only");},_okClick:function(){var _23a1=this.getPropertySelectionValue();var self=this;if(!_23a1&&!_23a1.value){_2392.showError(this.errorUnspecifiedValue);return;}var _23a2=[{"name":"EntityName","value":"Opportunity"},{"name":"PropertyNames","value":_23a1.name},{"name":"PropertyValues","value":_23a1.value},{"name":"SelectedIds","value":(this._selectionInfo.selectionCount>0)?this._selectionInfo.selectedIds.join(",")||"":""},{"name":"GroupId","value":(this._selectionInfo.selectionCount===0)?this.getCurrentGroupId()||"":""},{"name":"BusinessRuleName","value":this.getBusinessRuleMethod()}];var _23a3={closable:true,title:_238c.updateMultipleOpps_Caption,key:"Sage.SalesLogix.BusinessRules.Jobs.UpdateEntityJob",parameters:_23a2,success:function(_23a4){},failure:function(_23a5){_2392.showError(dojo.string.substitute(self.errorRequestingJobMgr,[_23a5.statusText]));},ensureZeroFilters:true};self._close();jobs.triggerJobAndDisplayProgressDialog(_23a3);},getCurrentGroupId:function(){var _23a6=Sage.Services.getService("ClientGroupContext");if(_23a6){var _23a7=_23a6.getContext();return _23a7.CurrentGroupID;}return"";},getPropertySelectionValue:function(){if(this.propertyNameSelect){switch(this.propertyNameSelect.value){case"AcctMgr":if(this.lup_AcctMgr.selectedObject){return{name:"AccountManager",value:this.lup_AcctMgr.selectedObject.$key};}return false;case"CloseProb":return{name:"CloseProbability",value:this.pkl_CloseProbability.get("value")};case"Forecast":return{name:"AddToForecast",value:this.rdoYesForecast.get("checked")};case"EstClose":if(this.rdoEstClose.get("checked")){return{name:"EstimatedClose",value:this.dtpEstCloseDate.get("value")};}else{return this.moveEstCloseDateList.value=="Forward"?{name:"EstimatedClose",value:this.daysToMove.value}:{name:"EstimatedClose",value:_2395.substitute("-${0}",[this.daysToMove.value])};}break;case"Comments":return{name:"Notes",value:this.txtComments.value};}}return false;},getBusinessRuleMethod:function(){return this.propertyNameSelect.value==="EstClose"&&!this.rdoEstClose.get("checked")?"UpdateEstimatedCloseDate":"";},_close:function(){this._dialog.hide();}});return _2396;});},"url:Sage/MainView/Contact/templates/ContactUserAssociationEditor.html":"[\r\n'<div>',\r\n    '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $.dialogTitleText %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_close\">',\r\n        '<div data-dojo-type=\"dijit.form.Form\" id=\"{%= $.id %}_frmContactUserAssociation\">',\r\n            '<table cellspacing=\"20\">',\r\n                '<tr>',\r\n                    '<td colspan=\"2\">',\r\n                        '<label>{%= $.associateContactText %}</label>',\r\n                    '</td>',\r\n                '</tr>',\r\n                '<tr>',\r\n                    '<td>',\r\n                        '<div>',\r\n                            '<label>{%= $.user_Caption %}</label>',\r\n                        '</div>',\r\n                    '</td>',\r\n                    '<td>',\r\n                         '<div dojoAttachPoint=\"divUserLookupContainer\">',\r\n                            '<div data-dojo-type=\"dijit.layout.ContentPane\" label=\"{%= $.update_To_Caption %}\" id=\"{%= $.id %}_luAccountMgr\" dojoAttachPoint=\"userLookup_Container\" allowClearingResult=\"false\" class=\"removePadding\"></div>',\r\n                        '</div>',\r\n                    '</td>',\r\n                '</tr>',            \r\n            \r\n            '</table>',\r\n            '<div class=\"button-bar\" align=\"right\">',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_OK\" name=\"btn_OK\" dojoAttachPoint=\"btn_OK\" dojoAttachEvent=\"onClick:_okClick\">{%= $.btnOK_Caption %}</div>',\r\n                '<div data-dojo-type=\"dijit.form.Button\" id=\"{%= $.id%}_btn_Cancel\" name=\"btn_Cancel\" dojoAttachPoint=\"btn_Cancel\" dojoAttachEvent=\"onClick:_close\">{%= $.btnCancel_Caption %}</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>',\r\n'</div>'\r\n]\r\n","Sage/UI/Dashboard/nls/Dashboard":function(){define("Sage/UI/Dashboard/nls/Dashboard",["Sage/LanguageList","dojo/_base/lang"],function(_23a8,lang){var nls={root:{newTabTitleText:"New Tab Title",inputTitleText:"Input a Title",copiedPageText:"Copied Tab",showText:"Show"}};return lang.mixin(_23a8,nls);});},"Sage/MainView/ActivityMgr/nls/ActivityListPanelConfig":function(){define("Sage/MainView/ActivityMgr/nls/ActivityListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_23a9,lang){var nls={root:{colNameComplete:"Complete",colNameAttachment:"Attachment",colNameRecurring:"Recurring",colNameAlarm:"Alarm",colNameType:"Activity Type",colNameStartDate:"Start Date",colNameDuration:"Duration",colNameContact:"Name",colNameLead:"Lead",colNameAccount:"Account/Company",colNameCompany:"Company",colNameRegarding:"Regarding",colNamePriority:"Priority",colNameUserId:"Leader",colNameTimeless:"Timeless",colNameTypeName:"Type",colNameContactName:"Name",SnoozeAlarm:"Snooze Alarm",DismissAlarm:"Dismiss Alarm",colNameUnConfirmStatus:"Unconfirmed",colNameAssociationCount:"Participant Count"}};return lang.mixin(_23a9,nls);});},"Sage/UI/Controls/nls/PickList":function(){define("Sage/UI/Controls/nls/PickList",["Sage/LanguageList","dojo/_base/lang"],function(_23aa,lang){var nls={root:{okText:"OK",missingPickListText:"The PickList Could Not be Found"}};return lang.mixin(_23aa,nls);});},"Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/ActivityEditorAttendeesTab",["dojo","dijit/_Widget","Sage/_Templated","dojo/_base/declare","Sage/Data/SDataServiceRegistry","Sage/Data/SingleEntrySDataStore","Sage/Data/WritableSDataStore","Sage/Utility","Sage/Utility/Activity","Sage/UI/SLXPreviewGrid","Sage/UI/EditableGrid","dijit/layout/ContentPane","dojo/_base/lang","dojo/DeferredList","dojo/on","dojo/_base/array","dojo/topic","dojo/string","dojo/_base/Deferred","Sage/MainView/ActivityMgr/AttendeeLookup/SpeedSearchLookup","Sage/UI/Controls/SingleSelectPickList","dojo/i18n!./nls/ActivityEditorAttendeesTab","dojox/grid/cells/_base","Sage/Extensions/UI/Columns/Radio","Sage/Extensions/UI/Columns/CheckBox","Sage/Extensions/UI/Columns/PickListSelect","Sage/MainView/ActivityMgr/AttendeeLookup/LookupService"],function(dojo,_23ab,_23ac,_23ad,_23ae,_23af,_23b0,_23b1,_23b2,_23b3,_23b4,_23b5,lang,_23b6,on,array,topic,_23b7,_23b8,_23b9,_23ba,_23bb,_23bc,radio,_23bd,_23be,_23bf){var _23c0=_23ad("Sage.MainView.ActivityMgr.ActivityEditorAttendeesTab",[_23ab,_23ac],{actEditor:null,lup_Contact:null,lup_Lead:null,self:null,widgetsInTemplate:true,currentPrimaryEntityId:null,userContactAttendees:[],editorMode:null,_activityId:null,_addedAttendees:null,_uncheckItem:null,_initialPrimaryContact:false,_gridStarted:false,_timeZones:[],constructor:function(_23c1){lang.mixin(this,_23c1);lang.mixin(this,_23bb);var self=this;if(this._timeZones.length==0){Sage.Utility.getTimeZones(function(_23c2){self._timeZones=_23c2;});}},widgetTemplate:new Simplate(["<div>",'<div id="{%= $.id %}_attendeesGridPlaceholder" dojoAttachPoint="_attendeesGridPlaceholder" style="width:100%;height:100%"></div>',"</div>"]),userContactList:[],_newItems:[],startup:function(_23c3){this._newItems=[];this._addedAttendees=[];if(!this.actEditor){return;}this._activityId=_23b1.getCurrentEntityId();this._buildGrid(_23c3);dojo.subscribe("/entity/activity/create",this,this._activitySaved);dojo.subscribe("/entity/activity/change",this,this._activitySaved);this.createLookups();this.self=this;var self=this;},primaryClicked:function(_23c4){_23c4["attendeeTab"]=true;_23c4["PrimaryChecked"]=_23c4.checked;if(_23c4.checked){this._uncheckItem=_23c4;}if(!_23c4["AccountId"]&&_23c4["EntityType"]=="Contact"){_23b2._getContactData(_23c4["EntityId"],function(_23c5){if(_23c5["Account"]&&_23c5["Account"]["$key"]){_23c4["AccountId"]=_23c5["Account"]["$key"];}dojo.publish("/entity/activityAttendee/primaryChanged",[_23c4,this]);},this);}else{if(!_23c4["AccountId"]&&_23c4["EntityType"]=="Lead"){_23b2._getLeadData(_23c4["EntityId"],function(_23c6){if(_23c6["Account"]&&_23c6["Account"]["$key"]){_23c4["AccountId"]=_23c6["Account"]["$key"];}dojo.publish("/entity/activityAttendee/primaryChanged",[_23c4,this]);},this);}else{dojo.publish("/entity/activityAttendee/primaryChanged",[_23c4,this]);}}},_primaryUnChecked:function(_23c7){if(this.currentPrimaryEntityId!==entityId){}else{}},_getTimeZoneDisplayName:function(_23c8){var _23c9=_23c8;if(this._timeZones&&this._timeZones.length>0){var obj=this._timeZones.filter(function(val){return val.Keyname===_23c8;});if(obj&&obj[0]){_23c9=obj[0].Displayname;}}return _23c9;},_buildGrid:function(_23ca){var tools=[];tools=[{id:"attendeeSpeedSearch",imageClass:"icon_plus_16x16",handler:this.speedSearch,tooltip:this.tooltip_speedSearch,scope:this},{id:"attendeeAddContact",icon:"./images/icons/Contact_Lookup_16x23.png",handler:this.lookupContacts,tooltip:this.tooltip_AddContact,scope:this},{id:"attendeeeAddLead",icon:"./images/icons/Lead_Lookup_16x23.png",handler:this.lookupLeads,tooltip:this.tooltip_AddLead,scope:this},{id:"attendeeDelete",imageClass:"icon_Delete_16x16",handler:this.deleteAttendees,tooltip:this.tooltip_Delete,scope:this}];var self1=this;var _23cb=function(data,_23cc){array.forEach(data,function(item,i){if(item["IsPrimary"]){this.currentPrimaryEntityId=item["EntityId"];}if(item["TimeZone"]){item["TimeZone"]=self1._getTimeZoneDisplayName(item["TimeZone"]);}if(self1._grid&&self1._grid.mode!=="insert"&&self1._grid.store&&self1._grid.store.dirtyDataCache.isDirty){if(self1._grid.store.dirtyDataCache[item["$key"]]){item["RoleName"]=self1._grid.store.dirtyDataCache[item["$key"]]["RoleName"];item["IsPrimary"]=self1._grid.store.dirtyDataCache[item["$key"]]["IsPrimary"];item["IsAttendee"]=self1._grid.store.dirtyDataCache[item["$key"]]["IsAttendee"];}}});};var _23cd=function(_23ce,field,_23cf){return;};_23ad("Sage.Extensions.Activity.primaryContactCheckBox1",dojox.grid.cells.Bool,{format:function(index,_23d0){var value=Sage.Utility.getValue(_23d0,"IsPrimary");var _23d1='<input type="checkbox" disabled="disabled" />';if(value){_23d1='<input type="checkbox" checked="checked" disabled="disabled" />';}return _23d1;}});_23ad("Sage.Extensions.Activity.isAttendeeCheckBox1",dojox.grid.cells.Bool,{format:function(index,_23d2){var value=Sage.Utility.getValue(_23d2,"IsAttendee");var _23d3='<input type="checkbox" disabled="disabled" />';if(value){_23d3='<input type="checkbox" checked="checked" disabled="disabled" />';}return _23d3;}});var _23d4={};var _23d5={};var _23d6={};if(_23ca){_23d4={field:"IsPrimary",name:this.header_Primary,width:"40px",type:Sage.Extensions.Activity.primaryContactCheckBox1};_23d5={field:"RoleName",name:this.header_RoleName};_23d6={field:"IsAttendee",name:this.header_Attendee,width:"70px",type:Sage.Extensions.Activity.isAttendeeCheckBox1};}else{_23d4={field:"IsPrimary",name:this.header_Primary,width:"40px",editable:true,radioType:"group",type:Sage.Extensions.UI.Columns.CheckBox,checkBoxClicked:this.primaryClicked};_23d5={field:"RoleName",name:this.header_RoleName,pickListName:"Attendee Role",width:"130px",type:Sage.Extensions.UI.Columns.PickListSelect,options:["Decison Maker","Gate Keeper","Other"],editable:true};_23d6={field:"IsAttendee",name:this.header_Attendee,width:"70px",editable:true,radioType:"group",type:dojox.grid.cells.Bool};}var _23d7=[{field:"Name",name:this.header_Name,width:"150px",editable:false},{field:"AccountName",name:this.header_AccountName,width:"150px",editable:false},{field:"EntityType",name:this.header_Type,width:"60px",editable:false},_23d4,_23d5,_23d6,{field:"PhoneNumber",name:this.header_Phone,width:"100px",editable:false},{field:"Email",name:this.header_Email,width:"150px",editable:false},{field:"TimeZone",name:this.header_TimeZone,width:"150px",editable:false}];var actid=_23b2.getCurrentActivityId();this._activityId=this._activityId||actid;var _23d8={columns:_23d7,tools:tools,storeOptions:{service:_23ae.getSDataService("dynamic"),resourceKind:"activityAttendees",select:["EntityType","EntityId","IsPrimary","Name","Description","Notes","AccountId","AccountName"],sort:[{attribute:"Name"}],onDataChange:_23cd,onComplete:_23cb,clearStoreCacheOnDelete:false},slxContext:{"workspace":"",tabId:""},contextualCondition:function(){var actId=self._activityId;if(actId&&actId.length>12){actId=actId.substr(0,12);}return"Activity.id eq '"+actId+"'";},id:this.id+"_attendees",rowsPerPage:40,singleClickEdit:false,enableCheckBoxSelection:false,selectionMode:"single"};if(_23ca){_23d8.readOnly=true;}if(this.editorMode.indexOf("New")==0||this.editorMode==="CompleteUnscheduled"){_23d8.storeOptions["isInsertMode"]=true;}var grid=new _23b3.Grid(_23d8,this._attendeesGridPlaceholder);grid.setSortColumn("Name");this._grid=grid._grid;var self=this;dojo.connect(this._grid,"onBlur",function(){if(self._grid.mode!="insert"&&self._grid.store.dirtyDataCache.isDirty){}});grid.startup();this._grid.markClean=function(){if(this.dirtyDataMsgID){var _23d9=dojo.byId(this.dirtyDataMsgID);if(_23d9){dojo.style(dojo.byId(this.dirtyDataMsgID),"display","none");}}var _23da=Sage.Services.getService("ClientBindingManagerService");if(_23da){_23da.clearDirtyAjaxItem(this.id);}};this._grid.markDirty=function(){};dojo.connect(this._grid,"_onFetchComplete",function(){if(self._grid.mode!="insert"&&self._uncheckItem){}if(self._initialPrimaryContact&&self._gridStarted){self._addPrimaryContact();}});},_addMemberToAvailabilityTab:function(_23db){var _23dc=[];_23dc.push(_23db);this.actEditor.addMembers(_23dc);},disableGrid:function(){this._grid.readOnly=true;this._grid.refresh();},saveGridChanges:function(_23dd){if(this._grid.mode!=="insert"){this._grid.saveChanges(lang.hitch(this,_23dd));}else{_23dd();}},speedSearch:function(){var self=this;if(!this._speedSearchLookup){this._speedSearchLookup=new _23b9();}this._speedSearchLookup.showLookup();this._speedSearchLookup.doSelected=function(items){self._processLookupResults(items);self._speedSearchLookup.hide();};},lookupContacts:function(){this.lup_Contact.seedProperty="Account.Id",this.lup_Contact.seedValue=this.actEditor._activityData.AccountId;this.lup_Contact.query.conditions="";this.lup_Contact.buildSDataStoreQueryForSeeding();this.lup_Contact._originalQueryConditions=this.lup_Contact.query.conditions;this.lup_Contact.cancelText=this.lup_Contact.closeText;this.lup_Contact.overrideSeedValueOnSearch=true;this.lup_Contact.showLookup();var _23de=dojo.connect(this.lup_Contact.lookupDialog,"onHide",this.lup_Contact,function(){dojo.disconnect(_23de);if(this.seedValue){this.resetGrid();}});},lookupLeads:function(){this.lup_Lead.query.conditions="";this.lup_Lead.buildSDataStoreQueryForSeeding();this.lup_Lead._originalQueryConditions=this.lup_Lead.query.conditions;this.lup_Lead.cancelText=this.lup_Lead.closeText;this.lup_Lead.showLookup();},deleteAttendees:function(){var _23df=this._grid.selection.getSelected();var self=this;this._grid.deleteSelected(function(){if(_23df){for(var i=0;i<_23df.length;i++){var _23e0=_23df[i];if(_23e0.IsPrimary){_23e0["attendeeTab"]=true;_23e0["PrimaryChecked"]=false;dojo.publish("/entity/activityAttendee/primaryChanged",[_23e0,this]);}if(_23df[i].EntityType=="Contact"){var _23e1=self._checkUserContactAssociation(_23df[i].EntityId);if(_23e1){var args={"memberId":_23e1,"attendeesTab":true};self.actEditor._removeMember(args);}}if(i==_23df.length-1){dojo.publish("/entity/activityAttendee/delete",[null,this]);}}}});},_attendeeExists:function(_23e2){var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId===_23e2){return true;}}return false;},resetPrimary:function(_23e3){var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId!==_23e3){item.IsPrimary=false;}}},unCheckPrimary:function(_23e4){if(this._grid.mode=="insert"){this.resetPrimary();}else{var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.IsPrimary){this._uncheckItem=item;}}}},resetRows:function(grid,_23e5,_23e6,_23e7){var count=grid.rowCount;for(var i=0;i<count;i++){var item=grid.getItem(i);if(item&&item.EntityId!==_23e7.EntityId){var _23e8="chk_"+this.field+"_"+item.EntityId;dojo.byId(_23e8).checked=false;grid.store.setValue(item,_23e6,false);}else{if(item&&item.EntityId===_23e7.EntityId){var _23e8="chk_"+this.field+"_"+item.EntityId;grid.store.setValue(item,_23e6,true);}}}},resetEntityContext:function(){var _23e9=this.parentRelationshipName;var _23ea=_23b1.getCurrentEntityId();if(_23e9==="activityId"){_23ea=_23ea.substr(0,12);}var _23eb=function(){return(_23e9||"'A'")+" eq '"+_23ea+"'";};this._previewGrid.resetContextualCondition(_23eb);this.refresh();},_processLookupResults:function(_23ec){var _23ed=[];var _23ee=[];for(var i=0;i<_23ec.length;i++){if(!this._attendeeExists(_23ec[i].$key)){_23ed.push(this._setAttendeeEntity(_23ec[i]));if(_23ec[i].type=="Contact"){this._getSlxAssociation("Contact",_23ec[i].$key,null,function(data){if(data&&data.length>0&&data[0].UserId){this._updateUserContactList(data[0].UserId,data[0].ContactId);this._getResourceData(_23b1.getClientContextByKey("userID"),data[0].UserId,this._addMemberToAvailabilityTab,this);}},this);}}}if(_23ed.length>0){this._addAttendeesToStore(_23ed);}},_processContactLookupResults:function(_23ef){var _23f0=[];for(var i=0;i<_23ef.length;i++){if(!this._attendeeExists(_23ef[i].$key)){_23ef[i].EntityType="Contact";var _23f1=this._setAttendeeEntityFromContactLead("Contact",_23ef[i]);_23f1["IsAttendee"]=true;_23f0.push(_23f1);_23ef[i].New=true;}}if(_23f0.length>0){this._addAttendeesToStore(_23f0);}for(var i=0;i<_23ef.length;i++){if(_23ef[i].New&&_23ef[i].ContactUser&&_23ef[i].ContactUser.$resources&&_23ef[i].ContactUser.$resources.length>0){this._updateUserContactList(_23ef[i].ContactUser.$resources[0].UserId,_23ef[i].$key);this._getResourceData(_23b1.getClientContextByKey("userID"),_23ef[i].ContactUser.$resources[0].UserId,this._addMemberToAvailabilityTab,this);}}},_processLeadLookupResults:function(_23f2){var _23f3=[];for(var i=0;i<_23f2.length;i++){if(!this._attendeeExists(_23f2[i].$key)){_23f2[i].EntityType="Lead";var _23f4=this._setAttendeeEntityFromContactLead("Lead",_23f2[i]);_23f4["IsAttendee"]=true;_23f3.push(_23f4);}}if(_23f3.length>0){this._addAttendeesToStore(_23f3);}},getFieldValue:function(_23f5,name){for(var i=0;i<_23f5.length;i++){var field=_23f5[i];if(field.fieldName==name){return field.fieldValue;}}return"";},_setAttendeeEntity:function(_23f6){var _23f7={};_23f7.EntityType=_23f6.type;_23f7.EntityId=_23f6.$key;_23f7.IsPrimary=false;_23f7.Name=_23f6.$descriptor;_23f7.AccountName=this.getFieldValue(_23f6.fields,"account");_23f7.Email=this.getFieldValue(_23f6.fields,"email");_23f7.Description="";_23f7.Notes="";_23f7.TimeZone="";_23f7.PhoneNumber=this.getFieldValue(_23f6.fields,"phone");_23f7.RoleName="";_23f7.general=false;_23f7.IsAttendee=true;return _23f7;},_setAttendeeEntityFromContactLead:function(type,_23f8){var _23f9=false;if(_23f8&&_23f8.$key){_23f9={};_23f9.EntityType=type;_23f9.EntityId=_23f8.$key;_23f9.$key=_23f8.$key;_23f9.IsPrimary=false;_23f9.Name=_23f8.$descriptor;_23f9.$descriptor=_23f8.$descriptor;_23f9.Account=_23f8.Account;_23f9.AccountName=_23f8.AccountName||_23f8.Company;if(type=="Lead"){_23f9.Company=_23f8.Company;_23f9.LeadFullName=_23f8.$descriptor;}_23f9.Company=_23f8.Company;_23f9.Email=_23f8.Email;_23f9.Description="";_23f9.Notes="";if(_23f8.Address){_23f9.TimeZone=_23f8.Address.TimeZone;if(_23f9.TimeZone){_23f9.TimeZone=this._getTimeZoneDisplayName(_23f9.TimeZone);}}_23f9.PhoneNumber=_23f8.WorkPhone;_23f9.RoleName="";_23f9.general=false;}return _23f9;},_getResourceData:function(_23fa,_23fb,_23fc,scope){this.accessData=false;if(!this._accessStore){this._accessStore=new _23af({include:["$descriptors"],resourceKind:"activityresourceviews",service:_23ae.getSDataService("dynamic")});}this._accessStore.fetch({predicate:"'"+_23fb+"-"+_23fa+"'",onComplete:function(_23fd){_23fc.call(scope,_23fd);},onError:function(){_23fc.call(scope,null);},scope:this});},_getSlxAssociation:function(type,_23fe,_23ff,_2400,scope){this.accessData=false;if(!this._associationStore){this._associationStore=new _23b0({include:["$descriptors"],resourceKind:"contactusers",select:["UserId","ContactId","Contact/Name","Contact/Email","Contact/WorkPhone","Contact/AccountName","User/Name"],service:_23ae.getSDataService("dynamic")});}var _2401="";if(type=="Contact"){_2401=_23b7.substitute("ContactId eq '${0}' ",[_23fe]);}else{if(type=="User"){_2401=_23b7.substitute("UserId eq '${0}' ",[_23fe]);}}this._associationStore.fetch({query:_2401,onComplete:function(_2402){_2400.call(scope,_2402,_23ff);},onError:function(){_2400.call(scope,null);},scope:this});},_updateUserContactList:function(_2403,_2404){if(!this.userContactList[_2403]){this.userContactList[_2403]={"UserId":_2403,"ContactId":_2404};}},_checkUserContactAssociation:function(_2405){var _2406=false;if(this.userContactList){for(var i in this.userContactList){if(this.userContactList[i]["ContactId"]==_2405){_2406=this.userContactList[i]["UserId"];break;}}}return _2406;},_addContactAttendees:function(_2407){var _2408=[];var len=_2407.length;var self=this;for(var i=0;i<len;i++){_2408.push(this._getAssociationData(_2407[i]));}var _2409=new _23b6(_2408);_2409.then(function(_240a){for(var j=0;j<_240a.length;j++){if(_240a[j][1]){self.userContactAttendees.push(_240a[j][1]);}}self._addAttendeesToStore(self.userContactAttendees);self.userContactAttendees=[];});},_getAssociationData:function(_240b){var d=new _23b8();var _240c={"last":false};this._getSlxAssociation("User",_240b,_240c,function(data,scope){if(data&&data.length>0){var _240d=null;if(data[0].Contact){this._updateUserContactList(data[0].UserId,data[0].ContactId);_240d=this._setAttendeeEntityFromContactLead("Contact",data[0].Contact);}d.resolve(_240d);}},this);return d;},_addPrimaryContact:function(_240e){if(this._initialPrimaryContact){if(!this._attendeeExists(this._initialPrimaryContact["$key"])){this._addContactAttendee(this._initialPrimaryContact);}}this._initialPrimaryContact=false;},_addContactAttendee:function(_240f){var _2410=[];var _2411=null;if(_240f){this.resetPrimary(_240f["$key"]);if(this._grid.mode!=="insert"){}if(_240f.Account){_240f.AccountName=_240f.Account.AccountName;_2411=this._setAttendeeEntityFromContactLead("Contact",_240f);_2411.IsPrimary=true;_2411.general=true;_2410.push(_2411);this._addAttendeesToStore(_2410,true);}else{_23b2._getContactData(_240f.$key,function(data){if(data){_2411=this._setAttendeeEntityFromContactLead("Contact",data);_2411.IsPrimary=true;_2411.general=true;_2410.push(_2411);this._addAttendeesToStore(_2410,true);}},this);}}},_addLeadAttendee:function(lead){var _2412=[];var _2413=null;if(lead){this.resetPrimary(lead["$key"]);if(!lead.Email&&!lead.WorkPhone){this._removeLeadAttendee();_23b2._getLeadData(lead.$key,function(data){if(data){_2413=this._setAttendeeEntityFromContactLead("Lead",data);_2413.general=true;_2413.IsPrimary=true;_2412.push(_2413);this._addAttendeesToStore(_2412,true);}},this);}else{_2413=this._setAttendeeEntityFromContactLead("Lead",lead);_2413.general=true;_2413.IsPrimary=true;_2412.push(_2413);this._addAttendeesToStore(_2412,true);}}},_removeAssociatedContact:function(_2414){if(this.userContactList[_2414]){var self=this;var _2415=this.userContactList[_2414]["ContactId"];var count=this._grid.rowCount;for(var i=0;i<count;i++){var item=this._grid.getItem(i);if(item.EntityId===_2415){self._grid.store.deleteItem(item);if(item.IsPrimary){item["attendeeTab"]=true;item["PrimaryChecked"]=false;dojo.publish("/entity/activityAttendee/primaryChanged",[item,this]);}break;}}}},checkStoreItem:function(_2416){var self=this;var _2417=new _23b8();this._grid.store.fetch({onComplete:function(items){var _2418=false;dojo.forEach(items,function(item,index){if(item&&item.EntityId==_2416){_2418=true;}});_2417.resolve(_2418);}});return _2417;},_removeContactAttendee:function(){var self=this;this._grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(item&&item.general&&item.EntityType=="Contact"){self._grid.store.deleteItem(item);}});}});},_removeLeadAttendee:function(){var self=this;this._grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(item&&item.general&&item.EntityType=="Lead"){self._grid.store.deleteItem(item);}});}});},_addLeadAttendees:function(_2419){var grid=this._grid;var _241a=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var fnAdd=function(){var _241b=new Sage.SData.Client.SDataServiceOperationRequest(_241a).setResourceKind("activities").setOperationName("AddLeadAttendees");var actId=_23b1.getCurrentEntityId();var entry={"$name":"AddLeadAttendees","request":{"ActivityId":actId,"leadIds":_2419.join()}};_241b.execute(entry,{success:function(_241c){grid.refresh();},failure:function(_241d){Sage.UI.Dialogs.showError(dojo.string.substitute("Error adding lead attendees",[_241d]));grid.refresh();}});};if(_2419.length>0){grid.showLoading();fnAdd();}},_getNewContactAttendees:function(){return this._newItems;},setInitialPrimaryContact:function(_241e){this._initialPrimaryContact=_241e;},refreshGrid:function(){this._grid.saveChanges();this._grid.refresh();},_addAttendeesToStore:function(_241f,_2420){var actid=_23b1.getCurrentEntityId();var _2421=false;var self=this;if(this._grid.mode==="insert"||!actid){var _2422=[];for(var i=0;i<_241f.length;i++){var _2423=_241f[i];if(!this._attendeeExists(_2423.EntityId)){var index=-1;for(var j=0,len=this._newItems.length;j<len;j++){if(this._newItems[j]["$key"]===_2423["$key"]){index=j;break;}}if(index===-1){this._newItems.push(_2423);}_2422.push(_2423);}}this._grid.store.addItemsToCache(this,_2422);}else{var _2424=[];for(var i=0;i<_241f.length;i++){var _2423=_241f[i];_2423["Account"]=null;if(!this._attendeeExists(_2423.EntityId)){this._newItems.push(_2423);_2423.Activity={"$key":actid};_2424.push(this._saveGridActivityAttendee(_2423));}}var d1=new _23b6(_2424);d1.then(function(_2425){dojo.publish("/entity/activityAttendee/add",[_2425.length,this]);if(_2420&&_241f&&_241f.length>0){}});}this._grid.refresh();},_saveGridActivityAttendee:function(_2426){var d=new _23b8();this._grid.store.saveNewEntity(_2426,function(){d.resolve("success");},function(){d.resolve("success");},this);return d;},_addAdhocAttendee:function(){this._grid.store.newItem({onComplete:function(_2427){var actid=_23b1.getCurrentEntityId();if(!actid){actid=this.actEditor._makeTempID();}_2427.Activity={"$key":actid};this._newItems.push(association);if(this._grid.mode==="insert"){this._grid.store.addToCache(this,_2427,1);}else{this._grid.store.saveNewEntity(_2427);}this._grid.refresh();},scope:this});},_activitySaved:function(_2428){var _2429=new _23b8();if(this._grid.mode==="insert"){var actid=_2428["$key"];var count=0;var _242a=[];var _242b=null;for(var i=0;i<this._newItems.length;i++){count=i;var itm=this._newItems[i];itm["Account"]=null;itm["Activity"]={"$key":actid};if(!itm["IsPrimary"]){_242a.push(this._saveActivityAttendee(itm));}else{_242b=itm;}}this._newItems=[];var d1=new _23b6(_242a);d1.then(function(_242c){_2429.resolve({success:true});});if(_242b){this._updatePrimaryAttendee(_242b,actid);}}else{this._grid.saveChanges();_2429.resolve({success:true});this._newItems=[];this._uncheckItem=null;}return _2429;},_updatePrimaryAttendee:function(_242d,_242e){var _242f=Sage.Data.SDataServiceRegistry.getSDataService("dynamic");var _2430=new Sage.SData.Client.SDataServiceOperationRequest(_242f).setResourceKind("activities").setOperationName("UpdatePrimaryActivityAttendee");var entry={"$name":"UpdatePrimaryActivityAttendee","request":{"ActivityId":_242e,"entityId":_242d.EntityId,"isAttendee":_242d.IsAttendee,"roleName":_242d.RoleName}};_2430.execute(entry,{success:function(_2431){},failure:function(ex){},scope:this});},_historySaved:function(_2432){var _2433=new _23b8();if(this._grid.mode==="insert"){var _2434=_2432["$key"];var count=0;var _2435=[];var _2436="";for(var i=0;i<this._newItems.length;i++){count=i;var itm=this._newItems[i];itm["Account"]=null;itm["History"]={"$key":_2434};if(_2436!==itm["EntityId"]){_2435.push(this._saveHistoryAttendee(itm));_2436=itm["EntityId"];}}this._newItems=[];var d1=new _23b6(_2435);d1.then(function(_2437){_2433.resolve({success:true});});}return _2433;},_saveActivityAttendee:function(itm){var d=new _23b8();var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_23ae.getSDataService("dynamic")).setResourceKind("activityAttendees").create(itm,{success:function(){d.resolve("success");},failure:function(){},scope:this});return d;},_saveHistoryAttendee:function(itm){var d=new _23b8();var self=this;var req=new Sage.SData.Client.SDataSingleResourceRequest(_23ae.getSDataService("dynamic")).setResourceKind("historyAttendees").create(itm,{success:function(){d.resolve("success");},failure:function(){},scope:this});return d;},_dialogHide:function(){this._newItems=[];this._grid.store.clearCache();this._grid._clearData();this._grid.markClean();this._uncheckItem=null;this._gridStarted=false;},destroy:function(){this.lup_Contact.destroy();this.lup_Lead.destroy();this._gridStarted=false;this.inherited(arguments);},_tabShow:function(){if(this._grid){var _2438=this._grid.get("mode");if(this.editorMode.indexOf("New")==0||!this._activityId){this._grid.set("mode","insert");}else{this._grid.set("mode","");}this._grid.refresh();if(this.lup_Contact){this.lup_Contact.resetGrid();this.lup_Contact.destroy();}if(this.lup_Lead){this.lup_Lead.resetGrid();this.lup_Lead.destroy();}this.createLookups();this._gridStarted=true;}},createLookups:function(){var srvc=Sage.Services.getService("LookupService");if(srvc){var self=this;var _2439=srvc.getLookupInstance("Contact","activityContactAttendee");if(_2439){this.lup_Contact=_2439;this.lup_Contact.doSelected=function(items){self._processContactLookupResults(items);this.lookupDialog.hide();};}var _243a=srvc.getLookupInstance("Lead","activityLeadAttendee");if(_243a){this.lup_Lead=_243a;_243a.doSelected=function(items){self._processLeadLookupResults(items);this.lookupDialog.hide();};}}},setToReadOnly:function(_243b){var _243c=["attendeeSpeedSearch","attendeeAddContact","attendeeeAddLead","attendeeDelete"];this._bulkSetProperty(this,_243c,"disabled",_243b);},_bulkSetProperty:function(ui,_243d,prop,val){for(var i=0;i<_243d.length;i++){var ctrl=dijit.byId(_243d[i]);if(ctrl){ctrl.set(prop,val);}}}});return _23c0;});},"Sage/UI/Controls/LogOffButton":function(){define("Sage/UI/Controls/LogOffButton",["dijit/MenuBar","Sage/UI/MenuItem","Sage/UI/MenuBarItem","dojo/i18n!./nls/LogOffButton","dojo/_base/declare"],function(_243e,_243f,_2440,_2441,_2442){var _2443=_2442("Sage.UI.Controls.LogOffButton",_243e,{postMixInProperties:function(){this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.addChild(new _2440({label:_2441.logOffText,iconStyle:"width: 16px",icon:"images/icons/login_16.png",imageClass:"icon_login_16",title:_2441.logOffText,id:"btnLogOff",onClick:function(){try{window.location.href="Shutdown.axd";}catch(e){}}}));}});return _2443;});},"url:Sage/MainView/ReportMgr/Crystal/templates/NumberParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divSingleValue" style="padding-top: 5px;">\r\n            <select data-dojo-type="dijit.form.Select" dojoattachpoint="cmbValues" style="width: 150px">\r\n            </select>                    \r\n        </div>\r\n\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px;">\r\n            <input type="text" dojoType="Sage.UI.Controls.Numeric" dojoAttachPoint="txtCustomValue" style="width:150px" />            \r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>',"url:Sage/MainView/IntegrationContract/templates/CustomerPaymentsRTDV.html":"[\n'<div>',\n    '<div dojoType=\"dijit.Dialog\" id=\"{%= $.id%}_customerPaymentsDetailsDialog\" title=\"{%= $.dialogCaption %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onHide:hideDetailsDialog\">',\n        '<table cellspacing=\"5\">',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_reference\">{%= $.lblReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_reference\" name=\"reference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_date\">{%= $.lblDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_date\" name=\"date\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_processDate\">{%= $.lblProcessDateCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_processDate\" name=\"processDate\" readonly=\"readonly\" dojoType=\"Sage.UI.DateTextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_name\">{%= $.lblNameCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_name\" name=\"name\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_type\">{%= $.lblTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_type\" name=\"type\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_status\">{%= $.lblStatusCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_status\" name=\"status\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_currency\">{%= $.lblCurrencyCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_currency\" name=\"currency\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderType\">{%= $.lblTenderTypeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderType\" name=\"tenderType\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_tenderReference\">{%= $.lblTenderReferenceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_tenderReference\" name=\"tenderReference\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_discountTotal\">{%= $.lblDiscountsCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_discountTotal\" name=\"discountTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_netTotal\">{%= $.lblNetTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_netTotal\" name=\"netTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxTotal\">{%= $.lblTaxesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxTotal\" name=\"taxTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_chargesTotal\">{%= $.lblChargesCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_chargesTotal\" name=\"chargesTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_taxCode\">{%= $.lblTaxCodeCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_taxCode\" name=\"taxCode\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n            '<tr>',\n                '<td>',\n                    '<label for=\"PaymentDetails_grossTotal\">{%= $.lblGrossTotalCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_grossTotal\" name=\"grossTotal\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n                '<td>',\n                    '<label for=\"PaymentDetails_source\">{%= $.lblSourceCaption %}</label>',\n                '</td>',\n                '<td>',\n                    '<input type=\"text\" id=\"{%= $.id%}_source\" name=\"source\" readonly=\"readonly\" dojoType=\"dijit.form.TextBox\" />',\n                '</td>',\n            '</tr>',\n        '</table>',\r\n        '<div class=\"button-bar alignright\">',\r\n            '<button dojoType=\"dijit.form.Button\" id=\"{%= $.id%}_paymentBtnClose\" type=\"button\" dojoAttachEvent=\"onClick:hideDetailsDialog\">{%= $.btnCloseCaption %}</button>',\r\n        '</div>',\n    '</div>',\n'</div>'\n]","Sage/MainView/ActivityMgr/nls/HistoryEditorAttendeesTab":function(){define("Sage/MainView/ActivityMgr/nls/HistoryEditorAttendeesTab",["Sage/LanguageList","dojo/_base/lang"],function(_2444,lang){var nls={root:{header_Name:"Name",header_AccountName:"Account/Company",header_Type:"Type",header_Primary:"Primary",header_RoleName:"Role",header_Phone:"Phone",header_Email:"Email",header_TimeZone:"Time Zone",header_Notes:"Notes",header_Status:"Status"}};return lang.mixin(_2444,nls);});},"Sage/Utility/nls/Email":function(){define("Sage/Utility/nls/Email",["Sage/LanguageList","dojo/_base/lang"],function(_2445,lang){var nls={root:{RecipientInfoError:"There was an unexpected error attempting to read the recipient information: ${0}",MailToProtocolError:"There was an error attempting to generate an e-mail message using the mailto: protocol (href.length=${0}). The number of e-mail recipients may need to be reduced. Browser error: ${1}.",InvalidContextError:"The e-mail request cannot be processed. This operation is only supported for Contacts or Leads.",InvalidArgumentError:"The e-mail request cannot be processed. Invalid argument.",FilteredOutMsg:"Filtered out: Non-solicitable: ${0}; Invalid: ${1}; Dupes: ${2}",AllInvalidEmailError:"The collection does not include one entity with a valid and/or solicitable e-mail address.",EmailFieldQueried:"The e-mail field queried was: ${0}.",EntityInfoError:"The was a failure attempting to retrieve the entity information.",CapabilityModeError:"The capability to write an e-mail to a group selection is only available in list views.",CapabilityEntityError:"The capability to write an e-mail to a group selection is only available for Contacts or Leads.",NoRowsSelectedError:"There are no rows selected."}};return lang.mixin(_2445,nls);});},"Sage/MainView/ActivityMgr/LitRequestListPanelConfig":function(){define("Sage/MainView/ActivityMgr/LitRequestListPanelConfig",["Sage/MainView/ActivityMgr/BaseListPanelConfig","Sage/Utility","Sage/Utility/Activity","Sage/UI/SummaryFormatterScope","Sage/Data/BaseSDataStore","Sage/UI/Columns/DateTime","dojo/_base/declare","dojo/i18n!./nls/LitRequestListPanelConfig"],function(_2446,_2447,_2448,_2449,_244a,_244b,_244c,_244d){var _244e=_244c("Sage.MainView.ActivityMgr.LitRequestListPanelConfig",[_2446],{constructor:function(){this._nlsResources=_244d;this._listId="literature";this._resourceKind="litRequests";this.entityName="LitRequest";this._contextMenu="LitRequestListContextMenu";this._securedAction="ActivitiesViewLitratureRequests";this._structure=this._getStructure();this._select=this._getSelect();this._sort=this._getSort();this._where=this._getWhere();this._store=this._getStore();this.list=this._getListConfig();this.summary=this._getSummaryConfig();this.toolBar=this._getToolBars();dojo.subscribe("/entity/litRequest/change",this._onListRefresh);},_onListRefresh:function(event){var _244f=Sage.Services.getService("ActivityService");_244f.refreshList("literature");},_getSelect:function(){var _2450=["$key","ContactName","Contact/$key","Description","FillDate","FillStatus","Options","Priority","RequestDate","SendDate","SendVia","TotalCost","FillUser/UserInfo/UserName","RequestUser/UserInfo/UserName","Contact/AccountName","Contact/Address/PostalCode","Contact/Account/AccountId","ReqestUser/$key"];return _2450;},_getSort:function(){var sort=[{attribute:"RequestDate",descending:true}];return sort;},_getWhere:function(){var _2451=this._nlsResources.litFillStatusComplete||"Completed";var where=(this._currentUserId)?dojo.string.substitute('(RequestUser.Id eq "${0}") and (FillStatus ne "${1}"  or FillStatus eq null )',[this._currentUserId,_2451]):"";return where;},_getStructure:function(){var _2452=this._nlsResources.colNameView||"View";var _2453=this._nlsResources.colNameContact||"Contact";var _2454=this._nlsResources.colNameDescription||"Description";var _2455=this._nlsResources.colNameFillStatus||"Status";var _2456=this._nlsResources.colNamePriority||"Priority";var _2457=this._nlsResources.colNameReqestDate||"Request Date";var _2458=this._nlsResources.colNameSendDate||"Send Date";var _2459=this._nlsResources.colNameSendVia||"Send Via";var _245a=this._nlsResources.colNameTotalCost||"Total Cost";var _245b=this._nlsResources.colNameReqestUser||"Request User";var _245c=this._nlsResources.colNameAccount||"Account";var _245d=this._nlsResources.colNamePostalCode||"Postal Code";_244c("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitViewCell",dojox.grid.cells.Cell,{format:function(_245e,_245f){var key=_2447.getValue(_245f,"$key");var html='<a href="LitRequest.aspx?entityid='+key+'&modeid=Detail" >'+_2452+"</a>";return html;}});_244c("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitContactCell",dojox.grid.cells.Cell,{format:function(_2460,_2461){var _2462=Sage.Utility.getValue(_2461,"Contact.$key");var _2463=Sage.Utility.getValue(_2461,"ContactName");var html='<a href="Contact.aspx?entityid='+_2462+'&modeid=Detail" >'+_2463+"</a>";return html;}});_244c("Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitAccountCell",dojox.grid.cells.Cell,{format:function(_2464,_2465){var _2466=Sage.Utility.getValue(_2465,"Contact.Account.$key");var _2467=Sage.Utility.getValue(_2465,"Contact.AccountName");var html='<a href="Account.aspx?entityid='+_2466+'&modeid=Detail" >'+_2467+"</a>";return html;}});var _2468=[{field:"$key",name:" ",type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitViewCell,width:"60px"},{field:"RequestDate",name:_2457,type:_244b,dateOnly:true,width:"90px"},{field:"Priority",name:_2456,width:"60px"},{field:"Description",name:_2454,width:"200px"},{field:"ContactName",name:_2453,type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitContactCell,width:"200px"},{field:"Contact.AccountName",name:_245c,type:Sage.MainView.ActivityMgr.LitRequestListPanelConfig.LitAccountCell,width:"200px"},{field:"SendDate",name:_2458,type:_244b,dateOnly:true,width:"90px"},{field:"SendVia",name:_2459,width:"60px"},{field:"TotalCost",name:_245a,width:"60px"},{field:"FillStatus",name:_2455,width:"60px"},{field:"RequestUser.UserInfo.UserName",name:_245b,width:"90px"},{field:"Contact.Address.PostalCode",name:_245d,width:"60px"}];return _2468;},_getDetailConfig:function(){var _2469={resourceKind:this._resourceKind,requestConfiguration:{mashupName:"ActivityManager",queryName:"LitRequestSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/LitRequestSummary.html",postProcessCallBack:false};return _2469;},_getFormatterScope:function(){var _246a=new _2449({requestConfiguration:{mashupName:"ActivityManager",queryName:"LitRequestSummary_query"},templateLocation:"MainView/ActivityMgr/Templates/LitRequestSummary.html"});return _246a;},_getToolBars:function(){var _246b={items:[]};return _246b;}});return _244e;});},"Sage/Services/_ServiceMixin":function(){define("Sage/Services/_ServiceMixin",["Sage/Data/SDataServiceRegistry","dojo/_base/declare"],function(_246c,_246d){var _246e=_246d("Sage.Services._ServiceMixin",null,{serviceMap:null,constructor:function(){var map=this.serviceMap;if(map){for(var _246f in map){if(this[_246f]){continue;}this[_246f]=this._resolveService(map[_246f]);}}},_resolveService:function(_2470){if(_2470&&_2470.type==="sdata"){return _246c.getSDataService(_2470.name);}return Sage.Services.getService(_2470);}});return _246e;});},"Sage/Utility/File/DefaultDropHandler":function(){define("Sage/Utility/File/DefaultDropHandler",["Sage/Utility/File/DragDropWatcher","Sage/Utility/File/Attachment","Sage/Utility/File/LibraryDocument","Sage/UI/Dialogs","dojo/string","Sage/Utility","Sage/Utility/EntityRelationships","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","dijit/_Widget","Sage/Services/ActivityService","dojo/i18n","dojo/i18n!./nls/DefaultDropHandler","dojo/_base/declare"],function(_2471,_2472,_2473,_2474,_2475,_2476,_2477,dLang,_2478,_2479,_247a,_247b,i18n,_247c,_247d){var _247e=_247d("Sage.Utility.File.EmailFileHandler",null,{file:null,histRelIdProperty:"",histRelNameProperty:"",histRelId:"",histRelName:"",extendRelationships:null,entityContext:null,fileMetaData:null,newHistory:null,saveAsMsg:false,doNotPromptHistory:false,saveAttachments:false,emailDroppedText:"Dropped Email",attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities.",constructor:function(opts){dLang.mixin(this,opts);},handleFile:function(){if(!this.file){return;}_2477.getRelationships(this.entityContext,function(_247f){var store=new _2478({resourceKind:"history",service:_2479.getSDataService("dynamic")});store.newItem({onComplete:function(_2480){var hist={};hist[this.histRelIdProperty]=this.histRelId;hist[this.histRelNameProperty]=this.histRelName;hist["Type"]="atEmail";hist["Duration"]=1;hist["Timeless"]=false;hist["Category"]=this.emailDroppedText;var d=(this.fileMetaData.sentOn)?this.fileMetaData.sentOn:this.fileMetaData.receivedTime;if(!d){d=new Date();}var _2481=_2476.Convert.toIsoStringFromDate(d);hist["StartDate"]=_2481;hist["CompletedDate"]=_2481;hist["OriginalDate"]=_2481;if(this.fileMetaData["subject"]){hist["Description"]=this.fileMetaData.subject.substring(0,64);}if(this.fileMetaData["body"]){hist["LongNotes"]=this.fileMetaData.body;}if(this.fileMetaData["senderName"]){hist["UserDef2"]=this.fileMetaData.senderName;}_2480=dLang.mixin(_2480,hist);if(_247f){_2480=dLang.mixin(_2480,_247f);}store.saveNewEntity(_2480,this._historySaved,this._historyFailed,this,false);},scope:this});},this);},_getAttachmentMixin:function(_2482,_2483){var mixin={};for(var p in _2483){mixin[p]=_2483[p];}mixin["description"]=_2482.filename;return mixin;},_historySaved:function(hist){this.newHistory=hist;var mixin={};mixin["HistoryId"]=hist["$key"];mixin["historyId"]=hist["$key"];for(var p in hist){var _2484=p.substring(p.length-2);if(_2484.toUpperCase()==="ID"&&hist[p]){mixin[p]=hist[p];}}if(this.saveAsMsg){this.file.name=hist["$key"]+".msg";this.file.filename=hist["$key"]+".msg";var _2485=this._getAttachmentMixin(this.file,mixin);_2485.description=hist["Description"];_2472.createAttachmentSilent(this.file,_2485);}if(this.fileMetaData.attachments.length>0){if(this.saveAttachments){for(var i=0;i<this.fileMetaData.attachments.length;i++){var _2486=this.fileMetaData.attachments[i];var _2487=this._getAttachmentMixin(_2486,mixin);if((!_2486.name)&&(_2486.filename)){_2486["name"]=_2486.filename;}_2472.createAttachmentSilent(_2486,_2487);}}}this.onHistorySaved(hist["$key"]);},_historyFailed:function(req){},onHistoryFailed:function(){},onHistorySaved:function(_2488){}});Sage.namespace("Utility.File.DefaultDropHandler");Sage.Utility.File.DefaultDropHandler={attachmentTitleText:"Save Attachements",attachmentQuestionText:"Would you like to keep a copy of these attachment(s) in Saleslogix? <br />The attachments will be stored under the Attachments tab for relevant entities.",emailDroppedText:"Dropped Email",promptForAttachments:true,saveAttachments:false,hasAttachments:false,options:{},historyQueue:[],historyHandlers:[],fileType:Sage.Utility.File.fileType.ftAttachment,init:function(_2489){dojo.connect(_2471,"onFilesDropped",this,"onFilesDropped");Sage.Utility.File.DefaultDropHandler.options["SAVEMSGFILES"]=_2489.saveMSGFiles;var _248a=Sage.Services.getService("UserOptions");if(_248a){_248a.get("DoNotPromptHistory","Email",function(opt){Sage.Utility.File.DefaultDropHandler.options["DoNotPromptHistory"]=(opt["value"]==="T");});}},onFilesDropped:function(files,_248b){if(this.shouldForceAttachments(_248b)){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_2472.createAttachments(files);}else{_2473.createDocuments(files,_248b);}return;}var _248c=[];var _248d=[];for(var i=0;i<files.length;i++){var file=files[i];if(this.isOutlookEmailFile(file)){_248c.push(file);}else{_248d.push(file);}}if(_248c.length>0){this.handleEmailFiles(_248c,_248b);}if(_248d.length>0){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_2472.createAttachments(_248d);}else{_2473.createDocuments(files,_248b);}}},shouldForceAttachments:function(_248e){var _248f=false;if(!Sage.gears){return true;}if(_248e){_248f=Sage.Utility.File.DefaultDropHandler.isTargetAttachmentTab(_248e.parentElement);}if(_248f){return true;}else{return false;}},isOutlookEmailFile:function(file){var re=/\.(\w+)$/;var _2490=file.name.match(re);if(_2490.length>1){return _2490[1].toLowerCase()==="msg";}return false;},isTargetAttachmentTab:function(_2491){if(!_2491){return false;}if(_2491.id.indexOf("tabContent.dijitContentPane")!=-1){return false;}if(_2491.id.indexOf("AttachmentList")!=-1){return true;}return Sage.Utility.File.DefaultDropHandler.isTargetAttachmentTab(_2491.parentElement);},handleEmailFiles:function(files,_2492){if(!Sage.gears||(this.fileType===Sage.Utility.File.fileType.ftLibraryDocs)){if(this.fileType!==Sage.Utility.File.fileType.ftLibraryDocs){_2472.createAttachments(files);}else{_2473.createDocuments(files,_2492);}return;}if(files.length<1){return;}this.hasAttachments=false;this._buildEmailQueue(files);if(this.hasAttachments){var self=this;var _2493={title:this.attachmentTitleText,query:this.attachmentQuestionText,callbackFn:function(_2494){if(_2494){self.saveAttachments=true;}else{self.saveAttachments=false;}self._processNextHistoryHandler();},yesText:null,noText:null,showNoButton:true};_2474.raiseQueryDialogExt(_2493);}else{this.saveAttachments=false;this._processNextHistoryHandler();}},_buildEmailQueue:function(files){var _2495=this.getEntityInfo();var table=_2495.EntityTableName.toUpperCase().substring(0,1)+_2495.EntityTableName.toLowerCase().substring(1);var _2496=Sage.gears.factory.create("beta.desktop");this.historyHandlers=[];this.historyQueue=[];for(var i=0;i<files.length;i++){var blob=null;if(files[i].blob){blob=files[i].blob;}else{blob=files[i];}var md=_2496.extractMetaData(blob);if(md.attachments.length>0){this.hasAttachments=true;}this.historyHandlers.push(new _247e({file:files[i],histRelIdProperty:table+"Id",histRelNameProperty:table+"Name",histRelId:_2495.EntityId,histRelName:_2495.Description,entityContext:_2495,emailDroppedText:Sage.Utility.File.DefaultDropHandler.emailDroppedText,fileMetaData:md,saveAttachments:false,saveAsMsg:Sage.Utility.File.DefaultDropHandler.options.SAVEMSGFILES,doNotPromptHistory:Sage.Utility.File.DefaultDropHandler.options.DoNotPromptHistory,onHistorySaved:dojo.hitch(this,"_onHistoryHandlerSuccsess"),onHistoryFailed:dojo.hitch(this,"_onHistoryHandlerFailed")}));}},_processNextHistoryHandler:function(){if(this.historyHandlers.length>0){var _2497=this.historyHandlers.pop();if(_2497){_2497.saveAttachments=this.saveAttachments;_2497.handleFile();}}else{this.saveAttachments=false;this._hasAttachmnets=false;this._checkContinueToComplete();}},_onHistoryHandlerSuccsess:function(_2498){this.historyQueue.push(_2498);this._processNextHistoryHandler();},_onHistoryHandlerFailed:function(){this._processNextHistoryHandler();},_checkContinueToComplete:function(){if(!this.options.DoNotPromptHistory){this._showCompleteDlg();}else{dojo.publish("/entity/history/change",null);this.historyQueue=[];}},_showCompleteDlg:function(){var _2499=Sage.Services.getService("ActivityService");_2499.completeHistoriesInList(this.historyQueue);},getEntityInfo:function(){if(Sage.Services.hasService("ClientEntityContext")){var _249a=Sage.Services.getService("ClientEntityContext");var _249b=_249a.getContext();if(_249b.EntityId!==""){return _249b;}else{return null;}}}};Sage.Utility.File.DefaultDropHandler=dojo.mixin(Sage.Utility.File.DefaultDropHandler,i18n.getLocalization("Sage.Utility.File","DefaultDropHandler"));return Sage.Utility.File.DefaultDropHandler;});},"Sage/TaskPane/nls/SecurityManagerTasksTasklet":function(){define("Sage/TaskPane/nls/SecurityManagerTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_249c,lang){var nls={root:{addSecurityProfileTitle:"Add Profile",editSecurityProfileTitle:"Edit Profile"}};return lang.mixin(_249c,nls);});},"Sage/MainView/ReportMgr/Crystal/MultiselectNumberParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/MultiselectNumberParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        \r\n        <div dojoattachpoint="divMultipleValues" style="padding-top: 5px;">\r\n            <center>\r\n                <table cellspacing="10">\r\n                    <tr>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblAvailableValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msAvailableValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                        <td>\r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAdd" dojoAttachEvent="onClick:_cmdAdd_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n                            </br>                            \r\n                            <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdRemove" dojoAttachEvent="onClick:_cmdRemove_OnClick" >{%= Sage.Utility.htmlEncode("<") %}</div>\r\n                        </td>\r\n                        <td align="left">\r\n                            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblSelectedValues_Caption) %}</label><br />\r\n                            <select dojoattachpoint="msSelectedValues" multiple>\r\n                            </select>\r\n                        </td>\r\n                    </tr>                    \r\n                </table>\r\n            </center>\r\n        </div> \r\n\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px; padding-left: 10px">\r\n            <label>{%= Sage.Utility.htmlEncode($._nlsResources.lblEnterValue_Caption) %}</label><br />\r\n            <div style="float:left"><input type="text" dojoType="Sage.UI.Controls.Numeric" dojoAttachPoint="txtCustomValue" style="width:150px" /></div>\r\n            &nbsp;<div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdAddCustom" dojoAttachEvent="onClick:_cmdAddCustom_OnClick" >{%= Sage.Utility.htmlEncode(">") %}</div>\r\n        </div>\r\n\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/MultiselectNumberParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/number","dojo/i18n!./nls/MultiselectNumberParameterEditor","dojo/text!./templates/MultiselectNumberParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dijit/form/MultiSelect","Sage/UI/Controls/Numeric","Sage/Utility"],function(_249d,_249e,_249f,_24a0,_24a1,_24a2,_24a3,_24a4,_24a5,_24a6){var _24a7=_24a6.makeTemplateFromString(_24a1);var _24a8=_249d("Sage.MainView.ReportMgr.Crystal.MultiselectNumberParameterEditor",[_24a2],{_nlsResources:_24a0,widgetTemplate:_24a7,_minimum:null,_maximum:null,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var self=this;var value=null;this._promptParameter.currentValues=[];_249e.forEach(this.msSelectedValuesWidget.domNode,function(_24a9,i){var _24aa=_24a9.value;if(!isNaN(_24aa)&&_24aa!==""){value=self._getOriginalParameterValue(_24aa);self._promptParameter.currentValues.push(value);}else{var _24ab=_24a9.innerHTML;value=self._getParameterValue(_24ab);self._promptParameter.currentValues.push(value);}});return this._promptParameter;},constructor:function(_24ac){},startup:function(){this.inherited(arguments);_24a3.setDomNodeVisible(this.divValidationMessage,false);_24a3.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);this._initializeValuesMultiselect();this._initializeMessages();},isValid:function(){var msg="";var valid=true;if(!this._promptParameter.isOptionalPrompt&&!this._promptParameter.allowNullValue){if(this.msSelectedValuesWidget.domNode.length===0){msg=_24a0.txtPleaseSpecifyValue;valid=false;}}this._showValidationMessage(msg);return valid;},_cmdAddCustom_OnClick:function(){var _24ad=this.txtCustomValue.focusNode.textbox.value;if(_24ad&&_24ad!==""){var _24ae=_249f.parse(_24ad);if(this._valueWithinMinMaxRange(_24ae)){var _24af=dojo.doc.createElement("option");_24af.innerHTML=_24ae;_24af.value="";this.msSelectedValuesWidget.containerNode.appendChild(_24af);this._showValidationMessage("");}else{this._showValidationMessage(this._getMinMaxValidationMessage(_24ae));}}else{this._showValidationMessage(_24a0.txtPleaseSpecifyValue);}},_cmdAdd_OnClick:function(){this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);},_cmdRemove_OnClick:function(){_249e.forEach(this.msSelectedValuesWidget.domNode,function(_24b0,i){if(_24b0.selected&&(isNaN(_24b0.value)||_24b0.value==="")){dojo.destroy(_24b0);}});this.msAvailableValuesWidget.addSelected(this.msSelectedValuesWidget);},_initializeMessages:function(){var _24b1=null;if(this._minimum&&!this._maximum){_24b1=dojo.replace(_24a0.txtPleaseSpecifyNumberGreater,[this._minimum]);}if(!this._minimum&&this._maximum){_24b1=dojo.replace(_24a0.txtPleaseSpecifyNumberLesser,[this._maximum]);}if(this._minimum&&this._maximum){_24b1=dojo.replace(_24a0.txtPleaseSpecifyNumberBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_24b1);_24a3.setDomNodeVisible(this.divMinMaxMessage,(_24b1!==null));},_valueWithinMinMaxRange:function(_24b2){if(this._minimum&&(_24b2<this._minimum)){return false;}if(this._maximum&&(_24b2>this._maximum)){return false;}return true;},_getMinMaxValidationMessage:function(_24b3){var _24b4="";if(this._minimum&&(_24b3<this._minimum)){_24b4=dojo.replace(_24a0.txtPleaseSpecifyNumberGreater,[this._minimum]);return _24b4;}if(this._maximum&&(_24b3>this._maximum)){_24b4=dojo.replace(_24a0.txtPleaseSpecifyNumberLesser,[this._maximum]);return _24b4;}return"";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_24a3.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getParameterValue:function(_24b5){var _24b6={className:"CrystalReports.ParameterFieldDiscreteValue",description:null,discreteValue:{actualValue:_24b5,actualValueType:"Int32",value:_24b5,valueType:"Int32"}};return _24b6;},_initializeValuesMultiselect:function(){var self=this;_249e.forEach(this._values,function(entry,i){var _24b7=dojo.doc.createElement("option");_24b7.innerHTML=entry.description;_24b7.value=entry._id;_249e.some(self._initialIds,function(_24b8,i){if(entry._id===_24b8){_24b7.selected=true;return true;}});self.msAvailableValues.appendChild(_24b7);});this.msAvailableValuesWidget=new dijit.form.MultiSelect({},this.msAvailableValues);dojo.setStyle(this.msAvailableValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget=new dijit.form.MultiSelect({},this.msSelectedValues);dojo.setStyle(this.msSelectedValuesWidget.domNode,"width","220px");this.msSelectedValuesWidget.addSelected(this.msAvailableValuesWidget);_249e.forEach(this._initialCustomValues,function(entry,i){var _24b9=entry.value;var _24ba=dojo.doc.createElement("option");_24ba.innerHTML=_24b9;_24ba.value="";_24ba.selected=true;self.msSelectedValuesWidget.containerNode.appendChild(_24ba);});}});return _24a8;});},"url:Sage/Library/templates/DocumentProperties.html":'[\r\n\'<div>\',\r\n\'    <div dojoType="dijit.Dialog" id="propertiesDialog" title="{%= Sage.Utility.htmlEncode($.resources.DocumentProperties) %}" dojoAttachPoint="_dialog">\',\r\n\'        <div dojoType="dijit.form.Form" id="propertiesForm" method="POST" onSubmit="return true;">\',\r\n\'            <table style="border: 1px solid #9f9f9f;" cellspacing="10">\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="FileName">{%= $.resources.FileName %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="fileName" name="fileName" required="true" maxlength="255" dojoType="dijit.form.ValidationTextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <label for="CreateDate">{%= $.resources.Created %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input type="text" id="createDate" name="createDate" disabled="disabled" dojoType="dijit.form.DateTextBox" />\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="Directroy">{%= $.resources.Directory %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="directory.fullPath" name="directory.fullPath" maxlength="255" dojoType="dijit.form.TextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <label for="RevisionDate">{%= $.resources.Revised %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input type="text" id="revisionDate" name="revisionDate" required="false" dojoType="dijit.form.DateTextBox" />\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="Status">{%= $.resources.Status %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="status" name="status" required="false" dojoType="dijit.form.TextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <label for="ExpireDate">{%= $.resources.Expires %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <div id="expiresRoot" name="expiresRoot"></div>\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="FileSize">{%= $.resources.Size %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="fileSize" name="fileSize" required="false" dojoType="dijit.form.TextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input type="checkbox" dojoType="dijit.form.CheckBox" id="doNotExpire" name="doNotExpire" dojoAttachEvent="onChange:_doNotExpireChange" />\',\r\n\'                        <label for="doNotExpire">{%= $.resources.DoNotExpire %}</label>\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'            </table>\',\r\n\'            <label for="Description">{%= $.resources.Description %}:</label>\',\r\n\'            <br>\',\r\n\'            <textarea class="libTextBox" id="description" name="description" maxlength="255" dojoType="dijit.form.Textarea"></textarea>\',\r\n\'            <br>\',\r\n\'            <label for="abstract">{%= $.resources.Abstract %}:</label>\',\r\n\'            <br>\',\r\n\'            <textarea class="libTextBox" id="abstract" name="abstract" dojoType="dijit.form.Textarea"></textarea>\',\r\n\'            <p></p>\',\r\n\'            <input type="checkbox" dojoType="dijit.form.CheckBox" id="forceDistribution" name="forceDistribution" />\',\r\n\'            <label for="forceDistribution">{%= $.resources.ForceDistribution %}</label>\',\r\n\'            <div style="text-align: right">\',\r\n\'                <button class="libOkBtn" dojoType="dijit.form.Button" id="okButton" type="button" dojoAttachEvent="onClick:_submitClick">{%= $.resources.OK %}</button>\',\r\n\'                &nbsp;\',\r\n\'                <button dojoType="dijit.form.Button" id="cancelButton" type="button" dojoAttachEvent="onClick:_cancelClick">{%= $.resources.Cancel %}</button>\',\r\n\'            </div>\',\r\n\'            <div style="display: none">\',\r\n\'                <input type="text" dojoType="dijit.form.DateTextBox" id="expireDate" name="expireDate" value="" />\',\r\n\'            </div>\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="$key" name="$key" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="$etag" name="$etag" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="expires" name="expires" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="flags" name="flags" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="abstract$originalValue" name="abstract$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="description$originalValue" name="description$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="expireDate$originalValue" name="expireDate$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="fileName$originalValue" name="fileName$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="revisionDate$originalValue" name="revisionDate$originalValue" value="" />\',\r\n\'        </div>\',\r\n\'    </div>\',\r\n\'</div>\'\r\n]',"Sage/UI/nls/TimeZoneItem":function(){define("Sage/UI/nls/TimeZoneItem",["Sage/LanguageList","dojo/_base/lang"],function(_24bb,lang){var nls={root:{buttonOKText:"OK",buttonCancelText:"Cancel",timeZoneText:"Time zone",timeZoneSettingsText:"Time Zone Settings",setTimeZoneText:"Set the time zone:"}};return lang.mixin(_24bb,nls);});},"Sage/Utility/File/GoogleDocPicker":function(){define("Sage/Utility/File/GoogleDocPicker",["dijit/_Widget","dijit/tree/TreeStoreModel","dijit/Dialog","dijit/Tree","dojo/window","dojo/data/ItemFileReadStore","dojo/i18n!./nls/GoogleDocPicker","dojo/_base/declare"],function(_24bc,_24bd,_24be,Tree,_24bf,_24c0,_24c1,_24c2){var _24c3=_24c2("Sage.Utility.File.GoogleAuthModule",null,{couldNotOpenWindowMsg:"Could not open authentication window - please check your popup blocker settings.",scope:"",authUrl:"",constructor:function(opts){this.scope=opts.authUrl;dojo.mixin(this,opts);dojo.mixin(this,_24c1);},login:function(){var r=this;this._loadGoogleLibrary(function(){google.load("gdata","2.0",{"callback":function(){google.gdata.onLoad();if(google.accounts.user.checkLogin(r.authUrl)){r.onLoggedIn();}else{window.googleAuthModule=r;var win=window.open("GoogleAuth.aspx","_blank");setTimeout(function(){var _24c4=false;if(typeof win=="undefined"){_24c4=true;}else{if(win&&win.closed){_24c4=false;}else{if(win&&!win.outerHeight){_24c4=true;}}}if(_24c4){alert(r.couldNotOpenWindowMsg);}},3000);}}});});},logout:function(){if(google.accounts.user.checkLogin(this.authUrl)){google.accounts.user.logout();}},onLoggedIn:function(){},_loadGoogleLibrary:function(_24c5){if(typeof google!=="undefined"){_24c5();}else{var _24c6="googleCallback_"+String(Math.random()).replace(/^0\./,"");window[_24c6]=_24c5;var _24c7=document.createElement("script");_24c7.src="https://www.google.com/jsapi?callback="+_24c6;_24c7.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(_24c7);}}});var _24c8=_24c2("Sage.Utility.File.GoogleDocPicker",_24bc,{id:"",googleDocumentsTitle:"Google Documents",pick:function(){var auth=new _24c3({authUrl:"https://docs.google.com/feeds"});dojo.connect(auth,"onLoggedIn",this,this._onLoggedInHandler);auth.login();},_onLoggedInHandler:function(){var svc=new google.gdata.client.GoogleService("writely","mytest");svc.getFeed("https://docs.google.com/feeds/documents/private/full?showfolders=true",dojo.hitch(this,"_displayFeed"),function(e){},undefined,true);},_displayFeed:function(feed){var root=this._parseFeed(feed);dojo.ready(dojo.hitch(this,function(){var store=new _24c0({data:{items:[{children:root,title:"Root",root:true}]}});var _24c9=new _24bd({store:store,childrenAttrs:["children"],labelAttr:"title",query:{}});var tree=new Tree({model:_24c9,showRoot:false,openOnDblClick:true});dojo.connect(tree,"onDblClick",dojo.hitch(this,function(item,node,evt){this.onDocumentSelected(item.title,item.url);}));dojo.connect(tree,"onLoad",dojo.hitch(this,function(){var dlg=new _24be({title:_24c1.googleDocumentsTitle,content:tree});dlg.startup();dlg.containerNode.style.maxHeight=dojo.window.getBox().h/3+"px";dlg.containerNode.style.minWidth="200px";dlg.containerNode.style.overflow="auto";dlg.show();}));}));},_parseFeed:function(feed){var items=[];var _24ca=feed.feed.entry;if(_24ca){for(var i=0;i<_24ca.length;i++){var entry=_24ca[i];var _24cb={id:entry.id.$t,title:entry.title.$t,feedentry:entry};dojo.some(entry.category,function(x){if(x.scheme=="http://schemas.google.com/g/2005#kind"){_24cb.type=x.label;return true;}});items.push(_24cb);}}items.sort(function(a,b){return a.title>b.title?1:(a.title<b.title?-1:0);});var root=items.slice(0);var _24cc=0;dojo.forEach(items,function(item,i){var _24cd=false;dojo.forEach(item.feedentry.link,function(link){if(link.rel=="http://schemas.google.com/docs/2007#parent"){dojo.some(items,function(_24ce){if(link.href==_24ce.id){_24cd=true;if(!_24ce.children){_24ce.children=[];}_24ce.children.push(item);}});}if(link.rel=="alternate"){item.url=link.href;}});if(_24cd){root.splice(i-_24cc,1);_24cc++;}});return root;},onDocumentSelected:function(title,url){}});return _24c8;});},"Sage/UI/Columns/nls/SlxEdit":function(){define("Sage/UI/Columns/nls/SlxEdit",["Sage/LanguageList","dojo/_base/lang"],function(_24cf,lang){var nls={root:{editText:"Edit"}};return lang.mixin(_24cf,nls);});},"Sage/Reporting/nls/Enumerations":function(){define("Sage/Reporting/nls/Enumerations",["Sage/LanguageList","dojo/_base/lang"],function(_24d0,lang){var nls={root:{txtGroup:"Group",txtDateRange:"Date Range",txtUser:"User",txtQuery:"Query",txtIsGreaterThan:"Is Greater Than",txtIsLessThan:"Is Less Than",txtIsInTheRange:"Is In The Range",txtIsAfter:"Is After",txtIsBefore:"Is Before",txtContains:"Contains",txtStartsWith:"Starts With",txtEndsWith:"Ends With",txtIs:"Is",txtIsNot:"Is Not",txtOnDemand:"On Demand",txtScheduled:"Scheduled",txtCrystalReport:"Crystal Report",txtExportToFileReportType:"Export to File",txtUnknownReportType:"Unknown",txtNoFormat:"No Format",txtPdf:"PDF",txtExcel:"Excel",txtCsv:"CSV",txtWord:"Word",txtXml:"XML"}};return lang.mixin(_24d0,nls);});},"Sage/Layout/ContentPane":function(){define("Sage/Layout/ContentPane",["dojo/_base/declare","dijit/layout/ContentPane","Sage/Layout/_SplitterEnhancedMixin"],function(_24d1,_24d2,_24d3){var _24d4=_24d1("Sage.Layout.ContentPane",[_24d2,_24d3],{});return _24d4;});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionEditor.html":"[\r\n    '<div>',\r\n        '<div data-dojo-type=\"dijit.Dialog\" title=\"{%= $._nlsResources.dlgCrystalReportConditionDetails_Title %}\" dojoAttachPoint=\"_dialog\" dojoAttachEvent=\"onCancel:_dialog_OnCancel, onShow:_dialog_OnShow\" style=\"width: 300px\">',\r\n            '<div data-dojo-type=\"dijit.form.Form\">',\r\n                \r\n                '<table cellspacing=\"10\">',\r\n                    \r\n                    '<tr>',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbConditionType_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',                            \r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbConditionType\" sortByLabel=\"false\" dojoAttachEvent=\"onChange:_cmbConditionType_OnChange\" style=\"width:150px\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trCurrentUser\">',\r\n                        '<td>',\r\n                            '&nbsp;',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input data-dojo-type=\"dijit.form.CheckBox\" dojoAttachPoint=\"chkCurrentUser\" dojoAttachEvent=\"onChange:_chkCurrentUser_OnChange\" /> <label>{%= $._nlsResources.chkCurrentUser_Caption %}</label>',\r\n                        '</td>',                        \r\n                    '</tr>',\r\n                    \r\n                    '<tr dojoAttachPoint=\"trUser\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpUser_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpUser_Caption %}\" dojoAttachPoint=\"contentPaneLkpUser\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',                        \r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trGroup\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.lkpGroup_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div dojoType=\"dijit.layout.ContentPane\" label=\"{%= $._nlsResources.lkpGroup_Caption %}\" dojoAttachPoint=\"contentPaneLkpGroup\" class=\"remove-padding lookup-container\" style=\"width:300px; padding: 0px !important;\"></div>',                            \r\n                        '</td>',\r\n                    '</tr>',                                                       \r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trDateRange\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbDateRange_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbDateRange\" dojoAttachEvent=\"onChange:_cmbDateRange_OnChange\" style=\"width:150px\" >',\r\n                                '<option value=\"DateRange\">{%= $._nlsResources.cmbDateRange_SpecificDates_Caption %}</option>',\r\n                                '<option value=\"ThisWeek\">{%= $._nlsResources.cmbDateRange_ThisWeek_Caption %}</option>',\r\n                                '<option value=\"ThisMonth\">{%= $._nlsResources.cmbDateRange_ThisMonth_Caption %}</option>',\r\n                                '<option value=\"ThisQuarter\">{%= $._nlsResources.cmbDateRange_ThisQuarter_Caption %}</option>',\r\n                                '<option value=\"ThisYear\">{%= $._nlsResources.cmbDateRange_ThisYear_Caption %}</option>',\r\n                                '<option value=\"LastWeek\">{%= $._nlsResources.cmbDateRange_LastWeek_Caption %}</option>',\r\n                                '<option value=\"LastMonth\">{%= $._nlsResources.cmbDateRange_LastMonth_Caption %}</option>',\r\n                                '<option value=\"LastQuarter\">{%= $._nlsResources.cmbDateRange_LastQuarter_Caption %}</option>',\r\n                                '<option value=\"LastYear\">{%= $._nlsResources.cmbDateRange_LastYear_Caption %}</option>',\r\n                                '<option value=\"MonthToDate\">{%= $._nlsResources.cmbDateRange_MonthToDate_Caption %}</option>',\r\n                                '<option value=\"QuarterToDate\">{%= $._nlsResources.cmbDateRange_QuarterToDate_Caption %}</option>',\r\n                                '<option value=\"YearToDate\">{%= $._nlsResources.cmbDateRange_YearToDate_Caption %}</option>',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trFromDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtFromDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trToDate\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtToDate\" displayDate=\"true\" displayTime=\"false\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trTable\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbTable_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbTables\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbTables_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n\r\n                    '<tr dojoAttachPoint=\"trField\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbField_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbFields\" style=\"width:150px\" data-dojo-props=\"maxHeight:100\" dojoAttachEvent=\"onChange:_cmbFields_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trOperator\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.cmbOperator_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<select dojoType=\"dijit.form.Select\" dojoAttachPoint=\"cmbOperators\" sortByLabel=\"false\" style=\"width:150px\" dojoAttachEvent=\"onChange:_cmbOperators_OnChange\" >',\r\n                            '</select>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue1\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue1\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trStringValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtValue2_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtStringValue2\" required=\"false\" dojoType=\"dijit.form.TextBox\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue1\">',\r\n                        '<td>',\r\n                            '<label dojoAttachPoint=\"lblNumericValue1\">{%= $._nlsResources.txtValue_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue1\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trNumericValue2\">',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.txtNumericValueTo_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<input type=\"text\" dojoAttachPoint=\"txtNumericValue2\" required=\"false\" dojoType=\"Sage.UI.Controls.Numeric\" style=\"width:150px\" />',\r\n                        '</td>',\r\n                    '</tr>',  \r\n\r\n                    '<tr dojoAttachPoint=\"trDateValue1\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtFromDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue1\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtFromDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n                    '<tr dojoAttachPoint=\"trDateValue2\" >',\r\n                        '<td>',\r\n                            '<label>{%= $._nlsResources.dtToDate_Caption %}:</label>',\r\n                        '</td>',\r\n                        '<td>',\r\n                            '<div shouldPublishMarkDirty=\"false\" dojoType=\"Sage.UI.Controls.DateTimePicker\" dojoAttachPoint=\"dtDateValue2\" displayDate=\"true\" displayTime=\"true\" label=\"{%= $._nlsResources.dtToDate_Caption %}\" style=\"width:150px\"></div>',\r\n                        '</td>',\r\n                    '</tr>',\r\n\r\n                    \r\n                '</table>',\r\n                \r\n                '<div align=\"right\" style=\"margin-top:10px\">',\r\n                    '<div data-dojo-type=\"dijit.form.Button\"dojoAttachPoint=\"cmdOK\" dojoAttachEvent=\"onClick:_cmdOK_OnClick\">{%= $._nlsResources.cmdOK_Caption %}</div>',\r\n                    '<div data-dojo-type=\"dijit.form.Button\" dojoAttachPoint=\"cmdCancel\" dojoAttachEvent=\"onClick:_cmdCancel_OnClick\" style=\"margin-left:5px;\">{%= $._nlsResources.cmdCancel_Caption %}</div>',\r\n                '</div>',\r\n            '</div>',\r\n        '</div>',\r\n    '</div>'\r\n]","Sage/UI/FilteringSelect":function(){define("Sage/UI/FilteringSelect",["dijit/form/FilteringSelect","dojo/_base/declare"],function(_24d5,_24d6){return _24d6("Sage.UI.FilteringSelect",_24d5,{valueAttr:false,_getValueField:function(){return this.valueAttr||"value";}});});},"Sage/Reporting/Enumerations":function(){define("Sage/Reporting/Enumerations",["dojo/_base/declare","dojo/i18n!./nls/Enumerations"],function(_24d7,_24d8){Sage.namespace("Sage.Reporting.Enumerations");dojo.mixin(Sage.Reporting.Enumerations,{nlsResources:_24d8,ConditionPreset:{CurrentEntity:"CurrentEntity",CurrentGroup:"CurrentGroup",CurrentUser:"CurrentUser",AllRecords:"AllRecords",Custom:"Custom",Preset:"Preset"},ReportConditionConnector:{And:"And",Or:"Or"},FieldDataTypes:{String:"String",Numeric:"Numeric",DateTime:"DateTime"},DateRange:{ThisWeek:"ThisWeek",ThisMonth:"ThisMonth",ThisQuarter:"ThisQuarter",ThisYear:"ThisYear",LastWeek:"LastWeek",LastMonth:"LastMonth",LastQuarter:"LastQuarter",LastYear:"LastYear",MonthToDate:"MonthToDate",QuarterToDate:"QuarterToDate",YearToDate:"QuarterToDate"},ReportExportFormat:{NoFormat:"NoFormat",Pdf:"Pdf",Excel:"Excel",Csv:"Csv",Word:"Word",Xml:"Xml"},ReportTypes:{CrystalReport:"Crystal",ExportToFileReportType:"ExportToFile"},getReportTypeCaption:function(_24d9){switch(_24d9){case this.ReportTypes.CrystalReport:return _24d8.txtCrystalReport;case this.ReportTypes.ExportToFileReportType:return _24d8.txtExportToFileReportType;default:console.error("Unsupported report type : "+_24d9);}return _24d8.txtUnknownReportType;},ReportConditionType:{Group:"Group",DateRange:"DateRange",User:"User",Query:"Query"},getReportConditionTypeCaption:function(_24da){switch(String(_24da)){case String(this.ReportConditionType.Group):return _24d8.txtGroup;case String(this.ReportConditionType.DateRange):return _24d8.txtDateRange;case String(this.ReportConditionType.User):return _24d8.txtUser;case String(this.ReportConditionType.Query):return _24d8.txtQuery;default:console.error("Unsupported condition type : "+_24da);}return"";},ReportConditionOperator:{IsGreaterThan:"IsGreaterThan",IsLessThan:"IsLessThan",IsInTheRange:"IsInTheRange",IsAfter:"IsAfter",IsBefore:"IsBefore",Contains:"Contains",StartsWith:"StartsWith",EndsWith:"EndsWith",Is:"Is",IsNot:"IsNot"},getReportConditionOperatorCaption:function(_24db){switch(String(_24db)){case String(this.ReportConditionOperator.IsGreaterThan):return _24d8.txtIsGreaterThan;case String(this.ReportConditionOperator.IsLessThan):return _24d8.txtIsLessThan;case String(this.ReportConditionOperator.IsInTheRange):return _24d8.txtIsInTheRange;case String(this.ReportConditionOperator.IsAfter):return _24d8.txtIsAfter;case String(this.ReportConditionOperator.IsBefore):return _24d8.txtIsBefore;case String(this.ReportConditionOperator.Contains):return _24d8.txtContains;case String(this.ReportConditionOperator.StartsWith):return _24d8.txtStartsWith;case String(this.ReportConditionOperator.EndsWith):return _24d8.txtEndsWith;case String(this.ReportConditionOperator.Is):return _24d8.txtIs;case String(this.ReportConditionOperator.IsNot):return _24d8.txtIsNot;default:console.error("Unsupported condition operator : "+_24db);}return"";},ExecutionType:{OnDemand:0,Scheduled:1},getExecutionTypeCaption:function(value){switch(value){case this.ExecutionType.OnDemand:return _24d8.txtOnDemand;case this.ExecutionType.Scheduled:return _24d8.txtScheduled;default:console.error("Unsupported execution type: "+value);}return"";},CrystalReportWizardStep:{Init:0,Conditions:1,Parameters:2,ExportOptions:3,Finish:4},SlxParameterValueKind:{NumberParameter:"NumberParameter",CurrencyParameter:"CurrencyParameter",BooleanParameter:"BooleanParameter",DateParameter:"DateParameter",StringParameter:"StringParameter",DateTimeParameter:"DateTimeParameter",TimeParameter:"TimeParameter"},SlxDefaultValueDisplayType:{Description:"Description",DescriptionAndValue:"DescriptionAndValue"},SlxParameterValueRangeKind:{Range:"Range",Discrete:"Discrete",DiscreteAndRange:"DiscreteAndRange"},SlxRangeBoundType:{NoBound:"NoBound",BoundExclusive:"BoundExclusive",BoundInclusive:"BoundInclusive"}});return Sage.Reporting.Enumerations;});},"Sage/QuickForms/Design/OwnerControlDesigner":function(){define("Sage/QuickForms/Design/OwnerControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/OwnerBasicPropertyEditor","./Editors/OwnerAdvancedPropertyEditor","dojo/i18n!./nls/OwnerControlDesigner"],function(_24dc,array,lang,_24dd,_24de,_24df,_24e0,_24e1,_24e2,_24e3,_24e4){return _24dc("Sage.QuickForms.Design.OwnerControlDesigner",[_24de,_24df,_24dd,_24e0],{designSupport:{visible:true},editors:[_24e2,_24e3,_24e1],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="{%= $.fieldClass %}-icon"></div>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-owner",helpTopicName:"Owner_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXOwner, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Owner",constructor:function(){lang.mixin(this,_24e4);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_24e5){return(_24e5["ControlItemName"]=="LookupResultValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_24e6){this.inherited(arguments);this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"LookupResultValue",DataItemName:_24e6.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:"null"}]);this.set("designBinding",_24e6.propertyPath||"");},startup:function(){this.inherited(arguments);var _24e7=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_24e7&&_24e7["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Layout/TabContainer":function(){define("Sage/Layout/TabContainer",["dojo/_base/declare","dojo/ready","dojo/aspect","dijit/layout/TabContainer"],function(_24e8,ready,_24e9,_24ea){var _24eb=_24e8("Sage.Layout.TabContainer",[_24ea],{region:"center",destroyRecursive:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);},postCreate:function(){_24e9.after(this,"startup",function(){var _24ec=dijit.byId("tabContent");_24ec.resize();_24ec.resize();});}});return _24eb;});},"url:Sage/UI/Controls/templates/DateTimePicker.html":'<div class="dateTimePicker">\r\n        <div dojoAttachPoint="tooltipContainer">\r\n        \r\n            <div dojoAttachPoint="dateContainer" class="dateTimePicker-dateContainer">\r\n               \r\n                    <input id="${id}-Calendar" data-dojo-type="Sage.UI.Calendar"\r\n                        style="width:inherit;"\r\n                        textAlign="${textAlign}"\r\n                           type="text" \r\n                           tabindex="0"\r\n                           displayMode="popup"\r\n                           dojoAttachPoint="dateNode"\r\n                           dojoAttachEvent="onValueSelected:_onValueSelected,onBlur:_onCalendarBlur">\r\n               \r\n            </div>\r\n            \r\n            <div dojoAttachPoint="timeZoneContainer" class="dateTimePicker-timeZoneContainer">\r\n               \r\n                    <label for="${id}-TimeStart">${timeStartText}</label><br />\r\n                    <input id="${id}-TimeTextBox" data-dojo-type="dijit.form.TimeTextBox" \r\n                           style="width:16em;"\r\n                           textAlign="${textAlign}"\r\n                           tabindex="0"\r\n                           type="text" dojoAttachPoint="timeNode">\r\n                    <br /><br/>\r\n                    <label for="${id}-TzCalculator">${timeZoneCalculatorText}</label>\r\n                    <div id="timeZoneCalucaltor" class="dateTimePicker-timeZoneCalculator">\r\n                       <p style="width:auto;margin-top:auto">\r\n                            <label for="${id}-TzSelectSource">${timeZoneSourceText}</label><br />\r\n                            <select id="${id}-TzSelectSource" data-dojo-type="dijit.form.ComboBox"  dojoAttachPoint="timeZoneSourceComboNode" style="width:15em;">\r\n                            </select>\r\n                            <br />\r\n                            <label for="${id}-TzSelectDest">${timeZoneDestText}</label><br />\r\n                           <select id="${id}-TzSelectDest" data-dojo-type="dijit.form.ComboBox"  dojoAttachPoint="timeZoneDestComboNode" style="width:15em;">\r\n                           </select>\r\n                           <br/>\r\n                            <span id="${id}-ConvertResults" dojoAttachPoint="convertResultsNode" style="float:left;padding-top:5px;">\r\n                        </span>\r\n                        </p><br/>\r\n                        <button id="${id}-Convert" data-dojo-type="dijit.form.Button" dojoAttachPoint="timeZoneConvertButtonNode" type="button" style="float:right" dojoAttachEvent="onClick:_convertClicked">\r\n                            ${convertText}\r\n                        </button>\r\n                       \r\n                        \r\n                    </div>\r\n               \r\n                <div class="button-bar alignright" style="clear: both">\r\n                    <button id="${id}-OKButton" tabindex="0" data-dojo-type="dijit.form.Button" dojoAttachPoint="OKButtonNode" type="button" dojoAttachEvent="onClick:_okClicked">\r\n                        ${okText}\r\n                    </button>\r\n                    <button id="${id}-CancelButton" tabindex="0" data-dojo-type="dijit.form.Button" dojoAttachPoint="CancelButtonNode" type="button" dojoAttachEvent="onClick:_cancelClicked">\r\n                        ${cancelText}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    \r\n</div>\r\n\r\n',"Sage/QuickForms/Design/Editors/nls/CheckBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/CheckBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_24ed,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",checkedText:"Checked:",checkedTooltipText:"Sets default state of checkbox to selected.",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_24ed,nls);});},"Sage/Data/BaseSDataStore":function(){define("Sage/Data/BaseSDataStore",["Sage/Utility","Sage/Data/SDataServiceRegistry","dojo/_base/declare","dojo/_base/lang"],function(_24ee,_24ef,_24f0,lang){var _24f1=_24f0("Sage.Data.BaseSDataStore",null,{queryName:null,constructor:function(o){lang.mixin(this,o);this.features={"dojo.data.api.Read":true};if(!this.identityAttributes){this.identityAttributes=[this.identityAttribute||"$key"];}if(!this.labelAttributes){this.labelAttributes=["$descriptor"];}this.features["dojo.data.api.Identity"]=true;this.dataCache={query:""};},fetch:function(_24f2){if(!this.isNewContext(_24f2)&&this.feed){this.onSuccess(_24f2,this.feed);return;}this.setContext(_24f2);if(_24f2.count===Infinity){_24f2.count=500;}var _24f3=(_24f2.count-0)||this.pageSize||15;var _24f4=(_24f2.start-0)||1;if(_24f4>1){_24f4=_24f4+1;}this.verifyService();var _24f5=this.getCollectionRequestObj(_24f2);if(!_24f5){if(_24f2.onError){_24f2.onError.call(_24f2.scope||this,"Invalid data url",_24f2);}return;}_24f5.setQueryArg(Sage.SData.Client.SDataUri.QueryArgNames.StartIndex,(isNaN(_24f4))?1:_24f4);var qry="";if(this.query&&typeof this.query!=="function"){if(!this.directQuery){this.directQuery=this.query;}}if(this.directQuery){if(!_24f2.query){_24f2.query={};}lang.mixin(_24f2.query,this.directQuery);}if(_24f2.query){if(typeof _24f2.query==="function"){qry=_24f2.query();}else{if(typeof _24f2.query==="string"){qry=_24f2.query;}else{if(typeof _24f2.query==="object"){for(var _24f6 in _24f2.query){if(_24f6==="fn"){qry=_24f2.query.fn.call(_24f2.query.scope||this);}else{if(_24f6==="conditions"){if(typeof _24f2.query.conditions==="string"&&_24f2.query.conditions!==""){qry+=(qry&&qry.length>0)?" and "+_24f2.query.conditions:_24f2.query.conditions;}}else{if(_24f6!=="scope"){if(_24f2.query.hasOwnProperty(_24f6)){var _24f7=[_24f6," like ","'",_24f2.query[_24f6].replace("*","%"),"'"].join("");qry+=(qry.length>0)?" and "+_24f7:_24f7;}}}}}}}}}_24f2.evaluatedQuery=qry||"";if(qry&&qry!==""){_24f5.setQueryArg("where",qry);}if(this.select&&this.select.length>0){_24f5.setQueryArg("select",this.select.join(","));}if(this.include&&this.include.length>0){_24f5.setQueryArg("include",this.include.join(","));}if(this.sort){_24f2.sort=_24f2.sort||[];dojo.forEach(this.sort,function(_24f8){if(dojo.filter(_24f2.sort,function(_24f9){return _24f8.attribute==_24f9.attribute;}).length===0){_24f2.sort.push(_24f8);}});}if(typeof _24f2.resourcePredicate!=="undefined"){_24f5.getUri().setCollectionPredicate(_24f2.resourcePredicate);}this._setQueryArgsOnRequest(_24f2.queryArgs,_24f5);if(_24f2.sort&&_24f2.sort.length>0){var order=[];dojo.forEach(_24f2.sort,function(v){if(v.descending){this.push(v.attribute+" desc");}else{this.push(v.attribute);}},order);_24f5.setQueryArg("orderBy",order.join(","));}if(this.beforeRequest&&typeof this.beforeRequest==="function"){this.beforeRequest.call(_24f2.scope||this,_24f5);}var key=_24f5.read({success:lang.hitch(this,this.onSuccess,_24f2),failure:lang.hitch(this,this.onFailure,_24f2)});return{abort:lang.hitch(this,this.abortRequest,key)};},getCollectionRequestObj:function(_24fa){var _24fb=this.queryName?new Sage.SData.Client.SDataNamedQueryRequest(this.service).setQueryName(this.queryName):new Sage.SData.Client.SDataResourceCollectionRequest(this.service);_24fb.setResourceKind(this.resourceKind);_24fb.setStartIndex(_24fa.start+1);if(this.resourcePredicate&&this.resourcePredicate!=="''"){_24fb.getUri().setCollectionPredicate(this.resourcePredicate);}this._setQueryArgsOnRequest(this.queryArgs,_24fb);if(!_24fa.count&&this.count){_24fa.count=this.count;}_24fb.setCount(_24fa.count);return _24fb;},_setQueryArgsOnRequest:function(_24fc,_24fd){if(_24fc){for(var prop in _24fc){if(_24fc.hasOwnProperty(prop)){_24fd.setQueryArg(prop,_24fc[prop]);}}}},abortRequest:function(key){this.service.abortRequest(key);},onSuccess:function(_24fe,feed){if(_24fe.onBegin){if(typeof feed.$totalResults==="undefined"){feed.$totalResults=500000;}_24fe.onBegin.call(_24fe.scope||this,feed.$totalResults,_24fe);}if(_24fe.onComplete){_24fe.onComplete.call(_24fe.scope||this,feed.$resources,_24fe);}this.addToCache(_24fe,feed);},onFailure:function(_24ff,_2500,o){var msg="An unknown exception occurred obtaining data.";if(_2500.responseText){var _2501=Sys.Serialization.JavaScriptSerializer.deserialize(_2500.responseText);if(dojo.isArray(_2501)){msg=_2501[0].message;}else{msg=_2500.responseText;}}if(_24ff&&_24ff.onError){_24ff.onError.call(_24ff.scope||this,msg,_24ff);}else{if(typeof msg==="string"&&typeof console!=="undefined"){if(_2500&&_2500.status){msg+=" (HTTP status = %o; statusText = %o)";console.error(msg,_2500.status,_2500.statusText);}else{console.error(msg);}}}},setContext:function(_2502){this.context={start:_2502.start,count:_2502.count,query:_2502.query,queryOptions:_2502.queryOptions,sort:_2502.sort};},addToCache:function(_2503,feed){var i,item,key;if(_2503.evaluatedQuery!==this.dataCache.query){this.clearCache();this.dataCache.query=_2503.evaluatedQuery;}if(feed.$resources){for(i=0;i<feed.$resources.length;i++){item=feed.$resources[i];key=this.getIdentity(item);this.dataCache[key]=item;}}},clearCache:function(){for(var key in this.dataCache){if(key!=="query"){delete this.dataCache[key];}}this.dataCache.query="";},isNewContext:function(_2504){if(typeof this.context!=="object"){return true;}if(this.context.start!==_2504.start){return true;}if(this.context.count!==_2504.count){return true;}return false;},verifyService:function(_2505){if(!this.service){this.service=_24ef.getSDataService(_2505||"dynamic");}},getValue:function(item,_2506,_2507){return _24ee.getValue(item,_2506);},getFeatures:function(){return this.features;},getLabel:function(item){var lbl=[];for(var i=0;i<this.labelAttributes.length;i++){if(item.hasOwnProperty(this.labelAttributes[i])){lbl.push(item[this.labelAttributes[i]]);}}return lbl.join(" ");},getLabelAttributes:function(item){return this.labelAttributes;},getIdentity:function(item){if(item){var _2508=[];for(var i=0;i<this.identityAttributes.length;i++){if(item.hasOwnProperty(this.identityAttributes[i])){_2508.push(item[this.identityAttributes[i]]);}}return _2508.join("");}},getIdentityAttributes:function(item){return this.identityAttributes;},fetchItemByIdentity:function(_2509){if(this.dataCache.hasOwnProperty(_2509.identity)){_2509.onItem.call(_2509.scope||this,this.dataCache[_2509.identity]);}else{var msg="Item with that key does not exist in the data cache: "+_2509.identity;if(_2509.onError){_2509.onError.call(_2509.scope||this,{"error":msg});}else{if(typeof console!=="undefined"){}}}},containsValue:function(item,attr,value){var val=_24ee.getValue(item,attr);return val!=="";}});return _24f1;});},"Sage/UI/JobSchedulingWidget":function(){require({cache:{"url:Sage/UI/templates/JobSchedulingWidget.html":'<div>\r\n    <div dojoAttachPoint="divJobSchedulingWidget">\r\n        <table>\r\n            <tr>\r\n                <td>\r\n                    <label>${lblCreateSchedule}:</label>\r\n                </td>\r\n            </tr>\r\n            <tr style="padding-left: 10px">\r\n                <td>\r\n                    <label style="padding-left: 10px">${lblEveryText}</label>&nbsp;\r\n                    <div dojoAttachPoint="divMinutesHours" class="display-none" style="display: -moz-inline-box; display: inline-block">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboMinutesHours"></select>\r\n                    </div>\r\n                    <select dojoType="dijit.form.Select" dojoAttachPoint="cboFrequency" dojoAttachEvent="onChange:_onFrequencyChange">\r\n                        <option value="minutes">${lblMinutesFrequency}</option>\r\n                        <option value="hourly">${lblHourlyFrequency}</option>\r\n                        <option value="daily">${lblDailyFrequency}</option>\r\n                        <option value="weekday">${lblWeekDayFrequency}</option>\r\n                        <option value="weekly">${lblWeeklyFrequency}</option>\r\n                        <option value="monthly">${lblMonthlyFrequency}</option>\r\n                        <option value="yearly" selected="selected" disabled="disabled">${lblYearlyFrequency}</option>\r\n                    </select>\r\n                    <label dojoAttachPoint="lblOnText" class="display-none">${lblOnText}</label>&nbsp;\r\n                    <label dojoAttachPoint="lblOnTheText" class="display-none">${lblOnTheText}</label>&nbsp;\r\n                    <div dojoAttachPoint="divMonthDay" style="display: -moz-inline-box; display: inline-block" class="display-none">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboMonthDay">\r\n                            <option value="1" selected="selected">${lblFirstDay}</option>\r\n                            <option value="2">${lblSecondDay}</option>\r\n                            <option value="3">${lblThirdDay}</option>\r\n                            <option value="4">${lblFourthDay}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <div dojoAttachPoint="divDay" style="display: -moz-inline-box; display: inline-block" class="display-none">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboDay">\r\n                            <option value="SUN">${lblSunday}</option>\r\n                            <option value="MON" selected="selected">${lblMonday}</option>\r\n                            <option value="TUE">${lblTuesday}</option>\r\n                            <option value="WED">${lblWednesday}</option>\r\n                            <option value="THU">${lblThursday}</option>\r\n                            <option value="FRI">${lblFriday}</option>\r\n                            <option value="SAT">${lblSaturday}</option>\r\n                        </select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint="lblAtText">${lblAtText}</label>&nbsp;&nbsp;\r\n                    <div dojoAttachPoint="divMinutesPastHour" class="display-none" style="display: -moz-inline-box; display: inline-block">\r\n                        <select dojoType="dijit.form.Select" dojoAttachPoint="cboMinutesPastHour"></select>&nbsp;\r\n                    </div>\r\n                    <label dojoAttachPoint="lblMinutesPastHour" class="display-none">${lblMinutesPastHour}</label>&nbsp;\r\n                    <div dojoAttachPoint="divRunAtTime" style="display: -moz-inline-box; display: inline-block">\r\n                        <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtRunAtTime" displayDate="false" displayTime="true" label="${lblAtText}" required="true"></div>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint="rowRunFromDate">\r\n                <td>\r\n                    <label style="padding-left: 10px">${lblFromTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtRunFromDate" displayDate="true" label="${lblFromTimeText}" style="width: 140px"></div>&nbsp;\r\n                    <label>${lblToTimeText}</label>&nbsp;\r\n                    <div shouldPublishMarkDirty="false" dojoType="Sage.UI.Controls.DateTimePicker" dojoAttachPoint="dtRunToDate" displayDate="true" label="${lblToTimeText}" style="width: 140px"></div>&nbsp;\r\n                </td>\r\n            </tr>\r\n            <tr dojoAttachPoint="rowCronExpression">\r\n                <td>\r\n                    <label style="padding-left: 10px">${lblCronExpressionText}</label>&nbsp;\r\n                    <div data-dojo-type="dijit.form.TextBox" dojoAttachPoint="txtCronExpression" style="width: 375px"></div>&nbsp\r\n                </td>\r\n            </tr>\r\n        </table>\r\n    </div>\r\n</div>'}});define("Sage/UI/JobSchedulingWidget",["dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/form/Select","dijit/form/Button","Sage/UI/ImageButton","dojo/text!./templates/JobSchedulingWidget.html","dojo/i18n!./nls/JobSchedulingWidget","dojo/_base/declare","dojo/string","Sage/UI/Dialogs","Sage/UI/Controls/DateTimePicker"],function(_250a,_250b,_250c,_250d,_250e,_250f,_2510,_2511,_2512,_2513,_2514){var _2515=_2512("Sage.UI.JobSchedulingWidget",[_250c,_250a,_250b],{cronExpression:"",displayStartEndTime:true,minuteOptions:["10","15","20","25","30","35","40","45","50","55"],pastHourOptions:["0","5","10","15","20","25","30","35","40","45","50","55"],hourOptions:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],cronFields:{seconds:0,minutes:"*",hours:"*",days:"*",weeks:"*",months:"*",years:"*"},cronExpressionVisible:true,_initialized:false,widgetsInTemplate:true,templateString:_2510,postMixInProperties:function(){dojo.mixin(this,_2511);},initialize:function(_2516){dojo.mixin(this,_2516);if(this.trigger){this.cronExpression=this.trigger.cronExpression;}else{this.cronExpressionVisible=false;}this.txtCronExpression.set("value",this.cronExpression);this._parseCronExpression();this.cboFrequency.set("value",this._getFrequencyType());this._loadScheduleDetails();this._initializeControlState();this.cboFrequency.removeOption("yearly");},_initializeListOptions:function(_2517,_2518,_2519){var _251a=[];this._clearComboBox(_2517);dojo.forEach(_2519,function(_251b){var _251c={selected:false,label:_251b,value:_251b};if(_2518===_251b){_251c.selected=true;}_251a.push(_251c);});_2517.addOption(_251a);},_parseCronExpression:function(){var _251d="0 0/10 * 1/1 * ? *";var _251e="0 20 0/2 1/1 * ? *";var daily="0 10 12 1/1 * ? *";var _251f="0 0 12 ? * MON-FRI *";var _2520="0 0 12 ? * WED *";var _2521="0 0 12 ? 1/1 TUE#2 *";if(this.cronExpression){var parts=this.cronExpression.split(" ");if(parts.length===6||parts.length===7){this.cronFields.seconds=parts[0];this.cronFields.minutes=parts[1];this.cronFields.hours=parts[2];this.cronFields.days=parts[3];this.cronFields.weeks=parts[4];this.cronFields.months=parts[5];this.cronFields.years=parts.length===6?parts[6]:"*";}}},_getFrequencyType:function(){var _2522="daily";if(!this.cronExpression){return _2522;}var _2523=[];if(this.cronFields.days==="?"){if(this.cronFields.months==="MON-FRI"){this.cronExpressionVisible=false;return"weekday";}else{if(this.cronFields.months.indexOf("#")!==-1){_2523=["/"];if(!isNaN(this.cronFields.weeks)){this.cronExpressionVisible=true;}else{if(this._isValid(this.cronFields.days,_2523)){_2522="monthly";this.cronExpressionVisible=false;}}}else{if(this._isWeeklyType()){this.cronExpressionVisible=false;return"weekly";}}}}if(this.cronFields.months==="?"&&(this.cronFields.days==="1/1"||this.cronFields.days==="*")){if(!isNaN(this.cronFields.hours)){this.cronExpressionVisible=false;return"daily";}else{var part=this.cronFields.hours.split("/");if(part.length>1){this.cronExpressionVisible=false;return"hourly";}else{part=this.cronFields.minutes.split("/");if(part.length>1){this.cronExpressionVisible=false;return"minutes";}}}}return _2522;},_isWeeklyType:function(){var _2524=[",","-","*","?","/","L","#"];if(this._isValid(this.cronFields.months,_2524)){return true;}else{return false;}},_loadScheduleDetails:function(){if(this.cronExpression){this._loadCronScheduleDetails();}else{this._loadFromPropScheduleDetails();}},_loadFromPropScheduleDetails:function(){this.cronExpressionVisible=false;if(this.trigger){}},_loadCronScheduleDetails:function(){var part;switch(this.cboFrequency.get("value")){case"minutes":part=this.cronFields.minutes.split("/");this._initializeListOptions(this.cboMinutesHours,part[1],this.minuteOptions);break;case"hourly":part=this.cronFields.hours.split("/");this._initializeListOptions(this.cboMinutesHours,part[1],this.hourOptions);this.cboMinutesHours.set("value",part[1]);this._initializeListOptions(this.cboMinutesPastHour,this.cronFields.minutes,this.pastHourOptions);this.cboMinutesPastHour.set("value",this.cronFields.minutes);break;case"weekly":this.cboDay.set("value",this._convertDayToStr(this.cronFields.months));break;case"monthly":part=this.cronFields.months.split("#");this.cboDay.set("value",this._convertDayToStr(part[0]));this.cboMonthDay.set("value",part[1]);break;}},_convertDayToStr:function(day){if(!isNaN(day)){switch(day){case 1:return"SUN";case 3:return"TUE";case 4:return"WED";case 5:return"THU";case 6:return"FRI";case 7:return"SAT";default:return"MON";}}else{return day;}},_convertDayToInt:function(day){switch(day){case"SUN":return 0;case"MON":return 1;case"TUE":return 2;case"WED":return 3;case"THU":return 4;case"FRI":return 5;case"SAT":return 6;}},_isValidExpression:function(){var _2525=[];switch(this.cboFrequency.get("value")){case"minutes":_2525=[",","-"];return this._isValid(this.cronFields.minutes,_2525);case"hourly":_2525=[",","-"];return this._isValid(this.cronFields.hours,_2525);case"daily":case"weekly":return true;case"monthly":_2525=[",","-","?","/","L"];return this._isValid(this.cronFields.months,_2525);default:return false;}},_isValid:function(_2526,_2527){var _2528=true;dojo.every(_2527,function(_2529){if(_2526.indexOf(_2529)!==-1){_2528=false;}});return _2528;},_assignDateValues:function(){switch(this.cboFrequency.get("value")){case"daily":case"weekday":case"weekly":case"monthly":case"yearly":var _252a=new Date();var _252b=[",","-","*"];var _252c=this._getTimePart(this.cronFields.minutes,_252b);if(this._isNumber(_252c)){_252a.setMinutes(_252c);}var hours=this._getTimePart(this.cronFields.hours,_252b);if(this._isNumber(hours)){_252a.setHours(this.cronFields.hours);}if(this.trigger&&this._isNumber(_252c)&&this._isNumber(hours)){this.dtRunAtTime.set("value",_252a);}break;}if(this.trigger){if(this.trigger.startTimeUtc){this.dtRunFromDate.set("value",new Date(parseInt(this.trigger.startTimeUtc.substr(6))));}if(this.trigger.endTimeUtc){this.dtRunToDate.set("value",new Date(parseInt(this.trigger.endTimeUtc.substr(6))));}}},_getTimePart:function(_252d,_252e){var _252f="invalid";if(this._isNumber(_252d)){_252f=parseInt(_252d);}else{if(this._isValid(_252d,_252e)){var part=_252d.split("/");if(part.length>1){_252f=part[1];}}}return _252f;},_isNumber:function(value){var reg=new RegExp("^[0-9]+$");return !!reg.test(value);},_initializeControlState:function(){var _2530=this.cboFrequency.get("value").valueOf();this._setVisibility(this.divMinutesHours,_2530==="minutes"||_2530==="hourly");this._setVisibility(this.lblOnText,_2530==="weekly");this._setVisibility(this.lblOnTheText,_2530==="monthly");this._setVisibility(this.divMonthDay,_2530==="monthly");this._setVisibility(this.divDay,_2530==="weekly"||_2530==="monthly");this._setVisibility(this.lblAtText,_2530!=="minutes");this._setVisibility(this.divRunAtTime,_2530!=="minutes"&&_2530!=="hourly");this._setVisibility(this.lblMinutesPastHour,_2530==="hourly");this._setVisibility(this.divMinutesPastHour,_2530==="hourly");this._setVisibility(this.rowCronExpression,this.cronExpressionVisible);},_onFrequencyChange:function(){var _2531=this.cboFrequency.get("value").valueOf();if(_2531==="minutes"){if(this.initialized){this._initializeListOptions(this.cboMinutesHours,"5",this.minuteOptions);}}else{if(_2531==="hourly"){if(this.initialized){this._initializeListOptions(this.cboMinutesHours,"1",this.hourOptions);}if(this.cboMinutesPastHour.options.length===0){this._initializeListOptions(this.cboMinutesPastHour,"0",this.pastHourOptions);}}}if(!this.initialized){this.initialized=true;this._assignDateValues();}this._initializeControlState();},_clearComboBox:function(_2532){var _2533=_2532.options.length;for(var i=0;i<_2533;i++){_2532.removeOption(0);}},_setVisibility:function(_2534,_2535){if(_2534&&_2535){dojo.removeClass(_2534,"display-none");}else{if(_2534){dojo.addClass(_2534,"display-none");}}},_buildCronExpression:function(){return _2513.substitute("${0} ${1} ${2} ${3} ${4} ${5} ${6}",[this._getFormatedSeconds(),this._getFormatedMinutes(),this._getFormatedHours(),this._getFormatedDaysOfMonth(),this._getFormatedMonths(),this._getFormatedDaysOfWeek(),this._getFormatedYears()]);},_getFormatedSeconds:function(){return 0;},_getFormatedMinutes:function(){switch(this.cboFrequency.get("value")){case"minutes":return _2513.substitute("0/${0}",[this.cboMinutesHours.get("value")]);case"hourly":return this.cboMinutesPastHour.get("value");case"daily":case"weekly":case"monthly":case"yearly":return this._getTimePortion(true);default:return"*";}},_getFormatedHours:function(){switch(this.cboFrequency.get("value")){case"minutes":return"*";case"hourly":return _2513.substitute("0/${0}",[this.cboMinutesHours.get("value")]);default:return this._getTimePortion(false);}},_getTimePortion:function(_2536){if(_2536){var _2537=this.dtRunAtTime.getTimeValue();return _2537.getMinutes();}else{var hour=this.dtRunAtTime.getTimeValue();return hour.getHours();}},_getFormatedDaysOfMonth:function(){switch(this.cboFrequency.get("value")){case"minutes":case"hourly":case"daily":return"*";case"weekday":case"weekly":case"monthly":case"yearly":return"?";default:return"*";}},_getFormatedMonths:function(){return"*";},_getFormatedDaysOfWeek:function(){switch(this.cboFrequency.get("value")){case"minutes":case"daily":case"hourly":return"?";case"weekday":return"MON-FRI";case"weekly":return this.cboDay.get("value");case"monthly":case"yearly":return _2513.substitute("${0}#${1}",[this.cboDay.get("value"),this.cboMonthDay.get("value")]);default:return"*";}},_getFormatedYears:function(){return"*";},_isSameDate:function(_2538,_2539){return _2538.getFullYear()===_2539.getFullYear()&&_2538.getMonth()===_2539.getMonth()&&_2538.getDate()===_2539.getDate();},_getDaysDateDiff:function(date1,date2){var _253a=1000*60*60*24;var _253b=Math.abs(date1.getTime()-date2.getTime());return Math.round(_253b/_253a);},getJobSchedulingOptions:function(){var _253c={startTime:this.dtRunFromDate.focusNode.value===""?null:this.dtRunFromDate.getValue(),endTime:this.dtRunToDate.focusNode.value===""?null:this.dtRunToDate.getValue(),cronExpression:this._buildCronExpression()};return _253c;},validateSchedule:function(_253d,_253e){var _253f=this.dtRunFromDate.focusNode.value===""?null:this.dtRunFromDate.getValue();var _2540=this.dtRunToDate.focusNode.value===""?null:this.dtRunToDate.getValue();var onDay=null;if(_253d&&!_253f||(_253e&&!_253f||_253e&&!_2540)){if(!_253f){_2514.showError(this.txtInvalidStartDate,this.txtInvalidScheduleTitle);}else{_2514.showError(this.txtInvalidEndDate,this.txtInvalidScheduleTitle);}return false;}if(!_253f&&!_2540){return true;}if(_253f&&_2540&&_253f>=_2540||!_253f&&_2540){_2514.showError(this.txtInvalidDatesMessage,this.txtInvalidScheduleTitle);return false;}if(!_2540){return true;}_253f=new Date(_253f);_2540=new Date(_2540);switch(this.cboFrequency.get("value")){case"minutes":if(_253f.setMinutes(_253f.getMinutes()+parseInt(this.cboMinutesHours.get("value")))>=_2540){_2514.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case"hourly":if(_253f.setHours(_253f.getHours()+parseInt(this.cboMinutesHours.get("value")))>=_2540){_2514.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case"daily":case"weekday":if(this._isSameDate(_253f,_2540)){_2514.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}return true;case"weekly":if(this._isSameDate(_253f,_2540)){_2514.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}else{if(_2540.getDate()-_253f.getDate()<7){onDay=this._convertDayToInt(this.cboDay.get("value"));var _2541=_253f;_2541.setDate(_2541.getDate()+(_2541.getDay()+onDay));if(_2541>_2540){_2514.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}}}return true;case"monthly":if(this._isSameDate(_253f,_2540)){_2514.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}else{if(this._getDaysDateDiff(_2540,_253f)<31){var _2542=parseInt(this.cboMonthDay.get("value"));onDay=this._convertDayToInt(this.cboDay.get("value"));var _2543=this._moveToNthOccurrence(_253f,_2542,onDay,"","");var _2544=this._moveToNthOccurrence(_2540,_2542,onDay,"","");if(_2543<=_253f){if(_2544<=_2543||_2544>=_2540){_2514.showError(this.txtInvalidScheduleTime,this.txtInvalidScheduleTitle);return false;}}}}return true;}return false;},_moveToNthOccurrence:function(_2545,index,day,month,year){var date=new Date(_2545);date.setDate(1);if(month!==""&&month!==undefined){date.setMonth(month);}else{month=date.getMonth();}if(year!==""&&year!==undefined){date.setFullYear(year);}else{year=date.getFullYear();}while(date.getDay()!=day){date.setDate(date.getDate()+1);}switch(index){case 2:date.setDate(date.getDate()+7);break;case 3:date.setDate(date.getDate()+14);break;case 4:date.setDate(date.getDate()+21);break;case 5:date.setDate(date.getDate()+28);if(date.getMonth()!==month){date=null;}break;}return date;},destroyWidget:function(){this.destroyRecursive();}});return _2515;});},"url:Sage/templates/SpeedSearch.html":'<span>\r    <!-- the textbox -->\r    <input type="text" id="txt_ss" />\r    <!--the image button-->\r    <button id=\'ss-btn-image\' type="button" style="font-size:10px"></button>\r    <button id=\'ss-btn-toggle\' type="button" style="font-size:10px"></button>\r</span>\r',"Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionsDialog":function(){define("Sage/MainView/ReportMgr/Crystal/nls/CrystalReportConditionsDialog",["Sage/LanguageList","dojo/_base/lang"],function(_2546,lang){var nls={root:{txtDialogTitle:"Select Records",cmdBack_Caption:"< Back",cmdNext_Caption:"Next >",cmdCancel_Caption:"Cancel",grdCrystalConditions_ConditionType_Caption:"Type",grdCrystalConditions_TableName_Caption:"Table",grdCrystalConditions_FieldName_Caption:"Field",grdCrystalConditions_Operator_Caption:"Operator",grdCrystalConditions_Value_Caption:"Condition Value",txtShowRecordsThatMatch:"Show records that match: ",txtMatch:"Match:",txtOfTheFollowingConditions:"of the following conditions:",txtAny:"Any",txtAll:"All",txtAllRecords:"[All Records]",txtSpecificConditions:"[Specific Conditions]",txtCurrentUser:"[Current User]"}};return lang.mixin(_2546,nls);});},"Sage/UI/GroupTabPane":function(){define("Sage/UI/GroupTabPane",["dijit/layout/TabContainer","dojo/topic","dojo/_base/lang","dojo/_base/declare","dojo/on"],function(_2547,topic,lang,_2548,on){var _2549=_2548("Sage.UI.GroupTabPane",_2547,{useMenu:false,_children:null,_drawnChildren:{},_initialLoadFinished:false,constructor:function(_254a){this._children=[];this.inherited(arguments);},resize:function(){var _254b=this.getChildren();this.inherited(arguments);if(this._initialLoadFinished&&_254b.length>1){if(!this._drawnChildren[_254b[1].id]){this.tablist._leftBtn.setDisabled(false);}if(!this._drawnChildren[_254b[_254b.length-1].id]){this.tablist._rightBtn.setDisabled(false);}}},addChild:function(_254c){this._children.push(_254c);topic.publish(this.id+"-addChild",_254c,this._children.length);this._setupChild(_254c);if(!this.selectedChildWidget){this.selectChild(_254c);}if(this.doLayout){this.layout();}this.onAddChildrenComplete();},addChildren:function(_254d,_254e){var _254f=1;var i;for(i=0;i<_254d.length;i++){if(_254e==_254d[i]){_254f=i;}if(this._started){this._children.push(_254d[i]);}}dojo.subscribe("/group/context/changed",lang.hitch(this,function(_2550){if(!this._drawnChildren[_2550.current.CurrentGroupID]){var _2551=this.getChildren(),_2552=dijit.byId("GroupTabs_tablist");for(var i=1;i<_2551.length;i++){if(_2551[i].id==_2550.current.CurrentGroupID){_2552.onAddChild(_2551[i],1);this.onAddChildrenComplete(i-1,i);break;}}this._drawnChildren[_2550.current.CurrentGroupID]=true;}}));this.drawChildren(_254f,25);this._initialLoadFinished=true;},drawChildren:function(_2553,_2554,_2555){var _2556=dijit.byId("GroupTabs_tablist"),_2557=this.getChildren(),_2558=(_2553+_2554),i;if(_2557.length<=1){return;}if(_2558>=_2557.length){_2553=(_2557.length-_2554-1);_2558=_2557.length;}if(_2553<1){_2553=1;}if(_2555=="left"){for(i=(_2558-1);i>=_2553;i--){if(!this._drawnChildren[_2557[i].id]){_2556.onAddChild(_2557[i],1);this._drawnChildren[_2557[i].id]=true;this._setupChild(_2557[i]);}}}else{for(i=_2553;i<_2558;i++){if(!this._drawnChildren[_2557[i].id]){_2556.onAddChild(_2557[i]);this._drawnChildren[_2557[i].id]=true;this._setupChild(_2557[i]);}}}if(this.doLayout){if(_2555){if(_2555=="left"){this.tablist._leftBtn.onClick(this.tablist._leftBtn);}else{this.tablist._rightBtn.onClick(this.tablist._rightBtn);}}else{this.layout();}var _2559=null,_255a=null;if(_2558<_2557.length){this.tablist._rightBtn.setDisabled(false);_2559=on(this.tablist._rightBtn,"click",lang.hitch(this,function(){_2559.remove();if(_255a){_255a.remove();}this.drawChildren(_2558,10,"right");}));}if(_2553>1){this.tablist._leftBtn.setDisabled(false);_255a=on(this.tablist._leftBtn,"click",lang.hitch(this,function(){_255a.remove();if(_2559){_2559.remove();}this.drawChildren((_2553-10),10,"left");}));}}this.onAddChildrenComplete(_2553-1,_2558-1);},onAddChildrenComplete:function(start,end){},getChildren:function(){return this._children;},removeChildren:function(){var i=0,_255b;for(i=0;i<this._children.length;i++){_255b=this._children[i];if(i===0||this._drawnChildren[_255b.id]){topic.publish(this.id+"-removeChild",_255b);_255b.destroyDescendants();}}this._children=[];this._drawnChildren={};this.destroyDescendants();if(this.doLayout){this.layout();}}});return _2549;});},"Sage/Extensions/Activity/ListPanelOverrides/nls/ActivityListPanelConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/nls/ActivityListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_255c,lang){var nls={root:{colNameAssociationCount:"Participant Count"}};return lang.mixin(_255c,nls);});},"Sage/TaskPane/AccountingTasksTasklet":function(){define("Sage/TaskPane/AccountingTasksTasklet",["Sage/TaskPane/_BaseTaskPaneTasklet","Sage/UI/Dialogs","dojo/i18n!./nls/AccountingTasksTasklet","dojo/_base/declare"],function(_255d,_255e,_255f,_2560){var _2561=_2560("Sage.TaskPane.AccountingTasksTasklet",_255d,{nlsAccountingResources:_255f,linkAccount:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _2562=this.getSelectionInfo();if(this.verifySingleSelection(_2562)){this.saveSelections(this.actionItem,_2562);return true;}else{_255e.showInfo(this.selectSingleRecord,this.invalidSelectionTitle);return false;}},actionItem:function(){},checkPrices:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _2563=this.getSelectionInfo();if(this.verifySingleSelection(_2563)){this.saveSelections(this.actionItem,_2563);}else{_255e.showInfo(this.nlsAccountingResources.updatePricingRecords,this.invalidSelectionTitle);return false;}},submitSalesOrder:function(){if(Sage.Utility.getModeId()==="detail"){return true;}var _2564=this.getSelectionInfo();if(this.verifySingleSelection(_2564)){this.saveSelections(this.actionItem,_2564);}else{_255e.showInfo(this.nlsAccountingResources.updatePricingRecords,this.invalidSelectionTitle);return false;}}});return _2561;});},"Sage/QuickForms/Design/ComboBoxControlDesigner":function(){define("Sage/QuickForms/Design/ComboBoxControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/ComboBoxBasicPropertyEditor","./Editors/ComboBoxAdvancedPropertyEditor","dojo/i18n!./nls/ComboBoxControlDesigner"],function(_2565,array,lang,_2566,_2567,_2568,_2569,_256a,_256b,_256c,_256d){return _2565("Sage.QuickForms.Design.ComboBoxControlDesigner",[_2567,_2568,_2566,_2569],{designSupport:{visible:true},editors:[_256b,_256c,_256a],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="{%= $.fieldClass %}-icon"></div>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-combobox",helpTopicName:"ComboBox_control",quickFormControlType:"Sage.Platform.QuickForms.QFControls.QFListBox, Sage.Platform.QuickForms.QFControls",displayNameText:"ComboBox",constructor:function(){lang.mixin(this,_256d);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_256e){return(_256e["ControlItemName"]=="SelectedValue");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDataSourceAttr:function(){return lang.getObject("DataSource",false,this.entry);},_setDataSourceAttr:function(value){lang.setObject("DataSource",value,this.entry);},_getHasItemsAttr:function(){var items=lang.getObject("ItemValues",false,this.entry);return(lang.isArray(items)&&items.length>0);},_getItemValuesAttr:function(){return lang.getObject("ItemValues",false,this.entry);},_setItemValuesAttr:function(value){lang.setObject("ItemValues",value,this.entry);},_getTextFieldAttr:function(){return lang.getObject("TextField",false,this.entry);},_setTextFieldAttr:function(value){lang.setObject("TextField",value,this.entry);},_getValueFieldAttr:function(){return lang.getObject("ValueField",false,this.entry);},_setValueFieldAttr:function(value){lang.setObject("ValueField",value,this.entry);},setupFor:function(_256f){this.inherited(arguments);this.set("dataSource",null);this.set("textField","");this.set("valueField","");this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"SelectedValue",DataItemName:_256f.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_256f.propertyPath||"");},startup:function(){this.inherited(arguments);var _2570=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_2570&&_2570["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/nls/JobSchedulingWidget":function(){define("Sage/UI/nls/JobSchedulingWidget",["Sage/LanguageList","dojo/_base/lang"],function(_2571,lang){var nls={root:{lblCreateSchedule:"Create job schedule to run",lblEveryText:"Every",lblOnText:"on",lblOnTheText:"on the",lblAtText:"at",lblMinutesPastHour:"minutes past the hour",lblFromTimeText:"Run from",lblToTimeText:"to",lblMinutesFrequency:"minutes",lblHourlyFrequency:"hour(s)",lblDailyFrequency:"day",lblWeekDayFrequency:"week day",lblWeeklyFrequency:"week",lblMonthlyFrequency:"month",lblYearlyFrequency:"year",lblSunday:"Sunday",lblMonday:"Monday",lblTuesday:"Tuesday",lblWednesday:"Wednesday",lblThursday:"Thursday",lblFriday:"Friday",lblSaturday:"Saturday",lblFirstDay:"first",lblSecondDay:"second",lblThirdDay:"third",lblFourthDay:"fourth",lblCronExpressionText:"Cron expression",txtInvalidScheduleTitle:"Invalid Schedule",txtInvalidDatesMessage:"The end time must be after the start time. Please correct this information before continuing.",txtInvalidScheduleTime:"The start and end times specified will prevent this schedule from running. Please correct this information before continuing.",txtInvalidStartDate:"A start date is required. Please specify a start date before continuing.",txtInvalidEndDate:"A end date is required. Please specify a end date before continuing"}};return lang.mixin(_2571,nls);});},"Sage/UI/Controls/nls/LogOffButton":function(){define("Sage/UI/Controls/nls/LogOffButton",["Sage/LanguageList","dojo/_base/lang"],function(_2572,lang){var nls={root:{logOffText:"Log Off"}};return lang.mixin(_2572,nls);});},"Sage/QuickForms/Design/Editors/nls/TextBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/TextBoxAdvancedPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2573,lang){var nls={root:{titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{left:"Left",right:"Right",top:"Top",none:"None"}}};return lang.mixin(_2573,nls);});},"Sage/MainView/ReportMgr/Crystal/nls/MultiselectStringParameterEditor":function(){define("Sage/MainView/ReportMgr/Crystal/nls/MultiselectStringParameterEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2574,lang){var nls={root:{txtTheValueMustBeBetween:"The value must be between {0} and {1} characters long.",txtTheMinimumLengthForThisField:"The minimum length for this field is {0}.",txtTheMaximumLengthForThisField:"The maximum length for this field is {0}.",txtPleaseSpecifyValue:"Please specify a value.",lblAvailableValues_Caption:"Available Values:",lblSelectedValues_Caption:"Selected Values:",lblEnterValue_Caption:"Enter a Value:"}};return lang.mixin(_2574,nls);});},"Sage/MainView/ActivityMgr/nls/EditEventEditor":function(){define("Sage/MainView/ActivityMgr/nls/EditEventEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2575,lang){var nls={root:{titleScheduleText:"Schedule Event",titleEditText:"Edit Event",lblDayTypeText:"Day Type:",lblStartDateText:"Start Date:",lblEndDateText:"End Date:",lblUserText:"User:",lookupUserText:"Lookup User",lblCategoryText:"Category:",lblLocationText:"Location:",lblDescriptionText:"Description:",btnOkayText:"OK",btnCancelText:"Cancel",btnHelpText:"Help",eventTypeActiveText:"Active",eventTypeBusinessTripText:"Business Trip",eventTypeConferenceText:"Conference",eventTypeHolidayText:"Holiday",eventTypeOffText:"Off",eventTypeTradeShowText:"Trade Show",eventTypeUnavailableText:"Unavailable",eventTypeVacationText:"Vacation",errorText:"I'm sorry, the event could not be created because an error occurred.",invaildDatesText:"I'm sorry, the end date cannot be earlier than the start date.",nameText:"Name",}};return lang.mixin(_2575,nls);});},"Sage/Utility/File/FallbackFilePicker":function(){require({cache:{"url:Sage/Utility/File/templates/FallbackFilePicker_Attachment.html":'[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="uploadFileDialog" title="{%= $.attachFileText %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onHide">\',\r\n        \'<iframe src="about:blank" style="width:0px;height:0px;border-width:0px;" name="{%= $._iframeId %}" id="{%= $._iframeId %}" dojoAttachPoint="_iframe" dojoAttachEvent="onload:_iframeLoad"></iframe>\',\r\n        \'<form method="post" enctype="multipart/form-data" action="{%= $._buildPostUrl() %}" target="{%= $._iframeId %}" dojoAttachPoint="_postForm" class="attachment-properties-form">\',\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160">\',\r\n                \'<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.uploadFileText %}" >\',\r\n                    \'<input name="file" multiple="false" type="file" dojoAttachEvent="onchange:_onNewFile" dojoAttachPoint="btn_FileSelect" class="uploadButton" />\',\r\n                \'</div>\',\r\n                 \'<div dojoType="dijit.form.TextBox" label="{%= $.descriptionText %}" name="description" id="{%= $.id %}_tb_Description" dojoAttachPoint="tb_Description" maxlength="128" ></div>\',\r\n                 \'<input type="hidden" dojoType="dijit.form.TextBox" name="fileName" id="{%= $.id %}_tb_realFileName" dojoAttachPoint="tb_realFileName" maxlength="255" />\',\r\n            \'</div>\',\r\n            \'<div class="general-dialog-actions" align="right">\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                \'<span>&nbsp;&nbsp</span>\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n            \'</div>\',\r\n            \'<input type="hidden" name="dataType" value="R" />\',\r\n            \'<input type="hidden" name="attachDate" dojoAttachPoint="_attachDate"/>\',\r\n            \'<input type="hidden" name="accountId" dojoAttachPoint="_accountId"/>\',\r\n            \'<input type="hidden" name="activityId" dojoAttachPoint="_activityId" />\',\r\n            \'<input type="hidden" name="contactId" dojoAttachPoint="_contactId" />\',\r\n            \'<input type="hidden" name="contractId" dojoAttachPoint="_contractId" />\',\r\n            \'<input type="hidden" name="defectId" dojoAttachPoint="_defectId" />\',\r\n            \'<input type="hidden" name="historyId" dojoAttachPoint="_historyId" />\',\r\n            \'<input type="hidden" name="leadId" dojoAttachPoint="_leadId" />\',\r\n            \'<input type="hidden" name="opportunityId" dojoAttachPoint="_opportunityId" />\',\r\n            \'<input type="hidden" name="productId" dojoAttachPoint="_productId" />\',\r\n            \'<input type="hidden" name="returnId" dojoAttachPoint="_returnId" />\',\r\n            \'<input type="hidden" name="salesOrderId" dojoAttachPoint="_salesOrderId" />\',\r\n            \'<input type="hidden" name="ticketId" dojoAttachPoint="_ticketId" />\',\r\n            \'<input type="hidden" name="userId" dojoAttachPoint="_userId" />\',\r\n        \'</form>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]',"url:Sage/Utility/File/templates/FallbackFilePicker_LibraryDoc.html":'[\r\n\'<div>\',\r\n    \'<div dojoType="dijit.Dialog" id="uploadFileDialog" title="{%= $.addLibraryFileText %}" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onHide">\',\r\n        \'<iframe src="about:blank" style="width:0px;height:0px;border-width:0px;" name="{%= $._iframeId %}" id="{%= $._iframeId %}" dojoAttachPoint="_iframe" dojoAttachEvent="onload:_iframeLoad"></iframe>\',\r\n        \'<form method="post" enctype="multipart/form-data" action="" target="{%= $._iframeId %}" dojoAttachPoint="_postForm" class="attachment-properties-form">\',\r\n            \'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160">\',\r\n                 \'<div data-dojo-type="dijit.layout.ContentPane" label="{%= $.uploadFileText %}" >\',\r\n                    \'<input name="file" multiple="false" type="file" dojoAttachEvent="onchange:_onNewFile" dojoAttachPoint="btn_FileSelect" class="uploadButton" />\',\r\n                 \'</div>\',\r\n                 \'<div dojoType="dijit.form.TextBox" label="{%= $.descriptionText %}" name="description" id="{%= $.id %}_tb_Description" dojoAttachPoint="tb_Description" maxlength="255" ></div>\',\r\n                 \'<input type="hidden" dojoType="dijit.form.TextBox" name="fileName" id="{%= $.id %}_tb_realFileName" dojoAttachPoint="tb_realFileName" maxlength="255" />\',\r\n            \'</div>\',\r\n            \'<div class="general-dialog-actions" align="right">\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_OK" name="btn_OK" dojoAttachPoint="btn_OK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>\',\r\n                \'<span>&nbsp;&nbsp</span>\',\r\n                \'<div data-dojo-type="dijit.form.Button" id="{%= $.id %}_btn_Cancel" name="btn_Cancel" dojoAttachPoint="btn_Cancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>\',\r\n            \'</div>\',\r\n        \'</form>\',\r\n    \'</div>\',\r\n\'</div>\'\r\n]'}});define("Sage/Utility/File/FallbackFilePicker",["dijit/_Widget","Sage/_Templated","dijit/Dialog","require","dojo/string","Sage/UI/Dialogs","Sage/Utility","Sage/Utility/ErrorHandler","Sage/Utility/File","Sage/Utility/File/Attachment","dojo/_base/lang","Sage/UI/_DialogLoadingMixin","dojo/i18n","dojo/i18n!./nls/FallbackFilePicker","dojo/text!./templates/FallbackFilePicker_Attachment.html","dojo/text!./templates/FallbackFilePicker_LibraryDoc.html","dojo/_base/array","dojo/_base/declare","dojo/has"],function(_2576,_2577,_2578,_2579,_257a,_257b,_257c,_257d,File,_257e,_257f,_2580,i18n,_2581,_2582,_2583,array,_2584,has){var _2585=_2584("Sage.Utility.File.FallbackFilePicker",[_2576,_2577],{addLibraryFileText:"Add Library File",attachFileText:"Attach File",descriptionText:"Description",uploadFileText:"Select File",okText:"OK",cancelText:"Cancel",_iframeId:"attachmentPostIFrame",_hiddenFields:["_attachDate","_accountId","_activityId","_contactId","_contractId","_defectId","_historyId","_leadId","_opportunityId","_productId","_returnId","_salesOrderId","_ticketId","_userId"],_showing:false,fileType:File.fileType.ftAttachment,widgetsInTemplate:true,id:"fallbackFilePicker",widgetTemplate:null,constructor:function(_2586){this.inherited(arguments);if(_2586&&typeof _2586==="object"){dojo.mixin(this,_2586);}},destroy:function(){if(this._dialog){this._dialog.destroyRecursive();}this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,i18n.getLocalization("Sage.Utility.File","FallbackFilePicker"));this.inherited(arguments);if(this.fileType!=File.fileType.ftLibraryDocs){this.widgetTemplate=new Simplate(eval(_2582));}else{this.widgetTemplate=new Simplate(eval(_2583));}},show:function(){if(this._postForm){this._postForm.reset();}this._dialog.show();if(this.fileType!=File.fileType.ftLibraryDocs){_257e.getKnownRelationships(this._receiveRelationships,this,true);}if(has("ie")<9){this._iframe.attachEvent("onload",this._iframeLoad);window.FallbackFilePicker=this;}this._showing=true;},hide:function(){this._dialog.hide();},_onHide:function(){if(this._dialog._standby){this._dialog.hideLoading();}if(this.fileType!=File.fileType.ftLibraryDocs){for(var i=0;i<this._hiddenFields.length;i++){if(this._hiddenFields[i]){this[this._hiddenFields[i]].value="";}}}this.tb_Description.set("value","");this.tb_realFileName.set("value","");this._showing=false;},_receiveRelationships:function(rels){if(this.fileType==File.fileType.ftLibraryDocs){return;}for(var rel in rels){if(this["_"+rel]){this["_"+rel].value=rels[rel];}else{if(rel){this["_"+rel]=dojo.create("input",{"type":"hidden","name":rel,"value":rels[rel]},this._postForm);this._hiddenFields.push("_"+rel);}}}this._userId.value=_257c.getClientContextByKey("userID")||"";this._attachDate.value=_257c.Convert.toIsoStringFromDate(new Date());},_buildPostUrl:function(){var _2587=[];_2587.push(/https/i.test(window.location.protocol)?"https":"http");_2587.push("://");_2587.push(window.location.hostname);if(window.location.port&&window.location.port!==80){_2587.push(":",window.location.port);}_2587.push("/");_2587.push(_257c.getVirtualDirectoryName());if(this.fileType!=File.fileType.ftLibraryDocs){_2587.push("/slxdata.ashx/slx/system/-/attachments/file?iframe=true&format=xml");}else{if(!Sage.Library||!Sage.Library.Manager||!Sage.Library.FileHandler){_257b.showError(this.invalidContext);return null;}var _2588=Sage.Library.FileHandler.findDirectoryId();var sUrl=_257a.substitute("/slxdata.ashx/slx/system/-/libraryDirectories('${0}')/documents/file?iframe=true&format=xml",[_2588]);_2587.push(sUrl);}var url=_2587.join("");return url;},_iframeLoad:function(e){var self;if(has("ie")<9){self=window.FallbackFilePicker;}else{self=this;}var frame=self._iframe;if(frame.contentDocument.body&&frame.contentDocument.body.innerText){if(frame.contentDocument.body.innerText=="RuntimeErrorPostTooLarge"){self.hide();_257b.showError(self.fileTooLargeError);return;}}try{var _2589=function(_258a){if(_258a&&_258a.hasOwnProperty("message")){var _258b=_258a.message;if(_258a.hasOwnProperty("applicationCode")&&_257d.isSDataExceptionDiagnoses(_258a.applicationCode)){var _258c=function(){var obj={};var _258d=_258a.applicationCode.split("; ");array.forEach(_258d,function(item){if(item&&dojo.isString(item)&&item.indexOf("=")!==-1){var _258e=item.split("=");var name=_258e[0].trim();var value=_258e[1].trim();obj[name]=value;}});return obj;};var info=_258c();if(info&&info.hasOwnProperty("slxErrorId")){_258b+="<br /><br />";_258b+=self.slxErrorIdInfo+info.slxErrorId;}}_257b.showError(_258b);}};if(has("ie")){var obj={};if(has("ie")<9){var sXml=(frame.contentDocument.body)?frame.contentDocument.body.innerText:null;if(sXml&&dojo.isString(sXml)){sXml=sXml.trim();var _258f=sXml.split("\n");if(dojo.isArray(_258f)){array.forEach(_258f,function(line,idx){var pos=line.indexOf("- ");if(pos===0){_258f[idx]=line.replace("- ","");}else{pos=line.indexOf("  ");if(pos===0){_258f[idx]=line.replace("  ","");}}});sXml=_258f.join("");obj=_257d.getSDataDiagnosis(sXml,true);_2589(obj);}}}else{if(frame.contentDocument.documentElement&&frame.contentDocument.documentElement.childNodes.length>=2){if(frame.contentDocument.documentElement.childNodes[1].tagName==="sdata:diagnosis"){var _2590=frame.contentDocument.documentElement.childNodes[1];for(var i=0;i<_2590.childNodes.length;i++){var node=_2590.childNodes[i];if(node.nodeName.indexOf("sdata:")===0){obj[node.nodeName.replace("sdata:","")]=node.textContent;}}_2589(obj);}}}}}catch(err){if(typeof console!=="undefined"){}}if(frame.contentDocument.URL&&typeof frame.contentDocument.URL!=="undefined"){if(self.fileType!=File.fileType.ftLibraryDocs){if(frame.contentDocument.URL.indexOf("attachments")>0){dojo.publish("/entity/attachment/create","");self.hide();}}else{if(frame.contentDocument.URL.indexOf("/documents/file")>0){dojo.publish("/sage/library/manager/libraryDocuments/refresh",null);self.hide();}}}},_onNewFile:function(_2591){if(_2591.srcElement&&_2591.srcElement.value.length>0){if(_2591.srcElement.value){var _2592=_2591.srcElement.value.replace(/^.*[\\\/]/,"");if(this.tb_Description.get("value")===""){var _2593=_2592.split("."),_2594="";if(_2593.length<=2){_2594=_2593[0];}else{for(var i=0;i<_2593.length-1;i++){if(i>0){_2594+=".";}_2594+=_2593[i];}}this.tb_Description.set("value",_2594);}this.tb_realFileName.set("value",_2592);}}},_okClick:function(){if(this.tb_realFileName.get("value")===""){_257b.showInfo(this.pleaseSelectFile);return;}if(this.fileType===File.fileType.ftLibraryDocs){this._postForm.action=this._buildPostUrl();}this._postForm.submit();if(!this._dialog._standby){_257f.mixin(this._dialog,new _2580());}this._dialog.showLoading();},_cancelClick:function(){this.hide();}});return _2585;});},"Sage/MainView/ReportMgr/Crystal/StringParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/StringParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n        <div dojoattachpoint="divMinMaxMessage" style="padding-top: 5px;">\r\n            <span dojoattachpoint="spanMinMaxMessage">&nbsp;</span>\r\n        </div>\r\n        <div dojoattachpoint="divSingleValue" style="padding-top: 5px;">\r\n            <select data-dojo-type="dijit.form.Select" dojoattachpoint="cmbValues" style="width: 150px">\r\n            </select>                    \r\n        </div>\r\n        <div dojoattachpoint="divCustomValues" style="padding-top: 5px;">\r\n            <label>{%: $._nlsResources.lblEnterValue_Caption %}</label><br />\r\n            <input data-dojo-type="dijit.form.TextBox" type="text" dojoAttachPoint="txtCustomValue" style="width:150px" />            \r\n        </div>\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n'}});define("Sage/MainView/ReportMgr/Crystal/StringParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/string","Sage/Utility","dojo/i18n!./nls/StringParameterEditor","dojo/text!./templates/StringParameterEditor.html","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","dijit/form/MultiSelect","dijit/form/TextBox"],function(_2595,array,_2596,_2597,_2598,_2599,_259a,_259b,_259c){var _259d=_2597.makeTemplateFromString(_2599);var _259e=_2595("Sage.MainView.ReportMgr.Crystal.StringParameterEditor",[_259a],{_nlsResources:_2598,widgetTemplate:_259d,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var self=this;this._promptParameter.currentValues=[];var _259f=this._getCurrentValue();if(_259f===null){_259f="";}var _25a0=self._getParameterValue(_259f);self._promptParameter.currentValues.push(_25a0);return this._promptParameter;},constructor:function(_25a1){},startup:function(){this.inherited(arguments);_259b.setDomNodeVisible(this.divValidationMessage,false);_259b.setDomNodeVisible(this.divSingleValue,false);_259b.setDomNodeVisible(this.divCustomValues,this._allowCustomValues);if(this._values.length>0){_259b.setDomNodeVisible(this.divSingleValue,true);this._initializeValuesDropdown();}else{if(this._initialValues&&this._initialValues.length>0){this.txtCustomValue.set("value",this._initialValues[0].value);}}this._initializeMessages();},isValid:function(){var valid=true;var msg="";var _25a2=this._getCurrentValue();if(!this._allowCustomValues){if(_25a2===null){msg=_2598.txtPleaseSpecifyValue;valid=false;}}else{if(!this._valueWithinMinMaxLength(_25a2)){msg=this._getMinMaxValidationMessage(_25a2);valid=false;}}this._showValidationMessage(msg);return valid;},_initializeMessages:function(){var _25a3=null;if(this._minimum&&!this._maximum){_25a3=dojo.replace(_2598.txtTheMinimumLengthForThisField,[this._minimum]);}if(!this._minimum&&this._maximum){_25a3=dojo.replace(_2598.txtTheMaximumLengthForThisField,[this._maximum]);}if(this._minimum&&this._maximum){_25a3=dojo.replace(_2598.txtTheValueMustBeBetween,[this._minimum,this._maximum]);}this.spanMinMaxMessage.innerHTML=Sage.Utility.htmlEncode(_25a3);_259b.setDomNodeVisible(this.divMinMaxMessage,(_25a3!==null));},_valueWithinMinMaxLength:function(value){if(this._minimum&&(value.length<this._minimum)){return false;}if(this._minimum&&(value.length>this._maximum)){return false;}return true;},_getMinMaxValidationMessage:function(value){var _25a4="";if(this._minimum&&(value.length<this._minimum)){_25a4=dojo.replace(_2598.txtTheMinimumLengthForThisField,[this._minimum]);return _25a4;}if(this._maximum&&(value.length>this._maximum)){_25a4=dojo.replace(_2598.txtTheMaximumLengthForThisField,[this._maximum]);return _25a4;}return"";},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_259b.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getCurrentValue:function(){var _25a5=this.txtCustomValue.value;if(dojo.isString(_25a5)&&_25a5!==""){return _25a5;}else{var _25a6=this.cmbValues.get("value");if(_25a6!==null&&_25a6!==""&&_25a6!=="-1"){var value=this._getOriginalParameterValue(_25a6);return value.discreteValue.actualValue;}}return null;},_getParameterValue:function(_25a7){var value={className:"CrystalReports.ParameterFieldDiscreteValue",computedText:'"'+_25a7+'"',description:_25a7,displayText:_25a7,discreteValue:{actualValue:_25a7,actualValueType:"String",value:_25a7,valueType:"String"}};return value;},_initializeValuesDropdown:function(){var items=dojo.clone(this._values);if(this._initialIds.length===0){items.unshift({_id:"-1",description:"..."});}var data={identifier:"_id",label:"description",items:items};var store=new _259c({data:data});this.cmbValues.setStore(store);this.cmbValues.startup();var self=this;array.some(this._initialIds,function(_25a8,i){self.cmbValues.attr("value",_25a8);return true;});if(this._initialIds.length===0&&this._initialValues.length>0&&this._allowCustomValues){this.txtCustomValue.set("value",this._initialValues[0].value);}}});return _259e;});},"Sage/Format":function(){define("Sage/Format",["Sage/Utility","dojo/string"],function(_25a9,_25aa){Sage.Format={phone:function(val,index){if(!val){return"";}if(val.length!==10){return _25a9.htmlEncode(val);}return _25aa.substitute("(${0}) ${1}-${2}",[val.substring(0,3),val.substring(3,6),val.substring(6)]);},email:function(val,index){if(!val){return"";}var _25ab=val;if(this.icon&&this.icon!==""){_25ab=(this.icon===true||this.icon==="true")?'<img src="images/icons/Send_Write_email_16x16.png" />':'<img src="'+this.icon+'" />';}return dojo.string.substitute('<a href="mailto:${0}">${1}</a>',[val,_25ab]);},stringFromArray:function(_25ac,arr){switch(arr.length){case 1:return String.format(_25ac,arr[0]);case 2:return String.format(_25ac,arr[0],arr[1]);case 3:return String.format(_25ac,arr[0],arr[1],arr[2]);case 4:return String.format(_25ac,arr[0],arr[1],arr[2],arr[3]);case 5:return String.format(_25ac,arr[0],arr[1],arr[2],arr[3],arr[4]);case 6:return String.format(_25ac,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5]);case 7:return String.format(_25ac,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6]);case 8:return String.format(_25ac,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7]);case 9:return String.format(_25ac,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7],arr[8]);case 10:return String.format(_25ac,arr[0],arr[1],arr[2],arr[3],arr[4],arr[5],arr[6],arr[7],arr[8],arr[9]);default:return _25ac;}},abbreviationFormatter:function(_25ad){return function(value){if(!value||typeof(value)!="string"||value.length<=_25ad){return value;}value=value.substring(0,_25ad);var _25ae=value.lastIndexOf(" ");if(_25ae>0&&_25ae>value.length*0.75){value=value.substring(0,_25ae);}return value+"...";};},Address:{fullAddressFormatStrings:{"USA":"${0}\r\n${1}\r\n${2}\r\n${3}, ${4} ${5}\r\n${6}","Japan":"${0}\r\n${1}${2}\r\n${3}, ${4} ${5}\r\n${6}"},formatDefault:function(_25af){var _25b0="",_25b1="",_25b2="",cityF="",_25b3="",_25b4="",_25b5="";var _25b6="\r\n";for(var i=0;i<_25af.length;i++){switch(_25af[i].name){case"addr1":_25b0=(_25af[i].value.length>0)?_25af[i].value:"";break;case"addr2":_25b1=(_25af[i].value.length>0)?[_25b6,_25af[i].value].join(""):"";break;case"addr3":_25b2=(_25af[i].value.length>0)?[_25b6,_25af[i].value].join(""):"";break;case"city":cityF=(_25af[i].value.length>0)?[_25b6,_25af[i].value,","].join(""):"";break;case"state":var _25b7=(_25af[i-1].value.length>0)?"":_25b6;_25b3=(_25af[i].value.length>0)?[_25b7," ",_25af[i].value].join(""):"";break;case"postalCode":_25b4=(_25af[i].value.length>0)?[" ",_25af[i].value].join(""):"";break;case"country":_25b5=(_25af[i].value.length>0)?[_25b6,_25af[i].value].join(""):"";break;}}return[_25b0,_25b1,_25b2,cityF,_25b3,_25b4,_25b5].join("");},formatAddress:function(_25b8,_25b9){var addr1="",addr2="",addr3="",city="",state="",_25ba="",_25bb="";var _25bc="";for(var i=0;i<_25b8.length;i++){switch(_25b8[i].name){case"addr1":addr1=_25b8[i].value;break;case"addr2":addr2=_25b8[i].value;break;case"addr3":addr3=_25b8[i].value;break;case"city":city=_25b8[i].value;break;case"state":state=_25b8[i].value;break;case"postalCode":_25ba=_25b8[i].value;break;case"country":_25bb=_25b8[i].value;break;}}if(_25b9){switch(_25bb){case"USA":_25bc=this.formatDefault(_25b8);break;case"Japan":_25bc=dojo.string.substitute(this.fullAddressFormatStrings["Japan"],[addr1,addr2,addr3,city,state,_25ba,_25bb]);break;default:_25bc=this.formatDefault(_25b8);}}else{_25bc=this.formatDefault(_25b8);}return _25bc;}}};return Sage.Format;});},"Sage/QuickForms/Design/Editors/NonVisibleAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/NonVisibleAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/NonVisibleAdvancedPropertyEditor"],function(_25bd,lang,_25be,_25bf,_25c0,_25c1,_25c2,_25c3,_25c4,_25c5,_25c6){return _25bd("Sage.QuickForms.Design.Editors.NonVisibleAdvancedPropertyEditor",[_25be,_25c4,_25c3],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,titleText:"Advanced",controlInfoText:"Control Info",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",constructor:function(){lang.mixin(this,_25c6);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));},_onControlTypeChange:function(value){},_onControlIdChange:function(value){}});});},"Sage/Workspaces/main":function(){define("Sage/Workspaces/main",["Sage/Workspaces/Dialog"],function(){});},"Sage/MailMerge/nls/Loader":function(){define("Sage/MailMerge/nls/Loader",["Sage/LanguageList","dojo/_base/lang"],function(_25c7,lang){var nls={root:{decodeFailed:"The call to DecodeMailMergeJsonFromUrl() failed."}};return lang.mixin(_25c7,nls);});},"url:Sage/UI/Controls/templates/SingleSelectPickList.html":'<div>\r\n    <select id="${id}-Combo" data-dojo-type="Sage.UI.ComboBox" shouldPublishMarkDirty="false" required="${required}" dojoAttachPoint="comboBox" dojoAttachEvent="onChange:_onChange" tabindex="${tabIndex}">\r\n    </select>\r\n</div>\r\n',"url:Sage/templates/ImageButton.html":'<span id="${id}" class="dijit dijitReset dijitInline" role="presentation">\r\n<span class="dijitReset dijitInline dijitButtonNode imageButtonNode" data-dojo-attach-event="ondijitclick:_onClick" role="presentation">\r\n        <span class="dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\r\n\t\t\trole="button" aria-labelledby="${id}_label"\r\n\t\t\t><span class="dijitReset dijitInline dijitIcon">\r\n                <img alt="" src="" data-dojo-attach-point="iconNode"/>\r\n                <div class="dijitIcon dijitMenuItemIcon Global_Images icon16x16 ${imageClass}" data-dojo-attach-point="iconNodeSprite"></div>\r\n            </span\r\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\r\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid="${id}_label"\r\n\t\t\t\tdata-dojo-attach-point="containerNode"\r\n\t\t\t></span\r\n\t\t></span\r\n\t></span\r\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\r\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\r/></span>\r\r\n',"Sage/Library/DocumentProperties":function(){require({cache:{"url:Sage/Library/templates/DocumentProperties.html":'[\r\n\'<div>\',\r\n\'    <div dojoType="dijit.Dialog" id="propertiesDialog" title="{%= Sage.Utility.htmlEncode($.resources.DocumentProperties) %}" dojoAttachPoint="_dialog">\',\r\n\'        <div dojoType="dijit.form.Form" id="propertiesForm" method="POST" onSubmit="return true;">\',\r\n\'            <table style="border: 1px solid #9f9f9f;" cellspacing="10">\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="FileName">{%= $.resources.FileName %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="fileName" name="fileName" required="true" maxlength="255" dojoType="dijit.form.ValidationTextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <label for="CreateDate">{%= $.resources.Created %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input type="text" id="createDate" name="createDate" disabled="disabled" dojoType="dijit.form.DateTextBox" />\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="Directroy">{%= $.resources.Directory %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="directory.fullPath" name="directory.fullPath" maxlength="255" dojoType="dijit.form.TextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <label for="RevisionDate">{%= $.resources.Revised %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input type="text" id="revisionDate" name="revisionDate" required="false" dojoType="dijit.form.DateTextBox" />\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="Status">{%= $.resources.Status %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="status" name="status" required="false" dojoType="dijit.form.TextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <label for="ExpireDate">{%= $.resources.Expires %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <div id="expiresRoot" name="expiresRoot"></div>\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'                <tr>\',\r\n\'                    <td>\',\r\n\'                        <label for="FileSize">{%= $.resources.Size %}:</label>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input class="libInputText" type="text" id="fileSize" name="fileSize" required="false" dojoType="dijit.form.TextBox" />\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                    </td>\',\r\n\'                    <td>\',\r\n\'                        <input type="checkbox" dojoType="dijit.form.CheckBox" id="doNotExpire" name="doNotExpire" dojoAttachEvent="onChange:_doNotExpireChange" />\',\r\n\'                        <label for="doNotExpire">{%= $.resources.DoNotExpire %}</label>\',\r\n\'                    </td>\',\r\n\'                </tr>\',\r\n\'            </table>\',\r\n\'            <label for="Description">{%= $.resources.Description %}:</label>\',\r\n\'            <br>\',\r\n\'            <textarea class="libTextBox" id="description" name="description" maxlength="255" dojoType="dijit.form.Textarea"></textarea>\',\r\n\'            <br>\',\r\n\'            <label for="abstract">{%= $.resources.Abstract %}:</label>\',\r\n\'            <br>\',\r\n\'            <textarea class="libTextBox" id="abstract" name="abstract" dojoType="dijit.form.Textarea"></textarea>\',\r\n\'            <p></p>\',\r\n\'            <input type="checkbox" dojoType="dijit.form.CheckBox" id="forceDistribution" name="forceDistribution" />\',\r\n\'            <label for="forceDistribution">{%= $.resources.ForceDistribution %}</label>\',\r\n\'            <div style="text-align: right">\',\r\n\'                <button class="libOkBtn" dojoType="dijit.form.Button" id="okButton" type="button" dojoAttachEvent="onClick:_submitClick">{%= $.resources.OK %}</button>\',\r\n\'                &nbsp;\',\r\n\'                <button dojoType="dijit.form.Button" id="cancelButton" type="button" dojoAttachEvent="onClick:_cancelClick">{%= $.resources.Cancel %}</button>\',\r\n\'            </div>\',\r\n\'            <div style="display: none">\',\r\n\'                <input type="text" dojoType="dijit.form.DateTextBox" id="expireDate" name="expireDate" value="" />\',\r\n\'            </div>\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="$key" name="$key" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="$etag" name="$etag" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="expires" name="expires" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="flags" name="flags" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="abstract$originalValue" name="abstract$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="description$originalValue" name="description$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="expireDate$originalValue" name="expireDate$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="fileName$originalValue" name="fileName$originalValue" value="" />\',\r\n\'            <input type="hidden" dojoType="dijit.form.TextBox" id="revisionDate$originalValue" name="revisionDate$originalValue" value="" />\',\r\n\'        </div>\',\r\n\'    </div>\',\r\n\'</div>\'\r\n]'}});define("Sage/Library/DocumentProperties",["Sage/_Templated","dijit/_Widget","dojo/i18n","Sage/Utility","dijit/Dialog","dijit/form/CheckBox","dijit/form/DateTextBox","dijit/form/Form","dijit/form/Textarea","dijit/form/TextBox","dijit/form/ValidationTextBox","dijit/layout/LayoutContainer","Sage/UI/Controls/_DialogHelpIconMixin","dojo/_base/lang","dojo/dom-construct","dojo/i18n!./nls/DocumentProperties","dojo/text!./templates/DocumentProperties.html","dojo/_base/declare"],function(_25c8,_25c9,i18n,_25ca,_25cb,_25cc,_25cd,Form,_25ce,_25cf,_25d0,_25d1,_25d2,dLang,_25d3,nls,_25d4,_25d5){var _25d6=_25d5("Sage.Library.DocumentProperties",[_25c9,_25c8],{_cancelClick:function(){this.hide();},_dialog:false,_doNotExpireChange:function(_25d7){if(this._ready){if(_25d7===true){this._updateExpires(false,null);}else{var _25d8=dijit.byId("expireDate$originalValue").get("value");var _25d9=new Date();if(_25d8&&dojo.isString(_25d8)&&_25ca.Convert.isDateString(_25d8)){_25d9=_25ca.Convert.toDateFromString(_25d8);_25d9=new Date(_25d9.getUTCFullYear(),_25d9.getUTCMonth(),_25d9.getUTCDate());}this._updateExpires(true,_25d9);}}},_neverExpireDate:new Date(2099,0,1),_ready:false,_submitClick:function(){this.hide();Sage.Library.FileHandler.validateProperties(this.getData());},_updateExpires:function(_25da,_25db){if(_25da===false){var _25dc=dijit.byId("neverExpireControl");if(!_25dc){_25dc=new _25cf({},"neverExpireControl");_25dc.set("disabled","disabled");}_25dc.set("value",this.resources.Never);dijit.byId("expireDate").set("value",this._neverExpireDate);dojo.place(_25dc.domNode,"expiresRoot","only");}else{var _25dd=dijit.byId("expireDateControl");if(!_25dd){_25dd=new _25cd({},"expireDateControl");_25dd.set("onChange",function(_25de){dijit.byId("expireDate").set("value",_25de);});}_25dd.set("value",_25db);dojo.place(_25dd.domNode,"expiresRoot","only");}},resources:{},constructor:function(){this.inherited(arguments);this.resources={};},postMixInProperties:function(){dLang.mixin(this.resources,nls);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _25df=dijit.byId("fileName");if(_25df){_25df.regExp='[^\\\\/:"*?<>|\r\n]+';_25df.invalidMessage=this.resources.InvalidFileName;}dLang.mixin(this._dialog,new _25d2());this._dialog.createHelpIconByTopic("libraryfileproperties");},getData:function(){var form=dijit.byId("propertiesForm");if(form){return form.get("value");}return false;},hide:function(){this._dialog.hide();},show:function(entry,_25e0){this._ready=false;var self=this;var form=dijit.byId("propertiesForm");if(!this._dialog.onFocusEvent){this._dialog.onFocusEvent=dojo.connect(this._dialog,"onFocus",function(){if(form){self._updateExpires(entry.expires,entry["expireDate"]);form.set("value",entry);}self._ready=true;});}if(!this._dialog.onHideEvent){this._dialog.onHideEvent=dojo.connect(this._dialog,"onHide",function(){dojo.disconnect(self._dialog.onFocusEvent);dojo.disconnect(self._dialog.onHideEvent);self._dialog.onFocusEvent=null;self._dialog.onHideEvent=null;self._ready=false;});}dijit.byId("doNotExpire").set("checked",(entry.expires===false));dijit.byId("forceDistribution").set("checked",(entry.flags===1));dijit.byId("directory.fullPath").set("readOnly",true);dijit.byId("status").set("readOnly",true);dijit.byId("fileSize").set("readOnly",true);if(_25e0){dijit.byId("doNotExpire").set("disabled","disabled");dijit.byId("forceDistribution").set("disabled","disabled");dijit.byId("fileName").set("readOnly",true);dijit.byId("revisionDate").set("disabled","disabled");dijit.byId("description").set("readOnly",true);dijit.byId("abstract").set("readOnly",true);dijit.byId("okButton").set("disabled","disabled");}this._dialog.show();},widgetsInTemplate:true,widgetTemplate:new Simplate(eval(_25d4))});return _25d6;});},"Sage/QuickForms/Design/Editors/PickListBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/PickListBasicPropertyEditor",["dojo/string","dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dojox/layout/TableContainer","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","dijit/form/CheckBox","dijit/form/ComboBox","Sage/_Templated","./_PropertyEditor","../PropertyValueError","Sage/Services/_ServiceMixin","dojo/i18n!./nls/PickListBasicPropertyEditor"],function(_25e1,_25e2,lang,_25e3,_25e4,_25e5,_25e6,_25e7,_25e8,_25e9,_25ea,_25eb,_25ec,_25ed,_25ee){return _25e2("Sage.QuickForms.Design.Editors.PickListBasicPropertyEditor",[_25e3,_25eb,_25ea,_25ed],{serviceMap:{"dataService":{type:"sdata",name:"system"}},widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.captionTooltipText %}">',"<label>{%= $.captionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_caption" data-dojo-attach-event="onChange:_onCaptionChange"></div>',"</div>",'<div class="editor-field" title="{%= $.captionAlignmentTooltipText %}">',"<label>{%= $.captionAlignmentText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_captionAlignment" data-dojo-attach-event="onChange:_onCaptionAlignmentChange">',"{% for (var alignment in $.alignmentText) { %}",'<span value="{%= alignment %}">{%= $.alignmentText[alignment] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.toolTipTooltipText %}">',"<label>{%= $.toolTipText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_toolTip" data-dojo-attach-event="onChange:_onToolTipChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.isReadOnlyTooltipText %}">',"<label>{%= $.isReadOnlyText %}</label>",'<div data-dojo-type="dijit.form.CheckBox" data-dojo-attach-point="_isReadOnly" data-dojo-attach-event="onChange:_onIsReadOnlyChange"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>"]),_caption:null,_captionAlignment:null,_isReadOnly:null,_toolTip:null,titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{"left":"Left","center":"Center","right":"Right"},constructor:function(){lang.mixin(this,_25ee);},setup:function(){this.inherited(arguments);this._caption.set("value",this._designer.get("caption"));this._captionAlignment.set("value",this._designer.get("captionAlignment"));this._isReadOnly.set("value",this._designer.get("isReadOnly"));this._toolTip.set("value",this._designer.get("toolTip"));},_onCaptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("caption",value);},_onCaptionAlignmentChange:function(value){if(this.isSuspended()){return;}this._designer.set("captionAlignment",value);},_onIsReadOnlyChange:function(value){if(this.isSuspended()){return;}this._designer.set("isReadOnly",value);},_onToolTipChange:function(value){if(this.isSuspended()){return;}this._designer.set("toolTip",value);}});});},"Sage/UI/SDataMainViewConfigurationProvider":function(){define("Sage/UI/SDataMainViewConfigurationProvider",["Sage/UI/ListPanel","Sage/_ConfigurationProvider","Sage/UI/TitleContentPane","Sage/UI/DetailPanel","Sage/UI/_DetailPanelConfigurationProvider","dojo/_base/declare"],function(_25ef,_25f0,_25f1,_25f2,_25f3,_25f4){var _25f5=_25f4("Sage.UI.SDataMainViewConfigurationProvider",[_25f0,Sage.UI._TitlePaneConfigProvider,_25f3],{entityType:"",service:null,listPanelConfiguration:false,constructor:function(_25f6){this.listPanelConfiguration=this.listPanelConfiguration||{list:{},detail:false,summary:false};this.titlePaneConfiguration=this.titlePaneConfiguration||{tabs:false,menu:false,titleFmtString:"${0}"};var eCtx=Sage.Services.getService("ClientEntityContext");if(eCtx){eCtx.setContext({EntityType:this.entityType});}var _25f7=Sage.Services.getService("ClientGroupContext");if(_25f7){dojo.connect(_25f7,"onCurrentGroupChanged",this,"handleProfileChanged");}if(Sage.Services.hasService("MainViewConfigurationProvider")){Sage.Services.removeService("MainViewConfigurationProvider");}},handleProfileChanged:function(opt){this.onConfigurationChange(opt);},requestConfiguration:function(_25f8){if(_25f8.success&&this.listPanelConfiguration){_25f8.success.call(_25f8.scope||this,this.listPanelConfiguration,this);}}});return _25f5;});},"url:Sage/MainView/JobMgr/templates/RunJobDialog.html":'[\r\n    \'<div>\',\r\n        \'<div data-dojo-type="dijit.Dialog" title="{%= $.nlsResources.dlgRunJob_Title %}" dojoAttachPoint="_dialog" dojoAttachEvent="onCancel:_dialog_OnCancel, onShow:_dialog_OnShow" style="width: 525px">\',\r\n            \'<div data-dojo-type="dijit.form.Form">\',\r\n                \'<table cellspacing="10">\',                    \r\n                    \'<tr>\',\r\n                        \'<td style="width:150px">\',\r\n                            \'<label>{%= $.nlsResources.txtJobName_Caption %}:</label>\',\r\n                        \'</td>\',\r\n                        \'<td>\',\r\n                            \'<input type="text" dojoAttachPoint="txtJobName" required="true" dojoType="dijit.form.TextBox" disabled="disabled" style="width:320px" />\',\r\n                        \'</td>\',\r\n                    \'</tr>\',\r\n                    \'<tr>\',\r\n                        \'<td style="width:150px">\',\r\n                            \'<label>{%= $.nlsResources.txtTriggerDescription_Caption %}:</label>\',\r\n                        \'</td>\',\r\n                        \'<td>\',\r\n                            \'<input type="text" dojoAttachPoint="txtTriggerDescription" required="true" dojoType="dijit.form.TextBox" style="width:320px" />\',\r\n                        \'</td>\',\r\n                    \'</tr>\',\r\n                    \'<tr>\',\r\n                        \'<td>\',\r\n                            \'<label>{%= $.nlsResources.cmbScheduleType_Caption %}:</label>\',\r\n                        \'</td>\',\r\n                        \'<td>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="cmbScheduleType" dojoAttachEvent="onChange:_cmbScheduleType_OnChange" style="width:150px" >\',\r\n                                \'<option value="now">{%= $.nlsResources.txtRunNow %}</option>\',\r\n                                \'<option value="scheduled">{%= $.nlsResources.txtScheduledExecution %}</option>\',\r\n                            \'</select>\',\r\n                        \'</td>\',\r\n                    \'</tr>\',\r\n                \'</table>\',\r\n                \'<div data-dojo-type="Sage.UI.JobSchedulingWidget" id="jobSchedulingWidget" data-dojo-attach-point="jobSchedulingWidget"></div>\',\r\n                \'<div dojoType="dijit.layout.TabContainer" dojoAttachPoint="tabsContainer" class="tab-container" style="width:100%; height:250px">\',\r\n                    \'<div dojoType="dijit.layout.ContentPane"  title="{%= $.nlsResources.contentPaneParameters_Caption %}" class="tabContent remove-padding" dojoAttachPoint="contentPaneParameters">\',\r\n                        \'<div id="divGrdParameters" style="height:200px;">\',\r\n                            \'<table data-dojo-type="dojox.grid.DataGrid" dojoAttachPoint="grdJobParameters">\',\r\n                                \'<thead>\',\r\n                                    \'<th field="name" width="100px">{%= $.nlsResources.colName_Caption %}</th>\',\r\n                                    \'<th id="parameterValue" field="defaultValue" width="100px" editable="true">{%= $.nlsResources.colValue_Caption %}</th>\',\r\n                                    \'<th field="description" width="225px">{%= $.nlsResources.colDescription_Caption %}</th>\',\r\n                                \'</thead>\',\r\n                            \'</table>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div align="right" style="margin-top:10px">\',\r\n                    \'<div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdOK" dojoAttachEvent="onClick:_cmdOK_OnClick">{%= $.nlsResources.cmdOK_Caption %}</div>\',\r\n                    \'<div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= $.nlsResources.cmdCancel_Caption %}</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n    \'</div>\'\r\n]',"Sage/MainView/ReportMgr/Common/ExportOptionsDialog":function(){require({cache:{"url:Sage/MainView/ReportMgr/Common/templates/ExportOptionsDialog.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" title="{%= $._getDialogTitle() %}" dojoattachpoint="_dialog" dojoattachevent="onCancel:_dialog_OnCancel" style="width: 600px">\r\n        <div data-dojo-type="dijit.form.Form">\r\n            <div style="overflow:auto">\r\n                <div dojoattachpoint="containerDiv" id="containerDiv" style="height:350px; overflow:auto">\r\n                    <table cellspacing="10">\r\n                        <tr dojoAttachpoint="trScheduleDescription">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtScheduleDescription_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <input type="text" dojoAttachPoint="txtScheduleDescription" required="true" dojoType="dijit.form.TextBox" style="width:300px" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtOutputFormat_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType="dijit.form.Select" dojoAttachPoint="cmbOutputFormat" sortByLabel="false" style="width:300px" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint="trRunAsUserId">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtRunAs_Caption %}:</label>\r\n                            </td>\r\n                            <td>\r\n                                <div dojoType="dijit.layout.ContentPane" label="{%= $._nlsResources.txtRunAs_Caption %}" dojoAttachPoint="container_lkpRunAsUserId" style="padding: 0 !important;"></div>                            \r\n                            </td>\r\n                        </tr>\r\n                        <tr dojoAttachpoint="trSchedulingWidget">                            \r\n                            <td colspan="2">\r\n                                <div data-dojo-type="Sage.UI.JobSchedulingWidget" id="jobSchedulingWidget" data-dojo-attach-point="jobSchedulingWidget"></div>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div align="right" style="margin-top:10px">\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdBack" dojoAttachEvent="onClick:_cmdBack_OnClick" >{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdNext" dojoAttachEvent="onClick:_cmdNext_OnClick">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Common/ExportOptionsDialog",["dojo/_base/declare","dojo/_base/array","Sage/Reporting/Enumerations","dojo/text!./templates/ExportOptionsDialog.html","dojo/i18n!./nls/ExportOptionsDialog","Sage/UI/Controls/Lookup","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","Sage/MainView/ReportMgr/Common/_WizardDialogBase","Sage/Utility","Sage/UI/JobSchedulingWidget","dijit/Dialog","dijit/form/Form"],function(_25f9,_25fa,_25fb,_25fc,_25fd,_25fe,_25ff,_2600,_2601,_2602,_2603){var _2604=_2602.makeTemplateFromString(_25fc);var _2605=_25f9("Sage.MainView.ReportMgr.Common.ExportOptionsDialog",[_2601],{id:"dlgExportOptions",_nlsResources:_25fd,_helpIconTopic:"RptscheduleWiz",_currentStep:_25fb.CrystalReportWizardStep.ExportOptions,_scheduleOptions:null,_exportOptions:null,widgetTemplate:_2604,constructor:function(_2606){this._initializeWizardOptions(_2606);this._scheduleOptions=_2606.scheduleOptions;this._exportOptions=_2606.exportOptions;},destroy:function(){this.lkpRunAsUserId.destroyRecursive();this.cmbOutputFormat.destroyRecursive();if(this.jobSchedulingWidget){this.jobSchedulingWidget.destroyRecursive();}this._dialog.destroyRecursive();this.inherited(arguments);},show:function(){this.jobSchedulingWidget.initialize({trigger:this._scheduleOptions.trigger});this.inherited(arguments);},startup:function(){this.inherited(arguments);this._createRunAsLookup();this._setControlsVisibility();this._initializeOutputFormatDropdown();this._initializeTextboxes();},isValid:function(){var valid=true;if(this._scheduleOptions.executionType===_25fb.ExecutionType.Scheduled){valid=this.jobSchedulingWidget.validateSchedule();}return valid;},_initializeTextboxes:function(){var _2607=this._scheduleOptions.trigger?this._scheduleOptions.trigger.$descriptor:this.reportMetadata.displayName;this.txtScheduleDescription.set("value",_2607);},_initializeOutputFormatDropdown:function(){var _2608=_25ff.getOutputFormats(this.reportMetadata.reportType);var data={identifier:"outputFormat",label:"caption",items:_2608};var store=new _2600({data:data});this.cmbOutputFormat.setStore(store);this.cmbOutputFormat.startup();if(this._exportOptions.outputFormat){this.cmbOutputFormat.attr("value",this._exportOptions.outputFormat);}},_createRunAsLookup:function(){var _2609={id:"_lkpRunAsUserId",structure:[{cells:[{name:_25fd.txtName,field:"UserInfo.UserName",sortable:true,width:"400px",editable:false,propertyType:"System.String",excludeFromFilters:false,defaultValue:""}]}],gridOptions:{contextualCondition:function(){return"Type ne 5 and Type ne 8 and Type ne 6";},contextualShow:"",selectionMode:"single"},storeOptions:{resourceKind:"users",include:["UserInfo"],sort:[{attribute:"UserInfo.UserName"}]},isModal:true,preFilters:[],returnPrimaryKey:true,dialogTitle:_25fd.txtSelectUser,dialogButtonText:_25fd.txtOK};this.lkpRunAsUserId=new _25fe({id:"lkpRunAsUserId",readonly:false,config:_2609});dojo.place(this.lkpRunAsUserId.domNode,this.container_lkpRunAsUserId.domNode,"only");if(this._exportOptions.runAsUserId){var user=_25ff.getUser(this._exportOptions.runAsUserId);this.lkpRunAsUserId.set("selectedObject",user);}},_getWizardStepResult:function(){var _260a={exportOptions:this._getExportOptions(),scheduleOptions:this._getScheduleOptions()};return _260a;},_getExportOptions:function(){this._exportOptions.description=this.txtScheduleDescription.get("value");this._exportOptions.outputFormat=this.cmbOutputFormat.value;this._exportOptions.runAsUserId=this.lkpRunAsUserId.selectedObject?this.lkpRunAsUserId.selectedObject.$key:null;return this._exportOptions;},_getScheduleOptions:function(){if(this._scheduleOptions.executionType==_25fb.ExecutionType.OnDemand){this._scheduleOptions.executionType=_25fb.ExecutionType.OnDemand;}else{var _260b=this.jobSchedulingWidget.getJobSchedulingOptions();var _260c=null;var _260d=null;var _260e=null;if(_260b){if(_260b.startTime&&(_260b.startTime instanceof Date)){_260c=_2602.Convert.toJsonStringFromDate(_260b.startTime);}if(_260b.endTime&&(_260b.endTime instanceof Date)){_260d=_2602.Convert.toJsonStringFromDate(_260b.endTime);}_260e=_260b.cronExpression;}this._scheduleOptions.startTime=_260c;this._scheduleOptions.endTime=_260d;this._scheduleOptions.cronExpression=_260e;this._scheduleOptions.scheduleDescription=this.txtScheduleDescription.get("value");this._scheduleOptions.executionType=_25fb.ExecutionType.Scheduled;}return this._scheduleOptions;},_setControlsVisibility:function(){var svc=Sage.Services.getService("RoleSecurityService");if(svc){if(!svc.hasAccess("Entities/ReportManager/RunAsUser")){_25ff.setDomNodeVisible(this.trRunAsUserId,false);}}var _260f=(this._scheduleOptions.executionType===_25fb.ExecutionType.Scheduled);_25ff.setDomNodeVisible(this.trSchedulingWidget,_260f);},_getDialogTitle:function(){if(this._scheduleOptions.executionType===_25fb.ExecutionType.OnDemand){return this._nlsResources.txtDialogTitle+" ["+this._reportMetadata.displayName+"]";}else{return this._nlsResources.txtDialogTitleScheduling+" ["+this._reportMetadata.displayName+"]";}}});return _2605;});},"Sage/UI/Controls/nls/DateTimePicker":function(){define("Sage/UI/Controls/nls/DateTimePicker",["Sage/LanguageList","dojo/_base/lang"],function(_2610,lang){var nls={root:{okText:"OK",cancelText:"Cancel",convertDescription:"Compare to another time zone.",convertText:"Compare",calculatorText:"Time Zone Calculator",timeZoneSourceText:"Current Time Zone",timeZoneDestText:"Comparison Time Zone",buttonToolTip:"Calendar",timeStartText:"Time",timeZoneCalculatorText:"Time Zone Calculator"}};return lang.mixin(_2610,nls);});},"Sage/UI/GroupMenuFmtScope":function(){define("Sage/UI/GroupMenuFmtScope",["dijit/form/CheckBox","dojo/_base/declare"],function(_2611,_2612){var scope=_2612("Sage.UI.GroupMenuFmtScope",null,{store:null,currentGroupId:"",constructor:function(args){this.store=args.store;this.currentGroupId="";var _2613=Sage.Services.getService("ClientGroupContext");if(_2613){dojo.connect(_2613,"onCurrentGroupChanged",this,"onCurrentGroupChanged");}},fmtSelectedCol:function(value,idx){if(this.currentGroupId===""){var _2614=Sage.Services.getService("ClientGroupContext");if(_2614){var _2615=_2614.getContext();this.currentGroupId=(_2615.CurrentGroupID==="LOOKUPRESULTS")?"p6UJ9A00024G":_2615.CurrentGroupID;}}return(value===this.currentGroupId)?['<span id="',value,'" >&#10003;</span>'].join(""):['<span id="',value,'" >&nbsp;</span>'].join("");},fmtHideCol:function(value,idx,cell){var grid=cell.grid,item=grid.getItem(idx),_2616=new _2611();_2616.set("checked",!value);_2616.on("click",function(){var _2617=_2616.get("checked"),svc=Sage.Services.getService("RoleSecurityService");if(svc.hasAccess("Entities/Group/Edit")){if(_2617){Sage.Groups.GroupManager.UnHideGroup(item["$key"],true);}else{Sage.Groups.GroupManager.HideGroup(item["$key"],true);}}});return _2616;},onCurrentGroupChanged:function(){this.currentGroupId="";var _2618=Sage.Services.getService("ClientGroupContext");var _2619=_2618.getContext();if(dijit.byId("GroupTabs").selectedChildWidget.id!==_2619.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_2619.CurrentGroupID);}}});return scope;});},"Sage/UI/AttachmentList":function(){define("Sage/UI/AttachmentList",["dijit/_Widget","Sage/UI/EditableGrid","Sage/Data/SDataServiceRegistry","dojo/string","Sage/UI/Columns/DateTime","Sage/UI/Columns/SlxLink","Sage/Utility","Sage/Utility/File","Sage/Utility/File/Attachment","Sage/UI/Dialogs","Sage/Utility/File/AttachmentPropertiesEditForm","Sage/Utility/File/FallbackFilePicker","Sage/Utility/File/AddURLAttachment","Sage/Utility/File/GoogleDocPicker","Sage/UI/SLXPreviewGrid","Sage/UI/SLXPreviewGrid/Filter/DateRange","Sage/UI/SLXPreviewGrid/Filter/Text","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/_base/connect","dojo/i18n!./nls/AttachmentList"],function(_261a,_261b,_261c,_261d,_261e,_261f,_2620,_2621,_2622,_2623,_2624,_2625,_2626,_2627,_2628,_2629,_262a,_262b,_262c,lang,_262d,_262e){var _262f=_262b("Sage.UI.AttachmentList",[_261a],{placeHolder:"",conditionFmt:"",parentRelationshipName:"",workspace:"",tabId:"",fileInputBtn:false,_fileInputOnChange:null,_attachmentEditor:false,_newAttachmentsCache:[],subscriptions:[],constructor:function(){lang.mixin(this,_262e);this.subscriptions=[];},startup:function(_2630){this._checkDbType(_2630);},_checkDbType:function(_2631){var svc=Sage.Services.getService("SystemOptions");svc.get("DbType",function(val){this._buildGrid(val==="2"||val==="3");if(typeof _2631=="function"){_2631(this);}},function(){this._buildGrid(false);if(typeof _2631=="function"){_2631(this);}},this);},_buildGrid:function(_2632){var _2633=[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_2634,cel){var _2635=[cel.grid.id,"-row",_2634].join("");var id=(_2620.getModeId()==="insert")?_2635:value;var _2636=["<div id=",id," >",id,"</ div>"].join("");return _2636;}},{field:"description",name:_262e.attachmentText,format:function(_2637,_2638){if(!_2638){return this.defaultValue;}if(_2638["url"]){var href=_2638["url"]||"";href=(href.indexOf("http")<0)?"http://"+href:href;return _261d.substitute('<a href="${0}" target="_blank" title="${1}">${2}</a>',[href,_2638["url"],_2638["$descriptor"]]);}else{if(_2638["fileExists"]){return _261d.substitute('<a href="javascript: Sage.Utility.File.Attachment.getAttachment(\'${0}\');" title="${1}">${1}</a>',[_2638["$key"],_2638["$descriptor"]]);}else{return _2638["$descriptor"];}}},filterConfig:{widgetType:_262a},width:"300px"},{field:"user",name:_262e.userText,format:function(_2639,_263a){if(!_263a){return"";}var user=(_263a.hasOwnProperty("user")&&typeof _263a["user"]==="object")?_263a.user:null;if(!user){return"";}return user["$descriptor"];},width:"120px"},{field:"attachDate",name:_262e.modDateText,filterConfig:{widgetType:_2629,label:_262e.dateRangeText},type:_261e,width:"175px"},{field:"fileSize",name:_262e.sizeText,formatter:function(v){return _2621.formatFileSize(v);},width:"120px"},{field:"fileName",name:_262e.extensionText,formatter:function(s,_263b,cell){if(!s){return".";}return s.substr(s.lastIndexOf("."));},sortable:false,width:"120px"}];var tools=[{id:this.id+"_btnBrowse",imageClass:"icon_plus_16x16",handler:this.browseForFiles,title:_262e.addFileText,alternateText:_262e.addFileText,appliedSecurity:"",scope:this},{id:this.id+"_btnAddUrl",imageClass:"icon_Internet_Service_Add_16x16",handler:this.addUrlAttachment,title:_262e.addUrlText,appliedSecurity:"",alternateText:_262e.addUrlText,scope:this},{id:this.id+"_btnEditAttachProps",imageClass:"icon_Edit_Item_16x16",handler:this.editSelectedAttachment,title:_262e.editText,appliedSecurity:"",alternateText:_262e.editText,scope:this},{id:this.id+"_btnDeleteAttachment",imageClass:"icon_Delete_16x16",title:_262e.deleteText,handler:this.deleteSelectedAttachment,appliedSecurity:"",alternateText:_262e.deleteText,scope:this},{id:this.id+"_btnHelp",imageClass:"icon_Help_16x16",handler:function(){_2620.openHelp("attachmentstab");},title:_262e.helpText,alternateText:_262e.helpText,appliedSecurity:""}];if(_2632){var _263c={field:"remoteStatus",name:"&nbsp;",width:"300px",format:function(_263d,_263e){if(!_263e){return this.defaultValue;}var _263f=(_263e["remoteStatus"])?_263e["remoteStatus"]:(_263e["fileExists"])?"Delivered":"Available";if(!_263e["dataType"]){_263f="X";}var link=_261d.substitute("<a href=\"javascript:Sage.Utility.File.Attachment.remoteRequestAttachment('${0}')\">${1}</a>",[_263e["$key"],_262e.request]);switch(_263f){case"Available":return _262e.available+" - "+link;case"Requested":return _262e.requested;case"Delivered":return _262e.delivered+" - "+link;default:return" ";}}};_2633.splice(2,0,_263c);}var _2640=this.parentRelationshipName;var _2641=_2620.getCurrentEntityId();if(_2640==="activityId"){_2641=_2641.substr(0,12);}var _2642={readOnly:true,columns:_2633,tools:tools,storeOptions:{service:_261c.getSDataService("system"),resourceKind:"attachments",include:["$descriptors"],select:["description","user","attachDate","fileSize","fileName","url","fileExists","remoteStatus","dataType"],sort:[{attribute:"attachDate"}]},slxContext:{"workspace":this.workspace,tabId:this.tabId},contextualCondition:function(){return(_2640||"'A'")+" eq '"+_2641+"'";},id:this.id+"_attachments",rowsPerPage:20};var curId=_2620.getCurrentEntityId();if(!curId){_2642.storeOptions["isInsertMode"]=true;}this.onBeforeCreateGrid(_2642);var grid=new _2628.Grid(_2642,this.placeHolder);grid.setSortColumn("attachDate");this._grid=grid._grid;this._previewGrid=grid;grid.startup();if(this.workspace){var _2643=dijit.byId("tabContent");_2643.resize();_2643.resize();}var self=this;this.fileInputBtn=dojo.doc.createElement("INPUT");dojo.attr(this.fileInputBtn,{"type":"file","multiple":"true","accept":"*/*","class":"display-none"});dojo.place(this.fileInputBtn,this.domNode,"last");self._fileInputOnChange=_262d.connect(this.fileInputBtn,"onchange",self,self.handleFiles);this.subscriptions.push(dojo.subscribe("/entity/attachment/create",this,this.onNewAttachmentEntity));this.subscriptions.push(dojo.subscribe("/entity/attachment/update",this,this.onAttachmentUpdated));if(_2632){this.subscriptions.push(dojo.subscribe("/entity/attachment/requested",this,this.onAttachmentUpdated));}dojo.connect(grid,"destroy",this,this.destroy);var _2644=Sage.Services.getService("ClientEntityContext");var ctx=_2644.getContext();this.contextEntityType=ctx.EntityType;},refresh:function(){if(this._grid){var _2645=this._grid.get("mode");var curId=_2620.getCurrentEntityId();if((!curId&&_2645!=="insert")||(curId&&_2645==="insert")){this._grid.set("mode",(!curId)?"insert":"");}this._previewGrid.refresh();}},resetEntityContext:function(){var _2646=this.parentRelationshipName;var _2647=_2620.getCurrentEntityId();if(_2646==="activityId"){_2647=_2647.substr(0,12);}var _2648=function(){return(_2646||"'A'")+" eq '"+_2647+"'";};this._previewGrid.resetContextualCondition(_2648);this.refresh();},destroy:function(){var len=this.subscriptions.length;for(var i=0;i<len;i++){dojo.unsubscribe(this.subscriptions.pop());}},handleFiles:function(e){var files=this.fileInputBtn.files;this._createAttachments(files);},handleGearsDesktopFileSelect:function(files){if(files.length>0){_2622.createAttachments(files);}},_createAttachments:function(files){if(files.length>0){_2622.createAttachments(files);}},onNewAttachmentEntity:function(_2649){var _264a=Sage.Services.getService("ClientEntityContext");var ctx=_264a.getContext();if(this.contextEntityType!==ctx.EntityType){return;}if(this._grid.mode==="insert"){if(!_2649){this._getFallBackPickerAttachment();return;}else{this._newAttachmentsCache.push(_2649);this._grid.store.addToCache(this,_2649,1);}}this._previewGrid.refresh();},_getFallBackPickerAttachment:function(){var _264b=dijit.byId("activityEditor");var _264c="activityId";if(!_264b||!_264b._tempIdForAttachments){_264b=dijit.byId("historyEditor")||{};_264c="historyId";}var _264d=_264b._tempIdForAttachments;if(_264d){var req=new Sage.SData.Client.SDataResourceCollectionRequest(_261c.getSDataService("system")).setResourceKind("attachments").setQueryArg("select",["description","userId","attachDate","fileSize","fileName","url","fileExists"].join(",")).setQueryArg("where",_264c+" eq '"+_264d+"'").setStartIndex(1).setCount(50);req.read({success:this._receivedFallBackPickerAttachments,failure:function(){},scope:this});}},_receivedFallBackPickerAttachments:function(data){var _264e=data.$resources;this.clearNewAttachments();for(var i=0;i<_264e.length;i++){var att=_264e[i];this._newAttachmentsCache.push(att);this._grid.store.addToCache(this,att,i);}this._previewGrid.refresh();},onAttachmentUpdated:function(_264f){var _2650=Sage.Services.getService("ClientEntityContext");var ctx=_2650.getContext();if(this.contextEntityType!==ctx.EntityType){return;}if(this._grid.mode==="insert"){var _2651=this._newAttachmentsCache;for(var i=0;i<_2651.length;i++){if(_2651[i].$key===_264f.$key){lang.mixin(_2651[i],_264f);}}}this._previewGrid.refresh();},getNewAttachments:function(){return this._newAttachmentsCache;},clearNewAttachments:function(){this._newAttachmentsCache=[];this._grid.store.clearCache();},_editAttachmentInfo:function(_2652){if(!this._attachmentEditor){this._attachmentEditor=new _2624();}this._attachmentEditor.set("attachmentId",_2652);this._attachmentEditor.show();},browseForFiles:function(e){if(Sage.gears){var _2653=Sage.gears.factory.create("beta.desktop");_2653.openFiles(this.handleGearsDesktopFileSelect);}else{if(_2621.supportsHTML5File){var node=this.fileInputBtn.cloneNode();_262c.destroy(this.fileInputBtn);_262c.place(node,this.domNode,"last");this.fileInputBtn=node;_262d.disconnect(this._fileInputOnChange);this._fileInputOnChange=_262d.connect(this.fileInputBtn,"onchange",this,this.handleFiles);this.fileInputBtn.click();}else{var fbfp=dijit.byId("fallbackFilePicker");if(!fbfp){fbfp=new _2625({id:"fallbackFilePicker"});}fbfp.show();}}},addUrlAttachment:function(e){var ed=dijit.byId("urlAttachmentEditor");if(!ed){ed=new _2626({id:"urlAttachmentEditor"});}ed.set("attachmentId","");ed.show();},editSelectedAttachment:function(){var _2654=this._grid.selection.getSelected();if(_2654.length<1){return;}var item=_2654[0];this._editAttachmentInfo(item["$key"]);},deleteSelectedAttachment:function(){this._grid.deleteSelected(function(){dojo.publish("/entity/attachment/delete");});},addGoogle:function(){var _2655=dijit.byId("googleDocumentPicker");if(!_2655){_2655=new _2627({id:"googleDocumentPicker"});dojo.connect(_2655,"onDocumentSelected",this,"_handleGoogleDocPicked");}_2655.pick();},_handleGoogleDocPicked:function(title,url){var _2656=new Sage.SData.Client.SDataTemplateResourceRequest(_261c.getSDataService("system"));_2656.setResourceKind("attachments");_2656.read({success:function(_2657){_2657.description=dojo.isArray(title)?title[0]:title;_2657.url=dojo.isArray(url)?url[0]:url;this._addRelationshipsToGoogleDocAttachment(_2657);},failure:function(err){},scope:this});},_addRelationshipsToGoogleDocAttachment:function(_2658){_2622.getKnownRelationships(function(rels){var _2659=lang.mixin(_2658,rels);_2659.user={"$key":_2620.getClientContextByKey("userID")||""};_2659.attachDate=_2620.Convert.toIsoStringFromDate(new Date());var _265a=new Sage.SData.Client.SDataSingleResourceRequest(_261c.getSDataService("system")).setResourceKind("attachments");_265a.create(_2659,{success:function(att){dojo.publish("/entity/attachment/create",att);},failure:function(err){},scope:this});},this);},onBeforeCreateGrid:function(_265b){},setToReadOnly:function(_265c){var _265d=[this.id+"_btnBrowse",this.id+"_btnAddUrl",this.id+"_btnEditAttachProps",this.id+"_btnDeleteAttachment"];this._bulkSetProperty(this,_265d,"disabled",_265c);},_bulkSetProperty:function(ui,_265e,prop,val){for(var i=0;i<_265e.length;i++){var ctrl=dijit.byId(_265e[i]);if(ctrl){ctrl.set(prop,val);}}}});return _262f;});},"Sage/MainView/SecurityMgr/SecurityManagerGroupContext":function(){define("Sage/MainView/SecurityMgr/SecurityManagerGroupContext",["Sage/Groups/GroupContextService","dojo/_base/declare"],function(_265f,_2660){var _2661=_2660("Sage.MainView.SecurityMgr.SecurityManagerGroupContext",_265f,{_currentContext:{},constructor:function(){dojo.mixin(this._currentContext,this._emptyContext);},getContext:function(){if(this._currentContext.CurrentGroupID===null){this.requestContext();}return this._currentContext;},requestContext:function(){if(this._isRetrievingContext===true){return;}this.setContext("PROF00000001","Read/Write Default");},setContext:function(id,name){this._currentContext.CurrentGroupID=id;this._currentContext.CurrentName=name;this._isRetrievingContext=false;},setCurrentGroup:function(id,name){this.setContext(id,name);this.onCurrentGroupChanged({current:this._currentContext});}});return _2661;});},"Sage/MainView/ReportMgr/nls/ReportManagerActions":function(){define("Sage/MainView/ReportMgr/nls/ReportManagerActions",["Sage/LanguageList","dojo/_base/lang"],function(_2662,lang){var nls={root:{txtSelectRecord:"Please select a record in the list before continuing.",txtInvalidSelectionCount:"You must have at least one record selected before continuing.",confirm_Deletion:"Are you sure you want to delete the selected ${0}?",confirm_Report:"report",confirm_Schedule:"schedule",confirm_ReportHistory:"report history record",txtYes:"Yes",txtNo:"No",deleteJobError:"Sorry an error occurred during the deletion process: ${0}",txtDeleteHistory:"Deleting history records",txtDeleteTitle:"Delete History",txtErrorDeleteReport:"An error occurred deleting report: ${0}"}};return lang.mixin(_2662,nls);});},"Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor":function(){require({cache:{"url:Sage/MainView/ReportMgr/Crystal/templates/BooleanParameterEditor.html":'<div>\r\n    <div dojoattachpoint="promptParameterContainer" style="border: 1px solid #B5BCC7; padding: 10px">\r\n        <div style="border-bottom: 1px solid #B5BCC7; padding-bottom: 5px">\r\n            <div style="float: left">\r\n                <label for="values">{%= Sage.Utility.htmlEncode($._promptParameter.promptText) %}</label>\r\n            </div>\r\n            <div style="float: right">\r\n                <label>{%= Sage.Utility.htmlEncode($._promptParameter.parameterFieldName) %}</label>\r\n            </div>\r\n            <div style="clear: both"></div>\r\n        </div>\r\n        <div style="padding-top: 5px;">\r\n            <select dojotype="dijit.form.Select" dojoattachpoint="cmbValues" style="width: 150px">\r\n            </select>\r\n        </div>\r\n        <div dojoattachpoint="divValidationMessage" style="padding-top: 5px; color:red">\r\n            <span dojoattachpoint="spanValidationMessage">&nbsp;</span>\r\n        </div>\r\n    </div>\r\n</div>'}});define("Sage/MainView/ReportMgr/Crystal/BooleanParameterEditor",["dojo/_base/declare","dojo/_base/array","dojo/text!./templates/BooleanParameterEditor.html","dojo/i18n!./nls/BooleanParameterEditor","Sage/MainView/ReportMgr/Crystal/_ParameterEditorBase","Sage/MainView/ReportMgr/ReportManagerUtility","dojo/data/ItemFileWriteStore","dijit/form/Select","Sage/Utility"],function(_2663,_2664,_2665,_2666,_2667,_2668,_2669,_266a,_266b){var _266c=_266b.makeTemplateFromString(_2665);var _266d=_2663("Sage.MainView.ReportMgr.Crystal.BooleanParameterEditor",[_2667],{widgetTemplate:_266c,value:null,_setValueAttr:function(value){this._set("value",value);},_getValueAttr:function(){var _266e=this._getCurrentValue();if(_266e){this._promptParameter.currentValues=[_266e];}return this._promptParameter;},constructor:function(_266f){},startup:function(){this.inherited(arguments);this._initializeValuesDropdown();_2668.setDomNodeVisible(this.divValidationMessage,false);},isValid:function(){var valid=true;var msg="";var _2670=this._getCurrentValue();if(!this._allowCustomValues){if(_2670===null){msg=_2666.txtPleaseSpecifyValue;valid=false;}}this._showValidationMessage(msg);return valid;},_showValidationMessage:function(msg){this.spanValidationMessage.innerHTML=Sage.Utility.htmlEncode(msg);_2668.setDomNodeVisible(this.divValidationMessage,(msg!==""));},_getCurrentValue:function(){var _2671=this.cmbValues.value;if(_2671!==null&&_2671!==""&&_2671!=="-1"){var value=this._getOriginalParameterValue(_2671);return value;}return null;},_initializeValuesDropdown:function(){var items=dojo.clone(this._values);if(this._initialIds.length===0){items.unshift({_id:"-1",description:"..."});}var data={identifier:"_id",label:"description",items:items};var store=new _2669({data:data});this.cmbValues.setStore(store);this.cmbValues.startup();if(this._initialValues.length>0){var _2672=this._initialValues[0];var self=this;_2664.some(this._values,function(entry,i){if(entry.value===_2672.value){self.cmbValues.attr("value",entry._id);return true;}});}}});return _266d;});},"Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig":function(){define("Sage/MainView/ActivityMgr/AttendeeLookup/LeadLookupConfig",["Sage/MainView/ActivityMgr/AttendeeLookup/BaseLookupConfig","Sage/UI/SDataLookup","dojo/i18n!./nls/LeadLookupConfig","dojo/_base/declare","dojo/_base/lang"],function(_2673,_2674,_2675,_2676,lang){var _2677=_2676("Sage.MainView.ActivityMgr.AttendeeLookup.LeadLookupConfig",[_2673],{constructor:function(){lang.mixin(this,_2675);this.lookupType=_2674;this._initConfig();},_initConfig:function(){this.id="_leadLookup",this.lookupName="Lead";this.lookupDisplayName="Lead Lookup";this.entityName="Lead";this.dialogTitle=this.dialogTitleText,this.cells=null;this.cells=this.getCells();this.defaultCell={"sortable":true,"width":"150px","editable":false,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false,"pickListName":null,"defaultValue":""};this.storeOptions={resourceKind:"leads",select:["LastName","FirstName","Title","Type","Company","Address/Timezone"],sort:[{attribute:"LastName"}]};this.preFilters=[];this.gridOptions={};this.query={};this.isModal=true;this.displayMode=5;this.initialLookup=false;},getCells:function(){if(this.cells){return this.cells;}this.cells=[{name:this.colFirstName,field:"FirstName"},{name:this.colLastName,field:"LastName"},{name:this.colTitle,field:"Title"},{name:this.colCompany,field:"Company"},{name:this.colWorkPhone,field:"WorkPhone"},{name:this.colEmail,field:"Email"}];return this.cells;},getConfig:function(uiid){var _2678={id:this.id+"_base_"+uiid,btnToolTip:"",structure:[{defaultCell:this.defaultCell,cells:this.cells,}],gridOptions:this.gridOptions,displayMode:this.displayMode,storeOptions:this.storeOptions,isModal:this.isModal,initialLookup:this.initialLookup,preFilters:this.preFilters,query:this.query,dialogTitle:this.dialogTitle,dialogButtonText:this.dialogButtonText,doSelected:function(){alert("overide the doSelect method");},cancelText:this.cancelText};return _2678;},getLookupInstance:function(uiid){var _2679=this.getConfig(uiid);var _267a=new this.lookupType(_2679);return _267a;}});return _2677;});},"Sage/UI/Alarms/nls/AlarmPopup":function(){define("Sage/UI/Alarms/nls/AlarmPopup",["Sage/LanguageList","dojo/_base/lang"],function(_267b,lang){var nls={root:{title:"Alerts",alarmsText:"Alarms",unconfirmedText:"Unconfirmed",deleteText:"Delete Selected",helpText:"Help",completeText:"Complete selected activities"}};return lang.mixin(_267b,nls);});},"Sage/MainView/Contact/nls/ContactUserAssociationEditor":function(){define("Sage/MainView/Contact/nls/ContactUserAssociationEditor",["Sage/LanguageList","dojo/_base/lang"],function(_267c,lang){var nls={root:{btnCancel_Caption:"Cancel",btnOK_Caption:"OK",dialogTitleText:"Associate Contact with User",associateContactText:"Associate the selected contact with the following user",user_Caption:"User",lookupUserText:"Lookup User",lookupNameColText:"Name",lookupTitleColText:"Title",lookupDepartmentColText:"Department",lookupRegionColText:"Region",lookupTypeColText:"Type",disAssociateTitle:"Disassociate form a User",associationExistsMessage:"The user you selected is already associated to a contact. Select another user.",}};return lang.mixin(_267c,nls);});},"Sage/QuickForms/Design/CurrencyControlDesigner":function(){define("Sage/QuickForms/Design/CurrencyControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/CurrencyBasicPropertyEditor","./Editors/CurrencyAdvancedPropertyEditor","dojo/i18n!./nls/CurrencyControlDesigner"],function(_267d,array,lang,_267e,_267f,_2680,_2681,_2682,_2683,_2684,_2685){return _267d("Sage.QuickForms.Design.CurrencyControlDesigner",[_267f,_2680,_267e,_2681],{designSupport:{visible:true},editors:[_2683,_2684,_2682],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-currency",helpTopicName:"Currency_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXCurrency, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Currency",constructor:function(){lang.mixin(this,_2685);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_2686){return(_2686["ControlItemName"]=="Text");});},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDecimalDigitsAttr:function(){return lang.getObject("DecimalDigits",false,this.entry);},_setDecimalDigitsAttr:function(value){lang.setObject("DecimalDigits",value,this.entry);},_getDisplayCurrencyCodeAttr:function(){return lang.getObject("DisplayCurrencyCode",false,this.entry);},_setDisplayCurrencyCodeAttr:function(value){lang.setObject("DisplayCurrencyCode",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getExchangeRateTypeAttr:function(){return lang.getObject("ExchangeRateType",false,this.entry);},_setExchangeRateTypeAttr:function(value){lang.setObject("ExchangeRateType",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},setupFor:function(_2687){this.inherited(arguments);this.set("decimalDigits",-1);this.set("currentCode",null);this.set("displayCurrencyCode",true);this.set("displayMode","AsControl");this.set("exchangeRateType","BaseRate");this.set("maxLength",_2687["data"].length||"");this.set("required",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"Text",DataItemName:_2687.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_2687.propertyPath||"");},startup:function(){this.inherited(arguments);var _2688=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_2688&&_2688["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Extensions/UI/Columns/Radio":function(){define("Sage/Extensions/UI/Columns/Radio",["dojo/_base/declare","dojo/_base/lang"],function(_2689,lang){var _268a=_2689("Sage.Extensions.UI.Columns.Radio",dojox.grid.cells.Bool,{formatEditing:function(_268b,_268c){var _268d=this.radioType=="group"?"rdo_"+this.field:"rdo_"+this.field+"_"+_268c;var _268e=_268b?"checked":"";return'<input type="radio" '+_268e+' name="'+_268d+'"  style="width: auto" />';},doclick:function(e){if(e.target.tagName=="INPUT"){this.resetRows(e.grid,e.rowIndex,this.field);this.applyStaticValue(e.rowIndex);}},resetRows:function(grid,_268f,_2690){this.currentRow=_268f;var self=this;grid.store.fetch({onComplete:function(items){dojo.forEach(items,function(item,index){if(index!=self.currentRow){grid.store.setValue(item,_2690,false);}});}});}});return _268a;});},"Sage/MainView/ReportMgr/HistoryListPanelConfig":function(){define("Sage/MainView/ReportMgr/HistoryListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/UI/SDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/HistoryListPanelConfig","Sage/Data/SDataServiceRegistry","Sage/UI/Columns/DateTime","dojo/_base/lang","Sage/MainView/ReportMgr/ReportManagerFormatter","Sage/Utility/Jobs"],function(_2691,_2692,_2693,_2694,_2695,_2696,_2697,_2698,_2699){var _269a=_2693("Sage.MainView.ReportMgr.HistoryListPanelConfig",[_2691],{keyField:"$key",_listId:"History",_resourceKind:"reportHistory",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"HistoryListContextMenu",constructor:function(){_2697.mixin(this,_2694);this._service=_2695.getSDataService("dynamic");this._structure=this._getStructure();this._select=this._getSelect();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();},_getStructure:function(){return[{field:"CreateDate",name:this.colNameDate,width:"65px",type:_2696},{field:"ScheduleName",name:this.colNameReportName,width:"125px",formatter:_2698.formatAttachment},{field:"ReportType",name:this.colNameReportType,width:"50px",formatter:_2698.formatReportType},{field:"ExecutionType",name:this.colNameExecutionType,width:"50px",formatter:_2698.formatExecutionType},{field:"DocumentType",name:this.colNameOutputFormat,width:"50px"},{field:"RunAs",name:this.colNameRunAs,width:"50px",formatter:_2699.formatUser},{field:"ScheduledBy",name:this.colNameScheduledBy,width:"50px",formatter:_2699.formatUser},{field:"FileSize",name:this.colNameSize,width:"50px",formatter:_2698.formatFileSize}];},_getSelect:function(){return["CreateDate","ExecutionType","ScheduledBy","RunAs","CreateUser","ScheduleName","DocumentType","FileSize","ElapsedTimeInSeconds","ReportType","AttachId"];},_getWhere:function(){return"";},_getInclude:function(){return["$descriptors"];},_getSummaryListRequestConfig:function(){var _269b={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:this._getInclude(),useBatchRequest:false};return _269b;},_getFormatterScope:function(){var _269c=this._getSummaryListRequestConfig();var _269d=new _2692({templateLocation:"MainView/ReportMgr/templates/HistoryListSummary.html",resetDataManager:true,requestConfiguration:_269c});return _269d;},_getSummaryDetailRequestConfig:function(){var _269e={resourceKind:this._resourceKind,serviceName:"dynamic",keyField:"$key",select:this._getSelect(),include:["$descriptors"],useBatchRequest:false};return _269e;},_getDetailConfig:function(){var _269f=this._getFormatterScope();var _26a0=this._getSummaryDetailRequestConfig();var _26a1={resourceKind:this._resourceKind,requestConfiguration:_26a0,templateLocation:"MainView/ReportMgr/Templates/HistoryDetailSummary.html"};return _26a1;},_getToolBars:function(){var _26a2={items:[]};return _26a2;}});return _269a;});},"Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg":function(){define("Sage/MainView/ActivityMgr/OccurrenceOrSeriesQueryDlg",["dijit/_Widget","Sage/_Templated","dojo/string","dijit/Dialog","Sage/UI/_DialogLoadingMixin","dojo/_base/lang","Sage/Data/SingleEntrySDataStore","Sage/Data/SDataServiceRegistry","Sage/MainView/BindingsManager","Sage/Utility","Sage/Utility/Activity","Sage/UI/Dialogs","dijit/form/RadioButton","dojo/_base/declare","dojo/i18n!./nls/OccurrenceOrSeriesQueryDlg"],function(_26a3,_26a4,_26a5,_26a6,_26a7,_26a8,_26a9,_26aa,_26ab,_26ac,_26ad,_26ae,_26af,_26b0,_26b1){var _26b2=_26b0("Sage.MainView.ActivityMgr.OccurrenceOrSeriesQueryDlg",[_26a3,_26a4],{activityId:"",activityMemberId:"",activity:false,store:false,mode:"edit",widgetsInTemplate:true,disableSeriesOption:"",widgetTemplate:new Simplate(["<div>",'<div dojoType="dijit.Dialog" title="" dojoAttachPoint="_dialog" dojoAttachEvent="onHide:_onDlgHide">','<div class="recur-activity-dialog">','<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="1" labelWidth="160" >','<div dojoType="dijit.layout.ContentPane" label="{%= $.actDateText %}" dojoAttachPoint="container_actDate"></div>','<div dojoType="dijit.layout.ContentPane" label="{%= $.accountText %}" dojoAttachPoint="container_account"></div>','<div dojoType="dijit.layout.ContentPane" label="{%= $.contactText %}" dojoAttachPoint="container_contact"></div>','<div dojoType="dijit.layout.ContentPane" label="{%= $.opportunityText %}" dojoAttachPoint="container_opportunity"></div>',"</div>",'<div class="dijitContentPane">&nbsp;</div>','<div class="dijitContentPane">','<input type="radio" dojoType="dijit.form.RadioButton" name="editType" id="{%= $.id %}_thisOccurrence" checked="true" dojoAttachPoint="_thisOccurRadio" />&nbsp;','<label for="{%= $.id %}_thisOccurrence">{%= ($.mode === "edit") ? $.editOneText : (($.mode === "delete")? $.deleteOneText : $.completeOneText) %}</label>','</div><div class="dijitContentPane">','<input type="radio" dojoType="dijit.form.RadioButton" name="editType" id="{%= $.id %}_Series" dojoAttachPoint="_seriesRadio" {%=$.disableSeriesOption%} />&nbsp;','<label for="{%= $.id %}_Series">{%= ($.mode === "edit") ? $.editAllText : (($.mode === "delete")? $.deleteAllText : $.completeAllText) %}</label>',"</div>",'<div class="general-dialog-actions">','<div dojoType="dijit.form.Button" id="{%= $.id %}_btnContinue" name="_btnContinue" dojoAttachPoint="_btnContinue" dojoAttachEvent="onClick:_continueClick" >{%= $.continueText %}</div>',"</div>","</div>","</div>","</div>"]),constructor:function(){_26a8.mixin(this,_26b1);},show:function(){this._dialog.show();if(!this._dialog._standby){_26a8.mixin(this._dialog,new _26a7());if(!this.activity){this._dialog.showLoading();}}this._thisOccurRadio.set("checked",true);},_setModeAttr:function(mode){this.mode=mode;},_getModeAttr:function(){return this.mode;},hide:function(){this._dialog.hide();},_onDlgHide:function(){this.activity=false;this.activityId="";},_setActivityIdAttr:function(_26b3){this.activityId=_26b3;if(this.activityId&&this.activityId!==""){this._loadData();}},_getActivityIdAttr:function(){return this.activityId;},_setActivityMemebrIdAttr:function(_26b4){this.activityMemberId=_26b4;},_getActivityMemberIdAttr:function(){return this.activityMemberId;},_loadData:function(){if(this._dialog._standby){this._dialog.showLoading();}var _26b5=["Description","AccountName","ContactName","OpportunityName","StartDate","Type","Timeless","Recurring","RecurrenceState"];if(!this.store){this.store=new _26a9({include:[],select:_26b5,resourceKind:"activities",service:_26aa.getSDataService("system")});}if(this.activityId!==""){this.store.fetch({predicate:'"'+this.activityId+'"',onComplete:this._receiveActivity,onError:this._failLoad,scope:this});}},_receiveActivity:function(_26b6){if(this._dialog._standby){this._dialog.hideLoading();}this.activity=_26b6;this._bind();},_receiveActivities:function(data){if(this._dialog._standby){this._dialog.hideLoading();}var _26b7=data["$resources"];if(_26b7.length<1){this._failLoad();}this.activity=_26b7[0];this.activityId=this.activity["$key"];this._bind();},_bind:function(){var act=this.activity;var d=act.Description;if(d.length>30){d=d.substring(0,26)+"...";}this._dialog.set("title",_26a5.substitute(this.titleFmt,{type:_26ad.getActivityTypeName(act.Type),description:d}));this.container_actDate.set("content",_26ad.formatActivityStartDate(_26ac.Convert.toDateFromString(act.StartDate,act.Timeless)));this.container_account.set("content",act.AccountName||"&nbsp;");this.container_contact.set("content",act.ContactName||"&nbsp;");this.container_opportunity.set("content",act.OpportunityName||"&nbsp;");},_failLoad:function(){if(this._dialog._standby){this._dialog.hideLoading();}_26ae.showWarning(this.failedToLoadMsg);this._dialog.hide();},_continueClick:function(e){this.hide();if(this._thisOccurRadio.get("checked")){if(this.activityId.length<=12){var _26b8=(_26ac.Convert.toDateFromString(this.activity.StartDate).getTime()/1000)+62135596800;this.activityId=this.activityId+";"+_26b8;}this.onSelectOccurrence(this.activityId,_26ac.Convert.toDateFromString(this.activity.StartDate),this.activityMemberId);}else{this.onSelectSeries(this.activityId,this.activityMemberId);}},onSelectSeries:function(id){},onSelectOccurrence:function(id,_26b9){}});return _26b2;});},"Sage/QuickForms/Design/DataGridControlDesigner":function(){define("Sage/QuickForms/Design/DataGridControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/DataGridBasicPropertyEditor","./Editors/DataGridAdvancedPropertyEditor","dojo/i18n!./nls/DataGridControlDesigner"],function(_26ba,array,lang,_26bb,_26bc,_26bd,_26be,_26bf,_26c0,_26c1,_26c2,_26c3,_26c4){return _26ba("Sage.QuickForms.Design.DataGridControlDesigner",[_26be,_26bf,_26bd,_26c0],{designSupport:{visible:true},editors:[_26c2,_26c3,_26c1],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<table class="{%= $.fieldClass %}-table" data-dojo-attach-point="tableNode">',"</table>","</div>"]),tableHeaderTemplate:new Simplate(['<th style="width:{%= $.widthStyle %}">{%: $.ColumnHeading || $.Text %}</th>']),fieldClass:"design-datagrid",helpTopicName:"Data_Grid_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFDataGrid, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Data Grid",emptyTableRowStringText:"No records match the selection criteria.",constructor:function(){lang.mixin(this,_26c4);},_getDataSourceAttr:function(){return lang.getObject("DataSource",false,this.entry);},_setDataSourceAttr:function(value){lang.setObject("DataSource",value,this.entry);},_getPageSizeAttr:function(){return lang.getObject("PageSize",false,this.entry);},_setPageSizeAttr:function(value){lang.setObject("PageSize",value,this.entry);},_getResizableColumnsAttr:function(){return lang.getObject("ResizableColumns",false,this.entry);},_setResizableColumnsAttr:function(value){lang.setObject("ResizableColumns",value,this.entry);},_getColumnsAttr:function(){return lang.getObject("Columns",false,this.entry);},_setColumnsAttr:function(value){lang.setObject("Columns",value,this.entry);},_getEmptyTableRowTextAttr:function(){return lang.getObject("EmptyTableRowText",false,this.entry);},_setEmptyTableRowTextAttr:function(value){lang.setObject("EmptyTableRowText",value,this.entry);},_getExpandableRowsAttr:function(){return lang.getObject("ExpandableRows",false,this.entry);},_setExpandableRowsAttr:function(value){lang.setObject("ExpandableRows",value,this.entry);},_getRenderVerticalAttr:function(){return lang.getObject("RenderVertical",false,this.entry);},_setRenderVerticalAttr:function(value){lang.setObject("RenderVertical",value,this.entry);},_getShowSortIconAttr:function(){return lang.getObject("ShowSortIcon",false,this.entry);},_setShowSortIconAttr:function(value){lang.setObject("ShowSortIcon",value,this.entry);},renderColumns:function(){var _26c5=this.get("columns"),row=_26bb.create("tr");for(var i=0;i<_26c5.length;i++){var _26c6=lang.clone(_26c5[i]);_26c6.widthStyle=_26c6.Width>0?_26c6.Width+"em":"auto";_26bb.place(this.tableHeaderTemplate.apply(_26c6,this),row,"last");}_26bb.place(row,this.tableNode,"only");},setupFor:function(_26c7){this.inherited(arguments);this.set("dataSource",null);this.set("pageSize",20);this.set("resizableColumns",true);this.set("emptyTableRowString",this.emptyTableRowStringText);this.set("expandableRows",false);this.set("renderVertical",false);this.set("showSortIcon",true);},startup:function(){this.inherited(arguments);this.renderColumns();this.applyVisibility();}});});},"Sage/QuickForms/Design/PickListControlDesigner":function(){define("Sage/QuickForms/Design/PickListControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/PickListBasicPropertyEditor","./Editors/PickListAdvancedPropertyEditor","dojo/i18n!./nls/PickListControlDesigner"],function(_26c8,array,lang,_26c9,_26ca,_26cb,_26cc,_26cd,_26ce,_26cf,_26d0){return _26c8("Sage.QuickForms.Design.PickListControlDesigner",[_26ca,_26cb,_26c9,_26cc],{designSupport:{visible:true},editors:[_26ce,_26cf,_26cd],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="{%= $.fieldClass %}-icon">...</div>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-picklist",helpTopicName:"Pick_List_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFSLXPickList, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"Pick List",constructor:function(){lang.mixin(this,_26d0);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_26d1){return(_26d1["ControlItemName"]=="PickListValue");});},_getStorageModeAttr:function(){var mode=lang.getObject("StorageMode",false,this.entry);if(mode==="ID"){return"Id";}else{return mode;}},_setStorageModeAttr:function(value){lang.setObject("StorageMode",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getPickListNameAttr:function(){return lang.getObject("PickListName",false,this.entry);},_setPickListNameAttr:function(value){lang.setObject("PickListName",value,this.entry);},_getPickListIdAttr:function(){return lang.getObject("PickListId",false,this.entry);},_setPickListIdAttr:function(value){lang.setObject("PickListId",value,this.entry);},_getMustExistInListAttr:function(){return lang.getObject("MustExistInList",false,this.entry);},_setMustExistInListAttr:function(value){lang.setObject("MustExistInList",value,this.entry);},_getMaxLengthAttr:function(){return lang.getObject("MaxLength",false,this.entry);},_setMaxLengthAttr:function(value){lang.setObject("MaxLength",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getCanEditTextAttr:function(){return lang.getObject("CanEditText",false,this.entry);},_setCanEditTextAttr:function(value){lang.setObject("CanEditText",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getAllowMultiplesAttr:function(){return lang.getObject("AllowMultiples",false,this.entry);},_setAllowMultiplesAttr:function(value){lang.setObject("AllowMultiples",value,this.entry);},setupFor:function(_26d2){this.inherited(arguments);this.set("allowMultiples",false);this.set("canEditText",true);this.set("displayMode","AsControl");this.set("maxLength",_26d2["data"].length||-1);this.set("mustExistInList",false);this.set("required",false);this.set("storageMode","Id");this.set("pickListName",_26d2["dataTypeData"]["PickListName"]);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"PickListValue",DataItemName:_26d2.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_26d2.propertyPath||"");},startup:function(){this.inherited(arguments);var _26d3=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_26d3&&_26d3["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig":function(){define("Sage/Extensions/Activity/ListPanelOverrides/ListPanelOverridesConfig",[],function(){return{"overrideConfigs":[]};});},"Sage/QuickForms/Design/Editors/FormBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/FormBasicPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dojo/data/ItemFileWriteStore","Sage/_Templated","./_PropertyEditor","dojo/i18n!./nls/FormBasicPropertyEditor"],function(_26d4,lang,_26d5,_26d6,_26d7,_26d8,_26d9,_26da){return _26d4("Sage.QuickForms.Design.Editors.FormBasicPropertyEditor",[_26d5,_26d9,_26d8],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.generalText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.activeControlTooltipText %}">',"<label>{%= $.activeControlText %}</label>",'<div data-dojo-type="dijit.form.ComboBox" data-dojo-attach-point="_activeControl" data-dojo-attach-event="onChange:_onActiveControlChange" data-dojo-props="disabled:true"></div>',"</div>",'<div class="editor-field" title="{%= $.nameTooltipText %}">',"<label>{%= $.nameText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_name" data-dojo-attach-event="onChange:_onNameChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.descriptionTooltipText %}">',"<label>{%= $.descriptionText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_description" data-dojo-attach-event="onChange:_onDescriptionChange"></div>',"</div>","</div>","</fieldset>"]),_activeControl:null,_description:null,_name:null,titleText:"Basic",generalText:"General",activeControlText:"Active Control:",activeControlTooltipText:"The control the user's cursor starts on.",descriptionText:"Description:",descriptionTooltipText:"Optional description of the purpose of the form.",nameText:"Name:",nameTooltipText:"Form identifier used by the system.",constructor:function(){lang.mixin(this,_26da);},setup:function(){this.inherited(arguments);this.setActiveControlList();this._activeControl.set("value",this._designer.get("activeControl"));this._description.set("value",this._designer.get("description"));this._name.set("value",this._designer.get("name"));},setActiveControlList:function(){var _26db=this._designer.get("controls"),_26dc=new _26d7({data:{identifier:"key",label:"name",items:[]}});for(var i=0;i<_26db.length;i++){var _26dd=_26db[i];if(_26dd.entry&&_26dd.entry["ControlId"]){_26dc.newItem({key:"control_"+i,name:_26dd.entry["ControlId"]});}}this._activeControl.set({store:_26dc,disabled:false});},_onActiveControlChange:function(value){if(this.isSuspended()){return;}this._designer.set("activeControl",value);},_onNameChange:function(value){},_onDescriptionChange:function(value){if(this.isSuspended()){return;}this._designer.set("description",value);}});});},"Sage/QuickForms/Design/Editors/nls/OwnerBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/OwnerBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_26de,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_26de,nls);});},"Sage/QuickForms/Design/DateTimePickerControlDesigner":function(){define("Sage/QuickForms/Design/DateTimePickerControlDesigner",["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","Sage/_Templated","dijit/_Widget","dijit/_Contained","./ControlDesigner","./Editors/LayoutPropertyEditor","./Editors/DateTimePickerBasicPropertyEditor","./Editors/DateTimePickerAdvancedPropertyEditor","dojo/i18n!./nls/DateTimePickerControlDesigner"],function(_26df,array,lang,_26e0,_26e1,_26e2,_26e3,_26e4,_26e5,_26e6,_26e7){return _26df("Sage.QuickForms.Design.DateTimePickerControlDesigner",[_26e1,_26e2,_26e0,_26e3],{designSupport:{visible:true},editors:[_26e5,_26e6,_26e4],widgetsInTemplate:true,widgetTemplate:new Simplate(['<div class="{%= $.fieldClass %}" data-dojo-attach-point="containerNode">','<div class="{%= $.fieldClass %}-caption" data-dojo-attach-point="designCaptionNode"></div>','<div class="{%= $.fieldClass %}-field">','<span data-dojo-attach-point="designBindingNode"></span>','<div class="{%= $.fieldClass %}-icon"></div>',"</div>","</div>"]),_setDesignCaptionAttr:{node:"designCaptionNode",type:"innerText"},_setDesignBindingAttr:{node:"designBindingNode",type:"innerText"},fieldClass:"design-datetimepicker",helpTopicName:"DateTime_Picker_control",quickFormControlType:"Sage.SalesLogix.QuickForms.QFControls.QFDateTimePicker, Sage.SalesLogix.QuickForms.QFControls",displayNameText:"DateTime Picker",constructor:function(){lang.mixin(this,_26e7);},_setCaptionAttr:function(value){this.inherited(arguments);this.set("designCaption",value);},_getDefaultDataBindingAttr:function(){return this.findDataBinding(function(_26e8){return(_26e8["ControlItemName"]=="DateTimeValue");});},_getButtonToolTipAttr:function(){return lang.getObject("ButtonToolTip",false,this.entry);},_setButtonToolTipAttr:function(value){lang.setObject("ButtonToolTip",value,this.entry);},_getControlLabelPlacementAttr:function(){return lang.getObject("ControlLabelPlacement",false,this.entry);},_setControlLabelPlacementAttr:function(value){lang.setObject("ControlLabelPlacement",value,this.entry);},_getDisplayDateAttr:function(){return lang.getObject("DisplayDate",false,this.entry);},_setDisplayDateAttr:function(value){lang.setObject("DisplayDate",value,this.entry);},_getDisplayModeAttr:function(){return lang.getObject("DisplayMode",false,this.entry);},_setDisplayModeAttr:function(value){lang.setObject("DisplayMode",value,this.entry);},_getDisplayTimeAttr:function(){return lang.getObject("DisplayTime",false,this.entry);},_setDisplayTimeAttr:function(value){lang.setObject("DisplayTime",value,this.entry);},_getRequiredAttr:function(){return lang.getObject("Required",false,this.entry);},_setRequiredAttr:function(value){lang.setObject("Required",value,this.entry);},_getTimelessAttr:function(){return lang.getObject("Timeless",false,this.entry);},_setTimelessAttr:function(value){lang.setObject("Timeless",value,this.entry);},setupFor:function(_26e9){this.inherited(arguments);this.set("displayDate",true);this.set("displayTime",false);this.set("buttonToolTip","");this.set("displayMode","AsControl");this.set("required",false);this.set("timeless",false);this.set("dataBindings",[{$type:"Sage.Platform.QuickForms.Controls.QuickFormPropertyDataBindingDefinition, Sage.Platform.QuickForms",BindingType:"Property",ControlItemName:"DateTimeValue",DataItemName:_26e9.propertyPath,DataSourceID:"MainEntity",FormatString:"",NullValueString:""}]);this.set("designBinding",_26e9.propertyPath||"");},startup:function(){this.inherited(arguments);var _26ea=this.get("defaultDataBinding");this.set("designCaption",this.get("caption"));this.set("designBinding",(_26ea&&_26ea["DataItemName"])||"");this.applyCaptionAlignment();this.applyVisibility();}});});},"Sage/UI/Filters/FilterManager":function(){define("Sage/UI/Filters/FilterManager",["dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/string","dojo/date","dojo/date/locale","Sage/Utility","Sage/Utility/Filters"],function(lang,_26eb,array,_26ec,_26ed,_26ee,_26ef,_26f0){var _26f1=_26eb("Sage.UI.Filters.FilterManager",null,{_connects:null,_subscribes:null,_owner:null,_timeout:null,_applied:null,_definitionSet:null,refreshBufferDelay:500,filterGroup:"default",owner:null,nullName:"SLX_NULL",emptyName:"SLX_EMPTY",constructor:function(_26f2){lang.mixin(this,_26f2);this._applied={};this._definitionSet={};var _26f3=_26ef.getValue(window,"Sage.UI.DataStore.Filters"),_26f4=null,_26f5=null;if(_26f3&&_26f3[this.filterGroup]){_26f4=_26f3[this.filterGroup].applied;_26f5=_26f3[this.filterGroup].definitionSet;if(_26f4){this._applied=_26f4;}if(_26f5){this._definitionSet=_26f5;}}this._connects=[];this._subscribes=[];this._subscribes.push(dojo.subscribe(_26ec.substitute("/ui/filters/${0}/change",[this.filterGroup]),this,this._onChange),dojo.subscribe(_26ec.substitute("/ui/filters/${0}/clear",[this.filterGroup]),this,this._onClear),dojo.subscribe(_26ec.substitute("/ui/filters/${0}/apply",[this.filterGroup]),this,this._onApply));},destroy:function(){array.forEach(this._connects,function(_26f6){_26f6.remove();});array.forEach(this._subscribes,function(_26f7){_26f7.remove();});this.uninitialize();},uninitialize:function(){},"set":function(name,value){this["_"+name]=value;},"get":function(name){return this["_"+name];},_onClear:function(_26f8,_26f9){var key=_26f8&&_26f8.$key;if(key&&this._applied[key]){delete this._applied[key];}else{this._applied={};}},getAppliedFilterCount:function(){var _26fa,_26fb,_26fc,count=0;for(_26fa in this._applied){if(this._applied.hasOwnProperty(_26fa)){_26fc=this._applied[_26fa];for(_26fb in _26fc){if(_26fc.hasOwnProperty(_26fb)){count=count+1;}}}}return count;},_onApply:function(_26fd,_26fe,_26ff){this._applied=_26fd||{};this._definitionSet=_26fe||{};},_onChange:function(_2700,name,value,_2701){if(this._timeout){clearTimeout(this._timeout);}var key=_2700&&_2700.$key,_2702=null;if(key){this._definitionSet[key]=_2700;this._applied[key]=this._applied[key]||{};_2702=this._applied[key];if((_2700.details.userLookupFilter)||(_2700.details.lookupFilter)){_2702["value"]=value;}else{if(value!==false){_2702[name]=value;}else{delete _2702[name];}}}this._timeout=setTimeout(lang.hitch(this,this._onTimeout),this.refreshBufferDelay);},_onTimeout:function(){dojo.publish(_26ec.substitute("/ui/filters/${0}/refresh",[this.filterGroup]),[this._applied,this._definitionSet,this]);},_escapeString:function(_2703,quote){quote=quote||'"';return _2703.replace(quote,quote+quote);},_transformValue:function(type,value,quote){if(value){quote=quote||'"';if(type==="string"||type==="key"||type==="enum"||type==="boolean"){return quote+this._escapeString(value,quote)+quote;}if(type==="date"){quote="@";return quote+this._transformDate(value)+quote;}}return value;},_transformDate:function(value){var today=new Date(Date.now()),_2704;if(this.specialDates.hasOwnProperty(value)){return _26ef.Convert.toIsoStringFromDate(this.specialDates[value](today));}else{_2704=_26ee.parse(value);if(_2704){return _26ef.Convert.toIsoStringFromDate(_2704);}else{return value;}}},specialDates:{":today":function(today){today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":todaystart":function(today){today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":todayend":function(today){today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":yesterday":function(today){today.setDate(today.getDate()-1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":yesterdaystart":function(today){today.setDate(today.getDate()-1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":yesterdayend":function(today){today.setDate(today.getDate()-1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":tomorrow":function(today){today.setDate(today.getDate()+1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":tomorrowstart":function(today){today.setDate(today.getDate()+1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":tomorrowend":function(today){today.setDate(today.getDate()+1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisweekstart":function(today){today.setDate(today.getDate()-today.getDay());today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisweekend":function(today){today.setDate(today.getDate()+(6-today.getDay()));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thismonthstart":function(today){today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thismonthend":function(today){today.setDate(_26ed.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisyearstart":function(today){today.setDate(1);today.setMonth(0);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisyearend":function(today){today.setDate(31);today.setMonth(11);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":thisquarterstart":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":thisquarterend":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod);today.setDate(_26ed.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextweekstart":function(today){today.setDate(today.getDate()+(7-today.getDay()));today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextweekend":function(today){today.setDate(today.getDate()+(7-today.getDay())+6);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextmonthstart":function(today){today.setMonth(today.getMonth()+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextmonthend":function(today){today.setMonth(today.getMonth()+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextyearstart":function(today){today.setFullYear(today.getFullYear()+1);today.setMonth(0);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextyearend":function(today){today.setFullYear(today.getFullYear()+1);today.setMonth(11);today.setDate(31);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":nextquarterstart":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod+1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":nextquarterend":function(today){var month=today.getMonth(),mod=2-(month%3);today.setMonth(month+mod+3);today.setDate(_26ed.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastweekstart":function(today){today.setDate(today.getDate()-today.getDay()-7);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastweekend":function(today){today.setDate(today.getDate()-today.getDay()-1);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastmonthstart":function(today){today.setMonth(today.getMonth()-1);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastmonthend":function(today){today.setMonth(today.getMonth()-1);today.setDate(_26ed.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastyearstart":function(today){today.setFullYear(today.getFullYear()-1);today.setMonth(0);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastyearend":function(today){today.setFullYear(today.getFullYear()-1);today.setMonth(11);today.setDate(31);today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;},":lastquarterstart":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod-3);today.setDate(1);today.setHours(0);today.setMinutes(0);today.setSeconds(0);return today;},":lastquarterend":function(today){var month=today.getMonth(),mod=month%3;today.setMonth(month-mod-1);today.setDate(_26ed.getDaysInMonth(today));today.setHours(23);today.setMinutes(59);today.setSeconds(59);return today;}},resolveProperty:function(_2705,_2706){if(this._owner&&this._owner.resolveProperty){return this._owner.resolveProperty(_2705,_2706);}return _2705;},resolveTimelessProperty:function(_2707){if(this._owner){if(this._owner._configuration){if(this._owner._configuration.getTimelessProperty){return this._owner._configuration.getTimelessProperty(_2707);}}}return false;},resolveDataType:function(_2708){return _26f0.resolveDataType(_2708);},createRangeFragment:function(_2709,_270a,_270b,_270c){var _270d=this.resolveDataType(_2709.propertyDataTypeId),_270e=this.resolveProperty(_270a,_270c),_270f=_2709.details.rangeFilter,_2710=false,_2711=[],_2712=[],_2713="and",sub=_26ec.substitute,name=null,range=null,_2714=null,_2715=function(p){return p;},_2716=[],_2717=_270f.characters>0?_270f.characters:1;if(_270d==="string"){_2715=function(p){return sub("substring(${0}, 1, ${1})",[p,_2717]);};}for(name in _270b){if(_270b.hasOwnProperty(name)){range=_270b[name];if(typeof range==="undefined"||range===null){continue;}if(_270d==="date"){_2710=this.resolveTimelessProperty(_270e);}if(_2710){var _2718=new Date(Date.now());var _2719=new Date(Date.now());var quote="@";var _271a="";var _271b="";if(range.lower===range.upper){_2711.push(this._transformValue(_270d,range.lower));}else{if(this.specialDates.hasOwnProperty(range.lower)){_2718=this.specialDates[range.lower](_2718);_2718.setHours(0);_2718.setMinutes(0);_2718.setSeconds(0);_271a=quote+_26ef.Convert.toIsoStringFromDateNonUTC(_2718)+quote;}if(this.specialDates.hasOwnProperty(range.upper)){_2719=this.specialDates[range.upper](_2719);_2719.setHours(23);_2719.setMinutes(59);_2719.setSeconds(59);_271b=quote+_26ef.Convert.toIsoStringFromDateNonUTC(_2719)+quote;}_2714=[_2710,_2715(_270e),this._transformValue(_270d,range.lower),this._transformValue(_270d,range.upper),_271a,_271b];if(range.lower===null){_2712.push(sub("((${0} eq false and ${1} le ${3}) or (${0} eq true and ${1} le ${4}))",_2714));}else{if(range.upper===null){_2712.push(sub("((${0} eq false and ${1} ge ${2}) or (${0} eq true and ${1} le ${5}))",_2714));}else{_2712.push(sub("((${0} eq false and ${1} between ${2} and ${3}) or (${0} eq true and ${1} between ${4} and ${5}))",_2714));}}_2713="or";}}else{if(range.lower===range.upper){if(range.lower!==null&&typeof range.lower!=="undefined"){_2711.push(this._transformValue(_270d,range.lower));}}else{_2714=[_2715(_270e),this._transformValue(_270d,range.lower),this._transformValue(_270d,range.upper)];if(range.lower===null){_2712.push(sub("${0} le ${2}",_2714));}else{if(range.upper===null){_2712.push(sub("${0} ge ${1}",_2714));}else{_2712.push(sub("${0} between ${1} and ${2}",_2714));}}_2713="or";}}}}if(_2711.length>0){if(_270d==="string"){array.forEach(_2711,function(value){if(value&&value.length>2){_2716.push(value.substring(0,_2717+1)+'"');}});_2711=_2716;}_2712.push(sub("${0} in (${1})",[_2715(_270e),_2711.join(",")]));}return _2712.length>0?"("+_2712.join(") "+_2713+" (")+")":false;},createDistinctFragment:function(_271c,_271d,_271e,_271f){var _2720=this.resolveDataType(_271c.propertyDataTypeId),sub=_26ec.substitute,name=null,_2721=[],_2722=null,_2723=false,_2724=this.resolveProperty(_271d,_271f);for(name in _271e){if(_271e.hasOwnProperty(name)){if(name===this.nullName){_2722=sub("${0} eq null",[_2724]);}else{if(name===this.emptyName){_2721.push("''");}else{_2721.push(this._transformValue(_2720,_271e[name]));}}}}if(_2721.length>0){_2723=sub("${0} in (${1})",[_2724,_2721.join(",")]);}if(_2722&&_2721.length>0){_2723=sub("(${0} or ${1})",[_2723,_2722]);}else{if(_2722){_2723=_2722;}}return _2723;},createLookupFragment:function(_2725,_2726,_2727,_2728){var _2729=this.resolveDataType(_2725.propertyDataTypeId),_272a,value="",prop=this.resolveProperty(_2726,_2728),_272b="",_272c=[],name;if(_2727.hasOwnProperty("value")){_272a=_2727["value"].operator;value=_2727["value"].value;}if((value==="")||(value===null)){return false;}if(typeof value==="string"){prop="upper("+prop+")";value=value.toUpperCase();}_272b=_26ec.substitute("${0} ${1}",[prop,this._transformLookupOperator(_272a,value,_2729)]);return _272b;},_transformLookupOperator:function(_272d,value,_272e){var _272f="",lhs,rhs="${0}";switch(_272d){case"Equal":lhs="eq";break;case"NotEqual":lhs="ne";break;case"LessThan":lhs="lt";break;case"LessThanEqual":lhs="le";break;case"GreaterThan":lhs="gt";break;case"GreaterThanEqual":lhs="ge";break;case"StartsWith":lhs="like";rhs="${0}%";break;case"EndsWith":lhs="like";rhs="%${0}";break;case"Contains":lhs="like";rhs="%${0}%";break;default:lhs="eq";break;}if(_272e==="string"||_272e==="key"){rhs='"'+rhs+'"';}rhs=_26ec.substitute(rhs,[value]);return _26ec.substitute("${0} ${1}",[lhs,rhs]);},createQuery:function(){var _2730=[],key,_2731,_2732,_2733,_2734,_2735,_2736;for(key in this._applied){if(this._applied.hasOwnProperty(key)){_2731=this._applied[key];_2732=this._definitionSet[key];_2733=_2732.propertyName;_2734=_2732.details;_2736=_2732.dataPath;if(_2734.rangeFilter){_2735=this.createRangeFragment(_2732,_2733,_2731,_2736);}else{if(_2734.distinctFilter){_2735=this.createDistinctFragment(_2732,_2733,_2731,_2736);}else{if((_2734.userLookupFilter)||(_2734.lookupFilter)){_2735=this.createLookupFragment(_2732,_2733,_2731,_2736);}}}if(_2735){_2730.push(_2735);}}}return _2730.length>0?"("+_2730.join(") and (")+")":false;},createValueSet:function(){var _2737=[],_2738,_2739,_273a,_273b,_273c,name,key;for(key in this._applied){if(this._applied.hasOwnProperty(key)){_2738=this._applied[key];_2739=this._definitionSet[key];_273a=_2739.details;_273b=(_273a.rangeFilter&&"rangeFilter")||(_273a.distinctFilter&&"distinctFilter")||(_273a.userLookupFilter&&"lookupFilter");_273c={"filterId":_2739.$key,"filterName":_2739.filterName,"appliedValues":[],"operator":null};switch(_273b){case"rangeFilter":for(name in _2738){if(_2738.hasOwnProperty(name)){_273c.appliedValues.push(_2738[name]&&_2738[name].rangeId);}}break;case"distinctFilter":for(name in _2738){if(_2738.hasOwnProperty(name)){_273c.appliedValues.push(name);}}break;case"lookupFilter":for(name in _2738){if(_2738.hasOwnProperty(name)){if(_2738[name].hasOwnProperty("operator")){_273c.appliedValues.push(_2738[name]);_273c.operator=_2738[name].operator;}}}break;default:break;}_2737.push(_273c);}}return _2737;}});return _26f1;});},"Sage/UI/Controls/Currency":function(){define("Sage/UI/Controls/Currency",["dojo/_base/html","dojox/grid/DataGrid","dijit/_Widget","Sage/_Templated","dijit/form/CurrencyTextBox","Sage/UI/Controls/CurrencyTextBox","dojo/currency","dojo/string","dojo/_base/declare","Sage/Utility"],function(html,_273d,_273e,_273f,_2740,_2741,_2742,_2743,_2744,_2745){dojo.mixin(dijit.form.ValidationTextBox.prototype.attributeMap,{slxchangehook:"focusNode"});var _2746=_2744("Sage.UI.Controls.Currency",[_273e,_273f],{displayModes:{"AsHyperlink":0,"AsControl":1,"AsText":2},modeTemplates:{"AsHyperlink":new Simplate(['<div data-dojo-type="dijit.form.Button" showLabel="true">{%= $.value %}</div>']),"AsControl":new Simplate(['<input  data-dojo-type="Sage.UI.Controls.CurrencyTextBox" ','constraints="{ {%= $.constraintsToString() %} }" ','id="{%= $.id %}_CurrencyTextBox" ','style="width:inherit;"','textAlign="{%= $.textAlign %}"',' name="{%= $.name %}" type="text" ',' value="{%= $.value %}" dojoAttachPoint="focusNode" ',"{% if ( $.multiCurrency ) { %} ",' class="ISOSpace" ',"{% } %}",' hotKey="{%= $.hotKey %}" ','{% if($.disabled === "disabled") { %} ',' disabled="disabled" ',"{% } %}",'{% if($.readonly === "readonly") { %} ',' readonly="readonly" ',"{% } %}",' maxlength="{%= $.maxLength %}" ',' required="{%= $.required %}">',"{% if ( $.multiCurrency ) { %} ",'<label id="{%= $.id %}_ISOLabel" ','dojoAttachPoint="currencyCodeLabel" ','for="${0}_CurrencyTextbox" ','class="ISOLabel" ','wairole="presentation" ','readonly="true" ','tabindex="-1" ','class="dijitInputInner" ','role="presentation">',"</label> ","{% } %}"]),"AsText":new Simplate(['<div data-dojo-type="dijit.form.Button" showLabel="true">{%= $.formattedText() %}</div>'])},widgetTemplate:new Simplate(['<div style="width:inherit;" slxcompositecontrol="true" id="{%= $.id %}" >',"{%= $.modeTemplates[$.displayMode].apply($) %}","</div>"]),postMixInProperties:function(){this.currentCultureSymbol=Sys.CultureInfo.CurrentCulture.numberFormat.CurrencySymbol;if(this.multiCurrency){this.constraints["currency"]=null;}else{if(this.constraints["currency"]===""||this.constraints["currency"]===null){this.constraints["currency"]=this.currentCode;}}},postCreate:function(){if(this.multiCurrency){dijit.byId(this.id+"_CurrencyTextBox").domNode.setAttribute("style","width:100% !important;");this.currencyCodeLabel.innerHTML=this.currentCode;}this.inherited(arguments);},value:0,currentCultureSymbol:"",currentCode:"USD",exchangeRate:1,multiCurrency:false,displayCurrencyCode:true,autoPostBack:false,width:15,maxLength:128,required:false,style:"",enabled:true,readonly:"",disabled:"",visible:true,hotKey:"",tabIndex:0,displayMode:"AsControl",widgetsInTemplate:true,styles:"text-align: right;",name:"",constraints:null,id:"currencyControl",constraintsToString:function(){var tmp=[];for(var prop in this.constraints){if(this.constraints.hasOwnProperty(prop)){var value=this.constraints[prop];if(typeof value==="string"){value="'"+value+"'";}tmp.push(prop+":"+value);}}var _2747=tmp.join(",");return _2747;},constructor:function(_2748){this.inherited(arguments);},destroy:function(){if(this.focusNode){this.focusNode.destroy();}this.inherited(arguments);}});return _2746;});},"Sage/Utility/File/DescriptionsForm":function(){define("Sage/Utility/File/DescriptionsForm",["Sage/Utility/File","dijit/_Widget","Sage/_Templated","dojo/_base/lang","dojo/string","dijit/Dialog","dojo/i18n","dojo/i18n!./nls/DescriptionsForm","dojo/_base/declare"],function(File,_2749,_274a,dLang,_274b,_274c,i18n,_274d,_274e){var _274f=_274e("Sage.Utility.File.DescriptionsForm",[_2749,_274a],{fileType:File.fileType.ftAttachment,titleFmt:"Add Attachment(s) for ${0}",titleLibraryDoc:"Add Library Document(s)",fileNameText:"File name and size: ",descText:"Description:",okText:"OK",cancelText:"Cancel",entityDesc:"",_formParts:[],files:[],widgetsInTemplate:true,widgetTemplate:new Simplate(["<div>",'<div dojoType="dijit.Dialog" id="dlgFileDescriptions" title="" dojoAttachPoint="_dialog">','<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="3" style="width:580px">','<div dojoType="dijit.layout.ContentPane" label="" style="width:212px;"><label>{%= $.fileNameText %}</label></div>','<div dojoType="dijit.layout.ContentPane" label="" style="width:250px;"><label>{%= $.descText %}</label></div>',"</div>",'<div dojoType="dojox.layout.TableContainer" orientation="horiz" cols="2" labelWidth="5" dojoAttachPoint="contentNode" style="min-height:150px;width:580px;max-height:250px;overflow:auto" >',"</div>",'<div class="general-dialog-actions">','<div dojoType="dijit.form.Button" id="{%= $.id %}_btnOK" name="_btnOK" dojoAttachPoint="_btnOK" dojoAttachEvent="onClick:_okClick">{%= $.okText %}</div>','<div dojoType="dijit.form.Button" id="{%= $.id %}_btnCancel" name="_btnCancel" dojoAttachPoint="_btnCancel" dojoAttachEvent="onClick:_cancelClick">{%= $.cancelText %}</div>',"</div>","</div>","</div>"]),postMixInProperties:function(){dojo.mixin(this,_274d);this.inherited(arguments);},show:function(){if(this.fileType!==File.fileType.ftLibraryDocs){this._dialog.set("title",_274b.substitute(this.titleFmt,[this.entityDesc]));}else{this._dialog.set("title",this.titleLibraryDoc);}this._dialog.show();this._addFormParts();},_setEntityDescAttr:function(desc){this.entityDesc=desc;},_getEntityDescAttr:function(){return this.entityDesc;},_setFilesAttr:function(files){this.files=files;},_getFilesAttr:function(){return this.files;},_addFormParts:function(){for(var i=0;i<this.files.length;i++){var file=this.files[i];var _2750=0;if(file.size===0){_2750=0;}else{_2750=file.size||file.blob.length;}if(_2750===0){_2750+="0 Bytes";}else{if(_2750){if(_2750>1024){if(_2750>1048576){_2750=Math.round(_2750/1048576)+" MB";}else{_2750=Math.round(_2750/1024)+" KB";}}else{_2750+=" Bytes";}}}var fnFld=new dijit.form.TextBox({id:"filename_"+i,value:file.name+"  ("+_2750+")",style:"min-width:250px;margin:0 0 5px 15px;",disabled:true});var _2751=new dijit.form.TextBox({id:"desc_"+i,value:this.getDefaultDescription(file.name),style:"min-width:250px;margin:0 0 5px 20px;",maxLength:128,relFileName:file.name});this._formParts.push(fnFld);this._formParts.push(_2751);this.contentNode.addChild(fnFld);this.contentNode.addChild(_2751);}},_clearForm:function(){var len=this._formParts.length;for(var i=len-1;i>-1;i--){var elem=this._formParts[i];this.contentNode.removeChild(elem);elem.destroyRecursive(false);}this._formParts=[];},_okClick:function(){var _2752=[];for(var i=0;i<this._formParts.length;i++){var elem=this._formParts[i];if(elem.params["relFileName"]){_2752.push({description:elem.get("value")||this.getDefaultDescription(elem.params["relFileName"]),fileName:elem.params["relFileName"]});}}this._clearForm();this.onDescriptionsEntered(this.files,_2752);this._dialog.hide();},_cancelClick:function(){this._clearForm();this._dialog.hide();},getDefaultDescription:function(_2753){return _2753.replace(/\.[\w]*/,"");},onDescriptionsEntered:function(files,_2754){}});return _274f;});},"Sage/MainView/JobMgr/RunJobDialog":function(){require({cache:{"url:Sage/MainView/JobMgr/templates/RunJobDialog.html":'[\r\n    \'<div>\',\r\n        \'<div data-dojo-type="dijit.Dialog" title="{%= $.nlsResources.dlgRunJob_Title %}" dojoAttachPoint="_dialog" dojoAttachEvent="onCancel:_dialog_OnCancel, onShow:_dialog_OnShow" style="width: 525px">\',\r\n            \'<div data-dojo-type="dijit.form.Form">\',\r\n                \'<table cellspacing="10">\',                    \r\n                    \'<tr>\',\r\n                        \'<td style="width:150px">\',\r\n                            \'<label>{%= $.nlsResources.txtJobName_Caption %}:</label>\',\r\n                        \'</td>\',\r\n                        \'<td>\',\r\n                            \'<input type="text" dojoAttachPoint="txtJobName" required="true" dojoType="dijit.form.TextBox" disabled="disabled" style="width:320px" />\',\r\n                        \'</td>\',\r\n                    \'</tr>\',\r\n                    \'<tr>\',\r\n                        \'<td style="width:150px">\',\r\n                            \'<label>{%= $.nlsResources.txtTriggerDescription_Caption %}:</label>\',\r\n                        \'</td>\',\r\n                        \'<td>\',\r\n                            \'<input type="text" dojoAttachPoint="txtTriggerDescription" required="true" dojoType="dijit.form.TextBox" style="width:320px" />\',\r\n                        \'</td>\',\r\n                    \'</tr>\',\r\n                    \'<tr>\',\r\n                        \'<td>\',\r\n                            \'<label>{%= $.nlsResources.cmbScheduleType_Caption %}:</label>\',\r\n                        \'</td>\',\r\n                        \'<td>\',\r\n                            \'<select dojoType="dijit.form.Select" dojoAttachPoint="cmbScheduleType" dojoAttachEvent="onChange:_cmbScheduleType_OnChange" style="width:150px" >\',\r\n                                \'<option value="now">{%= $.nlsResources.txtRunNow %}</option>\',\r\n                                \'<option value="scheduled">{%= $.nlsResources.txtScheduledExecution %}</option>\',\r\n                            \'</select>\',\r\n                        \'</td>\',\r\n                    \'</tr>\',\r\n                \'</table>\',\r\n                \'<div data-dojo-type="Sage.UI.JobSchedulingWidget" id="jobSchedulingWidget" data-dojo-attach-point="jobSchedulingWidget"></div>\',\r\n                \'<div dojoType="dijit.layout.TabContainer" dojoAttachPoint="tabsContainer" class="tab-container" style="width:100%; height:250px">\',\r\n                    \'<div dojoType="dijit.layout.ContentPane"  title="{%= $.nlsResources.contentPaneParameters_Caption %}" class="tabContent remove-padding" dojoAttachPoint="contentPaneParameters">\',\r\n                        \'<div id="divGrdParameters" style="height:200px;">\',\r\n                            \'<table data-dojo-type="dojox.grid.DataGrid" dojoAttachPoint="grdJobParameters">\',\r\n                                \'<thead>\',\r\n                                    \'<th field="name" width="100px">{%= $.nlsResources.colName_Caption %}</th>\',\r\n                                    \'<th id="parameterValue" field="defaultValue" width="100px" editable="true">{%= $.nlsResources.colValue_Caption %}</th>\',\r\n                                    \'<th field="description" width="225px">{%= $.nlsResources.colDescription_Caption %}</th>\',\r\n                                \'</thead>\',\r\n                            \'</table>\',\r\n                        \'</div>\',\r\n                    \'</div>\',\r\n                \'</div>\',\r\n                \'<div align="right" style="margin-top:10px">\',\r\n                    \'<div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdOK" dojoAttachEvent="onClick:_cmdOK_OnClick">{%= $.nlsResources.cmdOK_Caption %}</div>\',\r\n                    \'<div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= $.nlsResources.cmdCancel_Caption %}</div>\',\r\n                \'</div>\',\r\n            \'</div>\',\r\n        \'</div>\',\r\n    \'</div>\'\r\n]'}});define("Sage/MainView/JobMgr/RunJobDialog",["dojo/_base/declare","dojo/string","dojo/i18n!./nls/RunJobDialog","dojo/text!./templates/RunJobDialog.html","Sage/UI/JobSchedulingWidget","dijit/_Widget","Sage/_Templated","dojo/_base/lang","Sage/UI/Controls/_DialogHelpIconMixin","dojo/data/ItemFileWriteStore","dojox/grid/DataGrid","Sage/Utility/Jobs","Sage/Utility","Sage/UI/Dialogs"],function(_2755,_2756,_2757,_2758,_2759,_275a,_275b,_275c,_275d,_275e,_275f,_2760,_2761,_2762){var _2763=_2755("Sage.MainView.JobMgr.RunJobDialog",[_275a,_275b],{id:"dlgRunJob",_dialog:false,_configMgr:false,_key:null,_trigger:null,_currentGroupId:null,widgetTemplate:new Simplate(eval(_2758)),nlsResources:_2757,widgetsInTemplate:true,show:function(_2764){this._key=_2764.key;this._currentGroupId=_2764.currentGroupId;if(_2764.triggerId){this._getTriggerRequest(_2764.triggerId);this.cmbScheduleType.set("value","scheduled");this.cmbScheduleType.set("disabled",true);}this._setVisible(this.jobSchedulingWidget.divJobSchedulingWidget,false);this.jobSchedulingWidget.initialize({trigger:this._trigger});this._dialog.show();if(!this._dialog.helpIcon){_275c.mixin(this._dialog,new _275d());this._dialog.createHelpIconByTopic("runjob");}},_getTriggerRequest:function(key){var _2765=Sage.Services.getService("JobService");var _2766=new Sage.SData.Client.SDataSingleResourceRequest(_2765.getSchedulingSDataService());_2766.setResourceKind(_2756.substitute("triggers('${0}')",[key]));var self=this;_2766.read({async:false,success:function(_2767){self._trigger=_2767;}});},_dialog_OnShow:function(){var self=this;self.txtJobName.set("value",self._key);window.setTimeout(function(){self._getAndDisplayJobDetails();},250);},_triggerJob:function(){var _2768=this.jobSchedulingWidget.getJobSchedulingOptions();if(this.cmbScheduleType.value==="scheduled"){if(!this.jobSchedulingWidget.validateSchedule(false,false)){return;}}var _2769=[];var isNew=(!this._trigger);if(this.grdJobParameters&&this.grdJobParameters.store){dojo.forEach(this.grdJobParameters.store._getItemsArray(),function(item){if(item&&item.name&&item.name.length){var value=!isNew?item.value.length>0?item.value[0]:"":item.defaultValue.length>0?item.defaultValue[0]:"";_2769.push({name:item.name[0],value:value});}});}var _276a=null;if(_2768.startTime&&(_2768.startTime instanceof Date)){_276a=_2761.Convert.toJsonStringFromDate(_2768.startTime);}var _276b=null;if(_2768.endTime&&(_2768.endTime instanceof Date)){_276b=_2761.Convert.toJsonStringFromDate(_2768.endTime);}var _276c=this._currentGroupId;var _276d={closable:true,key:this._key,descriptor:this.txtTriggerDescription.get("value"),frequency:this.cmbScheduleType.value==="scheduled"?_2768.frequency:null,startTime:_276a,endTime:_276b,user:{$key:this._getCurrentUserId()},parameters:_2769,infoMessage:"",cronExpression:_2768.cronExpression,title:this.txtTriggerDescription.get("value")||this.txtJobName.get("value"),success:function(_276e){_2760.refreshList(_276c);},failure:function(_276f){}};if(this.cmbScheduleType.value==="scheduled"){if(isNew){this._scheduleJob(_276d);}else{this._updateTrigger(_276d);}}else{_2760.triggerJobAndDisplayProgressDialog(_276d);}this._closeDialog();},_getCurrentUserId:function(){var _2770=null;var _2771=Sage.Services.getService("ClientContextService");if(_2771){if(_2771.containsKey("userID")){_2770=_2771.getValue("userID");}}return _2770;},_scheduleJob:function(_2772){var _2773=Sage.Services.getService("JobService");_2773.scheduleJob(_2772);},_updateTrigger:function(_2774){var _2775=Sage.Services.getService("JobService");_2775.updateTrigger(_2774);},_cmbScheduleType_OnChange:function(){if(this.cmbScheduleType){var _2776=(this.cmbScheduleType.value==="scheduled");this._setVisible(this.jobSchedulingWidget.divJobSchedulingWidget,_2776);}},_setVisible:function(_2777,_2778){if(_2777&&_2778){dojo.removeClass(_2777,"display-none");}else{if(_2777){dojo.addClass(_2777,"display-none");}}},_closeDialog:function(){var self=this;this.jobSchedulingWidget.destroyWidget();self._dialog.hide();setTimeout(function(){self.destroyRecursive();},1000);},_validateJobOptions:function(){if(typeof this._key!=="string"||this._key===""){_2762.showError(_2756.substitute(this.nlsResources.txtInvalidParameterMessage,[this.nlsResources.txtJobName_Caption]),this.nlsResources.txtInvalidParameterTitle);return false;}if(this.cmbScheduleType.value==="scheduled"){if(this.jobSchedulingWidget.cboFrequency.get("value")===""){_2762.showError(_2756.substitute(this.nlsResources.txtInvalidParameterMessage,[this.nlsResources.cbofrequency_Caption]),this.nlsResources.txtInvalidParameterTitle);return false;}}return true;},_cmdOK_OnClick:function(){if(this._validateJobOptions()){this._triggerJob();}},_cmdCancel_OnClick:function(){this._closeDialog();},_dialog_OnCancel:function(){this._closeDialog();},_getAndDisplayJobDetails:function(){var self=this;var svc=Sage.Services.getService("JobService");var key=this._key;var _2779="jobs";if(this._trigger){_2779="triggers";key=this._trigger.$key;}var _277a={key:key,resourceKind:_2779,success:function(_277b){if(_277b.job){self.txtJobName.set("value",_277b.job.$descriptor||_277b.job.$key);}self.txtTriggerDescription.set("value",_277b.$descriptor||_277b.$key);self._setJobParametersGridStore(_277b.parameters);}};svc.getJobDefinition(_277a);},_setJobParametersGridStore:function(_277c){var _277d=[];if(this._trigger){var _277e=this._getJobParameters();var self=this;dojo.forEach(_277c,function(item){var _277f=self._getParameterDescription(_277e,item.name);_277d.push({name:item.name,value:item.value,description:_277f});});}else{_277d=_277c;}var data={identifier:"name",items:_277d};this._setParameterValueColumnBinding(this._trigger?"value":"defaultValue");var store=new _275e({data:data});this.grdJobParameters.setStore(store);},_getParameterDescription:function(_2780,_2781){var _2782="";dojo.forEach(_2780,function(item){if(item.name===_2781){_2782=item.description;}});return _2782;},_getJobParameters:function(){var job=null;var _2783=Sage.Services.getService("JobService");var _2784=new Sage.SData.Client.SDataSingleResourceRequest(_2783.getSchedulingSDataService());_2784.setResourceKind(_2756.substitute("jobs('${0}')",[this._trigger.job.$key]));_2784.setQueryArg("select","parameters/*");_2784.read({async:false,success:function(_2785){job=_2785;}});return job?job.parameters:job;},_setParameterValueColumnBinding:function(_2786){var self=this;dojo.forEach(this.grdJobParameters.layout.cells,function(item,index){if(item.id==="parameterValue"){self.grdJobParameters.layout.cells[index].field=_2786;}});}});return _2763;});},"Sage/MainView/JobMgr/nls/BaseListPanelConfig":function(){define("Sage/MainView/JobMgr/nls/BaseListPanelConfig",["Sage/LanguageList","dojo/_base/lang"],function(_2787,lang){var nls={root:{titleFmtString:"${0}"}};return lang.mixin(_2787,nls);});},"Sage/QuickForms/Design/nls/TextBoxControlDesigner":function(){define("Sage/QuickForms/Design/nls/TextBoxControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_2788,lang){var nls={root:{displayNameText:"TextBox"}};return lang.mixin(_2788,nls);});},"Sage/UI/Dashboard/DashboardPage":function(){define("Sage/UI/Dashboard/DashboardPage",["dojo/i18n","Sage/UI/GridContainer","Sage/UI/Dialogs","Sage/UI/Dashboard/DashboardWidgetCell","Sage/Utility","dijit/form/ValidationTextBox","Sage/UI/Controls/_DialogHelpIconMixin","dojo/dom-construct","Sage/Array","dojo/i18n!./nls/DashboardTabController","dojo/i18n!./nls/WidgetDefinition","dojo/_base/declare","dojo/_base/lang"],function(i18n,_2789,_278a,_278b,_278c,_278d,_278e,_278f,_2790,_2791,_2792,_2793,lang){var _2794=_2793("Sage.UI.Persistance.DashboardColumn",null,{constructor:function(_2795){dojo.safeMixin(this,_2795);}});var _2796=_2793("Sage.UI.Dashboard.DashboardPage",_2789,{_nwTableOuter:new Simplate(['<div id="nwTable" class="new-widget-table"><div style="height:400px; overflow-y:auto;"><table width="100%">{%= $.content %}</table></div>','<div align="right"><button data-dojo-type="dijit.form.Button"',' type="button" id="btnAddContentClose" class="ok-button" title="{%= $.buttonCancel %}" align="right" style="margin-top:10px;">{%= $.buttonCancel %}</button>',"</div></div>"]),_nwTableInner:new Simplate(["<tr><td><b>{%= $.key %}</b><br />{%= $.value %}</td></tr>",'<tr><td><button data-dojo-type="dijit.form.Button"','type="button" id="{%= $.btnId %}" class="btn-add-new">{%= $.addText %}</button></td></tr>',"<tr><td><hr /></td></tr>"]),style:"z-index:500;",_eoTable:new Simplate(['<div id="eoTable" class="edit-options-table"><table width="100%">','<tr><td>{%= $.titleText %}</td><td><div data-dojo-type="dijit.form.ValidationTextBox" id="txtEO"',' regExp="[^-<>:;@#\\$!%\\^&\\*\\(\\)\\+=\\`\\[{},/?\\.~]*" value="{%= $.title %}" invalidMessage="{%= $.invalidMessage %}"></div></td></tr>',"<tr><td colspan=2>{%= $.chooseTemplateText %}</td></tr>",'<tr><td><input type="radio" id="rdoEO0" data-dojo-type="dijit.form.RadioButton"',' value="one_column" name="radioEO" /></td><td><label for="rdoEO0">{%= $.oneColumnText %}',"</label></td></tr>",'<tr><td><input type="radio" id="rdoEO1" data-dojo-type="dijit.form.RadioButton"',' value="two_even" name="radioEO" /></td><td><label for="rdoEO1">{%= $.twoColumnText %}',"</label></td></tr>",'<tr><td><input type="radio" id="rdoEO2" data-dojo-type="dijit.form.RadioButton"',' value="fat_left" name="radioEO" /></td><td><label for="rdoEO2">{%= $.fatLeftText %}',"</label></td></tr>",'<tr><td><input type="radio" id="rdoEO3" data-dojo-type="dijit.form.RadioButton"',' value="fat_right" name="radioEO" /></td><td><label for="rdoEO3">{%= $.fatRightText %}',"</label></td></tr>",'<tr><td><input type="checkbox" id="chkMD" data-dojo-type="dijit.form.CheckBox"',' value="make_def"/></td><td><label for="chkMD">{%= $.makeDefaultText %}</label></td></tr>','<tr><td colspan=2 align="right"><button data-dojo-type="dijit.form.Button" type="button"',' id="btnEOK" class="ok-button" title="{%= $.buttonOk %}" >{%= $.buttonOk %}</button>','<button data-dojo-type="dijit.form.Button" type="button"',' id="btnEOCancel" class="cancel-button" title="{%= $.buttonCancel %}">{%= $.buttonCancel %}</button>',"</td></tr></table></div>"]),_raisePermissionInvalidMessage:function(){var _2797=this;var fn=function(ans){if(ans){var db=dijit.byId("Dashboard");db._copyPage(_2797);}};var opts={title:this.resources.errorText,query:[this.resources.permissionErrorText,this.resources.permissionErrorPerformCopyText],yesText:this.resources.yesText,noText:this.resources.noText,callbackFn:fn,style:{width:"350px"},align:"right"};Sage.UI.Dialogs.raiseQueryDialogExt(opts);},postCreate:function(){this.inherited(arguments);this.subscribe("/ui/dashboard/pageSave",function(page){if(typeof page==="string"){page=parseInt(page,10);}if(page===this._page){if(this.permission){this._save();}else{this._raisePermissionInvalidMessage();}}});this.subscribe("/dojox/mdnd/drop","_dropped");},resources:{},postMixInProperties:function(){dojo.mixin(this.resources,i18n.getLocalization("Sage.UI.Dashboard","DashboardTabController"));dojo.mixin(this.resources,i18n.getLocalization("dijit","common"));this._releaseManager.page=this;this.inherited(arguments);},_createChild:function(_2798,col,idx,page){var _2799=_2798.options.title||_2798["@name"],_279a=_2799;while(_279a.indexOf(" ")>=0){_279a=_279a.replace(" ","_");}while(_279a.indexOf(".")>=0){_279a=_279a.replace(".","_");}while(_279a.indexOf("'")>=0){_279a=_279a.replace("'","_");}if(_2792[_279a]){_2799=_2792[_279a];}this._childWidgets.push(new _278b({dndType:"Portlet",title:_2799,resizeChildren:false,column:col,index:idx,_page:page,_parentId:this.id,preventRender:this.toBeHidden,widgetOptions:_2798.options}));return this._childWidgets[this._childWidgets.length-1];},_addNewWidget:function(name){if(this.permission){var last=this._childWidgets[this._childWidgets.length-1];var col=last&&last.column?last.column:0;var idx=last&&last.index?last.index+1:0;var _279b=new _278b({dndType:"Portlet",isNew:true,title:this.resources[name]||name,resizeChildren:false,column:col,index:idx,_page:this._page,_parentId:this.id,widgetOptions:{name:name,title:name}});this._childWidgets.push(_279b);this.addChild(this._childWidgets[this._childWidgets.length-1],col,idx);this._save();}else{this._raisePermissionInvalidMessage();}},_editOptionsMenu:function(){var uo=Sage.UI.DataStore.Dashboard.userOptions;var _279c=false,_279d=false,_279e=false,_279f=false;switch(this.colWidths.toString()){case"50,50":_279d=true;break;case"67,33":_279e=true;break;case"33,67":_279f=true;break;default:_279c=true;}var d=new dijit.Dialog({title:this.resources.editOptionsText,style:"width:350px"});d.set("content",this._eoTable.apply({title:this.get("title"),buttonOk:this.resources.buttonOk,buttonCancel:this.resources.buttonCancel,addText:this.resources.addText,titleText:this.resources.titleText,chooseTemplateText:this.resources.chooseTemplateText,oneColumnText:this.resources.oneColumnText,twoColumnText:this.resources.twoColumnText,fatLeftText:this.resources.fatLeftText,fatRightText:this.resources.fatRightText,makeDefaultText:this.resources.makeDefaultText,invalidMessage:this.resources.invalidMessage}));dijit.byId("rdoEO0").set("checked",_279c);dijit.byId("rdoEO1").set("checked",_279d);dijit.byId("rdoEO2").set("checked",_279e);dijit.byId("rdoEO3").set("checked",_279f);if(uo.defaultTab==this.title){dijit.byId("chkMD").set("checked",true);}d.show();var _27a0=function(){if(this.isNew){var _27a1=dijit.byId("Dashboard");_27a1.closeChild(this);_27a1.selectFirstVisible();}dojo.disconnect(_27a2);dojo.disconnect(ok);dojo.disconnect(_27a3);d.destroyRecursive();};var _27a2=dojo.connect(d,"hide",this,_27a0);var _27a3=dojo.connect(dijit.byId("btnEOCancel"),"onClick",this,function(){d.hide();});var ok=dojo.connect(dijit.byId("btnEOK"),"onClick",this,function(){if(this.permission){var txtEO=dijit.byId("txtEO");if(!txtEO.isValid()||!this.getParent()._isTitleUnique(txtEO.value,this.id)){return false;}var _27a4={};_27a4.ttl=txtEO.value;_27a4.one_column=dijit.byId("rdoEO0").get("value");_27a4.even_split=dijit.byId("rdoEO1").get("value");_27a4.fat_left=dijit.byId("rdoEO2").get("value");_27a4.fat_right=dijit.byId("rdoEO3").get("value");_27a4.make_def=dijit.byId("chkMD").get("value");if(this.isNew){this.isNew=false;}else{_27a4.oldName=this.name;}this._setOptions(_27a4);this._save();this._redrawWidgets();this.getParent().addRemovePageContextMenu();d.hide();}else{d.hide();this._raisePermissionInvalidMessage();}});},_redrawWidgets:function(){if(this._childWidgets){dojo.forEach(this._childWidgets,function(_27a5){_27a5.refresh(true);});}},_releaseManager:{share:function(){this.lookupOptions.callerId=this.page.id;if(!this.dialog){this.dialog=new dijit.Dialog({id:this.page.id+"-shareDialog",style:"width: 405px",title:this.page.resources.shareTabText});var _27a6=dojo.connect(this.dialog,"hide",this,this.fnHide);dojo.mixin(this.dialog,new _278e());this.dialog.createHelpIconByTopic("Working_with_the_Dashboard");}if(this.grid){this.grid.destroyRecursive();}this.grid=new dojox.grid.DataGrid({id:this.page.id+"-shareDialog-grid",structure:[{field:"$key",editable:false,hidden:true,id:"id",formatter:function(value,_27a7,cel){var id=[cel.grid.id,"-row",_27a7].join("");var _27a8=["<div id=",id," >",id,"</ div>"].join("");return _27a8;}},{field:"Text",name:this.page.resources.releasedToText,width:"185px"},{field:"Type",name:this.page.resources.typeText,width:"175px"}],height:"200px"},document.createElement("div"));var def=dojo.xhrGet({url:"slxdata.ashx/slx/crm/-/dashboard/release",preventCache:true,handleAs:"json",content:{name:this.page.name,family:this.page.family},load:dojo.hitch(this,this.releaseFetchSuccess),error:function(data){}});},releaseFetchSuccess:function(data,xhr){var _27a9={identifier:"Id",items:data};this.gridStore=new dojo.data.ItemFileWriteStore({data:_27a9});this.dialog.set("content",this.dialogContent.apply({id:this.dialog.id,pageId:this.page.id,closeText:this.page.resources.closeText,everyoneText:this.page.resources.everyoneText,headerText:this.page.resources.shareTabText}));this.initTools();this.dialog.show();dojo.place(this.grid.domNode,this.dialog.id+"-grid","replace");this.grid.setStore(this.gridStore);dojo.style(this.dialog.id,"top","130px");},fnHide:function(){this.release();},initTools:function(){var delid=this.dialog.id+"_delBtn";var _27aa=_278f.create("img",{"id":delid,"alt":this.page.resources.deleteText,"title":this.page.resources.deleteText,"src":"images/icons/Delete_16x16.png","class":"tws-header-icon"});dojo.place(_27aa,dojo.query(["#",this.dialog.id,"-toolbar"].join(""))[0],"last");dojo.connect(dojo.byId(delid),"onclick",this,this.deleteSelected);delid=this.dialog.id+"_lookupBtn";_27aa=_278f.create("img",{"id":delid,"alt":this.page.resources.addText,"title":this.page.resources.addText,"src":"images/icons/Plus_16x16.gif","class":"tws-header-icon"});dojo.place(_27aa,dojo.query(["#",this.dialog.id,"-toolbar"].join(""))[0],"last");dojo.connect(dojo.byId(delid),"onclick",this,this.startLookup);},deleteSelected:function(){var _27ab=this.grid.selection.getSelected();if(_27ab.length){var _27ac=this.gridStore;dojo.forEach(_27ab,function(item){if(item!==null){_27ac.deleteItem(item);}});this.gridStore.save();}},page:null,grid:null,gridStore:null,dialog:null,dialogContent:new Simplate(['<div width="560px">','<div style="width:100%;" align="right" id="{%= $.id %}-toolbar"></div>','<div id="{%= $.id %}-grid" ></div>','<div style="width:100%;" align="right" ><button data-dojo-type="dijit.form.Button" type="button" style="margin-top:10px;" ',"data-dojo-props=\"onClick:function(){dijit.byId('{%= $.pageId %}')._releaseManager.everyoneClick();}\"",">{%= $.everyoneText %}</button>",'<button data-dojo-type="dijit.form.Button" type="button" style="margin-left:10px; margin-top:10px;" ',"data-dojo-props=\"onClick:function(){dijit.byId('{%= $.pageId %}')._releaseManager.dialog.hide();}\"",">{%= $.closeText %}</button></div>","</div> "]),lookup:null,everyoneClick:function(){var item=[{$key:"SYST00000001",OwnerDescription:this.page.resources.everyoneText}];this.lookupOptions.doSelected(item);},release:function(){var ids="";var items=this.gridStore._arrayOfAllItems;for(var i=0;i<items.length;i++){if(items[i]){ids+=items[i].Id[0]+",";}}var vURL="SLXGroupBuilder.aspx?method=GetGroupIdFromNameFamilyAndType&name="+this.page.name+"&family=System&type=36";dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_27ad){}),load:dojo.hitch(this,function(_27ae){vURL="SLXGroupBuilder.aspx?method=ReleaseGroup&gid="+_27ae+"&toids="+ids;dojo.xhrGet({url:vURL,error:dojo.hitch(this,function(_27af){}),load:dojo.hitch(this,function(_27b0){})});})});},startLookup:function(){if(!this.lookup){this.lookup=new Sage.UI.SDataLookup(this.lookupOptions);this.lookup.dialogTitle=this.page.resources.addLookup;this.lookup.dialogButtonText=this.page.resources.okButton;this.lookup.structure[0].cells[0].name=this.page.resources.typeText;this.lookup.structure[0].cells[1].name=this.page.resources.descriptionText;}this.lookup.showLookup();},lookupOptions:{callerId:null,displayMode:5,structure:[{cells:[{name:"",field:"Type",sortable:true,width:"150px",editable:false,styles:null,propertyType:"Sage.Entity.Interfaces.OwnerType",excludeFromFilters:false,useAsResult:false},{"name":"","field":"OwnerDescription","sortable":true,"width":"500px","editable":false,"styles":null,"propertyType":"System.String","excludeFromFilters":false,"useAsResult":false}],"defaultCell":{"name":null,"field":null,"sortable":false,"width":"50px","editable":false,"styles":"text-align: left;","propertyType":null,"excludeFromFilters":false,"useAsResult":false}}],gridOptions:{},storeOptions:{"resourceKind":"owners"},dialogTitle:"",dialogButtonText:"",id:"MainContent_AccountDetails_Owner_Grid",modality:"modal",doSelected:function(items){var _27b1=dijit.byId(this.callerId)._releaseManager;for(var i=0,len=items.length;i<len;i++){if(!_27b1.gridStore._itemsByIdentity[items[i].$key]){_27b1.gridStore.newItem({Id:items[i].$key,Text:items[i].OwnerDescription,Type:items[i].Type});}}_27b1.gridStore.save();_27b1.grid.startup();if(_27b1.lookup&&_27b1.lookup.lookupDialog){_27b1.lookup.lookupDialog.hide();}}}},_joinColumnWidgets:function(){if(this.nbZones===2){for(var i=this._childWidgets.length-1;i>=0;i--){if(this._childWidgets[i].column===1){this.removeChild(this._childWidgets[i]);this._childWidgets[i].column=0;this._childWidgets[i].index+=this._childWidgets.length;this.addChild(this._childWidgets[i],0,this._childWidgets[i].index);}}this._deleteColumn(1);}},_setOptions:function(_27b2){var uo=Sage.UI.DataStore.Dashboard.userOptions;if(_27b2.ttl){this.title=_27b2.ttl;this.set("name",_27b2.ttl);var _27b3=dijit.byId("Dashboard_tablist_"+this.id);if(_27b3){_27b3._setLabelAttr(_27b2.ttl);}}if(_27b2.one_column){this._joinColumnWidgets();this.setColumns(1);this.set("colWidths","100");dojo.publish("ui/dashboard/columnResize");}if(_27b2.even_split){this.setColumns(2);this.set("colWidths","50,50");dojo.publish("/ui/dashboard/columnResize");}if(_27b2.fat_left){this.setColumns(2);this.set("colWidths","67,33");dojo.publish("/ui/dashboard/columnResize");}if(_27b2.fat_right){this.setColumns(2);this.set("colWidths","33,67");dojo.publish("/ui/dashboard/columnResize");}if(_27b2.make_def){var db=dijit.byId(this._parentId);if(this.title){uo.defaultTab=this.title;db._updateUserOptions();}}if(_27b2.oldName){this.oldName=_27b2.oldName;}else{this.oldName="";}},_newWidgetMenu:function(){var d=new dijit.Dialog({title:this.resources.addContentText,style:"width:365px;"});dojo.mixin(d,new _278e());var list=Sage.UI.DataStore.Dashboard.widgetsList;var inner=[];this._nwListeners=[];for(var item in list){if(list.hasOwnProperty(item)&&item!="Default"){var _27b4=item.replace(" ","_");inner.push(this._nwTableInner.apply({btnId:_27b4+"_label",key:_2792[_27b4]||item,value:_2792[_27b4+"_Description"]||list[item],addText:this.resources.addText}));}}var mkup=this._nwTableOuter.apply({content:inner.join(""),buttonCancel:this.resources.buttonCancel});d.createHelpIconByTopic("Introducing_Widgets");d.set("content",mkup);d.show();var _27b5=function(){dojo.forEach(this._nwListeners,dojo.disconnect);dojo.disconnect(_27b6);dojo.disconnect(_27b7);setTimeout((function(d){return function(){d.destroyDescendants();d.destroy(false);};})(d),1);};var _27b6=dojo.connect(d,"hide",this,_27b5);var _27b7=dojo.connect(dijit.byId("btnAddContentClose"),"onClick",this,function(){d.hide();});var adds=dijit.findWidgets(dojo.byId("nwTable"));for(var i=0,len=adds.length;i<len;i++){if(adds[i].id!="btnAddContentClose"){var cb=dojo.hitch(this,this._addNewClick,d,adds[i].id);this._nwListeners.push(dojo.connect(adds[i],"onClick",null,cb));}}},_addNewClick:function(d,_27b8,evt){var id=_27b8.replace("_label","").replace("_"," ");d.hide();this._addNewWidget(id);},_init:function(){if(this.pageRendered){if(this.firstButNotDefault){for(var k=0,llen=this._childWidgets.length;k<llen;k++){this._childWidgets[k]._redrawCharts();}this.firstButNotDefault=false;}return;}setTimeout(lang.hitch(this,function(){if(this._columns.length){for(var i=0;i<this.nbZones;i++){if(this._columns[i]){this._columns[i].Widgets.Widget=_278c.Convert.toArrayFromObject(this._columns[i].Widgets.Widget);for(var j=0,len=this._columns[i].Widgets.Widget.length;j<len;j++){if(this._columns[i].Widgets.Widget[j]){this.addChild(this._createChild(this._columns[i].Widgets.Widget[j],i,j,this._page),i,j);}}}}}this.pageRendered=true;}),5);},_dropped:function(drp,_27b9,i){var _27ba=dijit.byId(drp.id);if(this._page!==_27ba._page){return;}var col=_27b9.node.cellIndex;_27ba._setColumn(col);_27ba._setIndex(i);dojo.publish("/ui/widget/dropped",[drp.id,_27ba._page,col,i]);if(this.permission){this._save();}else{this._raisePermissionInvalidMessage();}},_hide:function(){return this.title;},_copy:function(){return this._save(true);},_contextSave:function(){if(!this.pageRendered){return;}this._save();},_save:function(_27bb){var cw=this.colWidths;var _27bc;if(cw){_27bc=typeof cw==="string"?cw:cw.join(",");}var _27bd;if(_27bb){_27bd={"@name":this.name,"@title":this.name,"@id":this.id,"@family":this.family||"System","@permission":this.permission,"@colWidths":_27bc,Columns:{Column:[]}};}else{_27bd={"@name":this.name,"@title":this.name,"@id":this.id,"@family":this.family||"System","@colWidths":_27bc,Columns:{Column:[]}};}var _27be={};for(var i=0;i<this.nbZones;i++){_27be[i]=new _2794({Widgets:{Widget:[]}});}var len;for(i=0,len=this._childWidgets.length;i<len;i++){var col=this._childWidgets[i].column;var opts=this._childWidgets[i].widgetOptions;var w={index:this._childWidgets[i].index,"@name":opts.name,"@family":opts.family||"System",options:opts};_27be[col].Widgets.Widget.placeByAttr(w,"index");}var cols=Sage.Utility.size(_27be);for(var j=0;j<cols;j++){_27bd.Columns.Column.push(_27be[j]);}var pg={Dashboard:{}};Sage.Utility.mixOwn(pg.Dashboard,_27bd);if(_27bb){return pg;}var pgStr=dojo.toJson(pg);if(!this.oldName){this.oldName="";}var uri=dojo.string.substitute("slxdata.ashx/slx/crm/-/dashboard/page?name=${0}&family=${1}&oldName=${2}",[encodeURIComponent(this.name),encodeURIComponent(this.family),encodeURIComponent(this.oldName)]);var def=dojo.xhrPost({url:uri,handleAs:"text",postData:pgStr,load:function(data){},error:function(err){console.error(err);}});}});return _2796;});},"url:Sage/MainView/Account/templates/AccountDetailSummary.html":"[\r\n'<table style=\"width:100%\">',\r\n    '<thead>',\r\n        '<tr>',\r\n            '<th>',\r\n                '<div class=\"SummaryTitle\">',\r\n                    '<a href=\"Account.aspx?entityid={%= $.templateData.id %}\">{%= Sage.Utility.htmlEncode($.templateData.name) %}</a>',\r\n                '</div>',\r\n            '</th>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_address1 %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n        '<tr>',\r\n            '<td>',\r\n                '<span>{%= $.templateData.address_citystatezip %}</span>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</thead>',\r\n    '<tbody>',\r\n        '<tr>',\r\n            '<td class=\"DataColumn\">',\r\n                '<table>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svType_Caption || \"Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.type %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svSubType_Caption || \"Sub Type:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.subtype %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTitle_Status || \"Status:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.status %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svDivision_Caption || \"Division:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.division %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svIndustry_Caption || \"Industry:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.industry) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svMainPhone_Caption || \"Main phone:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.mainphone) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svTollFree_Caption || \"Toll free:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= Sage.Format.phone($.templateData.tollfree) %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svEmail_Caption || \"Email:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.email %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svWebAddress_Caption || \"Web:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.webaddress %}</td>',\r\n                    '</tr>',\r\n                    '<tr>',\r\n                        '<td class=\"SummaryCaption\">{%= $.svAccMgr_Caption || \"Acct. Mgr.:\" %}</td>',\r\n                        '<td class=\"DataItem\">{%= $.templateData.accountmanager_userinfo_firstname %} {%= $.templateData.accountmanager_userinfo_lastname %}</td>',\r\n                    '</tr>',\r\n                '</table>',\r\n            '</td>',\r\n        '</tr>',\r\n    '</tbody>',\r\n'</table>',\r\n'<br/>',\r\n'<div style=\"padding-right:20px; text-align:right\">',\r\n    '<asp:Panel runat=\"server\" ID=\"pnlCancel\" CssClass=\"controlslist qfActionContainer\">',\r\n        '<div dojoType=\"dijit.form.Button\" id=\"{%= $.id %}_btn_Close\" onClick=\"javascript:contactSearchForDuplicates._close();\">{%= $.closeText %}</div>',\r\n    '</asp:Panel>',\r\n'</div>'\r\n]","Sage/MainView/SecurityManager":function(){define("Sage/MainView/SecurityManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/Columns/RadioGroup","Sage/Data/WritableSDataStore","Sage/MainView/SecurityMgr/SecurityManagerGroupContext","dojo/i18n!./nls/SecurityManager","dojo/_base/declare"],function(_27bf,_27c0,_27c1,_27c2,_27c3,_27c4){var _27c5=_27c4("Sage.MainView.SecurityManager",_27bf,{_profilesStore:false,_currentProfileId:false,_currentProfileDescription:false,_profileNameCache:{},store:false,entityType:"securityProfileColumns",constructor:function(_27c6){dojo.mixin(this,_27c3);var _27c7=Sage.Services.getService("ClientGroupContext");if(!_27c7||_27c7.declaredClass!="Sage.MainView.SecurityMgr.SecurityManagerGroupContext"){Sage.Services.removeService("ClientGroupContext");_27c7=new _27c2();Sage.Services.addService("ClientGroupContext",_27c7);}if(_27c7){var ctx=_27c7.getContext();this._currentProfileId=ctx.CurrentGroupID;this._currentProfileDescription=ctx.CurrentName;}this.service=Sage.Data.SDataServiceRegistry.getSDataService("system");this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:this.securityManagerText+": ${0}"};dojo.subscribe("/group/context/changed",this,"onConfigurationChange");},_getListPanelConfig:function(){var _27c8=dijit.byId("refreshBtn");if(!this.refreshEvent){this.refreshEvent=dojo.connect(_27c8,"onClick",this,function(){var _27c9=dijit.byId("list");_27c9._markClean();});}var _27ca=[{field:"table",name:this.tableText,width:"155px"},{field:"entity",name:this.entityText,width:"130px"},{field:"column",name:this.columnText,width:"140px"},{field:"property",name:this.propertyText,width:"100px"},{field:"access",name:this.accessText,labels:[this.readWriteText,this.readOnlyText,this.noAccessText],width:"300px",type:_27c0,options:["ReadWrite","ReadOnly","NoAccess"],editable:true}];var where=(this._currentProfileId)?dojo.string.substitute('profile.id eq "${0}"',[this._currentProfileId]):"";if(!this.store){this.store=new _27c1({id:"securityProfileColumns",service:this.service,isSecurityManager:true,resourceKind:"securityProfileColumns",include:[],select:["table","entity","column","property","access"],directQuery:{conditions:where}});}else{this.store.directQuery={conditions:where};}this.listPanelConfiguration={list:{structure:_27ca,store:this.store,selectionMode:"none",id:"securityManagerListConfig"},detail:false,summary:false,toolBar:{items:[{icon:"~/ImageResource.axd?scope=global&type=Global_Images&key=Save_16x16",title:this.saveText,onClick:dojo.hitch(this.store,"save")},{icon:"~/ImageResource.axd?scope=global&type=Global_Images&key=Reset_16x16",title:this.resetText,onClick:dojo.hitch(this.store,"revert")}]}};dojo.style(dijit.byId("addGroupButton").domNode,"display","none");return this.listPanelConfiguration;},requestConfiguration:function(_27cb){if(_27cb.success){_27cb.success.call(_27cb.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_27cc){if(_27cc.success){_27cc.success.call(_27cc.scope||this,this.titlePaneConfiguration,this);}},onConfigurationChange:function(obj){this._currentProfileId=obj.current.CurrentGroupID;this._currentProfileDescription=obj.current.CurrentName;if(this._currentProfileId&&this._currentProfileId.length===12){if(this._profileNameCache&&this._profileNameCache.hasOwnProperty(this._currentProfileId)){this._setUIForNewGroup(false);}else{this._profilesStore.fetch({onComplete:dojo.hitch(this,"_setUIForNewGroup")});}}},onTitlePaneConfigurationChange:function(){},_setUIForNewGroup:function(_27cd){var i;if(_27cd){this._profileNameCache={};for(i=0;i<_27cd.length;i++){this._profileNameCache[_27cd[i]["$key"]]=_27cd[i]["$descriptor"];}}var _27ce=dijit.byId("titlePane");if(_27ce){_27ce.set("title",this._profileNameCache[this._currentProfileId]);}var tabs=dijit.byId("GroupTabs");if(tabs){var _27cf=tabs.getChildren();for(i=0;i<_27cf.length;i++){if(_27cf[i].id===this._currentProfileId){tabs.selectChild(_27cf[i],false);break;}}}},_getTabsConfig:function(){this._setProfilesStore();this._profilesStore.fetch({onComplete:dojo.hitch(this,"_setUIForNewGroup")});return{store:this._profilesStore,selectedTabId:this._currentProfileId,tabKeyProperty:"$key",tabNameProperty:"profileDescription",fetchParams:{},staticTabs:[],onTabSelect:function(child){var _27d0=Sage.Services.getService("ClientGroupContext");if(_27d0){var ctx=_27d0.getContext();var id=child.id||child;if(ctx.CurrentGroupID===id){return;}var _27d1=dijit.byId("list");_27d1._markClean();_27d0.setCurrentGroup(id,child.title);}},onTabClose:false};},_setProfilesStore:function(){this._profilesStore=this._profilesStore||new _27c1({id:"securityProfilesstore",service:this.service,resourceKind:"securityProfiles",include:[],select:["profileDescription","defaultPermission","profileType"],orderby:"profileDescription"});},_getMenuConfig:function(){this._setProfilesStore();return{id:"profileMenu",img:"images/icons/Groups_16x16.gif",text:this.profilesText,tooltip:this.profilesText,width:"300px",items:[{fn:this._getProfileMenuGrid,scope:this}]};},_getProfileMenuGrid:function(){return new Sage.UI.GridMenuItem({gridOptions:{id:"profileGridInMenu",store:this._profilesStore,rowsPerPage:40,structure:[{field:"profileDescription",name:"Description",width:"290px"}],selectionMode:"single",query:{},height:"400px",width:"350px",onSelected:function(idx){var _27d2=this.getItem(idx);var _27d3=Sage.Services.getService("ClientGroupContext");if(_27d3){var ctx=_27d3.getContext();if(ctx.CurrentGroupID===_27d2["$key"]){return;}var _27d4=dijit.byId("GroupTabs"),_27d5=_27d4.getChildren();for(var i=0;i<_27d5.length;i++){if(_27d5[i].id==_27d2["$key"]){_27d4.selectChild(_27d5[i]);_27d3.setCurrentGroup(_27d2["$key"],_27d2.profileDescription);return;}}}}}});}});return _27c5;});},"Sage/Extensions/UI/Columns/CheckBox":function(){define("Sage/Extensions/UI/Columns/CheckBox",["dojo/_base/declare","dojo/_base/lang","dojo/query"],function(_27d6,lang,query){var _27d7=_27d6("Sage.Extensions.UI.Columns.CheckBox",dojox.grid.cells.Bool,{checkBoxIds:null,constructor:function(_27d8){this.checkBoxIds=[];},formatEditing:function(_27d9,_27da){var _27db="chk_"+this.field+"_"+_27da;if(!this.checkBoxIds[_27db]){this.checkBoxIds.push(_27db);}var key="";var _27dc=this.grid.getItem(_27da);if(_27dc){key=_27dc.EntityId;}var _27dd="chk_"+this.field+"_"+key;var _27de=(_27d9===true||_27d9===1)?'<input type="checkbox" class="attendeeGridIsPrimary" id="'+_27dd+'" name="'+_27db+'" checked="checked" />':'<input type="checkbox" class="attendeeGridIsPrimary" id="'+_27dd+'" name="'+_27db+'" />';return _27de;},doclick:function(e){if(e.target.tagName=="INPUT"){var item=e.grid.getItem(e.rowIndex);if(e.target.checked){item.checked=true;}else{item.checked=false;}if(this.checkBoxClicked&&typeof this.checkBoxClicked==="function"){this.checkBoxClicked.call(this,item);}this.resetRows(e.grid,e.rowIndex,this.field,item);if(e.grid.mode=="insert"){this.applyStaticValue(e.rowIndex);}}},resetRows:function(grid,_27df,_27e0,_27e1){var count=grid.rowCount;var _27e2;for(var i=0;i<count;i++){var item=grid.getItem(i);if(item&&item.EntityId!==_27e1.EntityId){_27e2="chk_"+this.field+"_"+item.EntityId;dojo.byId(_27e2).checked=false;grid.store.setValue(item,_27e0,false);}else{if(item&&item.EntityId===_27e1.EntityId){_27e2="chk_"+this.field+"_"+item.EntityId;if(grid.mode=="insert"){grid.store.setValue(item,_27e0,true);}else{if(grid.mode!=="insert"&&item.IsPrimary){grid.store.setValue(item,_27e0,false);}else{if(grid.mode!=="insert"&&!item.IsPrimary){grid.store.setValue(item,_27e0,true);}}}}}}},resetCheckBoxes:function(index){for(var i=0;i<this.checkBoxIds.length;i++){if(index!=i){dojo.byId(this.checkBoxIds[i]).checked=false;}}query(".attendeeGridIsPrimary").forEach(function(node,index,arr){});}});return _27d7;});},"Sage/QuickForms/Design/Editors/TextBoxAdvancedPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/TextBoxAdvancedPropertyEditor",["dojo/_base/declare","dojo/_base/lang","dijit/layout/ContentPane","dijit/form/TextBox","dijit/form/NumberTextBox","dijit/form/Select","Sage/_Templated","./_PropertyEditor","../PropertyValueError","dojo/i18n!./nls/TextBoxAdvancedPropertyEditor"],function(_27e3,lang,_27e4,_27e5,_27e6,_27e7,_27e8,_27e9,_27ea,_27eb){return _27e3("Sage.QuickForms.Design.Editors.TextBoxAdvancedPropertyEditor",[_27e4,_27e9,_27e8],{widgetsInTemplate:true,contentTemplate:new Simplate(["<fieldset><legend>{%= $.appearanceText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlLabelPlacementTooltipText %}">',"<label>{%= $.controlLabelPlacementText %}</label>",'<div data-dojo-type="dijit.form.Select" data-dojo-attach-point="_controlLabelPlacement" data-dojo-attach-event="onChange:_onControlLabelPlacementChange">',"{% for (var placement in $.labelPlacementText) { %}",'<span value="{%= placement %}">{%= $.labelPlacementText[placement] %}</span>',"{% } %}","</div>","</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.visibleTooltipText %}">',"<label>{%= $.visibleText %}</label>",'<div data-dojo-attach-point="_visible" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onVisibleChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.behaviorText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.enabledTooltipText %}">',"<label>{%= $.enabledText %}</label>",'<div data-dojo-attach-point="_enabled" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onEnabledChange"></div>',"</div>",'<div class="editor-field" title="{%= $.maxLengthTooltipText %}">',"<label>{%= $.maxLengthText %}</label>",'<div data-dojo-type="dijit.form.NumberTextBox" data-dojo-attach-point="_maxLength" data-dojo-attach-event="onChange:_onMaxLengthChange" data-dojo-props="constraints:{min:-1,places:0}"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.requiredTooltipText %}">',"<label>{%= $.requiredText %}</label>",'<div data-dojo-attach-point="_required" data-dojo-type="dijit.form.CheckBox" data-dojo-attach-event="onChange:_onRequiredChange"></div>',"</div>","</div>","</fieldset>","<fieldset><legend>{%= $.dataText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.defaultDataBindingTooltipText %}">',"<label>{%= $.defaultDataBindingText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_defaultDataBinding" data-dojo-attach-event="onChange:_onDefaultDataBindingChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">',"</div>","</fieldset>","<fieldset><legend>{%= $.controlInfoText %}</legend>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlIdTooltipText %}">',"<label>{%= $.controlIdText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlId" data-dojo-attach-event="onChange:_onControlIdChange" data-dojo-props="disabled:true"></div>',"</div>","</div>",'<div class="editor-content-half">','<div class="editor-field" title="{%= $.controlTypeTooltipText %}">',"<label>{%= $.controlTypeText %}</label>",'<div data-dojo-type="dijit.form.TextBox" data-dojo-attach-point="_controlType" data-dojo-attach-event="onChange:_onControlTypeChange" data-dojo-props="disabled:true"></div>',"</div>","</div>","</fieldset>"]),_controlType:null,_controlId:null,_enabled:null,_controlLabelPlacement:null,_defaultDataBinding:null,_maxLength:null,_required:null,_visible:null,titleText:"Advanced",appearanceText:"Appearance",behaviorText:"Behavior",controlInfoText:"Control Info",dataText:"Data",controlIdText:"Control Id:",controlIdTooltipText:"Identifier for this control.",controlLabelPlacementText:"Label Placement:",controlLabelPlacementTooltipText:"Label position in relation to the control.",controlTypeText:"Control Type:",controlTypeTooltipText:"Saleslogix control type.",defaultDataBindingText:"Data Bindings:",defaultDataBindingTooltipText:"Data field(s) in the database used by this control.",enabledText:"Enabled:",enabledTooltipText:"Allows user to interact with this control.",maxLengthText:"Max Length:",maxLengthTooltipText:"Maximum number of characters user can enter.",requiredText:"Required:",requiredTooltipText:"Requires a value when saving data.",visibleText:"Visible:",visibleTooltipText:"Show or hide this control on the form.",labelPlacementText:{"left":"Left","right":"Right","top":"Top","none":"None"},constructor:function(){lang.mixin(this,_27eb);},setup:function(){this.inherited(arguments);this._controlType.set("value",this._designer.get("controlName"));this._controlId.set("value",this._designer.get("controlId"));this._enabled.set("value",this._designer.get("enabled"));this._controlLabelPlacement.set("value",this._designer.get("controlLabelPlacement"));this._maxLength.set("value",this._designer.get("maxLength"));this._required.set("value",this._designer.get("required"));this._visible.set("value",this._designer.get("visible"));var _27ec=this._designer.get("defaultDataBinding");this._defaultDataBinding.set("value",(_27ec&&_27ec["DataItemName"])||"");},_onControlTypeChange:function(value){},_onControlIdChange:function(value){},_onDefaultDataBindingChange:function(value){},_onEnabledChange:function(value){if(this.isSuspended()){return;}this._designer.set("enabled",value);},_onControlLabelPlacementChange:function(value){if(this.isSuspended()){return;}this._designer.set("controlLabelPlacement",value);},_onMaxLengthChange:function(value){if(this.isSuspended()||!this._maxLength.isValid()){return;}this._designer.set("maxLength",value);},_onRequiredChange:function(value){if(this.isSuspended()){return;}this._designer.set("required",value);},_onVisibleChange:function(value){if(this.isSuspended()){return;}this._designer.set("visible",value);}});});},"Sage/UI/Calendar":function(){define("Sage/UI/Calendar",["dijit/Calendar","dojo/_base/declare"],function(_27ed,_27ee){var _27ef=_27ee("Sage.UI.Calendar",_27ed,{_dateModifiedExternal:false,displayMode:"",constructor:function(_27f0){this.displayMode=_27f0.displayMode;var self=this;if(this.displayMode==="popup"){dojo.connect(this,"_setValueAttr",function(value,_27f1){if(value){value=new self.dateClassObj(value);}if(self._isValidDate(value)){value.setHours(1,0,0,0);if(!self.isDisabledDate(value,self.lang)){self._set("value",value);if(self.monthWidget&&self.monthWidget.dropDown){self.set("currentFocus",value);}if(_27f1||typeof _27f1=="undefined"){self.onChange(self.get("value"));}}}else{self._set("value",null);self.set("currentFocus",self.currentFocus);}});}else{dojo.subscribe("/entity/activity/calendar/schedulerDateChanged",function(data){(function(){self._dateModifiedExternal=true;self.set("value",data.date);self._dateModifiedExternal=false;})();});dojo.connect(this,"_setCurrentFocusAttr",function(date){self.set("value",date);});}this.inherited(arguments);},onValueSelected:function(date){if(this.displayMode!="popup"){if(!this._dateModifiedExternal){this._dateModifiedExternal=false;dojo.publish("/entity/activity/calendar/navigationCalendarDateChanged",[date,this]);this._dateModifiedExternal=false;}}},getClassForDate:function(date){var day=date.getDay();if((day===6)||(day===0)){return"dijitCalendarWeekEndDate";}}});return _27ef;});},"Sage/QuickForms/Design/nls/EmailControlDesigner":function(){define("Sage/QuickForms/Design/nls/EmailControlDesigner",["Sage/LanguageList","dojo/_base/lang"],function(_27f2,lang){var nls={root:{displayNameText:"Email"}};return lang.mixin(_27f2,nls);});},"Sage/MainView/JobManager":function(){define("Sage/MainView/JobManager",["Sage/UI/SDataMainViewConfigurationProvider","Sage/UI/ListPanel","Sage/Utility","Sage/MainView/JobMgr/JobManagerGroupContextService","Sage/MainView/JobMgr/FilterConfigurationProvider","dojo/_base/declare","Sage/MainView/JobMgr/JobManagerActions"],function(_27f3,_27f4,_27f5,_27f6,_27f7,_27f8){var _27f9=_27f8("Sage.MainView.JobManager",_27f3,{_currentTabId:false,_currentTabDescription:false,_currentKeyField:"$key",_groupContextService:false,_tabNameCache:{},_mainViewName:"JobManager",store:false,constructor:function(_27fa){var _27fb=Sage.Services.getService("ClientGroupContext");if(!_27fb||_27fb.declaredClass!=="Sage.MainView.JobMgr.JobManagerGroupContextService"){Sage.Services.removeService("ClientGroupContext");_27fb=new JobManagerGroupContextService();Sage.Services.addService("ClientGroupContext",_27fb);}var ctx=_27fb.getContext();this._currentTabId=ctx.CurrentGroupID;this._currentTabDescription=ctx.CurrentName;this.titlePaneConfiguration={tabs:this._getTabsConfig(),menu:this._getMenuConfig(),titleFmtString:"${0}"};dojo.subscribe("/group/context/changed",this,"_onCurrentGroupChanged");},_setListPanelConfig:function(){var _27fc=Sage.Services.getService("ClientGroupContext");if(_27fc){this.listPanelConfiguration=_27fc.getCurrentListConfig();this.store=this.listPanelConfiguration.list.store;this.service=this.listPanelConfiguration.list.store.service;}},_getListPanelConfig:function(){this._setListPanelConfig();return this.listPanelConfiguration;},requestConfiguration:function(_27fd){if(_27fd.success){_27fd.success.call(_27fd.scope||this,this._getListPanelConfig(),this);}},requestTitlePaneConfiguration:function(_27fe){if(_27fe.success){_27fe.success.call(_27fe.scope||this,this.titlePaneConfiguration,this);}},_setUIForNewTab:function(tabId,_27ff){this._currentTabId=tabId;this._currentTabDescription=_27ff;},_onCurrentGroupChanged:function(args){var _2800=args["current"];if(!_2800){var _2801=Sage.Services.getService("ClientGroupContext");_2800=_2801.getContext();}if(dijit.byId("GroupTabs").selectedChildWidget.id!==_2800.CurrentGroupID){dijit.byId("GroupTabs").selectChild(_2800.CurrentGroupID);}},_onTabSelected:function(tab){var _2802=Sage.Services.getService("ClientGroupContext");var id=tab.id||tab;var _2803=_2802.getKeyField(id);if(_2802){var ctx=_2802.getContext();if(ctx.CurrentGroupID===id){return;}this._setUIForNewTab(id,tab.title);_2802.setCurrentGroup(id,tab.title,_2803);}},_getTabsConfig:function(){var _2804={store:false,selectedTabId:this._currentTabId,tabKeyProperty:"key",tabNameProperty:"descriptor",fetchParams:{},staticTabs:this._getStaticTabs(),onTabSelect:dojo.hitch(this,"_onTabSelected"),onTabClose:false,showTabContextMenus:false};return _2804;},_getStaticTabs:function(){var _2805=Sage.Services.getService("ClientGroupContext");var _2806=_2805.getStaticTabs();return _2806;},_getMenuConfig:function(){return false;}});return _27f9;});},"Sage/UI/Controls/nls/Lookup":function(){define("Sage/UI/Controls/nls/Lookup",["Sage/LanguageList","dojo/_base/lang"],function(_2807,lang){var nls={root:{buttonToolTip:"Find",closeButtonToolTip:"Remove"}};return lang.mixin(_2807,nls);});},"Sage/Utility/File/nls/DescriptionsForm":function(){define("Sage/Utility/File/nls/DescriptionsForm",["Sage/LanguageList","dojo/_base/lang"],function(_2808,lang){var nls={root:{titleFmt:"Add Attachment(s) for ${0}",titleLibraryDoc:"Add Library Document (s)",fileNameText:"File name and size: ",descText:"Description:",okText:"OK",cancelText:"Cancel"}};return lang.mixin(_2808,nls);});},"Sage/TaskPane/OpportunityTasksTasklet":function(){define("Sage/TaskPane/OpportunityTasksTasklet",["dojo/i18n!./nls/OpportunityTasksTasklet","Sage/TaskPane/_BaseTaskPaneTasklet","Sage/TaskPane/TaskPaneContent","Sage/MainView/Opportunity/UpdateOpportunities","Sage/MainView/Opportunity/OpportunityStatistics","dojo/_base/declare"],function(_2809,_280a,_280b,_280c,_280d,_280e){var _280f=_280e("Sage.TaskPane.OpportunityTasksTasklet",[_280a,_280b],{updateOpportunitiesTitle:"Update Opportunities",opportunityStatisticsTitle:"Opportunity Statistics",taskItems:[],constructor:function(){dojo.mixin(this,_2809);this.taskItems=[{taskId:"UpdateOpportunities",type:"Link",displayName:this.updateOpportunitiesTitle,clientAction:"opportunityTasksActions.updateOpportunities();",securedAction:"Entities/Opportunity/MultiUpdate"},{taskId:"OpportunityStatistics",type:"Link",displayName:this.opportunityStatisticsTitle,clientAction:"opportunityTasksActions.opportunityStatistics();",securedAction:"Entities/Opportunity/OpportunityStatistics"}];},updateOpportunities:function(){this.prepareSelectedRecords(this.updateOpportunitiesActionItem(this.getSelectionInfo()));},updateOpportunitiesActionItem:function(_2810){return function(){var _2811=dijit.byId("dlgUpdateMultipleOpps");if(!_2811){_2811=new _280c(_2810);}else{_2811.setSelectionInfo(_2810);}_2811.show();};},opportunityStatistics:function(){this.prepareSelectedRecords(this.opportunityStatisticsActionitem(this.getSelectionInfo()));},opportunityStatisticsActionitem:function(_2812){return function(){var _2813=new _280d(_2812);_2813.show();};}});return _280f;});},"Sage/UI/Controls/SimpleTextarea":function(){define("Sage/UI/Controls/SimpleTextarea",["dijit/form/SimpleTextarea","dojo/_base/declare"],function(_2814,_2815){var _2816=_2815("Sage.UI.Controls.SimpleTextarea",[_2814],{baseClass:"dijitTextBox dijitTextArea sageTextArea",templateString:"<div><textarea ${!nameAttrSetting} dojoAttachPoint='focusNode,containerNode,textbox' autocomplete='off'></textarea></div>",hotKey:"",multiLineMaxLength:"",shouldPublishMarkDirty:true,_setHotKeyAttr:{node:"textbox",type:"attribute",attribute:"accessKey"},constructor:function(args){this.maxLength=args.multiLineMaxLength;},onChange:function(e){if(this.shouldPublishMarkDirty){dojo.publish("Sage/events/markDirty");}this.inherited(arguments);}});return _2816;});},"Sage/UI/SLXPreviewGrid/FilterPanel":function(){define("Sage/UI/SLXPreviewGrid/FilterPanel",["dijit/form/Button","dijit/_Widget","Sage/Utility/_LocalStorageMixin","dojo/i18n!../nls/SLXPreviewGrid","dojo/_base/declare"],function(_2817,_2818,_2819,_281a,_281b){var _281c=_281b("Sage.UI.SLXPreviewGrid.FilterPanel",[_2818,_2819],{_filters:null,_state:{},STORE_NS:"SAGE_UI_EDITABLEGRID",STORE_KEY_FILTERINFO:"_FILTER_INFO_",applyText:"Apply",resetText:"Reset",constructor:function(){this._filters=[];},postMixInProperties:function(){dojo.mixin(this,_281a);this._loadState();this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.domNode.className="filterPanel";var left=document.createElement("div");left.style.styleFloat=left.style.cssFloat="left";left.style.width="39%";var right=document.createElement("div");right.style.styleFloat=right.style.cssFloat="left";right.style.width="39%";var _281d=this._state["filterStates"]||{};var _281e=left;dojo.forEach(this.filterConfig,function(item,index,ar){if(_281e===left&&index+1>ar.length/2){_281e=right;}var _281f=document.createElement("div");_281f.className="filterItem";var _2820=this._createFilter(item);if(_281d[item.field]&&_2820.applyState){_2820.applyState(_281d[item.field]);}this._filters.push(_2820);if(item.label){var lbl=document.createElement("label");lbl.appendChild(document.createTextNode(item.label+":"));lbl.className="filterPanelLabel";lbl.htmlFor=_2820.domNode.id;_281f.appendChild(lbl);}_281f.appendChild(_2820.domNode);_281e.appendChild(_281f);},this);var _2821=document.createElement("div");_2821.style.styleFloat=_2821.style.cssFloat="left";_2821.style.width="20%";_2821.className="filterButtonPanel";var btnOk=new _2817({label:this.applyText});_2821.appendChild(btnOk.domNode);dojo.connect(btnOk,"onClick",this,"_applyFilter");var _2822=new _2817({label:this.resetText});_2821.appendChild(_2822.domNode);dojo.connect(_2822,"onClick",this,"_resetFilter");dojo.connect(this.domNode,"keydown",this,function(e){if(e.keyCode===13){this._applyFilter();}});this.domNode.appendChild(left);this.domNode.appendChild(right);this.domNode.appendChild(_2821);},startup:function(){this.inherited(arguments);dojo.forEach(this._filters,function(item){item.startup();});if(this._state["visible"]&&this._state["visible"]===true){this.toggle();}},destroy:function(){dojo.forEach(this._filters,function(item){item.destroy(false);});dojo.forEach(dijit.findWidgets(this.domNode),function(wid){wid.destroy(false);});this.inherited(arguments);},getQuery:function(){var c=[];dojo.forEach(this._filters,function(f){var q=f.getQuery();if(q){c.push(q);}});return c.length>0?c.join(" and "):null;},toggle:function(){if(this.domNode.style.display==="none"){this.domNode.style.display="block";this._state["visible"]=true;}else{this.domNode.style.display="none";this._state["visible"]=false;}this._saveState();},onFilterApply:function(_2823){},_createFilter:function(_2824){var c=_2824.widgetType;return new c(_2824);},_applyFilter:function(){var _2825={};for(var i=0;i<this._filters.length;i++){var f=this._filters[i];if(f.getState){_2825[f.field]=f.getState();}}this._state["filterStates"]=_2825;this._saveState();this.onFilterApply(this.getQuery());},_resetFilter:function(){dojo.forEach(this._filters,function(f){f.reset();});this._applyFilter();},_saveState:function(){var key=this.STORE_KEY_FILTERINFO+this.id;this.saveToLocalStorage(key,this._state,this.STORE_NS);},_loadState:function(){var key=this.STORE_KEY_FILTERINFO+this.id;this._state=this.getFromLocalStorage(key,this.STORE_NS)||{};}});return _281c;});},"Sage/QuickForms/Design/Editors/nls/NumericBasicPropertyEditor":function(){define("Sage/QuickForms/Design/Editors/nls/NumericBasicPropertyEditor",["Sage/LanguageList","dojo/_base/lang"],function(_2826,lang){var nls={root:{titleText:"Basic",appearanceText:"Appearance",behaviorText:"Behavior",captionText:"Caption:",captionTooltipText:"The label to display on the form for this control.",captionAlignmentText:"Caption Alignment:",captionAlignmentTooltipText:"Justification of the label text.",isReadOnlyText:"Read Only:",isReadOnlyTooltipText:"Does not allow edits.",toolTipText:"Tooltip:",toolTipTooltipText:"Short help text about control.",alignmentText:{left:"Left",center:"Center",right:"Right"}}};return lang.mixin(_2826,nls);});},"Sage/TaskPane/nls/CommonTasksTasklet":function(){define("Sage/TaskPane/nls/CommonTasksTasklet",["Sage/LanguageList","dojo/_base/lang"],function(_2827,lang){var nls={root:{okButtonText:"OK",loadingText:"loading...",noPrimaryEmail:"No primary email available",selectFileFormat:"Select a file format:",exportToFile_OptionCSV:"Standard CSV",exportToFile_OptionTab:"Tab delimited (recommended for Microsoft Excel)",exportToFile_OptionSaveFormat:"Remember my selection and do not ask again.",exportToFile_OK:"OK",exportToFile_Cancel:"Cancel",exportToFile_DialogTitle:"Export to File",exportToExcel_Caption:"Exporting to Excel",errorRequestingJobMgr:"An error occurred requesting job manager: ${0}",errorExecutionAction:"An error occurred executing action ${0}",exportProcessingJobMsg:"Processing export, you may continue waiting for completion, or go to the reports view to open your file."}};return lang.mixin(_2827,nls);});},"Sage/Utility/File":function(){define("Sage/Utility/File",["Sage/UI/Dialogs","dojo/number","dojo/_base/lang","dojo/i18n!./nls/File"],function(_2828,_2829,lang,_282a){Sage.namespace("Utility.File");Sage.Utility.File={fileType:{ftAttachment:0,ftLibraryDocs:1},supportsHTML5File:(window.File&&window.FileReader&&window.FileList&&window.Blob),fileUploadOptions:{maxFileSize:4000000},init:function(_282b){if(_282b){this.fileUploadOptions=_282b;}},isFileSizeAllowed:function(files){var l=0;var _282c=Sage.Utility.File.fileUploadOptions.maxFileSize;var title=_282a.largeFileWarningTitle;var msg=_282a.largeFileWarningText;for(var i=0;i<files.length;i++){if(files[i].size===0){}else{l+=files[i].size||files[i].blob.length;}}if(l>(_282c)){_2828.showError(msg,title);return false;}return true;},uploadFile:function(file,url,_282d,_282e,error,scope,asPut){if(!Sage.Utility.File.isFileSizeAllowed([file])){return;}if(Sage.gears){this._uploadFileGears(file,url,_282d,_282e,error,scope,asPut);}else{if(this.supportsHTML5File){if((window.FileReader.prototype.readAsBinaryString)||(window.FileReader.prototype.readAsArrayBuffer)){this._uploadFileHTML5_asBinary(file,url,_282d,_282e,error,scope,asPut);}else{this._uploadFileHTML5(file,url,_282d,_282e,error,scope,asPut);}}else{this._showUnableToUploadError();}}},uploadFileHTML5:function(file,url,_282f,_2830,error,scope,asPut){if(!Sage.Utility.File.isFileSizeAllowed([file])){return;}if(this.supportsHTML5File){if((window.FileReader.prototype.readAsBinaryString)||(window.FileReader.prototype.readAsArrayBuffer)){this._uploadFileHTML5_asBinary(file,url,_282f,_2830,error,scope,asPut);}else{this._uploadFileHTML5(file,url,_282f,_2830,error,scope,asPut);}}else{this._showUnableToUploadError();}},_uploadFileGears:function(file,url,_2831,_2832,error,scope,asPut){if(!window.Sage&&!Sage.gears){this._showUnableToUploadError();return;}if(_2831){_2831.call(scope,null);}if(!url){url="slxdata.ashx/slx/system/-/attachments/file?format=json";}var _2833=Sage.gears.factory.create("beta.httprequest");_2833.open((asPut)?"PUT":"POST",url);var _2834="---------------------------"+(new Date()).getTime();var _2835="--";var crlf="\r\n";var _2836=Sage.gears.factory.create("beta.blobbuilder");_2836.append(_2835);_2836.append(_2834);_2836.append(crlf);_2836.append('Content-Disposition: attachment; name="file_"');if(file.name){_2836.append('; filename*="'+encodeURI(file.name)+'"');}_2836.append(crlf);_2836.append("Content-Type: application/octet-stream");_2836.append(crlf);_2836.append(crlf);_2836.append(file.blob);_2836.append(crlf);_2836.append(_2835);_2836.append(_2834);_2836.append(_2835);_2836.append(crlf);if(typeof(_2832)==="function"){_2833.onreadystatechange=function(){if(_2833.readyState===4){if(Math.floor(_2833.status/100)!==2){if(typeof(error)==="function"){error.call(scope||this,_2833);}}else{_2832.call(scope||this,_2833);}}};}if(typeof(_2831)==="function"){_2833.upload.onprogress=function(prog){_2831.call(scope||this,prog);};}_2833.setRequestHeader("Content-Type","multipart/attachment; boundary="+_2834);var blob=_2836.getAsBlob();_2833.send(blob);},_uploadFileHTML5:function(file,url,_2837,_2838,error,scope,asPut){if(!this.supportsHTML5File||!window.FormData){this._showUnableToUploadError();return;}if(_2837){_2837.call(scope,null);}if(!url){url="slxdata.ashx/slx/system/-/attachments/file";}var fd=new FormData();fd.append("file_",file,file.name);var _2839=new XMLHttpRequest();_2839.open((asPut)?"PUT":"POST",url);_2839.setRequestHeader("X-Requested-With","XMLHttpRequest");if(_2838){_2839.onreadystatechange=function(){if(_2839.readyState===4){if(Math.floor(_2839.status/100)!==2){if(error){error.call(scope||this,_2839);}}else{_2838.call(scope||this,_2839);}}};}if(_2837){_2839.upload.addEventListener("progress",function(e){_2837.call(scope||this,e);});}_2839.send(fd);},_uploadFileHTML5_asBinary:function(file,url,_283a,_283b,error,scope,asPut){if(!this.supportsHTML5File){this._showUnableToUploadError();return;}if(_283a){_283a.call(scope,null);}window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(!url){url="slxdata.ashx/slx/system/-/attachments/file";}var _283c=new XMLHttpRequest();_283c.open((asPut)?"PUT":"POST",url);_283c.setRequestHeader("X-Requested-With","XMLHttpRequest");var _283d=new FileReader();_283d.onload=lang.hitch(this,function(evt){var _283e,_283f,_2840,crlf,bb,_2841,_2842,_2843;_2842=new FileReader();try{new Blob();bb=[];}catch(e){bb=new window.BlobBuilder();_2841=true;}_283e=evt.target.result;_283f="---------------------------"+(new Date()).getTime();_2840="--";crlf="\r\n";this._append(bb,_2840+_283f+crlf);this._append(bb,"Content-Disposition: attachment; ");this._append(bb,'name="file_"; ');this._append(bb,'filename*="'+encodeURI(file.name)+'" ');this._append(bb,crlf);this._append(bb,"Content-Type: "+file.type);this._append(bb,crlf+crlf);this._append(bb,_283e);this._append(bb,crlf);this._append(bb,_2840+_283f+_2840+crlf);if(_283b){_283c.onreadystatechange=function(){if(_283c.readyState===4){if(Math.floor(_283c.status/100)!==2){if(error){error.call(scope||this,_283c);}}else{_283b.call(scope||this,_283c);}}};}if(_283a){_283c.upload.addEventListener("progress",function(e){_283a.call(scope||this,e);});}_283c.setRequestHeader("Content-Type","multipart/attachment; boundary="+_283f);if(_2841){_2843=bb.getBlob(file.type);}else{_2843=new Blob(bb);}_2842.onload=function(e){_283c.send(e.target.result);};try{_283c.send(_2843);}catch(e){_2842.readAsArrayBuffer(_2843);}});_283d.readAsArrayBuffer(file);},_append:function(_2844,data){if(_2844&&_2844.constructor===Array){_2844.push(data);}else{_2844.append(data);}},_showUnableToUploadError:function(){_2828.showError(_282a.unableToUploadText);},formatFileSize:function(size){size=parseInt(size,10);if(size===0){return"0 KB";}if(!size||size<0){return _282a.unknownSizeText;}if(size<1024){return"1 KB";}return _2829.format(Math.round(size/1024))+" KB";}};return Sage.Utility.File;});},"Sage/UI/ConditionManager":function(){define("Sage/UI/ConditionManager",["Sage/_Templated","dijit/_Widget","dijit/form/Select","dijit/form/Button","Sage/UI/ImageButton","Sage/UI/SearchConditionWidget","Sage/Utility","dojo/i18n!./nls/ConditionManager","dojo/_base/declare"],function(_2845,_2846,_2847,_2848,_2849,_284a,util,nls,_284b){var _284c=_284b("Sage.UI.ConditionManager",[_2846,_2845],{widgetsInTemplate:true,srchBtnCaption:"Search",addrowlabel:"Lookup by:",hiderowlabel:"And:",hideimgurl:"images/icons/Find_Remove_16x16.gif",addimgurl:"images/icons/Find_Add_16x16.gif",hideimgalttext:"Remove Condition",addimgalttext:"Add Condition",errorOperatorRequiresValue:"The operator requires a value",equalTo:"Equal to",notEqualTo:"Not Equal to",startingWith:"Starting With",contains:"Contains",equalOrLessThan:"Equal or Less than",equalOrGreaterThan:"Equal or Greater than",lessThan:"Less than",greaterThan:"Greater than",operators:null,fields:null,fieldsHash:null,fieldNameProperty:"fieldname",fieldDisplayNameProperty:"displayname",fieldTypeProperty:"propertyType",fieldPickListNameProperty:"pickListName",conditionWidgets:null,widgetConnects:null,widgetTemplate:new Simplate(['<div id="{%= $.id %}" class="lookup-condition-manager">','<table cellspacing="0" cellpadding="3">','<tr><td><div dojoAttachPoint="conditions"></div></td></tr>',"</table>",'<div class="lookup-condition-actions">','<button id="{%= $.id %}-Search" data-dojo-type="dijit.form.Button" type="button" dojoAttachPoint="searchButton" dojoAttachEvent="onClick:_doSearch">{%= $.srchBtnCaption %}</button>',"</div>","</div>"]),isSettingValues:false,id:"",constructor:function(){this.conditionWidgets={};this.operators={};this.fieldsHash={};this.fields=[];this.widgetConnects=[];},destroy:function(){var wid,i;for(i=0;i<this.widgetConnects.length;i++){dojo.disconnect(this.widgetConnects[i]);}for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].destroy){this.conditionWidgets[wid].destroy();}}}this.inherited(arguments);},postMixInProperties:function(){dojo.mixin(this,nls);this.inherited(arguments);},getOperatorsByField:function(field){var _284d,_284e,_284f,_2850,_2851;_284d=[{value:"eq",label:this.equalTo,selected:false,disabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false}];_284e=[{value:"sw",label:this.startingWith,selected:false,disabled:false},{value:"like",label:this.contains,selected:false,diabled:false},{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false},{value:"le",label:this.equalOrLessThan,selected:false,diabled:false},{value:"ge",label:this.equalOrGreaterThan,selected:false,diabled:false},{value:"lt",label:this.lessThan,selected:false,diabled:false},{value:"gt",label:this.greaterThan,selected:false,diabled:false}];_284f=[{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false},{value:"le",label:this.equalOrLessThan,selected:false,diabled:false},{value:"ge",label:this.equalOrGreaterThan,selected:false,diabled:false},{value:"lt",label:this.lessThan,selected:false,diabled:false},{value:"gt",label:this.greaterThan,selected:false,diabled:false}];_2850=[{value:"eq",label:this.equalTo,selected:false,diabled:false},{value:"ne",label:this.notEqualTo,selected:false,diabled:false}];_2851={"System.Boolean":{options:_284d},"Boolean":{options:_284d},"System.String":{options:_284e},"SalesLogix.PickList":{options:_2850},"Sage.Entity.Interfaces.UserType":{options:_284f},"Sage.Entity.Interfaces.OwnerType":{options:_284f},"System.DateTime":{options:_284f},"DateTime":{options:_284f},"Phone":{options:_284e},"User":{options:_284e},"Owner":{options:_284e},"System.Double":{options:_284f},"System.Int32":{options:_284f},"System.Int16":{options:_284f},"System.Decimal":{options:_284f},"Fixed":{options:_284f},"Decimal":{options:_284f},"Integer":{options:_284f},"Positive Integer":{options:_284f},"Currency":{options:_284f},"Percent":{options:_284f},"defaultOperators":{options:_284e},"None":{options:_284e}};if((field.hasOwnProperty(this.fieldTypeProperty))&&(_2851.hasOwnProperty(field[this.fieldTypeProperty]))){return _2851[field[this.fieldTypeProperty]].options;}return _2851.defaultOperators&&_2851.defaultOperators.options;},getConditionsAsUrlWhereString:function(){var conds=this.getConditions(),_2852=[],_2853=null,i,_2854,lhd,rhd,lhs,rhs,_2855;for(i=0;i<conds.length;i++){_2853=conds[i].val;if(typeof _2853==="string"){_2853=_2853.replace(/%/g,"");}if(_2853.constructor===Date){if(conds[i].operator==="eq"||conds[i].operator==="ne"){lhd=_2853;rhd=_2853;lhd.setHours(0);lhd.setMinutes(0);lhd.setSeconds(0);lhs=util.Convert.toIsoStringFromDate(lhd);rhd.setHours(23);rhd.setMinutes(59);rhd.setSeconds(59);rhs=util.Convert.toIsoStringFromDate(rhd);_2855={field:conds[i].fieldname,leftOp:"gt",leftVal:lhs,rightOp:"lt",rightVal:rhs,join:"and"};if(conds[i].operator==="ne"){_2855.leftOp="lt";_2855.rightOp="gt";_2855.join="or";}_2852.push(dojo.string.substitute("(${field} ${leftOp} '${leftVal}' ${join} ${field} ${rightOp} '${rightVal}')",_2855));continue;}else{if(conds[i].operator==="le"||conds[i].operator==="gt"){_2853.setHours(23);_2853.setMinutes(59);_2853.setSeconds(59);}else{if(conds[i].operator==="ge"||conds[i].operator==="lt"){_2853.setHours(0);_2853.setMinutes(0);_2853.setSeconds(0);}}}_2853=util.Convert.toIsoStringFromDate(_2853);}_2854={field:conds[i].fieldname,op:conds[i].operator,val:_2853};var fld=this.getField(conds[i].fieldname);if(fld&&fld.propertyType==="SalesLogix.PickList"){if(typeof _2853==="object"&&_2853[0]){_2854.val=_2853[0];}}if(_2854.op==="like"){_2854.val=["%",_2854.val,"%"].join("");}else{if(_2854.op==="sw"){_2854.op="like";_2854.val+="%";}}if(typeof _2854.val==="string"){_2854.val=['"',_2854.val.toUpperCase(),'"'].join("");_2854.field=["upper(",_2854.field,")"].join("");}_2852.push([_2854.field," ",_2854.op," ",_2854.val].join(""));}return _2852.join(" and ");},getField:function(_2856){if(this.fieldsHash&&this.fieldsHash.hasOwnProperty(_2856)){return this.fieldsHash[_2856];}return false;},getConditionsJSON:function(){var i=0,_2857=this.getConditions(),_2858,_2859;for(i=0;i<_2857.length;i++){_2859=_2857[i];_2858=_2857[i].val;if(_2858.constructor===Date){_2858=util.Convert.toIsoStringFromDate(_2858);}_2857[i].val=_2858;}return Sys.Serialization.JavaScriptSerializer.serialize(_2857);},getConditions:function(){var conds=[],wid,c;for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].getCondition){c=this.conditionWidgets[wid].getCondition();if(c){conds.push(c);}}}}return conds;},resetConditions:function(){var wid,i;for(i=0;i<this.widgetConnects.length;i++){dojo.disconnect(this.widgetConnects[i]);}for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){if(this.conditionWidgets[wid].getCondition){this._removeCondition(this.conditionWidgets[wid]);}}}this._setInitialCondition();},_doSearch:function(){this.onDoSearch(this.getConditions());},_setFieldsAttr:function(_285a){var i;this.fields=_285a;this.fieldsHash={};for(i=0;i<_285a.length;i++){this.fieldsHash[_285a[i][this.fieldNameProperty]]=_285a[i];}this.resetConditions();},setFirstConditionValue:function(field,op,value){var prop,wid;for(prop in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(prop)){wid=this.conditionWidgets[prop];if(wid.isFirstCondition){wid.defaultOperator=op;wid.defaultField=field;wid.defaultValue=value;wid.refreshDefaults();}}}},addCondition:function(field,op,value,_285b){var count=this._conditionCount(),_285c=new _284a({conditionManager:this,label:this.hiderowlabel,isFirstCondition:false,defaultField:field,defaultOperator:op,defaultValue:value,id:this.id+"-SearchCondition"+count,visible:_285b});this.widgetConnects.push(dojo.connect(_285c,"onRemoveLookupCondition",this,"_removeCondition"));dojo.place(_285c.domNode,this.conditions);_285c.startup();this.conditionWidgets[_285c.id]=_285c;},_setInitialCondition:function(){var self=this,wid=new _284a({conditionManager:self,label:self.addrowlabel,isFirstCondition:true,id:self.id+"-SearchCondition0",visible:true});this.widgetConnects.push(dojo.connect(wid,"onAddLookupCondition",self,"_addCondition"));self.conditionWidgets[wid.id]=wid;dojo.place(wid.domNode,self.conditions);wid.startup();},_addCondition:function(){var count=this._conditionCount(),_285d=new _284a({conditionManager:this,label:this.hiderowlabel,isFirstCondition:false,id:this.id+"-SearchCondition"+count,visible:true});this.widgetConnects.push(dojo.connect(_285d,"onRemoveLookupCondition",this,"_removeCondition"));this.conditionWidgets[_285d.id]=_285d;dojo.place(_285d.domNode,this.conditions);_285d.startup();},_removeCondition:function(_285e){var id=_285e.id;_285e.destroyRecursive();delete (this.conditionWidgets[id]);},_conditionCount:function(){var count=0,wid;for(wid in this.conditionWidgets){if(this.conditionWidgets.hasOwnProperty(wid)){count+=1;}}return count;},onDoSearch:function(args){}});return _284c;});},"Sage/MainView/ReportMgr/ReportsListPanelConfig":function(){define("Sage/MainView/ReportMgr/ReportsListPanelConfig",["Sage/MainView/ReportMgr/BaseListPanelConfig","Sage/MainView/ReportMgr/ReportsSDataSummaryFormatterScope","dojo/_base/declare","dojo/i18n!./nls/ReportsListPanelConfig","Sage/Data/SDataServiceRegistry","Sage/UI/Columns/DateTime","dojo/_base/lang","Sage/MainView/ReportMgr/ReportManagerFormatter"],function(_285f,_2860,_2861,_2862,_2863,_2864,_2865,_2866){var _2867=_2861("Sage.MainView.ReportMgr.ReportsListPanelConfig",[_285f],{keyField:"$key",_listId:"Reports",_resourceKind:"reports",_contextMenu:"ReportManagerListContextMenu",_currentListContextSubMenu:"ReportsListContextMenu",constructor:function(){_2865.mixin(this,_2862);this._service=_2863.getSDataService("system");this._structure=this._getStructure();this._select=this._getSelect();this._where=this._getWhere();this._include=this._getInclude();this._store=this._getStore();this.list=this._getListConfig();this.detail=this._getDetailConfig();this.toolBar=this._getToolBars();this.list.selectionMode="single";},_getStructure:function(){return[{field:"displayName",name:this.colNameReportName,width:"100px"},{field:"mainTable",name:this.colNameTable,width:"50px",formatter:_2866.formatProperCase},{field:"createUser",name:this.colNameCreateUser,width:"50px",formatter:_2866.formatGetUserById},{field:"createDate",name:this.colNameCreateDate,width:"50px",type:_2864},{field:"modifyUser",name:this.colNameModifyUser,width:"50px",formatter:_2866.formatGetUserById},{field:"modifyDate",name:this.colNameModifyDate,width:"50px",type:_2864}];},_getSelect:function(){return["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"];},_getWhere:function(){return"";},_getSort:function(){var sort=[{attribute:"displayName",descending:false}];return sort;},_getInclude:function(){var _2868=[];return _2868;},_getSummaryListRequestConfig:function(){var _2869={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"],include:[],sort:this._getSort(),useBatchRequest:false};return _2869;},_getFormatterScope:function(){var _286a=this._getSummaryListRequestConfig();var _286b=new _2860({templateLocation:"MainView/ReportMgr/templates/ReportsListSummary.html",resetDataManager:true,requestConfiguration:_286a});return _286b;},_getSummaryDetailRequestConfig:function(){var _286c={resourceKind:this._resourceKind,serviceName:"system",keyField:"$key",select:["displayName","mainTable","createUser","createDate","modifyUser","modifyDate"],include:[],useBatchRequest:false};return _286c;},_getDetailConfig:function(){var _286d=this._getFormatterScope();var _286e=this._getSummaryDetailRequestConfig();var _286f={resourceKind:this._resourceKind,requestConfiguration:_286e,templateLocation:"MainView/ReportMgr/Templates/ReportDetailSummary.html"};return _286f;},_getToolBars:function(){var _2870={items:[]};return _2870;}});return _2867;});},"Sage/UI/Alarms/JobNotificationButton":function(){define("Sage/UI/Alarms/JobNotificationButton",["dojo/_base/declare","Sage/_Templated","dijit/_Widget","Sage/Utility","dojo/string","Sage/Data/SDataStore","dijit/form/ComboButton","dojo/i18n!./nls/JobNotificationButton","dojo/_base/event","dojo/_base/lang","dojo/dom-class","Sage/UI/Alarms/JobNotificationPopup","Sage/UI/ImageButton","Sage/Services/UserOptions"],function(_2871,_2872,_2873,_2874,_2875,_2876,_2877,_2878,event,lang,_2879){var _287a=_2871("Sage.UI.Alarms.JobNotificationButton",[_2873,_2872],{options:{displayJobNotificationsInToolbar:true,pollInterval:5},widgetsInTemplate:true,pollInterval:5,_notificationsCountKey:"NotificationsCount",_started:false,_notificationBtnVisible:false,widgetTemplate:new Simplate(['<span id="jobNotification" data-dojo-attach-point="_jobNotification" class="alarm-button-container alarm-button notification-buttonIcon display-none">','<button data-dojo-type="dijit.form.ComboButton" data-dojo-attach-point="_button" data-dojo-attach-event="onClick:_cboClick" class="" >','<div data-dojo-type="Sage.UI.Alarms.JobNotificationPopup" id="notificationPopup" data-dojo-attach-point="_popup" data-dojo-attach-event="onClose:_popupClosed"></div>',"</button>","</span>"]),_setPollIntervalAttr:function(val){this.pollInterval=val;},_getPollIntervalAttr:function(){return this.pollInterval;},startup:function(){if(this._started){return;}var _287b=Sage.Services.getService("JobService");var _287c=_287b.getSchedulingSDataService();this._service=_287c;this.inherited(arguments);dojo.subscribe("/job/execution/changed",this,this._notificationChanged);dojo.subscribe("/job/execution/setNotificationCount",this,this._setNotificationCount);var _287d=Sage.Services.getService("UserOptions");if(_287d){_287d.getByCategory("ActivityAlarm",this._receivedOptions,this);}if(this._button.valueNode){this.connect(this._button.valueNode,"click",function(e){event.stop(e);});}},_receivedOptions:function(){this._popup.set("options",this.options);if(this.options.displayJobNotificationsInToolbar&&this.pollInterval>0){var self=this;window.setTimeout(function(){self._poll();},15000);}this._started=true;},_poll:function(){if(this._service){this._notificationStore=new _2876({id:"Executions",service:this._service,resourceKind:"executions",include:["$descriptors"],select:["$key","user"]});this._notificationStore.fetch({start:0,onComplete:this._onReceiveCounts,onError:this._countsFailed,scope:this});}},_onReceiveCounts:function(data){this._saveToSessionStorage(this._notificationsCountKey,data?data.length:0);this._initializeButton();var self=this;window.setTimeout(function(){self._poll();},this.pollInterval*60000);},_countsFailed:function(req){this._button.set("label"," ?");this._button.set("title",_2878.notificationErrorToolTip);this._button.disabled=true;this._showNotificationButton();try{Sage.Utility.ErrorHandler._configuration.preemption.showUnhandledMessagingServiceExceptionMsg=false;}catch(e){}},_initializeButton:function(){var _287e=this._getFromSessionStorage(this._notificationsCountKey)||0;if(_287e>0){this._button.set("label"," "+_287e+" ");this._button.set("title",_2875.substitute(_2878.notificationToolTip,[_287e]));this._showNotificationButton();}else{this._hideNotificationButton();}},_setNotificationCount:function(_287f){this._saveToSessionStorage(this._notificationsCountKey,_287f);this._initializeButton();},_showNotificationButton:function(){if(!this._notificationBtnVisible){_2879.remove(this._jobNotification,"display-none");this._notificationBtnVisible=true;}},_hideNotificationButton:function(){if(this._notificationBtnVisible){_2879.add(this._jobNotification,"display-none");this._notificationBtnVisible=false;}},_cboClick:function(e){if(this._popup.isOpen){this._button.closeDropDown();}else{this._button.openDropDown();}return false;},_popupClosed:function(){},_notificationChanged:function(){this._poll();},_saveToSessionStorage:function(key,value){sessionStorage.setItem(key,value);},_getFromSessionStorage:function(key){return sessionStorage.getItem(key);}});return _287a;});},"Sage/UI/SearchMenuItem":function(){require({cache:{"url:Sage/templates/GridMenuItem.html":'<tr class="dijitGridMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1"\n\t\tdata-dojo-attach-event="onmouseenter:_onHover,onmouseleave:_onUnhover,ondijitclick:_onClick">\n\t<td class="dijitReset dijitMenuItemLabel" colspan="4" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation" style="display:none">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="display:none">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n    <td class="dijitReset dijitMenuItemIconCell" role="presentation" style="display:none">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n</tr>\n'}});define("Sage/UI/SearchMenuItem",["dojo/_base/declare","dijit/MenuItem","dijit/form/TextBox","dijit/form/CheckBox","dijit/form/Button","Sage/UI/ImageButton","dojo/dom-construct","dojo/_base/lang","dojo/has","dojo/_base/sniff","Sage/UI/Controls/_DialogHelpIconMixin","dojo/text!../templates/GridMenuItem.html","dojo/i18n!./nls/SearchMenuItem","dojo/topic"],function(_2880,_2881,_2882,_2883,_2884,_2885,_2886,lang,has,sniff,_2887,_2888,nls,topic){var _2889=_2880("Sage.UI.SearchMenuItem",_2881,{id:"groupSearchMenuItem",templateString:_2888,seedQuery:"",findText:"Find: ",showHiddenText:"Show Hidden: ",clearText:"Clear",textBox:null,findButton:null,clearButton:null,showHiddenCheck:null,registeredWidgets:null,startup:function(){this.inherited(arguments);var _288a=lang.hitch(this,function(event){if(event.keyCode===9){event.cancelBubble=true;}});if(nls){this.findText=nls.findText;this.showHiddenText=nls.showHiddenText;this.clearText=nls.clearText;}this.getParent().on("open",lang.hitch(this,this.init));if(has("mozilla")){this.getParent().on("keyPress",_288a);}else{this.getParent().on("keyDown",_288a);}},init:function(){if(!this.started){topic.subscribe("sage/ui/groups/gridMenuStarted",lang.hitch(this,function(_288b){if(!this.started){this.registeredWidgets=[];this._createSearchTextBox();this._createShowHidden();}this._setQuery();this.started=true;}));}var fn=lang.hitch(this,function(){this.focusText();});setTimeout(fn,100);},focusText:function(){if(this.textBox&&this.textBox.focus){this.textBox.focus();}},_createSearchTextBox:function(){this.textBox=new _2882();this.textBox.startup();this.registeredWidgets.push(this.textBox);var _288c=lang.hitch(this,function(event){if(event.keyCode===13){this._setQuery();}if(event.keyCode===37||event.keyCode===39||event.keyCode===9){event.cancelBubble=true;}});if(has("mozilla")){this.textBox.on("keyPress",_288c);}else{this.textBox.on("keyDown",_288c);}_2886.place(this.textBox.domNode,this.containerNode,"only");_2886.create("label",{"for":this.textBox.id,"innerHTML":this.findText+": ","class":"groupMenuLabel"},this.containerNode,"first");this.findButton=new _2885({imageClass:"icon_Find_16x16","class":"groupMenuButton","title":this.findText,onClick:lang.hitch(this,function(){this._setQuery();})});this.clearButton=new _2884({label:this.clearText,"class":"groupMenuButton","title":this.clearText,onClick:lang.hitch(this,function(){this.textBox.set("value","");this._setQuery();})});_2886.place(this.findButton.domNode,this.containerNode,"last");_2886.place(this.clearButton.domNode,this.containerNode,"last");this.titleBar=this.containerNode;lang.mixin(this,new _2887());this.createHelpIconByTopic("Group_Manager");_2886.place(this.helpIcon,this.containerNode,"last");this.registeredWidgets.push(this.findButton);this.registeredWidgets.push(this.clearButton);},_createShowHidden:function(){var key="GroupMenuShowHidden",_288d=sessionStorage.getItem(key);if(_288d===null){sessionStorage.setItem(key,"false");_288d="false";}this.showHiddenCheck=new _2883();this.showHiddenCheck.set("checked",_288d==="true"?true:false);this.registeredWidgets.push(this.showHiddenCheck);this.showHiddenCheck.on("click",lang.hitch(this,function(event){this._setQuery();var grid=dijit.byId("groupsGridInMenu");if(grid){if(this.showHiddenCheck.checked){sessionStorage.setItem(key,"true");grid.structure[1].width="205px";}else{sessionStorage.setItem(key,"false");grid.structure[1].width="260px";}grid.setStructure(grid.structure);grid.layout.setColumnVisibility(2,this.showHiddenCheck.checked);}}));var _288e=_2886.create("p",null,this.containerNode,"last");_2886.place(this.showHiddenCheck.domNode,_288e,"last");_2886.create("label",{"for":this.showHiddenCheck.id,"innerHTML":this.showHiddenText,"class":"groupMenuLabel"},this.showHiddenCheck.domNode,"before");},_setQuery:function(){var grid=dijit.byId("groupsGridInMenu"),_288f=this.textBox.get("value").replace(/'/g,"''"),_2890=[];if(grid){if(!this.seedQuery){this.seedQuery=grid.get("query");}_2890.push(this.seedQuery);if(_288f){_288f=this._escapeSearchText(_288f);_2890.push("and upper(displayName) like '%"+_288f.toUpperCase()+"%'");}if(!this.showHiddenCheck.checked){_2890.push("and not isHidden");}grid.set("query",_2890.join(" "));grid._refresh();}},_escapeSearchText:function(_2891){_2891=_2891.replace(/\[/g,"[[]").replace(/_/g,"[_]").replace(/%/g,"[%]");return _2891;},_onClick:function(e){e.cancelBubble=true;},destroy:function(){var i;if(this.registeredWidgets!==null){for(i=0;i<this.registeredWidgets.length;i++){this.registeredWidgets[i].destroy(false);this.registeredWidgets.splice(i,1);}}this.inherited(arguments);}});return _2889;});},"Sage/Utility/nls/Dashboard":function(){define("Sage/Utility/nls/Dashboard",["Sage/LanguageList","dojo/_base/lang"],function(_2892,lang){var nls={root:{pageText:"Page"}};return lang.mixin(_2892,nls);});},"Sage/QuickForms/Design/PropertyValueError":function(){define("Sage/QuickForms/Design/PropertyValueError",["dojo/string","dojo/_base/lang"],function(_2893,lang){var _2894=function(_2895,value,_2896){this.result=_2895;this.value=value;this.message=_2896||_2893.substitute(this.messageText,[value]);};lang.extend(_2894,{messageText:"The value ${0} is not allowed.",toString:function(){return this.message;}});return lang.setObject("Sage.QuickForms.Design.PropertyValueError",_2894);});},"url:Sage/MainView/ReportMgr/Crystal/templates/CrystalReportConditionsDialog.html":'<div>\r\n    <div data-dojo-type="dijit.Dialog" title="{%= $._getDialogTitle() %}" dojoattachpoint="_dialog" dojoattachevent="onCancel:_dialog_OnCancel" style="width: 600px;">\r\n        <div data-dojo-type="dijit.form.Form">\r\n            <div style="height: 300px">\r\n                \r\n                <div>\r\n                    <table cellspacing="5">\r\n                        <tr>\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtShowRecordsThatMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType="dijit.form.Select" dojoAttachPoint="cmbConditionPresets" sortByLabel="false" dojoAttachEvent="onChange:_cmbConditionPresets_OnChange" style="width:150px" >\r\n                                </select>\r\n                            </td>\r\n                        </tr>                   \r\n                        <tr dojoAttachPoint="trConnector" class="display-none">\r\n                            <td>\r\n                                <label>{%= $._nlsResources.txtMatch %}</label>\r\n                            </td>\r\n                            <td>\r\n                                <select dojoType="dijit.form.Select" dojoAttachPoint="cmbConnector" style="width:150px" >\r\n                                    <option value="Or">{%= $._nlsResources.txtAny %}</option>\r\n                                    <option value="And">{%= $._nlsResources.txtAll %}</option>\r\n                                </select>\r\n                                <label>&nbsp;{%= $._nlsResources.txtOfTheFollowingConditions %}</label>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n\r\n                <div dojoType="dijit.Toolbar" dojoAttachPoint="tbConditions" region="top" splitter="false" class="right-tools" >\r\n                    <span dojoType="Sage.UI.ImageButton" icon="{%= $._btnPlusIconPath %}" title="{%= $._nlsResources.btnAddCondition_Caption %}" dojoAttachEvent="onClick:_btnAddCondition_Click" dojoAttachPoint="btnAddCondition"></span>\r\n                </div>                                  \r\n                \r\n                <div id="divGrdCrystalConditions" style="width:100%; height:200px; overflow:auto" >            \r\n                    <table data-dojo-type="dojox.grid.DataGrid" dojoAttachPoint="grdCrystalConditions" id="grdCrystalConditions" formatterScope="Sage.MainView.ReportMgr.Crystal.CrystalReportsFormatter">\r\n                        <thead>\r\n                            <th field="conditionType" width="60px" formatter="formatConditionType" >{%= $._nlsResources.grdCrystalConditions_ConditionType_Caption %}</th>\r\n                            <th field="table" width="80px">{%= $._nlsResources.grdCrystalConditions_TableName_Caption %}</th>\r\n                            <th field="field" width="80px">{%= $._nlsResources.grdCrystalConditions_FieldName_Caption %}</th>\r\n                            <th field="operator" formatter="formatOperator" width="50px">{%= $._nlsResources.grdCrystalConditions_Operator_Caption %}</th>\r\n                            <th field="_item" formatter="formatConditionValue" width="125px">{%= $._nlsResources.grdCrystalConditions_Value_Caption %}</th>\r\n                            <th field="value" formatter="formatEditCondition" width="40px">&nbsp;</th>\r\n                            <th field="_item" formatter="formatDeleteCondition" width="40px">&nbsp;</th>\r\n                        </thead>\r\n                    </table>\r\n                </div>               \r\n\r\n            </div>\r\n\r\n            <div align="right" style="margin-top:10px">\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdBack" dojoAttachEvent="onClick:_cmdBack_OnClick" style="display:none">{%= Sage.Utility.htmlEncode($._nlsResources.cmdBack_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button"dojoAttachPoint="cmdNext" dojoAttachEvent="onClick:_cmdNext_OnClick">{%= Sage.Utility.htmlEncode($._nlsResources.cmdNext_Caption) %}</div>\r\n                <div data-dojo-type="dijit.form.Button" dojoAttachPoint="cmdCancel" dojoAttachEvent="onClick:_cmdCancel_OnClick" style="margin-left:5px;">{%= Sage.Utility.htmlEncode($._nlsResources.cmdCancel_Caption) %}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}});require(["dojo/i18n"],function(i18n){i18n._preloadLocalizations("Sage/nls/Sage",["et","en-tt","eu","ar-sy","xh","en-nz","fa","es-uy","es-cl","rm","ro","fr-be","es-co","fi","es-cr","sv-fi","ar-tn","en-bz","ru","es-ve","es-pa","zh-hk","lt","fo","zh-tw","lv","es-pe","en-ca","fr","en-us","es-pr","sk","fr-ca","de-ch","sl","gd","mk","es-py","sq","sr","fr-ch","pt-pt","af","sv","ms","mt","zh-cn","ar","en-jm","zh","es-ec","nb","th","az","tn","he","zu","nl","tr","hi","ts","be","bg","hr","hu","ar-jo","uk","id","ca","ar-dz","ur","is","it","cs","ve","de-li","vi","ja","da","pl","ar-lb","nl-be","de","es-gt","it-ch","es-ar","pt","fr-lu","en-gb","en-za","zh-sg","es-hn","ar-ma","es-bo","en-au","kk","ko","el","de-at","en","pt-br","es"]);});define("Sage/Sage",[],1);window.Sage=window.Sage||{};window.Sage.__namespace=true;Sage.apply=function(a,b,c){var n,o;if(a&&c){for(n in c){a[n]=c[n];}}if(a&&b){for(o in b){a[o]=b[o];}}return a;};Sage.count=1;Sage.guid=function(str){return this.stringBuild(str,this.count++);};Sage.stringBuild=function(){return Array.prototype.slice.call(arguments,0).join("");};Sage.ns=Sage.namespace=function(ns){if(!ns||!ns.length){return null;}var levels=ns.split(".");var nsobj=Sage;for(var i=(levels[0]=="Sage")?1:0;i<levels.length;++i){nsobj[levels[i]]=nsobj[levels[i]]||{};nsobj=nsobj[levels[i]];}return nsobj;};Sage.createNamespace=function(ns){if(!ns||!ns.length){return null;}var levels=ns.split(".");window[levels[0]]=window[levels[0]]||{};var nsobj=window[levels[0]];for(var i=1;i<levels.length;++i){nsobj[levels[i]]=nsobj[levels[i]]||{};nsobj=nsobj[levels[i]];}return nsobj;};Sage.extend=function(subclass,superclass){var f=function(){};f.prototype=superclass.prototype;subclass.prototype=new f();subclass.prototype.constructor=subclass;subclass.superclass=superclass.prototype;if(superclass.prototype.constructor==Object.prototype.constructor){superclass.prototype.constructor=superclass;}};(function(S){var INITIALIZING=false,OVERRIDE=/xyz/.test(function(){xyz;})?/\bbase\b/:/.*/;S.Class=function(){};S.Class.define=function(prop){var base=this.prototype;INITIALIZING=true;var prototype=new this();INITIALIZING=false;var wrap=function(name,fn){return function(){var tmp=this.base;this.base=base[name];var ret=fn.apply(this,arguments);this.base=tmp;return ret;};};var hidden=["constructor"],i=0,name;for(name in prop){prototype[name]=typeof prop[name]==="function"&&typeof base[name]==="function"&&OVERRIDE.test(prop[name])?wrap(name,prop[name]):prop[name];}while(name=hidden[i++]){if(prop[name]!=base[name]){prototype[name]=typeof prop[name]==="function"&&typeof base[name]==="function"&&OVERRIDE.test(prop[name])?wrap(name,prop[name]):prop[name];}}function Class(){if(!INITIALIZING&&this.constructor){this.constructor.apply(this,arguments);}}Class.prototype=prototype;Class.constructor=Class;Class.define=arguments.callee;Class.extend=Class.define;return Class;};var SLICE=Array.prototype.slice,TRUE=true,FALSE=false,WIN=window,FILTER=/^(?:scope|delay|buffer|single)$/,EACH=S.each;TARGETED=function(f,o,scope){return function(){if(o.target===arguments[0]){f.apply(scope,SLICE.call(arguments,0));}};},BUFFERED=function(f,o,l,scope){l.task=new S.Utility.Deferred();return function(){l.task.delay(o.buffer,f,scope,SLICE.call(arguments,0));};},SINGLE=function(f,ev,fn,scope){return function(){ev.removeListener(fn,scope);return f.apply(scope,arguments);};},DELAYED=function(f,o,l,scope){return function(){var task=new S.Utility.Deferred();if(!l.tasks){l.tasks=[];}l.tasks.push(task);task.delay(o.delay||10,f,scope,SLICE.call(arguments,0));};};S.namespace("Utility");S.Utility.Event=Sage.Class.define({constructor:function(obj,name){this.name=name;this.obj=obj;this.listeners=[];},addListener:function(fn,scope,options){var that=this,l;scope=scope||that.obj;if(!that.isListening(fn,scope)){l=that.createListener(fn,scope,options);if(that.firing){that.listeners=that.listeners.slice(0);}that.listeners.push(l);}},createListener:function(fn,scope,o){o=o||{};scope=scope||this.obj;var l={fn:fn,scope:scope,options:o},h=fn;if(o.target){h=TARGETED(h,o,scope);}if(o.delay){h=DELAYED(h,o,l,scope);}if(o.single){h=SINGLE(h,this,fn,scope);}if(o.buffer){h=BUFFERED(h,o,l,scope);}l.fireFn=h;return l;},findListener:function(fn,scope){var list=this.listeners,i=list.length,l;scope=scope||this.obj;while(i--){l=list[i];if(l){if(l.fn===fn&&l.scope===scope){return i;}}}return -1;},isListening:function(fn,scope){return this.findListener(fn,scope)!==-1;},removeListener:function(fn,scope){var that=this,index,l,k,result=FALSE;if((index=that.findListener(fn,scope))!==-1){if(that.firing){that.listeners=that.listeners.slice(0);}l=that.listeners[index];if(l.task){l.task.cancel();delete l.task;}k=l.tasks&&l.tasks.length;if(k){while(k--){l.tasks[k].cancel();}delete l.tasks;}that.listeners.splice(index,1);result=TRUE;}return result;},clearListeners:function(){var that=this,l=that.listeners,i=l.length;while(i--){that.removeListener(l[i].fn,l[i].scope);}},fire:function(){var that=this,listeners=that.listeners,len=listeners.length,i=0,l,args;if(len>0){that.firing=TRUE;args=SLICE.call(arguments,0);for(;i<len;i++){l=listeners[i];if(l&&l.fireFn.apply(l.scope||that.obj||WIN,args)===FALSE){return(that.firing=FALSE);}}}that.firing=FALSE;return TRUE;}});S.Evented=S.Class.define({constructor:function(config){var that=this,e=that.events;if(config&&config.listeners){that.addListener(config.listeners);}that.events=e||{};},fireEvent:function(){var that=this,args=SLICE.call(arguments,0),eventName=args[0].toLowerCase(),result=TRUE,current=this.events[eventName],b,c,q=that.eventQueue||[];if(that.eventsSuspended===TRUE){q.push(args);}if(typeof current==="object"){if(current.bubble){if(current.fire.apply(current,args.slice(1))===FALSE){return FALSE;}b=that.getBubbleTarget&&that.getBubbleTarget();if(b&&b.enableBubble){c=b.events[eventName];if(!c||typeof c!=="object"||!c.bubble){b.enableBubble(eventName);}return b.fireEvent.apply(b,args);}}else{args.shift();result=current.fire.apply(current,args);}}return result;},addListener:function(eventName,fn,scope,o){var that=this,e,oe,ce;if(typeof eventName==="object"){o=eventName;for(e in o){oe=o[e];if(!FILTER.test(e)){that.addListener(e,oe.fn||oe,oe.scope||o.scope,oe.fn?oe:o);}}}else{eventName=eventName.toLowerCase();ce=that.events[eventName]||TRUE;if(typeof ce==="boolean"){that.events[eventName]=ce=new S.Utility.Event(that,eventName);}ce.addListener(fn,scope,typeof o==="object"?o:{});}},removeListener:function(eventName,fn,scope){var ce=this.events[eventName.toLowerCase()];if(typeof ce==="object"){ce.removeListener(fn,scope);}},purgeListeners:function(){var events=this.events,evt,key;for(key in events){evt=events[key];if(typeof evt==="object"){evt.clearListeners();}}},addEvents:function(o){var that=this,arg,i;that.events=that.events||{};if(typeof o==="string"){arg=arguments;i=arg.length;while(i--){that.events[arg[i]]=that.events[arg[i]]||TRUE;}}else{Sage.apply(that.events,o);}},hasListener:function(eventName){var e=this.events[eventName.toLowerCase()];return typeof e==="object"&&e.listeners.length>0;},suspendEvents:function(queueSuspended){this.eventsSuspended=TRUE;if(queueSuspended&&!this.eventQueue){this.eventQueue=[];}},resumeEvents:function(){var that=this,queued=that.eventQueue||[];that.eventsSuspended=FALSE;delete that.eventQueue;EACH(queued,function(e){that.fireEvent.apply(that,e);});}});S.Evented.prototype.on=S.Evented.prototype.addListener;S.Evented.prototype.un=S.Evented.prototype.removeListener;S.isArray=function(arr){return Object.prototype.toString.call(arr)==="[object Array]";};}(Sage));Sage.ServiceContainer=function(){this._services=[];};Sage.ServiceContainer.prototype={addService:function(name,service){if(name&&service){if(!this.hasService(name)){var innerService={};innerService.key=name;innerService.service=service;this._services.push(innerService);return service;}else{throw"Service already exists: "+name;}}return false;},removeService:function(name){for(var i=0;i<this._services.length;i++){if(this._services[i].key===name){this._services.splice(i,1);}}},getService:function(name){if(name){for(var i=0;i<this._services.length;i++){if(this._services[i].key===name){return this._services[i].service;}}}return null;},hasService:function(name){if(name){for(var i=0;i<this._services.length;i++){if(this._services[i].key===name){return true;}}}return false;}};Sage.Services=new Sage.ServiceContainer();document.onkeypress=function(evt){evt=(evt)?evt:((event)?event:null);var node=(evt.target)?evt.target:((evt.srcElement)?evt.srcElement:null);if((evt.keyCode===13)&&(node.type==="text")){return false;}return true;};if(!window.Sage){Sage={};}Sage.OnGearsInitialized=[];Sage.installDesktopFeatures=function(){top.location="Libraries/DesktopIntegration/SlxDesktopIntegrationSetup.exe";};function initGears(){if(window.Sage&&Sage.gears){return;}var factory=null;if(typeof SageGearsFactory!="undefined"){factory=new SageGearsFactory();}else{try{factory=new ActiveXObject("SageGears.Factory");if(factory.getBuildInfo().indexOf("ie_mobile")!=-1){factory.privateSetGlobalObject(this);}}catch(e){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){factory=document.createElement("object");factory.style.display="none";factory.width=0;factory.height=0;factory.type="application/x-googlegears";document.documentElement.appendChild(factory);if(factory&&(typeof factory.create=="undefined")){factory=null;}}}}if(!factory){return;}if(!Sage.gears){Sage.gears={factory:factory};if(Sage.OnGearsInitialized){for(var i=0;i<Sage.OnGearsInitialized.length;i++){Sage.OnGearsInitialized[i]();}}}}require(["dojo/dom"],function(dom){Sage.ContentPane=function(toggleBtn,contentArea,attr){this.contentArea=contentArea;this.toggleButton=toggleBtn;this.state="open";this.minText=attr.minText;this.maxText=attr.maxText;this.minClass=attr.minClass;this.maxClass=attr.maxClass;this.baseClass="Global_Images icon16x16";var elem=dom.byId(toggleBtn);if(!elem){return;}var ocService=Sage.Services.getService("ObjectConnectionService");ocService.disconnect(toggleBtn);ocService.add(dojo.connect(elem,"onclick",this,function(){this.toggle();dojo.publish(["Sage/events/mainContentDetails/toggleSplitter"].join(""),this);},true),toggleBtn);dojo.subscribe(["Sage/events/mainContentDetails/splitterToggled"].join(""),this,"toggle");dojo.subscribe(["Sage/events/mainContentDetails/splitterMinSize"].join(""),this,function(){this.setState("closed");var elem=document.getElementById(this.toggleButton);if(elem){elem.className=this.baseClass+" "+this.maxClass;elem.title=this.maxText;}});dojo.subscribe(["Sage/events/mainContentDetails/splitterMovedNotMin"].join(""),this,function(){this.setState("open");var elem=document.getElementById(this.toggleButton);if(elem){elem.className=this.baseClass+" "+this.minClass;elem.title=this.minText;}});dojo.style(toggleBtn,"cursor","pointer");if(typeof(cookie)!="undefined"){var st=cookie.getCookieParm(this.contentArea,"MainContentState");if(st){if(st=="closed"){this.close();}}}};Sage.ContentPane.prototype.setState=function(state){this.state=state;if(typeof(cookie)!="undefined"){cookie.setCookieParm(this.state,this.contentArea,"MainContentState");}};Sage.ContentPane.prototype.toggle=function(){if(this.state=="open"){this.close();}else{this.open();}setTimeout(function(){var tabContent=dijit.byId("tabContent");if(tabContent){tabContent.resize();}},1);};Sage.ContentPane.prototype.close=function(){var mainContent=dijit.byId("mainContentDetails");if(!mainContent||!mainContent.splitter){dojo.style(this.contentArea+"_inner","display","none");}this.setState("closed");var elem=document.getElementById(this.toggleButton);if(elem){elem.className=this.baseClass+" "+this.maxClass;elem.title=this.maxText;}};Sage.ContentPane.prototype.open=function(){var mainContent=dijit.byId("mainContentDetails");if(!mainContent||!mainContent.splitter){dojo.style(this.contentArea+"_inner","display","block");}this.setState("open");var elem=document.getElementById(this.toggleButton);if(elem){elem.className=this.baseClass+" "+this.minClass;elem.title=this.minText;}};Sage.ContentPaneAttr=function(){this.minText="";this.maxText="";this.minClass="";this.maxClass="";};});function toggleSmartPartVisiblity(contentID,img){var content=document.getElementById(contentID);if(content.style.display=="none"){content.style.display="block";}else{content.style.display="none";}if(img.src==imgCollapse.src){img.src=imgExpand.src;}else{img.src=imgCollapse.src;}}require(["dojo/aspect","dojo/ready","dojo/_base/lang","dijit/registry","dojo/dom-style","dojo/query","dojo/_base/array","dojo/has","dojo/_base/sniff"],function(aspect,ready,lang,registry,domStyle,query,array,has,_sniff){Sage.TabWorkspaceState=function(state){this._state=state;this._wasTabUpdated=new Object;this._hiddenTabs=new Object;this._collections=["MiddleTabs","MainTabs","MoreTabs"];this._collectionActiveRef={"MainTabs":"ActiveMainTab","MoreTabs":"ActiveMoreTab"};for(var i=0;i<this._state.UpdatedTabs.length;i++){this._wasTabUpdated[this._state.UpdatedTabs[i]]=true;}for(var i=0;i<this._state.HiddenTabs.length;i++){this._hiddenTabs[this._state.HiddenTabs[i]]=true;}};Sage.TabWorkspaceState.MIDDLE_TABS="MiddleTabs";Sage.TabWorkspaceState.MAIN_TABS="MainTabs";Sage.TabWorkspaceState.MORE_TABS="MoreTabs";Sage.TabWorkspaceState.deserialize=function(value){try{var state=Sys.Serialization.JavaScriptSerializer.deserialize(value);return new Sage.TabWorkspaceState(state);}catch(e){return null;}};Sage.TabWorkspaceState.prototype.serialize=function(){return Sys.Serialization.JavaScriptSerializer.serialize(this._state);};Sage.TabWorkspaceState.prototype.getObject=function(){return this._state;};Sage.TabWorkspaceState.prototype.getSectionFor=function(target){if(this.isMiddleTab(target)){return Sage.TabWorkspaceState.MIDDLE_TABS;}if(this.isMainTab(target)){return Sage.TabWorkspaceState.MAIN_TABS;}if(this.isMoreTab(target)){return Sage.TabWorkspaceState.MORE_TABS;}return false;};Sage.TabWorkspaceState.prototype.isTabVisible=function(target){if(this.isMiddleTab(target)){return true;}var tws=TabControl,tabInfo=tws.getInfoForTab(target),elem=$("#"+tabInfo.ElementId).get(0),s=elem.style;if(typeof elem==="undefined"){return false;}if(this.isMainTab(target)){return(s.display!=="none");}if(this.isMoreTab(target)){var moretabelem=$("#element_More").get(0),morestyle=moretabelem.style;return((s.display!=="none")&&(morestyle.display!=="none"));}};Sage.TabWorkspaceState.prototype._isTab=function(collection,target){if(typeof this._state[collection]!="object"){return;}for(var i in this._state[collection]){if(this._state[collection][i]==target){return true;}}return false;};Sage.TabWorkspaceState.prototype._removeFromTabs=function(collection,target){if(typeof this._state[collection]!="object"){return;}var result=[];jQuery.each(this._state[collection],function(i,value){if(value!=target){result.push(value);}});this._state[collection]=result;if(typeof this._collectionActiveRef[collection]!="undefined"){if(this._state[this._collectionActiveRef[collection]]==target){this._state[this._collectionActiveRef[collection]]=null;}}};Sage.TabWorkspaceState.prototype._addToTabs=function(collection,target,at,step){if(typeof this._state[collection]!="object"){return;}for(var other in this._collections){if(other!=collection){this._removeFromTabs(this._collections[other],target);}}if(typeof at!="undefined"){if(typeof at=="number"){this._state[collection].splice(at,0,target);}else{var insertAt=this._state[collection].length;jQuery.each(this._state[collection],function(i,value){if(value==at){insertAt=i;return false;}});if(typeof step=="number"){insertAt=insertAt+step;}this._state[collection].splice(insertAt,0,target);}}else{this._state[collection].push(target);}};Sage.TabWorkspaceState.prototype.isMiddleTab=function(target){return this._isTab(Sage.TabWorkspaceState.MIDDLE_TABS,target);};Sage.TabWorkspaceState.prototype.removeFromMiddleTabs=function(target){this._removeFromTabs(Sage.TabWorkspaceState.MIDDLE_TABS,target);};Sage.TabWorkspaceState.prototype.addToMiddleTabs=function(target,at,step){this._addToTabs(Sage.TabWorkspaceState.MIDDLE_TABS,target,at,step);};Sage.TabWorkspaceState.prototype.isMainTab=function(target){return this._isTab(Sage.TabWorkspaceState.MAIN_TABS,target);};Sage.TabWorkspaceState.prototype.isTabVisible=function(tabId){if(this.isMiddleTab(tabId)){return true;}else{if(this.isMainTab(tabId)){return(this._state.ActiveMainTab===tabId);}else{if(this.isMoreTab(tabId)){return(this._state.ActiveMoreTab===tabId&&(this.isMiddleTab(Sage.TabWorkspace.MORE_TAB_ID)||(this._state.ActiveMainTab===Sage.TabWorkspace.MORE_TAB_ID)));}}}};Sage.TabWorkspaceState.prototype.removeFromMainTabs=function(target){this._removeFromTabs(Sage.TabWorkspaceState.MAIN_TABS,target);};Sage.TabWorkspaceState.prototype.addToMainTabs=function(target,at,step){this._addToTabs(Sage.TabWorkspaceState.MAIN_TABS,target,at,step);};Sage.TabWorkspaceState.prototype.setActiveMainTab=function(target){this._state.ActiveMainTab=target;};Sage.TabWorkspaceState.prototype.getActiveMainTab=function(){return this._state.ActiveMainTab;};Sage.TabWorkspaceState.prototype.isMoreTab=function(target){return this._isTab(Sage.TabWorkspaceState.MORE_TABS,target);};Sage.TabWorkspaceState.prototype.removeFromMoreTabs=function(target){this._removeFromTabs(Sage.TabWorkspaceState.MORE_TABS,target);};Sage.TabWorkspaceState.prototype.addToMoreTabs=function(target,at,step){this._addToTabs(Sage.TabWorkspaceState.MORE_TABS,target,at,step);};Sage.TabWorkspaceState.prototype.setActiveMoreTab=function(target){this._state.ActiveMoreTab=target;};Sage.TabWorkspaceState.prototype.getActiveMoreTab=function(){return this._state.ActiveMoreTab;};Sage.TabWorkspaceState.prototype.getMainTabs=function(){return this._state.MainTabs;};Sage.TabWorkspaceState.prototype.getMoreTabs=function(){return this._state.MoreTabs;};Sage.TabWorkspaceState.prototype.getMiddleTabs=function(){return this._state.MiddleTabs;};Sage.TabWorkspaceState.prototype.getUpdatedTabs=function(){return this._state.UpdatedTabs;};Sage.TabWorkspaceState.prototype.markTabUpdated=function(target){if(this._wasTabUpdated[target]){return;}this._wasTabUpdated[target]=true;this._state.UpdatedTabs.push(target);};Sage.TabWorkspaceState.prototype.wasTabUpdated=function(target){return this._wasTabUpdated[target];};Sage.TabWorkspaceState.prototype.clearUpdatedTabs=function(){this._wasTabUpdated=new Object;this._state.UpdatedTabs=[];};Sage.TabWorkspaceState.prototype.getHiddenTabs=function(){return this._state.HiddenTabs;};Sage.TabWorkspaceState.prototype.InHideMode=function(){return this._state.InHideMode;};Sage.TabWorkspace=function(config){this._id=config.id;this._clientId=config.clientId;this._afterPostBackActions=[];this._info=config.info;this._state=new Sage.TabWorkspaceState(config.state);this._textSelectionDisabled=false;this._debug=false;this._regions={};this._middleRegionDropTolerance=20;this._offsetParent=false;this._offsetParentScroll=-1;this._markForUpdateQueue="";this.compileInfoLookups();var self=(TabControl)?TabControl:this;ready(lang.hitch(self,function(){var localTC=registry.byId("tabContent");aspect.after(localTC,"resize",lang.hitch(this,"_resize"));aspect.after(this,"dropToMiddleSection",lang.hitch(this,"_resize"));aspect.after(this,"dropToMoreSection",function(){localTC.resize();localTC.resize();});aspect.after(this,"dropToMainSection",function(){localTC.resize();localTC.resize();});aspect.after(this,"onReOpenTab",function(){localTC.resize();localTC.resize();});}));};Sage.TabWorkspace.MORE_TAB_ID="More";Sage.TabWorkspace.MAIN_AREA="main";Sage.TabWorkspace.MORE_AREA="more";Sage.TabWorkspace.MIDDLE_AREA="middle";Sage.TabWorkspace.prototype._resize=function(){TabControl.setViewBodyHeight();};Sage.TabWorkspace.prototype.setViewBodyHeight=function(){var tabContentHeight,tabState,activeMainTab,viewBodyQuery,viewBody,viewHeaderQuery,viewHeader,middleSection,mainTabButtons,tabContentTop,tabContentBottom,viewBodyHeight,middleTabItemQuery,middleTabItemViewBody,adjustForPadding,minHeight=250;tabState=this.getState();tabContentHeight=registry.byId("tabContent").h;activeMainTab=tabState._state.ActiveMainTab;if(activeMainTab){if(activeMainTab===Sage.TabWorkspace.MORE_TAB_ID&&tabState._state.ActiveMoreTab){activeMainTab=tabState._state.ActiveMoreTab;adjustForPadding=50;}else{adjustForPadding=25;}viewBodyQuery=["#","element_",activeMainTab," .tws-tab-view-body"].join("");viewBody=query(viewBodyQuery)[0];viewHeaderQuery=["#","element_",activeMainTab," .tws-tab-view-header"].join("");viewHeader=query(viewHeaderQuery)[0];middleSection=query(".tws-middle-section")[0];mainTabButtons=query(".tws-main-tab-buttons")[0];tabContentTop=middleSection.clientHeight+mainTabButtons.clientHeight+viewHeader.clientHeight;tabContentBottom=tabContentHeight-tabContentTop-adjustForPadding;viewBodyHeight=(tabContentBottom<minHeight)?[minHeight,"px"].join(""):[tabContentBottom,"px"].join("");if(viewBody){domStyle.set(viewBody,"height",viewBodyHeight);}}array.forEach(tabState._state.MiddleTabs,function(entry){middleTabItemQuery=["#","element_",entry," .tws-tab-view-body"].join("");middleTabItemViewBody=query(middleTabItemQuery)[0];if(middleTabItemViewBody.clientHeight<minHeight){domStyle.set(middleTabItemViewBody,"height",[minHeight,"px"].join(""));}});};Sage.TabWorkspace.prototype.compileInfoLookups=function(){this._info._byId=new Object;this._info._byElementId=new Object;this._info._byDropTargetId=new Object;this._info._byButtonId=new Object;this._info._byMoreButtonId=new Object;for(var i=0;i<this._info.Tabs.length;i++){this._info._byId[this._info.Tabs[i].Id]=this._info.Tabs[i];this._info._byElementId[this._info.Tabs[i].ElementId]=this._info.Tabs[i];this._info._byDropTargetId[this._info.Tabs[i].DropTargetId]=this._info.Tabs[i];this._info._byButtonId[this._info.Tabs[i].ButtonId]=this._info.Tabs[i];this._info._byMoreButtonId[this._info.Tabs[i].MoreButtonId]=this._info.Tabs[i];}};Sage.TabWorkspace.prototype.getInfoFor=function(tab){return this._info._byId[tab];};Sage.TabWorkspace.prototype.getInfoForTab=function(tabId){return this._info._byId[tabId];};Sage.TabWorkspace.prototype.getInfoForTabElement=function(elementId){return this._info._byElementId[elementId];};Sage.TabWorkspace.prototype.getInfoForTabDropTarget=function(dropTargetId){return this._info._byDropTargetId[dropTargetId];};Sage.TabWorkspace.prototype.getInfoForTabButton=function(buttonId){return this._info._byButtonId[buttonId];};Sage.TabWorkspace.prototype.getInfoForTabMoreButton=function(buttonId){return this._info._byMoreButtonId[buttonId];};Sage.TabWorkspace.prototype.getStateProxyTriggerId=function(){return this._info.ProxyTriggerId;};Sage.TabWorkspace.prototype.getStateProxyPayloadId=function(){return this._info.ProxyPayloadId;};Sage.TabWorkspace.prototype.getDragHelperContainerId=function(){return this._info.DragHelperContainerId;};Sage.TabWorkspace.prototype.getUseUIStateService=function(){return this._info.UseUIStateService;};Sage.TabWorkspace.prototype.getUIStateServiceKey=function(){return this._info.UIStateServiceKey;};Sage.TabWorkspace.prototype.getUIStateServiceProxyType=function(){return this._info.UIStateServiceProxyType;};Sage.TabWorkspace.prototype.getAllDropTargets=function(){return this._allDropTargets;};Sage.TabWorkspace.prototype.getAllMainButtons=function(){return this._allMainButtons;};Sage.TabWorkspace.prototype.getAllMoreButtons=function(){return this._allMoreButtons;};Sage.TabWorkspace.prototype.getElement=function(){if(document.getElementById){return document.getElementById(this._clientId);}return null;};Sage.TabWorkspace.prototype.getContext=function(){return this._context;};Sage.TabWorkspace.prototype.getState=function(){return this._state;};Sage.TabWorkspace.prototype.setState=function(state){this._state=state;};Sage.TabWorkspace.prototype.resetState=function(state){if(typeof state==="undefined"){var stateProxy=$("#"+this.getStateProxyPayloadId(),this.getContext()).val();if(stateProxy==""){this.setState(this.getState());}else{this.setState(Sage.TabWorkspaceState.deserialize(stateProxy));}}else{if(typeof state==="string"){this.setState(Sage.TabWorkspaceState.deserialize(state));}}this.logDebug("Reset state...");};Sage.TabWorkspace.prototype.logDebug=function(text){if(this._debug){var pad=function(value,length){value=value.toString();while(value.length<length){value="0"+value;}return value;};var date=new Date();var dateString=pad(date.getHours(),2)+":"+pad(date.getMinutes(),2)+":"+pad(date.getSeconds(),2)+"."+pad(date.getMilliseconds(),3);console.log(dateString+" - "+text);}};Sage.TabWorkspace.prototype.registerAfterPostBackAction=function(action){this._afterPostBackActions.push(action);};Sage.TabWorkspace.prototype.init=function(){this.logDebug("[enter] init");if(document.getElementById){this._context=document.getElementById(this._clientId);}if(this._context){this._offsetParent=$(this._context).offsetParent();}this._allDropTargets=$("div.tws-drop-target",this._context);this._allMainButtons=$("li.tws-tab-button",this._context);this._allMoreButtons=$("li.tws-more-tab-button",this._context);this._mainButtonContainer=$("div.tws-main-tab-buttons",this._context);this._mainButtonContainerRegion=this.createRegionsFrom(this._mainButtonContainer)[0];this._moreButtonContainer=$("div.tws-more-tab-buttons-container",this._context);this._moreButtonContainerRegion=this.createRegionsFrom(this._moreButtonContainer)[0];this.getState().clearUpdatedTabs();for(var i=0;i<this.getState().getMiddleTabs().length;i++){this.getState().markTabUpdated(this.getState().getMiddleTabs()[i]);}if(this.getState().getActiveMainTab()){this.getState().markTabUpdated(this.getState().getActiveMainTab());}if(this.getState().getActiveMainTab()==Sage.TabWorkspace.MORE_TAB_ID){if(this.getState().getActiveMoreTab()){this.getState().markTabUpdated(this.getState().getActiveMoreTab());}}this._dragHelperHeight=$(".tws-tab-drag-helper",this.getContext()).height();this._dragHelperWidth=$(".tws-tab-drag-helper",this.getContext()).width();this.logDebug("[enter] initEvents");this.initEvents();this.logDebug("[leave] initEvents");this.logDebug("[enter] initDragDrop");this.initDragDrop();this.logDebug("[leave] initDragDrop");this.logDebug("[leave] init");this.hideTabs();};Sage.TabWorkspace.prototype.initEvents=function(){var self=this;var prm=Sys.WebForms.PageRequestManager.getInstance();prm.add_endRequest(function(sender,args){var response=args.get_response(),aborted=response&&response.get_aborted(),error=args.get_error();if(aborted||error){self._markForUpdateQueue="";return;}self._processMarkForUpdateQueue();self.setupAllTabElementDraggables();self.hideTabs();});prm.add_beginRequest(function(sender,args){self.cleanupAllTabElementDraggables();});};Sage.TabWorkspace.prototype._processMarkForUpdateQueue=function(){if(this._markForUpdateQueue){this.getState().markTabUpdated(this._markForUpdateQueue);this._markForUpdateQueue="";}};Sage.TabWorkspace.prototype.hideTabs=function(){if(!this.getState().InHideMode()){return;}for(var i=0;i<this.getState().getMiddleTabs().length;i++){var tab=this.getState().getMiddleTabs()[i];this.unHideTab(tab);}for(var i=0;i<this.getState().getMoreTabs().length;i++){var tab=this.getState().getMoreTabs()[i];this.unHideTab(tab);}for(var i=0;i<this.getState().getMainTabs().length;i++){var tab=this.getState().getMainTabs()[i];this.unHideTab(tab);}for(var i=0;i<this.getState().getHiddenTabs().length;i++){var tab=this.getState().getHiddenTabs()[i];this.hideTab(tab);}};Sage.TabWorkspace.prototype.hideTab=function(tab){this.logDebug("[enter] hideTab");if(typeof tab==="string"){tab=this.getInfoFor(tab);}if(tab==null){return;}switch(this.getState().getSectionFor(tab.Id)){case Sage.TabWorkspaceState.MAIN_TABS:$("#"+tab.ButtonId,this.getContext()).hide();$("#"+tab.ElementId,this.getContext()).hide();break;case Sage.TabWorkspaceState.MORE_TABS:$("#"+tab.MoreButtonId,this.getContext()).hide();$("#"+tab.ElementId,this.getContext()).hide();break;case Sage.TabWorkspaceState.MIDDLE_TABS:$("#"+tab.ElementId,this.getContext()).hide();break;}};Sage.TabWorkspace.prototype.unHideTab=function(tab){this.logDebug("[enter] hideTab");if(typeof tab==="string"){tab=this.getInfoFor(tab);}if(tab==null){return;}switch(this.getState().getSectionFor(tab.Id)){case Sage.TabWorkspaceState.MAIN_TABS:$("#"+tab.ButtonId,this.getContext()).show();if(this.getState().getActiveMainTab()==tab.Id){$("#"+tab.ElementId,this.getContext()).show();}break;case Sage.TabWorkspaceState.MORE_TABS:$("#"+tab.MoreButtonId,this.getContext()).show();if(this.getState().getActiveMoreTab()==tab.Id){$("#"+tab.ElementId,this.getContext()).show();}break;case Sage.TabWorkspaceState.MIDDLE_TABS:$("#"+tab.ElementId,this.getContext()).show();break;}};Sage.TabWorkspace.prototype.disablePageTextSelection=function(){if(jQuery.browser.msie){if(!this._textSelectionDisabled){this._oldBodyOnDrag=document.body.ondrag;this._oldBodyOnSelectStart=document.body.onselectstart;document.body.ondrag=function(){return false;};document.body.onselectstart=function(){return false;};this._textSelectionDisabled=true;}}};Sage.TabWorkspace.prototype.enablePageTextSelection=function(){if(jQuery.browser.msie){if(this._textSelectionDisabled){document.body.ondrag=this._oldBodyOnDrag;document.body.onselectstart=this._oldBodyOnSelectStart;this._textSelectionDisabled=false;}}};Sage.TabWorkspace.prototype.setDragDropHelperText=function(helper,text){if(typeof text!="string"){return;}$(".tws-drag-helper-text",helper).html(text);};Sage.TabWorkspace.prototype.setupTabElementDraggable=function(tab){var self=this;var $query;if(typeof tab=="string"){tab=this.getInfoFor(tab);if(tab==null){return;}$query=$("#"+tab.ElementId,this.getContext());}else{if(typeof target=="object"){$query=tab.ElementId;}}if($query.is(".ui-draggable")){return;}if(typeof tab==="string"){this.logDebug("Setting up tab element draggable for "+tab+".");}else{this.logDebug("Setting up tab element draggable for "+tab.Id+".");}$query.draggable({handle:".tws-tab-view-header",cursor:"move",cursorAt:{top:self._dragHelperHeight/2,left:self._dragHelperWidth/2},zIndex:15000,delay:50,opacity:0.5,scroll:true,refreshPositions:true,appendTo:"#"+self.getDragHelperContainerId(),helper:function(){return self.createDraggableHelper();},start:function(e,ui){this._context=self.getInfoForTabElement(this.id);this._overDraggable=false;$(ui.helper).data("over",0);self.disablePageTextSelection();self.setDragDropHelperText(ui.helper,this._context.Name);},stop:function(e,ui){self.enablePageTextSelection();}});};Sage.TabWorkspace.prototype.cleanupTabElementDraggable=function(tab){var $query;if(typeof tab=="string"){tab=this.getInfoFor(tab);if(tab==null){return;}$query=$("#"+tab.ElementId,this.getContext());}else{if(typeof target=="object"){$query=tab.ElementId;}}if(!$query.is(".ui-draggable")){return;}if(typeof tab==="string"){this.logDebug("Cleaning up tab element draggable for "+tab+".");}else{this.logDebug("Cleaning up tab element draggable for "+tab.Id+".");}$query.draggable("destroy");};Sage.TabWorkspace.prototype.setupAllTabElementDraggables=function(){for(var i=0;i<this.getState().getMiddleTabs().length;i++){this.setupTabElementDraggable(this.getState().getMiddleTabs()[i]);}if(this.getState().getActiveMainTab()&&this.getState().getActiveMainTab()!=Sage.TabWorkspace.MORE_TAB_ID){this.setupTabElementDraggable(this.getState().getActiveMainTab());}if(this.getState().getActiveMoreTab()){this.setupTabElementDraggable(this.getState().getActiveMoreTab());}};Sage.TabWorkspace.prototype.cleanupAllTabElementDraggables=function(){for(var i=0;i<this.getState().getUpdatedTabs().length;i++){this.cleanupTabElementDraggable(this.getState().getUpdatedTabs()[i]);}};Sage.TabWorkspace.prototype.createMainInsertMarker=function(el,at){if(el){var marker=$('<div class="tws-insert-button-marker Global_Images icon_insert-arrow-down16x16 "></div>').css({top:(at.top-10)+"px",left:(at.left-8)+"px"});$("div.tws-main-tab-buttons",this.getContext()).append(marker);el._marker=marker;}};Sage.TabWorkspace.prototype.cleanupMainInsertMarker=function(el){if(el&&el._marker){el._marker.remove();el._marker=null;}};Sage.TabWorkspace.prototype.createMoreInsertMarker=function(el,at){if(el){var marker=$('<div class="tws-insert-button-marker Global_Images icon_insert-arrow-left16x16"></div>').css({top:(at.top-8)+"px"});$("div.tws-more-tab-buttons-container",this.getContext()).append(marker);el._marker=marker;}};Sage.TabWorkspace.prototype.cleanupMoreInsertMarker=function(el){if(el&&el._marker){el._marker.remove();el._marker=null;}};Sage.TabWorkspace.prototype.getContextFromUI=function(ui){return ui.draggable.get(0)._context;};Sage.TabWorkspace.prototype.getRegions=function(area){return this._regions[area];};Sage.TabWorkspace.prototype.createRegionsFrom=function(list){var regions=[];list.each(function(){var el=$(this);regions.push({x:el.offset().left,y:el.offset().top,width:el.width(),height:el.height(),el:this});});return regions;};Sage.TabWorkspace.prototype.testRegions=function(regions,pos,test){var list=(typeof regions==="string")?this._regions[regions]:regions;if(list&&list.length&&typeof test==="function"){for(var i=0;i<list.length;i++){if(test(list[i],pos)){return list[i].el;}}}return null;};Sage.TabWorkspace.prototype.setDroppableOn=function(draggable,id,droppable){if(typeof draggable._droppables==="undefined"){draggable._droppables={};}draggable._droppables[id]=droppable;};Sage.TabWorkspace.prototype.getDroppableFrom=function(draggable,id){if(draggable._droppables){return draggable._droppables[id];}};Sage.TabWorkspace.prototype.updateOffsetParentScroll=function(){this._offsetParentScroll=$(this._offsetParent).scrollTop();};Sage.TabWorkspace.prototype.shouldUpdateRegions=function(){if(this._offsetParent){if(this._offsetParentScroll!=$(this._offsetParent).scrollTop()){this._offsetParentScroll=$(this._offsetParent).scrollTop();return true;}}return false;};Sage.TabWorkspace.prototype.initDragDrop=function(){var self=this;$("div.tws-middle-section",this.getContext()).droppable({accept:".tws-tab-button,.tws-more-tab-button,.tws-tab-element",tolerance:"pointer",activate:function(e,ui){self.logDebug("Activate MiddleSection");self.setDroppableOn(ui.draggable.get(0),Sage.TabWorkspace.MIDDLE_AREA,ui.options);self._allDropTargets.filter("div.tws-middle-section div.tws-drop-target").addClass("tws-drop-target-active");},deactivate:function(e,ui){self.logDebug("De-Activate MiddleSection");self._allDropTargets.filter("div.tws-middle-section div.tws-drop-target").removeClass("tws-drop-target-active");ui.draggable.unbind("drag",ui.options.track);ui.options._targets=null;ui.options._current=null;},over:function(e,ui){self.logDebug("Over MiddleSection");var regions=self.createRegionsFrom(self.getAllDropTargets().filter(":visible"));var draggable=ui.draggable.get(0);var pos={y:e.pageY,x:e.pageX};var el=self.testRegions(regions,pos,function(r,p){return(p.y>(r.y-self._middleRegionDropTolerance)&&p.y<=(r.y+r.height+self._middleRegionDropTolerance));});if(el){$(el).addClass("tws-drop-target-hover");$(ui.helper).data("over",$(ui.helper).data("over")+1);$(ui.helper).addClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).addClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_no16x16");}ui.options._targets=regions;ui.options._currentTarget=(el)?el:null;ui.draggable.bind("drag",ui.options.track);},out:function(e,ui){self.logDebug("Out MiddleSection");var draggable=ui.draggable.get(0);self._allDropTargets.removeClass("tws-drop-target-hover");$(ui.helper).data("over",$(ui.helper).data("over")-1);if($(ui.helper).data("over")<=0){$(ui.helper).data("over",0);$(ui.helper).removeClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).addClass("icon_no16x16");}ui.draggable.unbind("drag",ui.options.track);ui.options._targets=null;ui.options._currentTarget=null;},drop:function(e,ui){self.logDebug("Drop MiddleSection");var context=self.getContextFromUI(ui);var target=ui.options._currentTarget;self._allDropTargets.removeClass("tws-drop-target-hover");$(ui.helper).removeClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).addClass("icon_no16x16");if(target){self.dropToMiddleSection(context,target);}},track:function(e,ui){var draggable=this;var droppable=self.getDroppableFrom(draggable,Sage.TabWorkspace.MIDDLE_AREA);var pos={y:e.pageY,x:e.pageX};var el=self.testRegions(droppable._targets,pos,function(r,p){return(p.y>(r.y-self._middleRegionDropTolerance)&&p.y<=(r.y+r.height+self._middleRegionDropTolerance));});if(droppable._currentTarget!=el){var last=droppable._currentTarget;if(last){$(ui.helper).removeClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).addClass("icon_no16x16");$(last).removeClass("tws-drop-target-hover");}if(el){$(ui.helper).addClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).addClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_no16x16");$(el).addClass("tws-drop-target-hover");}droppable._currentTarget=el;}}});$("div.tws-main-tab-buttons",this.getContext()).droppable({accept:".tws-tab-button,.tws-more-tab-button,.tws-tab-element",tolerance:"pointer",activate:function(e,ui){self.logDebug("Activate MainButtonBar");self.updateMainAreaRegions();self.setDroppableOn(ui.draggable.get(0),Sage.TabWorkspace.MAIN_AREA,ui.options);},deactivate:function(e,ui){self.logDebug("De-Activate MainButtonBar");self.cleanupMainInsertMarker(ui.draggable.get(0));ui.draggable.unbind("drag",ui.options.track);ui.options._targets=null;ui.options._currentTarget=null;},over:function(e,ui){self.logDebug("Over main button bar event occured for "+self.getContextFromUI(ui).Id);$(ui.helper).data("over",$(ui.helper).data("over")+1);$(ui.helper).addClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).addClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_no16x16");var regions=self.getRegions(Sage.TabWorkspace.MAIN_AREA);var pos={y:e.pageY,x:e.pageX};var el=self.testRegions(regions,pos,function(r,p){return(p.x>r.x&&p.x<=(r.x+r.width));});var position={};if(el){position=$(el,self.getContext()).position();}else{position=$(".tws-tab-button-tail",self.getContext()).position();}self.cleanupMainInsertMarker(ui.draggable.get(0));self.createMainInsertMarker(ui.draggable.get(0),position);ui.options._targets=regions;ui.options._currentTarget=null;ui.draggable.bind("drag",ui.options.track);},out:function(e,ui){self.logDebug("Out MainButtonBar");$(ui.helper).data("over",$(ui.helper).data("over")-1);if($(ui.helper).data("over")<=0){$(ui.helper).data("over",0);$(ui.helper).removeClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).addClass("icon_no16x16");}self.cleanupMainInsertMarker(ui.draggable.get(0));ui.draggable.unbind("drag",ui.options.track);ui.options._targets=null;ui.options._currentTarget=null;},drop:function(e,ui){self.logDebug("Drop to main event occured for "+self.getContextFromUI(ui).Id);var context=self.getContextFromUI(ui);var target=(ui.options._currentTarget)?ui.options._currentTarget:this;self.dropToMainSection(context,target);},track:function(e,ui){var draggable=this;var droppable=self.getDroppableFrom(draggable,Sage.TabWorkspace.MAIN_AREA);var pos={y:e.pageY,x:e.pageX};var el=self.testRegions(droppable._targets,pos,function(r,p){return(p.x>r.x&&p.x<=(r.x+r.width));});if(droppable._currentTarget!=el){droppable._currentTarget=el;var position={};if(el){position=$(droppable._currentTarget,self.getContext()).position();}else{position=$(".tws-tab-button-tail",self.getContext()).position();}self.cleanupMainInsertMarker(draggable);self.createMainInsertMarker(draggable,position);}}});$(".tws-more-tab-buttons",this.getContext()).droppable({accept:".tws-tab-button:not(#show_More),.tws-more-tab-button,.tws-tab-element:not(#element_More)",tolerance:"pointer",activate:function(e,ui){self.logDebug("Activate MoreButtonBar");self.updateMoreAreaRegions();self.setDroppableOn(ui.draggable.get(0),Sage.TabWorkspace.MORE_AREA,ui.options);},deactivate:function(e,ui){self.cleanupMoreInsertMarker(ui);ui.draggable.unbind("drag",ui.options.track);ui.options._targets=null;ui.options._currentTarget=null;},over:function(e,ui){self.logDebug("Over more button bar event occured for "+self.getContextFromUI(ui).Id);$(ui.helper).data("over",$(ui.helper).data("over")+1);$(ui.helper).addClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).addClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_no16x16");var regions=self.getRegions(Sage.TabWorkspace.MORE_AREA);var pos={y:e.pageY,x:e.pageX};var el=self.testRegions(regions,pos,function(r,p){return(p.y>r.y&&p.y<=(r.y+r.height));});var position={};if(el){position=$(el,self.getContext()).position();}else{position=$(".tws-more-tab-button-tail",self.getContext()).position();}self.cleanupMoreInsertMarker(ui.draggable.get(0));self.createMoreInsertMarker(ui.draggable.get(0),position);ui.options._targets=regions;ui.options._currentTarget=null;ui.draggable.bind("drag",ui.options.track);},out:function(e,ui){$(ui.helper).data("over",$(ui.helper).data("over")-1);if($(ui.helper).data("over")<=0){$(ui.helper).data("over",0);$(ui.helper).removeClass("tws-drag-helper-valid");$(".tws-drag-helper-icon",ui.helper).removeClass("icon_ok16x16");$(".tws-drag-helper-icon",ui.helper).addClass("icon_no16x16");}self.cleanupMoreInsertMarker(ui.draggable.get(0));ui.draggable.unbind("drag",ui.options.track);ui.options._targets=null;ui.options._currentTarget=null;},drop:function(e,ui){self.logDebug("Drop to more event occured for "+self.getContextFromUI(ui).Id);var context=self.getContextFromUI(ui);var target=(ui.options._currentTarget)?ui.options._currentTarget:this;self.dropToMoreSection(context,target);},track:function(e,ui){var draggable=this;var droppable=self.getDroppableFrom(draggable,Sage.TabWorkspace.MORE_AREA);var pos={y:e.pageY,x:e.pageX};var el=self.testRegions(droppable._targets,pos,function(r,p){return(p.y>r.y&&p.y<=(r.y+r.height));});if(droppable._currentTarget!=el){droppable._currentTarget=el;var position={};if(el){position=$(droppable._currentTarget,self.getContext()).position();}else{position=$(".tws-more-tab-button-tail",self.getContext()).position();}self.cleanupMoreInsertMarker(draggable);self.createMoreInsertMarker(draggable,position);}}});$("li.tws-tab-button:not(li.tws-tab-button-tail)",this.getContext()).draggable({cursor:"move",cursorAt:{top:self._dragHelperHeight/2,left:self._dragHelperWidth/2},zIndex:15000,appendTo:"#"+self.getDragHelperContainerId(),opacity:0.5,delay:50,scroll:true,refreshPositions:true,helper:function(){return self.createDraggableHelper();},start:function(e,ui){this._context=self.getInfoForTabButton(this.id);this._overDraggable=false;$(ui.helper).data("over",0);self.disablePageTextSelection();self.setDragDropHelperText(ui.helper,this._context.Name);},stop:function(e,ui){self.enablePageTextSelection();}});$("li.tws-more-tab-button:not(li.tws-more-tab-button-tail)",this.getContext()).draggable({cursor:"move",cursorAt:{top:self._dragHelperHeight/2,left:self._dragHelperWidth/2},zIndex:15000,opacity:0.5,delay:50,scroll:true,refreshPositions:true,appendTo:"#"+self.getDragHelperContainerId(),helper:function(){return self.createDraggableHelper();},start:function(e,ui){this._context=self.getInfoForTabMoreButton(this.id);this._overDraggable=false;$(ui.helper).data("over",0);self.disablePageTextSelection();self.setDragDropHelperText(ui.helper,this._context.Name);},stop:function(e,ui){self.enablePageTextSelection();}});$("li.tws-tab-button:not(li.tws-tab-button-tail)",this.getContext()).click(function(e){var tab=self.getInfoForTabButton($(this).attr("id"));self.logDebug("Click event occured for "+tab.Id);self.showMainTab(tab.Id);});$("li.tws-more-tab-button:not(li.tws-more-tab-button-tail)",this.getContext()).click(function(e){var tab=self.getInfoForTabMoreButton($(this).attr("id"));self.logDebug("Click event occured for "+tab.Id);self.showMoreTab(tab.Id);});this.updateAllRegions();this.setupAllTabElementDraggables();};Sage.TabWorkspace.prototype.createDraggableHelper=function(){return $("<div class='tws-tab-drag-helper'><div class='tws-drag-helper-icon Global_Images icon_no16x16' /><div class='tws-drag-helper-text' /></div>");};Sage.TabWorkspace.prototype.showMainTab=function(tab,triggerUpdate){this.logDebug("[enter] showMainTab");if(typeof tab==="string"){tab=this.getInfoFor(tab);}var previousMainTabId=this.getState().getActiveMainTab();if(this.getState().getActiveMainTab()==tab.Id){return;}this.getState().setActiveMainTab(tab.Id);this.showMainTabDom(tab);if(tab.Id==Sage.TabWorkspace.MORE_TAB_ID){if(this.getState().getActiveMoreTab()){this.showMoreTabDom(this.getState().getActiveMoreTab());}}if(typeof triggerUpdate=="undefined"||triggerUpdate){this.triggerUpdateFor(tab.Id);}};Sage.TabWorkspace.prototype.showMainTabDom=function(tab){if(typeof tab==="string"){tab=this.getInfoFor(tab);}$(".tws-main-tab-content > .tws-tab-element",this.getContext()).hide();$("#"+tab.ElementId,this.getContext()).show();$(".tws-main-tab-buttons .tws-tab-button",this.getContext()).removeClass("tws-active-tab-button");$("#"+tab.ButtonId,this.getContext()).addClass("tws-active-tab-button");};Sage.TabWorkspace.prototype.showMoreTab=function(tab,triggerUpdate){this.logDebug("[enter] showMoreTab");if(typeof tab==="string"){tab=this.getInfoFor(tab);}if(this.getState().getActiveMoreTab()==tab.Id){return;}this.getState().setActiveMoreTab(tab.Id);this.showMoreTabDom(tab);if(typeof triggerUpdate=="undefined"||triggerUpdate){this.triggerUpdateFor(tab.Id);}};Sage.TabWorkspace.prototype.showMoreTabDom=function(tab){if(typeof tab==="string"){tab=this.getInfoFor(tab);}$(".tws-more-tab-content .tws-tab-element",this.getContext()).hide();$("#"+tab.ElementId,this.getContext()).show();$(".tws-more-tab-buttons .tws-more-tab-button",this.getContext()).removeClass("tws-active-more-tab-button");$("#"+tab.MoreButtonId,this.getContext()).addClass("tws-active-more-tab-button");};Sage.TabWorkspace.prototype.dropToMainSection=function(tab,target){this.logDebug("[enter] dropToMainSection");var $location;if($(target).is(".tws-main-tab-buttons")){$location=$(".tws-tab-button-tail",this.getContext());}else{$location=$(target,this.getContext());}switch(this.getState().getSectionFor(tab.Id)){case Sage.TabWorkspaceState.MAIN_TABS:$location.before($("#"+tab.ButtonId,this.getContext()));return;break;case Sage.TabWorkspaceState.MORE_TABS:$("#"+tab.MoreButtonId,this.getContext()).hide();$location.before($("#"+tab.ButtonId,this.getContext()).show());$(".tws-main-tab-content",this.getContext()).append($("#"+tab.ElementId));$(".tws-main-tab-content",this.getContext()).append($("#"+tab.DropTargetId));break;case Sage.TabWorkspaceState.MIDDLE_TABS:$location.before($("#"+tab.ButtonId,this.getContext()).show());$(".tws-main-tab-content",this.getContext()).append($("#"+tab.ElementId));$(".tws-main-tab-content",this.getContext()).append($("#"+tab.DropTargetId));break;}if($location.is(".tws-tab-button-tail")){this.getState().addToMainTabs(tab.Id);}else{this.getState().addToMainTabs(tab.Id,this.getInfoForTabButton($location.attr("id")).Id,0);}this.showMainTab(tab.Id);};Sage.TabWorkspace.prototype.dropToMoreSection=function(tab,target){this.logDebug("[enter] dropToMoreSection");var $location;if($(target).is(".tws-more-tab-buttons")){$location=$(".tws-more-tab-button-tail",this.getContext());}else{$location=$(target,this.getContext());}switch(this.getState().getSectionFor(tab.Id)){case Sage.TabWorkspaceState.MAIN_TABS:$("#"+tab.ButtonId,this.getContext()).hide();$location.before($("#"+tab.MoreButtonId,this.getContext()).show());$(".tws-more-tab-element .tws-more-tab-content-fixer",this.getContext()).before($("#"+tab.ElementId));$(".tws-more-tab-element .tws-more-tab-content-fixer",this.getContext()).before($("#"+tab.DropTargetId));break;case Sage.TabWorkspaceState.MORE_TABS:$location.before($("#"+tab.MoreButtonId,this.getContext()));return;break;case Sage.TabWorkspaceState.MIDDLE_TABS:$location.before($("#"+tab.MoreButtonId,this.getContext()).show());$(".tws-more-tab-element .tws-more-tab-content-fixer",this.getContext()).before($("#"+tab.ElementId));$(".tws-more-tab-element .tws-more-tab-content-fixer",this.getContext()).before($("#"+tab.DropTargetId));break;}if($location.is(".tws-more-tab-button-tail")){this.getState().addToMoreTabs(tab.Id);}else{this.getState().addToMoreTabs(tab.Id,this.getInfoForTabMoreButton($location.attr("id")).Id,0);}this.showMoreTab(tab.Id);};Sage.TabWorkspace.prototype.dropToMiddleSection=function(tab,target){this.logDebug("[enter] dropToMiddleSection");var tabsToUpdate=[];if(tab.DropTargetId==target.id){return;}switch(this.getState().getSectionFor(tab.Id)){case Sage.TabWorkspaceState.MAIN_TABS:if(this.getState().getMainTabs().length==1){return;}if(this.getState().getActiveMainTab()==tab.Id){var $newActiveTab=$("#"+tab.ButtonId,this.getContext()).prev(".tws-tab-button:visible:not(.tws-tab-button-tail)");if($newActiveTab.length<=0){$newActiveTab=$("#"+tab.ButtonId,this.getContext()).next(".tws-tab-button:visible:not(.tws-tab-button-tail)");}if($newActiveTab.length>0){var newActiveTabId=this.getInfoForTabButton($newActiveTab.attr("id")).Id;this.showMainTab(newActiveTabId,false);tabsToUpdate.push(newActiveTabId);}}$("#"+tab.ButtonId,this.getContext()).hide();$(target).after($("#"+tab.DropTargetId,this.getContext()));$(target).after($("#"+tab.ElementId,this.getContext()).show());tabsToUpdate.push(tab.Id);break;case Sage.TabWorkspaceState.MORE_TABS:if(this.getState().getActiveMoreTab()==tab.Id){}$("#"+tab.MoreButtonId,this.getContext()).hide();$(target).after($("#"+tab.DropTargetId,this.getContext()));$(target).after($("#"+tab.ElementId,this.getContext()).show());tabsToUpdate.push(tab.Id);break;case Sage.TabWorkspaceState.MIDDLE_TABS:$(target).after($("#"+tab.DropTargetId,this.getContext()));$(target).after($("#"+tab.ElementId,this.getContext()).show());tabsToUpdate.push(tab.Id);break;}if($(target).hasClass("tws-middle-drop-target")){this.getState().addToMiddleTabs(tab.Id,0);}else{this.getState().addToMiddleTabs(tab.Id,this.getInfoForTabDropTarget(target.id).Id,1);}this.triggerUpdateFor(tabsToUpdate);};Sage.TabWorkspace.prototype.deriveStateFromMarkup=function(){var self=this;var state={MiddleTabs:[],MainTabs:[],MoreTabs:[]};$(".tws-middle-section .tws-tab-element",this.getContext()).each(function(){state.MiddleTabs.push(self.getInfoForTabElement($(this).attr("id")).Id);});$(".tws-main-section .tws-main-tab-buttons .tws-tab-button:visible",this.getContext()).each(function(){var tab=self.getInfoForTabButton($(this).attr("id"));state.MainTabs.push(tab.Id);if($(this).hasClass("tws-active-tab-button",this.getContext())){state.ActiveMainTab=tab.Id;}});return state;};Sage.TabWorkspace.prototype.updateVisibleDroppables=function(){this.logDebug("[enter] enableAllVisibleDroppables");$("div.tws-drop-target:visible",this.getContext()).droppable("enable");$.ui.ddmanager.prepareOffsets();this.logDebug("[leave] enableAllVisibleDroppables");};Sage.TabWorkspace.prototype.updateAllRegions=function(){this.updateMainAreaRegions();this.updateMoreAreaRegions();this.updateMiddleAreaRegions();};Sage.TabWorkspace.prototype.updateMainAreaRegions=function(){var region=this.createRegionsFrom(this._mainButtonContainer)[0];this._regions[Sage.TabWorkspace.MAIN_AREA]=this.createRegionsFrom(this._allMainButtons.filter(":visible"));this._mainButtonContainerRegion=region;};Sage.TabWorkspace.prototype.updateMoreAreaRegions=function(){var region=this.createRegionsFrom(this._moreButtonContainer)[0];this._regions[Sage.TabWorkspace.MORE_AREA]=this.createRegionsFrom(this._allMoreButtons.filter(":visible"));this._moreButtonContainerRegion=region;};Sage.TabWorkspace.prototype.updateMiddleAreaRegions=function(){this._regions[Sage.TabWorkspace.MIDDLE_AREA]=this.createRegionsFrom(this._allDropTargets.filter(":visible"));};Sage.TabWorkspace.prototype.updateContextualFeedback=function(){if(this.getState().getMoreTabs().length<=0){$(".tws-more-tab-message",this.getContext()).empty().append(TabWorkspaceResource.More_Tab_Empty_Message).show();}else{if(this.getState().getActiveMoreTab()==null){$(".tws-more-tab-message",this.getContext()).empty().append(TabWorkspaceResource.More_Tab_No_Selection_Message).show();}else{$(".tws-more-tab-message",this.getContext()).hide();}}if(this.getState().getMiddleTabs().length<=0){$(".tws-middle-section",this.getContext()).addClass("tws-middle-section-empty");$(".tws-middle-drop-target span",this.getContext()).empty().append(TabWorkspaceResource.Middle_Pane_Empty_Drop_Target_Message);}else{$(".tws-middle-section",this.getContext()).removeClass("tws-middle-section-empty");$(".tws-middle-drop-target span",this.getContext()).empty().append(TabWorkspaceResource.Middle_Pane_Drop_Target_Message);}};Sage.TabWorkspace.prototype.updateStateProxy=function(){var serializedState=this.getState().serialize();$("#"+this.getStateProxyPayloadId()).val(serializedState);};Sage.TabWorkspace.prototype.onReOpenTab=function(){};Sage.TabWorkspace.prototype.triggerUpdateFor=function(tabs,data){this.updateContextualFeedback();this.updateAllRegions();var tabsToUpdate=[];var shouldSendState=false;var stateSent=false;var self=this;if(typeof tabs=="string"){if(tabs==Sage.TabWorkspace.MORE_TAB_ID){var activeMoreTab=this.getState().getActiveMoreTab();if(activeMoreTab&&!this.getState().wasTabUpdated(activeMoreTab)){tabsToUpdate.push(activeMoreTab);this._markForUpdateQueue=activeMoreTab;}else{shouldSendState=true;}}else{if(!this.getState().wasTabUpdated(tabs)&&(tabs!=Sage.TabWorkspace.MORE_TAB_ID)){tabsToUpdate.push(tabs);this._markForUpdateQueue=tabs;}else{shouldSendState=true;}}}else{for(var i=0;i<tabs.length;i++){if(tabs[i]==Sage.TabWorkspace.MORE_TAB_ID){var activeMoreTab=this.getState().getActiveMoreTab();if(activeMoreTab&&!this.getState().wasTabUpdated(activeMoreTab)){this.getState().markTabUpdated(activeMoreTab);tabsToUpdate.push(activeMoreTab);}else{shouldSendState=true;}}else{if(!this.getState().wasTabUpdated(tabs[i])&&(tabs[i]!=Sage.TabWorkspace.MORE_TAB_ID)){this.getState().markTabUpdated(tabs[i]);tabsToUpdate.push(tabs[i]);}else{if(this.getState().isMiddleTab(tabs[i])){var middleSectionDiv=$(".tws-middle-section .tws-tab-view-body .formtable");if(middleSectionDiv.length>0){$(".tws-middle-section .tws-tab-view-body")[0].style.height="auto";}}shouldSendState=true;}}}}if(typeof tabs=="string"){this.logDebug("Update requested for: "+tabs);}else{this.logDebug("Updates requested for: "+tabs.join(", "));}var serializedState=this.getState().serialize();$("#"+this.getStateProxyPayloadId()).val(serializedState);for(var i=0;i<tabsToUpdate.length;i++){this.logDebug("Triggering update for "+tabsToUpdate[i]);tab=tabsToUpdate[i];$("#"+this.getInfoFor(tab).UpdatePayloadId).val(serializedState);__doPostBack(this.getInfoFor(tab).UpdateTriggerId,"");stateSent=true;}if(tabsToUpdate.length===0){this.onReOpenTab();}var forceProxyCall=false;if(shouldSendState&&!stateSent&&this.getUseUIStateService()){this.logDebug("Sending state update via proxy.");__doPostBack(this.getStateProxyTriggerId(),"");stateSent=true;}};});Sage.ObjectConnectionService=function(){this.objectConnections={};this.add=function(conn,id){this.objectConnections[id]=conn;};this.remove=function(id){delete this.objectConnections[id];};this.disconnect=function(id){dojo.disconnect(this.objectConnections[id]);};this.disconnectAll=function(){for(var i in this.objectConnections){dojo.disconnect(this.objectConnections[i]);}};this.removeAll=function(){for(var i in this.objectConnections){delete this.objectConnections[i];}};};Sage.Services.addService("ObjectConnectionService",new Sage.ObjectConnectionService());Sage.IntegrationContractService=function(){this.isIntegrationEnabled=false;this.localAppId="";var data=dojo.byId("__IntegrationContractService");if(data){var obj=dojo.fromJson(data.value);this.isIntegrationEnabled=obj.IsIntegrationEnabled;this.localAppId=obj.LocalAppId;this.isMultiCurrencyEnabled=obj.IsMultiCurrencyEnabled;this.accountingSystemHandlesSO=obj.AccountingSystemHandlesSO;this.currentUserEndpoints=obj.UserEndpoints;this.hasUserDefinedEndpoints=obj.HasUserDefinedEndpoints;}};Sage.IntegrationContractService.prototype.getCurrentOperatingCompanyId=function(){var service=Sage.Services.getService("ClientEntityContext");if(typeof service!=="undefined"&&service!=null){var context=service.getContext();var dtNow=new Date();var sUrl=dojo.replace("slxdata.ashx/slx/crm/-/context/getcurrentoperatingcompanyid?time={0}&entityType={1}&entityId={2}",[encodeURIComponent(dtNow.getTime().toString()),encodeURIComponent(context.EntityType),encodeURIComponent(context.EntityId)]);var response=dojo.xhrGet({url:sUrl,handleAs:"json",error:function(error){console.error(error);return"";}});var obj=dojo.fromJson(response.responseText);return obj.id;}return"";};function isIntegrationContractEnabled(){var service=Sage.Services.getService("IntegrationContractService");if(service!=null&&typeof service!=="undefined"){return service.isIntegrationEnabled;}return false;}function isMultiCurrencyEnabled(){var service=Sage.Services.getService("IntegrationContractService");if(service!=null&&typeof service!=="undefined"){return service.isMultiCurrencyEnabled;}return false;}function accountingSystemHandlesSO(){var service=Sage.Services.getService("IntegrationContractService");if(service!=null&&typeof service!=="undefined"){return service.accountingSystemHandlesSO;}return false;}function currentUserEndpoints(){var service=Sage.Services.getService("IntegrationContractService");if(service!=null&&typeof service!=="undefined"){return service.currentUserEndpoints;}return false;}function hasUserDefinedEndpoints(){var service=Sage.Services.getService("IntegrationContractService");if(service!=null&&typeof service!=="undefined"){return service.hasUserDefinedEndpoints;}return false;}require(["dojo/dnd/Moveable","dojo/dom","dojo/on","dojo/query","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/_base/lang"],function(Moveable,dom,on,query,domClass,domStyle,domGeom,lang){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};window.slxdatagrid=function(gridID){this.gridID=gridID;this.containerId=gridID+"_container";this.expandAllCell=null;this.expandable=false;this.table=null;this.expandclassname="slxgridrowexpand";this.expandnoiconclassname="slxgridrowexpandnoicon";this.collapseclassname="slxgridrowcollapse";this.collapsenoiconclassname="slxgridrowcollapsenoicon";this.contentdivclassname="cellcontents";this.pagerclassname="gridPager";this.collapsedheight="16px";this.wids=[];this.key="";this.expandHandle=null;this.__idIndexer=0;this.HeaderRow=null;var tbl=dom.byId(gridID);if(tbl){this.table=tbl;if(tbl.getAttribute("key")){this.key=tbl.getAttribute("key");}if((tbl.rows.length>0)&&(tbl.rows[0].cells.length>0)){var cell=(domClass.contains(tbl.rows[0],this.pagerclassname))?tbl.rows[1].cells[0]:tbl.rows[0].cells[0];this.expandable=(domClass.contains(cell,this.expandclassname)||domClass.contains(cell,this.expandnoiconclassname)||domClass.contains(cell,this.collapseclassname)||domClass.contains(cell,this.collapsenoiconclassname));if(this.expandable){this.expandAllCell=cell;if(this.expandHandle){this.expandHandle.remove();}this.expandHandle=on(cell,"click",lang.hitch(this,this.expandCollapseAll),true);}}this.setHeaderRow();this.initColWidths();this.setSortIDs();this.attachResizeEvent();}};slxdatagrid.prototype.GridKey=function(){return this.gridID+this.key;};slxdatagrid.prototype.dispose=function(){this.table=null;this.expandAllCell=null;};slxdatagrid.prototype.getColIndexStart=function(){return(this.expandable)?1:0;};slxdatagrid.prototype.setSortIDs=function(){if((this.table.rows.length>0)&&(this.HeaderRow)){var idx=(this.table.id.lastIndexOf("_")>0)?this.table.id.lastIndexOf("_")+1:0;var idRoot=this.table.id.substring(idx);for(var i=0;i<this.HeaderRow.cells.length;i++){var links=query("A",dom.byId(this.HeaderRow.cells[i]));for(var j=0;j<links.length;j++){links[j].id=idRoot+this.__idIndexer++;}}}};slxdatagrid.prototype.expandCollapseAll=function(){var i;if(domClass.contains(this.expandAllCell,this.expandclassname)){for(i=1;i<this.table.rows.length;i++){this.expandRow(this.table.rows[i]);}domClass.remove(this.expandAllCell,this.expandclassname);domClass.add(this.expandAllCell,this.collapseclassname);}else{if(domClass.contains(this.expandAllCell,this.collapseclassname)){for(i=1;i<this.table.rows.length;i++){this.collapseRow(this.table.rows[i]);}domClass.remove(this.expandAllCell,this.collapseclassname);domClass.add(this.expandAllCell,this.expandclassname);}}};function expandCollapseRow(){var row=this.gridobj.getRow(this.idx);this.gridobj.toggleRow(row);}slxdatagrid.prototype.toggleRow=function(row){if(row){if(domClass.contains(row.cells[0],this.expandclassname)||domClass.contains(row.cells[0],this.expandnoiconclassname)){this.expandRow(row);}else{if(domClass.contains(row.cells[0],this.collapseclassname)||domClass.contains(row.cells[0],this.collapsenoiconclassname)){this.collapseRow(row);}}}};slxdatagrid.prototype.expandRow=function(row){if(row){var cell=row.cells[0];if(domClass.contains(cell,this.collapseclassname)||(!domClass.contains(cell,this.expandclassname)&&!domClass.contains(cell,this.expandnoiconclassname))){return;}var collapseH=this.collapsedheight.replace("px","");for(var i=this.getColIndexStart();i<row.cells.length;i++){cell=row.cells[i];if(cell.childNodes[0]){if(domClass.contains(cell.childNodes[0],this.contentdivclassname)){if(cell.childNodes[0].scrollHeight>collapseH){domStyle.set(cell.childNodes[0],"height","100%");}}}}var expandoCell=row.cells[0];if(domClass.contains(expandoCell,this.expandclassname)){domClass.remove(expandoCell,this.expandclassname);domClass.add(expandoCell,this.collapseclassname);}else{domClass.remove(expandoCell,this.expandnoiconclassname);domClass.add(expandoCell,this.collapsenoiconclassname);}}};slxdatagrid.prototype.collapseRow=function(row){if(row){var cell=row.cells[0];if(domClass.contains(cell,this.expandclassname)||(!domClass.contains(cell,this.collapseclassname)&&!domClass.contains(cell,this.collapsenoiconclassname))){return;}var collapseH=this.collapsedheight.replace("px","");var setH=collapseH;for(var i=this.getColIndexStart();i<row.cells.length;i++){cell=row.cells[i];if(cell.childNodes[0]){if(domClass.contains(cell.childNodes[0],this.contentdivclassname)){setH=(collapseH<cell.childNodes[0].scrollHeight)?collapseH:cell.childNodes[0].scrollHeight;domStyle.set(cell.childNodes[0],"height",setH+"px");}}}var expandoCell=row.cells[0];if(domClass.contains(expandoCell,this.collapseclassname)){domClass.remove(expandoCell,this.collapseclassname);domClass.add(expandoCell,this.expandclassname);}else{domClass.remove(expandoCell,this.collapsenoiconclassname);domClass.add(expandoCell,this.expandnoiconclassname);}}};slxdatagrid.prototype.getRow=function(idx){if((this.table)&&(this.table.rows.length>idx)){return this.table.rows[idx];}return null;};slxdatagrid.prototype.initColWidths=function(){if(this.HeaderRow){if(this.getWidthsFromCookie()){if(this.expandable){this.setWidth(0,"20",false);}for(var i=this.getColIndexStart();i<this.HeaderRow.cells.length;i++){this.setWidth(i,this.wids[i],false);}}else{this.fillSpace();}}};slxdatagrid.prototype.fillSpace=function(){if(this.HeaderRow){if(this.expandable){this.setWidth(0,"20",false);}var cont=dom.byId(this.containerId);var container=this.getRegion(cont);var containerW=container.right-container.left;var tbl=this.getRegion(this.table);this.doResize();var spaceWidth=container.right-tbl.right;var divCols=this.HeaderRow.cells.length;if(this.expandable){divCols--;}var increaseBy=Math.round(spaceWidth/divCols);increaseBy--;this.getCurrentWidths();var start=(this.expandable)?1:0;if(increaseBy>3){for(var i=start;i<this.HeaderRow.cells.length;i++){var newtableregion=this.getRegion(this.table);if(newtableregion.right>container.right-increaseBy){increaseBy=container.right-newtableregion.right-2;}if(newtableregion.right>container.right-4){return;}var newWidth=this.wids[i]+increaseBy;if(this.wids[i]){this.setWidth(i,newWidth,false);if(cont.scrollWidth>containerW){this.setWidth(i,newWidth-(cont.scrollWidth-containerW),false);return;}newtableregion=this.getRegion(this.table);var tblWidth=newtableregion.right-newtableregion.left-2;if(tblWidth>=containerW){var newNewWidth=newWidth-(tblWidth-containerW+5);this.setWidth(i,newNewWidth,false);return;}}}}}};slxdatagrid.prototype.getCurrentWidths=function(){if(this.HeaderRow){this.wids=[];for(var i=0;i<this.HeaderRow.cells.length;i++){this.wids.push(this.getColumnWidth(i));}}};slxdatagrid.prototype.getColumnWidth=function(colIndex){if(this.HeaderRow){if(this.HeaderRow.cells[colIndex]){var region=this.getRegion(this.HeaderRow.cells[colIndex]);return region.right-region.left;}}return 0;};slxdatagrid.prototype.getRegion=function(node){var pos=domGeom.position(node,true);var results={bottom:pos.y-pos.h,left:pos.x,right:pos.x+pos.w,top:pos.y};return results;};slxdatagrid.prototype.getWidthsFromCookie=function(){var widthcookie=cookie.getCookie("GRIDCW");if(widthcookie){var grids=widthcookie.split("||");for(var i=0;i<grids.length;i++){var widthdef=grids[i].split("!");if(widthdef[0]==this.GridKey()){if(widthdef[1]){this.wids=widthdef[1].split(":");return true;}}}}return false;};slxdatagrid.prototype.setWidthsToCookie=function(){this.getCurrentWidths();var widthcookie=cookie.getCookie("GRIDCW");if(widthcookie){var grids=widthcookie.split("||");widthcookie="";var needtoadd=true;for(var i=0;i<grids.length;i++){var widthdef=grids[i].split("!");if(widthdef[0]==this.GridKey()){widthdef[1]=this.generateWidthCookieString();needtoadd=false;}widthcookie+=(i>0)?"||":"";widthcookie+=widthdef[0]+"!"+widthdef[1];}if(needtoadd){widthcookie+=(widthcookie!=="")?"||":"";widthcookie+=this.GridKey()+"!"+this.generateWidthCookieString();}}else{widthcookie=this.GridKey()+"!"+this.generateWidthCookieString();}document.cookie="GRIDCW="+widthcookie;};slxdatagrid.prototype.generateWidthCookieString=function(){var str="";for(var i=0;i<this.wids.length;i++){str+=(i>0)?":":"";var num=this.wids[i];num=Math.round(num);str+=num;}return str;};slxdatagrid.prototype.setWidth=function(colIdx,width,persist){if(!isNaN(width)){width=width+"px";}if(this.HeaderRow){for(var r=0;r<this.table.rows.length;r++){if(this.table.rows[r].cells[colIdx]){var cell=dom.byId(this.table.rows[r].cells[colIdx]);cell.style.width=width;cell.style.position="";}}if(persist){this.setWidthsToCookie();}}};slxdatagrid.prototype.setHeaderRow=function(){for(var r=0;r<this.table.rows.length;r++){if(this.table.rows[r].getAttribute("HeaderRow")){this.HeaderRow=this.table.rows[r];return;}}};slxdatagrid.prototype.doResize=function(){var cont=dom.byId(this.containerId);var container=this.getRegion(cont);var tbl=this.getRegion(this.table);if((tbl.right-tbl.left)>(container.right-container.left)){if(cont.style.height===""){var tblheight=tbl.bottom-tbl.top;dom.byId(this.containerId).style.height=(tblheight+20)+"px";}}};slxdatagrid.prototype.attachResizeEvent=function(){var viewport=window["mainViewport"];var panel=(viewport?viewport.findById("center_panel_center"):false);if(panel){panel.on("resize",function(panel,adjWidth,adjHeight,width,height){this.doResize();},this);}};slxdatagridcolumn=function(headerColId,datagrid,colIdx){if(headerColId){this.datagrid=datagrid;this.colIndex=colIdx;this.headerColId=headerColId;this.handleElId=headerColId;this.isMoving=false;var node=dom.byId(headerColId);if(node){this.domNode=node;this.position=domGeom.position(this.domNode);this.moveable=new Moveable(node);this.onMoveHandle=this.moveable.on("Move",lang.hitch(this,this.onMove));this.onFirstMoveHandle=this.moveable.on("FirstMove",lang.hitch(this,this.onFirstMove));this.onMoveStopHandle=this.moveable.on("MoveStop",lang.hitch(this,this.onMoveStop));this.onmouseoverHandle=on(node,"mouseover",lang.hitch(this,this.onmouseover));this.onmouseoutHandle=on(node,"mouseout",lang.hitch(this,this.onmouseout));}}};slxdatagridcolumn.prototype.refreshPosition=function(){var node=dom.byId(this.headerColId);if(node){this.domNode=node;this.position=domGeom.position(this.domNode);}};slxdatagridcolumn.prototype.dispose=function(){this.datagrid=null;this.onMoveHandle.remove();this.onFirstMoveHandle.remove();this.onMoveStopHandle.remove();this.onmouseoverHandle.remove();this.onmouseoutHandle.remove();this.moveable.destroy();};slxdatagridcolumn.prototype.onFirstMove=function(mover,e){this.startWidth=mover.node.offsetWidth;this.startPosX=e.clientX;this.startTop=mover.node.style.top;this.startLeft=mover.node.style.left;};slxdatagridcolumn.prototype.onMove=function(mover,leftTop,e){this.isMoving=true;mover.node.style.top=this.startTop;mover.node.style.left=this.startLeft;var newWidth=e.clientX-this.position.x;newWidth=newWidth*1.1;domStyle.set(mover.node,"width",(newWidth+"px"));this.datagrid.setWidth(this.colIndex,mover.node.style.width,true);this.refreshPosition();this.isMoving=false;};slxdatagridcolumn.prototype.onMoveStop=function(){this.isMoving=false;};slxdatagridcolumn.prototype.onmouseover=function(e){if(!this.isMoving&&this.isDraggableRegion(e.clientX)){this.domNode.style.cursor="col-resize";}else{this.domNode.style.cursor="";}};slxdatagridcolumn.prototype.isDraggableRegion=function(clientX){this.refreshPosition();var rightPos=this.position.x+this.position.w;var padding=6;if(clientX>(rightPos-padding)&&clientX<(rightPos+padding)){return true;}return false;};slxdatagridcolumn.prototype.onmouseout=function(){this.domNode.style.cursor="";};});var resizeTimerID=null;function Timeline_onResize(){if(resizeTimerID==null){resizeTimerID=window.setTimeout(function(){resizeTimerID=null;tl.layout();},500);}}function Timeline_init(timeline_object,tab){var method=timeline_object.onLoad;var delay=750;$("#show_"+tab).click(function(){window.setTimeout(method,delay);});$("#more_"+tab).click(function(){window.setTimeout(method,delay);});if($("#more_"+tab).length>0){$("#show_More").click(function(){window.setTimeout(method,delay);});}$(".tws-main-tab-buttons").click(function(){closeTimelineBubble();});$(".tws-more-tab-buttons-container").click(function(){closeTimelineBubble();});if(document.body.addEventListener){document.body.addEventListener("onresize",Timeline_onResize,false);}else{if(document.body.attachEvent){document.body.attachEvent("onresize",Timeline_onResize);}}dojo.subscribe("/group/context/changed",timeline_object,timeline_object.onLoad);if(document.getElementById(timeline_object.ParentElement)!=null){if(document.getElementById(timeline_object.ParentElement).hasChildNodes()){method();}else{window.setTimeout(method,delay);}}}function closeTimelineBubble(){SimileAjax.WindowManager.popAllLayers();}function Timeline_RecalculateHeight(){$("div.timeline-container").each(function(i,elem){var container=elem;if(container.hasChildNodes()&&(container.clientHeight>0)){var largest=(container.clientHeight>0)?container.clientHeight-55:300-55;var changed=false;var bands=$(".timeline-band-0 .timeline-band-events .timeline-band-layer-inner");for(var i=0;i<bands.length;i++){var div=bands[i];if(div&&(div.lastChild)){for(var j=0;j<div.childNodes.length;j++){if(div.childNodes[j].offsetTop>largest){largest=div.childNodes[j].offsetTop;changed=true;}}}}if(changed){var navbandheight=$(".timeline-band-1")[0].style.height;container.style.height=parseInt(largest+parseInt(navbandheight,10)+30,10)+"px";$(".timeline-band-0")[0].style.height=parseInt(largest+30,10)+"px";$(".timeline-band-1")[0].style.top=parseInt(largest+30,10)+"px";$(".timeline-band-1")[0].style.height=navbandheight;if(container.parent){container.parent.style.height=container.style.height;}}window.setTimeout(function(){Timeline_RecalculateHeight();},2000);}});}function Timeline_IEFix(){var divs=$(".timeline-band-layer-inner div");if(divs){divs.each(function(i,el){if(el.innerHTML!==""){$(el).width("auto");}});}}function Timeline_GetMashupData(mashupName,queryName,timeLine,eventSource){dojo.require("Sage.Utility");var service=Sage.Utility.getSDataService("mashups");var request=new Sage.SData.Client.SDataNamedQueryRequest(service);var clientService=Sage.Services.getService("ClientEntityContext");var clientContext=clientService.getContext();var entityId=clientContext.EntityId;request.setApplicationName("$app");request.setResourceKind("mashups");request.uri.setCollectionPredicate("'"+mashupName+"'");request.setQueryName("execute");request.setQueryArg("_resultName",queryName);request.setQueryArg("_EntityId",entityId);request.read({success:function(data){var events=[];var json={events:[]};var item;var len=data.$resources.length;for(var i=0;i<len;i++){item=data.$resources[i];json.events.push({start:Sage.Utility.Convert.toDateFromString(item.Start),end:Sage.Utility.Convert.toDateFromString(item.End),title:item.Title,description:item.Description,isDuration:true,link:item.Link,icon:item.Icon,color:item.Color,image:item.Thumbnail});}eventSource.loadJSON(json,document.location.href);if(dojo.isIE===9){Timeline_IEFix();$(".timeline-container").mousedown(function(){Timeline_IEFix();});$(".timeline-container").mouseup(function(){Timeline_IEFix();});}},failure:function(data){}});}var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(input){var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=Base64._utf8_encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else{if(isNaN(chr3)){enc4=64;}}output=output+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);}return output;},decode:function(input){var output="";var chr1,chr2,chr3;var enc1,enc2,enc3,enc4;var i=0;input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<input.length){enc1=this._keyStr.indexOf(input.charAt(i++));enc2=this._keyStr.indexOf(input.charAt(i++));enc3=this._keyStr.indexOf(input.charAt(i++));enc4=this._keyStr.indexOf(input.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output=output+String.fromCharCode(chr1);if(enc3!=64){output=output+String.fromCharCode(chr2);}if(enc4!=64){output=output+String.fromCharCode(chr3);}}output=Base64._utf8_decode(output);return output;},_utf8_encode:function(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}else{if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}}return utftext;},_utf8_decode:function(utftext){var string="";var i=0;var c=c1=c2=0;while(i<utftext.length){c=utftext.charCodeAt(i);if(c<128){string+=String.fromCharCode(c);i++;}else{if((c>191)&&(c<224)){c2=utftext.charCodeAt(i+1);string+=String.fromCharCode(((c&31)<<6)|(c2&63));i+=2;}else{c2=utftext.charCodeAt(i+1);c3=utftext.charCodeAt(i+2);string+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));i+=3;}}}return string;}};if(typeof(XML)=="undefined"){XML=function(){};}XML.ObjTree=function(){return this;};XML.ObjTree.VERSION="0.24";XML.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n';XML.ObjTree.prototype.attr_prefix="-";XML.ObjTree.prototype.overrideMimeType="text/xml";XML.ObjTree.prototype.parseXML=function(xml){var root;if(window.DOMParser){var xmldom=new DOMParser();var dom=xmldom.parseFromString(xml,"application/xml");if(!dom){return;}root=dom.documentElement;}else{if(window.ActiveXObject){xmldom=new ActiveXObject("Microsoft.XMLDOM");xmldom.async=false;xmldom.loadXML(xml);root=xmldom.documentElement;}}if(!root){return;}return this.parseDOM(root);};XML.ObjTree.prototype.parseHTTP=function(url,options,callback){var myopt={};for(var key in options){myopt[key]=options[key];}if(!myopt.method){if(typeof(myopt.postBody)=="undefined"&&typeof(myopt.postbody)=="undefined"&&typeof(myopt.parameters)=="undefined"){myopt.method="get";}else{myopt.method="post";}}if(callback){myopt.asynchronous=true;var __this=this;var __func=callback;var __save=myopt.onComplete;myopt.onComplete=function(trans){var tree;if(trans&&trans.responseXML&&trans.responseXML.documentElement){tree=__this.parseDOM(trans.responseXML.documentElement);}else{if(trans&&trans.responseText){tree=__this.parseXML(trans.responseText);}}__func(tree,trans);if(__save){__save(trans);}};}else{myopt.asynchronous=false;}var trans;if(typeof(HTTP)!="undefined"&&HTTP.Request){myopt.uri=url;var req=new HTTP.Request(myopt);if(req){trans=req.transport;}}else{if(typeof(Ajax)!="undefined"&&Ajax.Request){var req=new Ajax.Request(url,myopt);if(req){trans=req.transport;}}}if(callback){return trans;}if(trans&&trans.responseXML&&trans.responseXML.documentElement){return this.parseDOM(trans.responseXML.documentElement);}else{if(trans&&trans.responseText){return this.parseXML(trans.responseText);}}};XML.ObjTree.prototype.parseDOM=function(root){if(!root){return;}this.__force_array={};if(this.force_array){for(var i=0;i<this.force_array.length;i++){this.__force_array[this.force_array[i]]=1;}}var json=this.parseElement(root);if(this.__force_array[root.nodeName]){json=[json];}if(root.nodeType!=11){var tmp={};tmp[root.nodeName]=json;json=tmp;}return json;};XML.ObjTree.prototype.parseElement=function(elem){if(elem.nodeType==7){return;}if(elem.nodeType==3||elem.nodeType==4){var bool=elem.nodeValue.match(/[^\x00-\x20]/);if(bool==null){return;}return elem.nodeValue;}var retval;var cnt={};if(elem.attributes&&elem.attributes.length){retval={};for(var i=0;i<elem.attributes.length;i++){var key=elem.attributes[i].nodeName;if(typeof(key)!="string"){continue;}var val=elem.attributes[i].nodeValue;if(!val){continue;}key=this.attr_prefix+key;if(typeof(cnt[key])=="undefined"){cnt[key]=0;}cnt[key]++;this.addNode(retval,key,cnt[key],val);}}if(elem.childNodes&&elem.childNodes.length){var textonly=true;if(retval){textonly=false;}for(var i=0;i<elem.childNodes.length&&textonly;i++){var ntype=elem.childNodes[i].nodeType;if(ntype==3||ntype==4){continue;}textonly=false;}if(textonly){if(!retval){retval="";}for(var i=0;i<elem.childNodes.length;i++){retval+=elem.childNodes[i].nodeValue;}}else{if(!retval){retval={};}for(var i=0;i<elem.childNodes.length;i++){var key=elem.childNodes[i].nodeName;if(typeof(key)!="string"){continue;}var val=this.parseElement(elem.childNodes[i]);if(!val){continue;}if(typeof(cnt[key])=="undefined"){cnt[key]=0;}cnt[key]++;this.addNode(retval,key,cnt[key],val);}}}return retval;};XML.ObjTree.prototype.addNode=function(hash,key,cnts,val){if(this.__force_array[key]){if(cnts==1){hash[key]=[];}hash[key][hash[key].length]=val;}else{if(cnts==1){hash[key]=val;}else{if(cnts==2){hash[key]=[hash[key],val];}else{hash[key][hash[key].length]=val;}}}};XML.ObjTree.prototype.writeXML=function(tree){var xml=this.hash_to_xml(null,tree);return this.xmlDecl+xml;};XML.ObjTree.prototype.hash_to_xml=function(name,tree){var elem=[];var attr=[];for(var key in tree){if(!tree.hasOwnProperty(key)){continue;}var val=tree[key];if(key.charAt(0)!=this.attr_prefix){if(typeof(val)=="undefined"||val==null){elem[elem.length]="<"+key+" />";}else{if(typeof(val)=="object"&&val.constructor==Array){elem[elem.length]=this.array_to_xml(key,val);}else{if(typeof(val)=="object"){elem[elem.length]=this.hash_to_xml(key,val);}else{elem[elem.length]=this.scalar_to_xml(key,val);}}}}else{attr[attr.length]=" "+(key.substring(1))+'="'+(this.xml_escape(val))+'"';}}var jattr=attr.join("");var jelem=elem.join("");if(typeof(name)=="undefined"||name==null){}else{if(elem.length>0){if(jelem.match(/\n/)){jelem="<"+name+jattr+">\n"+jelem+"</"+name+">\n";}else{jelem="<"+name+jattr+">"+jelem+"</"+name+">\n";}}else{jelem="<"+name+jattr+" />\n";}}return jelem;};XML.ObjTree.prototype.array_to_xml=function(name,array){var out=[];for(var i=0;i<array.length;i++){var val=array[i];if(typeof(val)=="undefined"||val==null){out[out.length]="<"+name+" />";}else{if(typeof(val)=="object"&&val.constructor==Array){out[out.length]=this.array_to_xml(name,val);}else{if(typeof(val)=="object"){out[out.length]=this.hash_to_xml(name,val);}else{out[out.length]=this.scalar_to_xml(name,val);}}}}return out.join("");};XML.ObjTree.prototype.scalar_to_xml=function(name,text){if(name=="#text"){return this.xml_escape(text);}else{return"<"+name+">"+this.xml_escape(text)+"</"+name+">\n";}};XML.ObjTree.prototype.xml_escape=function(text){return String(text).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");};(function(){var d=Sage,a=Sage.namespace("Sage.SData.Client.Ajax");var f=function(g){return((g>=200&&g<300)||g===304);};var b=function(k,j){if(k.readyState==4){if(f(k.status)){if(j.success){j.success.call(j.scope||this,k,j);}}else{if(k.status===0){var i=false;try{i=(k.statusText==="");}catch(g){i=true;}if(i){var h=j.aborted||j.failure;if(h){h.call(j.scope||this,k,j);}}else{if(j.failure){j.failure.call(j.scope||this,k,j);}}}else{if(j.failure){j.failure.call(j.scope||this,k,j);}}}}};var c=function(h,g){h.onreadystatechange=function(){b.call(h,h,g);};};var e=function(h){var g=[];for(var i in h){g.push(encodeURIComponent(i)+"="+encodeURIComponent(h[i]));}return g.join("&");};Sage.apply(Sage.SData.Client.Ajax,{request:function(j){var j=d.apply({},j);j.params=d.apply({},j.params);j.headers=d.apply({},j.headers);if(j.cache!==false){j.params[j.cacheParam||"_t"]=(new Date()).getTime();}j.method=j.method||"GET";var g=e(j.params);if(g){j.url=j.url+(/\?/.test(j.url)?"&":"?")+g;}var i=new XMLHttpRequest();if(j.user){i.open(j.method,j.url,j.async!==false,j.user,j.password);i.withCredentials=true;}else{i.open(j.method,j.url,j.async!==false);}try{i.setRequestHeader("Accept",j.accept||"*/*");i.setRequestHeader("X-Requested-With","XMLHttpRequest");if(j.contentType){i.setRequestHeader("Content-Type",j.contentType);}for(var k in j.headers){i.setRequestHeader(k,j.headers[k]);}}catch(h){}if(j.async!==false){c(i,j);i.send(j.body||null);}else{i.send(j.body||null);b(i,j);}return i;},cancel:function(g){g.abort();}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataBaseRequest=Sage.Class.define({service:null,uri:null,completeHeaders:null,extendedHeaders:null,constructor:function(c){this.base.apply(this,arguments);this.service=c;this.completeHeaders={};this.extendedHeaders={};this.uri=new Sage.SData.Client.SDataUri();if(this.service){this.uri.setVersion(this.service.getVersion());this.uri.setIncludeContent(this.service.getIncludeContent());this.uri.setServer(this.service.getVirtualDirectory()?this.service.getVirtualDirectory():"sdata");this.uri.setScheme(this.service.getProtocol());this.uri.setHost(this.service.getServerName());this.uri.setPort(this.service.getPort());}},clone:function(){return new Sage.SData.Client.SDataBaseRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},setRequestHeader:function(c,d){this.completeHeaders[c]=d;},extendRequestHeader:function(c,d){this.extendedHeaders[c]=d;},clearRequestHeader:function(c){delete this.completeHeaders[c];delete this.extendedHeaders[c];},getAccept:function(){return this.extendedHeaders.Accept;},setAccept:function(c){this.extendRequestHeader("Accept",c);return this;},getService:function(){return this.service;},getUri:function(){return this.uri;},setUri:function(c){this.uri=c;return this;},getServerName:function(){return this.uri.getHost();},setServerName:function(c){this.uri.setHost(c);return this;},getVirtualDirectory:function(){return this.uri.getServer();},setVirtualDirectory:function(c){this.uri.setServer(c);return this;},getProtocol:function(){return this.uri.getScheme();},setProtocol:function(c){this.uri.setScheme(c);return this;},getPort:function(){return this.uri.getPort();},setPort:function(c){this.uri.setPort(c);return this;},getQueryArgs:function(){return this.uri.getQueryArgs();},setQueryArgs:function(d,c){this.uri.setQueryArgs(d,c);return this;},getQueryArg:function(c){return this.uri.getQueryArg(c);},setQueryArg:function(c,d){this.uri.setQueryArg(c,d);return this;},build:function(c){return this.uri.build(c);},toString:function(c){return this.build(c);}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataApplicationRequest=Sage.SData.Client.SDataBaseRequest.extend({constructor:function(){this.base.apply(this,arguments);if(this.service){this.uri.setProduct(this.service.getApplicationName()?this.service.getApplicationName():"-");this.uri.setContract(this.service.getContractName()?this.service.getContractName():"-");this.uri.setCompanyDataset(this.service.getDataSet()?this.service.getDataSet():"-");}},clone:function(){return new Sage.SData.Client.SDataApplicationRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},getApplicationName:function(){return this.uri.getProduct();},setApplicationName:function(c){this.uri.setProduct(c);return this;},getContractName:function(){return this.uri.getContract();},setContractName:function(c){this.uri.setContract(c);return this;},getDataSet:function(){return this.uri.getCompanyDataset();},setDataSet:function(c){this.uri.setCompanyDataset(c);return this;},getResourceKind:function(){return this.uri.getCollectionType();},setResourceKind:function(c){this.uri.setCollectionType(c);return this;}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataResourceCollectionRequest=Sage.SData.Client.SDataApplicationRequest.extend({constructor:function(){this.base.apply(this,arguments);},clone:function(){return new Sage.SData.Client.SDataResourceCollectionRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},getCount:function(){return this.uri.getCount();},setCount:function(c){this.uri.setCount(c);return this;},getStartIndex:function(){return this.uri.getStartIndex();},setStartIndex:function(c){this.uri.setStartIndex(c);return this;},read:function(c){return this.service.readFeed(this,c);}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataNamedQueryRequest=Sage.SData.Client.SDataResourceCollectionRequest.extend({constructor:function(){this.base.apply(this,arguments);this.uri.setPathSegment(b.SDataUri.ResourcePropertyIndex,b.SDataUri.NamedQuerySegment);},clone:function(){return new Sage.SData.Client.SDataNamedQueryRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},getQueryName:function(){return this.uri.getPathSegment(b.SDataUri.ResourcePropertyIndex+1);},setQueryName:function(c){this.uri.setPathSegment(b.SDataUri.ResourcePropertyIndex+1,c);return this;}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataSingleResourceRequest=Sage.SData.Client.SDataApplicationRequest.extend({constructor:function(){this.base.apply(this,arguments);},clone:function(){return new Sage.SData.Client.SDataSingleResourceRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},read:function(c){return this.service.readEntry(this,c);},update:function(d,c){return this.service.updateEntry(this,d,c);},create:function(d,c){return this.service.createEntry(this,d,c);},"delete":function(d,c){return this.service.deleteEntry(this,d,c);},getResourceSelector:function(){return this.uri.getCollectionPredicate();},setResourceSelector:function(c){this.uri.setCollectionPredicate(c);return this;}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataResourcePropertyRequest=Sage.SData.Client.SDataSingleResourceRequest.extend({constructor:function(){this.base.apply(this,arguments);},clone:function(){return new Sage.SData.Client.SDataResourcePropertyRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},readFeed:function(c){return this.service.readFeed(this,c);},getResourceProperty:function(){return this.uri.getPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex);},setResourceProperty:function(c){this.uri.setPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex,c);return this;}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataSystemRequest=Sage.SData.Client.SDataBaseRequest.extend({constructor:function(){this.base.apply(this,arguments);this.uri.setPathSegment(Sage.SData.Client.SDataUri.ProductPathIndex,Sage.SData.Client.SDataUri.SystemSegment);},clone:function(){return new Sage.SData.Client.SDataSystemRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},getCategory:function(){this.uri.getPathSegment(Sage.SData.Client.SDataUri.ContractTypePathIndex);},setCategory:function(c){this.uri.setPathSegment(Sage.SData.Client.SDataUri.ContractTypePathIndex,c);return this;},read:function(c){return this.service.readFeed(this,c);}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataTemplateResourceRequest=Sage.SData.Client.SDataApplicationRequest.extend({constructor:function(){this.base.apply(this,arguments);this.uri.setPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex,Sage.SData.Client.SDataUri.TemplateSegment);},clone:function(){return new Sage.SData.Client.SDataTemplateResourceRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},read:function(c){return this.service.readEntry(this,c);}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataServiceOperationRequest=Sage.SData.Client.SDataApplicationRequest.extend({constructor:function(){this.base.apply(this,arguments);this.uri.setPathSegment(b.SDataUri.ResourcePropertyIndex,b.SDataUri.ServiceMethodSegment);},clone:function(){return new Sage.SData.Client.SDataServiceOperationRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri));},execute:function(d,c){return this.service.executeServiceOperation(this,d,c);},getOperationName:function(){return this.uri.getPathSegment(b.SDataUri.ResourcePropertyIndex+1);},setOperationName:function(c){this.uri.setPathSegment(b.SDataUri.ResourcePropertyIndex+1,c);return this;}});})();(function(){var a=Sage,b=Sage.namespace("Sage.SData.Client");Sage.SData.Client.SDataBatchRequest=Sage.SData.Client.SDataApplicationRequest.extend({items:null,constructor:function(){this.base.apply(this,arguments);this.items=[];this.uri.setPathSegment(Sage.SData.Client.SDataUri.ResourcePropertyIndex,Sage.SData.Client.SDataUri.BatchSegment);},clone:function(){return new Sage.SData.Client.SDataBatchRequest(this.service).setUri(new Sage.SData.Client.SDataUri(this.uri)).setItems(this.items.slice(0));},getItems:function(){return this.items;},setItems:function(c){this.items=c;return this;},using:function(d,c){if(this.service){this.service.registerBatchScope(this);}else{throw"A service must be associated with the batch request.";}try{d.call(c||this,this);}catch(f){this.service.clearBatchScope(this);throw f;}this.service.clearBatchScope(this);return this;},add:function(c){this.items.push(c);},commit:function(c){this.service.commitBatch(this,c);}});})();(function(){var a=Sage,c=Sage.namespace("Sage.SData.Client"),b=/^true$/i;Sage.SData.Client.SDataUri=Sage.Class.define({scheme:"http",host:"",server:"",port:-1,version:null,queryArgs:null,pathSegments:null,constructor:function(d){this.base.apply(this,arguments);a.apply(this,d);this.queryArgs=a.apply({},d&&d.queryArgs);this.pathSegments=(d&&d.pathSegments&&d.pathSegments.slice(0))||[];this.version=(d&&d.version&&a.apply({},d.version))||{major:1,minor:0};},clone:function(){return new Sage.SData.Client.SDataUri(this);},getVersion:function(){return this.version;},setVersion:function(d){this.version=a.apply({major:0,minor:0},d);return this;},getScheme:function(){return this.scheme;},setScheme:function(d){this.scheme=d;return this;},getHost:function(){return this.host;},setHost:function(d){this.host=d;return this;},getPort:function(){return this.port;},setPort:function(d){this.port=d;return this;},getServer:function(){return this.server;},setServer:function(d){this.server=d;return this;},getQueryArgs:function(){return this.queryArgs;},setQueryArgs:function(e,d){this.queryArgs=d?e:a.apply(this.queryArgs,e);return this;},getQueryArg:function(d){return this.queryArgs[d];},setQueryArg:function(d,e){this.queryArgs[d]=e;return this;},getPathSegments:function(){return this.pathSegments;},setPathSegments:function(d){this.pathSegments=d;return this;},getPathSegment:function(d){return this.pathSegments.length>d?this.pathSegments[d]:false;},setPathSegment:function(e,g,d){if(!g&&!d){this.pathSegments[e]=null;}else{if(typeof g==="object"){this.pathSegments[e]=a.apply({},g,this.pathSegments[e]);}else{var f={};if(g){f.text=g;}if(d){f.predicate=d;}this.pathSegments[e]=a.apply({},f,this.pathSegments[e]);}}return this;},getStartIndex:function(){return this.queryArgs[c.SDataUri.QueryArgNames.StartIndex]?parseInt(this.queryArgs[c.SDataUri.QueryArgNames.StartIndex]):-1;},setStartIndex:function(d){this.queryArgs[c.SDataUri.QueryArgNames.StartIndex]=d;return this;},getCount:function(){return this.queryArgs[c.SDataUri.QueryArgNames.Count]?parseInt(this.queryArgs[c.SDataUri.QueryArgNames.Count]):-1;},setCount:function(d){this.queryArgs[c.SDataUri.QueryArgNames.Count]=d;return this;},getIncludeContent:function(){var d=this.version.major>=1?c.SDataUri.QueryArgNames.IncludeContent:c.SDataUri.QueryArgNames.LegacyIncludeContent;return b.test(this.queryArgs[d]);},setIncludeContent:function(e){var d=this.version.major>=1?c.SDataUri.QueryArgNames.IncludeContent:c.SDataUri.QueryArgNames.LegacyIncludeContent;this.queryArgs[d]=""+e;return this;},appendPath:function(e){var d=typeof e==="string"?{text:e}:e;this.pathSegments.push(d);return this;},toString:function(d){return this.build(d);},build:function(e){var d=[];d.push(this.getScheme()||c.SDataUri.Http);d.push(c.SDataUri.SchemeSuffix);d.push(c.SDataUri.PathSegmentPrefix);d.push(c.SDataUri.PathSegmentPrefix);d.push(this.getHost());if(this.getPort()>0){d.push(c.SDataUri.PortPrefix,this.getPort());}d.push(c.SDataUri.PathSegmentPrefix);var j=this.getPathSegments();var n=[];var g=this.getServer();if(g&&g.length>0){n=n.concat(g.split("/"));}for(var h=0;h<j.length;h++){var k=j[h];if(k&&k.text){if(k.predicate){n.push(encodeURIComponent(k.text+"("+k.predicate+")"));}else{n.push(encodeURIComponent(k.text));}}}d.push(n.join(c.SDataUri.PathSegmentPrefix));if(e){return d.join("");}var f=this.getQueryArgs();var l=[];for(var m in f){l.push(encodeURIComponent(m)+c.SDataUri.QueryArgValuePrefix+encodeURIComponent(f[m]));}if(l.length>0){d.push(c.SDataUri.QueryPrefix);d.push(l.join(c.SDataUri.QueryArgPrefix));}return d.join("");},getProduct:function(){return this.getPathSegment(c.SDataUri.ProductPathIndex);},setProduct:function(d){return this.setPathSegment(c.SDataUri.ProductPathIndex,d);},getContract:function(){return this.getPathSegment(c.SDataUri.ContractTypePathIndex);},setContract:function(d){return this.setPathSegment(c.SDataUri.ContractTypePathIndex,d);},getCompanyDataset:function(){return this.getPathSegment(c.SDataUri.CompanyDatasetPathIndex);},setCompanyDataset:function(d){return this.setPathSegment(c.SDataUri.CompanyDatasetPathIndex,d);},getCollectionType:function(){return this.getPathSegment(c.SDataUri.CollectionTypePathIndex);},setCollectionType:function(d){return this.setPathSegment(c.SDataUri.CollectionTypePathIndex,d);},getCollectionPredicate:function(){var d=this.getPathSegment(c.SDataUri.CollectionTypePathIndex);return(d&&d.predicate)||false;},setCollectionPredicate:function(d){return this.setPathSegment(c.SDataUri.CollectionTypePathIndex,{predicate:d});}});Sage.apply(Sage.SData.Client.SDataUri,{Http:"http",Https:"https",PathSegmentPrefix:"/",PortPrefix:":",QueryArgPrefix:"&",QueryArgValuePrefix:"=",QueryPrefix:"?",SchemeSuffix:":",UnspecifiedPort:-1,UriName:"uri",QueryArgNames:{Count:"count",Exclude:"exclude",Format:"format",Include:"include",IncludeContent:"_includeContent",LegacyIncludeContent:"includeContent",IncludeSchema:"includeSchema",Language:"language",OrderBy:"orderby",Precedence:"precedence",ReturnDelta:"returnDelta",Search:"search",Select:"select",StartIndex:"startIndex",Thumbnail:"thumbnail",TrackingID:"trackingID",Where:"where"},ProductPathIndex:0,ContractTypePathIndex:1,CompanyDatasetPathIndex:2,CollectionTypePathIndex:3,ResourcePropertyIndex:4,ServiceMethodSegment:"$service",TemplateSegment:"$template",SystemSegment:"$system",NamedQuerySegment:"$queries",BatchSegment:"$batch"});})();(function(){var b=Sage,d=Sage.namespace("Sage.SData.Client"),a=function(e){return typeof e!=="undefined";},c=/^(.+?):(.*)$/;Sage.SData.Client.SDataService=Sage.Evented.extend({uri:null,useCredentialedRequest:false,userAgent:"Sage",userName:false,password:"",batchScope:null,constructor:function(e){this.base.apply(this,arguments);this.uri=new Sage.SData.Client.SDataUri();if(e){if(a(e.uri)){this.uri=new Sage.SData.Client.SDataUri(e.uri);}if(a(e.version)){this.uri.setVersion(e.version);}if(a(e.serverName)){this.uri.setHost(e.serverName);}if(a(e.virtualDirectory)){this.uri.setServer(e.virtualDirectory);}if(a(e.applicationName)){this.uri.setProduct(e.applicationName);}if(a(e.contractName)){this.uri.setContract(e.contractName);}if(a(e.dataSet)){this.uri.setCompanyDataset(e.dataSet);}if(a(e.port)){this.uri.setPort(e.port);}if(a(e.protocol)){this.uri.setScheme(e.protocol);}if(a(e.includeContent)){this.uri.setIncludeContent(e.includeContent);}if(a(e.json)){this.json=e.json;}if(a(e.userName)){this.userName=e.userName;}if(a(e.password)){this.password=e.password;}if(a(e.useCredentialedRequest)){this.useCredentialedRequest=e.useCredentialedRequest;}}this.addEvents("beforerequest","requestcomplete","requestexception","requestaborted");},isJsonEnabled:function(){return this.json;},enableJson:function(){this.json=true;return this;},disableJson:function(){this.json=false;return this;},getVersion:function(){return this.uri.getVersion();},setVersion:function(e){this.uri.setVersion(e);return this;},getUri:function(){return this.uri;},getUserName:function(){return this.userName;},setUserName:function(e){this.userName=e;return this;},getPassword:function(){return this.password;},setPassword:function(e){this.password=e;return this;},getProtocol:function(){return this.uri.getScheme();},setProtocol:function(e){this.uri.setScheme(e);return this;},getServerName:function(){return this.uri.getHost();},setServerName:function(e){this.uri.setHost(e);return this;},getPort:function(){return this.uri.getPort();},setPort:function(e){this.uri.setPort(e);return this;},getVirtualDirectory:function(){return this.uri.getServer();},setVirtualDirectory:function(e){this.uri.setServer(e);return this;},getApplicationName:function(){return this.uri.getProduct();},setApplicationName:function(e){this.uri.setProduct(e);return this;},getContractName:function(){return this.uri.getContract();},setContractName:function(e){this.uri.setContract(e);return this;},getDataSet:function(){return this.uri.getCompanyDataset();},setDataSet:function(e){this.uri.setCompanyDataset(e);return this;},getIncludeContent:function(){return this.uri.getIncludeContent();},setIncludeContent:function(e){this.uri.setIncludeContent(e);return this;},getUserAgent:function(){return this.userAgent;},setUserAgent:function(e){this.userAgent=e;return this;},registerBatchScope:function(e){this.batchScope=e;},clearBatchScope:function(e){this.batchScope=null;},createBasicAuthToken:function(){return"Basic "+Base64.encode(this.userName+":"+this.password);},createHeadersForRequest:function(e){var f={"X-Authorization-Mode":"no-challenge"};if(this.userName&&!this.useCredentialedRequest){f.Authorization=f["X-Authorization"]=this.createBasicAuthToken();}return f;},extendAcceptRequestHeader:function(e,f){if(e){return e.split(/\s*,\s*/).join(";"+f+",")+";"+f;}return e;},executeRequest:function(f,e,g){if(this.json){f.setQueryArg("format","json");}var h=b.apply({async:e.async,headers:{},method:"GET",url:f.build()},{scope:this,success:function(i,j){var k=this.processFeed(i);this.fireEvent("requestcomplete",f,j,k);if(e.success){e.success.call(e.scope||this,k);}},failure:function(i,j){this.fireEvent("requestexception",f,j,i);if(e.failure){e.failure.call(e.scope||this,i,j);}},aborted:function(i,j){this.fireEvent("requestaborted",f,j,i);if(e.aborted){e.aborted.call(e.scope||this,i,j);}}},g);b.apply(h.headers,this.createHeadersForRequest(f),f.completeHeaders);if(f.extendedHeaders.Accept){h.headers.Accept=this.extendAcceptRequestHeader(h.headers.Accept,f.extendedHeaders.Accept);}if(this.userName&&this.useCredentialedRequest){h.user=this.userName;h.password=this.password;}this.fireEvent("beforerequest",f,h);if(typeof h.result!=="undefined"){if(e.success){e.success.call(e.scope||this,h.result);}return;}return d.Ajax.request(h);},abortRequest:function(e){d.Ajax.cancel(e);},readFeed:function(f,e){e=e||{};if(this.batchScope){this.batchScope.add({url:f.build(),method:"GET"});return;}var g={headers:{Accept:this.json?"application/json,*/*":"application/atom+xml;type=feed,*/*"}};if(e.httpMethodOverride){if(this.json){f.setQueryArg("format","json");}g.headers["X-HTTP-Method-Override"]="GET";g.method="POST";g.body=f.build();g.url=f.build(true);}return this.executeRequest(f,e,g);},readEntry:function(f,e){e=e||{};if(this.batchScope){this.batchScope.add({url:f.build(),method:"GET"});return;}var g=b.apply({},{success:function(i){var h=i["$resources"][0]||false;if(e.success){e.success.call(e.scope||this,h);}}},e);return this.executeRequest(f,g,{headers:{Accept:this.json?"application/json,*/*":"application/atom+xml;type=entry,*/*"}});},createEntry:function(h,g,f){f=f||{};if(this.batchScope){this.batchScope.add({url:h.build(),entry:g,method:"POST"});return;}var j=b.apply({},{success:function(l){var k=l["$resources"][0]||false;if(f.success){f.success.call(f.scope||this,k);}}},f);var i=b.apply({},{method:"POST"});if(this.isJsonEnabled()){b.apply(i,{body:JSON.stringify(g),headers:{"Content-Type":"application/json"}});}else{var e=new XML.ObjTree();e.attr_prefix="@";b.apply(i,{body:e.writeXML(this.formatEntry(g)),headers:{"Content-Type":"application/atom+xml;type=entry",Accept:"application/atom+xml;type=entry,*/*"}});}return this.executeRequest(h,j,i);},updateEntry:function(h,g,f){f=f||{};if(this.batchScope){this.batchScope.add({url:h.build(),entry:g,method:"PUT",etag:g["$etag"]});return;}var k=b.apply({},{success:function(m){var l=m["$resources"][0]||false;if(f.success){f.success.call(f.scope||this,l);}}},f);var j={},i={method:"PUT",headers:j};if(g["$etag"]&&!(f&&f.ignoreETag)){j["If-Match"]=g["$etag"];}if(this.isJsonEnabled()){j["Content-Type"]="application/json";i.body=JSON.stringify(g);}else{var e=new XML.ObjTree();e.attr_prefix="@";j["Content-Type"]="application/atom+xml;type=entry";j.Accept="application/atom+xml;type=entry,*/*";i.body=e.writeXML(this.formatEntry(g));}return this.executeRequest(h,k,i);},deleteEntry:function(g,f,e){e=e||{};if(this.batchScope){this.batchScope.add({url:g.build(),method:"DELETE",etag:!(e&&e.ignoreETag)&&f["$etag"]});return;}var i={},h={method:"DELETE",headers:i};if(f["$etag"]&&!(e&&e.ignoreETag)){i["If-Match"]=f["$etag"];}return this.executeRequest(g,e,h);},executeServiceOperation:function(h,g,f){var j=b.apply({},{success:function(m){var l=m["$resources"][0]||false,k=l&&l.response,o=k&&k["$resources"],n=o&&o[0];if(n&&n["$name"]){l.response={};l.response[n["$name"]]=n;}if(f.success){f.success.call(f.scope||this,l);}}},f);var i=b.apply({},{method:"POST"});if(this.isJsonEnabled()){b.apply(i,{body:JSON.stringify(g),headers:{"Content-Type":"application/json"}});}else{var e=new XML.ObjTree();e.attr_prefix="@";b.apply(i,{body:e.writeXML(this.formatEntry(g)),headers:{"Content-Type":"application/atom+xml;type=entry",Accept:"application/atom+xml;type=entry,*/*"}});}return this.executeRequest(h,j,i);},commitBatch:function(e,n){n=n||{};var h=e.getItems(),m,k,l={"$resources":[]};for(var f=0;f<h.length;f++){m=h[f];k=b.apply({},m.entry);if(m.url){k["$url"]=m.url;}if(m.etag){k["$ifMatch"]=m.etag;}if(m.method){k["$httpMethod"]=m.method;}delete k["$etag"];l["$resources"].push(k);}var j=b.apply({},{method:"POST"});if(this.isJsonEnabled()){b.apply(j,{body:JSON.stringify(l),headers:{"Content-Type":"application/json"}});}else{var g=new XML.ObjTree();g.attr_prefix="@";b.apply(j,{body:g.writeXML(this.formatFeed(l)),headers:{"Content-Type":"application/atom+xml;type=feed",Accept:"application/atom+xml;type=feed,*/*"}});}return this.executeRequest(e,n,j);},parseFeedXml:function(f){var e=new XML.ObjTree();e.attr_prefix="@";return e.parseXML(f);},isIncludedReference:function(f,e,g){return g.hasOwnProperty("@sdata:key");},isIncludedCollection:function(h,f,i){if(i.hasOwnProperty("@sdata:key")){return false;}if(i.hasOwnProperty("@sdata:uri")||i.hasOwnProperty("@sdata:url")){return true;}var j,g;for(var e in i){if(e[0]==="@"){continue;}j=i[e];break;}if(j){if(b.isArray(j)){g=j[0];}else{g=j;}if(g&&g.hasOwnProperty("@sdata:key")){return true;}}return false;},convertEntity:function(j,e,g,f){f=f||{};f["$name"]=e;f["$key"]=g["@sdata:key"];f["$url"]=g["@sdata:uri"];f["$uuid"]=g["@sdata:uuid"];for(var m in g){if(m[0]==="@"){continue;}var n=c.exec(m),h=n?n[1]:false,i=n?n[2]:m,k=g[m];if(typeof k==="object"){if(k.hasOwnProperty("@xsi:nil")){var l=null;}else{if(this.isIncludedReference(h,i,k)){var l=this.convertEntity(h,i,k);}else{if(this.isIncludedCollection(h,i,k)){var l=this.convertEntityCollection(h,i,k);}else{l=this.convertCustomEntityProperty(h,i,k);}}}k=l;}f[i]=k;}return f;},convertEntityCollection:function(k,e,g){for(var n in g){if(n[0]==="@"){continue;}var o=c.exec(n),h=o?o[1]:false,j=o?o[2]:n,l=g[n];if(b.isArray(l)){var m=[];for(var f=0;f<l.length;f++){m.push(this.convertEntity(k,j,l[f]));}return{"$resources":m};}else{return{"$resources":[this.convertEntity(k,j,l)]};}break;}return null;},convertCustomEntityProperty:function(f,e,g){return g;},formatEntity:function(g,f,i){i=i||{};if(f["$key"]){i["@sdata:key"]=f["$key"];}for(var e in f){if(e[0]==="$"){continue;}var h=f[e];if(h==null){h={"@xsi:nil":"true"};}else{if(typeof h==="object"&&h.hasOwnProperty("$resources")){h=this.formatEntityCollection(g,h);}else{if(typeof h==="object"){h=this.formatEntity(g,h);}}}i[e]=h;}return i;},formatEntityCollection:function(h,k){var e={};for(var g=0;g<k["$resources"].length;g++){var j=k["$resources"][g],f=j["$name"],l=(e[f]=e[f]||[]);l.push(this.formatEntity(h,k["$resources"][g]));}return e;},convertEntry:function(j){var e={};e["$descriptor"]=j.title;e["$etag"]=j["http:etag"];e["$httpStatus"]=j["http:httpStatus"];var l=j["sdata:payload"];for(var h in l){if(l.hasOwnProperty(h)==false){continue;}var k=h.split(":"),i,g,f=l[h];if(k.length==2){i=k[0];g=k[1];}else{if(k.length<2){i=false;g=h;}else{continue;}}this.convertEntity(i,g,f,e);}return e;},formatEntry:function(f,g){var e={};if(!g){e["@xmlns:sdata"]="http://schemas.sage.com/sdata/2008/1";e["@xmlns:xsi"]="http://www.w3.org/2001/XMLSchema-instance";e["@xmlns:http"]="http://schemas.sage.com/sdata/http/2008/1";e["@xmlns"]="http://www.w3.org/2005/Atom";}if(f["$httpMethod"]){e["http:httpMethod"]=f["$httpMethod"];}if(f["$ifMatch"]){e["http:ifMatch"]=f["$ifMatch"];}if(f["$etag"]){e["http:etag"]=f["$etag"];}if(f["$url"]){e.id=f["$url"];}e["sdata:payload"]={};e["sdata:payload"][f["$name"]]={"@xmlns":"http://schemas.sage.com/dynamic/2007"};this.formatEntity(false,f,e["sdata:payload"][f["$name"]]);return{entry:e};},convertFeed:function(g){var e={};if(g["opensearch:totalResults"]){e["$totalResults"]=parseInt(g["opensearch:totalResults"]);}if(g["opensearch:startIndex"]){e["$startIndex"]=parseInt(g["opensearch:startIndex"]);}if(g["opensearch:itemsPerPage"]){e["$itemsPerPage"]=parseInt(g["opensearch:itemsPerPage"]);}if(g.link){e["$link"]={};for(var f=0;f<g.link.length;f++){e["$link"][g.link[f]["@rel"]]=g.link[f]["@href"];}if(e["$link"]["self"]){e["$url"]=e["$link"]["self"];}}e["$resources"]=[];if(b.isArray(g.entry)){for(var f=0;f<g.entry.length;f++){e["$resources"].push(this.convertEntry(g.entry[f]));}}else{if(typeof g.entry==="object"){e["$resources"].push(this.convertEntry(g.entry));}}return e;},formatFeed:function(g){var e={};e["@xmlns:sdata"]="http://schemas.sage.com/sdata/2008/1";e["@xmlns:xsi"]="http://www.w3.org/2001/XMLSchema-instance";e["@xmlns:http"]="http://schemas.sage.com/sdata/http/2008/1";e["@xmlns"]="http://www.w3.org/2005/Atom";if(g["$url"]){e.id=g["$url"];}e.entry=[];for(var f=0;f<g["$resources"].length;f++){e.entry.push(this.formatEntry(g["$resources"][f],true)["entry"]);}return{feed:e};},processFeed:function(e){if(!e.responseText){return null;}var g=e.getResponseHeader&&e.getResponseHeader("Content-Type");if((g==="application/json")||(!g&&this.isJsonEnabled())){var f=JSON.parse(e.responseText);if(f.hasOwnProperty("$resources")){return f;}else{return{"$resources":[f]};}}else{var f=this.parseFeedXml(e.responseText);if(f.hasOwnProperty("feed")){return this.convertFeed(f.feed);}else{if(f.hasOwnProperty("entry")){return{"$resources":[this.convertEntry(f.entry)]};}else{return false;}}}}});})();
/*!
 * simplate-js v1.1
 * Copyright 2010, Michael Morton
 *
 * MIT Licensed - See LICENSE.txt
 */
(function(window,undefined){var trimRE=/^\s+|\s+$/g,testRE=/(,)/,escQuoteRE=/'/g,escNewLineRE=/\n/g,entAmpRE=/&/g,entLtRE=/</g,entGtRE=/>/g,entQuotRE=/"/g,cache={},cacheRE={},useCompatibleParser=("is,ie".split(testRE).length!=3),options={tags:{begin:"{%",end:"%}"},allowWith:false};var mix=function(a,b,c){if(c){for(var n in c){a[n]=c[n];}}if(b){for(var n in b){a[n]=b[n];}}return a;};var encode=function(val){if(typeof val!=="string"){return val;}return val.replace(entAmpRE,"&amp;").replace(entLtRE,"&lt;").replace(entGtRE,"&gt;").replace(entQuotRE,"&quot;");};var escape=function(val){return val.replace(escQuoteRE,"\\'").replace(escNewLineRE,"\\n");};var trim=function(val){return val.replace(trimRE,"");};var parse=function(markup,o){var tagBegin=o.tags.begin,tagEnd=o.tags.end;if(!useCompatibleParser){var key=tagBegin+tagEnd,regex=cacheRE[key]||(cacheRE[key]=new RegExp(tagBegin+"(.*?)"+tagEnd));return markup.split(regex);}var nextBegin=0,nextEnd=0,markers=[];while((nextBegin=markup.indexOf(tagBegin,nextEnd))!=-1&&(nextEnd=markup.indexOf(tagEnd,nextBegin))!=-1){markers[markers.length]=nextBegin;markers[markers.length]=nextEnd;}var fragments=[],at=0;for(var i=0;i<markers.length;i++){fragments[fragments.length]=markup.substr(at,markers[i]-at);at=markers[i]+((i%2)?tagEnd.length:tagBegin.length);}fragments.push(markup.substr(at));return fragments;};var make=function(markup,o){if(markup.join){markup=markup.join("");}if(cache[markup]){return cache[markup];}var o=mix({},o,options),fragments=parse(markup,o);for(var i=1;i<fragments.length;i+=2){if(fragments[i].length>0){var control=fragments[i].charAt(0),source=fragments[i].substr(1);switch(control){case"=":fragments[i]="__r.push("+source+");";break;case":":fragments[i]="__r.push(__s.encode("+source+"));";break;case"!":fragments[i]="__r.push("+trim(source)+".apply(__v, __c));";break;default:break;}}}for(var i=0;i<fragments.length;i+=2){fragments[i]="__r.push('"+escape(fragments[i])+"');";}fragments.unshift("var __r = [], $ = __v, $$ = __c, __s = Simplate;",options.allowWith?"with ($ || {}) {":"");fragments.push(options.allowWith?"}":"","return __r.join('');");var fn;try{fn=new Function("__v, __c",fragments.join(""));}catch(e){fn=function(values){return e.message;};}return(cache[markup]=fn);};var Simplate=function(markup,o){this.fn=make(markup,o);};mix(Simplate,{options:options,encode:encode,make:make});mix(Simplate.prototype,{apply:function(data,container){return this.fn.call(container||this,data,container||data);}});window.Simplate=Simplate;})(window);dhtmlx=function(a){for(var b in a){dhtmlx[b]=a[b];}return dhtmlx;};dhtmlx.extend_api=function(a,b,c){var d=window[a];if(d){window[a]=function(a){if(a&&typeof a=="object"&&!a.tagName&&!(a instanceof Array)){var c=d.apply(this,b._init?b._init(a):arguments),g;for(g in dhtmlx){if(b[g]){this[b[g]](dhtmlx[g]);}}for(g in a){if(b[g]){this[b[g]](a[g]);}else{g.indexOf("on")==0&&this.attachEvent(g,a[g]);}}}else{c=d.apply(this,arguments);}b._patch&&b._patch(this);return c||this;},window[a].prototype=d.prototype,c&&dhtmlXHeir(window[a].prototype,c);}};dhtmlxAjax={get:function(a,b){var c=new dtmlXMLLoaderObject(!0);c.async=arguments.length<3;c.waitCall=b;c.loadXML(a);return c;},post:function(a,b,c){var d=new dtmlXMLLoaderObject(!0);d.async=arguments.length<4;d.waitCall=c;d.loadXML(a,!0,b);return d;},getSync:function(a){return this.get(a,null,!0);},postSync:function(a,b){return this.post(a,b,null,!0);}};function dtmlXMLLoaderObject(a,b,c,d){this.xmlDoc="";this.async=typeof c!="undefined"?c:!0;this.onloadAction=a||null;this.mainObject=b||null;this.waitCall=null;this.rSeed=d||!1;return this;}dtmlXMLLoaderObject.prototype.waitLoadFunction=function(a){var b=!0;return this.check=function(){if(a&&a.onloadAction!=null&&(!a.xmlDoc.readyState||a.xmlDoc.readyState==4)&&b){b=!1;if(typeof a.onloadAction=="function"){a.onloadAction(a.mainObject,null,null,null,a);}if(a.waitCall){a.waitCall.call(this,a),a.waitCall=null;}}};};dtmlXMLLoaderObject.prototype.getXMLTopNode=function(a,b){if(this.xmlDoc.responseXML){var c=this.xmlDoc.responseXML.getElementsByTagName(a);c.length==0&&a.indexOf(":")!=-1&&(c=this.xmlDoc.responseXML.getElementsByTagName(a.split(":")[1]));var d=c[0];}else{d=this.xmlDoc.documentElement;}if(d){return this._retry=!1,d;}if(_isIE&&!this._retry){var e=this.xmlDoc.responseText,b=this.xmlDoc;this._retry=!0;this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM");this.xmlDoc.async=!1;this.xmlDoc.loadXML(e);return this.getXMLTopNode(a,b);}dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]);return document.createElement("DIV");};dtmlXMLLoaderObject.prototype.loadXMLString=function(a){try{var b=new DOMParser;this.xmlDoc=b.parseFromString(a,"text/xml");}catch(c){this.xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),this.xmlDoc.async=this.async,this.xmlDoc.loadXML(a);}this.onloadAction(this.mainObject,null,null,null,this);if(this.waitCall){this.waitCall(),this.waitCall=null;}};dtmlXMLLoaderObject.prototype.loadXML=function(a,b,c,d){this.rSeed&&(a+=(a.indexOf("?")!=-1?"&":"?")+"a_dhx_rSeed="+(new Date).valueOf());this.filePath=a;this.xmlDoc=!_isIE&&window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");if(this.async){this.xmlDoc.onreadystatechange=new this.waitLoadFunction(this);}this.xmlDoc.open(b?"POST":"GET",a,this.async);d?(this.xmlDoc.setRequestHeader("User-Agent","dhtmlxRPC v0.1 ("+navigator.userAgent+")"),this.xmlDoc.setRequestHeader("Content-type","text/xml")):b&&this.xmlDoc.setRequestHeader("Content-type","application/x-www-form-urlencoded");this.xmlDoc.setRequestHeader("X-Requested-With","XMLHttpRequest");this.xmlDoc.send(c);this.async||(new this.waitLoadFunction(this))();};dtmlXMLLoaderObject.prototype.destructor=function(){return this.xmlDoc=this.mainObject=this.onloadAction=null;};dtmlXMLLoaderObject.prototype.xmlNodeToJSON=function(a){for(var b={},c=0;c<a.attributes.length;c++){b[a.attributes[c].name]=a.attributes[c].value;}b._tagvalue=a.firstChild?a.firstChild.nodeValue:"";for(c=0;c<a.childNodes.length;c++){var d=a.childNodes[c].tagName;d&&(b[d]||(b[d]=[]),b[d].push(this.xmlNodeToJSON(a.childNodes[c])));}return b;};function callerFunction(a,b){return this.handler=function(c){if(!c){c=window.event;}a(c,b);return !0;};}function getAbsoluteLeft(a){return getOffset(a).left;}function getAbsoluteTop(a){return getOffset(a).top;}function getOffsetSum(a){for(var b=0,c=0;a;){b+=parseInt(a.offsetTop),c+=parseInt(a.offsetLeft),a=a.offsetParent;}return{top:b,left:c};}function getOffsetRect(a){var b=a.getBoundingClientRect(),c=document.body,d=document.documentElement,e=window.pageYOffset||d.scrollTop||c.scrollTop,f=window.pageXOffset||d.scrollLeft||c.scrollLeft,g=d.clientTop||c.clientTop||0,h=d.clientLeft||c.clientLeft||0,i=b.top+e-g,k=b.left+f-h;return{top:Math.round(i),left:Math.round(k)};}function getOffset(a){return a.getBoundingClientRect&&!_isChrome?getOffsetRect(a):getOffsetSum(a);}function convertStringToBoolean(a){typeof a=="string"&&(a=a.toLowerCase());switch(a){case"1":case"true":case"yes":case"y":case 1:case !0:return !0;default:return !1;}}function getUrlSymbol(a){return a.indexOf("?")!=-1?"&":"?";}function dhtmlDragAndDropObject(){if(window.dhtmlDragAndDrop){return window.dhtmlDragAndDrop;}this.dragStartObject=this.dragStartNode=this.dragNode=this.lastLanding=0;this.tempDOMM=this.tempDOMU=null;this.waitDrag=0;window.dhtmlDragAndDrop=this;return this;}dhtmlDragAndDropObject.prototype.removeDraggableItem=function(a){a.onmousedown=null;a.dragStarter=null;a.dragLanding=null;};dhtmlDragAndDropObject.prototype.addDraggableItem=function(a,b){a.onmousedown=this.preCreateDragCopy;a.dragStarter=b;this.addDragLanding(a,b);};dhtmlDragAndDropObject.prototype.addDragLanding=function(a,b){a.dragLanding=b;};dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(a){if(!((a||event)&&(a||event).button==2)){if(window.dhtmlDragAndDrop.waitDrag){return window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM,!1;}window.dhtmlDragAndDrop.waitDrag=1;window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup;window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove;window.dhtmlDragAndDrop.dragStartNode=this;window.dhtmlDragAndDrop.dragStartObject=this.dragStarter;document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy;document.body.onmousemove=window.dhtmlDragAndDrop.callDrag;window.dhtmlDragAndDrop.downtime=(new Date).valueOf();a&&a.preventDefault&&a.preventDefault();return !1;}};dhtmlDragAndDropObject.prototype.callDrag=function(a){if(!a){a=window.event;}dragger=window.dhtmlDragAndDrop;if(!((new Date).valueOf()-dragger.downtime<100)){if(a.button==0&&_isIE){return dragger.stopDrag();}if(!dragger.dragNode&&dragger.waitDrag){dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,a);if(!dragger.dragNode){return dragger.stopDrag();}dragger.dragNode.onselectstart=function(){return !1;};dragger.gldragNode=dragger.dragNode;document.body.appendChild(dragger.dragNode);document.body.onmouseup=dragger.stopDrag;dragger.waitDrag=0;dragger.dragNode.pWindow=window;dragger.initFrameRoute();}if(dragger.dragNode.parentNode!=window.document.body){var b=dragger.gldragNode;if(dragger.gldragNode.old){b=dragger.gldragNode.old;}b.parentNode.removeChild(b);var c=dragger.dragNode.pWindow;if(_isIE){var d=document.createElement("Div");d.innerHTML=dragger.dragNode.outerHTML;dragger.dragNode=d.childNodes[0];}else{dragger.dragNode=dragger.dragNode.cloneNode(!0);}dragger.dragNode.pWindow=window;dragger.gldragNode.old=dragger.dragNode;document.body.appendChild(dragger.dragNode);c.dhtmlDragAndDrop.dragNode=dragger.dragNode;}dragger.dragNode.style.left=a.clientX+15+(dragger.fx?dragger.fx*-1:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px";dragger.dragNode.style.top=a.clientY+3+(dragger.fy?dragger.fy*-1:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px";var e=a.srcElement?a.srcElement:a.target;dragger.checkLanding(e,a);}};dhtmlDragAndDropObject.prototype.calculateFramePosition=function(a){if(window.name){for(var b=parent.frames[window.name].frameElement.offsetParent,c=0,d=0;b;){c+=b.offsetLeft,d+=b.offsetTop,b=b.offsetParent;}if(parent.dhtmlDragAndDrop){var e=parent.dhtmlDragAndDrop.calculateFramePosition(1);c+=e.split("_")[0]*1;d+=e.split("_")[1]*1;}if(a){return c+"_"+d;}else{this.fx=c;}this.fy=d;}return"0_0";};dhtmlDragAndDropObject.prototype.checkLanding=function(a,b){a&&a.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=a,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,b.clientX,b.clientY,b),this.lastLanding_scr=_isIE?b.srcElement:b.target):a&&a.tagName!="BODY"?this.checkLanding(a.parentNode,b):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,b.clientX,b.clientY,b),this.lastLanding=0,this._onNotFound&&this._onNotFound());};dhtmlDragAndDropObject.prototype.stopDrag=function(a,b){dragger=window.dhtmlDragAndDrop;if(!b){dragger.stopFrameRoute();var c=dragger.lastLanding;dragger.lastLanding=null;c&&c.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,c,_isIE?event.srcElement:a.target);}dragger.lastLanding=null;dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode);dragger.dragNode=0;dragger.gldragNode=0;dragger.fx=0;dragger.fy=0;dragger.dragStartNode=0;dragger.dragStartObject=0;document.body.onmouseup=dragger.tempDOMU;document.body.onmousemove=dragger.tempDOMM;dragger.tempDOMU=null;dragger.tempDOMM=null;dragger.waitDrag=0;};dhtmlDragAndDropObject.prototype.stopFrameRoute=function(a){a&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var b=0;b<window.frames.length;b++){try{window.frames[b]!=a&&window.frames[b].dhtmlDragAndDrop&&window.frames[b].dhtmlDragAndDrop.stopFrameRoute(window);}catch(c){}}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.stopFrameRoute(window);}catch(d){}};dhtmlDragAndDropObject.prototype.initFrameRoute=function(a,b){if(a){window.dhtmlDragAndDrop.preCreateDragCopy({}),window.dhtmlDragAndDrop.dragStartNode=a.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=a.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=a.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=a.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&b&&(!_isFF||w<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition();}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=a&&parent.dhtmlDragAndDrop.initFrameRoute(window);}catch(c){}for(var d=0;d<window.frames.length;d++){try{window.frames[d]!=a&&window.frames[d].dhtmlDragAndDrop&&window.frames[d].dhtmlDragAndDrop.initFrameRoute(window,!a||b?1:0);}catch(e){}}};w=_OperaRv=x=_isChrome=_isMacOS=_isKHTML=_isOpera=_isIE=_isFF=!1;navigator.userAgent.indexOf("Macintosh")!=-1&&(_isMacOS=!0);navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(_isChrome=!0);if(navigator.userAgent.indexOf("Safari")!=-1||navigator.userAgent.indexOf("Konqueror")!=-1){var x=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5));if(x>525){_isFF=!0;var w=1.9;}else{_isKHTML=!0;}}else{navigator.userAgent.indexOf("Opera")!=-1?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):navigator.appName.indexOf("Microsoft")!=-1?(_isIE=!0,navigator.appVersion.indexOf("MSIE 8.0")!=-1&&document.compatMode!="BackCompat"&&(_isIE=8)):(_isFF=!0,w=parseFloat(navigator.userAgent.split("rv:")[1]));}dtmlXMLLoaderObject.prototype.doXPath=function(a,b,c,d){if(_isKHTML||!_isIE&&!window.XPathResult){return this.doXPathOpera(a,b);}if(_isIE){return b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML),b||dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]),c!=null&&b.setProperty("SelectionNamespaces","xmlns:xsl='"+c+"'"),d=="single"?b.selectSingleNode(a):b.selectNodes(a)||[];}else{var e=b;b||(b=this.xmlDoc.nodeName?this.xmlDoc:this.xmlDoc.responseXML);b||dhtmlxError.throwError("LoadXML","Incorrect XML",[b||this.xmlDoc,this.mainObject]);b.nodeName.indexOf("document")!=-1?e=b:(e=b,b=b.ownerDocument);var f=XPathResult.ANY_TYPE;if(d=="single"){f=XPathResult.FIRST_ORDERED_NODE_TYPE;}var g=[],h=b.evaluate(a,e,function(){return c;},f,null);if(f==XPathResult.FIRST_ORDERED_NODE_TYPE){return h.singleNodeValue;}for(var i=h.iterateNext();i;){g[g.length]=i,i=h.iterateNext();}return g;}};function z(){if(!this.catches){this.catches=[];}return this;}z.prototype.catchError=function(a,b){this.catches[a]=b;};z.prototype.throwError=function(a,b,c){if(this.catches[a]){return this.catches[a](a,b,c);}if(this.catches.ALL){return this.catches.ALL(a,b,c);}alert("Error type: "+a+"\nDescription: "+b);return null;};window.dhtmlxError=new z;dtmlXMLLoaderObject.prototype.doXPathOpera=function(a,b){var c=a.replace(/[\/]+/gi,"/").split("/"),d=null,e=1;if(!c.length){return[];}if(c[0]=="."){d=[b];}else{if(c[0]==""){d=(this.xmlDoc.responseXML||this.xmlDoc).getElementsByTagName(c[e].replace(/\[[^\]]*\]/g,"")),e++;}else{return[];}}for(;e<c.length;e++){d=this._getAllNamedChilds(d,c[e]);}c[e-1].indexOf("[")!=-1&&(d=this._filterXPath(d,c[e-1]));return d;};dtmlXMLLoaderObject.prototype._filterXPath=function(a,b){for(var c=[],b=b.replace(/[^\[]*\[\@/g,"").replace(/[\[\]\@]*/g,""),d=0;d<a.length;d++){a[d].getAttribute(b)&&(c[c.length]=a[d]);}return c;};dtmlXMLLoaderObject.prototype._getAllNamedChilds=function(a,b){var c=[];_isKHTML&&(b=b.toUpperCase());for(var d=0;d<a.length;d++){for(var e=0;e<a[d].childNodes.length;e++){_isKHTML?a[d].childNodes[e].tagName&&a[d].childNodes[e].tagName.toUpperCase()==b&&(c[c.length]=a[d].childNodes[e]):a[d].childNodes[e].tagName==b&&(c[c.length]=a[d].childNodes[e]);}}return c;};function dhtmlXHeir(a,b){for(var c in b){typeof b[c]=="function"&&(a[c]=b[c]);}return a;}function dhtmlxEvent(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c);}dtmlXMLLoaderObject.prototype.xslDoc=null;dtmlXMLLoaderObject.prototype.setXSLParamValue=function(a,b,c){if(!c){c=this.xslDoc;}if(c.responseXML){c=c.responseXML;}var d=this.doXPath("/xsl:stylesheet/xsl:variable[@name='"+a+"']",c,"http://www.w3.org/1999/XSL/Transform","single");if(d!=null){d.firstChild.nodeValue=b;}};dtmlXMLLoaderObject.prototype.doXSLTransToObject=function(a,b){if(!a){a=this.xslDoc;}if(a.responseXML){a=a.responseXML;}if(!b){b=this.xmlDoc;}if(b.responseXML){b=b.responseXML;}if(_isIE){d=new ActiveXObject("Msxml2.DOMDocument.3.0");try{b.transformNodeToObject(a,d);}catch(c){d=b.transformNode(a);}}else{if(!this.XSLProcessor){this.XSLProcessor=new XSLTProcessor,this.XSLProcessor.importStylesheet(a);}var d=this.XSLProcessor.transformToDocument(b);}return d;};dtmlXMLLoaderObject.prototype.doXSLTransToString=function(a,b){var c=this.doXSLTransToObject(a,b);return typeof c=="string"?c:this.doSerialization(c);};dtmlXMLLoaderObject.prototype.doSerialization=function(a){if(!a){a=this.xmlDoc;}if(a.responseXML){a=a.responseXML;}if(_isIE){return a.xml;}else{var b=new XMLSerializer;return b.serializeToString(a);}};dhtmlxEventable=function(a){a.dhx_SeverCatcherPath="";a.attachEvent=function(a,c,d){a="ev_"+a.toLowerCase();this[a]||(this[a]=new this.eventCatcher(d||this));return a+":"+this[a].addEvent(c);};a.callEvent=function(a,c){a="ev_"+a.toLowerCase();return this[a]?this[a].apply(this,c):!0;};a.checkEvent=function(a){return !!this["ev_"+a.toLowerCase()];};a.eventCatcher=function(a){var c=[],d=function(){for(var d=!0,f=0;f<c.length;f++){if(c[f]!=null){var g=c[f].apply(a,arguments),d=d&&g;}}return d;};d.addEvent=function(a){typeof a!="function"&&(a=eval(a));return a?c.push(a)-1:!1;};d.removeEvent=function(a){c[a]=null;};return d;};a.detachEvent=function(a){if(a!=!1){var c=a.split(":");this[c[0]].removeEvent(c[1]);}};a.detachAllEvents=function(){for(var a in this){a.indexOf("ev_")==0&&delete this[a];}};};function dataProcessor(a){this.serverProcessor=a;this.action_param="!nativeeditor_status";this.object=null;this.updatedRows=[];this.autoUpdate=!0;this.updateMode="cell";this._tMode="GET";this.post_delim="_";this._waitMode=0;this._in_progress={};this._invalid={};this.mandatoryFields=[];this.messages=[];this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",clear:"font-weight:normal;text-decoration:none;"};this.enableUTFencoding(!0);dhtmlxEventable(this);return this;}dataProcessor.prototype={setTransactionMode:function(a,b){this._tMode=a;this._tSend=b;},escape:function(a){return this._utf?encodeURIComponent(a):escape(a);},enableUTFencoding:function(a){this._utf=convertStringToBoolean(a);},setDataColumns:function(a){this._columns=typeof a=="string"?a.split(","):a;},getSyncState:function(){return !this.updatedRows.length;},enableDataNames:function(a){this._endnm=convertStringToBoolean(a);},enablePartialDataSend:function(a){this._changed=convertStringToBoolean(a);},setUpdateMode:function(a,b){this.autoUpdate=a=="cell";this.updateMode=a;this.dnd=b;},ignore:function(a,b){this._silent_mode=!0;a.call(b||window);this._silent_mode=!1;},setUpdated:function(a,b,c){if(!this._silent_mode){var d=this.findRow(a),c=c||"updated",e=this.obj.getUserData(a,this.action_param);e&&c=="updated"&&(c=e);b?(this.set_invalid(a,!1),this.updatedRows[d]=a,this.obj.setUserData(a,this.action_param,c),this._in_progress[a]&&(this._in_progress[a]="wait")):this.is_invalid(a)||(this.updatedRows.splice(d,1),this.obj.setUserData(a,this.action_param,""));b||this._clearUpdateFlag(a);this.markRow(a,b,c);b&&this.autoUpdate&&this.sendData(a);}},_clearUpdateFlag:function(){},markRow:function(a,b,c){var d="",e=this.is_invalid(a);e&&(d=this.styles[e],b=!0);if(this.callEvent("onRowMark",[a,b,c,e])&&(d=this.styles[b?c:"clear"]+d,this.obj[this._methods[0]](a,d),e&&e.details)){d+=this.styles[e+"_cell"];for(var f=0;f<e.details.length;f++){if(e.details[f]){this.obj[this._methods[1]](a,f,d);}}}},getState:function(a){return this.obj.getUserData(a,this.action_param);},is_invalid:function(a){return this._invalid[a];},set_invalid:function(a,b,c){c&&(b={value:b,details:c,toString:function(){return this.value.toString();}});this._invalid[a]=b;},checkBeforeUpdate:function(){return !0;},sendData:function(a){if(!this._waitMode||!(this.obj.mytype=="tree"||this.obj._h2)){this.obj.editStop&&this.obj.editStop();if(typeof a=="undefined"||this._tSend){return this.sendAllData();}if(this._in_progress[a]){return !1;}this.messages=[];if(!this.checkBeforeUpdate(a)&&this.callEvent("onValidatationError",[a,this.messages])){return !1;}this._beforeSendData(this._getRowData(a),a);}},_beforeSendData:function(a,b){if(!this.callEvent("onBeforeUpdate",[b,this.getState(b),a])){return !1;}this._sendData(a,b);},serialize:function(a,b){if(typeof a=="string"){return a;}if(typeof b!="undefined"){return this.serialize_one(a,"");}else{var c=[],d=[],e;for(e in a){a.hasOwnProperty(e)&&(c.push(this.serialize_one(a[e],e+this.post_delim)),d.push(e));}c.push("ids="+this.escape(d.join(",")));return c.join("&");}},serialize_one:function(a,b){if(typeof a=="string"){return a;}var c=[],d;for(d in a){a.hasOwnProperty(d)&&c.push(this.escape((b||"")+d)+"="+this.escape(a[d]));}return c.join("&");},_sendData:function(a,b){if(a){if(!this.callEvent("onBeforeDataSending",b?[b,this.getState(b),a]:[null,null,a])){return !1;}b&&(this._in_progress[b]=(new Date).valueOf());var c=new dtmlXMLLoaderObject(this.afterUpdate,this,!0),d=this.serverProcessor+(this._user?getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.obj.getUserData(0,"version")].join("&"):"");this._tMode!="POST"?c.loadXML(d+(d.indexOf("?")!=-1?"&":"?")+this.serialize(a,b)):c.loadXML(d,!0,this.serialize(a,b));this._waitMode++;}},sendAllData:function(){if(this.updatedRows.length){this.messages=[];for(var a=!0,b=0;b<this.updatedRows.length;b++){a&=this.checkBeforeUpdate(this.updatedRows[b]);}if(!a&&!this.callEvent("onValidatationError",["",this.messages])){return !1;}if(this._tSend){this._sendData(this._getAllData());}else{for(b=0;b<this.updatedRows.length;b++){if(!this._in_progress[this.updatedRows[b]]&&!this.is_invalid(this.updatedRows[b])&&(this._beforeSendData(this._getRowData(this.updatedRows[b]),this.updatedRows[b]),this._waitMode&&(this.obj.mytype=="tree"||this.obj._h2))){break;}}}}},_getAllData:function(){for(var a={},b=!1,c=0;c<this.updatedRows.length;c++){var d=this.updatedRows[c];!this._in_progress[d]&&!this.is_invalid(d)&&this.callEvent("onBeforeUpdate",[d,this.getState(d)])&&(a[d]=this._getRowData(d,d+this.post_delim),b=!0,this._in_progress[d]=(new Date).valueOf());}return b?a:null;},setVerificator:function(a,b){this.mandatoryFields[a]=b||function(a){return a!="";};},clearVerificator:function(a){this.mandatoryFields[a]=!1;},findRow:function(a){for(var b=0,b=0;b<this.updatedRows.length;b++){if(a==this.updatedRows[b]){break;}}return b;},defineAction:function(a,b){if(!this._uActions){this._uActions=[];}this._uActions[a]=b;},afterUpdateCallback:function(a,b,c,d){var e=a,f=c!="error"&&c!="invalid";f||this.set_invalid(a,c);if(this._uActions&&this._uActions[c]&&!this._uActions[c](d)){return delete this._in_progress[e];}this._in_progress[e]!="wait"&&this.setUpdated(a,!1);var g=a;switch(c){case"update":case"updated":case"inserted":case"insert":b!=a&&(this.obj[this._methods[2]](a,b),a=b);break;case"delete":case"deleted":return this.obj.setUserData(a,this.action_param,"true_deleted"),this.obj[this._methods[3]](a),delete this._in_progress[e],this.callEvent("onAfterUpdate",[a,c,b,d]);}this._in_progress[e]!="wait"?(f&&this.obj.setUserData(a,this.action_param,""),delete this._in_progress[e]):(delete this._in_progress[e],this.setUpdated(b,!0,this.obj.getUserData(a,this.action_param)));this.callEvent("onAfterUpdate",[a,c,b,d]);},afterUpdate:function(a,b,c,d,e){e.getXMLTopNode("data");if(e.xmlDoc.responseXML){for(var f=e.doXPath("//data/action"),g=0;g<f.length;g++){var h=f[g],i=h.getAttribute("type"),k=h.getAttribute("sid"),j=h.getAttribute("tid");a.afterUpdateCallback(k,j,i,h);}a.finalizeUpdate();}},finalizeUpdate:function(){this._waitMode&&this._waitMode--;(this.obj.mytype=="tree"||this.obj._h2)&&this.updatedRows.length&&this.sendData();this.callEvent("onAfterUpdateFinish",[]);this.updatedRows.length||this.callEvent("onFullSync",[]);},init:function(a){this.obj=a;this.obj._dp_init&&this.obj._dp_init(this);},setOnAfterUpdate:function(a){this.attachEvent("onAfterUpdate",a);},enableDebug:function(){},setOnBeforeUpdateHandler:function(a){this.attachEvent("onBeforeDataSending",a);},setAutoUpdate:function(a,b){a=a||2000;this._user=b||(new Date).valueOf();this._need_update=!1;this._loader=null;this._update_busy=!1;this.attachEvent("onAfterUpdate",function(a,b,c,g){this.afterAutoUpdate(a,b,c,g);});this.attachEvent("onFullSync",function(){this.fullSync();});var c=this;window.setInterval(function(){c.loadUpdate();},a);},afterAutoUpdate:function(a,b){return b=="collision"?(this._need_update=!0,!1):!0;},fullSync:function(){if(this._need_update==!0){this._need_update=!1,this.loadUpdate();}return !0;},getUpdates:function(a,b){if(this._update_busy){return !1;}else{this._update_busy=!0;}this._loader=this._loader||new dtmlXMLLoaderObject(!0);this._loader.async=!0;this._loader.waitCall=b;this._loader.loadXML(a);},_v:function(a){return a.firstChild?a.firstChild.nodeValue:"";},_a:function(a){for(var b=[],c=0;c<a.length;c++){b[c]=this._v(a[c]);}return b;},loadUpdate:function(){var a=this,b=this.obj.getUserData(0,"version"),c=this.serverProcessor+getUrlSymbol(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+b].join("&"),c=c.replace("editing=true&","");this.getUpdates(c,function(){var b=a._loader.doXPath("//userdata");a.obj.setUserData(0,"version",a._v(b[0]));var c=a._loader.doXPath("//update");if(c.length){a._silent_mode=!0;for(var f=0;f<c.length;f++){var g=c[f].getAttribute("status"),h=c[f].getAttribute("id"),i=c[f].getAttribute("parent");switch(g){case"inserted":a.callEvent("insertCallback",[c[f],h,i]);break;case"updated":a.callEvent("updateCallback",[c[f],h,i]);break;case"deleted":a.callEvent("deleteCallback",[c[f],h,i]);}}a._silent_mode=!1;}a._update_busy=!1;a=null;});}};if(window.dhtmlXGridObject){dhtmlXGridObject.prototype._init_point_connector=dhtmlXGridObject.prototype._init_point,dhtmlXGridObject.prototype._init_point=function(){var a=function(a){a=a.replace(/(\?|\&)connector[^\f]*/g,"");return a+(a.indexOf("?")!=-1?"&":"?")+"connector=true"+(this.hdr.rows.length>0?"&dhx_no_header=1":"");},b=function(b){return a.call(this,b)+(this._connector_sorting||"")+(this._connector_filter||"");},c=function(a,c,d){this._connector_sorting="&dhx_sort["+c+"]="+d;return b.call(this,a);},d=function(a,c,d){for(var h=0;h<c.length;h++){c[h]="dhx_filter["+c[h]+"]="+encodeURIComponent(d[h]);}this._connector_filter="&"+c.join("&");return b.call(this,a);};this.attachEvent("onCollectValues",function(a){return this._con_f_used[a]?typeof this._con_f_used[a]=="object"?this._con_f_used[a]:!1:!0;});this.attachEvent("onDynXLS",function(){this.xmlFileUrl=b.call(this,this.xmlFileUrl);return !0;});this.attachEvent("onBeforeSorting",function(a,b,d){if(b=="connector"){var h=this;this.clearAndLoad(c.call(this,this.xmlFileUrl,a,d),function(){h.setSortImgState(!0,a,d);});return !1;}return !0;});this.attachEvent("onFilterStart",function(a,b){return this._con_f_used.length?(this.clearAndLoad(d.call(this,this.xmlFileUrl,a,b)),!1):!0;});this.attachEvent("onXLE",function(){});this._init_point_connector&&this._init_point_connector();},dhtmlXGridObject.prototype._con_f_used=[],dhtmlXGridObject.prototype._in_header_connector_text_filter=function(a,b){this._con_f_used[b]||(this._con_f_used[b]=1);return this._in_header_text_filter(a,b);},dhtmlXGridObject.prototype._in_header_connector_select_filter=function(a,b){this._con_f_used[b]||(this._con_f_used[b]=2);return this._in_header_select_filter(a,b);},dhtmlXGridObject.prototype.load_connector=dhtmlXGridObject.prototype.load,dhtmlXGridObject.prototype.load=function(a,b,c){if(!this._colls_loaded&&this.cellType){for(var d=[],e=0;e<this.cellType.length;e++){(this.cellType[e].indexOf("co")==0||this._con_f_used[e]==2)&&d.push(e);}d.length&&(arguments[0]+=(arguments[0].indexOf("?")!=-1?"&":"?")+"connector=true&dhx_colls="+d.join(","));}return this.load_connector.apply(this,arguments);},dhtmlXGridObject.prototype._parseHead_connector=dhtmlXGridObject.prototype._parseHead,dhtmlXGridObject.prototype._parseHead=function(a,b,c){this._parseHead_connector.apply(this,arguments);if(!this._colls_loaded){for(var d=this.xmlLoader.doXPath("./coll_options",arguments[0]),e=0;e<d.length;e++){var f=d[e].getAttribute("for"),g=[],h=null;this.cellType[f]=="combo"&&(h=this.getColumnCombo(f));this.cellType[f].indexOf("co")==0&&(h=this.getCombo(f));for(var i=this.xmlLoader.doXPath("./item",d[e]),k=0;k<i.length;k++){var j=i[k].getAttribute("value");if(h){var l=i[k].getAttribute("label")||j;h.addOption?h.addOption([[j,l]]):h.put(j,l);g[g.length]=l;}else{g[g.length]=j;}}this._con_f_used[f*1]&&(this._con_f_used[f*1]=g);}this._colls_loaded=!0;}};}if(window.dataProcessor){dataProcessor.prototype.init_original=dataProcessor.prototype.init,dataProcessor.prototype.init=function(a){this.init_original(a);a._dataprocessor=this;this.setTransactionMode("POST",!0);this.serverProcessor+=(this.serverProcessor.indexOf("?")!=-1?"&":"?")+"editing=true";};}dhtmlxError.catchError("LoadXML",function(a,b,c){c[0].status!=0&&alert(c[0].responseText);});window.dhtmlXScheduler=window.scheduler={version:3};dhtmlxEventable(scheduler);scheduler.init=function(a,b,c){b=b||new Date;c=c||"week";scheduler.date.init();this._obj=typeof a=="string"?document.getElementById(a):a;this._els=[];this._scroll=!0;this._quirks=_isIE&&document.compatMode=="BackCompat";this._quirks7=_isIE&&navigator.appVersion.indexOf("MSIE 8")==-1;this.get_elements();this.init_templates();this.set_actions();dhtmlxEvent(window,"resize",function(){window.clearTimeout(scheduler._resize_timer);scheduler._resize_timer=window.setTimeout(function(){scheduler.callEvent("onSchedulerResize",[])&&scheduler.update_view();},100);});this.set_sizes();scheduler.callEvent("onSchedulerReady",[]);this.setCurrentView(b,c);};scheduler.xy={nav_height:22,min_event_height:40,scale_width:50,bar_height:20,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140};scheduler.keys={edit_save:13,edit_cancel:27};scheduler.set_sizes=function(){var a=this._x=this._obj.clientWidth-this.xy.margin_left,b=this._y=this._obj.clientHeight-this.xy.margin_top,c=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,d=this._table_view?-1:this.xy.scale_width;this.set_xy(this._els.dhx_cal_navline[0],a,this.xy.nav_height,0,0);this.set_xy(this._els.dhx_cal_header[0],a-c,this.xy.scale_height,d,this.xy.nav_height+(this._quirks?-1:1));var e=this._els.dhx_cal_navline[0].offsetHeight;if(e>0){this.xy.nav_height=e;}var f=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],a,b-(f+2),0,f+2);};scheduler.set_xy=function(a,b,c,d,e){a.style.width=Math.max(0,b)+"px";a.style.height=Math.max(0,c)+"px";if(arguments.length>3){a.style.left=d+"px",a.style.top=e+"px";}};scheduler.get_elements=function(){for(var a=this._obj.getElementsByTagName("DIV"),b=0;b<a.length;b++){var c=a[b].className;this._els[c]||(this._els[c]=[]);this._els[c].push(a[b]);var d=scheduler.locale.labels[a[b].getAttribute("name")||c];if(d){a[b].innerHTML=d;}}};scheduler.set_actions=function(){for(var a in this._els){if(this._click[a]){for(var b=0;b<this._els[a].length;b++){this._els[a][b].onclick=scheduler._click[a];}}}this._obj.onselectstart=function(){return !1;};this._obj.onmousemove=function(a){scheduler._on_mouse_move(a||event);};this._obj.onmousedown=function(a){scheduler._on_mouse_down(a||event);};this._obj.onmouseup=function(a){scheduler._on_mouse_up(a||event);};this._obj.ondblclick=function(a){scheduler._on_dbl_click(a||event);};};scheduler.select=function(a){if(!this._table_view&&this.getEvent(a)._timed&&this._select_id!=a){this.editStop(!1),this.unselect(),this._select_id=a,this.updateEvent(a);}};scheduler.unselect=function(a){if(!(a&&a!=this._select_id)){var b=this._select_id;this._select_id=null;b&&this.updateEvent(b);}};scheduler.getState=function(){return{mode:this._mode,date:this._date,min_date:this._min_date,max_date:this._max_date,editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event};};scheduler._click={dhx_cal_data:function(a){var b=a?a.target:event.srcElement,c=scheduler._locate_event(b),a=a||event;if(!(c&&!scheduler.callEvent("onClick",[c,a])||scheduler.config.readonly)){if(c){scheduler.select(c);var d=b.className;if(d.indexOf("_icon")!=-1){scheduler._click.buttons[d.split(" ")[1].replace("icon_","")](c);}}else{scheduler._close_not_saved();}}},dhx_cal_prev_button:function(){scheduler._click.dhx_cal_next_button(0,-1);},dhx_cal_next_button:function(a,b){scheduler.setCurrentView(scheduler.date.add(scheduler.date[scheduler._mode+"_start"](scheduler._date),b||1,scheduler._mode));},dhx_cal_today_button:function(){scheduler.setCurrentView(new Date);},dhx_cal_tab:function(){var a=this.getAttribute("name"),b=a.substring(0,a.search("_tab"));scheduler.setCurrentView(scheduler._date,b);},buttons:{"delete":function(a){var b=scheduler.locale.labels.confirm_deleting;(!b||confirm(b))&&scheduler.deleteEvent(a);},edit:function(a){scheduler.edit(a);},save:function(){scheduler.editStop(!0);},details:function(a){scheduler.showLightbox(a);},cancel:function(){scheduler.editStop(!1);}}};scheduler.addEventNow=function(a,b,c){var d={};a&&a.constructor.toString().match(/object/i)!==null&&(d=a,a=null);var e=(this.config.event_duration||this.config.time_step)*60000;a||(a=Math.round((new Date).valueOf()/e)*e);var f=new Date(a);if(!b){var g=this.config.first_hour;g>f.getHours()&&(f.setHours(g),a=f.valueOf());b=a+e;}var h=new Date(b);f.valueOf()==h.valueOf()&&h.setTime(h.valueOf()+e);d.start_date=d.start_date||f;d.end_date=d.end_date||h;d.text=d.text||this.locale.labels.new_event;d.id=this._drag_id=this.uid();this._drag_mode="new-size";this._loading=!0;this.addEvent(d);this.callEvent("onEventCreated",[this._drag_id,c]);this._loading=!1;this._drag_event={};this._on_mouse_up(c);};scheduler._on_dbl_click=function(a,b){b=b||a.target||a.srcElement;if(!this.config.readonly){var c=b.className.split(" ")[0];switch(c){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!scheduler.config.dblclick_create){break;}var d=this._mouse_coords(a),e=this._min_date.valueOf()+(d.y*this.config.time_step+(this._table_view?0:d.x)*1440)*60000,e=this._correct_shift(e);this.addEventNow(e,null,a);break;case"dhx_body":case"dhx_wa_ev_body":case"dhx_cal_event_line":case"dhx_cal_event_clear":var f=this._locate_event(b);if(!this.callEvent("onDblClick",[f,a])){break;}this.config.details_on_dblclick||this._table_view||!this.getEvent(f)._timed?this.showLightbox(f):this.edit(f);break;case"":if(b.parentNode){return scheduler._on_dbl_click(a,b.parentNode);}default:var g=this["dblclick_"+c];g&&g.call(this,a);}}};scheduler._mouse_coords=function(a){var b,c=document.body,d=document.documentElement;b=a.pageX||a.pageY?{x:a.pageX,y:a.pageY}:{x:a.clientX+(c.scrollLeft||d.scrollLeft||0)-c.clientLeft,y:a.clientY+(c.scrollTop||d.scrollTop||0)-c.clientTop};b.x-=getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);b.y-=getAbsoluteTop(this._obj)+this.xy.nav_height+(this._dy_shift||0)+this.xy.scale_height-this._els.dhx_cal_data[0].scrollTop;b.ev=a;var e=this["mouse_"+this._mode];if(e){return e.call(this,b);}if(this._table_view){for(var f=0,f=1;f<this._colsS.heights.length;f++){if(this._colsS.heights[f]>b.y){break;}}b.y=(Math.max(0,Math.ceil(b.x/this._cols[0])-1)+Math.max(0,f-1)*7)*1440/this.config.time_step;b.x=0;}else{b.x=Math.max(0,Math.ceil(b.x/this._cols[0])-1),b.y=Math.max(0,Math.ceil(b.y*60/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step);}return b;};scheduler._close_not_saved=function(){if((new Date).valueOf()-(scheduler._new_event||0)>500&&scheduler._edit_id){var a=scheduler.locale.labels.confirm_closing;(!a||confirm(a))&&scheduler.editStop(scheduler.config.positive_closing);}};scheduler._correct_shift=function(a,b){return a-=((new Date(scheduler._min_date)).getTimezoneOffset()-(new Date(a)).getTimezoneOffset())*60000*(b?-1:1);};scheduler._on_mouse_move=function(a){if(this._drag_mode){var b=this._mouse_coords(a);if(!this._drag_pos||b.custom||this._drag_pos.x!=b.x||this._drag_pos.y!=b.y){this._edit_id!=this._drag_id&&this._close_not_saved();this._drag_pos=b;if(this._drag_mode=="create"){this._close_not_saved();this._loading=!0;var c=this._min_date.valueOf()+(b.y*this.config.time_step+(this._table_view?0:b.x)*1440)*60000,c=this._correct_shift(c);if(!this._drag_start){this._drag_start=c;return;}var d=c;if(d==this._drag_start){return;}this._drag_id=this.uid();this.addEvent(new Date(this._drag_start),new Date(d),this.locale.labels.new_event,this._drag_id,b.fields);this.callEvent("onEventCreated",[this._drag_id,a]);this._loading=!1;this._drag_mode="new-size";}var e=this.getEvent(this._drag_id);if(this._drag_mode=="move"){c=this._min_date.valueOf()+(b.y*this.config.time_step+b.x*1440)*60000,!b.custom&&this._table_view&&(c+=this.date.time_part(e.start_date)*1000),c=this._correct_shift(c),d=e.end_date.valueOf()-(e.start_date.valueOf()-c);}else{c=e.start_date.valueOf();if(this._table_view){d=this._min_date.valueOf()+b.y*this.config.time_step*60000+(b.custom?0:86400000),this._mode=="month"&&(d=this._correct_shift(d,!1));}else{if(d=this.date.date_part(new Date(e.end_date)).valueOf()+b.y*this.config.time_step*60000,this._els.dhx_cal_data[0].style.cursor="s-resize",this._mode=="week"||this._mode=="day"){d=this._correct_shift(d);}}if(this._drag_mode=="new-size"){if(d<=this._drag_start){var f=b.shift||(this._table_view&&!b.custom?86400000:0),c=d-(b.shift?0:f),d=this._drag_start+(f||this.config.time_step*60000);}else{c=this._drag_start;}}else{d<=c&&(d=c+this.config.time_step*60000);}}var g=new Date(d-1),h=new Date(c);if(this._table_view||g.getDate()==h.getDate()&&g.getHours()<this.config.last_hour||scheduler._wa&&scheduler._wa._dnd){e.start_date=h,e.end_date=new Date(d),this.config.update_render?this.update_view():this.updateEvent(this._drag_id);}this._table_view&&this.for_rendered(this._drag_id,function(a){a.className+=" dhx_in_move";});}}else{if(scheduler.checkEvent("onMouseMove")){var i=this._locate_event(a.target||a.srcElement);this.callEvent("onMouseMove",[i,a]);}}};scheduler._on_mouse_context=function(a,b){return this.callEvent("onContextMenu",[this._locate_event(b),a]);};scheduler._on_mouse_down=function(a,b){if(!this.config.readonly&&!this._drag_mode){b=b||a.target||a.srcElement;if(a.button==2||a.ctrlKey){return this._on_mouse_context(a,b);}switch(b.className.split(" ")[0]){case"dhx_cal_event_line":case"dhx_cal_event_clear":if(this._table_view){this._drag_mode="move";}break;case"dhx_header":case"dhx_title":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_footer":this._drag_mode="resize";break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":this._drag_mode="create";break;case"":if(b.parentNode){return scheduler._on_mouse_down(a,b.parentNode);}default:this._drag_id=this._drag_mode=null;}if(this._drag_mode){var c=this._locate_event(b);!this.config["drag_"+this._drag_mode]||!this.callEvent("onBeforeDrag",[c,this._drag_mode,a])?this._drag_mode=this._drag_id=0:(this._drag_id=c,this._drag_event=scheduler._lame_copy({},this._copy_event(this.getEvent(this._drag_id)||{})));}this._drag_start=null;}};scheduler._on_mouse_up=function(a){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var b=this.getEvent(this._drag_id);if(this._drag_event._dhx_changed||!this._drag_event.start_date||b.start_date.valueOf()!=this._drag_event.start_date.valueOf()||b.end_date.valueOf()!=this._drag_event.end_date.valueOf()){var c=this._drag_mode=="new-size";if(this.callEvent("onBeforeEventChanged",[b,a,c])){if(c&&this.config.edit_on_create){this.unselect();this._new_event=new Date;if(this._table_view||this.config.details_on_create){return this._drag_mode=null,this.showLightbox(this._drag_id);}this._drag_pos=!0;this._select_id=this._edit_id=this._drag_id;}else{this._new_event||this.callEvent(c?"onEventAdded":"onEventChanged",[this._drag_id,this.getEvent(this._drag_id)]);}}else{c?this.deleteEvent(b.id,!0):(this._drag_event._dhx_changed=!1,scheduler._lame_copy(b,this._drag_event),this.updateEvent(b.id));}}this._drag_pos&&this.render_view_data();}this._drag_pos=this._drag_mode=null;};scheduler.update_view=function(){this._reset_scale();if(this._load_mode&&this._load()){return this._render_wait=!0;}this.render_view_data();};scheduler.setCurrentView=function(a,b){a=a||this._date;b=b||this._mode;if(this.callEvent("onBeforeViewChange",[this._mode,this._date,b,a])){var c="dhx_cal_data",d=this._mode==b&&this.config.preserve_scroll?this._els[c][0].scrollTop:!1;if(this[this._mode+"_view"]&&b&&this._mode!=b){this[this._mode+"_view"](!1);}this._close_not_saved();var e="dhx_multi_day";this._els[e]&&(this._els[e][0].parentNode.removeChild(this._els[e][0]),this._els[e]=null);this._mode=b;this._date=a;this._table_view=this._mode=="month";for(var f=this._els.dhx_cal_tab,g=0;g<f.length;g++){f[g].className="dhx_cal_tab"+(f[g].getAttribute("name")==this._mode+"_tab"?" active":"");}var h=this[this._mode+"_view"];h?h(!0):this.update_view();if(typeof d=="number"){this._els[c][0].scrollTop=d;}this.callEvent("onViewChange",[this._mode,this._date]);}};scheduler._render_x_header=function(a,b,c,d){var e=document.createElement("DIV");e.className="dhx_scale_bar";this.set_xy(e,this._cols[a]-1,this.xy.scale_height-2,b,0);e.innerHTML=this.templates[this._mode+"_scale_date"](c,this._mode);d.appendChild(e);};scheduler._reset_scale=function(){if(this.templates[this._mode+"_date"]){var a=this._els.dhx_cal_header[0],b=this._els.dhx_cal_data[0],c=this.config;a.innerHTML="";b.scrollTop=0;b.innerHTML="";var d=(c.readonly||!c.drag_resize?" dhx_resize_denied":"")+(c.readonly||!c.drag_move?" dhx_move_denied":"");if(d){b.className="dhx_cal_data"+d;}this._cols=[];this._colsS={height:0};this._dy_shift=0;this.set_sizes();var e=parseInt(a.style.width),f=0,g,h,i,k;h=this.date[this._mode+"_start"](new Date(this._date.valueOf()));g=i=this._table_view?scheduler.date.week_start(h):h;k=this.date.date_part(new Date);var j=scheduler.date.add(h,1,this._mode),l=7;if(!this._table_view){var o=this.date["get_"+this._mode+"_end"];o&&(j=o(h));l=Math.round((j.valueOf()-h.valueOf())/86400000);}this._min_date=g;this._els.dhx_cal_date[0].innerHTML=this.templates[this._mode+"_date"](h,j,this._mode);for(var m=0;m<l;m++){this._cols[m]=Math.floor(e/(l-m));this._render_x_header(m,f,g,a);if(!this._table_view){var n=document.createElement("DIV"),p="dhx_scale_holder";g.valueOf()==k.valueOf()&&(p="dhx_scale_holder_now");n.className=p+" "+this.templates.week_date_class(g,k);this.set_xy(n,this._cols[m]-1,c.hour_size_px*(c.last_hour-c.first_hour),f+this.xy.scale_width+1,0);b.appendChild(n);this.callEvent("onScaleAdd",[n,g]);}g=this.date.add(g,1,"day");e-=this._cols[m];f+=this._cols[m];this._colsS[m]=(this._cols[m-1]||0)+(this._colsS[m-1]||(this._table_view?0:this.xy.scale_width+2));this._colsS.col_length=l+1;}this._max_date=g;this._colsS[l]=this._cols[l-1]+this._colsS[l-1];if(this._table_view){this._reset_month_scale(b,h,i);}else{this._reset_hours_scale(b,h,i);if(c.multi_day){var q="dhx_multi_day";this._els[q]&&(this._els[q][0].parentNode.removeChild(this._els[q][0]),this._els[q]=null);var v=this._els.dhx_cal_navline[0],s=v.offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,r=document.createElement("DIV");r.className=q;r.style.visibility="hidden";this.set_xy(r,this._colsS[this._colsS.col_length-1]+this.xy.scroll_width,0,0,s);b.parentNode.insertBefore(r,b);var u=r.cloneNode(!0);u.className=q+"_icon";u.style.visibility="hidden";this.set_xy(u,this.xy.scale_width,0,0,s);r.appendChild(u);this._els[q]=[r,u];this._els[q][0].onclick=this._click.dhx_cal_data;}if(this.config.mark_now){var t=new Date;if(t<this._max_date&&t>this._min_date&&t.getHours()>=this.config.first_hour&&t.getHours()<this.config.last_hour){var A=this.locate_holder_day(t),B=t.getHours()*60+t.getMinutes(),y=document.createElement("DIV");y.className="dhx_now_time";y.style.top=Math.round((B*60000-this.config.first_hour*3600000)*this.config.hour_size_px/3600000)%(this.config.hour_size_px*24)+1+"px";b.childNodes[A].appendChild(y);}}}}};scheduler._reset_hours_scale=function(a){var b=document.createElement("DIV");b.className="dhx_scale_holder";for(var c=new Date(1980,1,1,this.config.first_hour,0,0),d=this.config.first_hour*1;d<this.config.last_hour;d++){var e=document.createElement("DIV");e.className="dhx_scale_hour";e.style.height=this.config.hour_size_px-(this._quirks?0:1)+"px";e.style.width=this.xy.scale_width+"px";e.innerHTML=scheduler.templates.hour_scale(c);b.appendChild(e);c=this.date.add(c,1,"hour");}a.appendChild(b);if(this.config.scroll_hour){a.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour);}};scheduler._reset_month_scale=function(a,b,c){var d=scheduler.date.add(b,1,"month"),e=new Date;this.date.date_part(e);this.date.date_part(c);var f=Math.ceil(Math.round((d.valueOf()-c.valueOf())/86400000)/7),g=[],h=Math.floor(a.clientHeight/f)-22;this._colsS.height=h+22;for(var i=this._colsS.heights=[],k=0;k<=7;k++){g[k]=" style='height:"+h+"px; width:"+((this._cols[k]||0)-1)+"px;' ";}var j=0;this._min_date=c;for(var l="<table cellpadding='0' cellspacing='0'>",k=0;k<f;k++){l+="<tr>";for(var o=0;o<7;o++){l+="<td";var m="";c<b?m="dhx_before":c>=d?m="dhx_after":c.valueOf()==e.valueOf()&&(m="dhx_now");l+=" class='"+m+" "+this.templates.month_date_class(c,e)+"' ";l+="><div class='dhx_month_head'>"+this.templates.month_day(c)+"</div><div class='dhx_month_body' "+g[o]+"></div></td>";c=this.date.add(c,1,"day");}l+="</tr>";i[k]=j;j+=this._colsS.height;}l+="</table>";this._max_date=c;a.innerHTML=l;return c;};scheduler.getLabel=function(a,b){for(var c=this.config.lightbox.sections,d=0;d<c.length;d++){if(c[d].map_to==a){for(var e=c[d].options,f=0;f<e.length;f++){if(e[f].key==b){return e[f].label;}}}}return"";};scheduler.updateCollection=function(a,b){var c=scheduler.serverList(a);if(!c){return !1;}c.splice(0,c.length);c.push.apply(c,b||[]);scheduler.callEvent("onOptionsLoad",[]);scheduler.resetLightbox();return !0;};scheduler._lame_copy=function(a,b){for(var c in b){a[c]=b[c];}return a;};scheduler.date={init:function(){for(var a=scheduler.locale.date.month_short,b=scheduler.locale.date.month_short_hash={},c=0;c<a.length;c++){b[a[c]]=c;}a=scheduler.locale.date.month_full;b=scheduler.locale.date.month_full_hash={};for(c=0;c<a.length;c++){b[a[c]]=c;}},date_part:function(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a;},time_part:function(a){return(a.valueOf()/1000-a.getTimezoneOffset()*60)%86400;},week_start:function(a){var b=a.getDay();scheduler.config.start_on_monday&&(b===0?b=6:b--);return this.date_part(this.add(a,-1*b,"day"));},month_start:function(a){a.setDate(1);return this.date_part(a);},year_start:function(a){a.setMonth(0);return this.month_start(a);},day_start:function(a){return this.date_part(a);},add:function(a,b,c){var d=new Date(a.valueOf());switch(c){case"day":d.setDate(d.getDate()+b);if(a.getDate()==d.getDate()&&b){do{d.setTime(d.getTime()+3600000);}while(a.getDate()==d.getDate());}break;case"week":d.setDate(d.getDate()+7*b);break;case"month":d.setMonth(d.getMonth()+b);break;case"year":d.setYear(d.getFullYear()+b);break;case"hour":d.setHours(d.getHours()+b);break;case"minute":d.setMinutes(d.getMinutes()+b);break;default:return scheduler.date["add_"+c](a,b,c);}return d;},to_fixed:function(a){return a<10?"0"+a:a;},copy:function(a){return new Date(a.valueOf());},date_to_str:function(a,b){a=a.replace(/%[a-zA-Z]/g,function(a){switch(a){case"%d":return'"+scheduler.date.to_fixed(date.getDate())+"';case"%m":return'"+scheduler.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+scheduler.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+scheduler.locale.date.day_short[date.getDay()]+"';case"%l":return'"+scheduler.locale.date.day_full[date.getDay()]+"';case"%M":return'"+scheduler.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+scheduler.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+scheduler.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+scheduler.date.to_fixed(date.getHours())+"';case"%i":return'"+scheduler.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+scheduler.date.to_fixed(date.getSeconds())+"';case"%W":return'"+scheduler.date.to_fixed(scheduler.date.getISOWeek(date))+"';default:return a;}});b&&(a=a.replace(/date\.get/g,"date.getUTC"));return new Function("date",'return "'+a+'";');},str_to_date:function(a,b){for(var c="var temp=date.split(/[^0-9a-zA-Z]+/g);",d=a.match(/%[a-zA-Z]/g),e=0;e<d.length;e++){switch(d[e]){case"%j":case"%d":c+="set[2]=temp["+e+"]||1;";break;case"%n":case"%m":c+="set[1]=(temp["+e+"]||1)-1;";break;case"%y":c+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":c+="set[3]=temp["+e+"]||0;";break;case"%i":c+="set[4]=temp["+e+"]||0;";break;case"%Y":c+="set[0]=temp["+e+"]||0;";break;case"%a":case"%A":c+="set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":c+="set[5]=temp["+e+"]||0;";break;case"%M":c+="set[1]=scheduler.locale.date.month_short_hash[temp["+e+"]]||0;";break;case"%F":c+="set[1]=scheduler.locale.date.month_full_hash[temp["+e+"]]||0;";}}var f="set[0],set[1],set[2],set[3],set[4],set[5]";b&&(f=" Date.UTC("+f+")");return new Function("date","var set=[0,0,1,0,0,0]; "+c+" return new Date("+f+");");},getISOWeek:function(a){if(!a){return !1;}var b=a.getDay();b===0&&(b=7);var c=new Date(a.valueOf());c.setDate(a.getDate()+(4-b));var d=c.getFullYear(),e=Math.round((c.getTime()-(new Date(d,0,1)).getTime())/86400000),f=1+Math.floor(e/7);return f;},getUTCISOWeek:function(a){return this.getISOWeek(a);}};scheduler.locale={date:{month_full:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),month_short:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),day_full:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),day_short:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda"}};scheduler.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",xml_date:"%m/%d/%Y %H:%i",api_date:"%d-%m-%Y %H:%i",hour_size_px:42,time_step:5,start_on_monday:1,first_hour:0,last_hour:24,readonly:!1,drag_resize:1,drag_move:1,drag_create:1,dblclick_create:1,edit_on_create:1,details_on_create:0,click_form_details:0,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,drag_lightbox:!0,preserve_scroll:!0,server_utc:!1,positive_closing:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",height:200,map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},repeat_date_of_end:"01.01.2010"};scheduler.templates={};scheduler.init_templates=function(){var a=scheduler.date.date_to_str,b=scheduler.config,c=function(a,b){for(var c in b){a[c]||(a[c]=b[c]);}};c(scheduler.templates,{day_date:a(b.default_date),month_date:a(b.month_date),week_date:function(a,b){return scheduler.templates.day_date(a)+" &ndash; "+scheduler.templates.day_date(scheduler.date.add(b,-1,"day"));},day_scale_date:a(b.default_date),month_scale_date:a(b.week_date),week_scale_date:a(b.day_date),hour_scale:a(b.hour_date),time_picker:a(b.hour_date),event_date:a(b.hour_date),month_day:a(b.month_day),xml_date:scheduler.date.str_to_date(b.xml_date,b.server_utc),load_format:a(b.load_date,b.server_utc),xml_format:a(b.xml_date,b.server_utc),api_date:scheduler.date.str_to_date(b.api_date),event_header:function(a,b){return scheduler.templates.event_date(a)+" - "+scheduler.templates.event_date(b);},event_text:function(a,b,c){return c.text;},event_class:function(){return"";},month_date_class:function(){return"";},week_date_class:function(){return"";},event_bar_date:function(a){return scheduler.templates.event_date(a)+" ";},event_bar_text:function(a,b,c){return c.text;}});this.callEvent("onTemplatesReady",[]);};scheduler.uid=function(){if(!this._seed){this._seed=(new Date).valueOf();}return this._seed++;};scheduler._events={};scheduler.clearAll=function(){this._events={};this._loaded={};this.clear_view();};scheduler.addEvent=function(a,b,c,d,e){if(!arguments.length){return this.addEventNow();}var f=a;if(arguments.length!=1){f=e||{},f.start_date=a,f.end_date=b,f.text=c,f.id=d;}f.id=f.id||scheduler.uid();f.text=f.text||"";if(typeof f.start_date=="string"){f.start_date=this.templates.api_date(f.start_date);}if(typeof f.end_date=="string"){f.end_date=this.templates.api_date(f.end_date);}var g=(this.config.event_duration||this.config.time_step)*60000;f.start_date.valueOf()==f.end_date.valueOf()&&f.end_date.setTime(f.end_date.valueOf()+g);f._timed=this.is_one_day_event(f);var h=!this._events[f.id];this._events[f.id]=f;this.event_updated(f);this._loading||this.callEvent(h?"onEventAdded":"onEventChanged",[f.id,f]);};scheduler.deleteEvent=function(a,b){var c=this._events[a];if(b||this.callEvent("onBeforeEventDelete",[a,c])&&this.callEvent("onConfirmedBeforeEventDelete",[a,c])){c&&(delete this._events[a],this.unselect(a),this.event_updated(c)),this.callEvent("onEventDeleted",[a]);}};scheduler.getEvent=function(a){return this._events[a];};scheduler.setEvent=function(a,b){this._events[a]=b;};scheduler.for_rendered=function(a,b){for(var c=this._rendered.length-1;c>=0;c--){this._rendered[c].getAttribute("event_id")==a&&b(this._rendered[c],c);}};scheduler.changeEventId=function(a,b){if(a!=b){var c=this._events[a];if(c){c.id=b,this._events[b]=c,delete this._events[a];}this.for_rendered(a,function(a){a.setAttribute("event_id",b);});if(this._select_id==a){this._select_id=b;}if(this._edit_id==a){this._edit_id=b;}this.callEvent("onEventIdChange",[a,b]);}};(function(){for(var a="text,Text,start_date,StartDate,end_date,EndDate".split(","),b=function(a){return function(b){return scheduler.getEvent(b)[a];};},c=function(a){return function(b,c){var d=scheduler.getEvent(b);d[a]=c;d._changed=!0;d._timed=this.is_one_day_event(d);scheduler.event_updated(d,!0);};},d=0;d<a.length;d+=2){scheduler["getEvent"+a[d+1]]=b(a[d]),scheduler["setEvent"+a[d+1]]=c(a[d]);}})();scheduler.event_updated=function(a){this.is_visible_events(a)?this.render_view_data():this.clear_event(a.id);};scheduler.is_visible_events=function(a){return a.start_date<this._max_date&&this._min_date<a.end_date;};scheduler.is_one_day_event=function(a){var b=a.end_date.getDate()-a.start_date.getDate();return b?(b<0&&(b=Math.ceil((a.end_date.valueOf()-a.start_date.valueOf())/86400000)),b==1&&!a.end_date.getHours()&&!a.end_date.getMinutes()&&(a.start_date.getHours()||a.start_date.getMinutes())):a.start_date.getMonth()==a.end_date.getMonth()&&a.start_date.getFullYear()==a.end_date.getFullYear();};scheduler.get_visible_events=function(){var a=[],b=this["filter_"+this._mode],c;for(c in this._events){if(this.is_visible_events(this._events[c])&&(this._table_view||this.config.multi_day||this._events[c]._timed)){(!b||b(c,this._events[c]))&&a.push(this._events[c]);}}return a;};scheduler.render_view_data=function(a,b){if(!a){if(this._not_render){this._render_wait=!0;return;}this._render_wait=!1;this.clear_view();a=this.get_visible_events();}if(this.config.multi_day&&!this._table_view){for(var c=[],d=[],e=0;e<a.length;e++){a[e]._timed?c.push(a[e]):d.push(a[e]);}this._rendered_location=this._els.dhx_multi_day[0];this._table_view=!0;this.render_data(d,b);this._table_view=!1;this._rendered_location=this._els.dhx_cal_data[0];this._table_view=!1;this.render_data(c,b);}else{this._rendered_location=this._els.dhx_cal_data[0],this.render_data(a,b);}};scheduler.render_data=function(a,b){for(var a=this._pre_render_events(a,b),c=0;c<a.length;c++){this._table_view?this.render_event_bar(a[c]):this.render_event(a[c]);}};scheduler._pre_render_events=function(a,b){var c=this.xy.bar_height,d=this._colsS.heights,e=this._colsS.heights=[0,0,0,0,0,0,0],f=this._els.dhx_cal_data[0],a=this._table_view?this._pre_render_events_table(a,b):this._pre_render_events_line(a,b);if(this._table_view){if(b){this._colsS.heights=d;}else{var g=f.firstChild;if(g.rows){for(var h=0;h<g.rows.length;h++){e[h]++;if(e[h]*c>this._colsS.height-22){for(var i=g.rows[h].cells,k=0;k<i.length;k++){i[k].childNodes[1].style.height=e[h]*c+"px";}e[h]=(e[h-1]||0)+i[0].offsetHeight;}e[h]=(e[h-1]||0)+g.rows[h].cells[0].offsetHeight;}e.unshift(0);if(g.parentNode.offsetHeight<g.parentNode.scrollHeight&&!g._h_fix){for(h=0;h<g.rows.length;h++){var j=g.rows[h].cells[6].childNodes[0],l=j.offsetWidth-scheduler.xy.scroll_width+"px";j.style.width=l;j.nextSibling.style.width=l;}g._h_fix=!0;}}else{if(!a.length&&this._els.dhx_multi_day[0].style.visibility=="visible"&&(e[0]=-1),a.length||e[0]==-1){var o=g.parentNode.childNodes,m=(e[0]+1)*c+1+"px";f.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+parseInt(m)+"px";f.style.height=this._obj.offsetHeight-parseInt(f.style.top)-(this.xy.margin_top||0)+"px";var n=this._els.dhx_multi_day[0];n.style.height=m;n.style.visibility=e[0]==-1?"hidden":"visible";n=this._els.dhx_multi_day[1];n.style.height=m;n.style.visibility=e[0]==-1?"hidden":"visible";n.className=e[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small";this._dy_shift=(e[0]+1)*c;e[0]=0;}}}}return a;};scheduler._get_event_sday=function(a){return Math.floor((a.start_date.valueOf()-this._min_date.valueOf())/86400000);};scheduler._pre_render_events_line=function(a,b){a.sort(function(a,b){return a.start_date.valueOf()==b.start_date.valueOf()?a.id>b.id?1:-1:a.start_date>b.start_date?1:-1;});for(var c=[],d=[],e=0;e<a.length;e++){var f=a[e],g=f.start_date.getHours(),h=f.end_date.getHours();f._sday=this._get_event_sday(f);c[f._sday]||(c[f._sday]=[]);if(!b){f._inner=!1;for(var i=c[f._sday];i.length&&i[i.length-1].end_date<=f.start_date;){i.splice(i.length-1,1);}for(var k=!1,j=0;j<i.length;j++){if(i[j].end_date.valueOf()<f.start_date.valueOf()){k=!0;f._sorder=i[j]._sorder;i.splice(j,1);f._inner=!0;break;}}if(i.length){i[i.length-1]._inner=!0;}if(!k){if(i.length){if(i.length<=i[i.length-1]._sorder){if(i[i.length-1]._sorder){for(j=0;j<i.length;j++){var l=!1;for(k=0;k<i.length;k++){if(i[k]._sorder==j){l=!0;break;}}if(!l){f._sorder=j;break;}}}else{f._sorder=0;}f._inner=!0;}else{l=i[0]._sorder;for(j=1;j<i.length;j++){if(i[j]._sorder>l){l=i[j]._sorder;}}f._sorder=l+1;f._inner=!1;}}else{f._sorder=0;}}i.push(f);i.length>(i.max_count||0)?(i.max_count=i.length,f._count=i.length):f._count=f._count?f._count:1;}if(g<this.config.first_hour||h>=this.config.last_hour){if(d.push(f),a[e]=f=this._copy_event(f),g<this.config.first_hour&&(f.start_date.setHours(this.config.first_hour),f.start_date.setMinutes(0)),h>=this.config.last_hour&&(f.end_date.setMinutes(0),f.end_date.setHours(this.config.last_hour)),f.start_date>f.end_date||g==this.config.last_hour){a.splice(e,1),e--;}}}if(!b){for(e=0;e<a.length;e++){a[e]._count=c[a[e]._sday].max_count;}for(e=0;e<d.length;e++){d[e]._count=c[d[e]._sday].max_count;}}return a;};scheduler._time_order=function(a){a.sort(function(a,c){return a.start_date.valueOf()==c.start_date.valueOf()?a._timed&&!c._timed?1:!a._timed&&c._timed?-1:a.id>c.id?1:-1:a.start_date>c.start_date?1:-1;});};scheduler._pre_render_events_table=function(a,b){this._time_order(a);for(var c=[],d=[[],[],[],[],[],[],[]],e=this._colsS.heights,f,g=this._cols.length,h=0;h<a.length;h++){var i=a[h],k=f||i.start_date,j=i.end_date;if(k<this._min_date){k=this._min_date;}if(j>this._max_date){j=this._max_date;}var l=this.locate_holder_day(k,!1,i);i._sday=l%g;var o=this.locate_holder_day(j,!0,i)||g;i._eday=o%g||g;i._length=o-l;i._sweek=Math.floor((this._correct_shift(k.valueOf(),1)-this._min_date.valueOf())/(86400000*g));var m=d[i._sweek],n;for(n=0;n<m.length;n++){if(m[n]._eday<=i._sday){break;}}if(!i._sorder||!b){i._sorder=n;}if(i._sday+i._length<=g){f=null,c.push(i),m[n]=i,e[i._sweek]=m.length-1;}else{var p=this._copy_event(i);p._length=g-i._sday;p._eday=g;p._sday=i._sday;p._sweek=i._sweek;p._sorder=i._sorder;p.end_date=this.date.add(k,p._length,"day");c.push(p);m[n]=p;f=p.end_date;e[i._sweek]=m.length-1;h--;}}return c;};scheduler._copy_dummy=function(){this.start_date=new Date(this.start_date);this.end_date=new Date(this.end_date);};scheduler._copy_event=function(a){this._copy_dummy.prototype=a;return new this._copy_dummy;};scheduler._rendered=[];scheduler.clear_view=function(){for(var a=0;a<this._rendered.length;a++){var b=this._rendered[a];b.parentNode&&b.parentNode.removeChild(b);}this._rendered=[];};scheduler.updateEvent=function(a){var b=this.getEvent(a);this.clear_event(a);b&&this.is_visible_events(b)&&this.render_view_data([b],!0);};scheduler.clear_event=function(a){this.for_rendered(a,function(a,c){a.parentNode&&a.parentNode.removeChild(a);scheduler._rendered.splice(c,1);});};scheduler.render_event=function(a){var b=scheduler.xy.menu_width;if(!(a._sday<0)){var c=scheduler.locate_holder(a._sday);if(c){var d=a.start_date.getHours()*60+a.start_date.getMinutes(),e=a.end_date.getHours()*60+a.end_date.getMinutes()||scheduler.config.last_hour*60,f=Math.round((d*60000-this.config.first_hour*3600000)*this.config.hour_size_px/3600000)%(this.config.hour_size_px*24)+1,g=Math.max(scheduler.xy.min_event_height,(e-d)*this.config.hour_size_px/60)+1,h=Math.floor((c.clientWidth-b)/a._count),i=a._sorder*h+1;a._inner||(h*=a._count-a._sorder);if(this.config.cascade_event_display){var k=this.config.cascade_event_count,j=this.config.cascade_event_margin,i=a._sorder%k*j,l=a._inner?(a._count-a._sorder-1)%k*j/2:0,h=Math.floor(c.clientWidth-b-i-l);}var o=this._render_v_bar(a.id,b+i,f,h,g,a._text_style,scheduler.templates.event_header(a.start_date,a.end_date,a),scheduler.templates.event_text(a.start_date,a.end_date,a));this._rendered.push(o);c.appendChild(o);i=i+parseInt(c.style.left,10)+b;if(this._edit_id==a.id){o.style.zIndex=1;h=Math.max(h-4,scheduler.xy.editor_width);o=document.createElement("DIV");o.setAttribute("event_id",a.id);this.set_xy(o,h,g-20,i,f+14);o.className="dhx_cal_editor";var m=document.createElement("DIV");this.set_xy(m,h-6,g-26);m.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;";o.appendChild(m);this._els.dhx_cal_data[0].appendChild(o);this._rendered.push(o);m.innerHTML="<textarea class='dhx_cal_editor'>"+a.text+"</textarea>";if(this._quirks7){m.firstChild.style.height=g-12+"px";}this._editor=m.firstChild;this._editor.onkeypress=function(a){if((a||event).shiftKey){return !0;}var b=(a||event).keyCode;b==scheduler.keys.edit_save&&scheduler.editStop(!0);b==scheduler.keys.edit_cancel&&scheduler.editStop(!1);};this._editor.onselectstart=function(a){return(a||event).cancelBubble=!0;};m.firstChild.focus();this._els.dhx_cal_data[0].scrollLeft=0;m.firstChild.select();}if(this._select_id==a.id){if(this.config.cascade_event_display&&this._drag_mode){o.style.zIndex=1;}for(var n=this.config["icons_"+(this._edit_id==a.id?"edit":"select")],p="",q=a.color?"background-color:"+a.color+";":"",v=a.textColor?"color:"+a.textColor+";":"",s=0;s<n.length;s++){p+="<div class='dhx_menu_icon "+n[s]+"' style='"+q+""+v+"' title='"+this.locale.labels[n[s]]+"'></div>";}var r=this._render_v_bar(a.id,i-b+1,f,b,n.length*20+26,"","<div style='"+q+""+v+"' class='dhx_menu_head'></div>",p,!0);r.style.left=i-b+1;this._els.dhx_cal_data[0].appendChild(r);this._rendered.push(r);}}}};scheduler._render_v_bar=function(a,b,c,d,e,f,g,h,i){var k=document.createElement("DIV"),j=this.getEvent(a),l="dhx_cal_event",o=scheduler.templates.event_class(j.start_date,j.end_date,j);o&&(l=l+" "+o);var m=j.color?"background-color:"+j.color+";":"",n=j.textColor?"color:"+j.textColor+";":"",p='<div event_id="'+a+'" class="'+l+'" style="position:absolute; top:'+c+"px; left:"+b+"px; width:"+(d-4)+"px; height:"+e+"px;"+(f||"")+'">';p+='<div class="dhx_header" style=" width:'+(d-6)+"px;"+m+'" >&nbsp;</div>';p+='<div class="dhx_title" style="'+m+""+n+'">'+g+"</div>";p+='<div class="dhx_body" style=" width:'+(d-(this._quirks?4:14))+"px; height:"+(e-(this._quirks?20:30))+"px;"+m+""+n+'">'+h+"</div>";p+='<div class="dhx_footer" style=" width:'+(d-8)+"px;"+(i?" margin-top:-1px;":"")+""+m+""+n+'" ></div></div>';k.innerHTML=p;return k.firstChild;};scheduler.locate_holder=function(a){return this._mode=="day"?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[a];};scheduler.locate_holder_day=function(a,b){var c=Math.floor((this._correct_shift(a,1)-this._min_date)/86400000);b&&this.date.time_part(a)&&c++;return c;};scheduler.render_event_bar=function(a){var b=this._rendered_location,c=this._colsS[a._sday],d=this._colsS[a._eday];d==c&&(d=this._colsS[a._eday+1]);var e=this.xy.bar_height,f=this._colsS.heights[a._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+a._sorder*e,g=document.createElement("DIV"),h=a._timed?"dhx_cal_event_clear":"dhx_cal_event_line",i=scheduler.templates.event_class(a.start_date,a.end_date,a);i&&(h=h+" "+i);var k=a.color?"background-color:"+a.color+";":"",j=a.textColor?"color:"+a.textColor+";":"",l='<div event_id="'+a.id+'" class="'+h+'" style="position:absolute; top:'+f+"px; left:"+c+"px; width:"+(d-c-15)+"px;"+j+""+k+""+(a._text_style||"")+'">';a._timed&&(l+=scheduler.templates.event_bar_date(a.start_date,a.end_date,a));l+=scheduler.templates.event_bar_text(a.start_date,a.end_date,a)+"</div>";l+="</div>";g.innerHTML=l;this._rendered.push(g.firstChild);b.appendChild(g.firstChild);};scheduler._locate_event=function(a){for(var b=null;a&&!b&&a.getAttribute;){b=a.getAttribute("event_id"),a=a.parentNode;}return b;};scheduler.edit=function(a){if(this._edit_id!=a){this.editStop(!1,a),this._edit_id=a,this.updateEvent(a);}};scheduler.editStop=function(a,b){if(!(b&&this._edit_id==b)){var c=this.getEvent(this._edit_id);if(c){if(a){c.text=this._editor.value;}this._editor=this._edit_id=null;this.updateEvent(c.id);this._edit_stop_event(c,a);}}};scheduler._edit_stop_event=function(a,b){this._new_event?(b?this.callEvent("onEventAdded",[a.id,a]):this.deleteEvent(a.id,!0),this._new_event=null):b&&this.callEvent("onEventChanged",[a.id,a]);};scheduler.getEvents=function(a,b){var c=[],d;for(d in this._events){var e=this._events[d];e&&e.start_date<b&&e.end_date>a&&c.push(e);}return c;};scheduler._loaded={};scheduler._load=function(a,b){a=a||this._load_url;a+=(a.indexOf("?")==-1?"?":"&")+"timeshift="+(new Date).getTimezoneOffset();this.config.prevent_cache&&(a+="&uid="+this.uid());var c,b=b||this._date;if(this._load_mode){for(var d=this.templates.load_format,b=this.date[this._load_mode+"_start"](new Date(b.valueOf()));b>this._min_date;){b=this.date.add(b,-1,this._load_mode);}c=b;for(var e=!0;c<this._max_date;){c=this.date.add(c,1,this._load_mode),this._loaded[d(b)]&&e?b=this.date.add(b,1,this._load_mode):e=!1;}var f=c;do{c=f,f=this.date.add(c,-1,this._load_mode);}while(f>b&&this._loaded[d(f)]);if(c<=b){return !1;}for(dhtmlxAjax.get(a+"&from="+d(b)+"&to="+d(c),function(a){scheduler.on_load(a);});b<c;){this._loaded[d(b)]=!0,b=this.date.add(b,1,this._load_mode);}}else{dhtmlxAjax.get(a,function(a){scheduler.on_load(a);});}this.callEvent("onXLS",[]);return !0;};scheduler.on_load=function(a){this._loading=!0;var b;b=this._process?this[this._process].parse(a.xmlDoc.responseText):this._magic_parser(a);this._not_render=!0;for(var c=0;c<b.length;c++){this.callEvent("onEventLoading",[b[c]])&&this.addEvent(b[c]);}this._not_render=!1;this._render_wait&&this.render_view_data();this._loading=!1;this._after_call&&this._after_call();this._after_call=null;this.callEvent("onXLE",[]);};scheduler.json={};scheduler.json.parse=function(a){if(typeof a=="string"){eval("scheduler._temp = "+a+";"),a=scheduler._temp;}for(var b=[],c=0;c<a.length;c++){a[c].start_date=scheduler.templates.xml_date(a[c].start_date),a[c].end_date=scheduler.templates.xml_date(a[c].end_date),b.push(a[c]);}return b;};scheduler.parse=function(a,b){this._process=b;this.on_load({xmlDoc:{responseText:a}});};scheduler.load=function(a,b,c){if(typeof b=="string"){this._process=b,b=c;}this._load_url=a;this._after_call=b;this._load(a,this._date);};scheduler.setLoadMode=function(a){a=="all"&&(a="");this._load_mode=a;};scheduler.refresh=function(){alert("not implemented");};scheduler.serverList=function(a,b){return b?this.serverList[a]=b.slice(0):this.serverList[a]=this.serverList[a]||[];};scheduler._userdata={};scheduler._magic_parser=function(a){var b;if(!a.getXMLTopNode){var c=a.xmlDoc.responseText,a=new dtmlXMLLoaderObject(function(){});a.loadXMLString(c);}b=a.getXMLTopNode("data");if(b.tagName!="data"){return[];}for(var d=a.doXPath("//coll_options"),e=0;e<d.length;e++){var f=d[e].getAttribute("for"),g=this.serverList[f];if(g){g.splice(0,g.length);for(var h=a.doXPath(".//item",d[e]),i=0;i<h.length;i++){for(var k=h[i],j=k.attributes,l={key:h[i].getAttribute("value"),label:h[i].getAttribute("label")},o=0;o<j.length;o++){var m=j[o];if(!(m.nodeName=="value"||m.nodeName=="label")){l[m.nodeName]=m.nodeValue;}}g.push(l);}}}d.length&&scheduler.callEvent("onOptionsLoad",[]);for(var n=a.doXPath("//userdata"),e=0;e<n.length;e++){var p=this.xmlNodeToJSON(n[e]);this._userdata[p.name]=p.text;}var q=[];b=a.doXPath("//event");for(e=0;e<b.length;e++){q[e]=this.xmlNodeToJSON(b[e]),q[e].text=q[e].text||q[e]._tagvalue,q[e].start_date=this.templates.xml_date(q[e].start_date),q[e].end_date=this.templates.xml_date(q[e].end_date);}return q;};scheduler.xmlNodeToJSON=function(a){for(var b={},c=0;c<a.attributes.length;c++){b[a.attributes[c].name]=a.attributes[c].value;}for(c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];d.nodeType==1&&(b[d.tagName]=d.firstChild?d.firstChild.nodeValue:"");}if(!b.text){b.text=a.firstChild?a.firstChild.nodeValue:"";}return b;};scheduler.attachEvent("onXLS",function(){if(this.config.show_loading===!0){var a;a=this.config.show_loading=document.createElement("DIV");a.className="dhx_loading";a.style.left=Math.round((this._x-128)/2)+"px";a.style.top=Math.round((this._y-15)/2)+"px";this._obj.appendChild(a);}});scheduler.attachEvent("onXLE",function(){var a;if((a=this.config.show_loading)&&typeof a=="object"){this._obj.removeChild(a),this.config.show_loading=!0;}});scheduler.ical={parse:function(a){var b=a.match(RegExp(this.c_start+"[^\u000c]*"+this.c_end,""));if(b.length){b[0]=b[0].replace(/[\r\n]+(?=[a-z \t])/g," ");b[0]=b[0].replace(/\;[^:\r\n]*/g,"");for(var c=[],d,e=RegExp("(?:"+this.e_start+")([^\u000c]*?)(?:"+this.e_end+")","g");d=e.exec(b);){for(var f={},g,h=/[^\r\n]+[\r\n]+/g;g=h.exec(d[1]);){this.parse_param(g.toString(),f);}if(f.uid&&!f.id){f.id=f.uid;}c.push(f);}return c;}},parse_param:function(a,b){var c=a.indexOf(":");if(c!=-1){var d=a.substr(0,c).toLowerCase(),e=a.substr(c+1).replace(/\\\,/g,",").replace(/[\r\n]+$/,"");d=="summary"?d="text":d=="dtstart"?(d="start_date",e=this.parse_date(e,0,0)):d=="dtend"&&(d="end_date",e=b.start_date&&b.start_date.getHours()==0?this.parse_date(e,24,0):this.parse_date(e,23,59));b[d]=e;}},parse_date:function(a,b,c){var d=a.split("T");d[1]&&(b=d[1].substr(0,2),c=d[1].substr(2,2));var e=d[0].substr(0,4),f=parseInt(d[0].substr(4,2),10)-1,g=d[0].substr(6,2);return scheduler.config.server_utc&&!d[1]?new Date(Date.UTC(e,f,g,b,c)):new Date(e,f,g,b,c);},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"};scheduler.formSection=function(a){for(var b=this.config.lightbox.sections,c=0;c<b.length;c++){if(b[c].name==a){break;}}var d=b[c],e=document.getElementById(d.id).nextSibling;return{getValue:function(a){return scheduler.form_blocks[d.type].get_value(e,a||{},d);},setValue:function(a,b){return scheduler.form_blocks[d.type].set_value(e,a,b||{},d);}};};scheduler.form_blocks={template:{render:function(a){var b=(a.height||"30")+"px";return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+b+";'></div>";},set_value:function(a,b){a.innerHTML=b||"";},get_value:function(a){return a.innerHTML||"";},focus:function(){}},textarea:{render:function(a){var b=(a.height||"130")+"px";return"<div class='dhx_cal_ltext' style='height:"+b+";'><textarea></textarea></div>";},set_value:function(a,b){a.firstChild.value=b||"";},get_value:function(a){return a.firstChild.value;},focus:function(a){var b=a.firstChild;b.select();b.focus();}},select:{render:function(a){for(var b=(a.height||"23")+"px",c="<div class='dhx_cal_ltext' style='height:"+b+";'><select style='width:100%;'>",d=0;d<a.options.length;d++){c+="<option value='"+a.options[d].key+"'>"+a.options[d].label+"</option>";}c+="</select></div>";return c;},set_value:function(a,b){if(typeof b=="undefined"){b=(a.firstChild.options[0]||{}).value;}a.firstChild.value=b||"";},get_value:function(a){return a.firstChild.value;},focus:function(a){var b=a.firstChild;b.select&&b.select();b.focus();}},time:{render:function(){var a=scheduler.config,b=this.date.date_part(new Date),c=1440,d=0;scheduler.config.limit_time_select&&(c=60*a.last_hour+1,d=60*a.first_hour,b.setHours(a.first_hour));for(var e="<select>",f=d,g=b.getDate();f<c;){var h=this.templates.time_picker(b);e+="<option value='"+f+"'>"+h+"</option>";b.setTime(b.valueOf()+this.config.time_step*60000);var i=b.getDate()!=g?1:0,f=i*1440+b.getHours()*60+b.getMinutes();}e+="</select> <select>";for(f=1;f<32;f++){e+="<option value='"+f+"'>"+f+"</option>";}e+="</select> <select>";for(f=0;f<12;f++){e+="<option value='"+f+"'>"+this.locale.date.month_full[f]+"</option>";}e+="</select> <select>";b=b.getFullYear()-5;for(f=0;f<10;f++){e+="<option value='"+(b+f)+"'>"+(b+f)+"</option>";}e+="</select> ";return"<div style='height:30px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+e+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+e+"</div>";},set_value:function(a,b,c){function d(a,b,c){a[b+0].value=Math.round((c.getHours()*60+c.getMinutes())/scheduler.config.time_step)*scheduler.config.time_step;a[b+1].value=c.getDate();a[b+2].value=c.getMonth();a[b+3].value=c.getFullYear();}var e=a.getElementsByTagName("select");if(scheduler.config.full_day){if(!a._full_day){var f="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+scheduler.locale.labels.full_day+"&nbsp;</label></input>";scheduler.config.wide_form||(f=a.previousSibling.innerHTML+f);a.previousSibling.innerHTML=f;a._full_day=!0;}var g=a.previousSibling.getElementsByTagName("input")[0],h=scheduler.date.time_part(c.start_date)===0&&scheduler.date.time_part(c.end_date)===0&&c.end_date.valueOf()-c.start_date.valueOf()<172800000;g.checked=h;for(var i in e){e[i].disabled=g.checked;}g.onclick=function(){if(g.checked){var a=new Date(c.start_date),b=new Date(c.end_date);scheduler.date.date_part(a);b=scheduler.date.add(a,1,"day");}for(var f in e){e[f].disabled=g.checked;}d(e,0,a||c.start_date);d(e,4,b||c.end_date);};}if(scheduler.config.auto_end_date&&scheduler.config.event_duration){for(var k=function(){c.start_date=new Date(e[3].value,e[2].value,e[1].value,0,e[0].value);c.end_date.setTime(c.start_date.getTime()+scheduler.config.event_duration*60000);d(e,4,c.end_date);},j=0;j<4;j++){e[j].onchange=k;}}d(e,0,c.start_date);d(e,4,c.end_date);},get_value:function(a,b){s=a.getElementsByTagName("select");b.start_date=new Date(s[3].value,s[2].value,s[1].value,0,s[0].value);b.end_date=new Date(s[7].value,s[6].value,s[5].value,0,s[4].value);if(b.end_date<=b.start_date){b.end_date=scheduler.date.add(b.start_date,scheduler.config.time_step,"minute");}},focus:function(a){a.getElementsByTagName("select")[0].focus();}}};scheduler.showCover=function(a){if(a){a.style.display="block";var b=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,c=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,d=window.innerHeight||document.documentElement.clientHeight;a.style.top=b?Math.round(b+Math.max((d-a.offsetHeight)/2,0))+"px":Math.round(Math.max((d-a.offsetHeight)/2,0)+9)+"px";a.style.left=document.documentElement.scrollWidth>document.body.offsetWidth?Math.round(c+(document.body.offsetWidth-a.offsetWidth)/2)+"px":Math.round((document.body.offsetWidth-a.offsetWidth)/2)+"px";}this.show_cover();};scheduler.showLightbox=function(a){if(a&&this.callEvent("onBeforeLightbox",[a])){var b=this._get_lightbox();this.showCover(b);this._fill_lightbox(a,b);this.callEvent("onLightbox",[a]);}};scheduler._fill_lightbox=function(a,b){var c=this.getEvent(a),d=b.getElementsByTagName("span");scheduler.templates.lightbox_header?(d[1].innerHTML="",d[2].innerHTML=scheduler.templates.lightbox_header(c.start_date,c.end_date,c)):(d[1].innerHTML=this.templates.event_header(c.start_date,c.end_date,c),d[2].innerHTML=(this.templates.event_bar_text(c.start_date,c.end_date,c)||"").substr(0,70));for(var e=this.config.lightbox.sections,f=0;f<e.length;f++){var g=document.getElementById(e[f].id).nextSibling,h=this.form_blocks[e[f].type];h.set_value.call(this,g,c[e[f].map_to],c,e[f]);e[f].focus&&h.focus.call(this,g);}scheduler._lightbox_id=a;};scheduler._lightbox_out=function(a){for(var b=this.config.lightbox.sections,c=0;c<b.length;c++){var d=document.getElementById(b[c].id),d=d?d.nextSibling:d,e=this.form_blocks[b[c].type],f=e.get_value.call(this,d,a,b[c]);b[c].map_to!="auto"&&(a[b[c].map_to]=f);}return a;};scheduler._empty_lightbox=function(){var a=scheduler._lightbox_id,b=this.getEvent(a),c=this._get_lightbox();this._lightbox_out(b);b._timed=this.is_one_day_event(b);this.setEvent(b.id,b);this._edit_stop_event(b,!0);this.render_view_data();};scheduler.hide_lightbox=function(){this.hideCover(this._get_lightbox());this._lightbox_id=null;this.callEvent("onAfterLightbox",[]);};scheduler.hideCover=function(a){if(a){a.style.display="none";}this.hide_cover();};scheduler.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover);this._cover=null;};scheduler.show_cover=function(){this._cover=document.createElement("DIV");this._cover.className="dhx_cal_cover";var a=document.height!==void 0?document.height:document.body.offsetHeight,b=document.documentElement?document.documentElement.scrollHeight:0;this._cover.style.height=Math.max(a,b)+"px";document.body.appendChild(this._cover);};scheduler.save_lightbox=function(){if(!this.checkEvent("onEventSave")||this.callEvent("onEventSave",[this._lightbox_id,this._lightbox_out({id:this._lightbox_id}),this._new_event])){this._empty_lightbox(),this.hide_lightbox();}};scheduler.startLightbox=function(a,b){this._lightbox_id=a;this.showCover(b);};scheduler.endLightbox=function(a,b){this._edit_stop_event(scheduler.getEvent(this._lightbox_id),a);a&&scheduler.render_view_data();this.hideCover(b);};scheduler.resetLightbox=function(){scheduler._lightbox&&scheduler._lightbox.parentNode.removeChild(scheduler._lightbox);scheduler._lightbox=null;};scheduler.cancel_lightbox=function(){this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]);this.endLightbox(!1);this.hide_lightbox();};scheduler._init_lightbox_events=function(){this._get_lightbox().onclick=function(a){var b=a?a.target:event.srcElement;if(!b.className){b=b.previousSibling;}if(b&&b.className){switch(b.className){case"dhx_save_btn":scheduler.save_lightbox();break;case"dhx_delete_btn":var c=scheduler.locale.labels.confirm_deleting;if(!c||confirm(c)){scheduler.deleteEvent(scheduler._lightbox_id),scheduler._new_event=null,scheduler.hide_lightbox();}break;case"dhx_cancel_btn":scheduler.cancel_lightbox();break;default:if(b.getAttribute("dhx_button")){scheduler.callEvent("onLightboxButton",[b.className,b,a]);}else{if(b.className.indexOf("dhx_custom_button_")!=-1){var d=b.parentNode.getAttribute("index"),e=scheduler.form_blocks[scheduler.config.lightbox.sections[d].type],f=b.parentNode.parentNode;e.button_click(d,b,f,f.nextSibling);}}}}};this._get_lightbox().onkeydown=function(a){switch((a||event).keyCode){case scheduler.keys.edit_save:if((a||event).shiftKey){break;}scheduler.save_lightbox();break;case scheduler.keys.edit_cancel:scheduler.cancel_lightbox();}};};scheduler.setLightboxSize=function(){var a=this._lightbox;if(a){var b=a.childNodes[1];b.style.height="0px";b.style.height=b.scrollHeight+"px";a.style.height=b.scrollHeight+50+"px";b.style.height=b.scrollHeight+"px";}};scheduler._init_dnd_events=function(){dhtmlxEvent(document.body,"mousemove",scheduler._move_while_dnd);dhtmlxEvent(document.body,"mouseup",scheduler._finish_dnd);scheduler._init_dnd_events=function(){};};scheduler._move_while_dnd=function(a){if(scheduler._dnd_start_lb){if(!document.dhx_unselectable){document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0;}var b=scheduler._get_lightbox(),c=a&&a.target?[a.pageX,a.pageY]:[event.clientX,event.clientY];b.style.top=scheduler._lb_start[1]+c[1]-scheduler._dnd_start_lb[1]+"px";b.style.left=scheduler._lb_start[0]+c[0]-scheduler._dnd_start_lb[0]+"px";}};scheduler._ready_to_dnd=function(a){var b=scheduler._get_lightbox();scheduler._lb_start=[parseInt(b.style.left,10),parseInt(b.style.top,10)];scheduler._dnd_start_lb=a&&a.target?[a.pageX,a.pageY]:[event.clientX,event.clientY];};scheduler._finish_dnd=function(){if(scheduler._lb_start){scheduler._lb_start=scheduler._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1;}};scheduler._get_lightbox=function(){if(!this._lightbox){var a=document.createElement("DIV");a.className="dhx_cal_light";scheduler.config.wide_form&&(a.className+=" dhx_cal_light_wide");scheduler.form_blocks.recurring&&(a.className+=" dhx_cal_light_rec");/msie|MSIE 6/.test(navigator.userAgent)&&(a.className+=" dhx_ie6");a.style.visibility="hidden";var b=this._lightbox_template,c=this.config.buttons_left;scheduler.locale.labels.dhx_save_btn=scheduler.locale.labels.icon_save;scheduler.locale.labels.dhx_cancel_btn=scheduler.locale.labels.icon_cancel;scheduler.locale.labels.dhx_delete_btn=scheduler.locale.labels.icon_delete;for(var d=0;d<c.length;d++){b+="<div class='dhx_btn_set'><div dhx_button='1' class='"+c[d]+"'></div><div>"+scheduler.locale.labels[c[d]]+"</div></div>";}c=this.config.buttons_right;for(d=0;d<c.length;d++){b+="<div class='dhx_btn_set' style='float:right;'><div dhx_button='1' class='"+c[d]+"'></div><div>"+scheduler.locale.labels[c[d]]+"</div></div>";}b+="</div>";a.innerHTML=b;if(scheduler.config.drag_lightbox){a.firstChild.onmousedown=scheduler._ready_to_dnd,a.firstChild.onselectstart=function(){return !1;},a.firstChild.style.cursor="pointer",scheduler._init_dnd_events();}document.body.insertBefore(a,document.body.firstChild);this._lightbox=a;for(var e=this.config.lightbox.sections,b="",d=0;d<e.length;d++){var f=this.form_blocks[e[d].type];if(f){e[d].id="area_"+this.uid();var g="";e[d].button&&(g="<div class='dhx_custom_button' index='"+d+"'><div class='dhx_custom_button_"+e[d].button+"'></div><div>"+this.locale.labels["button_"+e[d].button]+"</div></div>");this.config.wide_form&&(b+="<div class='dhx_wrap_section'>");b+="<div id='"+e[d].id+"' class='dhx_cal_lsection'>"+g+this.locale.labels["section_"+e[d].name]+"</div>"+f.render.call(this,e[d]);b+="</div>";}}var h=a.getElementsByTagName("div");h[1].innerHTML=b;this.setLightboxSize();this._init_lightbox_events(this);a.style.display="none";a.style.visibility="visible";}return this._lightbox;};scheduler._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>";scheduler._dp_init=function(a){a._methods=["setEventTextStyle","","changeEventId","deleteEvent"];this.attachEvent("onEventAdded",function(b){!this._loading&&this.validId(b)&&a.setUpdated(b,!0,"inserted");});this.attachEvent("onConfirmedBeforeEventDelete",function(b){if(this.validId(b)){var c=a.getState(b);if(c=="inserted"||this._new_event){return a.setUpdated(b,!1),!0;}if(c=="deleted"){return !1;}if(c=="true_deleted"){return !0;}a.setUpdated(b,!0,"deleted");return !1;}});this.attachEvent("onEventChanged",function(b){!this._loading&&this.validId(b)&&a.setUpdated(b,!0,"updated");});a._getRowData=function(a){var c=this.obj.getEvent(a),d={},e;for(e in c){e.indexOf("_")!=0&&(d[e]=c[e]&&c[e].getUTCFullYear?this.obj.templates.xml_format(c[e]):c[e]);}return d;};a._clearUpdateFlag=function(){};a.attachEvent("insertCallback",scheduler._update_callback);a.attachEvent("updateCallback",scheduler._update_callback);a.attachEvent("deleteCallback",function(a,c){this.obj.setUserData(c,this.action_param,"true_deleted");this.obj.deleteEvent(c);});};scheduler.setUserData=function(a,b,c){a?this.getEvent(a)[b]=c:this._userdata[b]=c;};scheduler.getUserData=function(a,b){return a?this.getEvent(a)[b]:this._userdata[b];};scheduler.setEventTextStyle=function(a,b){this.for_rendered(a,function(a){a.style.cssText+=";"+b;});var c=this.getEvent(a);c._text_style=b;this.event_updated(c);};scheduler.validId=function(){return !0;};scheduler._update_callback=function(a){var b=scheduler.xmlNodeToJSON(a.firstChild);b.text=b.text||b._tagvalue;b.start_date=scheduler.templates.xml_date(b.start_date);b.end_date=scheduler.templates.xml_date(b.end_date);scheduler.addEvent(b);};(function(){scheduler.templates.event_class=function(start,end,event){var eventClass="";if(event.current_event){eventClass="currentEvent";}return eventClass;};function B(){for(var a=scheduler.get_visible_events(),b=[],c=0;c<this.y_unit.length;c++){b[c]=[];}b[f]||(b[f]=[]);for(c=0;c<a.length;c++){for(var f=this.order[a[c][this.y_property]],d=0;this._trace_x[d+1]&&a[c].start_date>=this._trace_x[d+1];){d++;}for(;this._trace_x[d]&&a[c].end_date>this._trace_x[d];){b[f][d]||(b[f][d]=[]),b[f][d].push(a[c]),d++;}}return b;}function v(a,b,c){var f=0,d=b?a.end_date:a.start_date;if(d.valueOf()>scheduler._max_date.valueOf()){d=scheduler._max_date;}var i=d-scheduler._min_date_timeline;if(i<0){k=0;}else{var g=Math.round(i/(c*scheduler._cols[0]));if(g>scheduler._cols.length){g=scheduler._cols.length;}for(var e=0;e<g;e++){f+=scheduler._cols[e];}var j=scheduler.date.add(scheduler._min_date_timeline,scheduler.matrix[scheduler._mode].x_step*g,scheduler.matrix[scheduler._mode].x_unit),i=d-j,k=Math.floor(i/c);}f+=b?k-14:k+1;return f;}function C(a){var b="<table style='table-layout:fixed;' cellspacing='0' cellpadding='0'>",c=[];scheduler._load_mode&&scheduler._load();if(this.render=="cell"){c=B.call(this);}else{for(var f=scheduler.get_visible_events(),d=0;d<f.length;d++){var i=this.order[f[d][this.y_property]];c[i]||(c[i]=[]);c[i].push(f[d]);}}for(var g=0,e=0;e<scheduler._cols.length;e++){g+=scheduler._cols[e];}var j=new Date;this._step=j=(scheduler.date.add(j,this.x_step*this.x_size,this.x_unit)-j)/g;this._summ=g;var k=scheduler._colsS.heights=[];this._events_height={};for(e=0;e<this.y_unit.length;e++){var h=this._logic(this.render,this.y_unit[e],this);scheduler._merge(h,{height:this.dy});if(this.section_autoheight&&this.y_unit.length*h.height<a.offsetHeight){h.height=Math.max(h.height,Math.floor((a.offsetHeight-1)/this.y_unit.length));}scheduler._merge(h,{tr_className:"",style_height:"height:"+h.height+"px;",style_width:"width:"+(this.dx-1)+"px;",td_className:"dhx_matrix_scell"+(scheduler.templates[this.name+"_scaley_class"](this.y_unit[e].key,this.y_unit[e].label,this)?" "+scheduler.templates[this.name+"_scaley_class"](this.y_unit[e].key,this.y_unit[e].label,this):""),td_content:scheduler.templates[this.name+"_scale_label"](this.y_unit[e].key,this.y_unit[e].label,this.y_unit[e]),summ_width:"width:"+g+"px;",table_className:""});var o="";if(c[e]&&this.render!="cell"){c[e].sort(function(a,d){return a.start_date>d.start_date?1:-1;});for(var l=[],d=0;d<c[e].length;d++){for(var m=c[e][d],n=0;l[n]&&l[n].end_date>m.start_date;){n++;}l[n]=m;o+=scheduler.render_timeline_event.call(this,m,n);}}if(this.fit_events){var w=this._events_height[this.y_unit[e].key]||0;h.height=w>h.height?w:h.height;h.style_height="height:"+h.height+"px;";}b+="<tr class='"+h.tr_className+"' style='"+h.style_height+"'><td class='"+h.td_className+"' style='"+h.style_width+" height:"+(h.height-1)+"px;'>"+h.td_content+"</td>";if(this.render=="cell"){for(d=0;d<scheduler._cols.length;d++){b+="<td class='dhx_matrix_cell "+scheduler.templates[this.name+"_cell_class"](c[e][d],this._trace_x[d],this.y_unit[e])+"' style='width:"+(scheduler._cols[d]-1)+"px'><div style='width:"+(scheduler._cols[d]-1)+"px'>"+scheduler.templates[this.name+"_cell_value"](c[e][d])+"</div></td>";}}else{b+="<td><div style='"+h.summ_width+" "+h.style_height+" position:relative;' class='dhx_matrix_line'>";b+=o;b+="<table class='"+h.table_className+"' cellpadding='0' cellspacing='0' style='"+h.summ_width+" "+h.style_height+"' >";for(d=0;d<scheduler._cols.length;d++){b+="<td class='dhx_matrix_cell "+scheduler.templates[this.name+"_cell_class"](c[e],this._trace_x[d],this.y_unit[e])+"' style='width:"+(scheduler._cols[d]-1)+"px'><div style='width:"+(scheduler._cols[d]-1)+"px'></div></td>";}b+="</table>";b+="</div></td>";}b+="</tr>";}b+="</table>";this._matrix=c;a.innerHTML=b;scheduler._rendered=[];for(var q=document.getElementsByTagName("DIV"),e=0;e<q.length;e++){q[e].getAttribute("event_id")&&scheduler._rendered.push(q[e]);}for(e=0;e<a.firstChild.rows.length;e++){k.push(a.firstChild.rows[e].offsetHeight);}}function D(a){var b=scheduler.xy.scale_height,c=this._header_resized||scheduler.xy.scale_height;scheduler._cols=[];scheduler._colsS={height:0};this._trace_x=[];var f=scheduler._x-this.dx-18,d=[this.dx],i=scheduler._els.dhx_cal_header[0];i.style.width=d[0]+f+"px";for(var g=scheduler._min_date_timeline=scheduler._min_date,e=0;e<this.x_size;e++){this._trace_x[e]=new Date(g),g=scheduler.date.add(g,this.x_step,this.x_unit),scheduler._cols[e]=Math.floor(f/(this.x_size-e)),f-=scheduler._cols[e],d[e+1]=d[e]+scheduler._cols[e];}a.innerHTML="<div></div>";if(this.second_scale){for(var j=this.second_scale.x_unit,k=[this._trace_x[0]],h=[],o=[this.dx,this.dx],l=0,m=0;m<this._trace_x.length;m++){var n=this._trace_x[m],w=E(j,n,k[l]);w&&(++l,k[l]=n,o[l+1]=o[l]);var q=l+1;h[l]=scheduler._cols[m]+(h[l]||0);o[q]+=scheduler._cols[m];}a.innerHTML="<div></div><div></div>";var p=a.firstChild;p.style.height=c+"px";var v=a.lastChild;v.style.position="relative";for(var r=0;r<k.length;r++){var t=k[r],u=scheduler.templates[this.name+"_second_scalex_class"](t),x=document.createElement("DIV");x.className="dhx_scale_bar dhx_second_scale_bar"+(u?" "+u:"");scheduler.set_xy(x,h[r]-1,c-3,o[r],0);x.innerHTML=scheduler.templates[this.name+"_second_scale_date"](t);p.appendChild(x);}}scheduler.xy.scale_height=c;for(var a=a.lastChild,s=0;s<this._trace_x.length;s++){g=this._trace_x[s];scheduler._render_x_header(s,d[s],g,a);var y=scheduler.templates[this.name+"_scalex_class"](g);y&&(a.lastChild.className+=" "+y);}scheduler.xy.scale_height=b;var z=this._trace_x;a.onclick=function(a){var d=A(a);d&&scheduler.callEvent("onXScaleClick",[d.x,z[d.x],a||event]);};a.ondblclick=function(a){var d=A(a);d&&scheduler.callEvent("onXScaleDblClick",[d.x,z[d.x],a||event]);};}function E(a,b,c){switch(a){case"day":return !(b.getDate()==c.getDate()&&b.getMonth()==c.getMonth()&&b.getFullYear()==c.getFullYear());case"week":return !(scheduler.date.getISOWeek(b)==scheduler.date.getISOWeek(c)&&b.getFullYear()==c.getFullYear());case"month":return !(b.getMonth()==c.getMonth()&&b.getFullYear()==c.getFullYear());case"year":return b.getFullYear()!=c.getFullYear();default:return !1;}}function p(a){if(a){scheduler.set_sizes();t();var b=scheduler._min_date;D.call(this,scheduler._els.dhx_cal_header[0]);C.call(this,scheduler._els.dhx_cal_data[0]);scheduler._min_date=b;scheduler._els.dhx_cal_date[0].innerHTML=scheduler.templates[this.name+"_date"](scheduler._min_date,scheduler._max_date);scheduler._table_view=!0;}}function u(){if(scheduler._tooltip){scheduler._tooltip.style.display="none",scheduler._tooltip.date="";}}function F(a,b,c){if(a.render=="cell"){var f=b.x+"_"+b.y,d=a._matrix[b.y][b.x];if(!d){return u();}d.sort(function(a,d){return a.start_date>d.start_date?1:-1;});if(scheduler._tooltip){if(scheduler._tooltip.date==f){return;}scheduler._tooltip.innerHTML="";}else{var i=scheduler._tooltip=document.createElement("DIV");i.className="dhx_tooltip";document.body.appendChild(i);i.onclick=scheduler._click.dhx_cal_data;}for(var g="",e=0;e<d.length;e++){var j=d[e].color?"background-color:"+d[e].color+";":"",k=d[e].textColor?"color:"+d[e].textColor+";":"";g+="<div class='dhx_tooltip_line' event_id='"+d[e].id+"' style='"+j+""+k+"'>";g+="<div class='dhx_tooltip_date'>"+(d[e]._timed?scheduler.templates.event_date(d[e].start_date):"")+"</div>";g+="<div class='dhx_event_icon icon_details'>&nbsp;</div>";g+=scheduler.templates[a.name+"_tooltip"](d[e].start_date,d[e].end_date,d[e])+"</div>";}scheduler._tooltip.style.display="";scheduler._tooltip.style.top="0px";scheduler._tooltip.style.left=document.body.offsetWidth-c.left-scheduler._tooltip.offsetWidth<0?c.left-scheduler._tooltip.offsetWidth+"px":c.left+b.src.offsetWidth+"px";scheduler._tooltip.date=f;scheduler._tooltip.innerHTML=g;scheduler._tooltip.style.top=document.body.offsetHeight-c.top-scheduler._tooltip.offsetHeight<0?c.top-scheduler._tooltip.offsetHeight+b.src.offsetHeight+"px":c.top+"px";}}function t(){dhtmlxEvent(scheduler._els.dhx_cal_data[0],"mouseover",function(a){var b=scheduler.matrix[scheduler._mode];if(b){var c=scheduler._locate_cell_timeline(a),a=a||event,f=a.target||a.srcElement;if(c){return F(b,c,getOffset(c.src));}}u();});t=function(){};}function G(a){for(var b=a.parentNode.childNodes,c=0;c<b.length;c++){if(b[c]==a){return c;}}return -1;}function A(a){for(var a=a||event,b=a.target?a.target:a.srcElement;b&&b.tagName!="DIV";){b=b.parentNode;}if(b&&b.tagName=="DIV"){var c=b.className.split(" ")[0];if(c=="dhx_scale_bar"){return{x:G(b),y:-1,src:b,scale:!0};}}}scheduler.matrix={};scheduler._merge=function(a,b){for(var c in b){typeof a[c]=="undefined"&&(a[c]=b[c]);}};scheduler.createTimelineView=function(a){scheduler._merge(a,{section_autoheight:!0,name:"matrix",x:"time",y:"time",x_step:1,x_unit:"hour",y_unit:"day",y_step:1,x_start:0,x_size:24,y_start:0,y_size:7,render:"cell",dx:200,dy:50,fit_events:!0,second_scale:!1,_logic:function(a,b,c){var e={};scheduler.checkEvent("onBeforeViewRender")&&(e=scheduler.callEvent("onBeforeViewRender",[a,b,c]));return e;}});scheduler.checkEvent("onTimelineCreated")&&scheduler.callEvent("onTimelineCreated",[a]);var b=scheduler.render_data;scheduler.render_data=function(d,c){if(this._mode==a.name){if(c){for(var f=0;f<d.length;f++){this.clear_event(d[f]),this.render_timeline_event.call(this.matrix[this._mode],d[f],0,!0);}}else{p.call(a,!0);}}else{return b.apply(this,arguments);}};scheduler.matrix[a.name]=a;scheduler.templates[a.name+"_cell_value"]=function(a){return a?a.length:"";};scheduler.templates[a.name+"_cell_class"]=function(evs,current,y,next){return"";};scheduler.templates[a.name+"_scalex_class"]=function(){return"";};scheduler.templates[a.name+"_second_scalex_class"]=function(){return"";};scheduler.templates[a.name+"_scaley_class"]=function(){return"";};scheduler.templates[a.name+"_scale_label"]=function(a,b){return b;};scheduler.templates[a.name+"_tooltip"]=function(a,b,c){return c.text;};scheduler.templates[a.name+"_date"]=function(a,b){return scheduler.templates.day_date(a);};scheduler.templates[a.name+"_scale_date"]=scheduler.date.date_to_str(a.x_date||scheduler.config.hour_date);scheduler.templates[a.name+"_second_scale_date"]=scheduler.date.date_to_str(a.second_scale&&a.second_scale.x_date?a.second_scale.x_date:scheduler.config.hour_date);scheduler.date["add_"+a.name]=function(b,c){return scheduler.date.add(b,(a.x_length||a.x_size)*c*a.x_step,a.x_unit);};scheduler.date[a.name+"_start"]=scheduler.date[a.x_unit+"_start"]||scheduler.date.day_start;scheduler.attachEvent("onSchedulerResize",function(){return this._mode==a.name?(p.call(a,!0),!1):!0;});scheduler.attachEvent("onOptionsLoad",function(){a.order={};scheduler.callEvent("onOptionsLoadStart",[]);for(var b=0;b<a.y_unit.length;b++){a.order[a.y_unit[b].key]=b;}scheduler.callEvent("onOptionsLoadFinal",[]);scheduler._date&&a.name==scheduler._mode&&scheduler.setCurrentView(scheduler._date,scheduler._mode);});scheduler.callEvent("onOptionsLoad",[a]);scheduler[a.name+"_view"]=function(){scheduler.renderMatrix.apply(a,arguments);};if(a.render!="cell"){var c=new Date,f=scheduler.date.add(c,a.x_step,a.x_unit).valueOf()-c.valueOf();scheduler["mouse_"+a.name]=function(b){var c=this._drag_event;if(this._drag_id){c=this.getEvent(this._drag_id),this._drag_event._dhx_changed=!0;}b.x-=a.dx;for(var g=0,e=0,j=0;e<this._cols.length-1;e++){if(g+=this._cols[e],g>b.x){break;}}for(g=0;j<this._colsS.heights.length;j++){if(g+=this._colsS.heights[j],g>b.y){break;}}b.fields={};a.y_unit[j]||(j=a.y_unit.length-1);b.fields[a.y_property]=c[a.y_property]=a.y_unit[j].key;b.x=0;this._drag_mode=="new-size"&&c.start_date*1==this._drag_start*1&&e++;var k=e>=a._trace_x.length?scheduler.date.add(a._trace_x[a._trace_x.length-1],a.x_step,a.x_unit):a._trace_x[e];b.y=Math.round((k-this._min_date)/(60000*this.config.time_step));b.custom=!0;b.shift=f;return b;};}};scheduler.render_timeline_event=function(a,b,c){var f=v(a,!1,this._step),d=v(a,!0,this._step),i=scheduler.xy.bar_height,g=2+b*i,e=i+g-2,j=a[this.y_property];if(!this._events_height[j]||this._events_height[j]<e){this._events_height[j]=e;}var k=scheduler.templates.event_class(a.start_date,a.end_date,a),k="dhx_cal_event_line "+(k||""),h=a.color?"background-color:"+a.color+";":"",o=a.textColor?"color:"+a.textColor+";":"",l='<div event_id="'+a.id+'" class="'+k+'" style="'+h+""+o+"position:absolute; top:"+g+"px; left:"+f+"px; width:"+Math.max(0,d-f)+"px;"+(a._text_style||"")+'">'+scheduler.templates.event_bar_text(a.start_date,a.end_date,a)+"</div>";if(c){var m=document.createElement("DIV");m.innerHTML=l;var n=this.order[j],p=scheduler._els.dhx_cal_data[0].firstChild.rows[n].cells[1].firstChild;scheduler._rendered.push(m.firstChild);p.appendChild(m.firstChild);}else{return l;}};scheduler.renderMatrix=function(a){scheduler._els.dhx_cal_data[0].scrollTop=0;var b=scheduler.date[this.name+"_start"](scheduler._date);scheduler._min_date=scheduler.date.add(b,this.x_start*this.x_step,this.x_unit);scheduler._max_date=scheduler.date.add(scheduler._min_date,this.x_size*this.x_step,this.x_unit);scheduler._table_view=!0;if(this.second_scale){if(a&&!this._header_resized){this._header_resized=scheduler.xy.scale_height,scheduler.xy.scale_height*=2,scheduler._els.dhx_cal_header[0].className+=" dhx_second_cal_header";}if(!a&&this._header_resized){scheduler.xy.scale_height/=2;this._header_resized=!1;var c=scheduler._els.dhx_cal_header[0];c.className=c.className.replace(/ dhx_second_cal_header/gi,"");}}p.call(this,a);};scheduler._locate_cell_timeline=function(a){for(var a=a||event,b=a.target?a.target:a.srcElement;b&&b.tagName!="TD";){b=b.parentNode;}if(b&&b.tagName=="TD"){var c=b.className.split(" ")[0];if(c=="dhx_matrix_cell"){if(scheduler._isRender("cell")){return{x:b.cellIndex-1,y:b.parentNode.rowIndex,src:b};}else{for(var f=b.parentNode;f&&f.tagName!="TD";){f=f.parentNode;}return{x:b.cellIndex,y:f.parentNode.rowIndex,src:b};}}else{if(c=="dhx_matrix_scell"){return{x:-1,y:b.parentNode.rowIndex,src:b,scale:!0};}}}return !1;};var H=scheduler._click.dhx_cal_data;scheduler._click.dhx_cal_data=function(a){var b=H.apply(this,arguments),c=scheduler.matrix[scheduler._mode];if(c){var f=scheduler._locate_cell_timeline(a);f&&(f.scale?scheduler.callEvent("onYScaleClick",[f.y,c.y_unit[f.y],a||event]):scheduler.callEvent("onCellClick",[f.x,f.y,c._trace_x[f.x],(c._matrix[f.y]||{})[f.x]||[],a||event]));}return b;};scheduler.dblclick_dhx_matrix_cell=function(a){var b=scheduler.matrix[scheduler._mode];if(b){var c=scheduler._locate_cell_timeline(a);c&&(c.scale?scheduler.callEvent("onYScaleDblClick",[c.y,b.y_unit[c.y],a||event]):scheduler.callEvent("onCellDblClick",[c.x,c.y,b._trace_x[c.x],(b._matrix[c.y]||{})[c.x]||[],a||event]));}};scheduler.dblclick_dhx_matrix_scell=function(a){return scheduler.dblclick_dhx_matrix_cell(a);};scheduler._isRender=function(a){return scheduler.matrix[scheduler._mode]&&scheduler.matrix[scheduler._mode].render==a;};scheduler.attachEvent("onCellDblClick",function(a,b,c,f,d){if(!(this.config.readonly||d.type=="dblclick"&&!this.config.dblclick_create)){var i=scheduler.matrix[scheduler._mode],g={};g.start_date=i._trace_x[a];g.end_date=i._trace_x[a+1]?i._trace_x[a+1]:scheduler.date.add(i._trace_x[a],i.x_step,i.x_unit);g[scheduler.matrix[scheduler._mode].y_property]=i.y_unit[b].key;scheduler.addEventNow(g,null,d);}});scheduler.attachEvent("onBeforeDrag",function(){return scheduler._isRender("cell")?!1:!0;});})();if(typeof infosoftglobal=="undefined"){var infosoftglobal=new Object();}if(typeof infosoftglobal.FusionChartsUtil=="undefined"){infosoftglobal.FusionChartsUtil=new Object();}infosoftglobal.FusionCharts=function(swf,id,w,h,debugMode,registerWithJS,c,scaleMode,lang,detectFlashVersion,autoInstallRedirect){if(!document.getElementById){return;}this.initialDataSet=false;this.params=new Object();this.variables=new Object();this.attributes=new Array();if(swf){this.setAttribute("swf",swf);}if(id){this.setAttribute("id",id);}w=w.toString().replace(/\%$/,"%25");if(w){this.setAttribute("width",w);}h=h.toString().replace(/\%$/,"%25");if(h){this.setAttribute("height",h);}if(c){this.addParam("bgcolor",c);}this.addParam("quality","high");this.addParam("WMode","transparent");this.addParam("allowScriptAccess","always");this.addVariable("chartWidth",w);this.addVariable("chartHeight",h);debugMode=debugMode?debugMode:0;this.addVariable("debugMode",debugMode);this.addVariable("DOMId",id);registerWithJS=registerWithJS?registerWithJS:0;this.addVariable("registerWithJS",registerWithJS);scaleMode=scaleMode?scaleMode:"noScale";this.addVariable("scaleMode",scaleMode);lang=lang?lang:"EN";this.addVariable("lang",lang);this.detectFlashVersion=detectFlashVersion?detectFlashVersion:1;this.autoInstallRedirect=autoInstallRedirect?autoInstallRedirect:1;this.installedVer=infosoftglobal.FusionChartsUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){infosoftglobal.FusionCharts.doPrepUnload=true;}};infosoftglobal.FusionCharts.prototype={setAttribute:function(name,value){this.attributes[name]=value;},getAttribute:function(name){return this.attributes[name];},addParam:function(name,value){this.params[name]=value;},getParams:function(){return this.params;},addVariable:function(name,value){this.variables[name]=value;},getVariable:function(name){return this.variables[name];},getVariables:function(){return this.variables;},getVariablePairs:function(){var variablePairs=new Array();var key;var variables=this.getVariables();for(key in variables){variablePairs.push(key+"="+variables[key]);}return variablePairs;},getSWFHTML:function(){var swfNode="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){swfNode='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"  ';swfNode+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var params=this.getParams();for(var key in params){swfNode+=[key]+'="'+params[key]+'" ';}var pairs=this.getVariablePairs().join("&");if(pairs.length>0){swfNode+='flashvars="'+pairs+'"';}swfNode+="/>";}else{swfNode='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">';swfNode+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var params=this.getParams();for(var key in params){swfNode+='<param name="'+key+'" value="'+params[key]+'" />';}var pairs=this.getVariablePairs().join("&");if(pairs.length>0){swfNode+='<param name="flashvars" value="'+pairs+'" />';}swfNode+="</object>";}return swfNode;},setDataURL:function(strDataURL){if(this.initialDataSet==false){this.addVariable("dataURL",strDataURL);this.initialDataSet=true;}else{var chartObj=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));if(!chartObj.setDataURL){__flash__addCallback(chartObj,"setDataURL");}chartObj.setDataURL(strDataURL);}},encodeDataXML:function(strDataXML){var regExpReservedCharacters=["\\$","\\+"];var arrDQAtt=strDataXML.match(/=\s*\".*?\"/g);if(arrDQAtt){for(var i=0;i<arrDQAtt.length;i++){var repStr=arrDQAtt[i].replace(/^=\s*\"|\"$/g,"");repStr=repStr.replace(/\'/g,"%26apos;");var strTo=strDataXML.indexOf(arrDQAtt[i]);var repStrr="='"+repStr+"'";var strStart=strDataXML.substring(0,strTo);var strEnd=strDataXML.substring(strTo+arrDQAtt[i].length);var strDataXML=strStart+repStrr+strEnd;}}strDataXML=strDataXML.replace(/\"/g,"%26quot;");strDataXML=strDataXML.replace(/%(?![\da-f]{2}|[\da-f]{4})/ig,"%25");strDataXML=strDataXML.replace(/\&/g,"%26");return strDataXML;},setDataXML:function(strDataXML){if(this.initialDataSet==false){this.addVariable("dataXML",this.encodeDataXML(strDataXML));this.initialDataSet=true;}else{var chartObj=infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id"));chartObj.setDataXML(strDataXML);}},setTransparent:function(isTransparent){},render:function(elementId){if((this.detectFlashVersion==1)&&(this.installedVer.major<6)){if(this.autoInstallRedirect==1){var installationConfirm=window.confirm("You need Adobe Flash Player 6 (or above) to view the charts. It is a free and lightweight installation from Adobe.com. Please click on Ok to install the same.");if(installationConfirm){window.location="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash";}else{return false;}}else{return false;}}else{var n=(typeof elementId=="string")?document.getElementById(elementId):elementId;n.innerHTML=this.getSWFHTML();if(!document.embeds[this.getAttribute("id")]&&!window[this.getAttribute("id")]){window[this.getAttribute("id")]=document.getElementById(this.getAttribute("id"));}return true;}}};infosoftglobal.FusionChartsUtil.getPlayerVersion=function(){var PlayerVersion=new infosoftglobal.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var x=navigator.plugins["Shockwave Flash"];if(x&&x.description){PlayerVersion=new infosoftglobal.PlayerVersion(x.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var axo=1;var counter=3;while(axo){try{counter++;axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+counter);PlayerVersion=new infosoftglobal.PlayerVersion([counter,0,0]);}catch(e){axo=null;}}}else{try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(e){try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");PlayerVersion=new infosoftglobal.PlayerVersion([6,0,21]);axo.AllowScriptAccess="always";}catch(e){if(PlayerVersion.major==6){return PlayerVersion;}}try{axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(e){}}if(axo!=null){PlayerVersion=new infosoftglobal.PlayerVersion(axo.GetVariable("$version").split(" ")[1].split(","));}}}return PlayerVersion;};infosoftglobal.PlayerVersion=function(arrVersion){this.major=arrVersion[0]!=null?parseInt(arrVersion[0]):0;this.minor=arrVersion[1]!=null?parseInt(arrVersion[1]):0;this.rev=arrVersion[2]!=null?parseInt(arrVersion[2]):0;};infosoftglobal.FusionChartsUtil.cleanupSWFs=function(){var objects=document.getElementsByTagName("OBJECT");for(var i=objects.length-1;i>=0;i--){objects[i].style.display="none";for(var x in objects[i]){if(typeof objects[i][x]=="function"){objects[i][x]=function(){};}}}};if(infosoftglobal.FusionCharts.doPrepUnload){if(!infosoftglobal.unloadSet){infosoftglobal.FusionChartsUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",infosoftglobal.FusionChartsUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",infosoftglobal.FusionChartsUtil.prepUnload);infosoftglobal.unloadSet=true;}}if(!document.getElementById&&document.all){document.getElementById=function(id){return document.all[id];};}if(Array.prototype.push==null){Array.prototype.push=function(item){this[this.length]=item;return this.length;};}infosoftglobal.FusionChartsUtil.getChartObject=function(id){var chartRef=null;if(navigator.appName.indexOf("Microsoft Internet")==-1){if(document.embeds&&document.embeds[id]){chartRef=document.embeds[id];}else{chartRef=window.document[id];}}else{chartRef=window[id];}if(!chartRef){chartRef=document.getElementById(id);}return chartRef;};infosoftglobal.FusionChartsUtil.updateChartXML=function(chartId,strXML){var chartObj=infosoftglobal.FusionChartsUtil.getChartObject(chartId);chartObj.SetVariable("_root.dataURL","");chartObj.SetVariable("_root.isNewData","1");chartObj.SetVariable("_root.newData",strXML);chartObj.TGotoLabel("/","JavaScriptHandler");};var getChartFromId=infosoftglobal.FusionChartsUtil.getChartObject;var updateChartXML=infosoftglobal.FusionChartsUtil.updateChartXML;var FusionCharts=infosoftglobal.FusionCharts;(function(){var _jQuery=window.jQuery,_$=window.$;var jQuery=window.jQuery=window.$=function(selector,context){return new jQuery.fn.init(selector,context);};var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/,isSimple=/^.[^:#\[\.]*$/,undefined;jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;if(selector.nodeType){this[0]=selector;this.length=1;return this;}if(typeof selector=="string"){var match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){selector=jQuery.clean([match[1]],context);}else{var elem=document.getElementById(match[3]);if(elem){if(elem.id!=match[3]){return jQuery().find(selector);}return jQuery(elem);}selector=[];}}else{return jQuery(context).find(selector);}}else{if(jQuery.isFunction(selector)){return jQuery(document)[jQuery.fn.ready?"ready":"load"](selector);}}return this.setArray(jQuery.makeArray(selector));},jquery:"1.2.6",size:function(){return this.length;},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num];},pushStack:function(elems){var ret=jQuery(elems);ret.prevObject=this;return ret;},setArray:function(elems){this.length=0;Array.prototype.push.apply(this,elems);return this;},each:function(callback,args){return jQuery.each(this,callback,args);},index:function(elem){var ret=-1;return jQuery.inArray(elem&&elem.jquery?elem[0]:elem,this);},attr:function(name,value,type){var options=name;if(name.constructor==String){if(value===undefined){return this[0]&&jQuery[type||"attr"](this[0],name);}else{options={};options[name]=value;}}return this.each(function(i){for(name in options){jQuery.attr(type?this.style:this,name,jQuery.prop(this,options[name],type,i,name));}});},css:function(key,value){if((key=="width"||key=="height")&&parseFloat(value)<0){value=undefined;}return this.attr(key,value,"curCSS");},text:function(text){if(typeof text!="object"&&text!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text));}var ret="";jQuery.each(text||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){ret+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this]);}});});return ret;},wrapAll:function(html){if(this[0]){jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;while(elem.firstChild){elem=elem.firstChild;}return elem;}).append(this);}return this;},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html);});},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html);});},append:function(){return this.domManip(arguments,true,false,function(elem){if(this.nodeType==1){this.appendChild(elem);}});},prepend:function(){return this.domManip(arguments,true,true,function(elem){if(this.nodeType==1){this.insertBefore(elem,this.firstChild);}});},before:function(){return this.domManip(arguments,false,false,function(elem){this.parentNode.insertBefore(elem,this);});},after:function(){return this.domManip(arguments,false,true,function(elem){this.parentNode.insertBefore(elem,this.nextSibling);});},end:function(){return this.prevObject||jQuery([]);},find:function(selector){var elems=jQuery.map(this,function(elem){return jQuery.find(selector,elem);});return this.pushStack(/[^+>] [^+>]/.test(selector)||selector.indexOf("..")>-1?jQuery.unique(elems):elems);},clone:function(events){var ret=this.map(function(){if(jQuery.browser.msie&&!jQuery.isXMLDoc(this)){var clone=this.cloneNode(true),container=document.createElement("div");container.appendChild(clone);return jQuery.clean([container.innerHTML])[0];}else{return this.cloneNode(true);}});var clone=ret.find("*").andSelf().each(function(){if(this[expando]!=undefined){this[expando]=null;}});if(events===true){this.find("*").andSelf().each(function(i){if(this.nodeType==3){return;}var events=jQuery.data(this,"events");for(var type in events){for(var handler in events[type]){jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data);}}});}return ret;},filter:function(selector){return this.pushStack(jQuery.isFunction(selector)&&jQuery.grep(this,function(elem,i){return selector.call(elem,i);})||jQuery.multiFilter(selector,this));},not:function(selector){if(selector.constructor==String){if(isSimple.test(selector)){return this.pushStack(jQuery.multiFilter(selector,this,true));}else{selector=jQuery.multiFilter(selector,this);}}var isArrayLike=selector.length&&selector[selector.length-1]!==undefined&&!selector.nodeType;return this.filter(function(){return isArrayLike?jQuery.inArray(this,selector)<0:this!=selector;});},add:function(selector){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),typeof selector=="string"?jQuery(selector):jQuery.makeArray(selector))));},is:function(selector){return !!selector&&jQuery.multiFilter(selector,this).length>0;},hasClass:function(selector){return this.is("."+selector);},val:function(value){if(value==undefined){if(this.length){var elem=this[0];if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";if(index<0){return null;}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery.browser.msie&&!option.attributes.value.specified?option.text:option.value;if(one){return value;}values.push(value);}}return values;}else{return(this[0].value||"").replace(/\r/g,"");}}return undefined;}if(value.constructor==Number){value+="";}return this.each(function(){if(this.nodeType!=1){return;}if(value.constructor==Array&&/radio|checkbox/.test(this.type)){this.checked=(jQuery.inArray(this.value,value)>=0||jQuery.inArray(this.name,value)>=0);}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(value);jQuery("option",this).each(function(){this.selected=(jQuery.inArray(this.value,values)>=0||jQuery.inArray(this.text,values)>=0);});if(!values.length){this.selectedIndex=-1;}}else{this.value=value;}}});},html:function(value){return value==undefined?(this[0]?this[0].innerHTML:null):this.empty().append(value);},replaceWith:function(value){return this.after(value).remove();},eq:function(i){return this.slice(i,i+1);},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments));},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},andSelf:function(){return this.add(this.prevObject);},data:function(key,value){var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key);}return data===undefined&&parts[1]?this.data(parts[0]):data;}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value);});}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);});},domManip:function(args,table,reverse,callback){var clone=this.length>1,elems;return this.each(function(){if(!elems){elems=jQuery.clean(args,this.ownerDocument);if(reverse){elems.reverse();}}var obj=this;if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(elems[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody"));}var scripts=jQuery([]);jQuery.each(elems,function(){var elem=clone?jQuery(this).clone(true)[0]:this;if(jQuery.nodeName(elem,"script")){scripts=scripts.add(elem);}else{if(elem.nodeType==1){scripts=scripts.add(jQuery("script",elem).remove());}callback.call(obj,elem);}});scripts.each(evalScript);});}};jQuery.fn.init.prototype=jQuery.fn;function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"});}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"");}if(elem.parentNode){elem.parentNode.removeChild(elem);}}function now(){return +new Date;}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;if(target.constructor==Boolean){deep=target;target=arguments[1]||{};i=2;}if(typeof target!="object"&&typeof target!="function"){target={};}if(length==i){target=this;--i;}for(;i<length;i++){if((options=arguments[i])!=null){for(var name in options){var src=target[name],copy=options[name];if(target===copy){continue;}if(deep&&copy&&typeof copy=="object"&&!copy.nodeType){target[name]=jQuery.extend(deep,src||(copy.length!=null?[]:{}),copy);}else{if(copy!==undefined){target[name]=copy;}}}}}return target;};var expando="jQuery"+now(),uuid=0,windowData={},exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,defaultView=document.defaultView||{};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery;}return jQuery;},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/^[\s[]?function/.test(fn+"");},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body;},globalEval:function(data){data=jQuery.trim(data);if(data){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.browser.msie){script.text=data;}else{script.appendChild(document.createTextNode(data));}head.insertBefore(script,head.firstChild);head.removeChild(script);}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase();},cache:{},data:function(elem,name,data){elem=elem==window?windowData:elem;var id=elem[expando];if(!id){id=elem[expando]=++uuid;}if(name&&!jQuery.cache[id]){jQuery.cache[id]={};}if(data!==undefined){jQuery.cache[id][name]=data;}return name?jQuery.cache[id][name]:id;},removeData:function(elem,name){elem=elem==window?windowData:elem;var id=elem[expando];if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];name="";for(name in jQuery.cache[id]){break;}if(!name){jQuery.removeData(elem);}}}else{try{delete elem[expando];}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando);}}delete jQuery.cache[id];}},each:function(object,callback,args){var name,i=0,length=object.length;if(args){if(length==undefined){for(name in object){if(callback.apply(object[name],args)===false){break;}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break;}}}}else{if(length==undefined){for(name in object){if(callback.call(object[name],name,object[name])===false){break;}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object;},prop:function(elem,value,type,i,name){if(jQuery.isFunction(value)){value=value.call(elem,i);}return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(name)?value+"px":value;},className:{add:function(elem,classNames){jQuery.each((classNames||"").split(/\s+/),function(i,className){if(elem.nodeType==1&&!jQuery.className.has(elem.className,className)){elem.className+=(elem.className?" ":"")+className;}});},remove:function(elem,classNames){if(elem.nodeType==1){elem.className=classNames!=undefined?jQuery.grep(elem.className.split(/\s+/),function(className){return !jQuery.className.has(classNames,className);}).join(" "):"";}},has:function(elem,className){return jQuery.inArray(className,(elem.className||elem).toString().split(/\s+/))>-1;}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name];}callback.call(elem);for(var name in options){elem.style[name]=old[name];}},css:function(elem,name,force){if(name=="width"||name=="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name=="width"?["Left","Right"]:["Top","Bottom"];function getWH(){val=name=="width"?elem.offsetWidth:elem.offsetHeight;var padding=0,border=0;jQuery.each(which,function(){padding+=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0;border+=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0;});val-=Math.round(padding+border);}if(jQuery(elem).is(":visible")){getWH();}else{jQuery.swap(elem,props,getWH);}return Math.max(0,val);}return jQuery.curCSS(elem,name,force);},curCSS:function(elem,name,force){var ret,style=elem.style;function color(elem){if(!jQuery.browser.safari){return false;}var ret=defaultView.getComputedStyle(elem,null);return !ret||ret.getPropertyValue("color")=="";}if(name=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(style,"opacity");return ret==""?"1":ret;}if(jQuery.browser.opera&&name=="display"){var save=style.outline;style.outline="0 solid black";style.outline=save;}if(name.match(/float/i)){name=styleFloat;}if(!force&&style&&style[name]){ret=style[name];}else{if(defaultView.getComputedStyle){if(name.match(/float/i)){name="float";}name=name.replace(/([A-Z])/g,"-$1").toLowerCase();var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle&&!color(elem)){ret=computedStyle.getPropertyValue(name);}else{var swap=[],stack=[],a=elem,i=0;for(;a&&color(a);a=a.parentNode){stack.unshift(a);}for(;i<stack.length;i++){if(color(stack[i])){swap[i]=stack[i].style.display;stack[i].style.display="block";}}ret=name=="display"&&swap[stack.length-1]!=null?"none":(computedStyle&&computedStyle.getPropertyValue(name))||"";for(i=0;i<swap.length;i++){if(swap[i]!=null){stack[i].style.display=swap[i];}}}if(name=="opacity"&&ret==""){ret="1";}}else{if(elem.currentStyle){var camelCase=name.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase();});ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!/^\d+(px)?$/i.test(ret)&&/^\d/.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=ret||0;ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft;}}}}return ret;},clean:function(elems,context){var ret=[];context=context||document;if(typeof context.createElement=="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document;}jQuery.each(elems,function(i,elem){if(!elem){return;}if(elem.constructor==Number){elem+="";}if(typeof elem=="string"){elem=elem.replace(/(<(\w+)[^>]*?)\/>/g,function(all,front,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?all:front+"></"+tag+">";});var tags=jQuery.trim(elem).toLowerCase(),div=context.createElement("div");var wrap=!tags.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!tags.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||tags.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!tags.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!tags.indexOf("<td")||!tags.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!tags.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];div.innerHTML=wrap[1]+elem+wrap[2];while(wrap[0]--){div=div.lastChild;}if(jQuery.browser.msie){var tbody=!tags.indexOf("<table")&&tags.indexOf("<tbody")<0?div.firstChild&&div.firstChild.childNodes:wrap[1]=="<table>"&&tags.indexOf("<tbody")<0?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j]);}}if(/^\s/.test(elem)){div.insertBefore(context.createTextNode(elem.match(/^\s*/)[0]),div.firstChild);}}elem=jQuery.makeArray(div.childNodes);}if(elem.length===0&&(!jQuery.nodeName(elem,"form")&&!jQuery.nodeName(elem,"select"))){return;}if(elem[0]==undefined||jQuery.nodeName(elem,"form")||elem.options){ret.push(elem);}else{ret=jQuery.merge(ret,elem);}});return ret;},attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined;}var notxml=!jQuery.isXMLDoc(elem),set=value!==undefined,msie=jQuery.browser.msie;name=notxml&&jQuery.props[name]||name;if(elem.tagName){var special=/href|src|style/.test(name);if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex;}if(name in elem&&notxml&&!special){if(set){if(name=="type"&&jQuery.nodeName(elem,"input")&&elem.parentNode){throw"type property can't be changed";}elem[name]=value;}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue;}return elem[name];}if(msie&&notxml&&name=="style"){return jQuery.attr(elem.style,"cssText",value);}if(set){elem.setAttribute(name,""+value);}var attr=msie&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr;}if(msie&&name=="opacity"){if(set){elem.zoom=1;elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(value)+""=="NaN"?"":"alpha(opacity="+value*100+")");}return elem.filter&&elem.filter.indexOf("opacity=")>=0?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100)+"":"";}name=name.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase();});if(set){elem[name]=value;}return elem[name];},trim:function(text){return(text||"").replace(/^\s+|\s+$/g,"");},makeArray:function(array){var ret=[];if(array!=null){var i=array.length;if(i==null||array.split||array.setInterval||array.call){ret[0]=array;}else{while(i){ret[--i]=array[i];}}}return ret;},inArray:function(elem,array){for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i;}}return -1;},merge:function(first,second){var i=0,elem,pos=first.length;if(jQuery.browser.msie){while(elem=second[i++]){if(elem.nodeType!=8){first[pos++]=elem;}}}else{while(elem=second[i++]){first[pos++]=elem;}}return first;},unique:function(array){var ret=[],done={};try{for(var i=0,length=array.length;i<length;i++){var id=jQuery.data(array[i]);if(!done[id]){done[id]=true;ret.push(array[i]);}}}catch(e){ret=array;}return ret;},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!=!callback(elems[i],i)){ret.push(elems[i]);}}return ret;},map:function(elems,callback){var ret=[];for(var i=0,length=elems.length;i<length;i++){var value=callback(elems[i],i);if(value!=null){ret[ret.length]=value;}}return ret.concat.apply([],ret);}});var userAgent=navigator.userAgent.toLowerCase();jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing"}});jQuery.each({parent:function(elem){return elem.parentNode;},parents:function(elem){return jQuery.dir(elem,"parentNode");},next:function(elem){return jQuery.nth(elem,2,"nextSibling");},prev:function(elem){return jQuery.nth(elem,2,"previousSibling");},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem);},children:function(elem){return jQuery.sibling(elem.firstChild);},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(selector){var ret=jQuery.map(this,fn);if(selector&&typeof selector=="string"){ret=jQuery.multiFilter(selector,ret);}return this.pushStack(jQuery.unique(ret));};});jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(){var args=arguments;return this.each(function(){for(var i=0,length=args.length;i<length;i++){jQuery(args[i])[original](this);}});};});jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");if(this.nodeType==1){this.removeAttribute(name);}},addClass:function(classNames){jQuery.className.add(this,classNames);},removeClass:function(classNames){jQuery.className.remove(this,classNames);},toggleClass:function(classNames){jQuery.className[jQuery.className.has(this,classNames)?"remove":"add"](this,classNames);},remove:function(selector){if(!selector||jQuery.filter(selector,[this]).r.length){jQuery("*",this).add(this).each(function(){jQuery.event.remove(this);jQuery.removeData(this);});if(this.parentNode){this.parentNode.removeChild(this);}}},empty:function(){jQuery(">*",this).remove();while(this.firstChild){this.removeChild(this.firstChild);}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments);};});jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn[type]=function(size){return this[0]==window?jQuery.browser.opera&&document.body["client"+name]||jQuery.browser.safari&&window["inner"+name]||document.compatMode=="CSS1Compat"&&document.documentElement["client"+name]||document.body["client"+name]:this[0]==document?Math.max(Math.max(document.body["scroll"+name],document.documentElement["scroll"+name]),Math.max(document.body["offset"+name],document.documentElement["offset"+name])):size==undefined?(this.length?jQuery.css(this[0],type):null):this.css(type,size.constructor==String?size:size+"px");};});function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0;}var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uFFFF*_-]|\\\\.)",quickChild=new RegExp("^>\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");jQuery.extend({expr:{"":function(a,i,m){return m[2]=="*"||jQuery.nodeName(a,m[2]);},"#":function(a,i,m){return a.getAttribute("id")==m[2];},":":{lt:function(a,i,m){return i<m[3]-0;},gt:function(a,i,m){return i>m[3]-0;},nth:function(a,i,m){return m[3]-0==i;},eq:function(a,i,m){return m[3]-0==i;},first:function(a,i){return i==0;},last:function(a,i,m,r){return i==r.length-1;},even:function(a,i){return i%2==0;},odd:function(a,i){return i%2;},"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]==a;},"last-child":function(a){return jQuery.nth(a.parentNode.lastChild,1,"previousSibling")==a;},"only-child":function(a){return !jQuery.nth(a.parentNode.lastChild,2,"previousSibling");},parent:function(a){return a.firstChild;},empty:function(a){return !a.firstChild;},contains:function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||"").indexOf(m[3])>=0;},visible:function(a){return"hidden"!=a.type&&jQuery.css(a,"display")!="none"&&jQuery.css(a,"visibility")!="hidden";},hidden:function(a){return"hidden"==a.type||jQuery.css(a,"display")=="none"||jQuery.css(a,"visibility")=="hidden";},enabled:function(a){return !a.disabled;},disabled:function(a){return a.disabled;},checked:function(a){return a.checked;},selected:function(a){return a.selected||jQuery.attr(a,"selected");},text:function(a){return"text"==a.type;},radio:function(a){return"radio"==a.type;},checkbox:function(a){return"checkbox"==a.type;},file:function(a){return"file"==a.type;},password:function(a){return"password"==a.type;},submit:function(a){return"submit"==a.type;},image:function(a){return"image"==a.type;},reset:function(a){return"reset"==a.type;},button:function(a){return"button"==a.type||jQuery.nodeName(a,"button");},input:function(a){return/input|select|textarea|button/i.test(a.nodeName);},has:function(a,i,m){return jQuery.find(m[3],a).length;},header:function(a){return/h\d/i.test(a.nodeName);},animated:function(a){return jQuery.grep(jQuery.timers,function(fn){return a==fn.elem;}).length;}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];while(expr&&expr!=old){old=expr;var f=jQuery.filter(expr,elems,not);expr=f.t.replace(/^\s*,\s*/,"");cur=not?elems=f.r:jQuery.merge(cur,f.r);}return cur;},find:function(t,context){if(typeof t!="string"){return[t];}if(context&&context.nodeType!=1&&context.nodeType!=9){return[];}context=context||document;var ret=[context],done=[],last,nodeName;while(t&&last!=t){var r=[];last=t;t=jQuery.trim(t);var foundToken=false,re=quickChild,m=re.exec(t);if(m){nodeName=m[1].toUpperCase();for(var i=0;ret[i];i++){for(var c=ret[i].firstChild;c;c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName)){r.push(c);}}}ret=r;t=t.replace(re,"");if(t.indexOf(" ")==0){continue;}foundToken=true;}else{re=/^([>+~])\s*(\w*)/i;if((m=re.exec(t))!=null){r=[];var merge={};nodeName=m[2].toUpperCase();m=m[1];for(var j=0,rl=ret.length;j<rl;j++){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;for(;n;n=n.nextSibling){if(n.nodeType==1){var id=jQuery.data(n);if(m=="~"&&merge[id]){break;}if(!nodeName||n.nodeName.toUpperCase()==nodeName){if(m=="~"){merge[id]=true;}r.push(n);}if(m=="+"){break;}}}}ret=r;t=jQuery.trim(t.replace(re,""));foundToken=true;}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift();}done=jQuery.merge(done,ret);r=ret=[context];t=" "+t.substr(1,t.length);}else{var re2=quickID;var m=re2.exec(t);if(m){m=[0,m[2],m[3],m[1]];}else{re2=quickClass;m=re2.exec(t);}m[2]=m[2].replace(/\\/g,"");var elem=ret[ret.length-1];if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery('[@id="'+m[2]+'"]',elem)[0];}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[];}else{for(var i=0;ret[i];i++){var tag=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param";}r=jQuery.merge(r,ret[i].getElementsByTagName(tag));}if(m[1]=="."){r=jQuery.classFilter(r,m[2]);}if(m[1]=="#"){var tmp=[];for(var i=0;r[i];i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];break;}}r=tmp;}ret=r;}t=t.replace(re2,"");}}if(t){var val=jQuery.filter(t,r);ret=r=val.r;t=jQuery.trim(val.t);}}if(t){ret=[];}if(ret&&context==ret[0]){ret.shift();}done=jQuery.merge(done,ret);return done;},classFilter:function(r,m,not){m=" "+m+" ";var tmp=[];for(var i=0;r[i];i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;if(!not&&pass||not&&!pass){tmp.push(r[i]);}}return tmp;},filter:function(t,r,not){var last;while(t&&t!=last){last=t;var p=jQuery.parse,m;for(var i=0;p[i];i++){m=p[i].exec(t);if(m){t=t.substring(m[0].length);m[2]=m[2].replace(/\\/g,"");break;}}if(!m){break;}if(m[1]==":"&&m[2]=="not"){r=isSimple.test(m[3])?jQuery.filter(m[3],r,true).r:jQuery(r).not(m[3]);}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not);}else{if(m[1]=="["){var tmp=[],type=m[3];for(var i=0,rl=r.length;i<rl;i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||"";}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a);}}r=tmp;}else{if(m[1]==":"&&m[2]=="nth-child"){var merge={},tmp=[],test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"0n+"+m[3]||m[3]),first=(test[1]+(test[2]||1))-0,last=test[3]-0;for(var i=0,rl=r.length;i<rl;i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);if(!merge[id]){var c=1;for(var n=parentNode.firstChild;n;n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++;}}merge[id]=true;}var add=false;if(first==0){if(node.nodeIndex==last){add=true;}}else{if((node.nodeIndex-last)%first==0&&(node.nodeIndex-last)/first>=0){add=true;}}if(add^not){tmp.push(node);}}r=tmp;}else{var fn=jQuery.expr[m[1]];if(typeof fn=="object"){fn=fn[m[2]];}if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+";}");}r=jQuery.grep(r,function(elem,i){return fn(elem,i,m,r);},not);}}}}}return{r:r,t:t};},dir:function(elem,dir){var matched=[],cur=elem[dir];while(cur&&cur!=document){if(cur.nodeType==1){matched.push(cur);}cur=cur[dir];}return matched;},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType==1&&++num==result){break;}}return cur;},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType==1&&n!=elem){r.push(n);}}return r;}});jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType==3||elem.nodeType==8){return;}if(jQuery.browser.msie&&elem.setInterval){elem=window;}if(!handler.guid){handler.guid=this.guid++;}if(data!=undefined){var fn=handler;handler=this.proxy(fn,function(){return fn.apply(this,arguments);});handler.data=data;}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){if(typeof jQuery!="undefined"&&!jQuery.event.triggered){return jQuery.event.handle.apply(arguments.callee.elem,arguments);}});handle.elem=elem;jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];handler.type=parts[1];var handlers=events[type];if(!handlers){handlers=events[type]={};if(!jQuery.event.special[type]||jQuery.event.special[type].setup.call(elem)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false);}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle);}}}}handlers[handler.guid]=handler;jQuery.event.global[type]=true;});elem=null;},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType==3||elem.nodeType==8){return;}var events=jQuery.data(elem,"events"),ret,index;if(events){if(types==undefined||(typeof types=="string"&&types.charAt(0)==".")){for(var type in events){this.remove(elem,type+(types||""));}}else{if(types.type){handler=types.handler;types=types.type;}jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");type=parts[0];if(events[type]){if(handler){delete events[type][handler.guid];}else{for(handler in events[type]){if(!parts[1]||events[type][handler].type==parts[1]){delete events[type][handler];}}}for(ret in events[type]){break;}if(!ret){if(!jQuery.event.special[type]||jQuery.event.special[type].teardown.call(elem)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false);}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"));}}}ret=null;delete events[type];}}});}for(ret in events){break;}if(!ret){var handle=jQuery.data(elem,"handle");if(handle){handle.elem=null;}jQuery.removeData(elem,"events");jQuery.removeData(elem,"handle");}}},trigger:function(type,data,elem,donative,extra){data=jQuery.makeArray(data);if(type.indexOf("!")>=0){type=type.slice(0,-1);var exclusive=true;}if(!elem){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data);}}else{if(elem.nodeType==3||elem.nodeType==8){return undefined;}var val,ret,fn=jQuery.isFunction(elem[type]||null),event=!data[0]||!data[0].preventDefault;if(event){data.unshift({type:type,target:elem,preventDefault:function(){},stopPropagation:function(){},timeStamp:now()});data[0][expando]=true;}data[0].type=type;if(exclusive){data[0].exclusive=true;}var handle=jQuery.data(elem,"handle");if(handle){val=handle.apply(elem,data);}if((!fn||(jQuery.nodeName(elem,"a")&&type=="click"))&&elem["on"+type]&&elem["on"+type].apply(elem,data)===false){val=false;}if(event){data.shift();}if(extra&&jQuery.isFunction(extra)){ret=extra.apply(elem,val==null?data:data.concat(val));if(ret!==undefined){val=ret;}}if(fn&&donative!==false&&val!==false&&!(jQuery.nodeName(elem,"a")&&type=="click")){this.triggered=true;try{elem[type]();}catch(e){}}this.triggered=false;}return val;},handle:function(event){var val,ret,namespace,all,handlers;event=arguments[0]=jQuery.event.fix(event||window.event);namespace=event.type.split(".");event.type=namespace[0];namespace=namespace[1];all=!namespace&&!event.exclusive;handlers=(jQuery.data(this,"events")||{})[event.type];for(var j in handlers){var handler=handlers[j];if(all||handler.type==namespace){event.handler=handler;event.data=handler.data;ret=handler.apply(this,arguments);if(val!==false){val=ret;}if(ret===false){event.preventDefault();event.stopPropagation();}}}return val;},fix:function(event){if(event[expando]==true){return event;}var originalEvent=event;event={originalEvent:originalEvent};var props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view wheelDelta which".split(" ");for(var i=props.length;i;i--){event[props[i]]=originalEvent[props[i]];}event[expando]=true;event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault();}originalEvent.returnValue=false;};event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation();}originalEvent.cancelBubble=true;};event.timeStamp=event.timeStamp||now();if(!event.target){event.target=event.srcElement||document;}if(event.target.nodeType==3){event.target=event.target.parentNode;}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement;}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc.clientTop||0);}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode;}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey;}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)));}return event;},proxy:function(fn,proxy){proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;return proxy;},special:{ready:{setup:function(){bindReady();return;},teardown:function(){return;}},mouseenter:{setup:function(){if(jQuery.browser.msie){return false;}jQuery(this).bind("mouseover",jQuery.event.special.mouseenter.handler);return true;},teardown:function(){if(jQuery.browser.msie){return false;}jQuery(this).unbind("mouseover",jQuery.event.special.mouseenter.handler);return true;},handler:function(event){if(withinElement(event,this)){return true;}event.type="mouseenter";return jQuery.event.handle.apply(this,arguments);}},mouseleave:{setup:function(){if(jQuery.browser.msie){return false;}jQuery(this).bind("mouseout",jQuery.event.special.mouseleave.handler);return true;},teardown:function(){if(jQuery.browser.msie){return false;}jQuery(this).unbind("mouseout",jQuery.event.special.mouseleave.handler);return true;},handler:function(event){if(withinElement(event,this)){return true;}event.type="mouseleave";return jQuery.event.handle.apply(this,arguments);}}}};jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data);});},one:function(type,data,fn){var one=jQuery.event.proxy(fn||data,function(event){jQuery(this).unbind(event,one);return(fn||data).apply(this,arguments);});return this.each(function(){jQuery.event.add(this,type,one,fn&&data);});},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn);});},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn);});},triggerHandler:function(type,data,fn){return this[0]&&jQuery.event.trigger(type,data,this[0],false,fn);},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.event.proxy(fn,args[i++]);}return this.click(jQuery.event.proxy(fn,function(event){this.lastToggle=(this.lastToggle||0)%i;event.preventDefault();return args[this.lastToggle++].apply(this,arguments)||false;}));},hover:function(fnOver,fnOut){return this.bind("mouseenter",fnOver).bind("mouseleave",fnOut);},ready:function(fn){bindReady();if(jQuery.isReady){fn.call(document,jQuery);}else{jQuery.readyList.push(function(){return fn.call(this,jQuery);});}return this;}});jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.call(document);});jQuery.readyList=null;}jQuery(document).triggerHandler("ready");}}});var readyBound=false;function bindReady(){if(readyBound){return;}readyBound=true;if(document.addEventListener&&!jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false);}if(jQuery.browser.msie&&window==top){(function(){if(jQuery.isReady){return;}try{document.documentElement.doScroll("left");}catch(error){setTimeout(arguments.callee,0);return;}jQuery.ready();})();}if(jQuery.browser.opera){document.addEventListener("DOMContentLoaded",function(){if(jQuery.isReady){return;}for(var i=0;i<document.styleSheets.length;i++){if(document.styleSheets[i].disabled){setTimeout(arguments.callee,0);return;}}jQuery.ready();},false);}if(jQuery.browser.safari){var numStyles;(function(){if(jQuery.isReady){return;}if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,0);return;}if(numStyles===undefined){numStyles=jQuery("style, link[rel=stylesheet]").length;}if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,0);return;}jQuery.ready();})();}jQuery.event.add(window,"load",jQuery.ready);}jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,"+"mousedown,mouseup,mousemove,mouseover,mouseout,change,select,"+"submit,keydown,keypress,keyup,error").split(","),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name);};});var withinElement=function(event,elem){var parent=event.relatedTarget;while(parent&&parent!=elem){try{parent=parent.parentNode;}catch(error){parent=elem;}}return parent==elem;};jQuery(window).bind("unload",function(){jQuery("*").add(document).unbind();});jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!="string"){return this._load(url);}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off);}callback=callback||function(){};var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null;}else{params=jQuery.param(params);type="POST";}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status=="success"||status=="notmodified"){self.html(selector?jQuery("<div/>").append(res.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):res.responseText);}self.each(callback,[res.responseText,status,res]);}});return this;},serialize:function(){return jQuery.param(this.serializeArray());},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this;}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val};}):{name:elem.name,value:val};}).get();}});jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f);};});var jsc=now();jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data=null;}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type});},getScript:function(url,callback){return jQuery.get(url,null,callback,"script");},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;data={};}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type});},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings);},ajaxSettings:{url:location.href,global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));var jsonp,jsre=/=\?(&|$)/g,status,data,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data);}if(s.dataType=="jsonp"){if(type=="GET"){if(!s.url.match(jsre)){s.url+=(s.url.match(/\?/)?"&":"?")+(s.jsonp||"callback")+"=?";}}else{if(!s.data||!s.data.match(jsre)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?";}}s.dataType="json";}if(s.dataType=="json"&&(s.data&&s.data.match(jsre)||s.url.match(jsre))){jsonp="jsonp"+jsc++;if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1");}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp];}catch(e){}if(head){head.removeChild(script);}};}if(s.dataType=="script"&&s.cache==null){s.cache=false;}if(s.cache===false&&type=="GET"){var ts=now();var ret=s.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+ts+"$2");s.url=ret+((ret==s.url)?(s.url.match(/\?/)?"&":"?")+"_="+ts:"");}if(s.data&&type=="GET"){s.url+=(s.url.match(/\?/)?"&":"?")+s.data;s.data=null;}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart");}var remote=/^(?:\w+:)?\/\/([^\/?#]+)/;if(s.dataType=="script"&&type=="GET"&&remote.test(s.url)&&remote.exec(s.url)[1]!=location.host){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset;}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;success();complete();head.removeChild(script);}};}head.appendChild(script);return undefined;}var requestDone=false;var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();if(s.username){xhr.open(type,s.url,s.async,s.username,s.password);}else{xhr.open(type,s.url,s.async);}try{if(s.data){xhr.setRequestHeader("Content-Type",s.contentType);}if(s.ifModified){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT");}xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default);}catch(e){}if(s.beforeSend&&s.beforeSend(xhr,s)===false){s.global&&jQuery.active--;xhr.abort();return false;}if(s.global){jQuery.event.trigger("ajaxSend",[xhr,s]);}var onreadystatechange=function(isTimeout){if(!requestDone&&xhr&&(xhr.readyState==4||isTimeout=="timeout")){requestDone=true;if(ival){clearInterval(ival);ival=null;}status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xhr)&&"error"||s.ifModified&&jQuery.httpNotModified(xhr,s.url)&&"notmodified"||"success";if(status=="success"){try{data=jQuery.httpData(xhr,s.dataType,s.dataFilter);}catch(e){status="parsererror";}}if(status=="success"){var modRes;try{modRes=xhr.getResponseHeader("Last-Modified");}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes;}if(!jsonp){success();}}else{jQuery.handleError(s,xhr,status);}complete();if(s.async){xhr=null;}}};if(s.async){var ival=setInterval(onreadystatechange,13);if(s.timeout>0){setTimeout(function(){if(xhr){xhr.abort();if(!requestDone){onreadystatechange("timeout");}}},s.timeout);}}try{xhr.send(s.data);}catch(e){jQuery.handleError(s,xhr,null,e);}if(!s.async){onreadystatechange();}function success(){if(s.success){s.success(data,status);}if(s.global){jQuery.event.trigger("ajaxSuccess",[xhr,s]);}}function complete(){if(s.complete){s.complete(xhr,status);}if(s.global){jQuery.event.trigger("ajaxComplete",[xhr,s]);}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop");}}return xhr;},handleError:function(s,xhr,status,e){if(s.error){s.error(xhr,status,e);}if(s.global){jQuery.event.trigger("ajaxError",[xhr,s,e]);}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol=="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status==304||xhr.status==1223||jQuery.browser.safari&&xhr.status==undefined;}catch(e){}return false;},httpNotModified:function(xhr,url){try{var xhrRes=xhr.getResponseHeader("Last-Modified");return xhr.status==304||xhrRes==jQuery.lastModified[url]||jQuery.browser.safari&&xhr.status==undefined;}catch(e){}return false;},httpData:function(xhr,type,filter){var ct=xhr.getResponseHeader("content-type"),xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror";}if(filter){data=filter(data,type);}if(type=="script"){jQuery.globalEval(data);}if(type=="json"){data=eval("("+data+")");}return data;},param:function(a){var s=[];if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value));});}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this));});}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(jQuery.isFunction(a[j])?a[j]():a[j]));}}}return s.join("&").replace(/%20/g,"+");}});jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock||"";if(jQuery.css(this,"display")=="none"){var elem=jQuery("<"+this.tagName+" />").appendTo("body");this.style.display=elem.css("display");if(this.style.display=="none"){this.style.display="block";}elem.remove();}}).end();},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");this.style.display="none";}).end();},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]();});},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback);},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback);},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback);},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback);},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback);},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback);},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);return this[optall.queue===false?"each":"queue"](function(){if(this.nodeType!=1){return false;}var opt=jQuery.extend({},optall),p,hidden=jQuery(this).is(":hidden"),self=this;for(p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return opt.complete.call(this);}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow;}}if(opt.overflow!=null){this.style.overflow="hidden";}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop);}else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit;}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start;}e.custom(start,end,unit);}else{e.custom(start,val,"");}}});return true;});},queue:function(type,fn){if(jQuery.isFunction(type)||(type&&type.constructor==Array)){fn=type;type="fx";}if(!type||(typeof type=="string"&&!fn)){return queue(this[0],type);}return this.each(function(){if(fn.constructor==Array){queue(this,type,fn);}else{queue(this,type).push(fn);if(queue(this,type).length==1){fn.call(this);}}});},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([]);}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true);}timers.splice(i,1);}}});if(!gotoEnd){this.dequeue();}return this;}});var queue=function(elem,type,array){if(elem){type=type||"fx";var q=jQuery.data(elem,type+"queue");if(!q||array){q=jQuery.data(elem,type+"queue",jQuery.makeArray(array));}}return q;};jQuery.fn.dequeue=function(type){type=type||"fx";return this.each(function(){var q=queue(this,type);q.shift();if(q.length){q[0].call(this);}});};jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:jQuery.fx.speeds[opt.duration])||jQuery.fx.speeds.def;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue();}if(jQuery.isFunction(opt.old)){opt.old.call(this);}};return opt;},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p;},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum;}},timers:[],timerId:null,fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={};}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this);}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if(this.prop=="height"||this.prop=="width"){this.elem.style.display="block";}},cur:function(force){if(this.elem[this.prop]!=null&&this.elem.style[this.prop]==null){return this.elem[this.prop];}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0;},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;this.update();var self=this;function t(gotoEnd){return self.step(gotoEnd);}t.elem=this.elem;jQuery.timers.push(t);if(jQuery.timerId==null){jQuery.timerId=setInterval(function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1);}}if(!timers.length){clearInterval(jQuery.timerId);jQuery.timerId=null;}},13);}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.show=true;this.custom(0,this.cur());if(this.prop=="width"||this.prop=="height"){this.elem.style[this.prop]="1px";}jQuery(this.elem).show();},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);this.options.hide=true;this.custom(this.cur(),0);},step:function(gotoEnd){var t=now();if(gotoEnd||t>this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var done=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false;}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;this.elem.style.display=this.options.display;if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block";}}if(this.options.hide){this.elem.style.display="none";}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.attr(this.elem.style,p,this.options.orig[p]);}}}if(done){this.options.complete.call(this.elem);}return false;}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update();}return true;}};jQuery.extend(jQuery.fx,{speeds:{slow:600,fast:200,def:400},step:{scrollLeft:function(fx){fx.elem.scrollLeft=fx.now;},scrollTop:function(fx){fx.elem.scrollTop=fx.now;},opacity:function(fx){jQuery.attr(fx.elem.style,"opacity",fx.now);},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit;}}});jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;if(elem){with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&&parseInt(version)<522&&!/adobeair/i.test(userAgent),css=jQuery.curCSS,fixed=css(elem,"position")=="fixed";if(elem.getBoundingClientRect){var box=elem.getBoundingClientRect();add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop);}else{add(elem.offsetLeft,elem.offsetTop);while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);if(mozilla&&!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&&!safari2){border(offsetParent);}if(!fixed&&css(offsetParent,"position")=="fixed"){fixed=true;}offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent;offsetParent=offsetParent.offsetParent;}while(parent&&parent.tagName&&!/^body|html$/i.test(parent.tagName)){if(!/^inline|table.*$/i.test(css(parent,"display"))){add(-parent.scrollLeft,-parent.scrollTop);}if(mozilla&&css(parent,"overflow")!="visible"){border(parent);}parent=parent.parentNode;}if((safari2&&(fixed||css(offsetChild,"position")=="absolute"))||(mozilla&&css(offsetChild,"position")!="absolute")){add(-doc.body.offsetLeft,-doc.body.offsetTop);}if(fixed){add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));}}results={top:top,left:left};}}function border(elem){add(jQuery.curCSS(elem,"borderLeftWidth",true),jQuery.curCSS(elem,"borderTopWidth",true));}function add(l,t){left+=parseInt(l,10)||0;top+=parseInt(t,10)||0;}return results;};jQuery.fn.extend({position:function(){var left=0,top=0,results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop");offset.left-=num(this,"marginLeft");parentOffset.top+=num(offsetParent,"borderTopWidth");parentOffset.left+=num(offsetParent,"borderLeftWidth");results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};}return results;},offsetParent:function(){var offsetParent=this[0].offsetParent;while(offsetParent&&(!/^body|html$/i.test(offsetParent.tagName)&&jQuery.css(offsetParent,"position")=="static")){offsetParent=offsetParent.offsetParent;}return jQuery(offsetParent);}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){if(!this[0]){return;}return val!=undefined?this.each(function(){this==window||this==document?window.scrollTo(!i?val:jQuery(window).scrollLeft(),i?val:jQuery(window).scrollTop()):this[method]=val;}):this[0]==window||this[0]==document?self[i?"pageYOffset":"pageXOffset"]||jQuery.boxModel&&document.documentElement[method]||document.body[method]:this[0][method];};});jQuery.each(["Height","Width"],function(i,name){var tl=i?"Left":"Top",br=i?"Right":"Bottom";jQuery.fn["inner"+name]=function(){return this[name.toLowerCase()]()+num(this,"padding"+tl)+num(this,"padding"+br);};jQuery.fn["outer"+name]=function(margin){return this["inner"+name]()+num(this,"border"+tl+"Width")+num(this,"border"+br+"Width")+(margin?num(this,"margin"+tl)+num(this,"margin"+br):0);};});})();(function($){$.ui={plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var set=instance.plugins[name];if(!set){return;}for(var i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},cssCache:{},css:function(name){if($.ui.cssCache[name]){return $.ui.cssCache[name];}var tmp=$('<div class="ui-resizable-gen">').addClass(name).css({position:"absolute",top:"-5000px",left:"-5000px",display:"block"}).appendTo("body");$.ui.cssCache[name]=!!((!(/auto|default/).test(tmp.css("cursor"))||(/^[1-9]/).test(tmp.css("height"))||(/^[1-9]/).test(tmp.css("width"))||!(/none/).test(tmp.css("backgroundImage"))||!(/transparent|rgba\(0, 0, 0, 0\)/).test(tmp.css("backgroundColor"))));try{$("body").get(0).removeChild(tmp.get(0));}catch(e){}return $.ui.cssCache[name];},disableSelection:function(e){e.unselectable="on";e.onselectstart=function(){return false;};if(e.style){e.style.MozUserSelect="none";}},enableSelection:function(e){e.unselectable="off";e.onselectstart=function(){return true;};if(e.style){e.style.MozUserSelect="";}},hasScroll:function(e,a){var scroll=/top/.test(a||"top")?"scrollTop":"scrollLeft",has=false;if(e[scroll]>0){return true;}e[scroll]=1;has=e[scroll]>0?true:false;e[scroll]=0;return has;}};var _remove=$.fn.remove;$.fn.remove=function(){$("*",this).add(this).trigger("remove");return _remove.apply(this,arguments);};function getter(namespace,plugin,method){var methods=$[namespace][plugin].getter||[];methods=(typeof methods=="string"?methods.split(/,?\s+/):methods);return($.inArray(method,methods)!=-1);}$.widget=function(name,prototype){var namespace=name.split(".")[0];name=name.split(".")[1];$.fn[name]=function(options){var isMethodCall=(typeof options=="string"),args=Array.prototype.slice.call(arguments,1);if(isMethodCall&&getter(namespace,name,options)){var instance=$.data(this[0],name);return(instance?instance[options].apply(instance,args):undefined);}return this.each(function(){var instance=$.data(this,name);if(isMethodCall&&instance&&$.isFunction(instance[options])){instance[options].apply(instance,args);}else{if(!isMethodCall){$.data(this,name,new $[namespace][name](this,options));}}});};$[namespace][name]=function(element,options){var self=this;this.widgetName=name;this.widgetBaseClass=namespace+"-"+name;this.options=$.extend({disabled:false},$[namespace][name].defaults,options);this.element=$(element).bind("setData."+name,function(e,key,value){return self.setData(key,value);}).bind("getData."+name,function(e,key){return self.getData(key);}).bind("remove",function(){return self.destroy();});this.init();};$[namespace][name].prototype=$.extend({},$.widget.prototype,prototype);};$.widget.prototype={init:function(){},destroy:function(){this.element.removeData(this.widgetName);},getData:function(key){return this.options[key];},setData:function(key,value){this.options[key]=value;if(key=="disabled"){this.element[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled");}},enable:function(){this.setData("disabled",false);},disable:function(){this.setData("disabled",true);}};$.ui.mouse={mouseInit:function(){var self=this;this.element.bind("mousedown."+this.widgetName,function(e){return self.mouseDown(e);});if($.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable","on");}this.started=false;},mouseDestroy:function(){this.element.unbind("."+this.widgetName);($.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable));},mouseDown:function(e){(this._mouseStarted&&this.mouseUp(e));this._mouseDownEvent=e;var self=this,btnIsLeft=(e.which==1),elIsCancel=(typeof this.options.cancel=="string"?$(e.target).is(this.options.cancel):false);if(!btnIsLeft||elIsCancel||!this.mouseCapture(e)){return true;}this._mouseDelayMet=!this.options.delay;if(!this._mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){self._mouseDelayMet=true;},this.options.delay);}if(this.mouseDistanceMet(e)&&this.mouseDelayMet(e)){this._mouseStarted=(this.mouseStart(e)!==false);if(!this._mouseStarted){e.preventDefault();return true;}}this._mouseMoveDelegate=function(e){return self.mouseMove(e);};this._mouseUpDelegate=function(e){return self.mouseUp(e);};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);return false;},mouseMove:function(e){if($.browser.msie&&parseInt(jQuery.browser.version,10)<9&&!e.button){return this.mouseUp(e);}if(this._mouseStarted){this.mouseDrag(e);return false;}if(this.mouseDistanceMet(e)&&this.mouseDelayMet(e)){this._mouseStarted=(this.mouseStart(this._mouseDownEvent,e)!==false);(this._mouseStarted?this.mouseDrag(e):this.mouseUp(e));}return !this._mouseStarted;},mouseUp:function(e){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this.mouseStop(e);}return false;},mouseDistanceMet:function(e){return(Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance);},mouseDelayMet:function(e){return this._mouseDelayMet;},mouseStart:function(e){},mouseDrag:function(e){},mouseStop:function(e){},mouseCapture:function(e){return true;}};$.ui.mouse.defaults={cancel:null,distance:1,delay:0};})(jQuery);(function($){$.widget("ui.draggable",$.extend($.ui.mouse,{init:function(){var o=this.options;if(o.helper=="original"&&!(/(relative|absolute|fixed)/).test(this.element.css("position"))){this.element.css("position","relative");}this.element.addClass("ui-draggable");(o.disabled&&this.element.addClass("ui-draggable-disabled"));this.mouseInit();},mouseStart:function(e){var o=this.options;if(this.helper||o.disabled||$(e.target).is(".ui-resizable-handle")){return false;}var handle=!this.options.handle||!$(this.options.handle,this.element).length?true:false;$(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==e.target){handle=true;}});if(!handle){return false;}if($.ui.ddmanager){$.ui.ddmanager.current=this;}this.helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[e])):(o.helper=="clone"?this.element.clone():this.element);if(!this.helper.parents("body").length){this.helper.appendTo((o.appendTo=="parent"?this.element[0].parentNode:o.appendTo));}if(this.helper[0]!=this.element[0]&&!(/(fixed|absolute)/).test(this.helper.css("position"))){this.helper.css("position","absolute");}this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0)};this.cssPosition=this.helper.css("position");this.offset=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top};this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.offsetParent[0]==document.body&&$.browser.mozilla){po={top:0,left:0};}this.offset.parent={top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};var p=this.element.position();this.offset.relative=this.cssPosition=="relative"?{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.offsetParent[0].scrollTop,left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.offsetParent[0].scrollLeft}:{top:0,left:0};this.originalPosition=this.generatePosition(e);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(o.cursorAt){if(o.cursorAt.left!=undefined){this.offset.click.left=o.cursorAt.left+this.margins.left;}if(o.cursorAt.right!=undefined){this.offset.click.left=this.helperProportions.width-o.cursorAt.right+this.margins.left;}if(o.cursorAt.top!=undefined){this.offset.click.top=o.cursorAt.top+this.margins.top;}if(o.cursorAt.bottom!=undefined){this.offset.click.top=this.helperProportions.height-o.cursorAt.bottom+this.margins.top;}}if(o.containment){if(o.containment=="parent"){o.containment=this.helper[0].parentNode;}if(o.containment=="document"||o.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment=="document"?document:window).width()-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),($(o.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)];}if(!(/^(document|window|parent)$/).test(o.containment)){var ce=$(o.containment)[0];var co=$(o.containment).offset();this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top,co.left+Math.max(ce.scrollWidth,ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.relative.left-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),co.top+Math.max(ce.scrollHeight,ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.relative.top-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)];}}this.propagate("start",e);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,e);}this.helper.addClass("ui-draggable-dragging");this.mouseDrag(e);return true;},convertPositionTo:function(d,pos){if(!pos){pos=this.position;}var mod=d=="absolute"?1:-1;return{top:(pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollTop)*mod+(this.cssPosition=="fixed"?this.offsetParent[0].scrollTop:0)*mod+this.margins.top*mod),left:(pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollLeft)*mod+(this.cssPosition=="fixed"?this.offsetParent[0].scrollLeft:0)*mod+this.margins.left*mod)};},generatePosition:function(e){var o=this.options;var position={top:(e.pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollTop)-(this.cssPosition=="fixed"?this.offsetParent[0].scrollTop:0)),left:(e.pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"||(this.cssPosition=="absolute"&&this.offsetParent[0]==document.body)?0:this.offsetParent[0].scrollLeft)-(this.cssPosition=="fixed"?this.offsetParent[0].scrollLeft:0))};if(!this.originalPosition){return position;}if(this.containment){if(position.left<this.containment[0]){position.left=this.containment[0];}if(position.top<this.containment[1]){position.top=this.containment[1];}if(position.left>this.containment[2]){position.left=this.containment[2];}if(position.top>this.containment[3]){position.top=this.containment[3];}}if(o.grid){var top=this.originalPosition.top+Math.round((position.top-this.originalPosition.top)/o.grid[1])*o.grid[1];position.top=this.containment?(!(top<this.containment[1]||top>this.containment[3])?top:(!(top<this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;var left=this.originalPosition.left+Math.round((position.left-this.originalPosition.left)/o.grid[0])*o.grid[0];position.left=this.containment?(!(left<this.containment[0]||left>this.containment[2])?left:(!(left<this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}return position;},mouseDrag:function(e){this.position=this.generatePosition(e);this.positionAbs=this.convertPositionTo("absolute");this.position=this.propagate("drag",e)||this.position;if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px";}if($.ui.ddmanager){$.ui.ddmanager.drag(this,e);}return false;},mouseStop:function(e){if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,e);}if(this.options.revert){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revert,10)||500,function(){self.propagate("stop",e);self.clear();});}else{this.propagate("stop",e);this.clear();}return false;},clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.options.helper!="original"&&!this.cancelHelperRemoval){this.helper.remove();}this.helper=null;this.cancelHelperRemoval=false;},plugins:{},uiHash:function(e){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,options:this.options};},propagate:function(n,e){$.ui.plugin.call(this,n,[e,this.uiHash()]);return this.element.triggerHandler(n=="drag"?n:"drag"+n,[e,this.uiHash()],this.options[n]);},destroy:function(){if(!this.element.data("draggable")){return;}this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable");this.mouseDestroy();}}));$.extend($.ui.draggable,{defaults:{appendTo:"parent",axis:false,cancel:":input,button",delay:0,distance:0,helper:"original"}});$.ui.plugin.add("draggable","cursor",{start:function(e,ui){var t=$("body");if(t.css("cursor")){ui.options._cursor=t.css("cursor");}t.css("cursor",ui.options.cursor);},stop:function(e,ui){if(ui.options._cursor){$("body").css("cursor",ui.options._cursor);}}});$.ui.plugin.add("draggable","zIndex",{start:function(e,ui){var t=$(ui.helper);if(t.css("zIndex")){ui.options._zIndex=t.css("zIndex");}t.css("zIndex",ui.options.zIndex);},stop:function(e,ui){if(ui.options._zIndex){$(ui.helper).css("zIndex",ui.options._zIndex);}}});$.ui.plugin.add("draggable","opacity",{start:function(e,ui){var t=$(ui.helper);if(t.css("opacity")){ui.options._opacity=t.css("opacity");}t.css("opacity",ui.options.opacity);},stop:function(e,ui){if(ui.options._opacity){$(ui.helper).css("opacity",ui.options._opacity);}}});$.ui.plugin.add("draggable","iframeFix",{start:function(e,ui){$(ui.options.iframeFix===true?"iframe":ui.options.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});},stop:function(e,ui){$("div.DragDropIframeFix").each(function(){this.parentNode.removeChild(this);});}});$.ui.plugin.add("draggable","scroll",{start:function(e,ui){var o=ui.options;var i=$(this).data("draggable");o.scrollSensitivity=o.scrollSensitivity||20;o.scrollSpeed=o.scrollSpeed||20;i.overflowY=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||(/auto|scroll/).test(el.css("overflow-y"))){return el;}el=el.parent();}while(el[0].parentNode);return $(document);}(this);i.overflowX=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||(/auto|scroll/).test(el.css("overflow-x"))){return el;}el=el.parent();}while(el[0].parentNode);return $(document);}(this);if(i.overflowY[0]!=document&&i.overflowY[0].tagName!="HTML"){i.overflowYOffset=i.overflowY.offset();}if(i.overflowX[0]!=document&&i.overflowX[0].tagName!="HTML"){i.overflowXOffset=i.overflowX.offset();}},drag:function(e,ui){var o=ui.options;var i=$(this).data("draggable");if(i.overflowY[0]!=document&&i.overflowY[0].tagName!="HTML"){if((i.overflowYOffset.top+i.overflowY[0].offsetHeight)-e.pageY<o.scrollSensitivity){i.overflowY[0].scrollTop=i.overflowY[0].scrollTop+o.scrollSpeed;}if(e.pageY-i.overflowYOffset.top<o.scrollSensitivity){i.overflowY[0].scrollTop=i.overflowY[0].scrollTop-o.scrollSpeed;}}else{if(e.pageY-$(document).scrollTop()<o.scrollSensitivity){$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}if($(window).height()-(e.pageY-$(document).scrollTop())<o.scrollSensitivity){$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}if(i.overflowX[0]!=document&&i.overflowX[0].tagName!="HTML"){if((i.overflowXOffset.left+i.overflowX[0].offsetWidth)-e.pageX<o.scrollSensitivity){i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft+o.scrollSpeed;}if(e.pageX-i.overflowXOffset.left<o.scrollSensitivity){i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft-o.scrollSpeed;}}else{if(e.pageX-$(document).scrollLeft()<o.scrollSensitivity){$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}if($(window).width()-(e.pageX-$(document).scrollLeft())<o.scrollSensitivity){$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}});$.ui.plugin.add("draggable","snap",{start:function(e,ui){var inst=$(this).data("draggable");inst.snapElements=[];$(ui.options.snap===true?".ui-draggable":ui.options.snap).each(function(){var $t=$(this);var $o=$t.offset();if(this!=inst.element[0]){inst.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(e,ui){var inst=$(this).data("draggable");var d=ui.options.snapTolerance||20;var x1=ui.absolutePosition.left,x2=x1+inst.helperProportions.width,y1=ui.absolutePosition.top,y2=y1+inst.helperProportions.height;for(var i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(!((l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d)||(l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d)||(l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d)||(l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d))){continue;}if(ui.options.snapMode!="inner"){var ts=Math.abs(t-y2)<=20;var bs=Math.abs(b-y1)<=20;var ls=Math.abs(l-x2)<=20;var rs=Math.abs(r-x1)<=20;if(ts){ui.position.top=inst.convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top;}if(bs){ui.position.top=inst.convertPositionTo("relative",{top:b,left:0}).top;}if(ls){ui.position.left=inst.convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left;}if(rs){ui.position.left=inst.convertPositionTo("relative",{top:0,left:r}).left;}}if(ui.options.snapMode!="outer"){var ts=Math.abs(t-y1)<=20;var bs=Math.abs(b-y2)<=20;var ls=Math.abs(l-x1)<=20;var rs=Math.abs(r-x2)<=20;if(ts){ui.position.top=inst.convertPositionTo("relative",{top:t,left:0}).top;}if(bs){ui.position.top=inst.convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top;}if(ls){ui.position.left=inst.convertPositionTo("relative",{top:0,left:l}).left;}if(rs){ui.position.left=inst.convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left;}}}}});$.ui.plugin.add("draggable","connectToSortable",{start:function(e,ui){var inst=$(this).data("draggable");inst.sortables=[];$(ui.options.connectToSortable).each(function(){if($.data(this,"sortable")){var sortable=$.data(this,"sortable");inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refresh();sortable.propagate("activate",e,inst);}});},stop:function(e,ui){var inst=$(this).data("draggable");$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true;}this.instance.mouseStop(e);this.instance.element.triggerHandler("sortreceive",[e,$.extend(this.instance.ui(),{sender:inst.element})],this.instance.options["receive"]);this.instance.options.helper=this.instance.options._helper;}else{this.instance.propagate("deactivate",e,inst);}});},drag:function(e,ui){var inst=$(this).data("draggable"),self=this;var checkPos=function(o){var l=o.left,r=l+o.width,t=o.top,b=t+o.height;return(l<(this.positionAbs.left+this.offset.click.left)&&(this.positionAbs.left+this.offset.click.left)<r&&t<(this.positionAbs.top+this.offset.click.top)&&(this.positionAbs.top+this.offset.click.top)<b);};$.each(inst.sortables,function(i){if(checkPos.call(inst,this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(self).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};e.target=this.instance.currentItem[0];this.instance.mouseCapture(e,true,true);this.instance.mouseStart(e,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst.propagate("toSortable",e);}if(this.instance.currentItem){this.instance.mouseDrag(e);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance.mouseStop(e,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder.remove();inst.propagate("fromSortable",e);}}});}});$.ui.plugin.add("draggable","stack",{start:function(e,ui){var group=$.makeArray($(ui.options.stack.group)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||ui.options.stack.min)-(parseInt($(b).css("zIndex"),10)||ui.options.stack.min);});$(group).each(function(i){this.style.zIndex=ui.options.stack.min+i;});this[0].style.zIndex=ui.options.stack.min+group.length;}});})(jQuery);(function($){$.widget("ui.droppable",{init:function(){this.element.addClass("ui-droppable");this.isover=0;this.isout=1;var o=this.options,accept=o.accept;o=$.extend(o,{accept:o.accept&&o.accept.constructor==Function?o.accept:function(d){return $(d).is(accept);}});this.proportions={width:this.element.outerWidth(),height:this.element.outerHeight()};$.ui.ddmanager.droppables.push(this);},plugins:{},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,absolutePosition:c.positionAbs,options:this.options,element:this.element};},destroy:function(){var drop=$.ui.ddmanager.droppables;for(var i=0;i<drop.length;i++){if(drop[i]==this){drop.splice(i,1);}}this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");},over:function(e){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0]){return;}if(this.options.accept.call(this.element,(draggable.currentItem||draggable.element))){$.ui.plugin.call(this,"over",[e,this.ui(draggable)]);this.element.triggerHandler("dropover",[e,this.ui(draggable)],this.options.over);}},out:function(e){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0]){return;}if(this.options.accept.call(this.element,(draggable.currentItem||draggable.element))){$.ui.plugin.call(this,"out",[e,this.ui(draggable)]);this.element.triggerHandler("dropout",[e,this.ui(draggable)],this.options.out);}},drop:function(e,custom){var draggable=custom||$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0]){return false;}var childrenIntersection=false;this.element.find(".ui-droppable").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"droppable");if(inst.options.greedy&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}if(this.options.accept.call(this.element,(draggable.currentItem||draggable.element))){$.ui.plugin.call(this,"drop",[e,this.ui(draggable)]);this.element.triggerHandler("drop",[e,this.ui(draggable)],this.options.drop);return true;}return false;},activate:function(e){var draggable=$.ui.ddmanager.current;$.ui.plugin.call(this,"activate",[e,this.ui(draggable)]);if(draggable){this.element.triggerHandler("dropactivate",[e,this.ui(draggable)],this.options.activate);}},deactivate:function(e){var draggable=$.ui.ddmanager.current;$.ui.plugin.call(this,"deactivate",[e,this.ui(draggable)]);if(draggable){this.element.triggerHandler("dropdeactivate",[e,this.ui(draggable)],this.options.deactivate);}}});$.extend($.ui.droppable,{defaults:{disabled:false,tolerance:"intersect"}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset){return false;}var x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height;var l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return(l<x1&&x2<r&&t<y1&&y2<b);break;case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);break;case"pointer":return(l<((draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left)&&((draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left)<r&&t<((draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top)&&((draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top)<b);break;case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));break;default:return false;break;}};$.ui.ddmanager={current:null,droppables:[],prepareOffsets:function(t,e){var m=$.ui.ddmanager.droppables;var type=e?e.type:null;for(var i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].options.accept.call(m[i].element,(t.currentItem||t.element)))){continue;}m[i].visible=m[i].element.is(":visible");if(!m[i].visible){continue;}m[i].offset=m[i].element.offset();m[i].proportions={width:m[i].element.outerWidth(),height:m[i].element.outerHeight()};if(type=="dragstart"||type=="sortactivate"){m[i].activate.call(m[i],e);}}},drop:function(draggable,e){var dropped=false;$.each($.ui.ddmanager.droppables,function(){if(!this.options){return;}if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)){dropped=this.drop.call(this,e);}if(!this.options.disabled&&this.visible&&this.options.accept.call(this.element,(draggable.currentItem||draggable.element))){this.isout=1;this.isover=0;this.deactivate.call(this,e);}});return dropped;},drag:function(draggable,e){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,e);}$.each($.ui.ddmanager.droppables,function(){if(this.disabled||this.greedyChild||!this.visible){return;}var intersects=$.ui.intersect(draggable,this,this.options.tolerance);var c=!intersects&&this.isover==1?"isout":(intersects&&this.isover==0?"isover":null);if(!c){return;}var parentInstance;if(this.options.greedy){var parent=this.element.parents(".ui-droppable:eq(0)");if(parent.length){parentInstance=$.data(parent[0],"droppable");parentInstance.greedyChild=(c=="isover"?1:0);}}if(parentInstance&&c=="isover"){parentInstance["isover"]=0;parentInstance["isout"]=1;parentInstance.out.call(parentInstance,e);}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"over":"out"].call(this,e);if(parentInstance&&c=="isout"){parentInstance["isout"]=0;parentInstance["isover"]=1;parentInstance.over.call(parentInstance,e);}});}};$.ui.plugin.add("droppable","activeClass",{activate:function(e,ui){$(this).addClass(ui.options.activeClass);},deactivate:function(e,ui){$(this).removeClass(ui.options.activeClass);},drop:function(e,ui){$(this).removeClass(ui.options.activeClass);}});$.ui.plugin.add("droppable","hoverClass",{over:function(e,ui){$(this).addClass(ui.options.hoverClass);},out:function(e,ui){$(this).removeClass(ui.options.hoverClass);},drop:function(e,ui){$(this).removeClass(ui.options.hoverClass);}});})(jQuery);(function($){function contains(a,b){var safari2=$.browser.safari&&$.browser.version<522;if(a.contains&&!safari2){return a.contains(b);}if(a.compareDocumentPosition){return !!(a.compareDocumentPosition(b)&16);}while(b=b.parentNode){if(b==a){return true;}}return false;}$.widget("ui.sortable",$.extend($.ui.mouse,{init:function(){var o=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?(/left|right/).test(this.items[0].item.css("float")):false;if(!(/(relative|absolute|fixed)/).test(this.element.css("position"))){this.element.css("position","relative");}this.offset=this.element.offset();this.mouseInit();},plugins:{},ui:function(inst){return{helper:(inst||this)["helper"],placeholder:(inst||this)["placeholder"]||$([]),position:(inst||this)["position"],absolutePosition:(inst||this)["positionAbs"],options:this.options,element:this.element,item:(inst||this)["currentItem"],sender:inst?inst.element:null};},propagate:function(n,e,inst,noPropagation){$.ui.plugin.call(this,n,[e,this.ui(inst)]);if(!noPropagation){this.element.triggerHandler(n=="sort"?n:"sort"+n,[e,this.ui(inst)],this.options[n]);}},serialize:function(o){var items=($.isFunction(this.options.items)?this.options.items.call(this.element):$(this.options.items,this.element)).not(".ui-sortable-helper");var str=[];o=o||{};items.each(function(){var res=($(this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[-=_](.+)/));if(res){str.push((o.key||res[1])+"[]="+(o.key?res[1]:res[2]));}});return str.join("&");},toArray:function(attr){var items=($.isFunction(this.options.items)?this.options.items.call(this.element):$(this.options.items,this.element)).not(".ui-sortable-helper");var ret=[];items.each(function(){ret.push($(this).attr(attr||"id"));});return ret;},intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height;var l=item.left,r=l+item.width,t=item.top,b=t+item.height;if(this.options.tolerance=="pointer"||(this.options.tolerance=="guess"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return(y1+this.offset.click.top>t&&y1+this.offset.click.top<b&&x1+this.offset.click.left>l&&x1+this.offset.click.left<r);}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b);}},intersectsWithEdge:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height;var l=item.left,r=l+item.width,t=item.top,b=t+item.height;if(this.options.tolerance=="pointer"||(this.options.tolerance=="guess"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){if(!(y1+this.offset.click.top>t&&y1+this.offset.click.top<b&&x1+this.offset.click.left>l&&x1+this.offset.click.left<r)){return false;}if(this.floating){if(x1+this.offset.click.left>l&&x1+this.offset.click.left<l+item.width/2){return 2;}if(x1+this.offset.click.left>l+item.width/2&&x1+this.offset.click.left<r){return 1;}}else{if(y1+this.offset.click.top>t&&y1+this.offset.click.top<t+item.height/2){return 2;}if(y1+this.offset.click.top>t+item.height/2&&y1+this.offset.click.top<b){return 1;}}}else{if(!(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b)){return false;}if(this.floating){if(x2>l&&x1<l){return 2;}if(x1<r&&x2>r){return 1;}}else{if(y2>t&&y1<t){return 1;}if(y1<b&&y2>b){return 2;}}}return false;},refresh:function(){this.refreshItems();this.refreshPositions();},refreshItems:function(){this.items=[];this.containers=[this];var items=this.items;var queries=[$.isFunction(this.options.items)?this.options.items.call(this.element):$(this.options.items,this.element)];if(this.options.connectWith){for(var i=this.options.connectWith.length-1;i>=0;i--){var cur=$(this.options.connectWith[i]);for(var j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],"sortable");if(inst&&!inst.options.disabled){queries.push($.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element));this.containers.push(inst);}}}}for(var i=queries.length-1;i>=0;i--){queries[i].each(function(){$.data(this,"sortable-item",true);items.push({item:$(this),width:0,height:0,left:0,top:0});});}},refreshPositions:function(fast){for(var i=this.items.length-1;i>=0;i--){var t=this.items[i].item;if(!fast){this.items[i].width=(this.options.toleranceElement?$(this.options.toleranceElement,t):t).outerWidth();}if(!fast){this.items[i].height=(this.options.toleranceElement?$(this.options.toleranceElement,t):t).outerHeight();}var p=(this.options.toleranceElement?$(this.options.toleranceElement,t):t).offset();this.items[i].left=p.left;this.items[i].top=p.top;}for(var i=this.containers.length-1;i>=0;i--){var p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this.mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData("sortable-item");}},createPlaceholder:function(that){var self=that||this,o=self.options;if(o.placeholder.constructor==String){var className=o.placeholder;o.placeholder={element:function(){return $("<div></div>").addClass(className)[0];},update:function(i,p){p.css(i.offset()).css({width:i.outerWidth(),height:i.outerHeight()});}};}self.placeholder=$(o.placeholder.element.call(self.element,self.currentItem)).appendTo("body").css({position:"absolute"});o.placeholder.update.call(self.element,self.currentItem,self.placeholder);},contactContainers:function(e){for(var i=this.containers.length-1;i>=0;i--){if(this.intersectsWith(this.containers[i].containerCache)){if(!this.containers[i].containerCache.over){if(this.currentContainer!=this.containers[i]){var dist=10000;var itemWithLeastDistance=null;var base=this.positionAbs[this.containers[i].floating?"left":"top"];for(var j=this.items.length-1;j>=0;j--){if(!contains(this.containers[i].element[0],this.items[j].item[0])){continue;}var cur=this.items[j][this.containers[i].floating?"left":"top"];if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];}}if(!itemWithLeastDistance&&!this.options.dropOnEmpty){continue;}if(this.placeholder){this.placeholder.remove();}if(this.containers[i].options.placeholder){this.containers[i].createPlaceholder(this);}else{this.placeholder=null;}itemWithLeastDistance?this.rearrange(e,itemWithLeastDistance):this.rearrange(e,null,this.containers[i].element);this.propagate("change",e);this.containers[i].propagate("change",e,this);this.currentContainer=this.containers[i];}this.containers[i].propagate("over",e,this);this.containers[i].containerCache.over=1;}}else{if(this.containers[i].containerCache.over){this.containers[i].propagate("out",e,this);this.containers[i].containerCache.over=0;}}}},mouseCapture:function(e,overrideHandle){if(this.options.disabled||this.options.type=="static"){return false;}var currentItem=null,nodes=$(e.target).parents().each(function(){if($.data(this,"sortable-item")){currentItem=$(this);return false;}});if($.data(e.target,"sortable-item")){currentItem=$(e.target);}if(!currentItem){return false;}if(this.options.handle&&!overrideHandle){var validHandle=false;$(this.options.handle,currentItem).find("*").andSelf().each(function(){if(this==e.target){validHandle=true;}});if(!validHandle){return false;}}this.currentItem=currentItem;return true;},mouseStart:function(e,overrideHandle,noActivation){var o=this.options;this.currentContainer=this;this.refresh();this.helper=typeof o.helper=="function"?$(o.helper.apply(this.element[0],[e,this.currentItem])):this.currentItem.clone();if(!this.helper.parents("body").length){this.helper.appendTo((o.appendTo!="parent"?o.appendTo:this.currentItem[0].parentNode));}this.helper.css({position:"absolute",clear:"both"}).addClass("ui-sortable-helper");this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top};this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();this.offset.parent={top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};this.originalPosition=this.generatePosition(e);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(o.cursorAt){if(o.cursorAt.left!=undefined){this.offset.click.left=o.cursorAt.left;}if(o.cursorAt.right!=undefined){this.offset.click.left=this.helperProportions.width-o.cursorAt.right;}if(o.cursorAt.top!=undefined){this.offset.click.top=o.cursorAt.top;}if(o.cursorAt.bottom!=undefined){this.offset.click.top=this.helperProportions.height-o.cursorAt.bottom;}}this.domPosition=this.currentItem.prev()[0];if(o.containment){if(o.containment=="parent"){o.containment=this.helper[0].parentNode;}if(o.containment=="document"||o.containment=="window"){this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,$(o.containment=="document"?document:window).width()-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.element.css("marginRight"),10)||0),($(o.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.element.css("marginBottom"),10)||0)];}if(!(/^(document|window|parent)$/).test(o.containment)){var ce=$(o.containment)[0];var co=$(o.containment).offset();this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.parent.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.parent.top,co.left+Math.max(ce.scrollWidth,ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-this.offset.parent.left-this.helperProportions.width-this.margins.left-(parseInt(this.currentItem.css("marginRight"),10)||0),co.top+Math.max(ce.scrollHeight,ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-this.offset.parent.top-this.helperProportions.height-this.margins.top-(parseInt(this.currentItem.css("marginBottom"),10)||0)];}}if(o.placeholder){this.createPlaceholder();}this.propagate("start",e);this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};if(this.options.placeholder!="clone"){this.currentItem.css("visibility","hidden");}if(!noActivation){for(var i=this.containers.length-1;i>=0;i--){this.containers[i].propagate("activate",e,this);}}if($.ui.ddmanager){$.ui.ddmanager.current=this;}if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,e);}this.dragging=true;this.mouseDrag(e);return true;},convertPositionTo:function(d,pos){if(!pos){pos=this.position;}var mod=d=="absolute"?1:-1;return{top:(pos.top+this.offset.parent.top*mod-(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)*mod+this.margins.top*mod),left:(pos.left+this.offset.parent.left*mod-(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft)*mod+this.margins.left*mod)};},generatePosition:function(e){var o=this.options;var position={top:(e.pageY-this.offset.click.top-this.offset.parent.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)),left:(e.pageX-this.offset.click.left-this.offset.parent.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft))};if(!this.originalPosition){return position;}if(this.containment){if(position.left<this.containment[0]){position.left=this.containment[0];}if(position.top<this.containment[1]){position.top=this.containment[1];}if(position.left>this.containment[2]){position.left=this.containment[2];}if(position.top>this.containment[3]){position.top=this.containment[3];}}if(o.grid){var top=this.originalPosition.top+Math.round((position.top-this.originalPosition.top)/o.grid[1])*o.grid[1];position.top=this.containment?(!(top<this.containment[1]||top>this.containment[3])?top:(!(top<this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;var left=this.originalPosition.left+Math.round((position.left-this.originalPosition.left)/o.grid[0])*o.grid[0];position.left=this.containment?(!(left<this.containment[0]||left>this.containment[2])?left:(!(left<this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}return position;},mouseDrag:function(e){this.position=this.generatePosition(e);this.positionAbs=this.convertPositionTo("absolute");for(var i=this.items.length-1;i>=0;i--){var intersection=this.intersectsWithEdge(this.items[i]);if(!intersection){continue;}if(this.items[i].item[0]!=this.currentItem[0]&&this.currentItem[intersection==1?"next":"prev"]()[0]!=this.items[i].item[0]&&!contains(this.currentItem[0],this.items[i].item[0])&&(this.options.type=="semi-dynamic"?!contains(this.element[0],this.items[i].item[0]):true)){this.direction=intersection==1?"down":"up";this.rearrange(e,this.items[i]);this.propagate("change",e);break;}}this.contactContainers(e);this.propagate("sort",e);if(!this.options.axis||this.options.axis=="x"){this.helper[0].style.left=this.position.left+"px";}if(!this.options.axis||this.options.axis=="y"){this.helper[0].style.top=this.position.top+"px";}if($.ui.ddmanager){$.ui.ddmanager.drag(this,e);}return false;},mouseStop:function(e,noPropagation){if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,e);}if(this.options.revert){var self=this;var cur=self.currentItem.offset();if(self.placeholder){self.placeholder.animate({opacity:"hide"},(parseInt(this.options.revert,10)||500)-50);}$(this.helper).animate({left:cur.left-this.offset.parent.left-self.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:cur.top-this.offset.parent.top-self.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){self.propagate("stop",e,null,noPropagation);self.clear(e);});}else{this.propagate("stop",e,null,noPropagation);this.clear(e,noPropagation);}return false;},clear:function(e,noPropagation){if(this.domPosition!=this.currentItem.prev().not(".ui-sortable-helper")[0]){this.propagate("update",e,null,noPropagation);}if(!contains(this.element[0],this.currentItem[0])){if(this.domPosition==this.currentItem.prev().not(".ui-sortable-helper")[0]){this.propagate("update",e,null,noPropagation);}this.propagate("remove",e,null,noPropagation);for(var i=this.containers.length-1;i>=0;i--){if(contains(this.containers[i].element[0],this.currentItem[0])){this.containers[i].propagate("update",e,this,noPropagation);this.containers[i].propagate("receive",e,this,noPropagation);}}}for(var i=this.containers.length-1;i>=0;i--){this.containers[i].propagate("deactivate",e,this,noPropagation);if(this.containers[i].containerCache.over){this.containers[i].propagate("out",e,this);this.containers[i].containerCache.over=0;}}this.dragging=false;if(this.cancelHelperRemoval){return false;}$(this.currentItem).css("visibility","");if(this.placeholder){this.placeholder.remove();}this.helper.remove();return true;},rearrange:function(e,i,a){a?a.append(this.currentItem):i.item[this.direction=="down"?"before":"after"](this.currentItem);this.refreshPositions(true);if(this.options.placeholder){this.options.placeholder.update.call(this.element,this.currentItem,this.placeholder);}}}));$.extend($.ui.sortable,{getter:"serialize toArray",defaults:{tolerance:"guess",distance:0,delay:0,cancel:":input,button",items:"> *",zIndex:1000,dropOnEmpty:true,appendTo:"parent"}});$.ui.plugin.add("sortable","cursor",{start:function(e,ui){var t=$("body");if(t.css("cursor")){ui.options._cursor=t.css("cursor");}t.css("cursor",ui.options.cursor);},stop:function(e,ui){if(ui.options._cursor){$("body").css("cursor",ui.options._cursor);}}});$.ui.plugin.add("sortable","zIndex",{start:function(e,ui){var t=ui.helper;if(t.css("zIndex")){ui.options._zIndex=t.css("zIndex");}t.css("zIndex",ui.options.zIndex);},stop:function(e,ui){if(ui.options._zIndex){$(ui.helper).css("zIndex",ui.options._zIndex);}}});$.ui.plugin.add("sortable","opacity",{start:function(e,ui){var t=ui.helper;if(t.css("opacity")){ui.options._opacity=t.css("opacity");}t.css("opacity",ui.options.opacity);},stop:function(e,ui){if(ui.options._opacity){$(ui.helper).css("opacity",ui.options._opacity);}}});$.ui.plugin.add("sortable","scroll",{start:function(e,ui){var o=ui.options;var i=$(this).data("sortable");o.scrollSensitivity=o.scrollSensitivity||20;o.scrollSpeed=o.scrollSpeed||20;i.overflowY=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||(/auto|scroll/).test(el.css("overflow-y"))){return el;}el=el.parent();}while(el[0].parentNode);return $(document);}(i.currentItem);i.overflowX=function(el){do{if(/auto|scroll/.test(el.css("overflow"))||(/auto|scroll/).test(el.css("overflow-x"))){return el;}el=el.parent();}while(el[0].parentNode);return $(document);}(i.currentItem);if(i.overflowY[0]!=document&&i.overflowY[0].tagName!="HTML"){i.overflowYOffset=i.overflowY.offset();}if(i.overflowX[0]!=document&&i.overflowX[0].tagName!="HTML"){i.overflowXOffset=i.overflowX.offset();}},sort:function(e,ui){var o=ui.options;var i=$(this).data("sortable");if(i.overflowY[0]!=document&&i.overflowY[0].tagName!="HTML"){if((i.overflowYOffset.top+i.overflowY[0].offsetHeight)-e.pageY<o.scrollSensitivity){i.overflowY[0].scrollTop=i.overflowY[0].scrollTop+o.scrollSpeed;}if(e.pageY-i.overflowYOffset.top<o.scrollSensitivity){i.overflowY[0].scrollTop=i.overflowY[0].scrollTop-o.scrollSpeed;}}else{if(e.pageY-$(document).scrollTop()<o.scrollSensitivity){$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}if($(window).height()-(e.pageY-$(document).scrollTop())<o.scrollSensitivity){$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}if(i.overflowX[0]!=document&&i.overflowX[0].tagName!="HTML"){if((i.overflowXOffset.left+i.overflowX[0].offsetWidth)-e.pageX<o.scrollSensitivity){i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft+o.scrollSpeed;}if(e.pageX-i.overflowXOffset.left<o.scrollSensitivity){i.overflowX[0].scrollLeft=i.overflowX[0].scrollLeft-o.scrollSpeed;}}else{if(e.pageX-$(document).scrollLeft()<o.scrollSensitivity){$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}if($(window).width()-(e.pageX-$(document).scrollLeft())<o.scrollSensitivity){$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}});})(jQuery);